import{d as F4,r as hC,F as Awe,z as uce,D as GV,ap as AAe,bx as TAe,o as ny,e as V_,ai as Twe,f as KV,h as Xh,w as ey,g as CN,i as R4,B as OAe,N as _Ae,A as mpe,by as $Ae,bz as DAe,bA as vpe,E as BAe,s as NAe,_ as Owe,bB as PAe,bC as FAe,c as RAe,G as Cne,L as Sne}from"./index.c7a3d020.js";import"./index.56b6538b.js";import{C as MAe}from"./index.4e8bc988.js";import{R as IAe,a as LAe}from"./index.0f255d9a.js";/* empty css              */var xne;if(typeof global>"u"){if("ActiveXObject"in window){var bpe="\u62B1\u6B49\uFF0CwangEditor V5+ \u7248\u672C\u5F00\u59CB\uFF0C\u4E0D\u5728\u652F\u6301 IE \u6D4F\u89C8\u5668";bpe+=`
 Sorry, wangEditor V5+ versions do not support IE browser.`,console.error(bpe)}ype(),wpe()}else global&&((xne=global.navigator)===null||xne===void 0?void 0:xne.userAgent.match("QQBrowser"))&&(ype(),wpe());function ype(){typeof globalThis>"u"&&(window.globalThis=window)}function wpe(){typeof AggregateError>"u"&&(window.AggregateError=function(e,o){var s=new Error(o);return s.errors=e,s})}if(typeof global=="object"){var HAe=Object.getOwnPropertyDescriptor(global,"window");(!global.window||HAe.set)&&(global.window=global,global.requestAnimationFrame=function(){},global.navigator={userAgent:""},global.location={hostname:"0.0.0.0",port:0,protocol:"http:"},global.btoa=function(){},global.crypto={getRandomValues:function(e){return nodeCrypto.randomFillSync(e)}}),global.document!=null&&global.document.getElementsByTagName==null&&(global.document.getElementsByTagName=function(){return[]})}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Cpe(e){return Object.prototype.toString.call(e)==="[object Object]"}function Bf(e){var o,s;return Cpe(e)===!1?!1:(o=e.constructor,o===void 0?!0:(s=o.prototype,!(Cpe(s)===!1||s.hasOwnProperty("isPrototypeOf")===!1)))}function ef(e){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];{var c=GAe[e],d=c?typeof c=="function"?c.apply(null,s):c:"unknown error nr: "+e;throw Error("[Immer] "+d)}}function C4(e){return!!e&&!!e[np]}function S4(e){return!!e&&(function(o){if(!o||typeof o!="object")return!1;var s=Object.getPrototypeOf(o);if(s===null)return!0;var l=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return l===Object||typeof l=="function"&&Function.toString.call(l)===KAe}(e)||Array.isArray(e)||!!e[_pe]||!!e.constructor[_pe]||fce(e)||dce(e))}function WN(e,o,s){s===void 0&&(s=!1),U_(e)===0?(s?Object.keys:vce)(e).forEach(function(l){s&&typeof l=="symbol"||o(l,e[l],e)}):e.forEach(function(l,c){return o(c,l,e)})}function U_(e){var o=e[np];return o?o.i>3?o.i-4:o.i:Array.isArray(e)?1:fce(e)?2:dce(e)?3:0}function sae(e,o){return U_(e)===2?e.has(o):Object.prototype.hasOwnProperty.call(e,o)}function jAe(e,o){return U_(e)===2?e.get(o):e[o]}function _we(e,o,s){var l=U_(e);l===2?e.set(o,s):l===3?(e.delete(o),e.add(s)):e[o]=s}function zAe(e,o){return e===o?e!==0||1/e==1/o:e!=e&&o!=o}function fce(e){return qAe&&e instanceof Map}function dce(e){return ZAe&&e instanceof Set}function zE(e){return e.o||e.t}function hce(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var o=YAe(e);delete o[np];for(var s=vce(o),l=0;l<s.length;l++){var c=s[l],d=o[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(o[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),o)}function pce(e,o){return o===void 0&&(o=!1),gce(e)||C4(e)||!S4(e)||(U_(e)>1&&(e.set=e.add=e.clear=e.delete=VAe),Object.freeze(e),o&&WN(e,function(s,l){return pce(l,!0)},!0)),e}function VAe(){ef(2)}function gce(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function sy(e){var o=XAe[e];return o||ef(18,e),o}function Spe(){return v_||ef(0),v_}function Ene(e,o){o&&(sy("Patches"),e.u=[],e.s=[],e.v=o)}function YV(e){aae(e),e.p.forEach(UAe),e.p=null}function aae(e){e===v_&&(v_=e.l)}function xpe(e){return v_={p:[],l:v_,h:e,m:!0,_:0}}function UAe(e){var o=e[np];o.i===0||o.i===1?o.j():o.O=!0}function kne(e,o){o._=o.p.length;var s=o.p[0],l=e!==void 0&&e!==s;return o.h.g||sy("ES5").S(o,e,l),l?(s[np].P&&(YV(o),ef(4)),S4(e)&&(e=XV(o,e),o.l||JV(o,e)),o.u&&sy("Patches").M(s[np],e,o.u,o.s)):e=XV(o,s,[]),YV(o),o.u&&o.v(o.u,o.s),e!==$we?e:void 0}function XV(e,o,s){if(gce(o))return o;var l=o[np];if(!l)return WN(o,function(d,p){return Epe(e,l,o,d,p,s)},!0),o;if(l.A!==e)return o;if(!l.P)return JV(e,l.t,!0),l.t;if(!l.I){l.I=!0,l.A._--;var c=l.i===4||l.i===5?l.o=hce(l.k):l.o;WN(l.i===3?new Set(c):c,function(d,p){return Epe(e,l,c,d,p,s)}),JV(e,c,!1),s&&e.u&&sy("Patches").R(l,s,e.u,e.s)}return l.o}function Epe(e,o,s,l,c,d){if(c===s&&ef(5),C4(c)){var p=XV(e,c,d&&o&&o.i!==3&&!sae(o.D,l)?d.concat(l):void 0);if(_we(s,l,p),!C4(p))return;e.m=!1}if(S4(c)&&!gce(c)){if(!e.h.F&&e._<1)return;XV(e,c),o&&o.A.l||JV(e,c)}}function JV(e,o,s){s===void 0&&(s=!1),e.h.F&&e.m&&pce(o,s)}function Ane(e,o){var s=e[np];return(s?zE(s):e)[o]}function kpe(e,o){if(o in e)for(var s=Object.getPrototypeOf(e);s;){var l=Object.getOwnPropertyDescriptor(s,o);if(l)return l;s=Object.getPrototypeOf(s)}}function iae(e){e.P||(e.P=!0,e.l&&iae(e.l))}function Tne(e){e.o||(e.o=hce(e.t))}function lae(e,o,s){var l=fce(o)?sy("MapSet").N(o,s):dce(o)?sy("MapSet").T(o,s):e.g?function(c,d){var p=Array.isArray(c),v={i:p?1:0,A:d?d.A:Spe(),P:!1,I:!1,D:{},l:d,t:c,k:null,o:null,j:null,C:!1},y=v,S=CV;p&&(y=[v],S=SV);var x=Proxy.revocable(y,S),T=x.revoke,k=x.proxy;return v.k=k,v.j=T,k}(o,s):sy("ES5").J(o,s);return(s?s.A:Spe()).p.push(l),l}function WAe(e){return C4(e)||ef(22,e),function o(s){if(!S4(s))return s;var l,c=s[np],d=U_(s);if(c){if(!c.P&&(c.i<4||!sy("ES5").K(c)))return c.t;c.I=!0,l=Ape(s,d),c.I=!1}else l=Ape(s,d);return WN(l,function(p,v){c&&jAe(c.t,p)===v||_we(l,p,o(v))}),d===3?new Set(l):l}(e)}function Ape(e,o){switch(o){case 2:return new Map(e);case 3:return Array.from(e)}return hce(e)}var Tpe,v_,mce=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",qAe=typeof Map<"u",ZAe=typeof Set<"u",Ope=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",$we=mce?Symbol.for("immer-nothing"):((Tpe={})["immer-nothing"]=!0,Tpe),_pe=mce?Symbol.for("immer-draftable"):"__$immer_draftable",np=mce?Symbol.for("immer-state"):"__$immer_state",GAe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},KAe=""+Object.prototype.constructor,vce=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,YAe=Object.getOwnPropertyDescriptors||function(e){var o={};return vce(e).forEach(function(s){o[s]=Object.getOwnPropertyDescriptor(e,s)}),o},XAe={},CV={get:function(e,o){if(o===np)return e;var s=zE(e);if(!sae(s,o))return function(c,d,p){var v,y=kpe(d,p);return y?"value"in y?y.value:(v=y.get)===null||v===void 0?void 0:v.call(c.k):void 0}(e,s,o);var l=s[o];return e.I||!S4(l)?l:l===Ane(e.t,o)?(Tne(e),e.o[o]=lae(e.A.h,l,e)):l},has:function(e,o){return o in zE(e)},ownKeys:function(e){return Reflect.ownKeys(zE(e))},set:function(e,o,s){var l=kpe(zE(e),o);if(l!=null&&l.set)return l.set.call(e.k,s),!0;if(!e.P){var c=Ane(zE(e),o),d=c==null?void 0:c[np];if(d&&d.t===s)return e.o[o]=s,e.D[o]=!1,!0;if(zAe(s,c)&&(s!==void 0||sae(e.t,o)))return!0;Tne(e),iae(e)}return e.o[o]===s&&typeof s!="number"&&(s!==void 0||o in e.o)||(e.o[o]=s,e.D[o]=!0,!0)},deleteProperty:function(e,o){return Ane(e.t,o)!==void 0||o in e.t?(e.D[o]=!1,Tne(e),iae(e)):delete e.D[o],e.o&&delete e.o[o],!0},getOwnPropertyDescriptor:function(e,o){var s=zE(e),l=Reflect.getOwnPropertyDescriptor(s,o);return l&&{writable:!0,configurable:e.i!==1||o!=="length",enumerable:l.enumerable,value:s[o]}},defineProperty:function(){ef(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ef(12)}},SV={};WN(CV,function(e,o){SV[e]=function(){return arguments[0]=arguments[0][0],o.apply(this,arguments)}}),SV.deleteProperty=function(e,o){return isNaN(parseInt(o))&&ef(13),CV.deleteProperty.call(this,e[0],o)},SV.set=function(e,o,s){return o!=="length"&&isNaN(parseInt(o))&&ef(14),CV.set.call(this,e[0],o,s,e[0])};var JAe=function(){function e(s){var l=this;this.g=Ope,this.F=!0,this.produce=function(c,d,p){if(typeof c=="function"&&typeof d!="function"){var v=d;d=c;var y=l;return function(A){var F=this;A===void 0&&(A=v);for(var N=arguments.length,D=Array(N>1?N-1:0),B=1;B<N;B++)D[B-1]=arguments[B];return y.produce(A,function(O){var P;return(P=d).call.apply(P,[F,O].concat(D))})}}var S;if(typeof d!="function"&&ef(6),p!==void 0&&typeof p!="function"&&ef(7),S4(c)){var x=xpe(l),T=lae(l,c,void 0),k=!0;try{S=d(T),k=!1}finally{k?YV(x):aae(x)}return typeof Promise<"u"&&S instanceof Promise?S.then(function(A){return Ene(x,p),kne(A,x)},function(A){throw YV(x),A}):(Ene(x,p),kne(S,x))}if(!c||typeof c!="object")return(S=d(c))===$we?void 0:(S===void 0&&(S=c),l.F&&pce(S,!0),S);ef(21,c)},this.produceWithPatches=function(c,d){return typeof c=="function"?function(y){for(var S=arguments.length,x=Array(S>1?S-1:0),T=1;T<S;T++)x[T-1]=arguments[T];return l.produceWithPatches(y,function(k){return c.apply(void 0,[k].concat(x))})}:[l.produce(c,d,function(y,S){p=y,v=S}),p,v];var p,v},typeof(s==null?void 0:s.useProxies)=="boolean"&&this.setUseProxies(s.useProxies),typeof(s==null?void 0:s.autoFreeze)=="boolean"&&this.setAutoFreeze(s.autoFreeze)}var o=e.prototype;return o.createDraft=function(s){S4(s)||ef(8),C4(s)&&(s=WAe(s));var l=xpe(this),c=lae(this,s,void 0);return c[np].C=!0,aae(l),c},o.finishDraft=function(s,l){var c=s&&s[np];c&&c.C||ef(9),c.I&&ef(10);var d=c.A;return Ene(d,l),kne(void 0,d)},o.setAutoFreeze=function(s){this.F=s},o.setUseProxies=function(s){s&&!Ope&&ef(20),this.g=s},o.applyPatches=function(s,l){var c;for(c=l.length-1;c>=0;c--){var d=l[c];if(d.path.length===0&&d.op==="replace"){s=d.value;break}}c>-1&&(l=l.slice(c+1));var p=sy("Patches").$;return C4(s)?p(s,l):this.produce(s,function(v){return p(v,l)})},e}(),op=new JAe,LW=op.produce;op.produceWithPatches.bind(op);op.setAutoFreeze.bind(op);op.setUseProxies.bind(op);op.applyPatches.bind(op);var $pe=op.createDraft.bind(op),Dpe=op.finishDraft.bind(op);function qv(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}var QV=new WeakMap,oB=new WeakMap,Bpe=new WeakMap,Npe=new WeakMap,Ppe=new WeakMap,Fpe=new WeakMap;function Rpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Ez(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Rpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var QAe=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:o=>{for(var s of ze.pathRefs(e))$Te.transform(s,o);for(var l of ze.pointRefs(e))DTe.transform(l,o);for(var c of ze.rangeRefs(e))PTe.transform(c,o);var d=new Set,p=[],v=A=>{if(A){var F=A.join(",");d.has(F)||(d.add(F),p.push(A))}},y=QV.get(e)||[],S=eTe(o);for(var x of y){var T=zt.transform(x,o);v(T)}for(var k of S)v(k);QV.set(e,p),Jt.transform(e,o),e.operations.push(o),ze.normalize(e),o.type==="set_selection"&&(e.marks=null),oB.get(e)||(oB.set(e,!0),Promise.resolve().then(()=>{oB.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(o,s)=>{var{selection:l}=e;if(l)if(yn.isExpanded(l))Jt.setNodes(e,{[o]:s},{match:Io.isText,split:!0});else{var c=Ez(Ez({},ze.marks(e)||{}),{},{[o]:s});e.marks=c,oB.get(e)||e.onChange()}},deleteBackward:o=>{var{selection:s}=e;s&&yn.isCollapsed(s)&&Jt.delete(e,{unit:o,reverse:!0})},deleteForward:o=>{var{selection:s}=e;s&&yn.isCollapsed(s)&&Jt.delete(e,{unit:o})},deleteFragment:o=>{var{selection:s}=e;s&&yn.isExpanded(s)&&Jt.delete(e,{reverse:o==="backward"})},getFragment:()=>{var{selection:o}=e;return o?yo.fragment(e,o):[]},insertBreak:()=>{Jt.splitNodes(e,{always:!0})},insertFragment:o=>{Jt.insertFragment(e,o)},insertNode:o=>{Jt.insertNodes(e,o)},insertText:o=>{var{selection:s,marks:l}=e;if(s){if(l){var c=Ez({text:o},l);Jt.insertNodes(e,c)}else Jt.insertText(e,o);e.marks=null}},normalizeNode:o=>{var[s,l]=o;if(!Io.isText(s)){if(sr.isElement(s)&&s.children.length===0){var c={text:""};Jt.insertNodes(e,c,{at:l.concat(0),voids:!0});return}for(var d=ze.isEditor(s)?!1:sr.isElement(s)&&(e.isInline(s)||s.children.length===0||Io.isText(s.children[0])||e.isInline(s.children[0])),p=0,v=0;v<s.children.length;v++,p++){var y=yo.get(e,l);if(!Io.isText(y)){var S=s.children[v],x=y.children[p-1],T=v===s.children.length-1,k=Io.isText(S)||sr.isElement(S)&&e.isInline(S);if(k!==d)Jt.removeNodes(e,{at:l.concat(p),voids:!0}),p--;else if(sr.isElement(S)){if(e.isInline(S)){if(x==null||!Io.isText(x)){var A={text:""};Jt.insertNodes(e,A,{at:l.concat(p),voids:!0}),p++}else if(T){var F={text:""};Jt.insertNodes(e,F,{at:l.concat(p+1),voids:!0}),p++}}}else x!=null&&Io.isText(x)&&(Io.equals(S,x,{loose:!0})?(Jt.mergeNodes(e,{at:l.concat(p),voids:!0}),p--):x.text===""?(Jt.removeNodes(e,{at:l.concat(p-1),voids:!0}),p--):S.text===""&&(Jt.removeNodes(e,{at:l.concat(p),voids:!0}),p--))}}}},removeMark:o=>{var{selection:s}=e;if(s)if(yn.isExpanded(s))Jt.unsetNodes(e,o,{match:Io.isText,split:!0});else{var l=Ez({},ze.marks(e)||{});delete l[o],e.marks=l,oB.get(e)||e.onChange()}}};return e},eTe=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:o}=e;return zt.levels(o)}case"insert_node":{var{node:s,path:l}=e,c=zt.levels(l),d=Io.isText(s)?[]:Array.from(yo.nodes(s),ke=>{var[,ae]=ke;return l.concat(ae)});return[...c,...d]}case"merge_node":{var{path:p}=e,v=zt.ancestors(p),y=zt.previous(p);return[...v,y]}case"move_node":{var{path:S,newPath:x}=e;if(zt.equals(S,x))return[];var T=[],k=[];for(var A of zt.ancestors(S)){var F=zt.transform(A,e);T.push(F)}for(var N of zt.ancestors(x)){var D=zt.transform(N,e);k.push(D)}var B=k[k.length-1],O=x[x.length-1],P=B.concat(O);return[...T,...k,P]}case"remove_node":{var{path:I}=e,z=zt.ancestors(I);return[...z]}case"split_node":{var{path:K}=e,j=zt.levels(K),oe=zt.next(K);return[...j,oe]}default:return[]}};function tTe(e,o){if(e==null)return{};var s={},l=Object.keys(e),c,d;for(d=0;d<l.length;d++)c=l[d],!(o.indexOf(c)>=0)&&(s[c]=e[c]);return s}function ly(e,o){if(e==null)return{};var s=tTe(e,o),l,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)l=d[c],!(o.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}var bce=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=!s,c=s?iTe(o):o,d=bs.None,p=bs.None,v=0,y=null,S=null;for(var x of c){var T=x.codePointAt(0);if(!T)break;var k=yTe(x,T);if([d,p]=l?[p,k]:[k,d],QO(d,bs.ZWJ)&&QO(p,bs.ExtPict)&&(l?y=Mpe(o.substring(0,v)):y=Mpe(o.substring(0,o.length-v)),!y)||QO(d,bs.RI)&&QO(p,bs.RI)&&(S!==null?S=!S:l?S=!0:S=ETe(o.substring(0,o.length-v)),!S)||d!==bs.None&&p!==bs.None&&CTe(d,p))break;v+=x.length}return v||1},nTe=/\s/,oTe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,rTe=/['\u2018\u2019]/,sTe=function(o){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=0,c=!1;o.length>0;){var d=bce(o,s),[p,v]=yce(o,d,s);if(aTe(p,v,s))c=!0,l+=d;else if(!c)l+=d;else break;o=v}return l},yce=(e,o,s)=>{if(s){var l=e.length-o;return[e.slice(l,e.length),e.slice(0,l)]}return[e.slice(0,o),e.slice(o)]},aTe=function e(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(nTe.test(o))return!1;if(rTe.test(o)){var c=bce(s,l),[d,p]=yce(s,c,l);if(e(d,p,l))return!0}return!oTe.test(o)},iTe=function*(o){for(var s=o.length-1,l=0;l<o.length;l++){var c=o.charAt(s-l);if(cTe(c.charCodeAt(0))){var d=o.charAt(s-l-1);if(lTe(d.charCodeAt(0))){yield d+c,l++;continue}}yield c}},lTe=e=>e>=55296&&e<=56319,cTe=e=>e>=56320&&e<=57343,bs;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(bs||(bs={}));var uTe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,fTe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,dTe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,hTe=/^[\u1100-\u115F\uA960-\uA97C]$/,pTe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,gTe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,mTe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,vTe=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,bTe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,yTe=(e,o)=>{var s=bs.Any;return e.search(uTe)!==-1&&(s|=bs.Extend),o===8205&&(s|=bs.ZWJ),o>=127462&&o<=127487&&(s|=bs.RI),e.search(fTe)!==-1&&(s|=bs.Prepend),e.search(dTe)!==-1&&(s|=bs.SpacingMark),e.search(hTe)!==-1&&(s|=bs.L),e.search(pTe)!==-1&&(s|=bs.V),e.search(gTe)!==-1&&(s|=bs.T),e.search(mTe)!==-1&&(s|=bs.LV),e.search(vTe)!==-1&&(s|=bs.LVT),e.search(bTe)!==-1&&(s|=bs.ExtPict),s};function QO(e,o){return(e&o)!==0}var wTe=[[bs.L,bs.L|bs.V|bs.LV|bs.LVT],[bs.LV|bs.V,bs.V|bs.T],[bs.LVT|bs.T,bs.T],[bs.Any,bs.Extend|bs.ZWJ],[bs.Any,bs.SpacingMark],[bs.Prepend,bs.Any],[bs.ZWJ,bs.ExtPict],[bs.RI,bs.RI]];function CTe(e,o){return wTe.findIndex(s=>QO(e,s[0])&&QO(o,s[1]))===-1}var STe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Mpe=e=>e.search(STe)!==-1,xTe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,ETe=e=>{var o=e.match(xTe);if(o===null)return!1;var s=o[0].length/2;return s%2===1},Ipe=e=>Bf(e)&&yo.isNodeList(e.children)&&!ze.isEditor(e),sr={isAncestor(e){return Bf(e)&&yo.isNodeList(e.children)},isElement:Ipe,isElementList(e){return Array.isArray(e)&&e.every(o=>sr.isElement(o))},isElementProps(e){return e.children!==void 0},isElementType:function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Ipe(o)&&o[l]===s},matches(e,o){for(var s in o)if(s!=="children"&&e[s]!==o[s])return!1;return!0}},kTe=["text"],ATe=["text"];function Lpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function vO(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Lpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Hpe=new WeakMap,ze={above(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:s=!1,mode:l="lowest",at:c=e.selection,match:d}=o;if(!!c){var p=ze.path(e,c),v=l==="lowest";for(var[y,S]of ze.levels(e,{at:p,voids:s,match:d,reverse:v}))if(!Io.isText(y)&&!zt.equals(p,S))return[y,S]}},addMark(e,o,s){e.addMark(o,s)},after(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.point(e,o,{edge:"end"}),c=ze.end(e,[]),d={anchor:l,focus:c},{distance:p=1}=s,v=0,y;for(var S of ze.positions(e,vO(vO({},s),{},{at:d}))){if(v>p)break;v!==0&&(y=S),v++}return y},before(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.start(e,[]),c=ze.point(e,o,{edge:"start"}),d={anchor:l,focus:c},{distance:p=1}=s,v=0,y;for(var S of ze.positions(e,vO(vO({},s),{},{at:d,reverse:!0}))){if(v>p)break;v!==0&&(y=S),v++}return y},deleteBackward(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:s="character"}=o;e.deleteBackward(s)},deleteForward(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:s="character"}=o;e.deleteForward(s)},deleteFragment(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:s="forward"}=o;e.deleteFragment(s)},edges(e,o){return[ze.start(e,o),ze.end(e,o)]},end(e,o){return ze.point(e,o,{edge:"end"})},first(e,o){var s=ze.path(e,o,{edge:"start"});return ze.node(e,s)},fragment(e,o){var s=ze.range(e,o),l=yo.fragment(e,s);return l},hasBlocks(e,o){return o.children.some(s=>ze.isBlock(e,s))},hasInlines(e,o){return o.children.some(s=>Io.isText(s)||ze.isInline(e,s))},hasTexts(e,o){return o.children.every(s=>Io.isText(s))},insertBreak(e){e.insertBreak()},insertFragment(e,o){e.insertFragment(o)},insertNode(e,o){e.insertNode(o)},insertText(e,o){e.insertText(o)},isBlock(e,o){return sr.isElement(o)&&!e.isInline(o)},isEditor(e){if(!Bf(e))return!1;var o=Hpe.get(e);if(o!==void 0)return o;var s=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||Bf(e.marks))&&(e.selection===null||yn.isRange(e.selection))&&yo.isNodeList(e.children)&&qw.isOperationList(e.operations);return Hpe.set(e,s),s},isEnd(e,o,s){var l=ze.end(e,s);return Ds.equals(o,l)},isEdge(e,o,s){return ze.isStart(e,o,s)||ze.isEnd(e,o,s)},isEmpty(e,o){var{children:s}=o,[l]=s;return s.length===0||s.length===1&&Io.isText(l)&&l.text===""&&!e.isVoid(o)},isInline(e,o){return sr.isElement(o)&&e.isInline(o)},isNormalizing(e){var o=Bpe.get(e);return o===void 0?!0:o},isStart(e,o,s){if(o.offset!==0)return!1;var l=ze.start(e,s);return Ds.equals(o,l)},isVoid(e,o){return sr.isElement(o)&&e.isVoid(o)},last(e,o){var s=ze.path(e,o,{edge:"end"});return ze.node(e,s)},leaf(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.path(e,o,s),c=yo.leaf(e,l);return[c,l]},*levels(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:s=e.selection,reverse:l=!1,voids:c=!1}=o,{match:d}=o;if(d==null&&(d=()=>!0),!!s){var p=[],v=ze.path(e,s);for(var[y,S]of yo.levels(e,v))if(!!d(y,S)&&(p.push([y,S]),!c&&ze.isVoid(e,y)))break;l&&p.reverse(),yield*p}},marks(e){var{marks:o,selection:s}=e;if(!s)return null;if(o)return o;if(yn.isExpanded(s)){var[l]=ze.nodes(e,{match:Io.isText});if(l){var[c]=l,d=ly(c,kTe);return d}else return{}}var{anchor:p}=s,{path:v}=p,[y]=ze.leaf(e,v);if(p.offset===0){var S=ze.previous(e,{at:v,match:Io.isText}),x=ze.above(e,{match:N=>ze.isBlock(e,N)});if(S&&x){var[T,k]=S,[,A]=x;zt.isAncestor(A,k)&&(y=T)}}var F=ly(y,ATe);return F},next(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:s="lowest",voids:l=!1}=o,{match:c,at:d=e.selection}=o;if(!!d){var p=ze.after(e,d,{voids:l});if(!!p){var[,v]=ze.last(e,[]),y=[p.path,v];if(zt.isPath(d)&&d.length===0)throw new Error("Cannot get the next node from the root node!");if(c==null)if(zt.isPath(d)){var[S]=ze.parent(e,d);c=T=>S.children.includes(T)}else c=()=>!0;var[x]=ze.nodes(e,{at:y,match:c,mode:s,voids:l});return x}}},node(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.path(e,o,s),c=yo.get(e,l);return[c,l]},*nodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:s=e.selection,mode:l="all",universal:c=!1,reverse:d=!1,voids:p=!1}=o,{match:v}=o;if(v||(v=()=>!0),!!s){var y,S;if(TTe.isSpan(s))y=s[0],S=s[1];else{var x=ze.path(e,s,{edge:"start"}),T=ze.path(e,s,{edge:"end"});y=d?T:x,S=d?x:T}var k=yo.nodes(e,{reverse:d,from:y,to:S,pass:P=>{var[I]=P;return p?!1:ze.isVoid(e,I)}}),A=[],F;for(var[N,D]of k){var B=F&&zt.compare(D,F[1])===0;if(!(l==="highest"&&B)){if(!v(N,D)){if(c&&!B&&Io.isText(N))return;continue}if(l==="lowest"&&B){F=[N,D];continue}var O=l==="lowest"?F:[N,D];O&&(c?A.push(O):yield O),F=[N,D]}}l==="lowest"&&F&&(c?A.push(F):yield F),c&&(yield*A)}},normalize(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:s=!1}=o,l=d=>QV.get(d)||[];if(!!ze.isNormalizing(e)){if(s){var c=Array.from(yo.nodes(e),d=>{var[,p]=d;return p});QV.set(e,c)}l(e).length!==0&&ze.withoutNormalizing(e,()=>{for(var d of l(e))if(yo.has(e,d)){var p=ze.node(e,d),[v,y]=p;sr.isElement(v)&&v.children.length===0&&e.normalizeNode(p)}for(var S=l(e).length*42,x=0;l(e).length!==0;){if(x>S)throw new Error(`
            Could not completely normalize the editor after `.concat(S,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var T=l(e).pop();if(yo.has(e,T)){var k=ze.node(e,T);e.normalizeNode(k)}x++}})}},parent(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.path(e,o,s),c=zt.parent(l),d=ze.node(e,c);return d},path(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:l,edge:c}=s;if(zt.isPath(o)){if(c==="start"){var[,d]=yo.first(e,o);o=d}else if(c==="end"){var[,p]=yo.last(e,o);o=p}}return yn.isRange(o)&&(c==="start"?o=yn.start(o):c==="end"?o=yn.end(o):o=zt.common(o.anchor.path,o.focus.path)),Ds.isPoint(o)&&(o=o.path),l!=null&&(o=o.slice(0,l)),o},hasPath(e,o){return yo.has(e,o)},pathRef(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:l="forward"}=s,c={current:o,affinity:l,unref(){var{current:p}=c,v=ze.pathRefs(e);return v.delete(c),c.current=null,p}},d=ze.pathRefs(e);return d.add(c),c},pathRefs(e){var o=Npe.get(e);return o||(o=new Set,Npe.set(e,o)),o},point(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:l="start"}=s;if(zt.isPath(o)){var c;if(l==="end"){var[,d]=yo.last(e,o);c=d}else{var[,p]=yo.first(e,o);c=p}var v=yo.get(e,c);if(!Io.isText(v))throw new Error("Cannot get the ".concat(l," point in the node at path [").concat(o,"] because it has no ").concat(l," text node."));return{path:c,offset:l==="end"?v.text.length:0}}if(yn.isRange(o)){var[y,S]=yn.edges(o);return l==="start"?y:S}return o},pointRef(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:l="forward"}=s,c={current:o,affinity:l,unref(){var{current:p}=c,v=ze.pointRefs(e);return v.delete(c),c.current=null,p}},d=ze.pointRefs(e);return d.add(c),c},pointRefs(e){var o=Ppe.get(e);return o||(o=new Set,Ppe.set(e,o)),o},*positions(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:s=e.selection,unit:l="offset",reverse:c=!1,voids:d=!1}=o;if(!s)return;var p=ze.range(e,s),[v,y]=yn.edges(p),S=c?y:v,x=!1,T="",k=0,A=0,F=0;for(var[N,D]of ze.nodes(e,{at:s,reverse:c,voids:d})){if(sr.isElement(N)){if(!d&&e.isVoid(N)){yield ze.start(e,D);continue}if(e.isInline(N))continue;if(ze.hasInlines(e,N)){var B=zt.isAncestor(D,y.path)?y:ze.end(e,D),O=zt.isAncestor(D,v.path)?v:ze.start(e,D);T=ze.string(e,{anchor:O,focus:B},{voids:d}),x=!0}}if(Io.isText(N)){var P=zt.equals(D,S.path);for(P?(A=c?S.offset:N.text.length-S.offset,F=S.offset):(A=N.text.length,F=c?A:0),(P||x||l==="offset")&&(yield{path:D,offset:F},x=!1);;){if(k===0){if(T==="")break;k=I(T,l,c),T=yce(T,k,c)[1]}if(F=c?F-k:F+k,A=A-k,A<0){k=-A;break}k=0,yield{path:D,offset:F}}}}function I(z,K,j){return K==="character"?bce(z,j):K==="word"?sTe(z,j):K==="line"||K==="block"?z.length:1}},previous(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:s="lowest",voids:l=!1}=o,{match:c,at:d=e.selection}=o;if(!!d){var p=ze.before(e,d,{voids:l});if(!!p){var[,v]=ze.first(e,[]),y=[p.path,v];if(zt.isPath(d)&&d.length===0)throw new Error("Cannot get the previous node from the root node!");if(c==null)if(zt.isPath(d)){var[S]=ze.parent(e,d);c=T=>S.children.includes(T)}else c=()=>!0;var[x]=ze.nodes(e,{reverse:!0,at:y,match:c,mode:s,voids:l});return x}}},range(e,o,s){if(yn.isRange(o)&&!s)return o;var l=ze.start(e,o),c=ze.end(e,s||o);return{anchor:l,focus:c}},rangeRef(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:l="forward"}=s,c={current:o,affinity:l,unref(){var{current:p}=c,v=ze.rangeRefs(e);return v.delete(c),c.current=null,p}},d=ze.rangeRefs(e);return d.add(c),c},rangeRefs(e){var o=Fpe.get(e);return o||(o=new Set,Fpe.set(e,o)),o},removeMark(e,o){e.removeMark(o)},setNormalizing(e,o){Bpe.set(e,o)},start(e,o){return ze.point(e,o,{edge:"start"})},string(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:l=!1}=s,c=ze.range(e,o),[d,p]=yn.edges(c),v="";for(var[y,S]of ze.nodes(e,{at:c,match:Io.isText,voids:l})){var x=y.text;zt.equals(S,p.path)&&(x=x.slice(0,p.offset)),zt.equals(S,d.path)&&(x=x.slice(d.offset)),v+=x}return v},unhangRange(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:l=!1}=s,[c,d]=yn.edges(o);if(c.offset!==0||d.offset!==0||yn.isCollapsed(o))return o;var p=ze.above(e,{at:d,match:A=>ze.isBlock(e,A)}),v=p?p[1]:[],y=ze.start(e,[]),S={anchor:y,focus:d},x=!0;for(var[T,k]of ze.nodes(e,{at:S,match:Io.isText,reverse:!0,voids:l})){if(x){x=!1;continue}if(T.text!==""||zt.isBefore(k,v)){d={path:k,offset:T.text.length};break}}return{anchor:c,focus:d}},void(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ze.above(e,vO(vO({},o),{},{match:s=>ze.isVoid(e,s)}))},withoutNormalizing(e,o){var s=ze.isNormalizing(e);ze.setNormalizing(e,!1);try{o()}finally{ze.setNormalizing(e,s)}ze.normalize(e)}},TTe={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(zt.isPath)}},OTe=["children"],_Te=["text"],jpe=new WeakMap,yo={ancestor(e,o){var s=yo.get(e,o);if(Io.isText(s))throw new Error("Cannot get the ancestor node at path [".concat(o,"] because it refers to a text node instead: ").concat(s));return s},*ancestors(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var l of zt.ancestors(o,s)){var c=yo.ancestor(e,l),d=[c,l];yield d}},child(e,o){if(Io.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var s=e.children[o];if(s==null)throw new Error("Cannot get child at index `".concat(o,"` in node: ").concat(JSON.stringify(e)));return s},*children(e,o){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:l=!1}=s,c=yo.ancestor(e,o),{children:d}=c,p=l?d.length-1:0;l?p>=0:p<d.length;){var v=yo.child(c,p),y=o.concat(p);yield[v,y],p=l?p-1:p+1}},common(e,o,s){var l=zt.common(o,s),c=yo.get(e,l);return[c,l]},descendant(e,o){var s=yo.get(e,o);if(ze.isEditor(s))throw new Error("Cannot get the descendant node at path [".concat(o,"] because it refers to the root editor node instead: ").concat(s));return s},*descendants(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[s,l]of yo.nodes(e,o))l.length!==0&&(yield[s,l])},*elements(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[s,l]of yo.nodes(e,o))sr.isElement(s)&&(yield[s,l])},extractProps(e){if(sr.isAncestor(e)){var o=ly(e,OTe);return o}else{var o=ly(e,_Te);return o}},first(e,o){for(var s=o.slice(),l=yo.get(e,s);l&&!(Io.isText(l)||l.children.length===0);)l=l.children[0],s.push(0);return[l,s]},fragment(e,o){if(Io.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var s=LW({children:e.children},l=>{var[c,d]=yn.edges(o),p=yo.nodes(l,{reverse:!0,pass:k=>{var[,A]=k;return!yn.includes(o,A)}});for(var[,v]of p){if(!yn.includes(o,v)){var y=yo.parent(l,v),S=v[v.length-1];y.children.splice(S,1)}if(zt.equals(v,d.path)){var x=yo.leaf(l,v);x.text=x.text.slice(0,d.offset)}if(zt.equals(v,c.path)){var T=yo.leaf(l,v);T.text=T.text.slice(c.offset)}}ze.isEditor(l)&&(l.selection=null)});return s.children},get(e,o){for(var s=e,l=0;l<o.length;l++){var c=o[l];if(Io.isText(s)||!s.children[c])throw new Error("Cannot find a descendant at path [".concat(o,"] in node: ").concat(JSON.stringify(e)));s=s.children[c]}return s},has(e,o){for(var s=e,l=0;l<o.length;l++){var c=o[l];if(Io.isText(s)||!s.children[c])return!1;s=s.children[c]}return!0},isNode(e){return Io.isText(e)||sr.isElement(e)||ze.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var o=jpe.get(e);if(o!==void 0)return o;var s=e.every(l=>yo.isNode(l));return jpe.set(e,s),s},last(e,o){for(var s=o.slice(),l=yo.get(e,s);l&&!(Io.isText(l)||l.children.length===0);){var c=l.children.length-1;l=l.children[c],s.push(c)}return[l,s]},leaf(e,o){var s=yo.get(e,o);if(!Io.isText(s))throw new Error("Cannot get the leaf node at path [".concat(o,"] because it refers to a non-leaf node: ").concat(s));return s},*levels(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var l of zt.levels(o,s)){var c=yo.get(e,l);yield[c,l]}},matches(e,o){return sr.isElement(e)&&sr.isElementProps(o)&&sr.matches(e,o)||Io.isText(e)&&Io.isTextProps(o)&&Io.matches(e,o)},*nodes(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:s,reverse:l=!1}=o,{from:c=[],to:d}=o,p=new Set,v=[],y=e;!(d&&(l?zt.isBefore(v,d):zt.isAfter(v,d)));){if(p.has(y)||(yield[y,v]),!p.has(y)&&!Io.isText(y)&&y.children.length!==0&&(s==null||s([y,v])===!1)){p.add(y);var S=l?y.children.length-1:0;zt.isAncestor(v,c)&&(S=c[v.length]),v=v.concat(S),y=yo.get(e,v);continue}if(v.length===0)break;if(!l){var x=zt.next(v);if(yo.has(e,x)){v=x,y=yo.get(e,v);continue}}if(l&&v[v.length-1]!==0){var T=zt.previous(v);v=T,y=yo.get(e,v);continue}v=zt.parent(v),y=yo.get(e,v),p.add(y)}},parent(e,o){var s=zt.parent(o),l=yo.get(e,s);if(Io.isText(l))throw new Error("Cannot get the parent of path [".concat(o,"] because it does not exist in the root."));return l},string(e){return Io.isText(e)?e.text:e.children.map(yo.string).join("")},*texts(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[s,l]of yo.nodes(e,o))Io.isText(s)&&(yield[s,l])}};function zpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function El(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?zpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var qw={isNodeOperation(e){return qw.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Bf(e))return!1;switch(e.type){case"insert_node":return zt.isPath(e.path)&&yo.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&zt.isPath(e.path);case"merge_node":return typeof e.position=="number"&&zt.isPath(e.path)&&Bf(e.properties);case"move_node":return zt.isPath(e.path)&&zt.isPath(e.newPath);case"remove_node":return zt.isPath(e.path)&&yo.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&zt.isPath(e.path);case"set_node":return zt.isPath(e.path)&&Bf(e.properties)&&Bf(e.newProperties);case"set_selection":return e.properties===null&&yn.isRange(e.newProperties)||e.newProperties===null&&yn.isRange(e.properties)||Bf(e.properties)&&Bf(e.newProperties);case"split_node":return zt.isPath(e.path)&&typeof e.position=="number"&&Bf(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(o=>qw.isOperation(o))},isSelectionOperation(e){return qw.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return qw.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return El(El({},e),{},{type:"remove_node"});case"insert_text":return El(El({},e),{},{type:"remove_text"});case"merge_node":return El(El({},e),{},{type:"split_node",path:zt.previous(e.path)});case"move_node":{var{newPath:o,path:s}=e;if(zt.equals(o,s))return e;if(zt.isSibling(s,o))return El(El({},e),{},{path:o,newPath:s});var l=zt.transform(s,e),c=zt.transform(zt.next(s),e);return El(El({},e),{},{path:l,newPath:c})}case"remove_node":return El(El({},e),{},{type:"insert_node"});case"remove_text":return El(El({},e),{},{type:"insert_text"});case"set_node":{var{properties:d,newProperties:p}=e;return El(El({},e),{},{properties:p,newProperties:d})}case"set_selection":{var{properties:v,newProperties:y}=e;return v==null?El(El({},e),{},{properties:y,newProperties:null}):y==null?El(El({},e),{},{properties:null,newProperties:v}):El(El({},e),{},{properties:y,newProperties:v})}case"split_node":return El(El({},e),{},{type:"merge_node",path:zt.next(e.path)})}}},zt={ancestors(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:s=!1}=o,l=zt.levels(e,o);return s?l=l.slice(1):l=l.slice(0,-1),l},common(e,o){for(var s=[],l=0;l<e.length&&l<o.length;l++){var c=e[l],d=o[l];if(c!==d)break;s.push(c)}return s},compare(e,o){for(var s=Math.min(e.length,o.length),l=0;l<s;l++){if(e[l]<o[l])return-1;if(e[l]>o[l])return 1}return 0},endsAfter(e,o){var s=e.length-1,l=e.slice(0,s),c=o.slice(0,s),d=e[s],p=o[s];return zt.equals(l,c)&&d>p},endsAt(e,o){var s=e.length,l=e.slice(0,s),c=o.slice(0,s);return zt.equals(l,c)},endsBefore(e,o){var s=e.length-1,l=e.slice(0,s),c=o.slice(0,s),d=e[s],p=o[s];return zt.equals(l,c)&&d<p},equals(e,o){return e.length===o.length&&e.every((s,l)=>s===o[l])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,o){return zt.compare(e,o)===1},isAncestor(e,o){return e.length<o.length&&zt.compare(e,o)===0},isBefore(e,o){return zt.compare(e,o)===-1},isChild(e,o){return e.length===o.length+1&&zt.compare(e,o)===0},isCommon(e,o){return e.length<=o.length&&zt.compare(e,o)===0},isDescendant(e,o){return e.length>o.length&&zt.compare(e,o)===0},isParent(e,o){return e.length+1===o.length&&zt.compare(e,o)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,o){if(e.length!==o.length)return!1;var s=e.slice(0,-1),l=o.slice(0,-1),c=e[e.length-1],d=o[o.length-1];return c!==d&&zt.equals(s,l)},levels(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:s=!1}=o,l=[],c=0;c<=e.length;c++)l.push(e.slice(0,c));return s&&l.reverse(),l},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var o=e[e.length-1];return e.slice(0,-1).concat(o+1)},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var o=e[e.length-1];if(o<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(o-1)},relative(e,o){if(!zt.isAncestor(o,e)&&!zt.equals(e,o))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(o,"], because it is not above or equal to the path."));return e.slice(o.length)},transform(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return LW(e,l=>{var{affinity:c="forward"}=s;if(!(!e||(e==null?void 0:e.length)===0)){if(l===null)return null;switch(o.type){case"insert_node":{var{path:d}=o;(zt.equals(d,l)||zt.endsBefore(d,l)||zt.isAncestor(d,l))&&(l[d.length-1]+=1);break}case"remove_node":{var{path:p}=o;if(zt.equals(p,l)||zt.isAncestor(p,l))return null;zt.endsBefore(p,l)&&(l[p.length-1]-=1);break}case"merge_node":{var{path:v,position:y}=o;zt.equals(v,l)||zt.endsBefore(v,l)?l[v.length-1]-=1:zt.isAncestor(v,l)&&(l[v.length-1]-=1,l[v.length]+=y);break}case"split_node":{var{path:S,position:x}=o;if(zt.equals(S,l)){if(c==="forward")l[l.length-1]+=1;else if(c!=="backward")return null}else zt.endsBefore(S,l)?l[S.length-1]+=1:zt.isAncestor(S,l)&&e[S.length]>=x&&(l[S.length-1]+=1,l[S.length]-=x);break}case"move_node":{var{path:T,newPath:k}=o;if(zt.equals(T,k))return;if(zt.isAncestor(T,l)||zt.equals(T,l)){var A=k.slice();return zt.endsBefore(T,k)&&T.length<k.length&&(A[T.length-1]-=1),A.concat(l.slice(T.length))}else zt.isSibling(T,k)&&(zt.isAncestor(k,l)||zt.equals(k,l))?zt.endsBefore(T,l)?l[T.length-1]-=1:l[T.length-1]+=1:zt.endsBefore(k,l)||zt.equals(k,l)||zt.isAncestor(k,l)?(zt.endsBefore(T,l)&&(l[T.length-1]-=1),l[k.length-1]+=1):zt.endsBefore(T,l)&&(zt.equals(k,l)&&(l[k.length-1]+=1),l[T.length-1]-=1);break}}}})}},$Te={transform(e,o){var{current:s,affinity:l}=e;if(s!=null){var c=zt.transform(s,o,{affinity:l});e.current=c,c==null&&e.unref()}}};function Vpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Upe(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Vpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Vpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Ds={compare(e,o){var s=zt.compare(e.path,o.path);return s===0?e.offset<o.offset?-1:e.offset>o.offset?1:0:s},isAfter(e,o){return Ds.compare(e,o)===1},isBefore(e,o){return Ds.compare(e,o)===-1},equals(e,o){return e.offset===o.offset&&zt.equals(e.path,o.path)},isPoint(e){return Bf(e)&&typeof e.offset=="number"&&zt.isPath(e.path)},transform(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return LW(e,l=>{if(l===null)return null;var{affinity:c="forward"}=s,{path:d,offset:p}=l;switch(o.type){case"insert_node":case"move_node":{l.path=zt.transform(d,o,s);break}case"insert_text":{zt.equals(o.path,d)&&o.offset<=p&&(l.offset+=o.text.length);break}case"merge_node":{zt.equals(o.path,d)&&(l.offset+=o.position),l.path=zt.transform(d,o,s);break}case"remove_text":{zt.equals(o.path,d)&&o.offset<=p&&(l.offset-=Math.min(p-o.offset,o.text.length));break}case"remove_node":{if(zt.equals(o.path,d)||zt.isAncestor(o.path,d))return null;l.path=zt.transform(d,o,s);break}case"split_node":{if(zt.equals(o.path,d)){if(o.position===p&&c==null)return null;(o.position<p||o.position===p&&c==="forward")&&(l.offset-=o.position,l.path=zt.transform(d,o,Upe(Upe({},s),{},{affinity:"forward"})))}else l.path=zt.transform(d,o,s);break}}})}},DTe={transform(e,o){var{current:s,affinity:l}=e;if(s!=null){var c=Ds.transform(s,o,{affinity:l});e.current=c,c==null&&e.unref()}}},BTe=["anchor","focus"];function Wpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function NTe(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Wpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Wpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var yn={edges(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:s=!1}=o,{anchor:l,focus:c}=e;return yn.isBackward(e)===s?[l,c]:[c,l]},end(e){var[,o]=yn.edges(e);return o},equals(e,o){return Ds.equals(e.anchor,o.anchor)&&Ds.equals(e.focus,o.focus)},includes(e,o){if(yn.isRange(o)){if(yn.includes(e,o.anchor)||yn.includes(e,o.focus))return!0;var[s,l]=yn.edges(e),[c,d]=yn.edges(o);return Ds.isBefore(s,c)&&Ds.isAfter(l,d)}var[p,v]=yn.edges(e),y=!1,S=!1;return Ds.isPoint(o)?(y=Ds.compare(o,p)>=0,S=Ds.compare(o,v)<=0):(y=zt.compare(o,p.path)>=0,S=zt.compare(o,v.path)<=0),y&&S},intersection(e,o){var s=ly(e,BTe),[l,c]=yn.edges(e),[d,p]=yn.edges(o),v=Ds.isBefore(l,d)?d:l,y=Ds.isBefore(c,p)?c:p;return Ds.isBefore(y,v)?null:NTe({anchor:v,focus:y},s)},isBackward(e){var{anchor:o,focus:s}=e;return Ds.isAfter(o,s)},isCollapsed(e){var{anchor:o,focus:s}=e;return Ds.equals(o,s)},isExpanded(e){return!yn.isCollapsed(e)},isForward(e){return!yn.isBackward(e)},isRange(e){return Bf(e)&&Ds.isPoint(e.anchor)&&Ds.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[o]=yn.edges(e);return o},transform(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return LW(e,l=>{if(l===null)return null;var{affinity:c="inward"}=s,d,p;if(c==="inward"){var v=yn.isCollapsed(l);yn.isForward(l)?(d="forward",p=v?d:"backward"):(d="backward",p=v?d:"forward")}else c==="outward"?yn.isForward(l)?(d="backward",p="forward"):(d="forward",p="backward"):(d=c,p=c);var y=Ds.transform(l.anchor,o,{affinity:d}),S=Ds.transform(l.focus,o,{affinity:p});if(!y||!S)return null;l.anchor=y,l.focus=S})}},PTe={transform(e,o){var{current:s,affinity:l}=e;if(s!=null){var c=yn.transform(s,o,{affinity:l});e.current=c,c==null&&e.unref()}}},Dwe=(e,o)=>{for(var s in e){var l=e[s],c=o[s];if(Bf(l)&&Bf(c)){if(!Dwe(l,c))return!1}else if(Array.isArray(l)&&Array.isArray(c)){if(l.length!==c.length)return!1;for(var d=0;d<l.length;d++)if(l[d]!==c[d])return!1}else if(l!==c)return!1}for(var p in o)if(e[p]===void 0&&o[p]!==void 0)return!1;return!0},FTe=["text"],RTe=["anchor","focus"];function qpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Kb(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?qpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Io={equals(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:l=!1}=s;function c(d){var p=ly(d,FTe);return p}return Dwe(l?c(e):e,l?c(o):o)},isText(e){return Bf(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(o=>Io.isText(o))},isTextProps(e){return e.text!==void 0},matches(e,o){for(var s in o)if(s!=="text"&&(!e.hasOwnProperty(s)||e[s]!==o[s]))return!1;return!0},decorations(e,o){var s=[Kb({},e)];for(var l of o){var c=ly(l,RTe),[d,p]=yn.edges(l),v=[],y=0;for(var S of s){var{length:x}=S.text,T=y;if(y+=x,d.offset<=T&&p.offset>=y){Object.assign(S,c),v.push(S);continue}if(d.offset!==p.offset&&(d.offset===y||p.offset===T)||d.offset>y||p.offset<T||p.offset===T&&T!==0){v.push(S);continue}var k=S,A=void 0,F=void 0;if(p.offset<y){var N=p.offset-T;F=Kb(Kb({},k),{},{text:k.text.slice(N)}),k=Kb(Kb({},k),{},{text:k.text.slice(0,N)})}if(d.offset>T){var D=d.offset-T;A=Kb(Kb({},k),{},{text:k.text.slice(0,D)}),k=Kb(Kb({},k),{},{text:k.text.slice(D)})}Object.assign(k,c),A&&v.push(A),v.push(k),F&&v.push(F)}s=v}return s}};function Zpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function rB(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Zpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Zpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var MTe=(e,o,s)=>{switch(s.type){case"insert_node":{var{path:l,node:c}=s,d=yo.parent(e,l),p=l[l.length-1];if(p>d.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(l,"] because the destination is past the end of the node."));if(d.children.splice(p,0,c),o)for(var[v,y]of yn.points(o))o[y]=Ds.transform(v,s);break}case"insert_text":{var{path:S,offset:x,text:T}=s;if(T.length===0)break;var k=yo.leaf(e,S),A=k.text.slice(0,x),F=k.text.slice(x);if(k.text=A+T+F,o)for(var[N,D]of yn.points(o))o[D]=Ds.transform(N,s);break}case"merge_node":{var{path:B}=s,O=yo.get(e,B),P=zt.previous(B),I=yo.get(e,P),z=yo.parent(e,B),K=B[B.length-1];if(Io.isText(O)&&Io.isText(I))I.text+=O.text;else if(!Io.isText(O)&&!Io.isText(I))I.children.push(...O.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(B,"] to nodes of different interfaces: ").concat(O," ").concat(I));if(z.children.splice(K,1),o)for(var[j,oe]of yn.points(o))o[oe]=Ds.transform(j,s);break}case"move_node":{var{path:ke,newPath:ae}=s;if(zt.isAncestor(ke,ae))throw new Error("Cannot move a path [".concat(ke,"] to new path [").concat(ae,"] because the destination is inside itself."));var Q=yo.get(e,ke),G=yo.parent(e,ke),ue=ke[ke.length-1];G.children.splice(ue,1);var pe=zt.transform(ke,s),be=yo.get(e,zt.parent(pe)),qe=pe[pe.length-1];if(be.children.splice(qe,0,Q),o)for(var[U,Fe]of yn.points(o))o[Fe]=Ds.transform(U,s);break}case"remove_node":{var{path:De}=s,Se=De[De.length-1],re=yo.parent(e,De);if(re.children.splice(Se,1),o)for(var[le,fe]of yn.points(o)){var ce=Ds.transform(le,s);if(o!=null&&ce!=null)o[fe]=ce;else{var Be=void 0,Ce=void 0;for(var[me,q]of yo.texts(e))if(zt.compare(q,De)===-1)Be=[me,q];else{Ce=[me,q];break}var Ze=!1;Be&&Ce&&(zt.equals(Ce[1],De)?Ze=!zt.hasPrevious(Ce[1]):Ze=zt.common(Be[1],De).length<zt.common(Ce[1],De).length),Be&&!Ze?(le.path=Be[1],le.offset=Be[0].text.length):Ce?(le.path=Ce[1],le.offset=0):o=null}}break}case"remove_text":{var{path:We,offset:tt,text:Qe}=s;if(Qe.length===0)break;var at=yo.leaf(e,We),He=at.text.slice(0,tt),Re=at.text.slice(tt+Qe.length);if(at.text=He+Re,o)for(var[Ve,Oe]of yn.points(o))o[Oe]=Ds.transform(Ve,s);break}case"set_node":{var{path:ve,properties:se,newProperties:xe}=s;if(ve.length===0)throw new Error("Cannot set properties on the root node!");var ot=yo.get(e,ve);for(var Xe in xe){if(Xe==="children"||Xe==="text")throw new Error('Cannot set the "'.concat(Xe,'" property of nodes!'));var jt=xe[Xe];jt==null?delete ot[Xe]:ot[Xe]=jt}for(var qt in se)xe.hasOwnProperty(qt)||delete ot[qt];break}case"set_selection":{var{newProperties:vn}=s;if(vn==null)o=vn;else{if(o==null){if(!yn.isRange(vn))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(vn)," when there is no current selection."));o=rB({},vn)}for(var Kn in vn){var zn=vn[Kn];if(zn==null){if(Kn==="anchor"||Kn==="focus")throw new Error('Cannot remove the "'.concat(Kn,'" selection property'));delete o[Kn]}else o[Kn]=zn}}break}case"split_node":{var{path:fn,position:oo,properties:ft}=s;if(fn.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fn,"] because the root node cannot be split."));var Tt=yo.get(e,fn),sn=yo.parent(e,fn),kn=fn[fn.length-1],Pn;if(Io.isText(Tt)){var $n=Tt.text.slice(0,oo),_o=Tt.text.slice(oo);Tt.text=$n,Pn=rB(rB({},ft),{},{text:_o})}else{var mr=Tt.children.slice(0,oo),Ot=Tt.children.slice(oo);Tt.children=mr,Pn=rB(rB({},ft),{},{children:Ot})}if(sn.children.splice(kn+1,0,Pn),o)for(var[wt,wn]of yn.points(o))o[wn]=Ds.transform(wt,s);break}}return o},ITe={transform(e,o){e.children=$pe(e.children);var s=e.selection&&$pe(e.selection);try{s=MTe(e,s,o)}finally{e.children=Dpe(e.children),s?e.selection=C4(s)?Dpe(s):s:e.selection=null}}},LTe=["text"],HTe=["children"];function Gpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Kpe(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Gpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Gpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var jTe={insertNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{hanging:l=!1,voids:c=!1,mode:d="lowest"}=s,{at:p,match:v,select:y}=s;if(yo.isNode(o)&&(o=[o]),o.length!==0){var[S]=o;if(p||(e.selection?p=e.selection:e.children.length>0?p=ze.end(e,[]):p=[0],y=!0),y==null&&(y=!1),yn.isRange(p))if(l||(p=ze.unhangRange(e,p)),yn.isCollapsed(p))p=p.anchor;else{var[,x]=yn.edges(p),T=ze.pointRef(e,x);Jt.delete(e,{at:p}),p=T.unref()}if(Ds.isPoint(p)){v==null&&(Io.isText(S)?v=K=>Io.isText(K):e.isInline(S)?v=K=>Io.isText(K)||ze.isInline(e,K):v=K=>ze.isBlock(e,K));var[k]=ze.nodes(e,{at:p.path,match:v,mode:d,voids:c});if(k){var[,A]=k,F=ze.pathRef(e,A),N=ze.isEnd(e,p,A);Jt.splitNodes(e,{at:p,match:v,mode:d,voids:c});var D=F.unref();p=N?zt.next(D):D}else return}var B=zt.parent(p),O=p[p.length-1];if(!(!c&&ze.void(e,{at:B}))){for(var P of o){var I=B.concat(O);O++,e.apply({type:"insert_node",path:I,node:P}),p=zt.next(p)}if(p=zt.previous(p),y){var z=ze.end(e,p);z&&Jt.select(e,z)}}}})},liftNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{at:s=e.selection,mode:l="lowest",voids:c=!1}=o,{match:d}=o;if(d==null&&(d=zt.isPath(s)?bO(e,s):P=>ze.isBlock(e,P)),!!s){var p=ze.nodes(e,{at:s,match:d,mode:l,voids:c}),v=Array.from(p,P=>{var[,I]=P;return ze.pathRef(e,I)});for(var y of v){var S=y.unref();if(S.length<2)throw new Error("Cannot lift node at a path [".concat(S,"] because it has a depth of less than `2`."));var x=ze.node(e,zt.parent(S)),[T,k]=x,A=S[S.length-1],{length:F}=T.children;if(F===1){var N=zt.next(k);Jt.moveNodes(e,{at:S,to:N,voids:c}),Jt.removeNodes(e,{at:k,voids:c})}else if(A===0)Jt.moveNodes(e,{at:S,to:k,voids:c});else if(A===F-1){var D=zt.next(k);Jt.moveNodes(e,{at:S,to:D,voids:c})}else{var B=zt.next(S),O=zt.next(k);Jt.splitNodes(e,{at:B,voids:c}),Jt.moveNodes(e,{at:S,to:O,voids:c})}}}})},mergeNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{match:s,at:l=e.selection}=o,{hanging:c=!1,voids:d=!1,mode:p="lowest"}=o;if(!!l){if(s==null)if(zt.isPath(l)){var[v]=ze.parent(e,l);s=ke=>v.children.includes(ke)}else s=ke=>ze.isBlock(e,ke);if(!c&&yn.isRange(l)&&(l=ze.unhangRange(e,l)),yn.isRange(l))if(yn.isCollapsed(l))l=l.anchor;else{var[,y]=yn.edges(l),S=ze.pointRef(e,y);Jt.delete(e,{at:l}),l=S.unref(),o.at==null&&Jt.select(e,l)}var[x]=ze.nodes(e,{at:l,match:s,voids:d,mode:p}),T=ze.previous(e,{at:l,match:s,voids:d,mode:p});if(!(!x||!T)){var[k,A]=x,[F,N]=T;if(!(A.length===0||N.length===0)){var D=zt.next(N),B=zt.common(A,N),O=zt.isSibling(A,N),P=Array.from(ze.levels(e,{at:A}),ke=>{var[ae]=ke;return ae}).slice(B.length).slice(0,-1),I=ze.above(e,{at:A,mode:"highest",match:ke=>P.includes(ke)&&Bwe(e,ke)}),z=I&&ze.pathRef(e,I[1]),K,j;if(Io.isText(k)&&Io.isText(F)){var oe=ly(k,LTe);j=F.text.length,K=oe}else if(sr.isElement(k)&&sr.isElement(F)){var oe=ly(k,HTe);j=F.children.length,K=oe}else throw new Error("Cannot merge the node at path [".concat(A,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(k)," ").concat(JSON.stringify(F)));O||Jt.moveNodes(e,{at:A,to:D,voids:d}),z&&Jt.removeNodes(e,{at:z.current,voids:d}),sr.isElement(F)&&ze.isEmpty(e,F)||Io.isText(F)&&F.text===""&&N[N.length-1]!==0?Jt.removeNodes(e,{at:N,voids:d}):e.apply({type:"merge_node",path:D,position:j,properties:K}),z&&z.unref()}}}})},moveNodes(e,o){ze.withoutNormalizing(e,()=>{var{to:s,at:l=e.selection,mode:c="lowest",voids:d=!1}=o,{match:p}=o;if(!!l){p==null&&(p=zt.isPath(l)?bO(e,l):A=>ze.isBlock(e,A));var v=ze.pathRef(e,s),y=ze.nodes(e,{at:l,match:p,mode:c,voids:d}),S=Array.from(y,A=>{var[,F]=A;return ze.pathRef(e,F)});for(var x of S){var T=x.unref(),k=v.current;T.length!==0&&e.apply({type:"move_node",path:T,newPath:k}),v.current&&zt.isSibling(k,T)&&zt.isAfter(k,T)&&(v.current=zt.next(v.current))}v.unref()}})},removeNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:l=!1,mode:c="lowest"}=o,{at:d=e.selection,match:p}=o;if(!!d){p==null&&(p=zt.isPath(d)?bO(e,d):k=>ze.isBlock(e,k)),!s&&yn.isRange(d)&&(d=ze.unhangRange(e,d));var v=ze.nodes(e,{at:d,match:p,mode:c,voids:l}),y=Array.from(v,k=>{var[,A]=k;return ze.pathRef(e,A)});for(var S of y){var x=S.unref();if(x){var[T]=ze.node(e,x);e.apply({type:"remove_node",path:x,node:T})}}}})},setNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{match:l,at:c=e.selection}=s,{hanging:d=!1,mode:p="lowest",split:v=!1,voids:y=!1}=s;if(!!c){if(l==null&&(l=zt.isPath(c)?bO(e,c):z=>ze.isBlock(e,z)),!d&&yn.isRange(c)&&(c=ze.unhangRange(e,c)),v&&yn.isRange(c)){if(yn.isCollapsed(c)&&ze.leaf(e,c.anchor)[0].text.length>0)return;var S=ze.rangeRef(e,c,{affinity:"inward"}),[x,T]=yn.edges(c),k=p==="lowest"?"lowest":"highest",A=ze.isEnd(e,T,T.path);Jt.splitNodes(e,{at:T,match:l,mode:k,voids:y,always:!A});var F=ze.isStart(e,x,x.path);Jt.splitNodes(e,{at:x,match:l,mode:k,voids:y,always:!F}),c=S.unref(),s.at==null&&Jt.select(e,c)}for(var[N,D]of ze.nodes(e,{at:c,match:l,mode:p,voids:y})){var B={},O={};if(D.length!==0){var P=!1;for(var I in o)I==="children"||I==="text"||o[I]!==N[I]&&(P=!0,N.hasOwnProperty(I)&&(B[I]=N[I]),o[I]!=null&&(O[I]=o[I]));P&&e.apply({type:"set_node",path:D,properties:B,newProperties:O})}}}})},splitNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{mode:s="lowest",voids:l=!1}=o,{match:c,at:d=e.selection,height:p=0,always:v=!1}=o;if(c==null&&(c=U=>ze.isBlock(e,U)),yn.isRange(d)&&(d=zTe(e,d)),zt.isPath(d)){var y=d,S=ze.point(e,y),[x]=ze.parent(e,y);c=U=>U===x,p=S.path.length-y.length+1,d=S,v=!0}if(!!d){var T=ze.pointRef(e,d,{affinity:"backward"}),[k]=ze.nodes(e,{at:d,match:c,mode:s,voids:l});if(!!k){var A=ze.void(e,{at:d,mode:"highest"}),F=0;if(!l&&A){var[N,D]=A;if(sr.isElement(N)&&e.isInline(N)){var B=ze.after(e,D);if(!B){var O={text:""},P=zt.next(D);Jt.insertNodes(e,O,{at:P,voids:l}),B=ze.point(e,P)}d=B,v=!0}var I=d.path.length-D.length;p=I+1,v=!0}var z=ze.pointRef(e,d),K=d.path.length-p,[,j]=k,oe=d.path.slice(0,K),ke=p===0?d.offset:d.path[K]+F;for(var[ae,Q]of ze.levels(e,{at:oe,reverse:!0,voids:l})){var G=!1;if(Q.length<j.length||Q.length===0||!l&&ze.isVoid(e,ae))break;var ue=T.current,pe=ze.isEnd(e,ue,Q);if(v||!T||!ze.isEdge(e,ue,Q)){G=!0;var be=yo.extractProps(ae);e.apply({type:"split_node",path:Q,position:ke,properties:be})}ke=Q[Q.length-1]+(G||pe?1:0)}if(o.at==null){var qe=z.current||ze.end(e,[]);Jt.select(e,qe)}T.unref(),z.unref()}}})},unsetNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(o)||(o=[o]);var l={};for(var c of o)l[c]=null;Jt.setNodes(e,l,s)},unwrapNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{mode:s="lowest",split:l=!1,voids:c=!1}=o,{at:d=e.selection,match:p}=o;if(!!d){p==null&&(p=zt.isPath(d)?bO(e,d):k=>ze.isBlock(e,k)),zt.isPath(d)&&(d=ze.range(e,d));var v=yn.isRange(d)?ze.rangeRef(e,d):null,y=ze.nodes(e,{at:d,match:p,mode:s,voids:c}),S=Array.from(y,k=>{var[,A]=k;return ze.pathRef(e,A)}).reverse(),x=function(A){var F=A.unref(),[N]=ze.node(e,F),D=ze.range(e,F);l&&v&&(D=yn.intersection(v.current,D)),Jt.liftNodes(e,{at:D,match:B=>sr.isAncestor(N)&&N.children.includes(B),voids:c})};for(var T of S)x(T);v&&v.unref()}})},wrapNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{mode:l="lowest",split:c=!1,voids:d=!1}=s,{match:p,at:v=e.selection}=s;if(!!v){if(p==null&&(zt.isPath(v)?p=bO(e,v):e.isInline(o)?p=D=>ze.isInline(e,D)||Io.isText(D):p=D=>ze.isBlock(e,D)),c&&yn.isRange(v)){var[y,S]=yn.edges(v),x=ze.rangeRef(e,v,{affinity:"inward"});Jt.splitNodes(e,{at:S,match:p,voids:d}),Jt.splitNodes(e,{at:y,match:p,voids:d}),v=x.unref(),s.at==null&&Jt.select(e,v)}var T=Array.from(ze.nodes(e,{at:v,match:e.isInline(o)?D=>ze.isBlock(e,D):D=>ze.isEditor(D),mode:"lowest",voids:d}));for(var[,k]of T){var A=yn.isRange(v)?yn.intersection(v,ze.range(e,k)):v;if(!!A){var F=Array.from(ze.nodes(e,{at:A,match:p,mode:l,voids:d}));if(F.length>0){var N=function(){var[D]=F,B=F[F.length-1],[,O]=D,[,P]=B;if(O.length===0&&P.length===0)return"continue";var I=zt.equals(O,P)?zt.parent(O):zt.common(O,P),z=ze.range(e,O,P),K=ze.node(e,I),[j]=K,oe=I.length+1,ke=zt.next(P.slice(0,oe)),ae=Kpe(Kpe({},o),{},{children:[]});Jt.insertNodes(e,ae,{at:ke,voids:d}),Jt.moveNodes(e,{at:z,match:Q=>sr.isAncestor(j)&&j.children.includes(Q),to:ke.concat(0),voids:d})}();if(N==="continue")continue}}}}})}},Bwe=(e,o)=>{if(sr.isElement(o)){var s=o;return ze.isVoid(e,o)?!0:s.children.length===1?Bwe(e,s.children[0]):!1}else return!ze.isEditor(o)},zTe=(e,o)=>{if(yn.isCollapsed(o))return o.anchor;var[,s]=yn.edges(o),l=ze.pointRef(e,s);return Jt.delete(e,{at:o}),l.unref()},bO=(e,o)=>{var[s]=ze.node(e,o);return l=>l===s};function Ype(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Xpe(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Ype(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ype(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var VTe={collapse(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:s="anchor"}=o,{selection:l}=e;if(l){if(s==="anchor")Jt.select(e,l.anchor);else if(s==="focus")Jt.select(e,l.focus);else if(s==="start"){var[c]=yn.edges(l);Jt.select(e,c)}else if(s==="end"){var[,d]=yn.edges(l);Jt.select(e,d)}}else return},deselect(e){var{selection:o}=e;o&&e.apply({type:"set_selection",properties:o,newProperties:null})},move(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:s}=e,{distance:l=1,unit:c="character",reverse:d=!1}=o,{edge:p=null}=o;if(!!s){p==="start"&&(p=yn.isBackward(s)?"focus":"anchor"),p==="end"&&(p=yn.isBackward(s)?"anchor":"focus");var{anchor:v,focus:y}=s,S={distance:l,unit:c},x={};if(p==null||p==="anchor"){var T=d?ze.before(e,v,S):ze.after(e,v,S);T&&(x.anchor=T)}if(p==null||p==="focus"){var k=d?ze.before(e,y,S):ze.after(e,y,S);k&&(x.focus=k)}Jt.setSelection(e,x)}},select(e,o){var{selection:s}=e;if(o=ze.range(e,o),s){Jt.setSelection(e,o);return}if(!yn.isRange(o))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(o)));e.apply({type:"set_selection",properties:s,newProperties:o})},setPoint(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:l}=e,{edge:c="both"}=s;if(!!l){c==="start"&&(c=yn.isBackward(l)?"focus":"anchor"),c==="end"&&(c=yn.isBackward(l)?"anchor":"focus");var{anchor:d,focus:p}=l,v=c==="anchor"?d:p;Jt.setSelection(e,{[c==="anchor"?"anchor":"focus"]:Xpe(Xpe({},v),o)})}},setSelection(e,o){var{selection:s}=e,l={},c={};if(!!s){for(var d in o)(d==="anchor"&&o.anchor!=null&&!Ds.equals(o.anchor,s.anchor)||d==="focus"&&o.focus!=null&&!Ds.equals(o.focus,s.focus)||d!=="anchor"&&d!=="focus"&&o[d]!==s[d])&&(l[d]=s[d],c[d]=o[d]);Object.keys(l).length>0&&e.apply({type:"set_selection",properties:l,newProperties:c})}}},UTe={delete(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{reverse:s=!1,unit:l="character",distance:c=1,voids:d=!1}=o,{at:p=e.selection,hanging:v=!1}=o;if(!!p){if(yn.isRange(p)&&yn.isCollapsed(p)&&(p=p.anchor),Ds.isPoint(p)){var y=ze.void(e,{at:p,mode:"highest"});if(!d&&y){var[,S]=y;p=S}else{var x={unit:l,distance:c},T=s?ze.before(e,p,x)||ze.start(e,[]):ze.after(e,p,x)||ze.end(e,[]);p={anchor:p,focus:T},v=!0}}if(zt.isPath(p)){Jt.removeNodes(e,{at:p,voids:d});return}if(!yn.isCollapsed(p)){if(!v){var[,k]=yn.edges(p),A=ze.end(e,[]);Ds.equals(k,A)||(p=ze.unhangRange(e,p,{voids:d}))}var[F,N]=yn.edges(p),D=ze.above(e,{match:Ze=>ze.isBlock(e,Ze),at:F,voids:d}),B=ze.above(e,{match:Ze=>ze.isBlock(e,Ze),at:N,voids:d}),O=D&&B&&!zt.equals(D[1],B[1]),P=zt.equals(F.path,N.path),I=d?null:ze.void(e,{at:F,mode:"highest"}),z=d?null:ze.void(e,{at:N,mode:"highest"});if(I){var K=ze.before(e,F);K&&D&&zt.isAncestor(D[1],K.path)&&(F=K)}if(z){var j=ze.after(e,N);j&&B&&zt.isAncestor(B[1],j.path)&&(N=j)}var oe=[],ke;for(var ae of ze.nodes(e,{at:p,voids:d})){var[Q,G]=ae;ke&&zt.compare(G,ke)===0||(!d&&ze.isVoid(e,Q)||!zt.isCommon(G,F.path)&&!zt.isCommon(G,N.path))&&(oe.push(ae),ke=G)}var ue=Array.from(oe,Ze=>{var[,We]=Ze;return ze.pathRef(e,We)}),pe=ze.pointRef(e,F),be=ze.pointRef(e,N);if(!P&&!I){var qe=pe.current,[U]=ze.leaf(e,qe),{path:Fe}=qe,{offset:De}=F,Se=U.text.slice(De);Se.length>0&&e.apply({type:"remove_text",path:Fe,offset:De,text:Se})}for(var re of ue){var le=re.unref();Jt.removeNodes(e,{at:le,voids:d})}if(!z){var fe=be.current,[ce]=ze.leaf(e,fe),{path:Be}=fe,Ce=P?F.offset:0,me=ce.text.slice(Ce,N.offset);me.length>0&&e.apply({type:"remove_text",path:Be,offset:Ce,text:me})}!P&&O&&be.current&&pe.current&&Jt.mergeNodes(e,{at:be.current,hanging:!0,voids:d});var q=s?pe.unref()||be.unref():be.unref()||pe.unref();o.at==null&&q&&Jt.select(e,q)}}})},insertFragment(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{hanging:l=!1,voids:c=!1}=s,{at:d=e.selection}=s;if(!!o.length){if(d)if(yn.isRange(d))if(l||(d=ze.unhangRange(e,d)),yn.isCollapsed(d))d=d.anchor;else{var[,p]=yn.edges(d);if(!c&&ze.void(e,{at:p}))return;var v=ze.pointRef(e,p);Jt.delete(e,{at:d}),d=v.unref()}else zt.isPath(d)&&(d=ze.start(e,d));else return;if(!(!c&&ze.void(e,{at:d}))){var y=ze.above(e,{at:d,match:ce=>ze.isInline(e,ce),mode:"highest",voids:c});if(y){var[,S]=y;if(ze.isEnd(e,d,S)){var x=ze.after(e,S);d=x}else if(ze.isStart(e,d,S)){var T=ze.before(e,S);d=T}}var k=ze.above(e,{match:ce=>ze.isBlock(e,ce),at:d,voids:c}),[,A]=k,F=ze.isStart(e,d,A),N=ze.isEnd(e,d,A),D=F&&N,B=!F||F&&N,O=!N,[,P]=yo.first({children:o},[]),[,I]=yo.last({children:o},[]),z=[],K=ce=>{var[Be,Ce]=ce,me=Ce.length===0;return me?!1:D?!0:!(B&&zt.isAncestor(Ce,P)&&sr.isElement(Be)&&!e.isVoid(Be)&&!e.isInline(Be)||O&&zt.isAncestor(Ce,I)&&sr.isElement(Be)&&!e.isVoid(Be)&&!e.isInline(Be))};for(var j of yo.nodes({children:o},{pass:K}))K(j)&&z.push(j);var oe=[],ke=[],ae=[],Q=!0,G=!1;for(var[ue]of z)sr.isElement(ue)&&!e.isInline(ue)?(Q=!1,G=!0,ke.push(ue)):Q?oe.push(ue):ae.push(ue);var[pe]=ze.nodes(e,{at:d,match:ce=>Io.isText(ce)||ze.isInline(e,ce),mode:"highest",voids:c}),[,be]=pe,qe=ze.isStart(e,d,be),U=ze.isEnd(e,d,be),Fe=ze.pathRef(e,N?zt.next(A):A),De=ze.pathRef(e,U?zt.next(be):be),Se=ze.pathRef(e,A);Jt.splitNodes(e,{at:d,match:ce=>G?ze.isBlock(e,ce):Io.isText(ce)||ze.isInline(e,ce),mode:G?"lowest":"highest",voids:c});var re=ze.pathRef(e,!qe||qe&&U?zt.next(be):be);if(Jt.insertNodes(e,oe,{at:re.current,match:ce=>Io.isText(ce)||ze.isInline(e,ce),mode:"highest",voids:c}),D&&ke.length&&Jt.delete(e,{at:Se.unref(),voids:c}),Jt.insertNodes(e,ke,{at:Fe.current,match:ce=>ze.isBlock(e,ce),mode:"lowest",voids:c}),Jt.insertNodes(e,ae,{at:De.current,match:ce=>Io.isText(ce)||ze.isInline(e,ce),mode:"highest",voids:c}),!s.at){var le;ae.length>0?le=zt.previous(De.current):ke.length>0?le=zt.previous(Fe.current):le=zt.previous(re.current);var fe=ze.end(e,le);Jt.select(e,fe)}re.unref(),Fe.unref(),De.unref()}}})},insertText(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{voids:l=!1}=s,{at:c=e.selection}=s;if(!!c){if(zt.isPath(c)&&(c=ze.range(e,c)),yn.isRange(c))if(yn.isCollapsed(c))c=c.anchor;else{var d=yn.end(c);if(!l&&ze.void(e,{at:d}))return;var p=ze.pointRef(e,d);Jt.delete(e,{at:c,voids:l}),c=p.unref(),Jt.setSelection(e,{anchor:c,focus:c})}if(!(!l&&ze.void(e,{at:c}))){var{path:v,offset:y}=c;o.length>0&&e.apply({type:"insert_text",path:v,offset:y,text:o})}}})}};function Jpe(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function kz(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Jpe(Object(s),!0).forEach(function(l){qv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jpe(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Jt=kz(kz(kz(kz({},ITe),jTe),VTe),UTe),Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wce(e){var o={exports:{}};return e(o,o.exports),o.exports}var Nwe=9007199254740991,WTe="[object Arguments]",qTe="[object Function]",ZTe="[object GeneratorFunction]",cae="[object Map]",GTe="[object Object]",Qpe="[object Promise]",uae="[object Set]",KTe="[object String]",ege="[object WeakMap]",tge="[object DataView]",YTe=/[\\^$.*+?()[\]{}|]/g,XTe=/^\[object .+?Constructor\]$/,JTe=/^(?:0|[1-9]\d*)$/,Cce="\\ud800-\\udfff",Pwe="\\u0300-\\u036f\\ufe20-\\ufe23",Fwe="\\u20d0-\\u20f0",Rwe="\\ufe0e\\ufe0f",QTe="["+Cce+"]",fae="["+Pwe+Fwe+"]",dae="\\ud83c[\\udffb-\\udfff]",eOe="(?:"+fae+"|"+dae+")",Mwe="[^"+Cce+"]",Iwe="(?:\\ud83c[\\udde6-\\uddff]){2}",Lwe="[\\ud800-\\udbff][\\udc00-\\udfff]",Hwe="\\u200d",jwe=eOe+"?",zwe="["+Rwe+"]?",tOe="(?:"+Hwe+"(?:"+[Mwe,Iwe,Lwe].join("|")+")"+zwe+jwe+")*",nOe=zwe+jwe+tOe,oOe="(?:"+[Mwe+fae+"?",fae,Iwe,Lwe,QTe].join("|")+")",rOe=RegExp(dae+"(?="+dae+")|"+oOe+nOe,"g"),sOe=RegExp("["+Hwe+Cce+Pwe+Fwe+Rwe+"]"),aOe=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,iOe=typeof self=="object"&&self&&self.Object===Object&&self,M4=aOe||iOe||Function("return this")();function lOe(e,o){for(var s=-1,l=e?e.length:0,c=Array(l);++s<l;)c[s]=o(e[s],s,e);return c}function cOe(e){return e.split("")}function uOe(e,o){for(var s=-1,l=Array(e);++s<e;)l[s]=o(s);return l}function fOe(e,o){return lOe(o,function(s){return e[s]})}function dOe(e,o){return e==null?void 0:e[o]}function hOe(e){return sOe.test(e)}function pOe(e){var o=!1;if(e!=null&&typeof e.toString!="function")try{o=!!(e+"")}catch{}return o}function gOe(e){for(var o,s=[];!(o=e.next()).done;)s.push(o.value);return s}function mOe(e){var o=-1,s=Array(e.size);return e.forEach(function(l,c){s[++o]=[c,l]}),s}function vOe(e,o){return function(s){return e(o(s))}}function bOe(e){var o=-1,s=Array(e.size);return e.forEach(function(l){s[++o]=l}),s}function yOe(e){return hOe(e)?wOe(e):cOe(e)}function wOe(e){return e.match(rOe)||[]}var COe=Function.prototype,HW=Object.prototype,One=M4["__core-js_shared__"],nge=function(){var e=/[^.]+$/.exec(One&&One.keys&&One.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Vwe=COe.toString,jW=HW.hasOwnProperty,RP=HW.toString,SOe=RegExp("^"+Vwe.call(jW).replace(YTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oge=M4.Symbol,_ne=oge?oge.iterator:void 0,xOe=HW.propertyIsEnumerable,EOe=vOe(Object.keys,Object),hae=MP(M4,"DataView"),pae=MP(M4,"Map"),gae=MP(M4,"Promise"),mae=MP(M4,"Set"),vae=MP(M4,"WeakMap"),kOe=I4(hae),AOe=I4(pae),TOe=I4(gae),OOe=I4(mae),_Oe=I4(vae);function $Oe(e,o){var s=Uwe(e)||IOe(e)?uOe(e.length,String):[],l=s.length,c=!!l;for(var d in e)(o||jW.call(e,d))&&!(c&&(d=="length"||FOe(d,l)))&&s.push(d);return s}function DOe(e){return RP.call(e)}function BOe(e){if(!qwe(e)||ROe(e))return!1;var o=Wwe(e)||pOe(e)?SOe:XTe;return o.test(I4(e))}function NOe(e){if(!MOe(e))return EOe(e);var o=[];for(var s in Object(e))jW.call(e,s)&&s!="constructor"&&o.push(s);return o}function POe(e,o){var s=-1,l=e.length;for(o||(o=Array(l));++s<l;)o[s]=e[s];return o}function MP(e,o){var s=dOe(e,o);return BOe(s)?s:void 0}var VE=DOe;(hae&&VE(new hae(new ArrayBuffer(1)))!=tge||pae&&VE(new pae)!=cae||gae&&VE(gae.resolve())!=Qpe||mae&&VE(new mae)!=uae||vae&&VE(new vae)!=ege)&&(VE=function(e){var o=RP.call(e),s=o==GTe?e.constructor:void 0,l=s?I4(s):void 0;if(l)switch(l){case kOe:return tge;case AOe:return cae;case TOe:return Qpe;case OOe:return uae;case _Oe:return ege}return o});function FOe(e,o){return o=o==null?Nwe:o,!!o&&(typeof e=="number"||JTe.test(e))&&e>-1&&e%1==0&&e<o}function ROe(e){return!!nge&&nge in e}function MOe(e){var o=e&&e.constructor,s=typeof o=="function"&&o.prototype||HW;return e===s}function I4(e){if(e!=null){try{return Vwe.call(e)}catch{}try{return e+""}catch{}}return""}function IOe(e){return LOe(e)&&jW.call(e,"callee")&&(!xOe.call(e,"callee")||RP.call(e)==WTe)}var Uwe=Array.isArray;function Sce(e){return e!=null&&HOe(e.length)&&!Wwe(e)}function LOe(e){return Zwe(e)&&Sce(e)}function Wwe(e){var o=qwe(e)?RP.call(e):"";return o==qTe||o==ZTe}function HOe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nwe}function qwe(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function Zwe(e){return!!e&&typeof e=="object"}function jOe(e){return typeof e=="string"||!Uwe(e)&&Zwe(e)&&RP.call(e)==KTe}function zOe(e){if(!e)return[];if(Sce(e))return jOe(e)?yOe(e):POe(e);if(_ne&&e[_ne])return gOe(e[_ne]());var o=VE(e),s=o==cae?mOe:o==uae?bOe:UOe;return s(e)}function VOe(e){return Sce(e)?$Oe(e):NOe(e)}function UOe(e){return e?fOe(e,VOe(e)):[]}var rge=zOe;function sge(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function xce(e,o){e===void 0&&(e={}),o===void 0&&(o={}),Object.keys(o).forEach(function(s){typeof e[s]>"u"?e[s]=o[s]:sge(o[s])&&sge(e[s])&&Object.keys(o[s]).length>0&&xce(e[s],o[s])})}var Gwe={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function IP(){var e=typeof document<"u"?document:{};return xce(e,Gwe),e}var WOe={document:Gwe,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){typeof setTimeout>"u"||clearTimeout(e)}};function L4(){var e=typeof window<"u"?window:{};return xce(e,WOe),e}function qOe(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o}function bae(e){return bae=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},bae(e)}function eU(e,o){return eU=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l},eU(e,o)}function ZOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function xV(e,o,s){return ZOe()?xV=Reflect.construct:xV=function(c,d,p){var v=[null];v.push.apply(v,d);var y=Function.bind.apply(c,v),S=new y;return p&&eU(S,p.prototype),S},xV.apply(null,arguments)}function GOe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function yae(e){var o=typeof Map=="function"?new Map:void 0;return yae=function(l){if(l===null||!GOe(l))return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(l))return o.get(l);o.set(l,c)}function c(){return xV(l,arguments,bae(this).constructor)}return c.prototype=Object.create(l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),eU(c,l)},yae(e)}function KOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YOe(e){var o=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return o},set:function(l){o.__proto__=l}})}var Zw=function(e){qOe(o,e);function o(s){var l;return l=e.call.apply(e,[this].concat(s))||this,YOe(KOe(l)),l}return o}(yae(Array));function zW(e){e===void 0&&(e=[]);var o=[];return e.forEach(function(s){Array.isArray(s)?o.push.apply(o,zW(s)):o.push(s)}),o}function Kwe(e,o){return Array.prototype.filter.call(e,o)}function XOe(e){for(var o=[],s=0;s<e.length;s+=1)o.indexOf(e[s])===-1&&o.push(e[s]);return o}function JOe(e){return e.toLowerCase().replace(/-(.)/g,function(o,s){return s.toUpperCase()})}function QOe(e,o){if(typeof e!="string")return[e];for(var s=[],l=o.querySelectorAll(e),c=0;c<l.length;c+=1)s.push(l[c]);return s}function Dt(e,o){var s=L4(),l=IP(),c=[];if(!o&&e instanceof Zw)return e;if(!e)return new Zw(c);if(typeof e=="string"){var d=e.trim();if(d.indexOf("<")>=0&&d.indexOf(">")>=0){var p="div";d.indexOf("<li")===0&&(p="ul"),d.indexOf("<tr")===0&&(p="tbody"),(d.indexOf("<td")===0||d.indexOf("<th")===0)&&(p="tr"),d.indexOf("<tbody")===0&&(p="table"),d.indexOf("<option")===0&&(p="select");var v=l.createElement(p);v.innerHTML=d;for(var y=0;y<v.childNodes.length;y+=1)c.push(v.childNodes[y])}else c=QOe(e.trim(),o||l)}else if(e.nodeType||e===s||e===l)c.push(e);else if(Array.isArray(e)){if(e instanceof Zw)return e;c=e}return new Zw(XOe(c))}Dt.fn=Zw.prototype;function b_(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=zW(o.map(function(c){return c.split(" ")}));return this.forEach(function(c){var d;(d=c.classList).add.apply(d,l)}),this}function y_(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=zW(o.map(function(c){return c.split(" ")}));return this.forEach(function(c){var d;(d=c.classList).remove.apply(d,l)}),this}function w_(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=zW(o.map(function(c){return c.split(" ")}));return Kwe(this,function(c){return l.filter(function(d){return c.classList.contains(d)}).length>0}).length>0}function Lv(e,o){if(arguments.length===1&&typeof e=="string")return this[0]?this[0].getAttribute(e):void 0;for(var s=0;s<this.length;s+=1)if(arguments.length===2)this[s].setAttribute(e,o);else for(var l in e)this[s][l]=e[l],this[s].setAttribute(l,e[l]);return this}function tU(e){for(var o=0;o<this.length;o+=1)this[o].removeAttribute(e);return this}function C_(){var e=this[0];if(!!e){var o={};if(e.dataset)for(var s in e.dataset)o[s]=e.dataset[s];else for(var l=0;l<e.attributes.length;l+=1){var c=e.attributes[l];c.name.indexOf("data-")>=0&&(o[JOe(c.name.split("data-")[1])]=c.value)}for(var d in o)o[d]==="false"?o[d]=!1:o[d]==="true"?o[d]=!0:parseFloat(o[d])===o[d]*1&&(o[d]*=1);return o}}function Hv(e){if(typeof e>"u"){var o=this[0];if(!o)return;if(o.multiple&&o.nodeName.toLowerCase()==="select"){for(var s=[],l=0;l<o.selectedOptions.length;l+=1)s.push(o.selectedOptions[l].value);return s}return o.value}for(var c=0;c<this.length;c+=1){var d=this[c];if(Array.isArray(e)&&d.multiple&&d.nodeName.toLowerCase()==="select")for(var p=0;p<d.options.length;p+=1)d.options[p].selected=e.indexOf(d.options[p].value)>=0;else d.value=e}return this}function jv(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=o[0],c=o[1],d=o[2],p=o[3];typeof o[1]=="function"&&(l=o[0],d=o[1],p=o[2],c=void 0),p||(p=!1);function v(N){var D=N.target;if(!!D){var B=N.target.dom7EventData||[];if(B.indexOf(N)<0&&B.unshift(N),Dt(D).is(c))d.apply(D,B);else for(var O=Dt(D).parents(),P=0;P<O.length;P+=1)Dt(O[P]).is(c)&&d.apply(O[P],B)}}function y(N){var D=N&&N.target?N.target.dom7EventData||[]:[];D.indexOf(N)<0&&D.unshift(N),d.apply(this,D)}for(var S=l.split(" "),x,T=0;T<this.length;T+=1){var k=this[T];if(c)for(x=0;x<S.length;x+=1){var F=S[x];k.dom7LiveListeners||(k.dom7LiveListeners={}),k.dom7LiveListeners[F]||(k.dom7LiveListeners[F]=[]),k.dom7LiveListeners[F].push({listener:d,proxyListener:v}),k.addEventListener(F,v,p)}else for(x=0;x<S.length;x+=1){var A=S[x];k.dom7Listeners||(k.dom7Listeners={}),k.dom7Listeners[A]||(k.dom7Listeners[A]=[]),k.dom7Listeners[A].push({listener:d,proxyListener:y}),k.addEventListener(A,y,p)}}return this}function age(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=o[0],c=o[1],d=o[2],p=o[3];typeof o[1]=="function"&&(l=o[0],d=o[1],p=o[2],c=void 0),p||(p=!1);for(var v=l.split(" "),y=0;y<v.length;y+=1)for(var S=v[y],x=0;x<this.length;x+=1){var T=this[x],k=void 0;if(!c&&T.dom7Listeners?k=T.dom7Listeners[S]:c&&T.dom7LiveListeners&&(k=T.dom7LiveListeners[S]),k&&k.length)for(var A=k.length-1;A>=0;A-=1){var F=k[A];d&&F.listener===d||d&&F.listener&&F.listener.dom7proxy&&F.listener.dom7proxy===d?(T.removeEventListener(S,F.proxyListener,p),k.splice(A,1)):d||(T.removeEventListener(S,F.proxyListener,p),k.splice(A,1))}}return this}function nU(){var e=L4();return this[0]===e?e.innerWidth:this.length>0?parseFloat(this.css("width")):null}function oU(){var e=L4();return this[0]===e?e.innerHeight:this.length>0?parseFloat(this.css("height")):null}function ige(){if(this.length>0){var e=L4(),o=IP(),s=this[0],l=s.getBoundingClientRect(),c=o.body,d=s.clientTop||c.clientTop||0,p=s.clientLeft||c.clientLeft||0,v=s===e?e.scrollY:s.scrollTop,y=s===e?e.scrollX:s.scrollLeft;return{top:l.top+v-d,left:l.left+y-p}}return null}function S_(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this}function rU(){for(var e=L4(),o=0;o<this.length;o+=1){var s=this[o];s.style.display==="none"&&(s.style.display=""),e.getComputedStyle(s,null).getPropertyValue("display")==="none"&&(s.style.display="block")}return this}function sU(e,o){var s=L4(),l;if(arguments.length===1)if(typeof e=="string"){if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e)}else{for(l=0;l<this.length;l+=1)for(var c in e)this[l].style[c]=e[c];return this}if(arguments.length===2&&typeof e=="string"){for(l=0;l<this.length;l+=1)this[l].style[e]=o;return this}return this}function aU(e){return e?(this.forEach(function(o,s){e.apply(o,[o,s])}),this):this}function lge(e){var o=Kwe(this,e);return Dt(o)}function pC(e){if(typeof e>"u")return this[0]?this[0].innerHTML:null;for(var o=0;o<this.length;o+=1)this[o].innerHTML=e;return this}function iU(e){if(typeof e>"u")return this[0]?this[0].textContent.trim():null;for(var o=0;o<this.length;o+=1)this[o].textContent=e;return this}function cge(e){var o=L4(),s=IP(),l=this[0],c,d;if(!l||typeof e>"u")return!1;if(typeof e=="string"){if(l.matches)return l.matches(e);if(l.webkitMatchesSelector)return l.webkitMatchesSelector(e);if(l.msMatchesSelector)return l.msMatchesSelector(e);for(c=Dt(e),d=0;d<c.length;d+=1)if(c[d]===l)return!0;return!1}if(e===s)return l===s;if(e===o)return l===o;if(e.nodeType||e instanceof Zw){for(c=e.nodeType?[e]:e,d=0;d<c.length;d+=1)if(c[d]===l)return!0;return!1}return!1}function zv(){for(var e,o=IP(),s=0;s<arguments.length;s+=1){e=s<0||arguments.length<=s?void 0:arguments[s];for(var l=0;l<this.length;l+=1)if(typeof e=="string"){var c=o.createElement("div");for(c.innerHTML=e;c.firstChild;)this[l].appendChild(c.firstChild)}else if(e instanceof Zw)for(var d=0;d<e.length;d+=1)this[l].appendChild(e[d]);else this[l].appendChild(e)}return this}function uge(e){var o=IP(),s,l;for(s=0;s<this.length;s+=1)if(typeof e=="string"){var c=o.createElement("div");for(c.innerHTML=e,l=c.childNodes.length-1;l>=0;l-=1)this[s].insertBefore(c.childNodes[l],this[s].childNodes[0])}else if(e instanceof Zw)for(l=0;l<e.length;l+=1)this[s].insertBefore(e[l],this[s].childNodes[0]);else this[s].insertBefore(e,this[s].childNodes[0]);return this}function lU(e){for(var o=[],s=0;s<this.length;s+=1)this[s].parentNode!==null&&(e?Dt(this[s].parentNode).is(e)&&o.push(this[s].parentNode):o.push(this[s].parentNode));return Dt(o)}function cU(e){for(var o=[],s=0;s<this.length;s+=1)for(var l=this[s].parentNode;l;)e?Dt(l).is(e)&&o.push(l):o.push(l),l=l.parentNode;return Dt(o)}function x_(e){for(var o=[],s=0;s<this.length;s+=1)for(var l=this[s].querySelectorAll(e),c=0;c<l.length;c+=1)o.push(l[c]);return Dt(o)}function E_(e){for(var o=[],s=0;s<this.length;s+=1)for(var l=this[s].children,c=0;c<l.length;c+=1)(!e||Dt(l[c]).is(e))&&o.push(l[c]);return Dt(o)}function k_(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}function A_(){for(var e=0;e<this.length;e+=1){var o=this[e];if(o.nodeType===1){for(var s=0;s<o.childNodes.length;s+=1)o.childNodes[s].parentNode&&o.childNodes[s].parentNode.removeChild(o.childNodes[s]);o.textContent=""}}return this}var e_e="resize scroll".split(" ");function Ywe(e){function o(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];if(typeof l[0]>"u"){for(var d=0;d<this.length;d+=1)e_e.indexOf(e)<0&&(e in this[d]?this[d][e]():Dt(this[d]).trigger(e));return this}return this.on.apply(this,[e].concat(l))}return o}var fge=Ywe("click"),gC=Ywe("focus"),Xwe=9007199254740991,t_e="[object Arguments]",n_e="[object Function]",o_e="[object GeneratorFunction]",r_e=/^(?:0|[1-9]\d*)$/;function s_e(e,o){for(var s=-1,l=e?e.length:0;++s<l&&o(e[s],s,e)!==!1;);return e}function a_e(e,o){for(var s=-1,l=Array(e);++s<e;)l[s]=o(s);return l}function i_e(e,o){return function(s){return e(o(s))}}var VW=Object.prototype,Ece=VW.hasOwnProperty,Jwe=VW.toString,l_e=VW.propertyIsEnumerable,c_e=i_e(Object.keys,Object);function u_e(e,o){var s=Qwe(e)||w_e(e)?a_e(e.length,String):[],l=s.length,c=!!l;for(var d in e)(o||Ece.call(e,d))&&!(c&&(d=="length"||v_e(d,l)))&&s.push(d);return s}var f_e=g_e(h_e),d_e=m_e();function h_e(e,o){return e&&d_e(e,o,A_e)}function p_e(e){if(!b_e(e))return c_e(e);var o=[];for(var s in Object(e))Ece.call(e,s)&&s!="constructor"&&o.push(s);return o}function g_e(e,o){return function(s,l){if(s==null)return s;if(!kce(s))return e(s,l);for(var c=s.length,d=o?c:-1,p=Object(s);(o?d--:++d<c)&&l(p[d],d,p)!==!1;);return s}}function m_e(e){return function(o,s,l){for(var c=-1,d=Object(o),p=l(o),v=p.length;v--;){var y=p[e?v:++c];if(s(d[y],y,d)===!1)break}return o}}function v_e(e,o){return o=o==null?Xwe:o,!!o&&(typeof e=="number"||r_e.test(e))&&e>-1&&e%1==0&&e<o}function b_e(e){var o=e&&e.constructor,s=typeof o=="function"&&o.prototype||VW;return e===s}function y_e(e,o){var s=Qwe(e)?s_e:f_e;return s(e,typeof o=="function"?o:T_e)}function w_e(e){return C_e(e)&&Ece.call(e,"callee")&&(!l_e.call(e,"callee")||Jwe.call(e)==t_e)}var Qwe=Array.isArray;function kce(e){return e!=null&&x_e(e.length)&&!S_e(e)}function C_e(e){return k_e(e)&&kce(e)}function S_e(e){var o=E_e(e)?Jwe.call(e):"";return o==n_e||o==o_e}function x_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Xwe}function E_e(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function k_e(e){return!!e&&typeof e=="object"}function A_e(e){return kce(e)?u_e(e):p_e(e)}function T_e(e){return e}var Ace=y_e;{if(typeof navigator<"u"&&navigator.product==="ReactNative"&&typeof crypto>"u")throw new Error("React Native does not have a built-in secure random generator. If you don\u2019t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if(typeof msCrypto<"u"&&typeof crypto>"u")throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if(typeof crypto>"u")throw new Error("Your browser does not have secure random generator. If you don\u2019t need unpredictable IDs, you can use nanoid/non-secure.")}let eCe=(e=21)=>{let o="",s=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let l=s[e]&63;l<36?o+=l.toString(36):l<62?o+=(l-26).toString(36).toUpperCase():l<63?o+="_":o+="-"}return o};var tCe="Expected a function",dge=0/0,O_e="[object Symbol]",__e=/^\s+|\s+$/g,$_e=/^[-+]0x[0-9a-f]+$/i,D_e=/^0b[01]+$/i,B_e=/^0o[0-7]+$/i,N_e=parseInt,P_e=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,F_e=typeof self=="object"&&self&&self.Object===Object&&self,R_e=P_e||F_e||Function("return this")(),M_e=Object.prototype,I_e=M_e.toString,L_e=Math.max,H_e=Math.min,$ne=function(){return R_e.Date.now()};function j_e(e,o,s){var l,c,d,p,v,y,S=0,x=!1,T=!1,k=!0;if(typeof e!="function")throw new TypeError(tCe);o=hge(o)||0,uU(s)&&(x=!!s.leading,T="maxWait"in s,d=T?L_e(hge(s.maxWait)||0,o):d,k="trailing"in s?!!s.trailing:k);function A(K){var j=l,oe=c;return l=c=void 0,S=K,p=e.apply(oe,j),p}function F(K){return S=K,v=setTimeout(B,o),x?A(K):p}function N(K){var j=K-y,oe=K-S,ke=o-j;return T?H_e(ke,d-oe):ke}function D(K){var j=K-y,oe=K-S;return y===void 0||j>=o||j<0||T&&oe>=d}function B(){var K=$ne();if(D(K))return O(K);v=setTimeout(B,N(K))}function O(K){return v=void 0,k&&l?A(K):(l=c=void 0,p)}function P(){v!==void 0&&clearTimeout(v),S=0,l=y=c=v=void 0}function I(){return v===void 0?p:O($ne())}function z(){var K=$ne(),j=D(K);if(l=arguments,c=this,y=K,j){if(v===void 0)return F(y);if(T)return v=setTimeout(B,o),A(y)}return v===void 0&&(v=setTimeout(B,o)),p}return z.cancel=P,z.flush=I,z}function z_e(e,o,s){var l=!0,c=!0;if(typeof e!="function")throw new TypeError(tCe);return uU(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),j_e(e,o,{leading:l,maxWait:o,trailing:c})}function uU(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function V_e(e){return!!e&&typeof e=="object"}function U_e(e){return typeof e=="symbol"||V_e(e)&&I_e.call(e)==O_e}function hge(e){if(typeof e=="number")return e;if(U_e(e))return dge;if(uU(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=uU(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=e.replace(__e,"");var s=D_e.test(e);return s||B_e.test(e)?N_e(e.slice(2),s?2:8):$_e.test(e)?dge:+e}var x4=z_e;function W_e(e,o){return document.createElement(e,o)}function q_e(e,o,s){return document.createElementNS(e,o,s)}function Z_e(e){return document.createTextNode(e)}function G_e(e){return document.createComment(e)}function K_e(e,o,s){e.insertBefore(o,s)}function Y_e(e,o){e.removeChild(o)}function X_e(e,o){e.appendChild(o)}function J_e(e){return e.parentNode}function Q_e(e){return e.nextSibling}function e5e(e){return e.tagName}function t5e(e,o){e.textContent=o}function n5e(e){return e.textContent}function o5e(e){return e.nodeType===1}function r5e(e){return e.nodeType===3}function s5e(e){return e.nodeType===8}const a5e={createElement:W_e,createElementNS:q_e,createTextNode:Z_e,createComment:G_e,insertBefore:K_e,removeChild:Y_e,appendChild:X_e,parentNode:J_e,nextSibling:Q_e,tagName:e5e,setTextContent:t5e,getTextContent:n5e,isElement:o5e,isText:r5e,isComment:s5e};function qN(e,o,s,l,c){const d=o===void 0?void 0:o.key;return{sel:e,data:o,children:s,text:l,elm:c,key:d}}const wae=Array.isArray;function EV(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}function Dne(e){return e===void 0}function Kh(e){return e!==void 0}const pge=qN("",{},[],void 0,void 0);function sB(e,o){var s,l;const c=e.key===o.key,d=((s=e.data)===null||s===void 0?void 0:s.is)===((l=o.data)===null||l===void 0?void 0:l.is);return e.sel===o.sel&&c&&d}function i5e(e){return e.sel!==void 0}function l5e(e,o,s){var l;const c={};for(let d=o;d<=s;++d){const p=(l=e[d])===null||l===void 0?void 0:l.key;p!==void 0&&(c[p]=d)}return c}const c5e=["create","update","remove","destroy","pre","post"];function u5e(e,o){const s={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},l=o!==void 0?o:a5e;for(const k of c5e)for(const A of e){const F=A[k];F!==void 0&&s[k].push(F)}function c(k){const A=k.id?"#"+k.id:"",F=k.getAttribute("class"),N=F?"."+F.split(" ").join("."):"";return qN(l.tagName(k).toLowerCase()+A+N,{},[],void 0,k)}function d(k,A){return function(){if(--A===0){const N=l.parentNode(k);l.removeChild(N,k)}}}function p(k,A){var F,N;let D,B=k.data;if(B!==void 0){const I=(F=B.hook)===null||F===void 0?void 0:F.init;Kh(I)&&(I(k),B=k.data)}const O=k.children,P=k.sel;if(P==="!")Dne(k.text)&&(k.text=""),k.elm=l.createComment(k.text);else if(P!==void 0){const I=P.indexOf("#"),z=P.indexOf(".",I),K=I>0?I:P.length,j=z>0?z:P.length,oe=I!==-1||z!==-1?P.slice(0,Math.min(K,j)):P,ke=k.elm=Kh(B)&&Kh(D=B.ns)?l.createElementNS(D,oe,B):l.createElement(oe,B);for(K<j&&ke.setAttribute("id",P.slice(K+1,j)),z>0&&ke.setAttribute("class",P.slice(j+1).replace(/\./g," ")),D=0;D<s.create.length;++D)s.create[D](pge,k);if(wae(O))for(D=0;D<O.length;++D){const Q=O[D];Q!=null&&l.appendChild(ke,p(Q,A))}else EV(k.text)&&l.appendChild(ke,l.createTextNode(k.text));const ae=k.data.hook;Kh(ae)&&((N=ae.create)===null||N===void 0||N.call(ae,pge,k),ae.insert&&A.push(k))}else k.elm=l.createTextNode(k.text);return k.elm}function v(k,A,F,N,D,B){for(;N<=D;++N){const O=F[N];O!=null&&l.insertBefore(k,p(O,B),A)}}function y(k){var A,F;const N=k.data;if(N!==void 0){(F=(A=N==null?void 0:N.hook)===null||A===void 0?void 0:A.destroy)===null||F===void 0||F.call(A,k);for(let D=0;D<s.destroy.length;++D)s.destroy[D](k);if(k.children!==void 0)for(let D=0;D<k.children.length;++D){const B=k.children[D];B!=null&&typeof B!="string"&&y(B)}}}function S(k,A,F,N){for(var D,B;F<=N;++F){let O,P;const I=A[F];if(I!=null)if(Kh(I.sel)){y(I),O=s.remove.length+1,P=d(I.elm,O);for(let K=0;K<s.remove.length;++K)s.remove[K](I,P);const z=(B=(D=I==null?void 0:I.data)===null||D===void 0?void 0:D.hook)===null||B===void 0?void 0:B.remove;Kh(z)?z(I,P):P()}else l.removeChild(k,I.elm)}}function x(k,A,F,N){let D=0,B=0,O=A.length-1,P=A[0],I=A[O],z=F.length-1,K=F[0],j=F[z],oe,ke,ae,Q;for(;D<=O&&B<=z;)P==null?P=A[++D]:I==null?I=A[--O]:K==null?K=F[++B]:j==null?j=F[--z]:sB(P,K)?(T(P,K,N),P=A[++D],K=F[++B]):sB(I,j)?(T(I,j,N),I=A[--O],j=F[--z]):sB(P,j)?(T(P,j,N),l.insertBefore(k,P.elm,l.nextSibling(I.elm)),P=A[++D],j=F[--z]):sB(I,K)?(T(I,K,N),l.insertBefore(k,I.elm,P.elm),I=A[--O],K=F[++B]):(oe===void 0&&(oe=l5e(A,D,O)),ke=oe[K.key],Dne(ke)?l.insertBefore(k,p(K,N),P.elm):(ae=A[ke],ae.sel!==K.sel?l.insertBefore(k,p(K,N),P.elm):(T(ae,K,N),A[ke]=void 0,l.insertBefore(k,ae.elm,P.elm))),K=F[++B]);(D<=O||B<=z)&&(D>O?(Q=F[z+1]==null?null:F[z+1].elm,v(k,Q,F,B,z,N)):S(k,A,D,O))}function T(k,A,F){var N,D,B,O,P;const I=(N=A.data)===null||N===void 0?void 0:N.hook;(D=I==null?void 0:I.prepatch)===null||D===void 0||D.call(I,k,A);const z=A.elm=k.elm,K=k.children,j=A.children;if(k!==A){if(A.data!==void 0){for(let oe=0;oe<s.update.length;++oe)s.update[oe](k,A);(O=(B=A.data.hook)===null||B===void 0?void 0:B.update)===null||O===void 0||O.call(B,k,A)}Dne(A.text)?Kh(K)&&Kh(j)?K!==j&&x(z,K,j,F):Kh(j)?(Kh(k.text)&&l.setTextContent(z,""),v(z,null,j,0,j.length-1,F)):Kh(K)?S(z,K,0,K.length-1):Kh(k.text)&&l.setTextContent(z,""):k.text!==A.text&&(Kh(K)&&S(z,K,0,K.length-1),l.setTextContent(z,A.text)),(P=I==null?void 0:I.postpatch)===null||P===void 0||P.call(I,k,A)}}return function(A,F){let N,D,B;const O=[];for(N=0;N<s.pre.length;++N)s.pre[N]();for(i5e(A)||(A=c(A)),sB(A,F)?T(A,F,O):(D=A.elm,B=l.parentNode(D),p(F,O),B!==null&&(l.insertBefore(B,F.elm,l.nextSibling(D)),S(B,[A],0,0))),N=0;N<O.length;++N)O[N].data.hook.insert(O[N]);for(N=0;N<s.post.length;++N)s.post[N]();return F}}function nCe(e,o,s){if(e.ns="http://www.w3.org/2000/svg",s!=="foreignObject"&&o!==void 0)for(let l=0;l<o.length;++l){const c=o[l].data;c!==void 0&&nCe(c,o[l].children,o[l].sel)}}function T_(e,o,s){let l={},c,d,p;if(s!==void 0?(o!==null&&(l=o),wae(s)?c=s:EV(s)?d=s.toString():s&&s.sel&&(c=[s])):o!=null&&(wae(o)?c=o:EV(o)?d=o.toString():o&&o.sel?c=[o]:l=o),c!==void 0)for(p=0;p<c.length;++p)EV(c[p])&&(c[p]=qN(void 0,void 0,void 0,c[p],void 0));return e[0]==="s"&&e[1]==="v"&&e[2]==="g"&&(e.length===3||e[3]==="."||e[3]==="#")&&nCe(l,c,e),qN(e,l,c,d,void 0)}const f5e="http://www.w3.org/1999/xlink",d5e="http://www.w3.org/XML/1998/namespace",gge=58,h5e=120;function mge(e,o){let s;const l=o.elm;let c=e.data.attrs,d=o.data.attrs;if(!(!c&&!d)&&c!==d){c=c||{},d=d||{};for(s in d){const p=d[s];c[s]!==p&&(p===!0?l.setAttribute(s,""):p===!1?l.removeAttribute(s):s.charCodeAt(0)!==h5e?l.setAttribute(s,p):s.charCodeAt(3)===gge?l.setAttributeNS(d5e,s,p):s.charCodeAt(5)===gge?l.setAttributeNS(f5e,s,p):l.setAttribute(s,p))}for(s in c)s in d||l.removeAttribute(s)}}const p5e={create:mge,update:mge};function vge(e,o){let s,l;const c=o.elm;let d=e.data.class,p=o.data.class;if(!(!d&&!p)&&d!==p){d=d||{},p=p||{};for(l in d)d[l]&&!Object.prototype.hasOwnProperty.call(p,l)&&c.classList.remove(l);for(l in p)s=p[l],s!==d[l]&&c.classList[s?"add":"remove"](l)}}const g5e={create:vge,update:vge},bge=/[A-Z]/g;function yge(e,o){const s=o.elm;let l=e.data.dataset,c=o.data.dataset,d;if(!l&&!c||l===c)return;l=l||{},c=c||{};const p=s.dataset;for(d in l)c[d]||(p?d in p&&delete p[d]:s.removeAttribute("data-"+d.replace(bge,"-$&").toLowerCase()));for(d in c)l[d]!==c[d]&&(p?p[d]=c[d]:s.setAttribute("data-"+d.replace(bge,"-$&").toLowerCase(),c[d]))}const m5e={create:yge,update:yge};function oCe(e,o,s){if(typeof e=="function")e.call(o,s,o);else if(typeof e=="object")for(let l=0;l<e.length;l++)oCe(e[l],o,s)}function v5e(e,o){const s=e.type,l=o.data.on;l&&l[s]&&oCe(l[s],o,e)}function b5e(){return function e(o){v5e(o,e.vnode)}}function Bne(e,o){const s=e.data.on,l=e.listener,c=e.elm,d=o&&o.data.on,p=o&&o.elm;let v;if(s!==d){if(s&&l)if(d)for(v in s)d[v]||c.removeEventListener(v,l,!1);else for(v in s)c.removeEventListener(v,l,!1);if(d){const y=o.listener=e.listener||b5e();if(y.vnode=o,s)for(v in d)s[v]||p.addEventListener(v,y,!1);else for(v in d)p.addEventListener(v,y,!1)}}}const y5e={create:Bne,update:Bne,destroy:Bne};function wge(e,o){let s,l,c;const d=o.elm;let p=e.data.props,v=o.data.props;if(!(!p&&!v)&&p!==v){p=p||{},v=v||{};for(s in v)l=v[s],c=p[s],c!==l&&(s!=="value"||d[s]!==l)&&(d[s]=l)}}const w5e={create:wge,update:wge},Cge=typeof window<"u"&&window.requestAnimationFrame.bind(window)||setTimeout,C5e=function(e){Cge(function(){Cge(e)})};let Cae=!1;function S5e(e,o,s){C5e(function(){e[o]=s})}function Sge(e,o){let s,l;const c=o.elm;let d=e.data.style,p=o.data.style;if(!d&&!p||d===p)return;d=d||{},p=p||{};const v="delayed"in d;for(l in d)p[l]||(l[0]==="-"&&l[1]==="-"?c.style.removeProperty(l):c.style[l]="");for(l in p)if(s=p[l],l==="delayed"&&p.delayed)for(const y in p.delayed)s=p.delayed[y],(!v||s!==d.delayed[y])&&S5e(c.style,y,s);else l!=="remove"&&s!==d[l]&&(l[0]==="-"&&l[1]==="-"?c.style.setProperty(l,s):c.style[l]=s)}function x5e(e){let o,s;const l=e.elm,c=e.data.style;if(!(!c||!(o=c.destroy)))for(s in o)l.style[s]=o[s]}function E5e(e,o){const s=e.data.style;if(!s||!s.remove){o();return}Cae||(e.elm.offsetLeft,Cae=!0);let l;const c=e.elm;let d=0;const p=s.remove;let v=0;const y=[];for(l in p)y.push(l),c.style[l]=p[l];const x=getComputedStyle(c)["transition-property"].split(", ");for(;d<x.length;++d)y.indexOf(x[d])!==-1&&v++;c.addEventListener("transitionend",function(T){T.target===c&&--v,v===0&&o()})}function k5e(){Cae=!1}const A5e={pre:k5e,create:Sge,update:Sge,destroy:x5e,remove:E5e};function rCe(e,o){for(const s of e)s!=null&&s!==!1&&s!==""&&(Array.isArray(s)?rCe(s,o):typeof s=="string"||typeof s=="number"||typeof s=="boolean"?o.push(qN(void 0,void 0,void 0,String(s),void 0)):o.push(s));return o}function ds(e,o,...s){const l=rCe(s,[]);return typeof e=="function"?e(o,l):l.length===1&&!l[0].sel&&l[0].text?T_(e,o,l[0].text):T_(e,o,l)}(function(e){})(ds||(ds={}));var T5e=1/0,O5e="[object Symbol]",_5e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$5e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,UW="\\ud800-\\udfff",sCe="\\u0300-\\u036f\\ufe20-\\ufe23",aCe="\\u20d0-\\u20f0",iCe="\\u2700-\\u27bf",lCe="a-z\\xdf-\\xf6\\xf8-\\xff",D5e="\\xac\\xb1\\xd7\\xf7",B5e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",N5e="\\u2000-\\u206f",P5e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cCe="A-Z\\xc0-\\xd6\\xd8-\\xde",uCe="\\ufe0e\\ufe0f",fCe=D5e+B5e+N5e+P5e,Tce="['\u2019]",F5e="["+UW+"]",xge="["+fCe+"]",fU="["+sCe+aCe+"]",dCe="\\d+",R5e="["+iCe+"]",hCe="["+lCe+"]",pCe="[^"+UW+fCe+dCe+iCe+lCe+cCe+"]",Sae="\\ud83c[\\udffb-\\udfff]",M5e="(?:"+fU+"|"+Sae+")",gCe="[^"+UW+"]",Oce="(?:\\ud83c[\\udde6-\\uddff]){2}",_ce="[\\ud800-\\udbff][\\udc00-\\udfff]",ZO="["+cCe+"]",mCe="\\u200d",Ege="(?:"+hCe+"|"+pCe+")",I5e="(?:"+ZO+"|"+pCe+")",kge="(?:"+Tce+"(?:d|ll|m|re|s|t|ve))?",Age="(?:"+Tce+"(?:D|LL|M|RE|S|T|VE))?",vCe=M5e+"?",bCe="["+uCe+"]?",L5e="(?:"+mCe+"(?:"+[gCe,Oce,_ce].join("|")+")"+bCe+vCe+")*",yCe=bCe+vCe+L5e,H5e="(?:"+[R5e,Oce,_ce].join("|")+")"+yCe,j5e="(?:"+[gCe+fU+"?",fU,Oce,_ce,F5e].join("|")+")",z5e=RegExp(Tce,"g"),V5e=RegExp(fU,"g"),U5e=RegExp(Sae+"(?="+Sae+")|"+j5e+yCe,"g"),W5e=RegExp([ZO+"?"+hCe+"+"+kge+"(?="+[xge,ZO,"$"].join("|")+")",I5e+"+"+Age+"(?="+[xge,ZO+Ege,"$"].join("|")+")",ZO+"?"+Ege+"+"+kge,ZO+"+"+Age,dCe,H5e].join("|"),"g"),q5e=RegExp("["+mCe+UW+sCe+aCe+uCe+"]"),Z5e=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,G5e={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},K5e=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,Y5e=typeof self=="object"&&self&&self.Object===Object&&self,X5e=K5e||Y5e||Function("return this")();function J5e(e,o,s,l){var c=-1,d=e?e.length:0;for(l&&d&&(s=e[++c]);++c<d;)s=o(s,e[c],c,e);return s}function Q5e(e){return e.split("")}function e$e(e){return e.match(_5e)||[]}function t$e(e){return function(o){return e==null?void 0:e[o]}}var n$e=t$e(G5e);function wCe(e){return q5e.test(e)}function o$e(e){return Z5e.test(e)}function r$e(e){return wCe(e)?s$e(e):Q5e(e)}function s$e(e){return e.match(U5e)||[]}function a$e(e){return e.match(W5e)||[]}var i$e=Object.prototype,l$e=i$e.toString,Tge=X5e.Symbol,Oge=Tge?Tge.prototype:void 0,_ge=Oge?Oge.toString:void 0;function c$e(e,o,s){var l=-1,c=e.length;o<0&&(o=-o>c?0:c+o),s=s>c?c:s,s<0&&(s+=c),c=o>s?0:s-o>>>0,o>>>=0;for(var d=Array(c);++l<c;)d[l]=e[l+o];return d}function u$e(e){if(typeof e=="string")return e;if(g$e(e))return _ge?_ge.call(e):"";var o=e+"";return o=="0"&&1/e==-T5e?"-0":o}function f$e(e,o,s){var l=e.length;return s=s===void 0?l:s,!o&&s>=l?e:c$e(e,o,s)}function d$e(e){return function(o){o=WW(o);var s=wCe(o)?r$e(o):void 0,l=s?s[0]:o.charAt(0),c=s?f$e(s,1).join(""):o.slice(1);return l[e]()+c}}function h$e(e){return function(o){return J5e(w$e(b$e(o).replace(z5e,"")),e,"")}}function p$e(e){return!!e&&typeof e=="object"}function g$e(e){return typeof e=="symbol"||p$e(e)&&l$e.call(e)==O5e}function WW(e){return e==null?"":u$e(e)}var m$e=h$e(function(e,o,s){return o=o.toLowerCase(),e+(s?v$e(o):o)});function v$e(e){return y$e(WW(e).toLowerCase())}function b$e(e){return e=WW(e),e&&e.replace($5e,n$e).replace(V5e,"")}var y$e=d$e("toUpperCase");function w$e(e,o,s){return e=WW(e),o=s?void 0:o,o===void 0?o$e(e)?a$e(e):e$e(e):e.match(o)||[]}var C$e=m$e,S$e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Nne={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},CCe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:S$e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},$ce={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Az=1;Az<20;Az++)$ce["f"+Az]=111+Az;function SCe(e,o,s){o&&!("byKey"in o)&&(s=o,o=null),Array.isArray(e)||(e=[e]);var l=e.map(function(p){return E$e(p,o)}),c=function(v){return l.some(function(y){return k$e(y,v)})},d=s==null?c:c(s);return d}function x$e(e,o){return SCe(e,{byKey:!0},o)}function E$e(e,o){var s=o&&o.byKey,l={};e=e.replace("++","+add");var c=e.split("+"),d=c.length;for(var p in Nne)l[Nne[p]]=!1;var v=!0,y=!1,S=void 0;try{for(var x=c[Symbol.iterator](),T;!(v=(T=x.next()).done);v=!0){var k=T.value,A=k.endsWith("?")&&k.length>1;A&&(k=k.slice(0,-1));var F=xCe(k),N=Nne[F];if(k.length>1&&!N&&!CCe[k]&&!$ce[F])throw new TypeError('Unknown modifier: "'+k+'"');(d===1||!N)&&(s?l.key=F:l.which=A$e(k)),N&&(l[N]=A?null:!0)}}catch(D){y=!0,S=D}finally{try{!v&&x.return&&x.return()}finally{if(y)throw S}}return l}function k$e(e,o){for(var s in e){var l=e[s],c=void 0;if(l!=null&&(s==="key"&&o.key!=null?c=o.key.toLowerCase():s==="which"?c=l===91&&o.which===93?91:o.which:c=o[s],!(c==null&&l===!1)&&c!==l))return!1}return!0}function A$e(e){e=xCe(e);var o=$ce[e]||e.toUpperCase().charCodeAt(0);return o}function xCe(e){return e=e.toLowerCase(),e=CCe[e]||e,e}var T$e=SCe,Pne=x$e,O$e="Expected a function",$ge=0/0,_$e="[object Symbol]",$$e=/^\s+|\s+$/g,D$e=/^[-+]0x[0-9a-f]+$/i,B$e=/^0b[01]+$/i,N$e=/^0o[0-7]+$/i,P$e=parseInt,F$e=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,R$e=typeof self=="object"&&self&&self.Object===Object&&self,M$e=F$e||R$e||Function("return this")(),I$e=Object.prototype,L$e=I$e.toString,H$e=Math.max,j$e=Math.min,Fne=function(){return M$e.Date.now()};function z$e(e,o,s){var l,c,d,p,v,y,S=0,x=!1,T=!1,k=!0;if(typeof e!="function")throw new TypeError(O$e);o=Dge(o)||0,xae(s)&&(x=!!s.leading,T="maxWait"in s,d=T?H$e(Dge(s.maxWait)||0,o):d,k="trailing"in s?!!s.trailing:k);function A(K){var j=l,oe=c;return l=c=void 0,S=K,p=e.apply(oe,j),p}function F(K){return S=K,v=setTimeout(B,o),x?A(K):p}function N(K){var j=K-y,oe=K-S,ke=o-j;return T?j$e(ke,d-oe):ke}function D(K){var j=K-y,oe=K-S;return y===void 0||j>=o||j<0||T&&oe>=d}function B(){var K=Fne();if(D(K))return O(K);v=setTimeout(B,N(K))}function O(K){return v=void 0,k&&l?A(K):(l=c=void 0,p)}function P(){v!==void 0&&clearTimeout(v),S=0,l=y=c=v=void 0}function I(){return v===void 0?p:O(Fne())}function z(){var K=Fne(),j=D(K);if(l=arguments,c=this,y=K,j){if(v===void 0)return F(y);if(T)return v=setTimeout(B,o),A(y)}return v===void 0&&(v=setTimeout(B,o)),p}return z.cancel=P,z.flush=I,z}function xae(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function V$e(e){return!!e&&typeof e=="object"}function U$e(e){return typeof e=="symbol"||V$e(e)&&L$e.call(e)==_$e}function Dge(e){if(typeof e=="number")return e;if(U$e(e))return $ge;if(xae(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=xae(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=e.replace($$e,"");var s=B$e.test(e);return s||N$e.test(e)?P$e(e.slice(2),s?2:8):D$e.test(e)?$ge:+e}var ECe=z$e,kCe=wce(function(e,o){var s=200,l="__lodash_hash_undefined__",c=9007199254740991,d="[object Arguments]",p="[object Array]",v="[object Boolean]",y="[object Date]",S="[object Error]",x="[object Function]",T="[object GeneratorFunction]",k="[object Map]",A="[object Number]",F="[object Object]",N="[object Promise]",D="[object RegExp]",B="[object Set]",O="[object String]",P="[object Symbol]",I="[object WeakMap]",z="[object ArrayBuffer]",K="[object DataView]",j="[object Float32Array]",oe="[object Float64Array]",ke="[object Int8Array]",ae="[object Int16Array]",Q="[object Int32Array]",G="[object Uint8Array]",ue="[object Uint8ClampedArray]",pe="[object Uint16Array]",be="[object Uint32Array]",qe=/[\\^$.*+?()[\]{}|]/g,U=/\w*$/,Fe=/^\[object .+?Constructor\]$/,De=/^(?:0|[1-9]\d*)$/,Se={};Se[d]=Se[p]=Se[z]=Se[K]=Se[v]=Se[y]=Se[j]=Se[oe]=Se[ke]=Se[ae]=Se[Q]=Se[k]=Se[A]=Se[F]=Se[D]=Se[B]=Se[O]=Se[P]=Se[G]=Se[ue]=Se[pe]=Se[be]=!0,Se[S]=Se[x]=Se[I]=!1;var re=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,le=typeof self=="object"&&self&&self.Object===Object&&self,fe=re||le||Function("return this")(),ce=o&&!o.nodeType&&o,Be=ce&&!0&&e&&!e.nodeType&&e,Ce=Be&&Be.exports===ce;function me(ie,Ke){return ie.set(Ke[0],Ke[1]),ie}function q(ie,Ke){return ie.add(Ke),ie}function Ze(ie,Ke){for(var Ct=-1,cn=ie?ie.length:0;++Ct<cn&&Ke(ie[Ct],Ct,ie)!==!1;);return ie}function We(ie,Ke){for(var Ct=-1,cn=Ke.length,Fn=ie.length;++Ct<cn;)ie[Fn+Ct]=Ke[Ct];return ie}function tt(ie,Ke,Ct,cn){var Fn=-1,Hn=ie?ie.length:0;for(cn&&Hn&&(Ct=ie[++Fn]);++Fn<Hn;)Ct=Ke(Ct,ie[Fn],Fn,ie);return Ct}function Qe(ie,Ke){for(var Ct=-1,cn=Array(ie);++Ct<ie;)cn[Ct]=Ke(Ct);return cn}function at(ie,Ke){return ie==null?void 0:ie[Ke]}function He(ie){var Ke=!1;if(ie!=null&&typeof ie.toString!="function")try{Ke=!!(ie+"")}catch{}return Ke}function Re(ie){var Ke=-1,Ct=Array(ie.size);return ie.forEach(function(cn,Fn){Ct[++Ke]=[Fn,cn]}),Ct}function Ve(ie,Ke){return function(Ct){return ie(Ke(Ct))}}function Oe(ie){var Ke=-1,Ct=Array(ie.size);return ie.forEach(function(cn){Ct[++Ke]=cn}),Ct}var ve=Array.prototype,se=Function.prototype,xe=Object.prototype,ot=fe["__core-js_shared__"],Xe=function(){var ie=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),jt=se.toString,qt=xe.hasOwnProperty,vn=xe.toString,Kn=RegExp("^"+jt.call(qt).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zn=Ce?fe.Buffer:void 0,fn=fe.Symbol,oo=fe.Uint8Array,ft=Ve(Object.getPrototypeOf,Object),Tt=Object.create,sn=xe.propertyIsEnumerable,kn=ve.splice,Pn=Object.getOwnPropertySymbols,$n=zn?zn.isBuffer:void 0,_o=Ve(Object.keys,Object),mr=Cr(fe,"DataView"),Ot=Cr(fe,"Map"),wt=Cr(fe,"Promise"),wn=Cr(fe,"Set"),xn=Cr(fe,"WeakMap"),pn=Cr(Object,"create"),eo=Sr(mr),yr=Sr(Ot),As=Sr(wt),la=Sr(wn),pr=Sr(xn),Sa=fn?fn.prototype:void 0,wr=Sa?Sa.valueOf:void 0;function Jo(ie){var Ke=-1,Ct=ie?ie.length:0;for(this.clear();++Ke<Ct;){var cn=ie[Ke];this.set(cn[0],cn[1])}}function To(){this.__data__=pn?pn(null):{}}function xs(ie){return this.has(ie)&&delete this.__data__[ie]}function ra(ie){var Ke=this.__data__;if(pn){var Ct=Ke[ie];return Ct===l?void 0:Ct}return qt.call(Ke,ie)?Ke[ie]:void 0}function Vr(ie){var Ke=this.__data__;return pn?Ke[ie]!==void 0:qt.call(Ke,ie)}function ca(ie,Ke){var Ct=this.__data__;return Ct[ie]=pn&&Ke===void 0?l:Ke,this}Jo.prototype.clear=To,Jo.prototype.delete=xs,Jo.prototype.get=ra,Jo.prototype.has=Vr,Jo.prototype.set=ca;function Yr(ie){var Ke=-1,Ct=ie?ie.length:0;for(this.clear();++Ke<Ct;){var cn=ie[Ke];this.set(cn[0],cn[1])}}function ri(){this.__data__=[]}function as(ie){var Ke=this.__data__,Ct=An(Ke,ie);if(Ct<0)return!1;var cn=Ke.length-1;return Ct==cn?Ke.pop():kn.call(Ke,Ct,1),!0}function Ta(ie){var Ke=this.__data__,Ct=An(Ke,ie);return Ct<0?void 0:Ke[Ct][1]}function dt(ie){return An(this.__data__,ie)>-1}function Le(ie,Ke){var Ct=this.__data__,cn=An(Ct,ie);return cn<0?Ct.push([ie,Ke]):Ct[cn][1]=Ke,this}Yr.prototype.clear=ri,Yr.prototype.delete=as,Yr.prototype.get=Ta,Yr.prototype.has=dt,Yr.prototype.set=Le;function Pt(ie){var Ke=-1,Ct=ie?ie.length:0;for(this.clear();++Ke<Ct;){var cn=ie[Ke];this.set(cn[0],cn[1])}}function Zt(){this.__data__={hash:new Jo,map:new(Ot||Yr),string:new Jo}}function to(ie){return ki(this,ie).delete(ie)}function uo(ie){return ki(this,ie).get(ie)}function Xn(ie){return ki(this,ie).has(ie)}function vr(ie,Ke){return ki(this,ie).set(ie,Ke),this}Pt.prototype.clear=Zt,Pt.prototype.delete=to,Pt.prototype.get=uo,Pt.prototype.has=Xn,Pt.prototype.set=vr;function zo(ie){this.__data__=new Yr(ie)}function Fo(){this.__data__=new Yr}function ws(ie){return this.__data__.delete(ie)}function dn(ie){return this.__data__.get(ie)}function lt(ie){return this.__data__.has(ie)}function ut(ie,Ke){var Ct=this.__data__;if(Ct instanceof Yr){var cn=Ct.__data__;if(!Ot||cn.length<s-1)return cn.push([ie,Ke]),this;Ct=this.__data__=new Pt(cn)}return Ct.set(ie,Ke),this}zo.prototype.clear=Fo,zo.prototype.delete=ws,zo.prototype.get=dn,zo.prototype.has=lt,zo.prototype.set=ut;function en(ie,Ke){var Ct=xt(ie)||pt(ie)?Qe(ie.length,String):[],cn=Ct.length,Fn=!!cn;for(var Hn in ie)(Ke||qt.call(ie,Hn))&&!(Fn&&(Hn=="length"||ga(Hn,cn)))&&Ct.push(Hn);return Ct}function En(ie,Ke,Ct){var cn=ie[Ke];(!(qt.call(ie,Ke)&&Ue(cn,Ct))||Ct===void 0&&!(Ke in ie))&&(ie[Ke]=Ct)}function An(ie,Ke){for(var Ct=ie.length;Ct--;)if(Ue(ie[Ct][0],Ke))return Ct;return-1}function Un(ie,Ke){return ie&&di(Ke,Cs(Ke),ie)}function _n(ie,Ke,Ct,cn,Fn,Hn,Ro){var he;if(cn&&(he=Hn?cn(ie,Fn,Hn,Ro):cn(ie)),he!==void 0)return he;if(!xr(ie))return ie;var je=xt(ie);if(je){if(he=si(ie),!Ke)return Fa(ie,he)}else{var et=Vs(ie),Nt=et==x||et==T;if(Do(ie))return Qo(ie,Ke);if(et==F||et==d||Nt&&!Hn){if(He(ie))return Hn?ie:{};if(he=Oa(Nt?{}:ie),!Ke)return fl(ie,Un(he,ie))}else{if(!Se[et])return Hn?ie:{};he=Ai(ie,et,_n,Ke)}}Ro||(Ro=new zo);var Dn=Ro.get(ie);if(Dn)return Dn;if(Ro.set(ie,he),!je)var mo=Ct?Mi(ie):Cs(ie);return Ze(mo||ie,function(Wn,Wr){mo&&(Wr=Wn,Wn=ie[Wr]),En(he,Wr,_n(Wn,Ke,Ct,cn,Wr,ie,Ro))}),he}function Jn(ie){return xr(ie)?Tt(ie):{}}function go(ie,Ke,Ct){var cn=Ke(ie);return xt(ie)?cn:We(cn,Ct(ie))}function $o(ie){return vn.call(ie)}function Hr(ie){if(!xr(ie)||hi(ie))return!1;var Ke=or(ie)||He(ie)?Kn:Fe;return Ke.test(Sr(ie))}function Es(ie){if(!hl(ie))return _o(ie);var Ke=[];for(var Ct in Object(ie))qt.call(ie,Ct)&&Ct!="constructor"&&Ke.push(Ct);return Ke}function Qo(ie,Ke){if(Ke)return ie.slice();var Ct=new ie.constructor(ie.length);return ie.copy(Ct),Ct}function fi(ie){var Ke=new ie.constructor(ie.byteLength);return new oo(Ke).set(new oo(ie)),Ke}function ar(ie,Ke){var Ct=Ke?fi(ie.buffer):ie.buffer;return new ie.constructor(Ct,ie.byteOffset,ie.byteLength)}function Tr(ie,Ke,Ct){var cn=Ke?Ct(Re(ie),!0):Re(ie);return tt(cn,me,new ie.constructor)}function Or(ie){var Ke=new ie.constructor(ie.source,U.exec(ie));return Ke.lastIndex=ie.lastIndex,Ke}function Ys(ie,Ke,Ct){var cn=Ke?Ct(Oe(ie),!0):Oe(ie);return tt(cn,q,new ie.constructor)}function Is(ie){return wr?Object(wr.call(ie)):{}}function Ei(ie,Ke){var Ct=Ke?fi(ie.buffer):ie.buffer;return new ie.constructor(Ct,ie.byteOffset,ie.length)}function Fa(ie,Ke){var Ct=-1,cn=ie.length;for(Ke||(Ke=Array(cn));++Ct<cn;)Ke[Ct]=ie[Ct];return Ke}function di(ie,Ke,Ct,cn){Ct||(Ct={});for(var Fn=-1,Hn=Ke.length;++Fn<Hn;){var Ro=Ke[Fn],he=cn?cn(Ct[Ro],ie[Ro],Ro,Ct,ie):void 0;En(Ct,Ro,he===void 0?ie[Ro]:he)}return Ct}function fl(ie,Ke){return di(ie,Ra(ie),Ke)}function Mi(ie){return go(ie,Cs,Ra)}function ki(ie,Ke){var Ct=ie.__data__;return dl(Ke)?Ct[typeof Ke=="string"?"string":"hash"]:Ct.map}function Cr(ie,Ke){var Ct=at(ie,Ke);return Hr(Ct)?Ct:void 0}var Ra=Pn?Ve(Pn,Object):Ls,Vs=$o;(mr&&Vs(new mr(new ArrayBuffer(1)))!=K||Ot&&Vs(new Ot)!=k||wt&&Vs(wt.resolve())!=N||wn&&Vs(new wn)!=B||xn&&Vs(new xn)!=I)&&(Vs=function(ie){var Ke=vn.call(ie),Ct=Ke==F?ie.constructor:void 0,cn=Ct?Sr(Ct):void 0;if(cn)switch(cn){case eo:return K;case yr:return k;case As:return N;case la:return B;case pr:return I}return Ke});function si(ie){var Ke=ie.length,Ct=ie.constructor(Ke);return Ke&&typeof ie[0]=="string"&&qt.call(ie,"index")&&(Ct.index=ie.index,Ct.input=ie.input),Ct}function Oa(ie){return typeof ie.constructor=="function"&&!hl(ie)?Jn(ft(ie)):{}}function Ai(ie,Ke,Ct,cn){var Fn=ie.constructor;switch(Ke){case z:return fi(ie);case v:case y:return new Fn(+ie);case K:return ar(ie,cn);case j:case oe:case ke:case ae:case Q:case G:case ue:case pe:case be:return Ei(ie,cn);case k:return Tr(ie,cn,Ct);case A:case O:return new Fn(ie);case D:return Or(ie);case B:return Ys(ie,cn,Ct);case P:return Is(ie)}}function ga(ie,Ke){return Ke=Ke==null?c:Ke,!!Ke&&(typeof ie=="number"||De.test(ie))&&ie>-1&&ie%1==0&&ie<Ke}function dl(ie){var Ke=typeof ie;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?ie!=="__proto__":ie===null}function hi(ie){return!!Xe&&Xe in ie}function hl(ie){var Ke=ie&&ie.constructor,Ct=typeof Ke=="function"&&Ke.prototype||xe;return ie===Ct}function Sr(ie){if(ie!=null){try{return jt.call(ie)}catch{}try{return ie+""}catch{}}return""}function ma(ie){return _n(ie,!0,!0)}function Ue(ie,Ke){return ie===Ke||ie!==ie&&Ke!==Ke}function pt(ie){return gn(ie)&&qt.call(ie,"callee")&&(!sn.call(ie,"callee")||vn.call(ie)==d)}var xt=Array.isArray;function Gt(ie){return ie!=null&&Ts(ie.length)&&!or(ie)}function gn(ie){return Bs(ie)&&Gt(ie)}var Do=$n||Ma;function or(ie){var Ke=xr(ie)?vn.call(ie):"";return Ke==x||Ke==T}function Ts(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=c}function xr(ie){var Ke=typeof ie;return!!ie&&(Ke=="object"||Ke=="function")}function Bs(ie){return!!ie&&typeof ie=="object"}function Cs(ie){return Gt(ie)?en(ie):Es(ie)}function Ls(){return[]}function Ma(){return!1}e.exports=ma}),W$e=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},yO;function Bge(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var q$e=0;function Z$e(e){return"__private_"+q$e+++"_"+e}function G$e(e,o,s){const l=[];return e.forEach(c=>typeof c!="string"?l.push(c):o[Symbol.split](c).forEach((d,p,v)=>{d!==""&&l.push(d),p<v.length-1&&l.push(s)})),l}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function Nge(e,o){const s=/\$/g,l="$$$$";let c=[e];if(o==null)return c;for(const d of Object.keys(o))if(d!=="_"){let p=o[d];typeof p=="string"&&(p=s[Symbol.replace](p,l)),c=G$e(c,new RegExp(`%\\{${d}\\}`,"g"),p)}return c}var ACe=(yO=Z$e("apply"),class{constructor(o){Object.defineProperty(this,yO,{value:K$e}),this.locale={strings:{},pluralize(s){return s===1?0:1}},Array.isArray(o)?o.forEach(Bge(this,yO)[yO],this):Bge(this,yO)[yO](o)}translate(o,s){return this.translateArray(o,s).join("")}translateArray(o,s){if(!W$e(this.locale.strings,o))throw new Error(`missing string: ${o}`);const l=this.locale.strings[o];if(typeof l=="object"){if(s&&typeof s.smart_count<"u"){const d=this.locale.pluralize(s.smart_count);return Nge(l[d],s)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return Nge(l,s)}});function K$e(e){if(!(e!=null&&e.strings))return;const o=this.locale;this.locale={...o,strings:{...o.strings,...e.strings}},this.locale.pluralize=e.pluralize||o.pluralize}var TCe=function(){var o={},s=o._fns={};o.emit=function(p,v,y,S,x,T,k){var A=l(p);A.length&&c(p,A,[v,y,S,x,T,k])},o.on=function(p,v){s[p]||(s[p]=[]),s[p].push(v)},o.once=function(p,v){function y(){v.apply(this,arguments),o.off(p,y)}this.on(p,y)},o.off=function(p,v){var y=[];if(p&&v){var S=this._fns[p],x=0,T=S?S.length:0;for(x;x<T;x++)S[x]!==v&&y.push(S[x])}y.length?this._fns[p]=y:delete this._fns[p]};function l(d){var p=s[d]?s[d]:[],v=d.indexOf(":"),y=v===-1?[d]:[d.substring(0,v),d.substring(v+1)],S=Object.keys(s),x=0,T=S.length;for(x;x<T;x++){var k=S[x];if(k==="*"&&(p=p.concat(s[k])),y.length===2&&y[0]===k){p=p.concat(s[k]);break}}return p}function c(d,p,v){var y=0,S=p.length;for(y;y<S&&p[y];y++)p[y].event=d,p[y].apply(p[y],v)}return o};let Y$e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var X$e={urlAlphabet:Y$e};let{urlAlphabet:J$e}=X$e;{if(typeof navigator<"u"&&navigator.product==="ReactNative"&&typeof crypto>"u")throw new Error("React Native does not have a built-in secure random generator. If you don\u2019t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if(typeof msCrypto<"u"&&typeof crypto>"u")throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if(typeof crypto>"u")throw new Error("Your browser does not have secure random generator. If you don\u2019t need unpredictable IDs, you can use nanoid/non-secure.")}let OCe=e=>crypto.getRandomValues(new Uint8Array(e)),_Ce=(e,o,s)=>{let l=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*l*o/e.length);return()=>{let d="";for(;;){let p=s(c),v=c;for(;v--;)if(d+=e[p[v]&l]||"",d.length===o)return d}}},Q$e=(e,o)=>_Ce(e,o,OCe),eDe=(e=21)=>{let o="",s=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let l=s[e]&63;l<36?o+=l.toString(36):l<62?o+=(l-26).toString(36).toUpperCase():l<63?o+="_":o+="-"}return o};var tDe={nanoid:eDe,customAlphabet:Q$e,customRandom:_Ce,urlAlphabet:J$e,random:OCe},Rne=function(o){if(typeof o!="number"||isNaN(o))throw new TypeError("Expected a number, got "+typeof o);var s=o<0,l=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(s&&(o=-o),o<1)return(s?"-":"")+o+" B";var c=Math.min(Math.floor(Math.log(o)/Math.log(1024)),l.length-1);o=Number(o/Math.pow(1024,c));var d=l[c];return o>=10||o%1===0?(s?"-":"")+o.toFixed(0)+" "+d:(s?"-":"")+o.toFixed(1)+" "+d};function $Ce(e,o){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=o,this.parts=e.split(o)}$Ce.prototype.match=function(e){var o=!0,s=this.parts,l,c=s.length,d;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)o=!1;else{for(d=(e||"").split(this.separator),l=0;o&&l<c;l++)s[l]!=="*"&&(l<d.length?o=s[l]===d[l]:o=!1);o=o&&d}else if(typeof e.splice=="function")for(o=[],l=e.length;l--;)this.match(e[l])&&(o[o.length]=e[l]);else if(typeof e=="object"){o={};for(var p in e)this.match(p)&&(o[p]=e[p])}return o};var nDe=function(e,o,s){var l=new $Ce(e,s||/[\/\.]/);return typeof o<"u"?l.match(o):l},oDe=/[\/\+\.]/,rDe=function(e,o){function s(l){var c=nDe(l,e,oDe);return c&&c.length>=2}return o?s(o.split(";")[0]):s};function sDe(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var aDe=0;function iDe(e){return"__private_"+aDe+++"_"+e}var Mne=iDe("publish");class DCe{constructor(){Object.defineProperty(this,Mne,{value:lDe}),this.state={},this.callbacks=[]}getState(){return this.state}setState(o){const s={...this.state},l={...this.state,...o};this.state=l,sDe(this,Mne)[Mne](s,l,o)}subscribe(o){return this.callbacks.push(o),()=>{this.callbacks.splice(this.callbacks.indexOf(o),1)}}}function lDe(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];this.callbacks.forEach(l=>{l(...o)})}DCe.VERSION="2.0.3";var cDe=function(){return new DCe},BCe=function(o){const s=o.lastIndexOf(".");return s===-1||s===o.length-1?{name:o,extension:void 0}:{name:o.slice(0,s),extension:o.slice(s+1)}},Pge={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"},uDe=function(o){var s;if(o.type)return o.type;const l=o.name?(s=BCe(o.name).extension)==null?void 0:s.toLowerCase():null;return l&&l in Pge?Pge[l]:"application/octet-stream"};function fDe(e){return e.charCodeAt(0).toString(32)}function Fge(e){let o="";return e.replace(/[^A-Z0-9]/ig,s=>(o+=`-${fDe(s)}`,"/"))+o}var dDe=function(o){let s="uppy";return typeof o.name=="string"&&(s+=`-${Fge(o.name.toLowerCase())}`),o.type!==void 0&&(s+=`-${o.type}`),o.meta&&typeof o.meta.relativePath=="string"&&(s+=`-${Fge(o.meta.relativePath.toLowerCase())}`),o.data.size!==void 0&&(s+=`-${o.data.size}`),o.data.lastModified!==void 0&&(s+=`-${o.data.lastModified}`),s},hDe=function(o){if(o==null&&(o=typeof navigator<"u"?navigator.userAgent:null),!o)return!0;const s=/Edge\/(\d+\.\d+)/.exec(o);if(!s)return!0;const l=s[1];let[c,d]=l.split(".");return c=parseInt(c,10),d=parseInt(d,10),c<15||c===15&&d<15063||c>18||c===18&&d>=18218},pDe=function(o,s){return s.name?s.name:o.split("/")[0]==="image"?`${o.split("/")[0]}.${o.split("/")[1]}`:"noname"};function Ine(e){return e<10?`0${e}`:e.toString()}var kV=function(){const o=new Date,s=Ine(o.getHours()),l=Ine(o.getMinutes()),c=Ine(o.getSeconds());return`${s}:${l}:${c}`};const gDe={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.error(`[Uppy] [${kV()}]`,...o)}},mDe={debug:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.debug(`[Uppy] [${kV()}]`,...o)},warn:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.warn(`[Uppy] [${kV()}]`,...o)},error:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.error(`[Uppy] [${kV()}]`,...o)}};var NCe={justErrorsLogger:gDe,debugLogger:mDe},vDe={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},PCe=tDe;let FCe,RCe;function cr(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var bDe=0;function Hc(e){return"__private_"+bDe+++"_"+e}const{nanoid:yDe}=PCe,{justErrorsLogger:wDe,debugLogger:CDe}=NCe;class Bv extends Error{constructor(){super(...arguments),this.isRestriction=!0}}typeof AggregateError>"u"&&(globalThis.AggregateError=class extends Error{constructor(o,s){super(s),this.errors=o}});class SDe extends AggregateError{constructor(){super(...arguments),this.isRestriction=!0}}var Qu=Hc("plugins"),aB=Hc("storeUnsubscribe"),Yb=Hc("emitter"),ZE=Hc("preProcessors"),GE=Hc("uploaders"),ty=Hc("postProcessors"),SN=Hc("checkRestrictions"),Lne=Hc("checkMinNumberOfFiles"),ZN=Hc("checkRequiredMetaFieldsOnFile"),Hne=Hc("checkRequiredMetaFields"),ru=Hc("showOrLogErrorAndThrow"),iB=Hc("assertNewUploadAllowed"),lB=Hc("checkAndCreateFileStateObject"),cB=Hc("startIfAutoProceed"),jne=Hc("addListeners"),Nm=Hc("updateOnlineStatus"),Xb=Hc("createUpload"),zne=Hc("getUpload"),QE=Hc("removeUpload"),Jb=Hc("runUpload");FCe=Symbol.for("uppy test: getPlugins");RCe=Symbol.for("uppy test: createUpload");class MCe{constructor(o){Object.defineProperty(this,Jb,{value:FDe}),Object.defineProperty(this,QE,{value:PDe}),Object.defineProperty(this,zne,{value:NDe}),Object.defineProperty(this,Xb,{value:BDe}),Object.defineProperty(this,jne,{value:DDe}),Object.defineProperty(this,cB,{value:$De}),Object.defineProperty(this,lB,{value:_De}),Object.defineProperty(this,iB,{value:ODe}),Object.defineProperty(this,ru,{value:TDe}),Object.defineProperty(this,Hne,{value:ADe}),Object.defineProperty(this,ZN,{value:kDe}),Object.defineProperty(this,Lne,{value:EDe}),Object.defineProperty(this,SN,{value:xDe}),Object.defineProperty(this,Qu,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,aB,{writable:!0,value:void 0}),Object.defineProperty(this,Yb,{writable:!0,value:TCe()}),Object.defineProperty(this,ZE,{writable:!0,value:new Set}),Object.defineProperty(this,GE,{writable:!0,value:new Set}),Object.defineProperty(this,ty,{writable:!0,value:new Set}),Object.defineProperty(this,Nm,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=vDe;const s={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:l=>l,onBeforeUpload:l=>l,store:cDe(),logger:wDe,infoTimeout:5e3};if(this.opts={...s,...o,restrictions:{...s.restrictions,...o&&o.restrictions}},o&&o.logger&&o.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):o&&o.debug&&(this.opts.logger=CDe),this.log(`Using Core v${this.constructor.VERSION}`),this.opts.restrictions.allowedFileTypes&&this.opts.restrictions.allowedFileTypes!==null&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=x4(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:hDe(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),cr(this,aB)[aB]=this.store.subscribe((l,c,d)=>{this.emit("state-update",l,c,d),this.updateAll(c)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),cr(this,jne)[jne]()}emit(o){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];cr(this,Yb)[Yb].emit(o,...l)}on(o,s){return cr(this,Yb)[Yb].on(o,s),this}once(o,s){return cr(this,Yb)[Yb].once(o,s),this}off(o,s){return cr(this,Yb)[Yb].off(o,s),this}updateAll(o){this.iteratePlugins(s=>{s.update(o)})}setState(o){this.store.setState(o)}getState(){return this.store.getState()}get state(){return this.getState()}setFileState(o,s){if(!this.getState().files[o])throw new Error(`Can\u2019t set state for ${o} (the file could have been removed)`);this.setState({files:{...this.getState().files,[o]:{...this.getState().files[o],...s}}})}i18nInit(){const o=new ACe([this.defaultLocale,this.opts.locale]);this.i18n=o.translate.bind(o),this.i18nArray=o.translateArray.bind(o),this.locale=o.locale}setOptions(o){this.opts={...this.opts,...o,restrictions:{...this.opts.restrictions,...o&&o.restrictions}},o.meta&&this.setMeta(o.meta),this.i18nInit(),o.locale&&this.iteratePlugins(s=>{s.setOptions()}),this.setState()}resetProgress(){const o={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},s={...this.getState().files},l={};Object.keys(s).forEach(c=>{const d={...s[c]};d.progress={...d.progress,...o},l[c]=d}),this.setState({files:l,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(o){cr(this,ZE)[ZE].add(o)}removePreProcessor(o){return cr(this,ZE)[ZE].delete(o)}addPostProcessor(o){cr(this,ty)[ty].add(o)}removePostProcessor(o){return cr(this,ty)[ty].delete(o)}addUploader(o){cr(this,GE)[GE].add(o)}removeUploader(o){return cr(this,GE)[GE].delete(o)}setMeta(o){const s={...this.getState().meta,...o},l={...this.getState().files};Object.keys(l).forEach(c=>{l[c]={...l[c],meta:{...l[c].meta,...o}}}),this.log("Adding metadata:"),this.log(o),this.setState({meta:s,files:l})}setFileMeta(o,s){const l={...this.getState().files};if(!l[o]){this.log("Was trying to set metadata for a file that has been removed: ",o);return}const c={...l[o].meta,...s};l[o]={...l[o],meta:c},this.setState({files:l})}getFile(o){return this.getState().files[o]}getFiles(){const{files:o}=this.getState();return Object.values(o)}getObjectOfFilesPerState(){const{files:o,totalProgress:s,error:l}=this.getState(),c=Object.values(o),d=c.filter(F=>{let{progress:N}=F;return!N.uploadComplete&&N.uploadStarted}),p=c.filter(F=>!F.progress.uploadStarted),v=c.filter(F=>F.progress.uploadStarted||F.progress.preprocess||F.progress.postprocess),y=c.filter(F=>F.progress.uploadStarted),S=c.filter(F=>F.isPaused),x=c.filter(F=>F.progress.uploadComplete),T=c.filter(F=>F.error),k=d.filter(F=>!F.isPaused),A=c.filter(F=>F.progress.preprocess||F.progress.postprocess);return{newFiles:p,startedFiles:v,uploadStartedFiles:y,pausedFiles:S,completeFiles:x,erroredFiles:T,inProgressFiles:d,inProgressNotPausedFiles:k,processingFiles:A,isUploadStarted:y.length>0,isAllComplete:s===100&&x.length===c.length&&A.length===0,isAllErrored:!!l&&T.length===c.length,isAllPaused:d.length!==0&&S.length===d.length,isUploadInProgress:d.length>0,isSomeGhost:c.some(F=>F.isGhost)}}validateRestrictions(o,s){try{return cr(this,SN)[SN](o,s),{result:!0}}catch(l){return{result:!1,reason:l.message}}}checkIfFileAlreadyExists(o){const{files:s}=this.getState();return!!(s[o]&&!s[o].isGhost)}addFile(o){cr(this,iB)[iB](o);const{files:s}=this.getState();let l=cr(this,lB)[lB](s,o);return s[l.id]&&s[l.id].isGhost&&(l={...s[l.id],data:o.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)),this.setState({files:{...s,[l.id]:l}}),this.emit("file-added",l),this.emit("files-added",[l]),this.log(`Added file: ${l.name}, ${l.id}, mime type: ${l.type}`),cr(this,cB)[cB](),l.id}addFiles(o){cr(this,iB)[iB]();const s={...this.getState().files},l=[],c=[];for(let d=0;d<o.length;d++)try{let p=cr(this,lB)[lB](s,o[d]);s[p.id]&&s[p.id].isGhost&&(p={...s[p.id],data:o[d].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${p.name}, ${p.id}`)),s[p.id]=p,l.push(p)}catch(p){p.isRestriction||c.push(p)}if(this.setState({files:s}),l.forEach(d=>{this.emit("file-added",d)}),this.emit("files-added",l),l.length>5?this.log(`Added batch of ${l.length} files`):Object.keys(l).forEach(d=>{this.log(`Added file: ${l[d].name}
 id: ${l[d].id}
 type: ${l[d].type}`)}),l.length>0&&cr(this,cB)[cB](),c.length>0){let d=`Multiple errors occurred while adding files:
`;if(c.forEach(p=>{d+=`
 * ${p.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:c.length}),details:d},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(c,d);{const p=new Error(d);throw p.errors=c,p}}}removeFiles(o,s){const{files:l,currentUploads:c}=this.getState(),d={...l},p={...c},v=Object.create(null);o.forEach(T=>{l[T]&&(v[T]=l[T],delete d[T])});function y(T){return v[T]===void 0}Object.keys(p).forEach(T=>{const k=c[T].fileIDs.filter(y);if(k.length===0){delete p[T];return}p[T]={...c[T],fileIDs:k}});const S={currentUploads:p,files:d};Object.keys(d).length===0&&(S.allowNewUpload=!0,S.error=null,S.recoveredState=null),this.setState(S),this.calculateTotalProgress();const x=Object.keys(v);x.forEach(T=>{this.emit("file-removed",v[T],s)}),x.length>5?this.log(`Removed ${x.length} files`):this.log(`Removed files: ${x.join(", ")}`)}removeFile(o,s){s===void 0&&(s=null),this.removeFiles([o],s)}pauseResume(o){if(!this.getState().capabilities.resumableUploads||this.getFile(o).uploadComplete)return;const l=!(this.getFile(o).isPaused||!1);return this.setFileState(o,{isPaused:l}),this.emit("upload-pause",o,l),l}pauseAll(){const o={...this.getState().files};Object.keys(o).filter(l=>!o[l].progress.uploadComplete&&o[l].progress.uploadStarted).forEach(l=>{const c={...o[l],isPaused:!0};o[l]=c}),this.setState({files:o}),this.emit("pause-all")}resumeAll(){const o={...this.getState().files};Object.keys(o).filter(l=>!o[l].progress.uploadComplete&&o[l].progress.uploadStarted).forEach(l=>{const c={...o[l],isPaused:!1,error:null};o[l]=c}),this.setState({files:o}),this.emit("resume-all")}retryAll(){const o={...this.getState().files},s=Object.keys(o).filter(c=>o[c].error);if(s.forEach(c=>{const d={...o[c],isPaused:!1,error:null};o[c]=d}),this.setState({files:o,error:null}),this.emit("retry-all",s),s.length===0)return Promise.resolve({successful:[],failed:[]});const l=cr(this,Xb)[Xb](s,{forceAllowNewUpload:!0});return cr(this,Jb)[Jb](l)}cancelAll(){this.emit("cancel-all");const{files:o}=this.getState(),s=Object.keys(o);s.length&&this.removeFiles(s,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}retryUpload(o){this.setFileState(o,{error:null,isPaused:!1}),this.emit("upload-retry",o);const s=cr(this,Xb)[Xb]([o],{forceAllowNewUpload:!0});return cr(this,Jb)[Jb](s)}reset(){this.cancelAll()}logout(){this.iteratePlugins(o=>{o.provider&&o.provider.logout&&o.provider.logout()})}calculateProgress(o,s){if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const l=Number.isFinite(s.bytesTotal)&&s.bytesTotal>0;this.setFileState(o.id,{progress:{...this.getFile(o.id).progress,bytesUploaded:s.bytesUploaded,bytesTotal:s.bytesTotal,percentage:l?Math.round(s.bytesUploaded/s.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){const s=this.getFiles().filter(S=>S.progress.uploadStarted||S.progress.preprocess||S.progress.postprocess);if(s.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const l=s.filter(S=>S.progress.bytesTotal!=null),c=s.filter(S=>S.progress.bytesTotal==null);if(l.length===0){const S=s.length*100,x=c.reduce((k,A)=>k+A.progress.percentage,0),T=Math.round(x/S*100);this.setState({totalProgress:T});return}let d=l.reduce((S,x)=>S+x.progress.bytesTotal,0);const p=d/l.length;d+=p*c.length;let v=0;l.forEach(S=>{v+=S.progress.bytesUploaded}),c.forEach(S=>{v+=p*(S.progress.percentage||0)/100});let y=d===0?0:Math.round(v/d*100);y>100&&(y=100),this.setState({totalProgress:y}),this.emit("progress",y)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(o,s){if(typeof o!="function"){const p=`Expected a plugin class, but got ${o===null?"null":typeof o}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(p)}const l=new o(this,s),c=l.id;if(!c)throw new Error("Your plugin must have an id");if(!l.type)throw new Error("Your plugin must have a type");const d=this.getPlugin(c);if(d){const p=`Already found a plugin named '${d.id}'. Tried to use: '${c}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(p)}return o.VERSION&&this.log(`Using ${c} v${o.VERSION}`),l.type in cr(this,Qu)[Qu]?cr(this,Qu)[Qu][l.type].push(l):cr(this,Qu)[Qu][l.type]=[l],l.install(),this}getPlugin(o){for(const s of Object.values(cr(this,Qu)[Qu])){const l=s.find(c=>c.id===o);if(l!=null)return l}}[FCe](o){return cr(this,Qu)[Qu][o]}iteratePlugins(o){Object.values(cr(this,Qu)[Qu]).flat(1).forEach(o)}removePlugin(o){this.log(`Removing plugin ${o.id}`),this.emit("plugin-remove",o),o.uninstall&&o.uninstall();const s=cr(this,Qu)[Qu][o.type],l=s.findIndex(p=>p.id===o.id);l!==-1&&s.splice(l,1);const d={plugins:{...this.getState().plugins,[o.id]:void 0}};this.setState(d)}close(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.reset(),cr(this,aB)[aB](),this.iteratePlugins(o=>{this.removePlugin(o)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",cr(this,Nm)[Nm]),window.removeEventListener("offline",cr(this,Nm)[Nm]))}hideInfo(){const{info:o}=this.getState();this.setState({info:o.slice(1)}),this.emit("info-hidden")}info(o,s,l){s===void 0&&(s="info"),l===void 0&&(l=3e3);const c=typeof o=="object";this.setState({info:[...this.getState().info,{type:s,message:c?o.message:o,details:c?o.details:null}]}),setTimeout(()=>this.hideInfo(),l),this.emit("info-visible")}log(o,s){const{logger:l}=this.opts;switch(s){case"error":l.error(o);break;case"warning":l.warn(o);break;default:l.debug(o);break}}restore(o){return this.log(`Core: attempting to restore upload "${o}"`),this.getState().currentUploads[o]?cr(this,Jb)[Jb](o):(cr(this,QE)[QE](o),Promise.reject(new Error("Nonexistent upload")))}[RCe](){return cr(this,Xb)[Xb](...arguments)}addResultData(o,s){if(!cr(this,zne)[zne](o)){this.log(`Not setting result for an upload that has been removed: ${o}`);return}const{currentUploads:l}=this.getState(),c={...l[o],result:{...l[o].result,...s}};this.setState({currentUploads:{...l,[o]:c}})}upload(){var o;(o=cr(this,Qu)[Qu].uploader)!=null&&o.length||this.log("No uploader type plugins are used","warning");let{files:s}=this.getState();const l=this.opts.onBeforeUpload(s);return l===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(l&&typeof l=="object"&&(s=l,this.setState({files:s})),Promise.resolve().then(()=>{cr(this,Lne)[Lne](s),cr(this,Hne)[Hne](s)}).catch(c=>{cr(this,ru)[ru](c)}).then(()=>{const{currentUploads:c}=this.getState(),d=Object.values(c).flatMap(y=>y.fileIDs),p=[];Object.keys(s).forEach(y=>{const S=this.getFile(y);!S.progress.uploadStarted&&d.indexOf(y)===-1&&p.push(S.id)});const v=cr(this,Xb)[Xb](p);return cr(this,Jb)[Jb](v)}).catch(c=>{cr(this,ru)[ru](c,{showInformer:!1})}))}}function xDe(e,o){o===void 0&&(o=this.getFiles());const{maxFileSize:s,minFileSize:l,maxTotalFileSize:c,maxNumberOfFiles:d,allowedFileTypes:p}=this.opts.restrictions;if(d&&o.length+1>d)throw new Bv(`${this.i18n("youCanOnlyUploadX",{smart_count:d})}`);if(p&&!p.some(y=>y.indexOf("/")>-1?e.type?rDe(e.type.replace(/;.*?$/,""),y):!1:y[0]==="."&&e.extension?e.extension.toLowerCase()===y.substr(1).toLowerCase():!1)){const y=p.join(", ");throw new Bv(this.i18n("youCanOnlyUploadFileTypes",{types:y}))}if(c&&e.size!=null){let v=0;if(v+=e.size,o.forEach(y=>{v+=y.size}),v>c)throw new Bv(this.i18n("exceedsSize",{size:Rne(c),file:e.name}))}if(s&&e.size!=null&&e.size>s)throw new Bv(this.i18n("exceedsSize",{size:Rne(s),file:e.name}));if(l&&e.size!=null&&e.size<l)throw new Bv(this.i18n("inferiorSize",{size:Rne(l)}))}function EDe(e){const{minNumberOfFiles:o}=this.opts.restrictions;if(Object.keys(e).length<o)throw new Bv(`${this.i18n("youHaveToAtLeastSelectX",{smart_count:o})}`)}function kDe(e){const{requiredMetaFields:o}=this.opts.restrictions,{hasOwnProperty:s}=Object.prototype,l=[],c=[];for(let d=0;d<o.length;d++)if(!s.call(e.meta,o[d])||e.meta[o[d]]===""){const p=new Bv(`${this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})}`);l.push(p),c.push(o[d]),cr(this,ru)[ru](p,{file:e,showInformer:!1,throwErr:!1})}return this.setFileState(e.id,{missingRequiredMetaFields:c}),l}function ADe(e){const o=Object.keys(e).flatMap(s=>{const l=this.getFile(s);return cr(this,ZN)[ZN](l)});if(o.length)throw new SDe(o,`${this.i18n("missingRequiredMetaField")}`)}function TDe(e,o){let{showInformer:s=!0,file:l=null,throwErr:c=!0}=o===void 0?{}:o;const d=typeof e=="object"?e.message:e,p=typeof e=="object"&&e.details?e.details:"";let v=d;if(p&&(v+=` ${p}`),e.isRestriction?(this.log(v),this.emit("restriction-failed",l,e)):this.log(v,"error"),s&&this.info({message:d,details:p},"error",this.opts.infoTimeout),c)throw typeof e=="object"?e:new Error(e)}function ODe(e){const{allowNewUpload:o}=this.getState();o===!1&&cr(this,ru)[ru](new Bv(this.i18n("noMoreFilesAllowed")),{file:e})}function _De(e,o){const s=uDe(o),l=pDe(s,o),c=BCe(l).extension,d=Boolean(o.isRemote),p=dDe({...o,type:s});if(this.checkIfFileAlreadyExists(p)){const T=new Bv(this.i18n("noDuplicates",{fileName:l}));cr(this,ru)[ru](T,{file:o})}const v=o.meta||{};v.name=l,v.type=s;const y=Number.isFinite(o.data.size)?o.data.size:null;let S={source:o.source||"",id:p,name:l,extension:c||"",meta:{...this.getState().meta,...v},type:s,data:o.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:y,uploadComplete:!1,uploadStarted:null},size:y,isRemote:d,remote:o.remote||"",preview:o.preview};const x=this.opts.onBeforeFileAdded(S,e);x===!1?cr(this,ru)[ru](new Bv("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:o}):typeof x=="object"&&x!==null&&(S=x);try{const T=Object.keys(e).map(k=>e[k]);cr(this,SN)[SN](S,T)}catch(T){cr(this,ru)[ru](T,{file:S})}return S}function $De(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))}function DDe(){const e=(o,s,l)=>{let c=o.message||"Unknown error";o.details&&(c+=` ${o.details}`),this.setState({error:c}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:c,response:l})};this.on("error",e),this.on("upload-error",(o,s,l)=>{if(e(s,o,l),typeof s=="object"&&s.message){const c=new Error(s.message);c.details=s.message,s.details&&(c.details+=` ${s.details}`),c.message=this.i18n("failedToUpload",{file:o.name}),cr(this,ru)[ru](c,{throwErr:!1})}else cr(this,ru)[ru](s,{throwErr:!1})}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",o=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}this.setFileState(o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:o.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(o,s)=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const l=this.getFile(o.id).progress;this.setFileState(o.id,{progress:{...l,postprocess:cr(this,ty)[ty].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:l.bytesTotal},response:s,uploadURL:s.uploadURL,isPaused:!1}),o.size==null&&this.setFileState(o.id,{size:s.bytesUploaded||l.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(o,s)=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}this.setFileState(o.id,{progress:{...this.getFile(o.id).progress,preprocess:s}})}),this.on("preprocess-complete",o=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const s={...this.getState().files};s[o.id]={...s[o.id],progress:{...s[o.id].progress}},delete s[o.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(o,s)=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}this.setFileState(o.id,{progress:{...this.getState().files[o.id].progress,postprocess:s}})}),this.on("postprocess-complete",o=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const s={...this.getState().files};s[o.id]={...s[o.id],progress:{...s[o.id].progress}},delete s[o.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",o=>{o&&cr(this,ZN)[ZN](o)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",cr(this,Nm)[Nm]),window.addEventListener("offline",cr(this,Nm)[Nm]),setTimeout(cr(this,Nm)[Nm],3e3))}function BDe(e,o){o===void 0&&(o={});const{forceAllowNewUpload:s=!1}=o,{allowNewUpload:l,currentUploads:c}=this.getState();if(!l&&!s)throw new Error("Cannot create a new upload: already uploading.");const d=yDe();return this.emit("upload",{id:d,fileIDs:e}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...c,[d]:{fileIDs:e,step:0,result:{}}}}),d}function NDe(e){const{currentUploads:o}=this.getState();return o[e]}function PDe(e){const o={...this.getState().currentUploads};delete o[e],this.setState({currentUploads:o})}async function FDe(e){let{currentUploads:o}=this.getState(),s=o[e];const l=s.step||0,c=[...cr(this,ZE)[ZE],...cr(this,GE)[GE],...cr(this,ty)[ty]];try{for(let p=l;p<c.length&&s;p++){const v=c[p],y={...s,step:p};this.setState({currentUploads:{...o,[e]:y}}),await v(y.fileIDs,e),o=this.getState().currentUploads,s=o[e]}}catch(p){throw this.emit("error",p),cr(this,QE)[QE](e),p}if(s){s.fileIDs.forEach(S=>{const x=this.getFile(S);x&&x.progress.postprocess&&this.emit("postprocess-complete",x)});const p=s.fileIDs.map(S=>this.getFile(S)),v=p.filter(S=>!S.error),y=p.filter(S=>S.error);await this.addResultData(e,{successful:v,failed:y,uploadID:e}),o=this.getState().currentUploads,s=o[e]}let d;return s&&(d=s.result,this.emit("complete",d),cr(this,QE)[QE](e)),d==null&&this.log(`Not setting result for an upload that has been removed: ${e}`),d}MCe.VERSION="2.1.3";var ICe=MCe,RDe=wce(function(e,o){var s,l,c,d,p,v,y,S,x={},T=[],k=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function A(le,fe){for(var ce in fe)le[ce]=fe[ce];return le}function F(le){var fe=le.parentNode;fe&&fe.removeChild(le)}function N(le,fe,ce){var Be,Ce,me,q={};for(me in fe)me=="key"?Be=fe[me]:me=="ref"?Ce=fe[me]:q[me]=fe[me];if(arguments.length>2&&(q.children=arguments.length>3?s.call(arguments,2):ce),typeof le=="function"&&le.defaultProps!=null)for(me in le.defaultProps)q[me]===void 0&&(q[me]=le.defaultProps[me]);return D(le,q,Be,Ce,null)}function D(le,fe,ce,Be,Ce){var me={type:le,props:fe,key:ce,ref:Be,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ce==null?++c:Ce};return Ce==null&&l.vnode!=null&&l.vnode(me),me}function B(le){return le.children}function O(le,fe){this.props=le,this.context=fe}function P(le,fe){if(fe==null)return le.__?P(le.__,le.__.__k.indexOf(le)+1):null;for(var ce;fe<le.__k.length;fe++)if((ce=le.__k[fe])!=null&&ce.__e!=null)return ce.__e;return typeof le.type=="function"?P(le):null}function I(le){var fe,ce;if((le=le.__)!=null&&le.__c!=null){for(le.__e=le.__c.base=null,fe=0;fe<le.__k.length;fe++)if((ce=le.__k[fe])!=null&&ce.__e!=null){le.__e=le.__c.base=ce.__e;break}return I(le)}}function z(le){(!le.__d&&(le.__d=!0)&&p.push(le)&&!K.__r++||y!==l.debounceRendering)&&((y=l.debounceRendering)||v)(K)}function K(){for(var le;K.__r=p.length;)le=p.sort(function(fe,ce){return fe.__v.__b-ce.__v.__b}),p=[],le.some(function(fe){var ce,Be,Ce,me,q,Ze;fe.__d&&(q=(me=(ce=fe).__v).__e,(Ze=ce.__P)&&(Be=[],(Ce=A({},me)).__v=me.__v+1,be(Ze,me,Ce,ce.__n,Ze.ownerSVGElement!==void 0,me.__h!=null?[q]:null,Be,q==null?P(me):q,me.__h),qe(Be,me),me.__e!=q&&I(me)))})}function j(le,fe,ce,Be,Ce,me,q,Ze,We,tt){var Qe,at,He,Re,Ve,Oe,ve,se=Be&&Be.__k||T,xe=se.length;for(ce.__k=[],Qe=0;Qe<fe.length;Qe++)if((Re=ce.__k[Qe]=(Re=fe[Qe])==null||typeof Re=="boolean"?null:typeof Re=="string"||typeof Re=="number"||typeof Re=="bigint"?D(null,Re,null,null,Re):Array.isArray(Re)?D(B,{children:Re},null,null,null):Re.__b>0?D(Re.type,Re.props,Re.key,null,Re.__v):Re)!=null){if(Re.__=ce,Re.__b=ce.__b+1,(He=se[Qe])===null||He&&Re.key==He.key&&Re.type===He.type)se[Qe]=void 0;else for(at=0;at<xe;at++){if((He=se[at])&&Re.key==He.key&&Re.type===He.type){se[at]=void 0;break}He=null}be(le,Re,He=He||x,Ce,me,q,Ze,We,tt),Ve=Re.__e,(at=Re.ref)&&He.ref!=at&&(ve||(ve=[]),He.ref&&ve.push(He.ref,null,Re),ve.push(at,Re.__c||Ve,Re)),Ve!=null?(Oe==null&&(Oe=Ve),typeof Re.type=="function"&&Re.__k===He.__k?Re.__d=We=oe(Re,We,le):We=ke(le,Re,He,se,Ve,We),typeof ce.type=="function"&&(ce.__d=We)):We&&He.__e==We&&We.parentNode!=le&&(We=P(He))}for(ce.__e=Oe,Qe=xe;Qe--;)se[Qe]!=null&&(typeof ce.type=="function"&&se[Qe].__e!=null&&se[Qe].__e==ce.__d&&(ce.__d=P(Be,Qe+1)),De(se[Qe],se[Qe]));if(ve)for(Qe=0;Qe<ve.length;Qe++)Fe(ve[Qe],ve[++Qe],ve[++Qe])}function oe(le,fe,ce){for(var Be,Ce=le.__k,me=0;Ce&&me<Ce.length;me++)(Be=Ce[me])&&(Be.__=le,fe=typeof Be.type=="function"?oe(Be,fe,ce):ke(ce,Be,Be,Ce,Be.__e,fe));return fe}function ke(le,fe,ce,Be,Ce,me){var q,Ze,We;if(fe.__d!==void 0)q=fe.__d,fe.__d=void 0;else if(ce==null||Ce!=me||Ce.parentNode==null)e:if(me==null||me.parentNode!==le)le.appendChild(Ce),q=null;else{for(Ze=me,We=0;(Ze=Ze.nextSibling)&&We<Be.length;We+=2)if(Ze==Ce)break e;le.insertBefore(Ce,me),q=me}return q!==void 0?q:Ce.nextSibling}function ae(le,fe,ce,Be,Ce){var me;for(me in ce)me==="children"||me==="key"||me in fe||G(le,me,null,ce[me],Be);for(me in fe)Ce&&typeof fe[me]!="function"||me==="children"||me==="key"||me==="value"||me==="checked"||ce[me]===fe[me]||G(le,me,fe[me],ce[me],Be)}function Q(le,fe,ce){fe[0]==="-"?le.setProperty(fe,ce):le[fe]=ce==null?"":typeof ce!="number"||k.test(fe)?ce:ce+"px"}function G(le,fe,ce,Be,Ce){var me;e:if(fe==="style")if(typeof ce=="string")le.style.cssText=ce;else{if(typeof Be=="string"&&(le.style.cssText=Be=""),Be)for(fe in Be)ce&&fe in ce||Q(le.style,fe,"");if(ce)for(fe in ce)Be&&ce[fe]===Be[fe]||Q(le.style,fe,ce[fe])}else if(fe[0]==="o"&&fe[1]==="n")me=fe!==(fe=fe.replace(/Capture$/,"")),fe=fe.toLowerCase()in le?fe.toLowerCase().slice(2):fe.slice(2),le.l||(le.l={}),le.l[fe+me]=ce,ce?Be||le.addEventListener(fe,me?pe:ue,me):le.removeEventListener(fe,me?pe:ue,me);else if(fe!=="dangerouslySetInnerHTML"){if(Ce)fe=fe.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(fe!=="href"&&fe!=="list"&&fe!=="form"&&fe!=="tabIndex"&&fe!=="download"&&fe in le)try{le[fe]=ce==null?"":ce;break e}catch{}typeof ce=="function"||(ce!=null&&(ce!==!1||fe[0]==="a"&&fe[1]==="r")?le.setAttribute(fe,ce):le.removeAttribute(fe))}}function ue(le){this.l[le.type+!1](l.event?l.event(le):le)}function pe(le){this.l[le.type+!0](l.event?l.event(le):le)}function be(le,fe,ce,Be,Ce,me,q,Ze,We){var tt,Qe,at,He,Re,Ve,Oe,ve,se,xe,ot,Xe=fe.type;if(fe.constructor!==void 0)return null;ce.__h!=null&&(We=ce.__h,Ze=fe.__e=ce.__e,fe.__h=null,me=[Ze]),(tt=l.__b)&&tt(fe);try{e:if(typeof Xe=="function"){if(ve=fe.props,se=(tt=Xe.contextType)&&Be[tt.__c],xe=tt?se?se.props.value:tt.__:Be,ce.__c?Oe=(Qe=fe.__c=ce.__c).__=Qe.__E:("prototype"in Xe&&Xe.prototype.render?fe.__c=Qe=new Xe(ve,xe):(fe.__c=Qe=new O(ve,xe),Qe.constructor=Xe,Qe.render=Se),se&&se.sub(Qe),Qe.props=ve,Qe.state||(Qe.state={}),Qe.context=xe,Qe.__n=Be,at=Qe.__d=!0,Qe.__h=[]),Qe.__s==null&&(Qe.__s=Qe.state),Xe.getDerivedStateFromProps!=null&&(Qe.__s==Qe.state&&(Qe.__s=A({},Qe.__s)),A(Qe.__s,Xe.getDerivedStateFromProps(ve,Qe.__s))),He=Qe.props,Re=Qe.state,at)Xe.getDerivedStateFromProps==null&&Qe.componentWillMount!=null&&Qe.componentWillMount(),Qe.componentDidMount!=null&&Qe.__h.push(Qe.componentDidMount);else{if(Xe.getDerivedStateFromProps==null&&ve!==He&&Qe.componentWillReceiveProps!=null&&Qe.componentWillReceiveProps(ve,xe),!Qe.__e&&Qe.shouldComponentUpdate!=null&&Qe.shouldComponentUpdate(ve,Qe.__s,xe)===!1||fe.__v===ce.__v){Qe.props=ve,Qe.state=Qe.__s,fe.__v!==ce.__v&&(Qe.__d=!1),Qe.__v=fe,fe.__e=ce.__e,fe.__k=ce.__k,fe.__k.forEach(function(jt){jt&&(jt.__=fe)}),Qe.__h.length&&q.push(Qe);break e}Qe.componentWillUpdate!=null&&Qe.componentWillUpdate(ve,Qe.__s,xe),Qe.componentDidUpdate!=null&&Qe.__h.push(function(){Qe.componentDidUpdate(He,Re,Ve)})}Qe.context=xe,Qe.props=ve,Qe.state=Qe.__s,(tt=l.__r)&&tt(fe),Qe.__d=!1,Qe.__v=fe,Qe.__P=le,tt=Qe.render(Qe.props,Qe.state,Qe.context),Qe.state=Qe.__s,Qe.getChildContext!=null&&(Be=A(A({},Be),Qe.getChildContext())),at||Qe.getSnapshotBeforeUpdate==null||(Ve=Qe.getSnapshotBeforeUpdate(He,Re)),ot=tt!=null&&tt.type===B&&tt.key==null?tt.props.children:tt,j(le,Array.isArray(ot)?ot:[ot],fe,ce,Be,Ce,me,q,Ze,We),Qe.base=fe.__e,fe.__h=null,Qe.__h.length&&q.push(Qe),Oe&&(Qe.__E=Qe.__=null),Qe.__e=!1}else me==null&&fe.__v===ce.__v?(fe.__k=ce.__k,fe.__e=ce.__e):fe.__e=U(ce.__e,fe,ce,Be,Ce,me,q,We);(tt=l.diffed)&&tt(fe)}catch(jt){fe.__v=null,(We||me!=null)&&(fe.__e=Ze,fe.__h=!!We,me[me.indexOf(Ze)]=null),l.__e(jt,fe,ce)}}function qe(le,fe){l.__c&&l.__c(fe,le),le.some(function(ce){try{le=ce.__h,ce.__h=[],le.some(function(Be){Be.call(ce)})}catch(Be){l.__e(Be,ce.__v)}})}function U(le,fe,ce,Be,Ce,me,q,Ze){var We,tt,Qe,at=ce.props,He=fe.props,Re=fe.type,Ve=0;if(Re==="svg"&&(Ce=!0),me!=null){for(;Ve<me.length;Ve++)if((We=me[Ve])&&"setAttribute"in We==!!Re&&(Re?We.localName===Re:We.nodeType===3)){le=We,me[Ve]=null;break}}if(le==null){if(Re===null)return document.createTextNode(He);le=Ce?document.createElementNS("http://www.w3.org/2000/svg",Re):document.createElement(Re,He.is&&He),me=null,Ze=!1}if(Re===null)at===He||Ze&&le.data===He||(le.data=He);else{if(me=me&&s.call(le.childNodes),tt=(at=ce.props||x).dangerouslySetInnerHTML,Qe=He.dangerouslySetInnerHTML,!Ze){if(me!=null)for(at={},Ve=0;Ve<le.attributes.length;Ve++)at[le.attributes[Ve].name]=le.attributes[Ve].value;(Qe||tt)&&(Qe&&(tt&&Qe.__html==tt.__html||Qe.__html===le.innerHTML)||(le.innerHTML=Qe&&Qe.__html||""))}if(ae(le,He,at,Ce,Ze),Qe)fe.__k=[];else if(Ve=fe.props.children,j(le,Array.isArray(Ve)?Ve:[Ve],fe,ce,Be,Ce&&Re!=="foreignObject",me,q,me?me[0]:ce.__k&&P(ce,0),Ze),me!=null)for(Ve=me.length;Ve--;)me[Ve]!=null&&F(me[Ve]);Ze||("value"in He&&(Ve=He.value)!==void 0&&(Ve!==at.value||Ve!==le.value||Re==="progress"&&!Ve)&&G(le,"value",Ve,at.value,!1),"checked"in He&&(Ve=He.checked)!==void 0&&Ve!==le.checked&&G(le,"checked",Ve,at.checked,!1))}return le}function Fe(le,fe,ce){try{typeof le=="function"?le(fe):le.current=fe}catch(Be){l.__e(Be,ce)}}function De(le,fe,ce){var Be,Ce;if(l.unmount&&l.unmount(le),(Be=le.ref)&&(Be.current&&Be.current!==le.__e||Fe(Be,null,fe)),(Be=le.__c)!=null){if(Be.componentWillUnmount)try{Be.componentWillUnmount()}catch(me){l.__e(me,fe)}Be.base=Be.__P=null}if(Be=le.__k)for(Ce=0;Ce<Be.length;Ce++)Be[Ce]&&De(Be[Ce],fe,typeof le.type!="function");ce||le.__e==null||F(le.__e),le.__e=le.__d=void 0}function Se(le,fe,ce){return this.constructor(le,ce)}function re(le,fe,ce){var Be,Ce,me;l.__&&l.__(le,fe),Ce=(Be=typeof ce=="function")?null:ce&&ce.__k||fe.__k,me=[],be(fe,le=(!Be&&ce||fe).__k=N(B,null,[le]),Ce||x,x,fe.ownerSVGElement!==void 0,!Be&&ce?[ce]:Ce?null:fe.firstChild?s.call(fe.childNodes):null,me,!Be&&ce?ce:Ce?Ce.__e:fe.firstChild,Be),qe(me,le)}s=T.slice,l={__e:function(le,fe){for(var ce,Be,Ce;fe=fe.__;)if((ce=fe.__c)&&!ce.__)try{if((Be=ce.constructor)&&Be.getDerivedStateFromError!=null&&(ce.setState(Be.getDerivedStateFromError(le)),Ce=ce.__d),ce.componentDidCatch!=null&&(ce.componentDidCatch(le),Ce=ce.__d),Ce)return ce.__E=ce}catch(me){le=me}throw le}},c=0,d=function(le){return le!=null&&le.constructor===void 0},O.prototype.setState=function(le,fe){var ce;ce=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=A({},this.state),typeof le=="function"&&(le=le(A({},ce),this.props)),le&&A(ce,le),le!=null&&this.__v&&(fe&&this.__h.push(fe),z(this))},O.prototype.forceUpdate=function(le){this.__v&&(this.__e=!0,le&&this.__h.push(le),z(this))},O.prototype.render=B,p=[],v=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,K.__r=0,S=0,o.Component=O,o.Fragment=B,o.cloneElement=function(le,fe,ce){var Be,Ce,me,q=A({},le.props);for(me in fe)me=="key"?Be=fe[me]:me=="ref"?Ce=fe[me]:q[me]=fe[me];return arguments.length>2&&(q.children=arguments.length>3?s.call(arguments,2):ce),D(le.type,q,Be||le.key,Ce||le.ref,null)},o.createContext=function(le,fe){var ce={__c:fe="__cC"+S++,__:le,Consumer:function(Be,Ce){return Be.children(Ce)},Provider:function(Be){var Ce,me;return this.getChildContext||(Ce=[],(me={})[fe]=this,this.getChildContext=function(){return me},this.shouldComponentUpdate=function(q){this.props.value!==q.value&&Ce.some(z)},this.sub=function(q){Ce.push(q);var Ze=q.componentWillUnmount;q.componentWillUnmount=function(){Ce.splice(Ce.indexOf(q),1),Ze&&Ze.call(q)}}),Be.children}};return ce.Provider.__=ce.Consumer.contextType=ce},o.createElement=N,o.createRef=function(){return{current:null}},o.h=N,o.hydrate=function le(fe,ce){re(fe,ce,le)},o.isValidElement=d,o.options=l,o.render=re,o.toChildArray=function le(fe,ce){return ce=ce||[],fe==null||typeof fe=="boolean"||(Array.isArray(fe)?fe.some(function(Be){le(Be,ce)}):ce.push(fe)),ce}}),MDe=function(o){return(o==null?void 0:o.nodeType)===Node.ELEMENT_NODE},IDe=function(o,s){return s===void 0&&(s=document),typeof o=="string"?s.querySelector(o):MDe(o)?o:null},Dce=class{constructor(o,s){s===void 0&&(s={}),this.uppy=o,this.opts=s}getPluginState(){const{plugins:o}=this.uppy.getState();return o[this.id]||{}}setPluginState(o){const{plugins:s}=this.uppy.getState();this.uppy.setState({plugins:{...s,[this.id]:{...s[this.id],...o}}})}setOptions(o){this.opts={...this.opts,...o},this.setPluginState(),this.i18nInit()}i18nInit(){const o=new ACe([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=o.translate.bind(o),this.i18nArray=o.translateArray.bind(o),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};function Rge(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var LDe=0;function HDe(e){return"__private_"+LDe+++"_"+e}const{render:Mge}=RDe;function jDe(e){let o=null,s=null;return function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return s=c,o||(o=Promise.resolve().then(()=>(o=null,e(...s)))),o}}var uB=HDe("updateUI");class Bce extends Dce{constructor(){super(...arguments),Object.defineProperty(this,uB,{writable:!0,value:void 0})}mount(o,s){const l=s.id,c=IDe(o);if(c){this.isTargetDOMEl=!0;const v=document.createDocumentFragment();return Rge(this,uB)[uB]=jDe(y=>{!this.uppy.getPlugin(this.id)||(Mge(this.render(y),v),this.afterUpdate())}),this.uppy.log(`Installing ${l} to a DOM element '${o}'`),this.opts.replaceTargetContent&&(c.innerHTML=""),Mge(this.render(this.uppy.getState()),v),this.el=v.firstElementChild,c.appendChild(v),this.onMount(),this.el}let d;if(typeof o=="object"&&o instanceof Bce)d=o;else if(typeof o=="function"){const v=o;this.uppy.iteratePlugins(y=>{if(y instanceof v)return d=y,!1})}if(d)return this.uppy.log(`Installing ${l} to ${d.id}`),this.parent=d,this.el=d.addTarget(s),this.onMount(),this.el;this.uppy.log(`Not installing ${l}`);let p=`Invalid target option given to ${l}.`;throw typeof o=="function"?p+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":p+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}update(o){if(this.el!=null){var s,l;(s=(l=Rge(this,uB))[uB])==null||s.call(l,o)}}unmount(){if(this.isTargetDOMEl){var o;(o=this.el)==null||o.remove()}this.onUnmount()}onMount(){}onUnmount(){}}var zDe=Bce;const{debugLogger:VDe}=NCe;var LP=ICe,UDe=ICe,WDe=zDe,qDe=Dce,ZDe=VDe;LP.Uppy=UDe;LP.UIPlugin=WDe;LP.BasePlugin=qDe;LP.debugLogger=ZDe;class GDe extends Error{constructor(o,s){s===void 0&&(s=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=o,this.isNetworkError=!0,this.request=s}}var Nce=GDe,Vne=function(){return fetch(...arguments).catch(o=>{throw o.name==="AbortError"?o:new Nce(o)})};class KDe extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}var YDe=KDe,Tz,Cw,kv,Sw,Ige;function Ev(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var XDe=0;function Une(e){return"__private_"+XDe+++"_"+e}function JDe(e){return e.replace(/\/$/,"")}async function Wne(e){if(e.status===401)throw new YDe;const o=e.json();if(e.status<200||e.status>300){let s=`Failed request with status: ${e.status}. ${e.statusText}`;try{const l=await o;s=l.message?`${s} message: ${l.message}`:s,s=l.requestId?`${s} request-Id: ${l.requestId}`:s}finally{throw new Error(s)}}return o}var Pce=(Ige=(Cw=Une("getPostResponseFunc"),kv=Une("getUrl"),Sw=Une("errorHandler"),Tz=class LCe{constructor(o,s){Object.defineProperty(this,Sw,{value:e6e}),Object.defineProperty(this,kv,{value:QDe}),Object.defineProperty(this,Cw,{writable:!0,value:l=>c=>l?c:this.onReceiveResponse(c)}),this.uppy=o,this.opts=s,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}get hostname(){const{companion:o}=this.uppy.getState(),s=this.opts.companionUrl;return JDe(o&&o[s]?o[s]:s)}headers(){const o=this.opts.companionHeaders||{};return Promise.resolve({...LCe.defaultHeaders,...o})}onReceiveResponse(o){const l=this.uppy.getState().companion||{},c=this.opts.companionUrl,{headers:d}=o;return d.has("i-am")&&d.get("i-am")!==l[c]&&this.uppy.setState({companion:{...l,[c]:d.get("i-am")}}),o}preflight(o){return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Ev(this,kv)[kv](o),{method:"OPTIONS"}).then(s=>(s.headers.has("access-control-allow-headers")&&(this.allowedHeaders=s.headers.get("access-control-allow-headers").split(",").map(l=>l.trim().toLowerCase())),this.preflightDone=!0,this.allowedHeaders.slice())).catch(s=>(this.uppy.log(`[CompanionClient] unable to make preflight request ${s}`,"warning"),this.preflightDone=!0,this.allowedHeaders.slice()))}preflightAndHeaders(o){return Promise.all([this.preflight(o),this.headers()]).then(s=>{let[l,c]=s;return Object.keys(c).forEach(d=>{l.includes(d.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${d}`),delete c[d])}),c})}get(o,s){const l="get";return this.preflightAndHeaders(o).then(c=>Vne(Ev(this,kv)[kv](o),{method:l,headers:c,credentials:this.opts.companionCookiesRule||"same-origin"})).then(Ev(this,Cw)[Cw](s)).then(Wne).catch(Ev(this,Sw)[Sw](l,o))}post(o,s,l){const c="post";return this.preflightAndHeaders(o).then(d=>Vne(Ev(this,kv)[kv](o),{method:c,headers:d,credentials:this.opts.companionCookiesRule||"same-origin",body:JSON.stringify(s)})).then(Ev(this,Cw)[Cw](l)).then(Wne).catch(Ev(this,Sw)[Sw](c,o))}delete(o,s,l){const c="delete";return this.preflightAndHeaders(o).then(d=>Vne(`${this.hostname}/${o}`,{method:c,headers:d,credentials:this.opts.companionCookiesRule||"same-origin",body:s?JSON.stringify(s):null})).then(Ev(this,Cw)[Cw](l)).then(Wne).catch(Ev(this,Sw)[Sw](c,o))}}),Tz.VERSION="2.0.4",Tz.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${Tz.VERSION}`},Ige);function QDe(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`}function e6e(e,o){return s=>{var l;if(!((l=s)!=null&&l.isAuthError)){const c=new Error(`Could not ${e} ${Ev(this,kv)[kv](o)}`);c.cause=s,s=c}return Promise.reject(s)}}var t6e=(e,o)=>new Promise(s=>{localStorage.setItem(e,o),s()}),n6e=e=>Promise.resolve(localStorage.getItem(e)),o6e=e=>new Promise(o=>{localStorage.removeItem(e),o()}),r6e={setItem:t6e,getItem:n6e,removeItem:o6e};const s6e=e=>e.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");var a6e=class extends Pce{constructor(o,s){super(o,s),this.provider=s.provider,this.id=this.provider,this.name=this.opts.name||s6e(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}headers(){return Promise.all([super.headers(),this.getAuthToken()]).then(o=>{let[s,l]=o;const c={};return l&&(c["uppy-auth-token"]=l),this.companionKeysParams&&(c["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...s,...c}})}onReceiveResponse(o){o=super.onReceiveResponse(o);const s=this.uppy.getPlugin(this.pluginId),c=s.getPluginState().authenticated?o.status!==401:o.status<400;return s.setPluginState({authenticated:c}),o}setAuthToken(o){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,o)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}authUrl(o){return o===void 0&&(o={}),this.preAuthToken&&(o.uppyPreAuthToken=this.preAuthToken),`${this.hostname}/${this.id}/connect?${new URLSearchParams(o)}`}fileUrl(o){return`${this.hostname}/${this.id}/get/${o}`}fetchPreAuthToken(){return this.companionKeysParams?this.post(`${this.id}/preauth/`,{params:this.companionKeysParams}).then(o=>{this.preAuthToken=o.token}).catch(o=>{this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${o}`,"warning")}):Promise.resolve()}list(o){return this.get(`${this.id}/list/${o||""}`)}logout(){return this.get(`${this.id}/logout`).then(o=>Promise.all([o,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(o=>{let[s]=o;return s})}static initPlugin(o,s,l){if(o.type="acquirer",o.files=[],l&&(o.opts={...l,...s}),s.serverUrl||s.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(s.companionAllowedHosts){const c=s.companionAllowedHosts;if(typeof c!="string"&&!Array.isArray(c)&&!(c instanceof RegExp))throw new TypeError(`${o.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);o.opts.companionAllowedHosts=c}else/^(?!https?:\/\/).*$/i.test(s.companionUrl)?o.opts.companionAllowedHosts=`https://${s.companionUrl.replace(/^\/\//,"")}`:o.opts.companionAllowedHosts=new URL(s.companionUrl).origin;o.storage=o.opts.storage||r6e}};const i6e=e=>e.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");var l6e=class extends Pce{constructor(o,s){super(o,s),this.provider=s.provider,this.id=this.provider,this.name=this.opts.name||i6e(this.id),this.pluginId=this.opts.pluginId}fileUrl(o){return`${this.hostname}/search/${this.id}/get/${o}`}search(o,s){return s=s?`&${s}`:"",this.get(`search/${this.id}/list?q=${encodeURIComponent(o)}${s}`)}},xv,xw,Qp,Df,Oz;let Lge,Hge;function Bc(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var c6e=0;function fB(e){return"__private_"+c6e+++"_"+e}var u6e=(xv=fB("queued"),xw=fB("emitter"),Qp=fB("isOpen"),Df=fB("socket"),Oz=fB("handleMessage"),Lge=Symbol.for("uppy test: getSocket"),Hge=Symbol.for("uppy test: getQueued"),class{constructor(o){Object.defineProperty(this,xv,{writable:!0,value:[]}),Object.defineProperty(this,xw,{writable:!0,value:TCe()}),Object.defineProperty(this,Qp,{writable:!0,value:!1}),Object.defineProperty(this,Df,{writable:!0,value:void 0}),Object.defineProperty(this,Oz,{writable:!0,value:s=>{try{const l=JSON.parse(s.data);this.emit(l.action,l.payload)}catch(l){console.log(l)}}}),this.opts=o,(!o||o.autoOpen!==!1)&&this.open()}get isOpen(){return Bc(this,Qp)[Qp]}[Lge](){return Bc(this,Df)[Df]}[Hge](){return Bc(this,xv)[xv]}open(){Bc(this,Df)[Df]=new WebSocket(this.opts.target),Bc(this,Df)[Df].onopen=()=>{for(Bc(this,Qp)[Qp]=!0;Bc(this,xv)[xv].length>0&&Bc(this,Qp)[Qp];){const o=Bc(this,xv)[xv].shift();this.send(o.action,o.payload)}},Bc(this,Df)[Df].onclose=()=>{Bc(this,Qp)[Qp]=!1},Bc(this,Df)[Df].onmessage=Bc(this,Oz)[Oz]}close(){var o;(o=Bc(this,Df)[Df])==null||o.close()}send(o,s){if(!Bc(this,Qp)[Qp]){Bc(this,xv)[xv].push({action:o,payload:s});return}Bc(this,Df)[Df].send(JSON.stringify({action:o,payload:s}))}on(o,s){Bc(this,xw)[xw].on(o,s)}emit(o,s){Bc(this,xw)[xw].emit(o,s)}once(o,s){Bc(this,xw)[xw].once(o,s)}}),f6e={RequestClient:Pce,Provider:a6e,SearchProvider:l6e,Socket:u6e};function d6e(e,o,s){const{progress:l,bytesUploaded:c,bytesTotal:d}=o;l&&(e.uppy.log(`Upload progress: ${l}`),e.uppy.emit("upload-progress",s,{uploader:e,bytesUploaded:c,bytesTotal:d}))}var h6e=x4(d6e,300,{leading:!0,trailing:!0}),p6e=function(o){const l=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(o)[1];return`${/^http:\/\//i.test(o)?"ws":"wss"}://${l}`},g6e=function(o){const s=[],l=[];function c(v){s.push(v)}function d(v){l.push(v)}return Promise.all(o.map(v=>v.then(c,d))).then(()=>({successful:s,failed:l}))},Ew,wO;function dB(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var m6e=0;function jge(e){return"__private_"+m6e+++"_"+e}var zge=(Ew=jge("emitter"),wO=jge("events"),class{constructor(o){Object.defineProperty(this,Ew,{writable:!0,value:void 0}),Object.defineProperty(this,wO,{writable:!0,value:[]}),dB(this,Ew)[Ew]=o}on(o,s){return dB(this,wO)[wO].push([o,s]),dB(this,Ew)[Ew].on(o,s)}remove(){for(const[o,s]of dB(this,wO)[wO].splice(0))dB(this,Ew)[Ew].off(o,s)}});function eg(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var v6e=0;function qW(e){return"__private_"+v6e+++"_"+e}var Qb=qW("aliveTimer"),$E=qW("isDone"),hB=qW("onTimedOut"),DE=qW("timeout");class b6e{constructor(o,s){Object.defineProperty(this,Qb,{writable:!0,value:void 0}),Object.defineProperty(this,$E,{writable:!0,value:!1}),Object.defineProperty(this,hB,{writable:!0,value:void 0}),Object.defineProperty(this,DE,{writable:!0,value:void 0}),eg(this,DE)[DE]=o,eg(this,hB)[hB]=s}progress(){eg(this,$E)[$E]||eg(this,DE)[DE]>0&&(clearTimeout(eg(this,Qb)[Qb]),eg(this,Qb)[Qb]=setTimeout(eg(this,hB)[hB],eg(this,DE)[DE]))}done(){eg(this,$E)[$E]||(clearTimeout(eg(this,Qb)[Qb]),eg(this,Qb)[Qb]=null,eg(this,$E)[$E]=!0)}}var Vge=b6e;function Fc(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var y6e=0;function H4(e){return"__private_"+y6e+++"_"+e}function w6e(){return new Error("Cancelled")}var Yh=H4("activeRequests"),pd=H4("queuedHandlers"),xN=H4("call"),pN=H4("queueNext"),Eae=H4("next"),qne=H4("queue"),kae=H4("dequeue");class C6e{constructor(o){Object.defineProperty(this,kae,{value:A6e}),Object.defineProperty(this,qne,{value:k6e}),Object.defineProperty(this,Eae,{value:E6e}),Object.defineProperty(this,pN,{value:x6e}),Object.defineProperty(this,xN,{value:S6e}),Object.defineProperty(this,Yh,{writable:!0,value:0}),Object.defineProperty(this,pd,{writable:!0,value:[]}),typeof o!="number"||o===0?this.limit=1/0:this.limit=o}run(o,s){return Fc(this,Yh)[Yh]<this.limit?Fc(this,xN)[xN](o):Fc(this,qne)[qne](o,s)}wrapPromiseFunction(o,s){var l=this;return function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];let v;const y=new Promise((S,x)=>{v=l.run(()=>{let T,k;try{k=Promise.resolve(o(...d))}catch(A){k=Promise.reject(A)}return k.then(A=>{T?x(T):(v.done(),S(A))},A=>{T?x(T):(v.done(),x(A))}),()=>{T=w6e()}},s)});return y.abort=()=>{v.abort()},y}}}function S6e(e){Fc(this,Yh)[Yh]+=1;let o=!1,s;try{s=e()}catch(l){throw Fc(this,Yh)[Yh]-=1,l}return{abort:()=>{o||(o=!0,Fc(this,Yh)[Yh]-=1,s(),Fc(this,pN)[pN]())},done:()=>{o||(o=!0,Fc(this,Yh)[Yh]-=1,Fc(this,pN)[pN]())}}}function x6e(){queueMicrotask(()=>Fc(this,Eae)[Eae]())}function E6e(){if(Fc(this,Yh)[Yh]>=this.limit||Fc(this,pd)[pd].length===0)return;const e=Fc(this,pd)[pd].shift(),o=Fc(this,xN)[xN](e.fn);e.abort=o.abort,e.done=o.done}function k6e(e,o){o===void 0&&(o={});const s={fn:e,priority:o.priority||0,abort:()=>{Fc(this,kae)[kae](s)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},l=Fc(this,pd)[pd].findIndex(c=>s.priority>c.priority);return l===-1?Fc(this,pd)[pd].push(s):Fc(this,pd)[pd].splice(l,0,s),s}function A6e(e){const o=Fc(this,pd)[pd].indexOf(e);o!==-1&&Fc(this,pd)[pd].splice(o,1)}var T6e={RateLimitedQueue:C6e,internalRateLimitedQueue:Symbol("__queue")};function O6e(e){return e?e.readyState!==0&&e.readyState!==4||e.status===0:!1}var HCe=O6e,_6e={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},Uge,Wge;const{nanoid:$6e}=PCe,{Provider:D6e,RequestClient:B6e,Socket:N6e}=f6e,{RateLimitedQueue:P6e,internalRateLimitedQueue:Zne}=T6e;function qge(e,o){let s=o;return s||(s=new Error("Upload error")),typeof s=="string"&&(s=new Error(s)),s instanceof Error||(s=Object.assign(new Error("Upload error"),{data:s})),HCe(e)?(s=new Nce(s,e),s):(s.request=e,s)}function Zge(e){return e.data.slice(0,e.data.size,e.meta.type)}var F6e=(Wge=Uge=class extends Dce{constructor(o,s){super(o,s),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=_6e;const l={formData:!0,fieldName:s.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(c){let d={};try{d=JSON.parse(c)}catch(p){o.log(p)}return d},getResponseError(c,d){let p=new Error("Upload error");return HCe(d)&&(p=new Nce(p,d)),p},validateStatus(c){return c>=200&&c<300}};if(this.opts={...l,...s},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),Zne in this.opts?this.requests=this.opts[Zne]:this.requests=new P6e(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");this.uploaderEvents=Object.create(null)}getOptions(o){const s=this.uppy.getState().xhrUpload,{headers:l}=this.opts,c={...this.opts,...s||{},...o.xhrUpload||{},headers:{}};return typeof l=="function"?c.headers=l(o):Object.assign(c.headers,this.opts.headers),s&&Object.assign(c.headers,s.headers),o.xhrUpload&&Object.assign(c.headers,o.xhrUpload.headers),c}addMetadata(o,s,l){(Array.isArray(l.metaFields)?l.metaFields:Object.keys(s)).forEach(d=>{o.append(d,s[d])})}createFormDataUpload(o,s){const l=new FormData;this.addMetadata(l,o.meta,s);const c=Zge(o);return o.name?l.append(s.fieldName,c,o.meta.name):l.append(s.fieldName,c),l}createBundledUpload(o,s){const l=new FormData,{meta:c}=this.uppy.getState();return this.addMetadata(l,c,s),o.forEach(d=>{const p=this.getOptions(d),v=Zge(d);d.name?l.append(p.fieldName,v,d.name):l.append(p.fieldName,v)}),l}upload(o,s,l){const c=this.getOptions(o);return this.uppy.log(`uploading ${s} of ${l}`),new Promise((d,p)=>{this.uppy.emit("upload-started",o);const v=c.formData?this.createFormDataUpload(o,c):o.data,y=new XMLHttpRequest;this.uploaderEvents[o.id]=new zge(this.uppy);const S=new Vge(c.timeout,()=>{y.abort(),T.done();const k=new Error(this.i18n("timedOut",{seconds:Math.ceil(c.timeout/1e3)}));this.uppy.emit("upload-error",o,k),p(k)}),x=$6e();y.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${x} started`)}),y.upload.addEventListener("progress",k=>{this.uppy.log(`[XHRUpload] ${x} progress: ${k.loaded} / ${k.total}`),S.progress(),k.lengthComputable&&this.uppy.emit("upload-progress",o,{uploader:this,bytesUploaded:k.loaded,bytesTotal:k.total})}),y.addEventListener("load",k=>{if(this.uppy.log(`[XHRUpload] ${x} finished`),S.done(),T.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null),c.validateStatus(k.target.status,y.responseText,y)){const D=c.getResponseData(y.responseText,y),B=D[c.responseUrlFieldName],O={status:k.target.status,body:D,uploadURL:B};return this.uppy.emit("upload-success",o,O),B&&this.uppy.log(`Download ${o.name} from ${B}`),d(o)}const A=c.getResponseData(y.responseText,y),F=qge(y,c.getResponseError(y.responseText,y)),N={status:k.target.status,body:A};return this.uppy.emit("upload-error",o,F,N),p(F)}),y.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${x} errored`),S.done(),T.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null);const k=qge(y,c.getResponseError(y.responseText,y));return this.uppy.emit("upload-error",o,k),p(k)}),y.open(c.method.toUpperCase(),c.endpoint,!0),y.withCredentials=c.withCredentials,c.responseType!==""&&(y.responseType=c.responseType);const T=this.requests.run(()=>{this.uppy.emit("upload-started",o);const k=this.getOptions(o);return Object.keys(k.headers).forEach(A=>{y.setRequestHeader(A,k.headers[A])}),y.send(v),()=>{S.done(),y.abort()}});this.onFileRemove(o.id,()=>{T.abort(),p(new Error("File removed"))}),this.onCancelAll(o.id,()=>{T.abort(),p(new Error("Upload cancelled"))})})}uploadRemote(o){const s=this.getOptions(o);return new Promise((l,c)=>{this.uppy.emit("upload-started",o);const d={};(Array.isArray(s.metaFields)?s.metaFields:Object.keys(o.meta)).forEach(S=>{d[S]=o.meta[S]});const v=o.remote.providerOptions.provider?D6e:B6e;new v(this.uppy,o.remote.providerOptions).post(o.remote.url,{...o.remote.body,endpoint:s.endpoint,size:o.data.size,fieldname:s.fieldName,metadata:d,httpMethod:s.method,useFormData:s.formData,headers:s.headers}).then(S=>{const{token:x}=S,T=p6e(o.remote.companionUrl),k=new N6e({target:`${T}/api/${x}`,autoOpen:!1});this.uploaderEvents[o.id]=new zge(this.uppy),this.onFileRemove(o.id,()=>{k.send("cancel",{}),A.abort(),l(`upload ${o.id} was removed`)}),this.onCancelAll(o.id,()=>{k.send("cancel",{}),A.abort(),l(`upload ${o.id} was canceled`)}),this.onRetry(o.id,()=>{k.send("pause",{}),k.send("resume",{})}),this.onRetryAll(o.id,()=>{k.send("pause",{}),k.send("resume",{})}),k.on("progress",F=>h6e(this,F,o)),k.on("success",F=>{const N=s.getResponseData(F.response.responseText,F.response),D=N[s.responseUrlFieldName],B={status:F.response.status,body:N,uploadURL:D};return this.uppy.emit("upload-success",o,B),A.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null),l()}),k.on("error",F=>{const N=F.response,D=N?s.getResponseError(N.responseText,N):Object.assign(new Error(F.error.message),{cause:F.error});this.uppy.emit("upload-error",o,D),A.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null),c(D)});const A=this.requests.run(()=>(k.open(),o.isPaused&&k.send("pause",{}),()=>k.close()))}).catch(S=>{this.uppy.emit("upload-error",o,S),c(S)})})}uploadBundle(o){return new Promise((s,l)=>{const{endpoint:c}=this.opts,{method:d}=this.opts,p=this.uppy.getState().xhrUpload,v=this.createBundledUpload(o,{...this.opts,...p||{}}),y=new XMLHttpRequest,S=new Vge(this.opts.timeout,()=>{y.abort();const T=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));x(T),l(T)}),x=T=>{o.forEach(k=>{this.uppy.emit("upload-error",k,T)})};y.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),S.progress()}),y.upload.addEventListener("progress",T=>{S.progress(),T.lengthComputable&&o.forEach(k=>{this.uppy.emit("upload-progress",k,{uploader:this,bytesUploaded:T.loaded/T.total*k.size,bytesTotal:k.size})})}),y.addEventListener("load",T=>{if(S.done(),this.opts.validateStatus(T.target.status,y.responseText,y)){const A=this.opts.getResponseData(y.responseText,y),F={status:T.target.status,body:A};return o.forEach(N=>{this.uppy.emit("upload-success",N,F)}),s()}const k=this.opts.getResponseError(y.responseText,y)||new Error("Upload error");return k.request=y,x(k),l(k)}),y.addEventListener("error",()=>{S.done();const T=this.opts.getResponseError(y.responseText,y)||new Error("Upload error");return x(T),l(T)}),this.uppy.on("cancel-all",()=>{S.done(),y.abort()}),y.open(d.toUpperCase(),c,!0),y.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(y.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(T=>{y.setRequestHeader(T,this.opts.headers[T])}),y.send(v),o.forEach(T=>{this.uppy.emit("upload-started",T)})})}uploadFiles(o){const s=o.map((l,c)=>{const d=parseInt(c,10)+1,p=o.length;return l.error?Promise.reject(new Error(l.error)):l.isRemote?this.uploadRemote(l,d,p):this.upload(l,d,p)});return g6e(s)}onFileRemove(o,s){this.uploaderEvents[o].on("file-removed",l=>{o===l.id&&s(l.id)})}onRetry(o,s){this.uploaderEvents[o].on("upload-retry",l=>{o===l&&s()})}onRetryAll(o,s){this.uploaderEvents[o].on("retry-all",()=>{!this.uppy.getFile(o)||s()})}onCancelAll(o,s){this.uploaderEvents[o].on("cancel-all",()=>{!this.uppy.getFile(o)||s()})}handleUpload(o){if(o.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[Zne]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const s=o.map(l=>this.uppy.getFile(l));if(this.opts.bundle){if(s.some(c=>c.isRemote))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(s)}return this.uploadFiles(s).then(()=>null)}install(){if(this.opts.bundle){const{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){const{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}},Uge.VERSION="2.0.6",Wge),Gge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HP(e){var o={exports:{}};return e(o,o.exports),o.exports}var kw,AV,_z=function(e){return e&&e.Math==Math&&e},po=_z(typeof globalThis=="object"&&globalThis)||_z(typeof window=="object"&&window)||_z(typeof self=="object"&&self)||_z(typeof Gge=="object"&&Gge)||function(){return this}()||Function("return this")(),R6e=Object.defineProperty,Fce=function(e,o){try{R6e(po,e,{value:o,configurable:!0,writable:!0})}catch{po[e]=o}return o},Yw=po["__core-js_shared__"]||Fce("__core-js_shared__",{}),Rce=HP(function(e){(e.exports=function(o,s){return Yw[o]||(Yw[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),jCe=Function.prototype,Aae=jCe.bind,Tae=jCe.call,M6e=Aae&&Aae.bind(Tae),hr=Aae?function(e){return e&&M6e(Tae,e)}:function(e){return e&&function(){return Tae.apply(e,arguments)}},I6e=po.TypeError,hg=function(e){if(e==null)throw I6e("Can't call method on "+e);return e},L6e=po.Object,AC=function(e){return L6e(hg(e))},H6e=hr({}.hasOwnProperty),vc=Object.hasOwn||function(e,o){return H6e(AC(e),o)},j6e=0,z6e=Math.random(),V6e=hr(1 .toString),Mce=function(e){return"Symbol("+(e===void 0?"":e)+")_"+V6e(++j6e+z6e,36)},ni=function(e){return typeof e=="function"},U6e=function(e){return ni(e)?e:void 0},j4=function(e,o){return arguments.length<2?U6e(po[e]):po[e]&&po[e][o]},s_=j4("navigator","userAgent")||"",Kge=po.process,Yge=po.Deno,Xge=Kge&&Kge.versions||Yge&&Yge.version,Jge=Xge&&Xge.v8;Jge&&(AV=(kw=Jge.split("."))[0]>0&&kw[0]<4?1:+(kw[0]+kw[1])),!AV&&s_&&(!(kw=s_.match(/Edge\/(\d+)/))||kw[1]>=74)&&(kw=s_.match(/Chrome\/(\d+)/))&&(AV=+kw[1]);var GN=AV,Pa=function(e){try{return!!e()}catch{return!0}},Oae=!!Object.getOwnPropertySymbols&&!Pa(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&GN&&GN<41}),Ice=Oae&&!Symbol.sham&&typeof Symbol.iterator=="symbol",pB=Rce("wks"),o4=po.Symbol,Qge=o4&&o4.for,W6e=Ice?o4:o4&&o4.withoutSetter||Mce,$l=function(e){if(!vc(pB,e)||!Oae&&typeof pB[e]!="string"){var o="Symbol."+e;Oae&&vc(o4,e)?pB[e]=o4[e]:pB[e]=Ice&&Qge?Qge(o):W6e(o)}return pB[e]},zCe={};zCe[$l("toStringTag")]="z";var Lce=String(zCe)==="[object z]",Au=!Pa(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Pi=function(e){return typeof e=="object"?e!==null:ni(e)},_ae=po.document,q6e=Pi(_ae)&&Pi(_ae.createElement),KN=function(e){return q6e?_ae.createElement(e):{}},VCe=!Au&&!Pa(function(){return Object.defineProperty(KN("div"),"a",{get:function(){return 7}}).a!=7}),Z6e=po.String,G6e=po.TypeError,bc=function(e){if(Pi(e))return e;throw G6e(Z6e(e)+" is not an object")},gB=Function.prototype.call,ia=gB.bind?gB.bind(gB):function(){return gB.apply(gB,arguments)},E4=hr({}.isPrototypeOf),K6e=po.Object,$ae=Ice?function(e){return typeof e=="symbol"}:function(e){var o=j4("Symbol");return ni(o)&&E4(o.prototype,K6e(e))},Y6e=po.String,ZW=function(e){try{return Y6e(e)}catch{return"Object"}},X6e=po.TypeError,mC=function(e){if(ni(e))return e;throw X6e(ZW(e)+" is not a function")},k4=function(e,o){var s=e[o];return s==null?void 0:mC(s)},J6e=po.TypeError,Q6e=po.TypeError,e8e=$l("toPrimitive"),t8e=function(e,o){if(!Pi(e)||$ae(e))return e;var s,l=k4(e,e8e);if(l){if(o===void 0&&(o="default"),s=ia(l,e,o),!Pi(s)||$ae(s))return s;throw Q6e("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&ni(p=c.toString)&&!Pi(v=ia(p,c))||ni(p=c.valueOf)&&!Pi(v=ia(p,c))||d!=="string"&&ni(p=c.toString)&&!Pi(v=ia(p,c)))return v;throw J6e("Can't convert object to primitive value")}(e,o)},Hce=function(e){var o=t8e(e,"string");return $ae(o)?o:o+""},n8e=po.TypeError,eme=Object.defineProperty,Wm={f:Au?eme:function(e,o,s){if(bc(e),o=Hce(o),bc(s),VCe)try{return eme(e,o,s)}catch{}if("get"in s||"set"in s)throw n8e("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},GW=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},Im=Au?function(e,o,s){return Wm.f(e,o,GW(1,s))}:function(e,o,s){return e[o]=s,e},o8e=hr(Function.toString);ni(Yw.inspectSource)||(Yw.inspectSource=function(e){return o8e(e)});var dU,EN,hU,KW=Yw.inspectSource,tme=po.WeakMap,UCe=ni(tme)&&/native code/.test(KW(tme)),nme=Rce("keys"),jce=function(e){return nme[e]||(nme[e]=Mce(e))},YW={},Dae=po.TypeError,r8e=po.WeakMap;if(UCe||Yw.state){var BE=Yw.state||(Yw.state=new r8e),s8e=hr(BE.get),ome=hr(BE.has),a8e=hr(BE.set);dU=function(e,o){if(ome(BE,e))throw new Dae("Object already initialized");return o.facade=e,a8e(BE,e,o),o},EN=function(e){return s8e(BE,e)||{}},hU=function(e){return ome(BE,e)}}else{var CO=jce("state");YW[CO]=!0,dU=function(e,o){if(vc(e,CO))throw new Dae("Object already initialized");return o.facade=e,Im(e,CO,o),o},EN=function(e){return vc(e,CO)?e[CO]:{}},hU=function(e){return vc(e,CO)}}var Ff={set:dU,get:EN,has:hU,enforce:function(e){return hU(e)?EN(e):dU(e,{})},getterFor:function(e){return function(o){var s;if(!Pi(o)||(s=EN(o)).type!==e)throw Dae("Incompatible receiver, "+e+" required");return s}}},WCe=Function.prototype,i8e=Au&&Object.getOwnPropertyDescriptor,Gne=vc(WCe,"name"),W_={EXISTS:Gne,PROPER:Gne&&function(){}.name==="something",CONFIGURABLE:Gne&&(!Au||Au&&i8e(WCe,"name").configurable)},Xd=HP(function(e){var o=W_.CONFIGURABLE,s=Ff.get,l=Ff.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;ni(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!vc(v,"name")||o&&v.name!==A)&&Im(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==po?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:Im(d,p,v)):T?d[p]=v:Fce(p,v)})(Function.prototype,"toString",function(){return ni(this)&&s(this).source||KW(this)})}),l8e=hr({}.toString),c8e=hr("".slice),Lm=function(e){return c8e(l8e(e),8,-1)},u8e=$l("toStringTag"),f8e=po.Object,d8e=Lm(function(){return arguments}())=="Arguments",XW=Lce?Lm:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=f8e(e),u8e))=="string"?s:d8e?Lm(o):(l=Lm(o))=="Object"&&ni(o.callee)?"Arguments":l},h8e=Lce?{}.toString:function(){return"[object "+XW(this)+"]"};Lce||Xd(Object.prototype,"toString",h8e,{unsafe:!0});var pU={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Kne=KN("span").classList,rme=Kne&&Kne.constructor&&Kne.constructor.prototype,qCe=rme===Object.prototype?void 0:rme,sme=hr(hr.bind),A4=function(e,o){return mC(e),o===void 0?e:sme?sme(e,o):function(){return e.apply(o,arguments)}},Yne=po.Object,p8e=hr("".split),JW=Pa(function(){return!Yne("z").propertyIsEnumerable(0)})?function(e){return Lm(e)=="String"?p8e(e,""):Yne(e)}:Yne,g8e=Math.ceil,m8e=Math.floor,jP=function(e){var o=+e;return o!=o||o===0?0:(o>0?m8e:g8e)(o)},v8e=Math.min,q_=function(e){return e>0?v8e(jP(e),9007199254740991):0},z4=function(e){return q_(e.length)},gU=Array.isArray||function(e){return Lm(e)=="Array"},ZCe=function(){},b8e=[],GCe=j4("Reflect","construct"),zce=/^\s*(?:class|function)\b/,y8e=hr(zce.exec),w8e=!zce.exec(ZCe),mB=function(e){if(!ni(e))return!1;try{return GCe(ZCe,b8e,e),!0}catch{return!1}},QW=!GCe||Pa(function(){var e;return mB(mB.call)||!mB(Object)||!mB(function(){e=!0})||e})?function(e){if(!ni(e))return!1;switch(XW(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return w8e||!!y8e(zce,KW(e))}:mB,C8e=$l("species"),ame=po.Array,KCe=function(e,o){return new(function(s){var l;return gU(s)&&(l=s.constructor,(QW(l)&&(l===ame||gU(l.prototype))||Pi(l)&&(l=l[C8e])===null)&&(l=void 0)),l===void 0?ame:l}(e))(o===0?0:o)},ime=hr([].push),Aw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=AC(y),N=JW(F),D=A4(S,x),B=z4(N),O=0,P=T||KCe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:ime(I,k)}else switch(e){case 4:return!1;case 7:ime(I,k)}return d?-1:l||c?c:I}},Z_={forEach:Aw(0),map:Aw(1),filter:Aw(2),some:Aw(3),every:Aw(4),find:Aw(5),findIndex:Aw(6),filterReject:Aw(7)},YCe=function(e,o){var s=[][e];return!!s&&Pa(function(){s.call(null,o||function(){throw 1},1)})},S8e=Z_.forEach,Xne=YCe("forEach")?[].forEach:function(e){return S8e(this,e,arguments.length>1?arguments[1]:void 0)},XCe=function(e){if(e&&e.forEach!==Xne)try{Im(e,"forEach",Xne)}catch{e.forEach=Xne}};for(var Jne in pU)pU[Jne]&&XCe(po[Jne]&&po[Jne].prototype);XCe(qCe);var lme={}.propertyIsEnumerable,cme=Object.getOwnPropertyDescriptor,x8e=cme&&!lme.call({1:2},1)?function(e){var o=cme(this,e);return!!o&&o.enumerable}:lme,JCe={f:x8e},TC=function(e){return JW(hg(e))},ume=Object.getOwnPropertyDescriptor,zP={f:Au?ume:function(e,o){if(e=TC(e),o=Hce(o),VCe)try{return ume(e,o)}catch{}if(vc(e,o))return GW(!ia(JCe.f,e,o),e[o])}},E8e=Math.max,k8e=Math.min,O_=function(e,o){var s=jP(e);return s<0?E8e(s+o,0):k8e(s,o)},fme=function(e){return function(o,s,l){var c,d=TC(o),p=z4(d),v=O_(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},QCe={includes:fme(!0),indexOf:fme(!1)},A8e=QCe.indexOf,dme=hr([].push),eSe=function(e,o){var s,l=TC(e),c=0,d=[];for(s in l)!vc(YW,s)&&vc(l,s)&&dme(d,s);for(;o.length>c;)vc(l,s=o[c++])&&(~A8e(d,s)||dme(d,s));return d},mU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],T8e=mU.concat("length","prototype"),YN={f:Object.getOwnPropertyNames||function(e){return eSe(e,T8e)}},tSe={f:Object.getOwnPropertySymbols},O8e=hr([].concat),_8e=j4("Reflect","ownKeys")||function(e){var o=YN.f(bc(e)),s=tSe.f;return s?O8e(o,s(e)):o},$8e=function(e,o){for(var s=_8e(o),l=Wm.f,c=zP.f,d=0;d<s.length;d++){var p=s[d];vc(e,p)||l(e,p,c(o,p))}},D8e=/#|\.prototype\./,VP=function(e,o){var s=N8e[B8e(e)];return s==F8e||s!=P8e&&(ni(o)?Pa(o):!!o)},B8e=VP.normalize=function(e){return String(e).replace(D8e,".").toLowerCase()},N8e=VP.data={},P8e=VP.NATIVE="N",F8e=VP.POLYFILL="P",XN=VP,R8e=zP.f,Ol=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?po:S?po[v]||Fce(v,{}):(po[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=R8e(s,l))&&p.value:s[l],!XN(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;$8e(d,c)}(e.sham||c&&c.sham)&&Im(d,"sham",!0),Xd(s,l,d,e)}},a_=Object.keys||function(e){return eSe(e,mU)},M8e=Pa(function(){a_(1)});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function hme(e){return Object.prototype.toString.call(e)==="[object Object]"}Ol({target:"Object",stat:!0,forced:M8e},{keys:function(e){return a_(AC(e))}});var I8e={isHistory(e){return hme(o=e)!==!1&&((s=o.constructor)===void 0||hme(l=s.prototype)!==!1&&l.hasOwnProperty("isPrototypeOf")!==!1)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||qw.isOperationList(e.redos[0]))&&(e.undos.length===0||qw.isOperationList(e.undos[0]));var o,s,l}},Qne=new WeakMap,eoe=new WeakMap,e_={isHistoryEditor:e=>I8e.isHistory(e.history)&&ze.isEditor(e),isMerging:e=>eoe.get(e),isSaving:e=>Qne.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,o){var s=e_.isMerging(e);eoe.set(e,!1),o(),eoe.set(e,s)},withoutSaving(e,o){var s=e_.isSaving(e);Qne.set(e,!1),o(),Qne.set(e,s)}},L8e=(e,o)=>e.type==="set_selection"||!(!o||e.type!=="insert_text"||o.type!=="insert_text"||e.offset!==o.offset+o.text.length||!zt.equals(e.path,o.path))||!(!o||e.type!=="remove_text"||o.type!=="remove_text"||e.offset+e.text.length!==o.offset||!zt.equals(e.path,o.path)),H8e=(e,o)=>e.type!=="set_selection"||e.properties!=null&&e.newProperties!=null,j8e=(e,o)=>!(!o||e.type!=="set_selection"||o.type!=="set_selection"),z8e=e=>e.type!=="set_selection",V8e=po.String,Si=function(e){if(XW(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return V8e(e)},Vce=function(){var e=bc(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},U8e=W_.PROPER,Bae=RegExp.prototype,nSe=Bae.toString,W8e=hr(Vce),q8e=Pa(function(){return nSe.call({source:"a",flags:"b"})!="/a/b"}),Z8e=U8e&&nSe.name!="toString";(q8e||Z8e)&&Xd(RegExp.prototype,"toString",function(){var e=bc(this),o=Si(e.source),s=e.flags;return"/"+o+"/"+Si(s===void 0&&E4(Bae,e)&&!("flags"in Bae)?W8e(e):s)},{unsafe:!0});var $z,G8e=Au?Object.defineProperties:function(e,o){bc(e);for(var s,l=TC(o),c=a_(o),d=c.length,p=0;d>p;)Wm.f(e,s=c[p++],l[s]);return e},Nae=j4("document","documentElement"),oSe=jce("IE_PROTO"),toe=function(){},rSe=function(e){return"<script>"+e+"<\/script>"},pme=function(e){e.write(rSe("")),e.close();var o=e.parentWindow.Object;return e=null,o},TV=function(){try{$z=new ActiveXObject("htmlfile")}catch{}var e,o;TV=typeof document<"u"?document.domain&&$z?pme($z):((o=KN("iframe")).style.display="none",Nae.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(rSe("document.F=Object")),e.close(),e.F):pme($z);for(var s=mU.length;s--;)delete TV.prototype[mU[s]];return TV()};YW[oSe]=!0;var eq=Object.create||function(e,o){var s;return e!==null?(toe.prototype=bc(e),s=new toe,toe.prototype=null,s[oSe]=e):s=TV(),o===void 0?s:G8e(s,o)},Pae=$l("unscopables"),Fae=Array.prototype;Fae[Pae]==null&&Wm.f(Fae,Pae,{configurable:!0,value:eq(null)});var kN=function(e){Fae[Pae][e]=!0},K8e=QCe.includes;Ol({target:"Array",proto:!0},{includes:function(e){return K8e(this,e,arguments.length>1?arguments[1]:void 0)}}),kN("includes");var Y8e=$l("match"),Uce=function(e){var o;return Pi(e)&&((o=e[Y8e])!==void 0?!!o:Lm(e)=="RegExp")},X8e=po.TypeError,Wce=function(e){if(Uce(e))throw X8e("The method doesn't accept regular expressions");return e},J8e=$l("match"),qce=function(e){var o=/./;try{"/./"[e](o)}catch{try{return o[J8e]=!1,"/./"[e](o)}catch{}}return!1},Q8e=hr("".indexOf);Ol({target:"String",proto:!0,forced:!qce("includes")},{includes:function(e){return!!~Q8e(Si(hg(this)),Si(Wce(e)),arguments.length>1?arguments[1]:void 0)}});var gme,e7e=/"/g,t7e=hr("".replace);Ol({target:"String",proto:!0,forced:(gme="anchor",Pa(function(){var e=""[gme]('"');return e!==e.toLowerCase()||e.split('"').length>3}))},{anchor:function(e){return o="a",s="name",l=e,c=Si(hg(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+t7e(Si(l),e7e,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var Rae=function(e,o,s){var l,c;bc(e);try{if(!(l=k4(e,"return"))){if(o==="throw")throw s;return s}l=ia(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return bc(l),s},n7e=function(e,o,s,l){try{return l?o(bc(s)[0],s[1]):o(s)}catch(c){Rae(e,"throw",c)}},__={},o7e=$l("iterator"),r7e=Array.prototype,sSe=function(e){return e!==void 0&&(__.Array===e||r7e[o7e]===e)},JN=function(e,o,s){var l=Hce(o);l in e?Wm.f(e,l,GW(0,s)):e[l]=s},s7e=$l("iterator"),Zce=function(e){if(e!=null)return k4(e,s7e)||k4(e,"@@iterator")||__[XW(e)]},a7e=po.TypeError,aSe=function(e,o){var s=arguments.length<2?Zce(e):o;if(mC(s))return bc(ia(s,e));throw a7e(ZW(e)+" is not iterable")},mme=po.Array,iSe=$l("iterator"),lSe=!1;try{var i7e=0,vme={next:function(){return{done:!!i7e++}},return:function(){lSe=!0}};vme[iSe]=function(){return this},Array.from(vme,function(){throw 2})}catch{}var Gce=function(e,o){if(!o&&!lSe)return!1;var s=!1;try{var l={};l[iSe]=function(){return{next:function(){return{done:s=!0}}}},e(l)}catch{}return s},l7e=!Gce(function(e){Array.from(e)});Ol({target:"Array",stat:!0,forced:l7e},{from:function(e){var o=AC(e),s=QW(this),l=arguments.length,c=l>1?arguments[1]:void 0,d=c!==void 0;d&&(c=A4(c,l>2?arguments[2]:void 0));var p,v,y,S,x,T,k=Zce(o),A=0;if(!k||this==mme&&sSe(k))for(p=z4(o),v=s?new this(p):mme(p);p>A;A++)T=d?c(o[A],A):o[A],JN(v,A,T);else for(x=(S=aSe(o,k)).next,v=s?new this:[];!(y=ia(x,S)).done;A++)T=d?n7e(S,c,[y.value,A],!0):y.value,JN(v,A,T);return v.length=A,v}});var r4,bme,yme,c7e=hr("".charAt),wme=hr("".charCodeAt),u7e=hr("".slice),Cme=function(e){return function(o,s){var l,c,d=Si(hg(o)),p=jP(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=wme(d,p))<55296||l>56319||p+1===v||(c=wme(d,p+1))<56320||c>57343?e?c7e(d,p):l:e?u7e(d,p,p+2):c-56320+(l-55296<<10)+65536}},cSe={codeAt:Cme(!1),charAt:Cme(!0)},f7e=!Pa(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Sme=jce("IE_PROTO"),Mae=po.Object,d7e=Mae.prototype,vU=f7e?Mae.getPrototypeOf:function(e){var o=AC(e);if(vc(o,Sme))return o[Sme];var s=o.constructor;return ni(s)&&o instanceof s?s.prototype:o instanceof Mae?d7e:null},Iae=$l("iterator"),uSe=!1;[].keys&&("next"in(yme=[].keys())?(bme=vU(vU(yme)))!==Object.prototype&&(r4=bme):uSe=!0);var h7e=r4==null||Pa(function(){var e={};return r4[Iae].call(e)!==e});h7e&&(r4={}),ni(r4[Iae])||Xd(r4,Iae,function(){return this});var Kce={IteratorPrototype:r4,BUGGY_SAFARI_ITERATORS:uSe},p7e=Wm.f,xme=$l("toStringTag"),bU=function(e,o,s){e&&!vc(e=s?e:e.prototype,xme)&&p7e(e,xme,{configurable:!0,value:o})},g7e=Kce.IteratorPrototype,m7e=function(){return this},v7e=po.String,b7e=po.TypeError,$_=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=hr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return bc(l),function(d){if(typeof d=="object"||ni(d))return d;throw b7e("Can't set "+v7e(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),y7e=W_.PROPER,w7e=W_.CONFIGURABLE,Eme=Kce.IteratorPrototype,Dz=Kce.BUGGY_SAFARI_ITERATORS,vB=$l("iterator"),C7e=function(){return this},Yce=function(e,o,s,l,c,d,p){(function(B,O,P,I){var z=O+" Iterator";B.prototype=eq(g7e,{next:GW(+!I,P)}),bU(B,z,!1),__[z]=m7e})(s,o,l);var v,y,S,x=function(B){if(B===c&&N)return N;if(!Dz&&B in A)return A[B];switch(B){case"keys":case"values":case"entries":return function(){return new s(this,B)}}return function(){return new s(this)}},T=o+" Iterator",k=!1,A=e.prototype,F=A[vB]||A["@@iterator"]||c&&A[c],N=!Dz&&F||x(c),D=o=="Array"&&A.entries||F;if(D&&(v=vU(D.call(new e)))!==Object.prototype&&v.next&&(vU(v)!==Eme&&($_?$_(v,Eme):ni(v[vB])||Xd(v,vB,C7e)),bU(v,T,!0)),y7e&&c=="values"&&F&&F.name!=="values"&&(w7e?Im(A,"name","values"):(k=!0,N=function(){return ia(F,this)})),c)if(y={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in y)(Dz||k||!(S in A))&&Xd(A,S,y[S]);else Ol({target:o,proto:!0,forced:Dz||k},y);return A[vB]!==N&&Xd(A,vB,N,{name:c}),__[o]=N,y},S7e=cSe.charAt,x7e=Ff.set,E7e=Ff.getterFor("String Iterator");Yce(String,"String",function(e){x7e(this,{type:"String Iterator",string:Si(e),index:0})},function(){var e,o=E7e(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=S7e(s,l),o.index+=e.length,{value:e,done:!1})});var noe,k7e=zP.f,kme=hr("".endsWith),A7e=hr("".slice),T7e=Math.min,fSe=qce("endsWith"),O7e=!(fSe||(noe=k7e(String.prototype,"endsWith"),!noe||noe.writable));Ol({target:"String",proto:!0,forced:!O7e&&!fSe},{endsWith:function(e){var o=Si(hg(this));Wce(e);var s=arguments.length>1?arguments[1]:void 0,l=o.length,c=s===void 0?l:T7e(q_(s),l),d=Si(e);return kme?kme(o,d,c):A7e(o,c-d.length,c)===d}});var _7e=hr([].join),$7e=JW!=Object,D7e=YCe("join",",");Ol({target:"Array",proto:!0,forced:$7e||!D7e},{join:function(e){return _7e(TC(this),e===void 0?",":e)}});var B7e=$l("species"),tq=function(e){return GN>=51||!Pa(function(){var o=[];return(o.constructor={})[B7e]=function(){return{foo:1}},o[e](Boolean).foo!==1})},N7e=Z_.map,P7e=tq("map");Ol({target:"Array",proto:!0,forced:!P7e},{map:function(e){return N7e(this,e,arguments.length>1?arguments[1]:void 0)}});var Xce=po.RegExp,Lae=Pa(function(){var e=Xce("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),F7e=Lae||Pa(function(){return!Xce("a","y").sticky}),nq={BROKEN_CARET:Lae||Pa(function(){var e=Xce("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:F7e,UNSUPPORTED_Y:Lae},R7e=po.RegExp,Jce=Pa(function(){var e=R7e(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),M7e=po.RegExp,Qce=Pa(function(){var e=M7e("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),I7e=Ff.get,L7e=Rce("native-string-replace",String.prototype.replace),yU=RegExp.prototype.exec,Hae=yU,H7e=hr("".charAt),j7e=hr("".indexOf),z7e=hr("".replace),ooe=hr("".slice),roe=function(){var e=/a/,o=/b*/g;return ia(yU,e,"a"),ia(yU,o,"a"),e.lastIndex!==0||o.lastIndex!==0}(),Ame=nq.BROKEN_CARET,soe=/()??/.exec("")[1]!==void 0;(roe||soe||Ame||Jce||Qce)&&(Hae=function(e){var o,s,l,c,d,p,v,y=this,S=I7e(y),x=Si(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=ia(Hae,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=Ame&&y.sticky,F=ia(Vce,y),N=y.source,D=0,B=x;if(A&&(F=z7e(F,"y",""),j7e(F,"g")===-1&&(F+="g"),B=ooe(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&H7e(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),soe&&(s=new RegExp("^"+N+"$(?!\\s)",F)),roe&&(l=y.lastIndex),c=ia(yU,A?s:y,B),A?c?(c.input=ooe(c.input,D),c[0]=ooe(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:roe&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),soe&&c&&c.length>1&&ia(L7e,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=eq(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var QN=Hae;Ol({target:"RegExp",proto:!0,forced:/./.exec!==QN},{exec:QN});var eue=Function.prototype,Tme=eue.apply,V7e=eue.bind,Ome=eue.call,tue=typeof Reflect=="object"&&Reflect.apply||(V7e?Ome.bind(Tme):function(){return Ome.apply(Tme,arguments)}),U7e=$l("species"),aoe=RegExp.prototype,nue=function(e,o,s,l){var c=$l(e),d=!Pa(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Pa(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[U7e]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=hr(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=hr(S),N=x.exec;return N===QN||N===aoe.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});Xd(String.prototype,e,y[0]),Xd(aoe,c,y[1])}l&&Im(aoe[c],"sham",!0)},W7e=cSe.charAt,oue=function(e,o,s){return o+(s?W7e(e,o).length:1)},q7e=Math.floor,ioe=hr("".charAt),Z7e=hr("".replace),loe=hr("".slice),G7e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,K7e=/\$([$&'`]|\d{1,2})/g,Y7e=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,y=K7e;return c!==void 0&&(c=AC(c),y=G7e),Z7e(d,y,function(S,x){var T;switch(ioe(x,0)){case"$":return"$";case"&":return e;case"`":return loe(o,0,s);case"'":return loe(o,p);case"<":T=c[loe(x,1,-1)];break;default:var k=+x;if(k===0)return S;if(k>v){var A=q7e(k/10);return A===0?S:A<=v?l[A-1]===void 0?ioe(x,1):l[A-1]+ioe(x,1):S}T=l[k-1]}return T===void 0?"":T})},X7e=po.TypeError,eP=function(e,o){var s=e.exec;if(ni(s)){var l=ia(s,e,o);return l!==null&&bc(l),l}if(Lm(e)==="RegExp")return ia(QN,e,o);throw X7e("RegExp#exec called on incompatible receiver")},jae=$l("replace"),J7e=Math.max,Q7e=Math.min,eBe=hr([].concat),coe=hr([].push),_me=hr("".indexOf),$me=hr("".slice),tBe="a".replace(/./,"$0")==="$0",Dme=!!/./[jae]&&/./[jae]("a","$0")==="";nue("replace",function(e,o,s){var l=Dme?"$":"$0";return[function(c,d){var p=hg(this),v=c==null?void 0:k4(c,jae);return v?ia(v,c,p,d):ia(o,Si(p),c,d)},function(c,d){var p=bc(this),v=Si(c);if(typeof d=="string"&&_me(d,l)===-1&&_me(d,"$<")===-1){var y=s(o,p,v,d);if(y.done)return y.value}var S=ni(d);S||(d=Si(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var k=[];;){var A=eP(p,v);if(A===null||(coe(k,A),!x))break;Si(A[0])===""&&(p.lastIndex=oue(v,q_(p.lastIndex),T))}for(var F,N="",D=0,B=0;B<k.length;B++){for(var O=Si((A=k[B])[0]),P=J7e(Q7e(jP(A.index),v.length),0),I=[],z=1;z<A.length;z++)coe(I,(F=A[z])===void 0?F:String(F));var K=A.groups;if(S){var j=eBe([O],I,P,v);K!==void 0&&coe(j,K);var oe=Si(tue(d,void 0,j))}else oe=Y7e(O,v,P,I,K,d);P>=D&&(N+=$me(v,D,P)+oe,D=P+O.length)}return N+$me(v,D)}]},!!Pa(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!tBe||Dme);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zae=function(e,o){return zae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},zae(e,o)};function G_(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=e}zae(e,o),e.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}var lg=function(){return lg=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},lg.apply(this,arguments)};function rg(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function aa(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function Vae(e,o){for(var s=0,l=o.length,c=e.length;s<l;s++,c++)e[c]=o[s];return e}var nBe=0,Bme=function(){this.id=""+nBe++},oBe=Ff.set,rBe=Ff.getterFor("Array Iterator"),gN=Yce(Array,"Array",function(e,o){oBe(this,{type:"Array Iterator",target:TC(e),index:0,kind:o})},function(){var e=rBe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");__.Arguments=__.Array,kN("keys"),kN("values"),kN("entries");var D_=function(e,o,s){for(var l in o)Xd(e,l,o[l],s);return e},sBe=po.Array,aBe=Math.max,Uae=function(e,o,s){for(var l=z4(e),c=O_(o,l),d=O_(s===void 0?l:s,l),p=sBe(aBe(d-c,0)),v=0;c<d;c++,v++)JN(p,v,e[c]);return p.length=v,p},Nme=YN.f,Pme=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],iBe={f:function(e){return Pme&&Lm(e)=="Window"?function(o){try{return Nme(o)}catch{return Uae(Pme)}}(e):Nme(TC(e))}},Fme=Pa(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Bz=Object.isExtensible,e4=Pa(function(){Bz(1)})||Fme?function(e){return!!Pi(e)&&(!Fme||Lm(e)!="ArrayBuffer")&&(!Bz||Bz(e))}:Bz,lBe=!Pa(function(){return Object.isExtensible(Object.preventExtensions({}))}),oq=HP(function(e){var o=Wm.f,s=!1,l=Mce("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=YN.f,y=hr([].splice),S={};S[l]=1,v(S).length&&(YN.f=function(x){for(var T=v(x),k=0,A=T.length;k<A;k++)if(T[k]===l){y(T,k,1);break}return T},Ol({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:iBe.f}))},fastKey:function(v,y){if(!Pi(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!vc(v,l)){if(!e4(v))return"F";if(!y)return"E";d(v)}return v[l].objectID},getWeakData:function(v,y){if(!vc(v,l)){if(!e4(v))return!0;if(!y)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return lBe&&s&&e4(v)&&!vc(v,l)&&d(v),v}};YW[l]=!0}),cBe=po.TypeError,OV=function(e,o){this.stopped=e,this.result=o},Rme=OV.prototype,tP=function(e,o,s){var l,c,d,p,v,y,S,x=s&&s.that,T=!(!s||!s.AS_ENTRIES),k=!(!s||!s.IS_ITERATOR),A=!(!s||!s.INTERRUPTED),F=A4(o,x),N=function(B){return l&&Rae(l,"normal",B),new OV(!0,B)},D=function(B){return T?(bc(B),A?F(B[0],B[1],N):F(B[0],B[1])):A?F(B,N):F(B)};if(k)l=e;else{if(!(c=Zce(e)))throw cBe(ZW(e)+" is not iterable");if(sSe(c)){for(d=0,p=z4(e);p>d;d++)if((v=D(e[d]))&&E4(Rme,v))return v;return new OV(!1)}l=aSe(e,c)}for(y=l.next;!(S=ia(y,l)).done;){try{v=D(S.value)}catch(B){Rae(l,"throw",B)}if(typeof v=="object"&&v&&E4(Rme,v))return v}return new OV(!1)},uBe=po.TypeError,rq=function(e,o){if(E4(o,e))return e;throw uBe("Incorrect invocation")},dSe=function(e,o,s){var l,c;return $_&&ni(l=o.constructor)&&l!==s&&Pi(c=l.prototype)&&c!==s.prototype&&$_(e,c),e},hSe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=po[e],v=p&&p.prototype,y=p,S={},x=function(D){var B=hr(v[D]);Xd(v,D,D=="add"?function(O){return B(this,O===0?0:O),this}:D=="delete"?function(O){return!(c&&!Pi(O))&&B(this,O===0?0:O)}:D=="get"?function(O){return c&&!Pi(O)?void 0:B(this,O===0?0:O)}:D=="has"?function(O){return!(c&&!Pi(O))&&B(this,O===0?0:O)}:function(O,P){return B(this,O===0?0:O,P),this})};if(XN(e,!ni(p)||!(c||v.forEach&&!Pa(function(){new p().entries().next()}))))y=s.getConstructor(o,e,l,d),oq.enable();else if(XN(e,!0)){var T=new y,k=T[d](c?{}:-0,1)!=T,A=Pa(function(){T.has(1)}),F=Gce(function(D){new p(D)}),N=!c&&Pa(function(){for(var D=new p,B=5;B--;)D[d](B,B);return!D.has(-0)});F||((y=o(function(D,B){rq(D,v);var O=dSe(new p,D,y);return B!=null&&tP(B,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=y),(A||N)&&(x("delete"),x("has"),l&&x("get")),(N||k)&&x(d),c&&v.clear&&delete v.clear}return S[e]=y,Ol({global:!0,forced:y!=p},S),bU(y,e),c||s.setStrong(y,e,l),y},Nz=oq.getWeakData,fBe=Ff.set,dBe=Ff.getterFor,hBe=Z_.find,pBe=Z_.findIndex,gBe=hr([].splice),mBe=0,Pz=function(e){return e.frozen||(e.frozen=new pSe)},pSe=function(){this.entries=[]},uoe=function(e,o){return hBe(e.entries,function(s){return s[0]===o})};pSe.prototype={get:function(e){var o=uoe(this,e);if(o)return o[1]},has:function(e){return!!uoe(this,e)},set:function(e,o){var s=uoe(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=pBe(this.entries,function(s){return s[0]===e});return~o&&gBe(this.entries,o,1),!!~o}};var bB,gSe={getConstructor:function(e,o,s,l){var c=e(function(y,S){rq(y,d),fBe(y,{type:o,id:mBe++,frozen:void 0}),S!=null&&tP(S,y[l],{that:y,AS_ENTRIES:s})}),d=c.prototype,p=dBe(o),v=function(y,S,x){var T=p(y),k=Nz(bc(S),!0);return k===!0?Pz(T).set(S,x):k[T.id]=x,y};return D_(d,{delete:function(y){var S=p(this);if(!Pi(y))return!1;var x=Nz(y);return x===!0?Pz(S).delete(y):x&&vc(x,S.id)&&delete x[S.id]},has:function(y){var S=p(this);if(!Pi(y))return!1;var x=Nz(y);return x===!0?Pz(S).has(y):x&&vc(x,S.id)}}),D_(d,s?{get:function(y){var S=p(this);if(Pi(y)){var x=Nz(y);return x===!0?Pz(S).get(y):x?x[S.id]:void 0}},set:function(y,S){return v(this,y,S)}}:{add:function(y){return v(this,y,!0)}}),c}},Fz=Ff.enforce,vBe=!po.ActiveXObject&&"ActiveXObject"in po,mSe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},bBe=hSe("WeakMap",mSe,gSe);if(UCe&&vBe){bB=gSe.getConstructor(mSe,"WeakMap",!0),oq.enable();var yB=bBe.prototype,Mme=hr(yB.delete),Rz=hr(yB.has),Ime=hr(yB.get),Lme=hr(yB.set);D_(yB,{delete:function(e){if(Pi(e)&&!e4(e)){var o=Fz(this);return o.frozen||(o.frozen=new bB),Mme(this,e)||o.frozen.delete(e)}return Mme(this,e)},has:function(e){if(Pi(e)&&!e4(e)){var o=Fz(this);return o.frozen||(o.frozen=new bB),Rz(this,e)||o.frozen.has(e)}return Rz(this,e)},get:function(e){if(Pi(e)&&!e4(e)){var o=Fz(this);return o.frozen||(o.frozen=new bB),Rz(this,e)?Ime(this,e):o.frozen.get(e)}return Ime(this,e)},set:function(e,o){if(Pi(e)&&!e4(e)){var s=Fz(this);s.frozen||(s.frozen=new bB),Rz(this,e)?Lme(this,e,o):s.frozen.set(e,o)}else Lme(this,e,o);return this}})}var foe=$l("iterator"),Hme=$l("toStringTag"),doe=gN.values,vSe=function(e,o){if(e){if(e[foe]!==doe)try{Im(e,foe,doe)}catch{e[foe]=doe}if(e[Hme]||Im(e,Hme,o),pU[o]){for(var s in gN)if(e[s]!==gN[s])try{Im(e,s,gN[s])}catch{e[s]=gN[s]}}}};for(var hoe in pU)vSe(po[hoe]&&po[hoe].prototype,hoe);vSe(qCe,"DOMTokenList");var Wae=new WeakMap,qae=new WeakMap,rue=new WeakMap,sq=new WeakMap,Zae=new WeakMap,wU=new WeakMap,sue=new WeakMap,Gae=new WeakMap,_V=new WeakMap,jme=new WeakMap,zme=new WeakMap,Vme=new WeakMap,Ume=new WeakMap,nP=new WeakMap,B_=new WeakMap,aue=new WeakMap,aq=new WeakMap,iue=new WeakMap,iq=new WeakMap,$V=new WeakMap,bSe=new WeakMap,s4=new WeakMap,Kae=new WeakMap,Wme=new WeakMap,poe=new WeakMap,yBe=Z_.find,qme=!0;"find"in[]&&Array(1).find(function(){qme=!1}),Ol({target:"Array",proto:!0,forced:qme},{find:function(e){return yBe(this,e,arguments.length>1?arguments[1]:void 0)}}),kN("find"),Ol({global:!0},{globalThis:po});const wBe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"];sU&&(Dt.fn.css=sU),zv&&(Dt.fn.append=zv),b_&&(Dt.fn.addClass=b_),y_&&(Dt.fn.removeClass=y_),w_&&(Dt.fn.hasClass=w_),jv&&(Dt.fn.on=jv),gC&&(Dt.fn.focus=gC),Lv&&(Dt.fn.attr=Lv),tU&&(Dt.fn.removeAttr=tU),S_&&(Dt.fn.hide=S_),rU&&(Dt.fn.show=rU),ige&&(Dt.fn.offset=ige),nU&&(Dt.fn.width=nU),oU&&(Dt.fn.height=oU),lU&&(Dt.fn.parent=lU),cU&&(Dt.fn.parents=cU),cge&&(Dt.fn.is=cge),C_&&(Dt.fn.dataset=C_),Hv&&(Dt.fn.val=Hv),iU&&(Dt.fn.text=iU),pC&&(Dt.fn.html=pC),E_&&(Dt.fn.children=E_),k_&&(Dt.fn.remove=k_),x_&&(Dt.fn.find=x_),aU&&(Dt.fn.each=aU),A_&&(Dt.fn.empty=A_);var Xw,lue=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Bm=function(e){return T4(e)&&e.nodeType===1},T4=function(e){var o=lue(e);return!!o&&e instanceof o.Node},Zme=function(e){var o=e&&e.anchorNode&&lue(e.anchorNode);return!!o&&e instanceof o.Selection},ySe=function(e){return T4(e)&&e.nodeType===3},cue=function(e){var o,s,l;return(o=window.document.getElementById(e))!==null&&o!==void 0?o:((l=(s=window.document.activeElement)===null||s===void 0?void 0:s.shadowRoot)===null||l===void 0?void 0:l.getElementById(e))||null},wSe=function(e,o,s){for(var l,c=e.childNodes,d=c[o],p=o,v=!1,y=!1;(T4(l=d)&&l.nodeType===8||Bm(d)&&d.childNodes.length===0||Bm(d)&&d.getAttribute("contenteditable")==="false")&&(!v||!y);)p>=c.length?(v=!0,p=o-1,s="backward"):p<0?(y=!0,p=o+1,s="forward"):(d=c[p],o=p,p+=s==="forward"?1:-1);return[d,o]},CBe=function(e,o,s){return aa(wSe(e,o,s),1)[0]},SBe=function e(o){var s,l,c="";if(ySe(o)&&o.nodeValue)return o.nodeValue;if(Bm(o)){try{for(var d=rg(Array.from(o.childNodes)),p=d.next();!p.done;p=d.next())c+=e(p.value)}catch(y){s={error:y}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}var v=getComputedStyle(o).getPropertyValue("display");v!=="block"&&v!=="list"&&v!=="table-row"&&o.tagName!=="BR"||(c+=`
`)}return c};function CSe(e,o){if(!(e instanceof HTMLElement&&e.dataset.slateVoid==="true"))for(var s=e.childNodes,l=s.length;l--;){var c=s[l],d=c.nodeType;d==3?o(c,e):d!=1&&d!=9&&d!=11||CSe(c,o)}}function Gme(e){if(e.length===0)return"";var o=e[0];return o.nodeType!==Xw.ELEMENT_NODE?"":o.tagName.toLowerCase()}(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Xw||(Xw={})),globalThis.navigator!==void 0&&globalThis.window!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&globalThis.window.MSStream;var Yae=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),AN=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent);var wB=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),xBe=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),EBe=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Xae=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent);typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent);var CB=!EBe&&!xBe&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",St={getWindow:function(e){var o=bSe.get(e);if(!o)throw new Error("Unable to find a host window element for this editor");return o},findKey:function(e,o){var s=$V.get(o);return s||(s=new Bme,$V.set(o,s)),s},setNewKey:function(e){var o=new Bme;$V.set(e,o)},findPath:function(e,o){for(var s=[],l=o;;){var c=B_.get(l);if(c==null){if(ze.isEditor(l))return s;break}var d=nP.get(l);if(d==null)break;s.unshift(d),l=c}throw new Error("Unable to find the path for Slate node: "+JSON.stringify(o))},findDocumentOrShadowRoot:function(e){if(e.isDestroyed)return window.document;var o=St.toDOMNode(e,e),s=o.getRootNode();return(s instanceof Document||s instanceof ShadowRoot)&&s.getSelection!=null?s:o.ownerDocument},getParentNode:function(e,o){return B_.get(o)||null},getParentsNodes:function(e,o){for(var s=[],l=o;l!==e&&l!=null;){var c=St.getParentNode(e,l);if(c==null)break;s.push(c),l=c}return s},getTopNode:function(e,o){var s=[St.findPath(e,o)[0]];return yo.get(e,s)},toDOMNode:function(e,o){var s;if(ze.isEditor(o))s=aue.get(e);else{var l=St.findKey(e,o);s=iue.get(l)}if(!s)throw new Error("Cannot resolve a DOM node from Slate node: "+JSON.stringify(o));return s},hasDOMNode:function(e,o,s){s===void 0&&(s={});var l,c=s.editable,d=c!==void 0&&c,p=St.toDOMNode(e,e);try{l=Bm(o)?o:o.parentElement}catch(v){if(!v.message.includes('Permission denied to access property "nodeType"'))throw v}return!!l&&l.closest("[data-slate-editor]")===p&&(!d||l.isContentEditable||!!l.getAttribute("data-slate-zero-width"))},toDOMRange:function(e,o){var s=o.anchor,l=o.focus,c=yn.isBackward(o),d=St.toDOMPoint(e,s),p=yn.isCollapsed(o)?d:St.toDOMPoint(e,l),v=St.getWindow(e).document.createRange(),y=aa(c?p:d,2),S=y[0],x=y[1],T=aa(c?d:p,2),k=T[0],A=T[1],F=!!(Bm(S)?S:S.parentElement).getAttribute("data-slate-zero-width"),N=!!(Bm(k)?k:k.parentElement).getAttribute("data-slate-zero-width");return v.setStart(S,F?1:x),v.setEnd(k,N?1:A),v},toDOMPoint:function(e,o){var s,l,c,d=aa(ze.node(e,o.path),1)[0],p=St.toDOMNode(e,d);ze.void(e,{at:o})&&(o={path:o.path,offset:0});var v=Array.from(p.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),y=0;try{for(var S=rg(v),x=S.next();!x.done;x=S.next()){var T=x.value,k=T.childNodes[0];if(k!=null&&k.textContent!=null){var A=k.textContent.length,F=T.getAttribute("data-slate-length"),N=y+(F==null?A:parseInt(F,10));if(o.offset<=N){c=[k,Math.min(A,Math.max(0,o.offset-y))];break}y=N}}}catch(D){s={error:D}}finally{try{x&&!x.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(!c)throw new Error("Cannot resolve a DOM point from Slate point: "+JSON.stringify(o));return c},toSlateNode:function(e,o){var s=Bm(o)?o:o.parentElement;s&&!s.hasAttribute("data-slate-node")&&(s=s.closest("[data-slate-node]"));var l=s?aq.get(s):null;if(!l)throw new Error("Cannot resolve a Slate node from DOM node: "+s);return l},findEventRange:function(e,o){"nativeEvent"in o&&(o=o.nativeEvent);var s=o.clientX,l=o.clientY,c=o.target;if(s==null||l==null)throw new Error("Cannot resolve a Slate range from a DOM event: "+o);var d,p=St.toSlateNode(e,o.target),v=St.findPath(e,p);if(ze.isVoid(e,p)){var y=c.getBoundingClientRect(),S=e.isInline(p)?s-y.left<y.left+y.width-s:l-y.top<y.top+y.height-l,x=ze.point(e,v,{edge:S?"start":"end"}),T=S?ze.before(e,x):ze.after(e,x);if(T)return ze.range(e,T)}var k=this.getWindow(e).document;if(k.caretRangeFromPoint)d=k.caretRangeFromPoint(s,l);else{var A=k.caretPositionFromPoint(s,l);A&&((d=k.createRange()).setStart(A.offsetNode,A.offset),d.setEnd(A.offsetNode,A.offset))}if(!d)throw new Error("Cannot resolve a Slate range from a DOM event: "+o);return St.toSlateRange(e,d,{exactMatch:!1,suppressThrow:!1})},toSlateRange:function(e,o,s){var l,c,d,p,v,y=s.exactMatch,S=s.suppressThrow;if((Zme(o)?o.anchorNode:o.startContainer)&&(Zme(o)?(l=o.anchorNode,c=o.anchorOffset,d=o.focusNode,p=o.focusOffset,v=Xae&&window.document.activeElement&&window.document.activeElement.shadowRoot?o.anchorNode===o.focusNode&&o.anchorOffset===o.focusOffset:o.isCollapsed):(l=o.startContainer,c=o.startOffset,d=o.endContainer,p=o.endOffset,v=o.collapsed)),l==null||d==null||c==null||p==null)throw new Error("Cannot resolve a Slate range from DOM range: "+o);var x=St.toSlatePoint(e,[l,c],{exactMatch:y,suppressThrow:S});if(!x)return null;var T=v?x:St.toSlatePoint(e,[d,p],{exactMatch:y,suppressThrow:S});if(!T)return null;var k={anchor:x,focus:T};return yn.isExpanded(k)&&yn.isForward(k)&&Bm(d)&&ze.void(e,{at:k.focus,mode:"highest"})&&(k=ze.unhangRange(e,k,{voids:!0})),k},toSlatePoint:function(e,o,s){var l,c=s.exactMatch,d=s.suppressThrow,p=aa(c?o:function(O){var P,I=aa(O,2),z=I[0],K=I[1];if(Bm(z)&&z.childNodes.length){var j=K===z.childNodes.length,oe=j?K-1:K;for(z=(P=aa(wSe(z,oe,j?"backward":"forward"),2))[0],j=(oe=P[1])<K;Bm(z)&&z.childNodes.length;){var ke=j?z.childNodes.length-1:0;z=CBe(z,ke,j?"backward":"forward")}K=j&&z.textContent!=null?z.textContent.length:0}return[z,K]}(o),2),v=p[0],y=p[1],S=v.parentNode,x=null,T=0;if(S){var k=S.closest('[data-slate-void="true"]'),A=S.closest("[data-slate-leaf]"),F=null;if(A){x=A.closest('[data-slate-node="text"]');var N=St.getWindow(e).document.createRange();N.setStart(x,0),N.setEnd(v,y);var D=N.cloneContents();Vae(Vae([],aa(rge(D.querySelectorAll("[data-slate-zero-width]")))),aa(rge(D.querySelectorAll("[contenteditable=false]")))).forEach(function(O){O.parentNode.removeChild(O)}),T=D.textContent.length,F=x}else k&&((A=k.querySelector("[data-slate-leaf]"))?(x=A.closest('[data-slate-node="text"]'),T=(F=A).textContent.length,F.querySelectorAll("[data-slate-zero-width]").forEach(function(O){T-=O.textContent.length})):T=1);F&&T===F.textContent.length&&(S.hasAttribute("data-slate-zero-width")||AN&&((l=F.textContent)===null||l===void 0?void 0:l.endsWith(`
`)))&&T--}if(!x){if(d)return null;throw new Error("Cannot resolve a Slate point from DOM point: "+o)}var B=St.toSlateNode(e,x);return{path:St.findPath(e,B),offset:T}},hasRange:function(e,o){var s=o.anchor,l=o.focus;return ze.hasPath(e,s.path)&&ze.hasPath(e,l.path)},getNodeType:function(e){return sr.isElement(e)?e.type:""},checkNodeType:function(e,o){return this.getNodeType(e)===o},getNodesStr:function(e){return e.map(function(o){return yo.string(o)}).join("")},getSelectedElems:function(e){var o,s,l=[],c=ze.nodes(e,{universal:!0});try{for(var d=rg(c),p=d.next();!p.done;p=d.next()){var v=aa(p.value,1)[0];sr.isElement(v)&&l.push(v)}}catch(y){o={error:y}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return l},getSelectedNodeByType:function(e,o){var s=this,l=aa(ze.nodes(e,{match:function(d){return s.checkNodeType(d,o)},universal:!0}),1),c=l[0];return c==null?null:c[0]},getSelectedTextNode:function(e){var o=aa(ze.nodes(e,{match:function(l){return Io.isText(l)},universal:!0}),1),s=o[0];return s==null?null:s[0]},isNodeSelected:function(e,o){var s=aa(ze.nodes(e,{match:function(c){return c===o},universal:!0}),1),l=s[0];return l!=null&&aa(l,1)[0]===o},isSelectionAtLineEnd:function(e,o){var s=e.selection;return!!s&&(ze.isEnd(e,s.anchor,o)||ze.isEnd(e,s.focus,o))},getTextarea:function(e){var o=Wae.get(e);if(o==null)throw new Error("Cannot find textarea instance by editor");return o},getToolbar:function(e){return sq.get(e)||null},getHoverbar:function(e){return wU.get(e)||null},normalizeContent:function(e){e.children.forEach(function(o,s){e.normalizeNode([o,[s]])})},getLeftLengthOfMaxLength:function(e){var o=e.getConfig(),s=o.maxLength,l=o.onMaxLength;if(typeof s!="number"||s<=0)return 1/0;var c=s-e.getText().replace(/\r|\n|(\r\n)/g,"").length;return c<=0&&l&&l(e),c},cleanExposedTexNodeInSelectionBlock:function(e){var o,s,l,c,d=St.getTextarea(e).$textArea,p=d==null?void 0:d[0].childNodes;if(p)try{for(var v=rg(Array.from(p)),y=v.next();!y.done;y=v.next()){var S=y.value;if(S.nodeType!==3)break;S.remove()}}catch(N){o={error:N}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}var x=ze.nodes(e,{match:function(N){return!(!sr.isElement(N)||e.isInline(N))},universal:!0});try{for(var T=rg(x),k=T.next();!k.done;k=T.next()){var A=k.value;if(A!=null){var F=A[0];CSe(St.toDOMNode(e,F),function(N,D){var B=Dt(D);B.attr("data-slate-string")||B.attr("data-slate-zero-width")||D.removeChild(N)})}}}catch(N){l={error:N}}finally{try{k&&!k.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}},isLastNode:function(e,o){var s=e.children||[];return s[s.length-1]===o},genEmptyParagraph:function(){return{type:"paragraph",children:[{text:""}]}},isSelectedVoidNode:function(e){var o,s,l=ze.nodes(e,{match:function(v){return e.isVoid(v)}}),c=0;try{for(var d=rg(l),p=d.next();!p.done;p=d.next())p.value,c++}catch(v){o={error:v}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return c>0},isSelectedEmptyParagraph:function(e){var o=e.selection;if(o==null||yn.isExpanded(o))return!1;var s=St.getSelectedNodeByType(e,"paragraph");if(s===null)return!1;var l=s.children;return l.length===1&&(l[0].text===""||void 0)},isEmptyPath:function(e,o){var s=ze.node(e,o);if(s==null)return!1;var l=aa(s,1)[0].children;return l.length===1&&l[0].text===""}},kBe=1,SSe={},oP={};function ABe(e,o){var s=e.key,l=e.factory,c=e.config,d=lg(lg({},c),o||{});if(oP[s]!=null)throw new Error("Duplicated key '"+s+"' in menu items");oP[s]=l,function(p,v){v!=null&&(SSe[p]=v)}(s,d)}var Kme=$l("species"),uue=function(e){var o=j4(e),s=Wm.f;Au&&o&&!o[Kme]&&s(o,Kme,{configurable:!0,get:function(){return this}})},TBe=Wm.f,Yme=oq.fastKey,Xme=Ff.set,goe=Ff.getterFor,OBe={getConstructor:function(e,o,s,l){var c=e(function(S,x){rq(S,d),Xme(S,{type:o,index:eq(null),first:void 0,last:void 0,size:0}),Au||(S.size=0),x!=null&&tP(x,S[l],{that:S,AS_ENTRIES:s})}),d=c.prototype,p=goe(o),v=function(S,x,T){var k,A,F=p(S),N=y(S,x);return N?N.value=T:(F.last=N={index:A=Yme(x,!0),key:x,value:T,previous:k=F.last,next:void 0,removed:!1},F.first||(F.first=N),k&&(k.next=N),Au?F.size++:S.size++,A!=="F"&&(F.index[A]=N)),S},y=function(S,x){var T,k=p(S),A=Yme(x);if(A!=="F")return k.index[A];for(T=k.first;T;T=T.next)if(T.key==x)return T};return D_(d,{clear:function(){for(var S=p(this),x=S.index,T=S.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete x[T.index],T=T.next;S.first=S.last=void 0,Au?S.size=0:this.size=0},delete:function(S){var x=this,T=p(x),k=y(x,S);if(k){var A=k.next,F=k.previous;delete T.index[k.index],k.removed=!0,F&&(F.next=A),A&&(A.previous=F),T.first==k&&(T.first=A),T.last==k&&(T.last=F),Au?T.size--:x.size--}return!!k},forEach:function(S){for(var x,T=p(this),k=A4(S,arguments.length>1?arguments[1]:void 0);x=x?x.next:T.first;)for(k(x.value,x.key,this);x&&x.removed;)x=x.previous},has:function(S){return!!y(this,S)}}),D_(d,s?{get:function(S){var x=y(this,S);return x&&x.value},set:function(S,x){return v(this,S===0?0:S,x)}}:{add:function(S){return v(this,S=S===0?0:S,S)}}),Au&&TBe(d,"size",{get:function(){return p(this).size}}),c},setStrong:function(e,o,s){var l=o+" Iterator",c=goe(o),d=goe(l);Yce(e,o,function(p,v){Xme(this,{type:l,target:p,state:c(p),kind:v,last:void 0})},function(){for(var p=d(this),v=p.kind,y=p.last;y&&y.removed;)y=y.previous;return p.target&&(p.last=y=y?y.next:p.state.first)?v=="keys"?{value:y.key,done:!1}:v=="values"?{value:y.value,done:!1}:{value:[y.key,y.value],done:!1}:(p.target=void 0,{value:void 0,done:!0})},s?"entries":"values",!s,!0),uue(o)}};hSe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},OBe);var _Be=Z_.filter,$Be=tq("filter");Ol({target:"Array",proto:!0,forced:!$Be},{filter:function(e){return _Be(this,e,arguments.length>1?arguments[1]:void 0)}});var Jae=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Jme=hr("".replace),CU="["+Jae+"]",DBe=RegExp("^"+CU+CU+"*"),BBe=RegExp(CU+CU+"*$"),moe=function(e){return function(o){var s=Si(hg(o));return 1&e&&(s=Jme(s,DBe,"")),2&e&&(s=Jme(s,BBe,"")),s}},NBe={start:moe(1),end:moe(2),trim:moe(3)},PBe=W_.PROPER,FBe=NBe.trim;Ol({target:"String",proto:!0,forced:function(e){return Pa(function(){return!!Jae[e]()||"\u200B\x85\u180E"[e]()!=="\u200B\x85\u180E"||PBe&&Jae[e].name!==e})}("trim")},{trim:function(){return FBe(this)}});var fue=[];function RBe(e){fue.push(e)}var xSe={};function MBe(e){var o=e.type,s=e.elemToHtml;xSe[o||""]=s}function IBe(e,o,s){var l=s.isInline(e)?"span":"div";return"<"+l+">"+o+"</"+l+">"}function LBe(e,o){var s=e.type,l=s===void 0?"":s,c=e.children,d=c===void 0?[]:c,p=ze.isVoid(o,e),v="";p||(v=d.map(function(x){return ISe(x,o)}).join(""));var y=function(x){return xSe[x]||IBe}(l),S=y(e,v,o);return p||fue.forEach(function(x){return S=x(e,S)}),S}var rP,SO,Qme,voe,SU=po.Promise,HBe=po.TypeError,jBe=$l("species"),ESe=function(e,o){var s,l=bc(e).constructor;return l===void 0||(s=bc(l)[jBe])==null?o:function(c){if(QW(c))return c;throw HBe(ZW(c)+" is not a constructor")}(s)},kSe=hr([].slice),ASe=/(?:ipad|iphone|ipod).*applewebkit/i.test(s_),Jw=Lm(po.process)=="process",Qae=po.setImmediate,eie=po.clearImmediate,zBe=po.process,boe=po.Dispatch,VBe=po.Function,e1e=po.MessageChannel,UBe=po.String,yoe=0,TN={};try{rP=po.location}catch{}var due=function(e){if(vc(TN,e)){var o=TN[e];delete TN[e],o()}},woe=function(e){return function(){due(e)}},t1e=function(e){due(e.data)},n1e=function(e){po.postMessage(UBe(e),rP.protocol+"//"+rP.host)};Qae&&eie||(Qae=function(e){var o=kSe(arguments,1);return TN[++yoe]=function(){tue(ni(e)?e:VBe(e),void 0,o)},SO(yoe),yoe},eie=function(e){delete TN[e]},Jw?SO=function(e){zBe.nextTick(woe(e))}:boe&&boe.now?SO=function(e){boe.now(woe(e))}:e1e&&!ASe?(voe=(Qme=new e1e).port2,Qme.port1.onmessage=t1e,SO=A4(voe.postMessage,voe)):po.addEventListener&&ni(po.postMessage)&&!po.importScripts&&rP&&rP.protocol!=="file:"&&!Pa(n1e)?(SO=n1e,po.addEventListener("message",t1e,!1)):SO="onreadystatechange"in KN("script")?function(e){Nae.appendChild(KN("script")).onreadystatechange=function(){Nae.removeChild(this),due(e)}}:function(e){setTimeout(woe(e),0)});var SB,KE,ON,GO,Coe,Soe,xoe,o1e,TSe={set:Qae,clear:eie},WBe=/ipad|iphone|ipod/i.test(s_)&&po.Pebble!==void 0,qBe=/web0s(?!.*chrome)/i.test(s_),ZBe=zP.f,Eoe=TSe.set,r1e=po.MutationObserver||po.WebKitMutationObserver,s1e=po.document,a1e=po.process,Mz=po.Promise,i1e=ZBe(po,"queueMicrotask"),OSe=i1e&&i1e.value;OSe||(SB=function(){var e,o;for(Jw&&(e=a1e.domain)&&e.exit();KE;){o=KE.fn,KE=KE.next;try{o()}catch(s){throw KE?GO():ON=void 0,s}}ON=void 0,e&&e.enter()},ASe||Jw||qBe||!r1e||!s1e?!WBe&&Mz&&Mz.resolve?((xoe=Mz.resolve(void 0)).constructor=Mz,o1e=A4(xoe.then,xoe),GO=function(){o1e(SB)}):Jw?GO=function(){a1e.nextTick(SB)}:(Eoe=A4(Eoe,po),GO=function(){Eoe(SB)}):(Coe=!0,Soe=s1e.createTextNode(""),new r1e(SB).observe(Soe,{characterData:!0}),GO=function(){Soe.data=Coe=!Coe}));var koe,l1e,_Se,c1e,$Se=OSe||function(e){var o={fn:e,next:void 0};ON&&(ON.next=o),KE||(KE=o,GO()),ON=o},GBe=function(e){var o,s;this.promise=new e(function(l,c){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=c}),this.resolve=mC(o),this.reject=mC(s)},hue={f:function(e){return new GBe(e)}},tie=function(e){try{return{error:!1,value:e()}}catch(o){return{error:!0,value:o}}},KBe=typeof window=="object",DSe=TSe.set,YBe=$l("species"),Tv="Promise",u1e=Ff.getterFor(Tv),XBe=Ff.set,JBe=Ff.getterFor(Tv),UE=SU&&SU.prototype,Nv=SU,xB=UE,BSe=po.TypeError,nie=po.document,pue=po.process,i_=hue.f,QBe=i_,eNe=!!(nie&&nie.createEvent&&po.dispatchEvent),NSe=ni(po.PromiseRejectionEvent),PSe=!1,_N=XN(Tv,function(){var e=KW(Nv),o=e!==String(Nv);if(!o&&GN===66)return!0;if(GN>=51&&/native code/.test(e))return!1;var s=new Nv(function(c){c(1)}),l=function(c){c(function(){},function(){})};return(s.constructor={})[YBe]=l,!(PSe=s.then(function(){})instanceof l)||!o&&KBe&&!NSe}),tNe=_N||!Gce(function(e){Nv.all(e).catch(function(){})}),FSe=function(e){var o;return!(!Pi(e)||!ni(o=e.then))&&o},gue=function(e,o){if(!e.notified){e.notified=!0;var s=e.reactions;$Se(function(){for(var l=e.value,c=e.state==1,d=0;s.length>d;){var p,v,y,S=s[d++],x=c?S.ok:S.fail,T=S.resolve,k=S.reject,A=S.domain;try{x?(c||(e.rejection===2&&oNe(e),e.rejection=1),x===!0?p=l:(A&&A.enter(),p=x(l),A&&(A.exit(),y=!0)),p===S.promise?k(BSe("Promise-chain cycle")):(v=FSe(p))?ia(v,p,T,k):T(p)):k(l)}catch(F){A&&!y&&A.exit(),k(F)}}e.reactions=[],e.notified=!1,o&&!e.rejection&&nNe(e)})}},RSe=function(e,o,s){var l,c;eNe?((l=nie.createEvent("Event")).promise=o,l.reason=s,l.initEvent(e,!1,!0),po.dispatchEvent(l)):l={promise:o,reason:s},!NSe&&(c=po["on"+e])?c(l):e==="unhandledrejection"&&function(d,p){var v=po.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,p))}("Unhandled promise rejection",s)},nNe=function(e){ia(DSe,po,function(){var o,s=e.facade,l=e.value;if(f1e(e)&&(o=tie(function(){Jw?pue.emit("unhandledRejection",l,s):RSe("unhandledrejection",s,l)}),e.rejection=Jw||f1e(e)?2:1,o.error))throw o.value})},f1e=function(e){return e.rejection!==1&&!e.parent},oNe=function(e){ia(DSe,po,function(){var o=e.facade;Jw?pue.emit("rejectionHandled",o):RSe("rejectionhandled",o,e.value)})},t_=function(e,o,s){return function(l){e(o,l,s)}},l_=function(e,o,s){e.done||(e.done=!0,s&&(e=s),e.value=o,e.state=2,gue(e,!0))},oie=function(e,o,s){if(!e.done){e.done=!0,s&&(e=s);try{if(e.facade===o)throw BSe("Promise can't be resolved itself");var l=FSe(o);l?$Se(function(){var c={done:!1};try{ia(l,o,t_(oie,c,e),t_(l_,c,e))}catch(d){l_(c,d,e)}}):(e.value=o,e.state=1,gue(e,!1))}catch(c){l_({done:!1},c,e)}}};if(_N&&(xB=(Nv=function(e){rq(this,xB),mC(e),ia(koe,this);var o=u1e(this);try{e(t_(oie,o),t_(l_,o))}catch(s){l_(o,s)}}).prototype,(koe=function(e){XBe(this,{type:Tv,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=D_(xB,{then:function(e,o){var s=JBe(this),l=s.reactions,c=i_(ESe(this,Nv));return c.ok=!ni(e)||e,c.fail=ni(o)&&o,c.domain=Jw?pue.domain:void 0,s.parent=!0,l[l.length]=c,s.state!=0&&gue(s,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),l1e=function(){var e=new koe,o=u1e(e);this.promise=e,this.resolve=t_(oie,o),this.reject=t_(l_,o)},hue.f=i_=function(e){return e===Nv||e===_Se?new l1e(e):QBe(e)},ni(SU)&&UE!==Object.prototype)){c1e=UE.then,PSe||(Xd(UE,"then",function(e,o){var s=this;return new Nv(function(l,c){ia(c1e,s,l,c)}).then(e,o)},{unsafe:!0}),Xd(UE,"catch",xB.catch,{unsafe:!0}));try{delete UE.constructor}catch{}$_&&$_(UE,xB)}Ol({global:!0,wrap:!0,forced:_N},{Promise:Nv}),bU(Nv,Tv,!1),uue(Tv),_Se=j4(Tv),Ol({target:Tv,stat:!0,forced:_N},{reject:function(e){var o=i_(this);return ia(o.reject,void 0,e),o.promise}}),Ol({target:Tv,stat:!0,forced:_N},{resolve:function(e){return function(o,s){if(bc(o),Pi(s)&&s.constructor===o)return s;var l=hue.f(o);return(0,l.resolve)(s),l.promise}(this,e)}}),Ol({target:Tv,stat:!0,forced:tNe},{all:function(e){var o=this,s=i_(o),l=s.resolve,c=s.reject,d=tie(function(){var p=mC(o.resolve),v=[],y=0,S=1;tP(e,function(x){var T=y++,k=!1;S++,ia(p,o,x).then(function(A){k||(k=!0,v[T]=A,--S||l(v))},c)}),--S||l(v)});return d.error&&c(d.value),s.promise},race:function(e){var o=this,s=i_(o),l=s.reject,c=tie(function(){var d=mC(o.resolve);tP(e,function(p){ia(d,o,p).then(s.resolve,l)})});return c.error&&l(c.value),s.promise}});var xO=nq.UNSUPPORTED_Y,rNe=Math.min,MSe=[].push,sNe=hr(/./.exec),EO=hr(MSe),EB=hr("".slice);function pg(e){Promise.resolve().then(e)}function ISe(e,o){return sr.isElement(e)?LBe(e,o):function(s,l){var c=s.text;if(c==null)throw new Error("Current node is not slate Text "+JSON.stringify(s));var d=c;d=function(y){return y.replace(/ {2}/g," &nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(//g,"&reg;").replace(//g,"&copy;").replace(//g,"&trade;")}(d);var p=St.getParentsNodes(l,s).some(function(y){return St.getNodeType(y)==="pre"});if(p||(d=d.replace(/\r\n|\r|\n/g,"<br>")),p&&(d=d.replace(/&nbsp;/g," ")),d===""){var v=St.getParentNode(null,s);if(!v||v.children.length!==0)return d;d="<br>"}return fue.forEach(function(y){return d=y(s,d)}),d}(e,o)}function LSe(e){return"w-e-element-"+e}nue("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p=Si(hg(this)),v=d===void 0?4294967295:d>>>0;if(v===0)return[];if(c===void 0)return[p];if(!Uce(c))return ia(o,p,c,v);for(var y,S,x,T=[],k=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),A=0,F=new RegExp(c.source,k+"g");(y=ia(QN,F,p))&&!((S=F.lastIndex)>A&&(EO(T,EB(p,A,y.index)),y.length>1&&y.index<p.length&&tue(MSe,T,Uae(y,1)),x=y[0].length,A=S,T.length>=v));)F.lastIndex===y.index&&F.lastIndex++;return A===p.length?!x&&sNe(F,"")||EO(T,""):EO(T,EB(p,A)),T.length>v?Uae(T,0,v):T}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:ia(o,this,c,d)}:o,[function(c,d){var p=hg(this),v=c==null?void 0:k4(c,e);return v?ia(v,c,p,d):ia(l,Si(p),c,d)},function(c,d){var p=bc(this),v=Si(c),y=s(l,p,v,d,l!==o);if(y.done)return y.value;var S=ESe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(xO?"g":"y"),k=new S(xO?"^(?:"+p.source+")":p,T),A=d===void 0?4294967295:d>>>0;if(A===0)return[];if(v.length===0)return eP(k,v)===null?[v]:[];for(var F=0,N=0,D=[];N<v.length;){k.lastIndex=xO?0:N;var B,O=eP(k,xO?EB(v,N):v);if(O===null||(B=rNe(q_(k.lastIndex+(xO?N:0)),v.length))===F)N=oue(v,N,x);else{if(EO(D,EB(v,F,N)),D.length===A)return D;for(var P=1;P<=O.length-1;P++)if(EO(D,O[P]),D.length===A)return D;N=F=B}}return EO(D,EB(v,F)),D}]},!!Pa(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),xO);var d1e=function(e,o){var s=(o.top+o.bottom)/2;return e.top<=s&&e.bottom>=s},h1e=function(e,o,s){var l=St.toDOMRange(e,o).getBoundingClientRect(),c=St.toDOMRange(e,s).getBoundingClientRect();return d1e(l,c)&&d1e(c,l)},HSe=["span","b","strong","i","em","s","strike","u","font","sub","sup"],jSe=[];function aNe(e){jSe.push(e)}var mue=[];function iNe(e){mue.push(e)}var xU={};function lNe(e){var o=e.selector,s=e.parseElemHtml;xU[o]=s}var cNe=Wm.f,uNe=YN.f,fNe=Ff.enforce,dNe=$l("match"),oy=po.RegExp,KO=oy.prototype,hNe=po.SyntaxError,pNe=hr(Vce),gNe=hr(KO.exec),Iz=hr("".charAt),p1e=hr("".replace),g1e=hr("".indexOf),mNe=hr("".slice),vNe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,a4=/a/g,Aoe=/a/g,bNe=new oy(a4)!==a4,zSe=nq.MISSED_STICKY,yNe=nq.UNSUPPORTED_Y,wNe=Au&&(!bNe||zSe||Jce||Qce||Pa(function(){return Aoe[dNe]=!1,oy(a4)!=a4||oy(Aoe)==Aoe||oy(a4,"i")!="/a/i"}));if(XN("RegExp",wNe)){for(var Tw=function(e,o){var s,l,c,d,p,v,y=E4(KO,this),S=Uce(e),x=o===void 0,T=[],k=e;if(!y&&S&&x&&e.constructor===Tw)return e;if((S||E4(KO,e))&&(e=e.source,x&&(o="flags"in k?k.flags:pNe(k))),e=e===void 0?"":Si(e),o=o===void 0?"":Si(o),k=e,Jce&&"dotAll"in a4&&(l=!!o&&g1e(o,"s")>-1)&&(o=p1e(o,/s/g,"")),s=o,zSe&&"sticky"in a4&&(c=!!o&&g1e(o,"y")>-1)&&yNe&&(o=p1e(o,/y/g,"")),Qce&&(d=function(A){for(var F,N=A.length,D=0,B="",O=[],P={},I=!1,z=!1,K=0,j="";D<=N;D++){if((F=Iz(A,D))==="\\")F+=Iz(A,++D);else if(F==="]")I=!1;else if(!I)switch(!0){case F==="[":I=!0;break;case F==="(":gNe(vNe,mNe(A,D+1))&&(D+=2,z=!0),B+=F,K++;continue;case(F===">"&&z):if(j===""||vc(P,j))throw new hNe("Invalid capture group name");P[j]=!0,O[O.length]=[j,K],z=!1,j="";continue}z?j+=F:B+=F}return[B,O]}(e),e=d[0],T=d[1]),p=dSe(oy(e,o),y?this:KO,Tw),(l||c||T.length)&&(v=fNe(p),l&&(v.dotAll=!0,v.raw=Tw(function(A){for(var F,N=A.length,D=0,B="",O=!1;D<=N;D++)(F=Iz(A,D))!=="\\"?O||F!=="."?(F==="["?O=!0:F==="]"&&(O=!1),B+=F):B+="[\\s\\S]":B+=F+Iz(A,++D);return B}(e),s)),c&&(v.sticky=!0),T.length&&(v.groups=T)),e!==k)try{Im(p,"source",k===""?"(?:)":k)}catch{}return p},CNe=function(e){e in Tw||cNe(Tw,e,{configurable:!0,get:function(){return oy[e]},set:function(o){oy[e]=o}})},m1e=uNe(oy),v1e=0;m1e.length>v1e;)CNe(m1e[v1e++]);KO.constructor=Tw,Tw.prototype=KO,Xd(po,"RegExp",Tw)}uue("RegExp");var SNe=new RegExp(String.fromCharCode(160),"g");function VSe(e){return e.replace(SNe," ")}function b1e(e,o){var s=e.length;if(s){var l=e[s-1];if(Io.isText(l)){var c=Object.keys(l);if(c.length===1&&c[0]==="text")return l.text=l.text+o,!0}}return!1}function xNe(e,o,s){return{type:"paragraph",children:[{text:Dt(e).text().replace(/\s+/gm," ")}]}}function Toe(e,o){var s=function(d,p){var v=[];if(d.attr("data-w-e-is-void")!=null)return v;var y=d[0].childNodes;return y.length===1&&y[0].nodeName==="BR"?(v.push({text:""}),v):(y.forEach(function(S){if(S.nodeType!==Xw.ELEMENT_NODE){if(S.nodeType===Xw.TEXT_NODE){var x=S.textContent||"";if(x.trim()===""&&x.indexOf(`
`)>=0)return;x&&(x=VSe(x),b1e(v,x)||v.push({text:x}))}}else{if(S.nodeName==="BR")return void(b1e(v,`
`)||v.push({text:`
`}));var T=Dt(S);v.push(vue(T,p))}}),v)}(e,o),l=function(d){for(var p in xU)if(d[0].matches(p))return xU[p];return xNe}(e),c=l(e[0],s,o);return ze.isVoid(o,c)||(s.length===0&&(c.children=[{text:e.text().replace(/\s+/gm," ")}]),mue.forEach(function(d){c=d(e[0],c,o)})),c}function Ooe(e,o){e.parents("pre").length===0&&(e[0].innerHTML=e[0].innerHTML.replace(/\s+/gm," ").replace(/<br>/g,`
`));var s=e[0].textContent||"";s=function(c){return c.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&reg;/g,"\xAE").replace(/&copy;/g,"\xA9").replace(/&trade;/g,"\u2122")}(s);var l={text:s=VSe(s)};return mue.forEach(function(c){l=c(e[0],l,o)}),l}function vue(e,o){jSe.forEach(function(l){var c=l.selector,d=l.preParseHtml;e[0].matches(c)&&(e=Dt(d(e[0])))});var s=Gme(e);return s==="span"?e.attr("data-w-e-type")?Toe(e,o):Ooe(e,o):s==="code"?Gme(e.parent())==="pre"?Toe(e,o):Ooe(e,o):HSe.includes(s)?Ooe(e,o):Toe(e,o)}function USe(e,o,s){var l=Dt(s);return!!l.attr(o)||(l.attr(o,"true"),e.on("destroyed",function(){l.removeAttr(o)}),!1)}function WSe(e,o){o===void 0&&(o=""),o===""&&(o="<p><br></p>"),o.indexOf("<")!==0&&(o=o.split(/\n/).map(function(l){return"<p>"+l+"</p>"}).join(""));var s=Dt("<div>"+o+"</div>");return Array.from(s.children()).map(function(l){return vue(Dt(l),e)})}var ENe=new Set(["doctype","!doctype","meta","script","style","link","frame","iframe","title","svg"]),kNe=function(e){var o=e,s=o.onChange,l=o.insertText,c=o.apply,d=o.deleteBackward;return o.insertText=function(p){o.getConfig().readOnly||l(p)},o.apply=function(p){var v,y,S,x,T,k,A,F,N=[];switch(p.type){case"insert_text":case"remove_text":case"set_node":try{for(var D=rg(ze.levels(o,{at:p.path})),B=D.next();!B.done;B=D.next()){var O=aa(B.value,2),P=O[0],I=O[1],z=St.findKey(o,P);N.push([I,z])}}catch(be){v={error:be}}finally{try{B&&!B.done&&(y=D.return)&&y.call(D)}finally{if(v)throw v.error}}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":try{for(var K=rg(ze.levels(o,{at:zt.parent(p.path)})),j=K.next();!j.done;j=K.next()){var oe=aa(j.value,2);P=oe[0],I=oe[1],z=St.findKey(o,P),N.push([I,z])}}catch(be){S={error:be}}finally{try{j&&!j.done&&(x=K.return)&&x.call(K)}finally{if(S)throw S.error}}break;case"move_node":try{for(var ke=rg(ze.levels(o,{at:zt.common(zt.parent(p.path),zt.parent(p.newPath))})),ae=ke.next();!ae.done;ae=ke.next()){var Q=aa(ae.value,2);P=Q[0],I=Q[1],z=St.findKey(o,P),N.push([I,z])}}catch(be){T={error:be}}finally{try{ae&&!ae.done&&(k=ke.return)&&k.call(ke)}finally{if(T)throw T.error}}}c(p);try{for(var G=rg(N),ue=G.next();!ue.done;ue=G.next()){var pe=aa(ue.value,2);I=pe[0],z=pe[1],P=aa(ze.node(o,I),1)[0],$V.set(P,z)}}catch(be){A={error:be}}finally{try{ue&&!ue.done&&(F=G.return)&&F.call(G)}finally{if(A)throw A.error}}},o.deleteBackward=function(p){if(p!=="line")return d(p);if(e.selection&&yn.isCollapsed(e.selection)){var v=ze.above(e,{match:function(T){return ze.isBlock(e,T)},at:e.selection});if(v){var y=aa(v,2)[1],S=ze.range(e,y,e.selection.anchor),x=function(T,k){var A=ze.range(T,yn.end(k)),F=Array.from(ze.positions(T,{at:k})),N=0,D=F.length,B=Math.floor(D/2);if(h1e(T,ze.range(T,F[N]),A))return ze.range(T,F[N],A);if(F.length<2)return ze.range(T,F[F.length-1],A);for(;B!==F.length&&B!==N;)h1e(T,ze.range(T,F[B]),A)?D=B:N=B,B=Math.floor((N+D)/2);return ze.range(T,F[D],A)}(o,S);yn.isCollapsed(x)||Jt.delete(e,{at:x})}}},o.onChange=function(){var p=o.selection;p!=null&&Kae.set(o,p),o.emit("change"),s()},o.handleTab=function(){o.insertText("    ")},o.getHtml=function(){var p=o.children;return(p===void 0?[]:p).map(function(v){return ISe(v,o)}).join("")},o.getText=function(){var p=o.children;return(p===void 0?[]:p).map(function(v){return yo.string(v)}).join(`
`)},o.getSelectionText=function(){var p=o.selection;return p==null?"":ze.string(e,p)},o.getElemsByType=function(p,v){var y,S;v===void 0&&(v=!1);var x=[],T=ze.nodes(o,{at:[],universal:!0});try{for(var k=rg(T),A=k.next();!A.done;A=k.next()){var F=aa(A.value,1)[0];if(sr.isElement(F)&&(v?F.type.indexOf(p)>=0:F.type===p)){var N=LSe(St.findKey(o,F).id);x.push(lg(lg({},F),{id:N}))}}}catch(D){y={error:D}}finally{try{A&&!A.done&&(S=k.return)&&S.call(k)}finally{if(y)throw y.error}}return x},o.getElemsByTypePrefix=function(p){return o.getElemsByType(p,!0)},o.isEmpty=function(){var p=o.children,v=p===void 0?[]:p;if(v.length>1)return!1;var y=v[0];if(y==null)return!0;if(sr.isElement(y)&&y.type==="paragraph"){var S=y.children,x=S===void 0?[]:S;if(x.length>1)return!1;var T=x[0];if(T==null||Io.isText(T)&&T.text==="")return!0}return!1},o.clear=function(){Jt.removeNodes(o,{at:{anchor:ze.start(o,[]),focus:ze.end(o,[])},mode:"highest"}),o.children.length===0&&Jt.insertNodes(o,[{type:"paragraph",children:[{text:""}]}])},o.getParentNode=function(p){return St.getParentNode(o,p)},o.dangerouslyInsertHtml=function(p,v){if(p===void 0&&(p=""),v===void 0&&(v=!1),p){var y=document.createElement("div");y.innerHTML=p;var S=Array.from(y.childNodes);if(S=S.filter(function(A){var F=A.nodeType,N=A.nodeName;return F===Xw.TEXT_NODE||F===Xw.ELEMENT_NODE&&!ENe.has(N.toLowerCase())}),S.length!==0){var x=o.selection;if(x!=null){var T=null;St.isSelectedEmptyParagraph(o)&&!v&&(T=[x.focus.path[0]]),y.setAttribute("hidden","true"),document.body.appendChild(y);var k=0;S.forEach(function(A){var F=A.nodeType,N=A.nodeName,D=A.textContent,B=D===void 0?"":D;if(F!==Xw.TEXT_NODE)if(N!=="BR"){var O=A,P=!1;if(HSe.includes(N.toLowerCase()))P=!0;else for(var I in xU)if(O.matches(I)){P=!0;break}if(P){var z=vue(Dt(O),o);return o.isInline(z)?(o.insertNode(z),z.type==="link"&&o.insertFragment([{text:""}])):Jt.insertNodes(o,z,{mode:"highest"}),k++,void(St.isSelectedVoidNode(o)&&o.move(1))}var K=window.getComputedStyle(O).display;St.isSelectedEmptyParagraph(o)||K.indexOf("inline")<0&&o.insertBreak(),o.dangerouslyInsertHtml(O.innerHTML,!0)}else o.insertText(`
`);else{if(!B||!B.trim())return;o.insertNode({text:B})}}),k&&T&&St.isEmptyPath(o,T)&&Jt.removeNodes(o,{at:T}),y.remove()}}}},o.setHtml=function(p){p===void 0&&(p="");var v=o.isDisabled(),y=o.isFocused(),S=JSON.stringify(o.selection);o.enable(),o.focus(),o.clear();var x=WSe(o,p);if(Jt.insertFragment(o,x),y||(o.deselect(),o.blur()),v&&(o.deselect(),o.disable()),o.isFocused())try{o.select(JSON.parse(S))}catch{o.select(ze.start(o,[]))}},o},ANe=function(e){var o=e,s=o.insertText;return o.insertFragment,o.setFragmentData=function(l){var c=o.selection;if(c){var d=aa(yn.edges(c),2),p=d[0],v=d[1],y=ze.void(o,{at:p.path}),S=ze.void(o,{at:v.path});if(!yn.isCollapsed(c)||y){var x=St.toDOMRange(o,c),T=x.cloneContents(),k=T.childNodes[0];if(T.childNodes.forEach(function(z){z.textContent&&z.textContent.trim()!==""&&(k=z)}),S){var A=aa(S,1)[0],F=x.cloneRange(),N=St.toDOMNode(o,A);F.setEndAfter(N),T=F.cloneContents()}if(y&&(k=T.querySelector("[data-slate-spacer]")),Array.from(T.querySelectorAll("[data-slate-zero-width]")).forEach(function(z){var K=z.getAttribute("data-slate-zero-width")==="n";z.textContent=K?`
`:""}),ySe(k)){var D=k.ownerDocument.createElement("span");D.style.whiteSpace="pre",D.appendChild(k),T.appendChild(D),k=D}var B=o.getFragment(),O=JSON.stringify(B),P=window.btoa(encodeURIComponent(O));k.setAttribute("data-slate-fragment",P),l.setData("application/x-slate-fragment",P);var I=T.ownerDocument.createElement("div");return I.appendChild(T),I.setAttribute("hidden","true"),T.ownerDocument.body.appendChild(I),l.setData("text/html",I.innerHTML),l.setData("text/plain",SBe(I)),T.ownerDocument.body.removeChild(I),l}}},o.insertData=function(l){var c,d,p=l.getData("application/x-slate-fragment");if(p){var v=decodeURIComponent(window.atob(p)),y=JSON.parse(v);o.insertFragment(y)}else{var S=l.getData("text/plain"),x=l.getData("text/html");if(x)o.dangerouslyInsertHtml(x);else if(S){var T=S.split(/\r\n|\r|\n/),k=!1;try{for(var A=rg(T),F=A.next();!F.done;F=A.next()){var N=F.value;k&&Jt.splitNodes(o,{always:!0}),s(N),k=!0}}catch(D){c={error:D}}finally{try{F&&!F.done&&(d=A.return)&&d.call(A)}finally{if(c)throw c.error}}}}},o},mN=function(e){return e!=null},TNe={object:!0,function:!0,undefined:!0},ONe=function(e){if(!function(o){return!!mN(o)&&hasOwnProperty.call(TNe,typeof o)}(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch{return!1}},_Ne=/^\s*class[\s{/}]/,$Ne=Function.prototype.toString,y1e=function(e){return!!function(o){if(typeof o!="function"||!hasOwnProperty.call(o,"length"))return!1;try{if(typeof o.length!="number"||typeof o.call!="function"||typeof o.apply!="function")return!1}catch{return!1}return!ONe(o)}(e)&&!_Ne.test($Ne.call(e))},bue=function(e){return e!=null},DNe=Object.keys,BNe=function(){try{return Object.keys("primitive"),!0}catch{return!1}}()?Object.keys:function(e){return DNe(bue(e)?Object(e):e)},NNe=function(e){if(!bue(e))throw new TypeError("Cannot use null or undefined");return e},PNe=Math.max,w1e=function(){var e,o=Object.assign;return typeof o=="function"&&(o(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}()?Object.assign:function(e,o){var s,l,c,d=PNe(arguments.length,2);for(e=Object(NNe(e)),c=function(p){try{e[p]=o[p]}catch(v){s||(s=v)}},l=1;l<d;++l)BNe(o=arguments[l]).forEach(c);if(s!==void 0)throw s;return e},FNe=Array.prototype.forEach,RNe=Object.create,MNe=function(e,o){var s;for(s in e)o[s]=e[s]},C1e=function(e){var o=RNe(null);return FNe.call(arguments,function(s){bue(s)&&MNe(Object(s),o)}),o},_oe="razdwatrzy",INe=String.prototype.indexOf,kB=typeof _oe.contains=="function"&&_oe.contains("dwa")===!0&&_oe.contains("foo")===!1?String.prototype.contains:function(e){return INe.call(this,e,arguments[1])>-1},Lz=HP(function(e){var o=e.exports=function(s,l){var c,d,p,v,y;return arguments.length<2||typeof s!="string"?(v=l,l=s,s=null):v=arguments[2],mN(s)?(c=kB.call(s,"c"),d=kB.call(s,"e"),p=kB.call(s,"w")):(c=p=!0,d=!1),y={value:l,configurable:c,enumerable:d,writable:p},v?w1e(C1e(v),y):y};o.gs=function(s,l,c){var d,p,v,y;return typeof s!="string"?(v=c,c=l,l=s,s=null):v=arguments[3],mN(l)?y1e(l)?mN(c)?y1e(c)||(v=c,c=void 0):c=void 0:(v=l,l=c=void 0):l=void 0,mN(s)?(d=kB.call(s,"c"),p=kB.call(s,"e")):(d=!0,p=!1),y={get:l,set:c,configurable:d,enumerable:p},v?w1e(C1e(v),y):y}}),$oe=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e},LNe=HP(function(e,o){var s,l,c,d,p,v,y,S=Function.prototype.apply,x=Function.prototype.call,T=Object.create,k=Object.defineProperty,A=Object.defineProperties,F=Object.prototype.hasOwnProperty,N={configurable:!0,enumerable:!1,writable:!0};s=function(D,B){var O;return $oe(B),F.call(this,"__ee__")?O=this.__ee__:(O=N.value=T(null),k(this,"__ee__",N),N.value=null),O[D]?typeof O[D]=="object"?O[D].push(B):O[D]=[O[D],B]:O[D]=B,this},l=function(D,B){var O,P;return $oe(B),P=this,s.call(this,D,O=function(){c.call(P,D,O),S.call(B,this,arguments)}),O.__eeOnceListener__=B,this},c=function(D,B){var O,P,I,z;if($oe(B),!F.call(this,"__ee__"))return this;if(!(O=this.__ee__)[D])return this;if(typeof(P=O[D])=="object")for(z=0;I=P[z];++z)I!==B&&I.__eeOnceListener__!==B||(P.length===2?O[D]=P[z?0:1]:P.splice(z,1));else P!==B&&P.__eeOnceListener__!==B||delete O[D];return this},d=function(D){var B,O,P,I,z;if(F.call(this,"__ee__")&&(I=this.__ee__[D]))if(typeof I=="object"){for(O=arguments.length,z=new Array(O-1),B=1;B<O;++B)z[B-1]=arguments[B];for(I=I.slice(),B=0;P=I[B];++B)S.call(P,this,z)}else switch(arguments.length){case 1:x.call(I,this);break;case 2:x.call(I,this,arguments[1]);break;case 3:x.call(I,this,arguments[1],arguments[2]);break;default:for(O=arguments.length,z=new Array(O-1),B=1;B<O;++B)z[B-1]=arguments[B];S.call(I,this,z)}},p={on:s,once:l,off:c,emit:d},v={on:Lz(s),once:Lz(l),off:Lz(c),emit:Lz(d)},y=A({},v),e.exports=o=function(D){return D==null?T(y):A(Object(D),v)},o.methods=p});function Hz(e){var o=Wme.get(e);return o==null&&(o=LNe(),Wme.set(e,o)),o}var EU=new WeakMap;function S1e(e,o){var s=EU.get(e);s==null&&(s=new Set,EU.set(e,s)),s.add(o)}function HNe(e){return EU.get(e)||new Set}function jNe(e){EU.set(e,new Set)}function yue(e){var o=St.getTextarea(e).$textAreaContainer,s=o.width(),l=o.height(),c=o.offset();return{top:c.top,left:c.left,width:s,height:l}}function wue(e){var o={top:"0",left:"0"},s=e.selection;if(s==null)return o;var l=yue(e);if(l==null)return o;var c=l.top,d=l.left,p=l.width,v=l.height,y=St.toDOMRange(e,s).getClientRects()[0];if(y==null)return o;y.width;var S=y.height,x={},T=y.top-c,k=y.left-d;if(k>p/2){var A=p-k;x.right=A+5+"px"}else x.left=k+5+"px";if(T>v/2){var F=v-T;x.bottom=F+5+"px"}else{var N=T+S;N<0&&(N=0),x.top=N+5+"px"}return x}function Cue(e,o,s){s===void 0&&(s="modal");var l={top:"0",left:"0"};if(e.selection==null)return l;var c=sr.isElement(o)&&e.isVoid(o),d=sr.isElement(o)&&e.isInline(o),p=iq.get(o);if(p==null)return l;var v=p.getBoundingClientRect(),y=v.top,S=v.left,x=v.height,T=v.width;if(c){var k=function(j){var oe=[];oe.push(j);for(var ke=0;oe.length>0;){var ae=oe.pop();if(ae==null||++ke>1e4)break;var Q=ae.nodeName;if(ae.nodeType===1){var G=Q.toLowerCase();if(wBe.includes(G)||G==="iframe"||G==="video")return ae;var ue=ae.children||[],pe=ue.length;if(pe)for(var be=pe-1;be>=0;be--)oe.push(ue[be])}}return null}(p);if(k!=null){var A=k.getBoundingClientRect();y=A.top,x=A.height}}var F=yue(e);if(F==null)return l;var N=F.top,D=F.left,B=F.width,O=F.height,P={},I=y-N,z=S-D;if(s==="bar")return P.left=z+"px",I>40?P.bottom=O-I+5+"px":P.top=I+x+5+"px",P;if(s==="modal"){var K;return c?d?z>(B-T)/2?P.right=B-z+5+"px":P.left=z+T+5+"px":P.left="20px":P.left=z+"px",c?((K=I)<0&&(K=0),P.top=K+"px"):I>(O-x)/2?P.bottom=O-I+5+"px":((K=I+x)<0&&(K=0),P.top=K+5+"px"),P}throw new Error("type '"+s+"' is invalid")}function rie(e,o){pg(function(){var s=yue(e);if(s!=null){var l,c=s.top,d=s.left,p=s.width,v=s.height,y=o.offset(),S=y.top,x=y.left,T=o.width(),k=o.height(),A=S-c,F=x-d,N=o.attr("style");if(N.indexOf("top")>=0&&(l=A+k-v)>0){var D=o.css("top"),B=parseInt(D.toString())-l;B<0&&(B=0),o.css("top",B+"px")}if(N.indexOf("bottom")>=0&&S<0){var O=o.css("bottom"),P=parseInt(O.toString())-Math.abs(S);o.css("bottom",P+"px")}if(N.indexOf("left")>=0&&(l=F+T-p)>0){var I=o.css("left"),z=parseInt(I.toString())-l;z<0&&(z=0),o.css("left",z+"px")}if(N.indexOf("right")>=0&&x<0){var K=o.css("right"),j=parseInt(K.toString())-Math.abs(x);o.css("right",j+"px")}}})}var zNe=tq("slice"),VNe=$l("species"),Doe=po.Array,UNe=Math.max;Ol({target:"Array",proto:!0,forced:!zNe},{slice:function(e,o){var s,l,c,d=TC(this),p=z4(d),v=O_(e,p),y=O_(o===void 0?p:o,p);if(gU(d)&&(s=d.constructor,(QW(s)&&(s===Doe||gU(s.prototype))||Pi(s)&&(s=s[VNe])===null)&&(s=void 0),s===Doe||s===void 0))return kSe(d,v,y);for(l=new(s===void 0?Doe:s)(UNe(y-v,0)),c=0;v<y;v++,c++)v in d&&JN(l,c,d[v]);return l.length=c,l}});var WNe=zP.f,x1e=hr("".startsWith),qNe=hr("".slice),ZNe=Math.min,qSe=qce("startsWith"),GNe=!qSe&&!!function(){var e=WNe(String.prototype,"startsWith");return e&&!e.writable}();Ol({target:"String",proto:!0,forced:!GNe&&!qSe},{startsWith:function(e){var o=Si(hg(this));Wce(e);var s=q_(ZNe(arguments.length>1?arguments[1]:void 0,o.length)),l=Si(e);return x1e?x1e(o,l,s):qNe(o,s,s+l.length)===l}});var kO=Object.assign,E1e=Object.defineProperty,KNe=hr([].concat),k1e=!kO||Pa(function(){if(Au&&kO({b:1},kO(E1e({},"a",{enumerable:!0,get:function(){E1e(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},o={},s=Symbol(),l="abcdefghijklmnopqrst";return e[s]=7,l.split("").forEach(function(c){o[c]=c}),kO({},e)[s]!=7||a_(kO({},o)).join("")!=l})?function(e,o){for(var s=AC(e),l=arguments.length,c=1,d=tSe.f,p=JCe.f;l>c;)for(var v,y=JW(arguments[c++]),S=d?KNe(a_(y),d(y)):a_(y),x=S.length,T=0;x>T;)v=S[T++],Au&&!ia(p,y,v)||(s[v]=y[v]);return s}:kO;Ol({target:"Object",stat:!0,forced:Object.assign!==k1e},{assign:k1e});var YNe=["props","attrs","style","dataset","on","hook"];function ZSe(e){var o=e.data,s=o===void 0?{}:o,l=e.children,c=l===void 0?[]:l;Object.keys(s).forEach(function(d){var p,v,y=s[d];if(d!=="key"){if(!YNe.includes(d)){if(d.startsWith("data-")){var S=d.slice(5);return S=C$e(S),function(x,T){x.data==null&&(x.data={});var k=x.data;k.dataset==null&&(k.dataset={}),Object.assign(k.dataset,T)}(e,((p={})[S]=y,p)),void delete s[d]}(function(x,T){x.data==null&&(x.data={});var k=x.data;k.props==null&&(k.props={}),Object.assign(k.props,T)})(e,(v={},v[d]=y,v)),delete s[d]}}else e.key=y}),c.length>0&&c.forEach(function(d){typeof d!="string"&&ZSe(d)})}var Sue=[];function XNe(e){Sue.push(e)}var GSe={};function JNe(e){var o=e.type,s=e.renderElem;GSe[o||""]=s}function QNe(e,o,s){var l=s.isInline(e)?"span":"div";return ds(l,null,o)}function ePe(e,o){var s,l=St.findKey(o,e),c=o.isInline(e),d=ze.isVoid(o,e),p=LSe(l.id),v={id:p,key:l.id,"data-slate-node":"element","data-slate-inline":c},y=e.type,S=e.children,x=S===void 0?[]:S,T=function(O){return GSe[O]||QNe}(y);s=d?null:x.map(function(O,P){return sie(O,P,e,o)});var k=T(e,s,o);if(d){v["data-slate-void"]=!0;var A=c?"span":"div",F=aa(yo.texts(e),1),N=aa(F[0],1)[0],D=sie(N,0,e,o),B=ds(A,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},D);k=ds(A,{style:{position:"relative"}},k,B),nP.set(N,0),B_.set(N,e)}return k.data==null&&(k.data={}),Object.assign(k.data,v),d||c||(k=function(O,P){var I=P;return Sue.forEach(function(z){I=z(O,P)}),I}(e,k)),pg(function(){var O=cue(p);O!=null&&(iue.set(l,O),iq.set(e,O),aq.set(O,e))}),k}function A1e(e,o){return o===void 0&&(o=!1),ds("span",{"data-slate-string":!0},o?e+`
`:e)}function Boe(e,o){return e===void 0&&(e=0),o===void 0&&(o=!1),ds("span",{"data-slate-zero-width":o?"n":"z","data-slate-length":e},"\uFEFF",o?ds("br",null):null)}function tPe(e,o,s){if(e.text==null)throw new Error("Current node is not slate Text "+JSON.stringify(e));var l=St.findKey(s,e),c=s.getConfig().decorate;if(c==null)throw new Error("Can not get config.decorate");var d=St.findPath(s,e),p=c([e,d]),v=Io.decorations(e,p),y=v.map(function(T,k){var A=function(F,N,D,B,O){N===void 0&&(N=!1);var P=F.text,I=St.findPath(O,D),z=zt.parent(I);if(ze.isEditor(B))throw new Error("Text node "+JSON.stringify(D)+" parent is Editor");return O.isVoid(B)?Boe(yo.string(B).length):P!==""||B.children[B.children.length-1]!==D||O.isInline(B)||ze.string(O,z)!==""?P===""?Boe():N&&P.slice(-1)===`
`?A1e(P,!0):A1e(P):Boe(0,!0)}(T,k===v.length-1,e,o,s);return A=function(F,N){var D=N;return Sue.forEach(function(B){D=B(F,D)}),D}(T,A),ds("span",{"data-slate-leaf":!0},A)}),S=function(T){return"w-e-text-"+T}(l.id),x=ds("span",{"data-slate-node":"text",id:S,key:l.id},y);return pg(function(){var T=cue(S);T!=null&&(iue.set(l,T),iq.set(e,T),aq.set(T,e))}),x}function sie(e,o,s,l){return nP.set(e,o),B_.set(e,s),sr.isElement(e)?ePe(e,l):tPe(e,s,l)}function nPe(e,o){var s,l=e.$scroll,c=function(N){return"w-e-textarea-"+N}(e.id),d=o.getConfig(),p=d.readOnly,v=d.autoFocus,y=function(N,D){return D===void 0&&(D=!1),T_("div#"+N,{props:{contentEditable:!D}})}(c,p),S=o.children||[];y.children=S.map(function(N,D){var B=sie(N,D,o,o);return ZSe(B),B});var x=zme.get(e);if(x==null&&(x=!0),x){var T=function(N,D){return Dt(`<div
        id="`+N+`"
        data-slate-editor
        data-slate-node="value"
        suppressContentEditableWarning
        role="textarea"
        spellCheck="true"
        autoCorrect="true"
        autoCapitalize="true"
    ></div>`)}(c);l.append(T),e.$textArea=T,s=T[0],(A=u5e([g5e,w5e,A5e,m5e,y5e,p5e]))(s,y),zme.set(e,!1),Vme.set(e,A)}else{var k=Ume.get(e),A=Vme.get(e);if(k==null||A==null)return;s=k.elm,A(k,y)}if(s!=null||(s=cue(c))!=null){if((x?v:o.isFocused())&&s.focus({preventScroll:!0}),x){var F=lue(s);F&&bSe.set(o,F)}aue.set(o,s),iq.set(o,s),aq.set(s,o),Ume.set(e,y)}}function T1e(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function O1e(e,o){return(!o||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Noe(e,o){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var s=getComputedStyle(e,null);return O1e(s.overflowY,o)||O1e(s.overflowX,o)||function(l){var c=function(d){if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}}(l);return!!c&&(c.clientHeight<l.scrollHeight||c.clientWidth<l.scrollWidth)}(e)}return!1}function jz(e,o,s,l,c,d,p,v){return d<e&&p>o||d>e&&p<o?0:d<=e&&v<=s||p>=o&&v>=s?d-e-l:p>o&&v<s||d<e&&v>s?p-o+c:0}function _1e(e,o){var s=window,l=o.scrollMode,c=o.block,d=o.inline,p=o.boundary,v=o.skipOverflowHiddenElements,y=typeof p=="function"?p:function(We){return We!==p};if(!T1e(e))throw new TypeError("Invalid target");for(var S=document.scrollingElement||document.documentElement,x=[],T=e;T1e(T)&&y(T);){if((T=T.parentElement)===S){x.push(T);break}T!=null&&T===document.body&&Noe(T)&&!Noe(document.documentElement)||T!=null&&Noe(T,v)&&x.push(T)}for(var k=s.visualViewport?s.visualViewport.width:innerWidth,A=s.visualViewport?s.visualViewport.height:innerHeight,F=window.scrollX||pageXOffset,N=window.scrollY||pageYOffset,D=e.getBoundingClientRect(),B=D.height,O=D.width,P=D.top,I=D.right,z=D.bottom,K=D.left,j=c==="start"||c==="nearest"?P:c==="end"?z:P+B/2,oe=d==="center"?K+O/2:d==="end"?I:K,ke=[],ae=0;ae<x.length;ae++){var Q=x[ae],G=Q.getBoundingClientRect(),ue=G.height,pe=G.width,be=G.top,qe=G.right,U=G.bottom,Fe=G.left;if(l==="if-needed"&&P>=0&&K>=0&&z<=A&&I<=k&&P>=be&&z<=U&&K>=Fe&&I<=qe)return ke;var De=getComputedStyle(Q),Se=parseInt(De.borderLeftWidth,10),re=parseInt(De.borderTopWidth,10),le=parseInt(De.borderRightWidth,10),fe=parseInt(De.borderBottomWidth,10),ce=0,Be=0,Ce="offsetWidth"in Q?Q.offsetWidth-Q.clientWidth-Se-le:0,me="offsetHeight"in Q?Q.offsetHeight-Q.clientHeight-re-fe:0;if(S===Q)ce=c==="start"?j:c==="end"?j-A:c==="nearest"?jz(N,N+A,A,re,fe,N+j,N+j+B,B):j-A/2,Be=d==="start"?oe:d==="center"?oe-k/2:d==="end"?oe-k:jz(F,F+k,k,Se,le,F+oe,F+oe+O,O),ce=Math.max(0,ce+N),Be=Math.max(0,Be+F);else{ce=c==="start"?j-be-re:c==="end"?j-U+fe+me:c==="nearest"?jz(be,U,ue,re,fe+me,j,j+B,B):j-(be+ue/2)+me/2,Be=d==="start"?oe-Fe-Se:d==="center"?oe-(Fe+pe/2)+Ce/2:d==="end"?oe-qe+le+Ce:jz(Fe,qe,pe,Se,le+Ce,oe,oe+O,O);var q=Q.scrollLeft,Ze=Q.scrollTop;j+=Ze-(ce=Math.max(0,Math.min(Ze+ce,Q.scrollHeight-ue+me))),oe+=q-(Be=Math.max(0,Math.min(q+Be,Q.scrollWidth-pe+Ce)))}ke.push({el:Q,top:ce,left:Be})}return ke}function $1e(e){return e===Object(e)&&Object.keys(e).length!==0}function oPe(e,o){var s=!e.ownerDocument.documentElement.contains(e);if($1e(o)&&typeof o.behavior=="function")return o.behavior(s?[]:_1e(e,o));if(!s){var l=function(c){return c===!1?{block:"end",inline:"nearest"}:$1e(c)?c:{block:"start",inline:"nearest"}}(o);return function(c,d){d===void 0&&(d="auto");var p="scrollBehavior"in document.body.style;c.forEach(function(v){var y=v.el,S=v.top,x=v.left;y.scroll&&p?y.scroll({top:S,left:x,behavior:d}):(y.scrollTop=S,y.scrollLeft=x)})}(_1e(e,l),l.behavior)}}function tg(e,o){return T4(o)&&St.hasDOMNode(e,o,{editable:!0})}function D1e(e,o){if(e.getConfig().readOnly)return!1;var s=YO(e,o)&&St.toSlateNode(e,o);return ze.isVoid(e,s)}function YO(e,o){return T4(o)&&St.hasDOMNode(e,o)}function KSe(e,o,s){s===void 0&&(s=!1);var l=o.selection,c=o.getConfig(),d=St.findDocumentOrShadowRoot(o).getSelection();if(d&&(!e.isComposing||s)&&o.isFocused()){var p=d.type!=="None";if(l||p){var v=aue.get(o),y=!1;if(v.contains(d.anchorNode)&&v.contains(d.focusNode)&&(y=!0),p&&y&&l){var S=St.toSlateRange(o,d,{exactMatch:!0,suppressThrow:!0});if(S&&yn.equals(S,l)){var x=!0;if(yn.isCollapsed(l)){var T=d.anchorNode,k=d.anchorOffset;if(T===v){var A=v.childNodes,F=void 0;(F=A[k])&&F.matches("table")&&(x=!1),(F=A[k-1])&&F.matches("table")&&(x=!1)}}if(x)return}}if(!l||St.hasRange(o,l)){e.isUpdatingSelection=!0;var N=l&&St.toDOMRange(o,l);if(N){yn.isBackward(l)?d.setBaseAndExtent(N.endContainer,N.endOffset,N.startContainer,N.startOffset):d.setBaseAndExtent(N.startContainer,N.startOffset,N.endContainer,N.endOffset);var D=N.startContainer.parentElement;if(!D.closest("[data-slate-spacer]")){D.getBoundingClientRect=N.getBoundingClientRect.bind(N);var B=document.body;oPe(D,{scrollMode:"if-needed",boundary:c.scroll?v.parentElement:B,block:"end",behavior:"smooth"}),delete D.getBoundingClientRect}}else d.removeAllRanges();setTimeout(function(){N&&AN&&v.focus(),e.isUpdatingSelection=!1})}else o.selection=St.toSlateRange(o,d,{exactMatch:!1,suppressThrow:!1})}}}var Poe=new WeakMap,B1e=new WeakMap,rPe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",tab:"tab",selectAll:"mod+a"},sPe={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},aPe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},cl=function(e){var o=rPe[e],s=sPe[e],l=aPe[e],c=o&&Pne(o),d=s&&Pne(s),p=l&&Pne(l);return function(v){return!(!c||!c(v))||!!(Yae&&d&&d(v))||!(Yae||!p||!p(v))}},kl={isBold:cl("bold"),isCompose:cl("compose"),isMoveBackward:cl("moveBackward"),isMoveForward:cl("moveForward"),isDeleteBackward:cl("deleteBackward"),isDeleteForward:cl("deleteForward"),isDeleteLineBackward:cl("deleteLineBackward"),isDeleteLineForward:cl("deleteLineForward"),isDeleteWordBackward:cl("deleteWordBackward"),isDeleteWordForward:cl("deleteWordForward"),isExtendBackward:cl("extendBackward"),isExtendForward:cl("extendForward"),isExtendLineBackward:cl("extendLineBackward"),isExtendLineForward:cl("extendLineForward"),isItalic:cl("italic"),isMoveLineBackward:cl("moveLineBackward"),isMoveLineForward:cl("moveLineForward"),isMoveWordBackward:cl("moveWordBackward"),isMoveWordForward:cl("moveWordForward"),isRedo:cl("redo"),isSplitBlock:cl("splitBlock"),isTransposeCharacter:cl("transposeCharacter"),isUndo:cl("undo"),isTab:cl("tab"),isSelectAll:cl("selectAll")};function Nc(e){e.preventDefault()}var iPe={beforeinput:function(e,o,s){var l=e,c=s.getConfig().readOnly;if(CB&&!c&&tg(s,l.target)){var d=s.selection,p=l.inputType,v=l.dataTransfer||l.data||void 0;if(p!=="insertCompositionText"&&p!=="deleteCompositionText"){if(l.preventDefault(),!p.startsWith("delete")||p.startsWith("deleteBy")){var y=aa(l.getTargetRanges(),1)[0];if(y){var S=St.toSlateRange(s,y,{exactMatch:!1,suppressThrow:!1});d&&yn.equals(d,S)||Jt.select(s,S)}}if(d&&yn.isExpanded(d)&&p.startsWith("delete")){var x=p.endsWith("Backward")?"backward":"forward";ze.deleteFragment(s,{direction:x})}else switch(p){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":ze.deleteFragment(s);break;case"deleteContent":case"deleteContentForward":ze.deleteForward(s);break;case"deleteContentBackward":ze.deleteBackward(s);break;case"deleteEntireSoftLine":ze.deleteBackward(s,{unit:"line"}),ze.deleteForward(s,{unit:"line"});break;case"deleteHardLineBackward":ze.deleteBackward(s,{unit:"block"});break;case"deleteSoftLineBackward":ze.deleteBackward(s,{unit:"line"});break;case"deleteHardLineForward":ze.deleteForward(s,{unit:"block"});break;case"deleteSoftLineForward":ze.deleteForward(s,{unit:"line"});break;case"deleteWordBackward":ze.deleteBackward(s,{unit:"word"});break;case"deleteWordForward":ze.deleteForward(s,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":ze.insertBreak(s);break;case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if(p==="insertFromPaste"&&!poe.get(s))break;v instanceof DataTransfer?s.insertData(v):typeof v=="string"&&ze.insertText(s,v)}}}},blur:function(e,o,s){var l=e,c=o.isUpdatingSelection,d=o.latestElement;if(!s.getConfig().readOnly&&!c&&tg(s,l.target)){var p=St.findDocumentOrShadowRoot(s);if(d!==p.activeElement){var v=l.relatedTarget;if(!(v===St.toDOMNode(s,s)||Bm(v)&&v.hasAttribute("data-slate-spacer"))){if(v!=null&&T4(v)&&St.hasDOMNode(s,v)){var y=St.toSlateNode(s,v);if(sr.isElement(y)&&!s.isVoid(y))return}if(wB){var S=p.getSelection();S==null||S.removeAllRanges()}s4.delete(s)}}}},focus:function(e,o,s){var l=St.toDOMNode(s,s),c=St.findDocumentOrShadowRoot(s);o.latestElement=c.activeElement,AN&&e.target!==l?l.focus():s4.set(s,!0)},click:function(e,o,s){if(!s.getConfig().readOnly&&YO(s,e.target)&&T4(e.target)){var l=St.toSlateNode(s,e.target),c=St.findPath(s,l);if(ze.hasPath(s,c)&&yo.get(s,c)===l){var d=ze.start(s,c),p=ze.end(s,c),v=ze.void(s,{at:d}),y=ze.void(s,{at:p});if(v&&y&&zt.equals(v[1],y[1])){var S=ze.range(s,d);Jt.select(s,S)}}}},compositionstart:function(e,o,s){if(tg(s,e.target)){var l=s.selection;if(l&&yn.isExpanded(l)&&(ze.deleteFragment(s),Promise.resolve().then(function(){KSe(o,s,!0)})),l&&yn.isCollapsed(l)){var c=St.toDOMRange(s,l).startContainer,d=c.textContent||"";Poe.set(s,d),B1e.set(s,c)}o.isComposing=!0,function(p,v){var y;v.getConfig().placeholder&&v.isEmpty()&&p.showPlaceholder&&((y=p.$placeholder)===null||y===void 0||y.hide(),p.showPlaceholder=!1)}(o,s)}},compositionend:function(e,o,s){var l=e;if(tg(s,l.target)){o.isComposing=!1;var c=s.selection;if(c!=null){(Xae||AN)&&St.cleanExposedTexNodeInSelectionBlock(s);for(var d=yn.isBackward(c)?c.focus:c.anchor,p=aa(ze.node(s,[d.path[0]]),1)[0],v=0;v<d.path.length;v++){var y=aa(ze.node(s,d.path.slice(0,v+1)),1)[0];if(sr.isElement(y)&&((wB||AN)&&y.type==="link"||y.type==="code")){St.setNewKey(p);break}}var S=l.data;if(S){if(s.getConfig().maxLength){var x=St.getLeftLengthOfMaxLength(s);x<S.length?(St.toDOMRange(s,c).startContainer.textContent=Poe.get(s)||"",x>0&&ze.insertText(s,S.slice(0,x)),o.changeViewState()):ze.insertText(s,S)}else ze.insertText(s,S);wB||setTimeout(function(){var T=s.selection;if(T!=null){var k=B1e.get(s);k!=null&&St.toDOMRange(s,T).startContainer!==k&&(k.textContent=Poe.get(s)||"")}})}}}},compositionupdate:function(e,o,s){tg(s,e.target)&&(o.isComposing=!0)},keydown:function(e,o,s){var l=e,c=s.selection;if(!s.getConfig().readOnly&&!o.isComposing&&tg(s,l.target)){if(function(p,v){var y=sq.get(p),S=y&&y.getMenus(),x=wU.get(p),T=x&&x.getMenus(),k=lg(lg({},S),T);for(var A in k){var F=k[A],N=F.hotkey;if(N&&T$e(N,v)&&!F.isDisabled(p)){var D=F.getValue(p);F.exec(p,D)}}}(s,l),kl.isTab(l))return Nc(l),void s.handleTab();if(kl.isRedo(l))return Nc(l),void(typeof s.redo=="function"&&s.redo());if(kl.isUndo(l))return Nc(l),void(typeof s.undo=="function"&&s.undo());if(kl.isMoveLineBackward(l))return Nc(l),void Jt.move(s,{unit:"line",reverse:!0});if(kl.isMoveLineForward(l))return Nc(l),void Jt.move(s,{unit:"line"});if(kl.isExtendLineBackward(l))return Nc(l),void Jt.move(s,{unit:"line",edge:"focus",reverse:!0});if(kl.isExtendLineForward(l))return Nc(l),void Jt.move(s,{unit:"line",edge:"focus"});if(kl.isMoveBackward(l))return Nc(l),void(c&&yn.isCollapsed(c)?Jt.move(s,{reverse:!0}):Jt.collapse(s,{edge:"start"}));if(kl.isMoveForward(l))return Nc(l),void(c&&yn.isCollapsed(c)?Jt.move(s):Jt.collapse(s,{edge:"end"}));if(kl.isMoveWordBackward(l))return Nc(l),c&&yn.isExpanded(c)&&Jt.collapse(s,{edge:"focus"}),void Jt.move(s,{unit:"word",reverse:!0});if(kl.isMoveWordForward(l))return Nc(l),c&&yn.isExpanded(c)&&Jt.collapse(s,{edge:"focus"}),void Jt.move(s,{unit:"word"});if(kl.isSelectAll(l))return Nc(l),void s.selectAll();if(CB){if((Xae||wB)&&c&&(kl.isDeleteBackward(l)||kl.isDeleteForward(l))&&yn.isCollapsed(c)){var d=yo.parent(s,c.anchor.path);if(sr.isElement(d)&&ze.isVoid(s,d)&&ze.isInline(s,d))return l.preventDefault(),void Jt.delete(s,{unit:"block"})}}else{if(kl.isBold(l)||kl.isItalic(l)||kl.isTransposeCharacter(l))return void Nc(l);if(kl.isSplitBlock(l))return Nc(l),void ze.insertBreak(s);if(kl.isDeleteBackward(l))return Nc(l),void(c&&yn.isExpanded(c)?ze.deleteFragment(s,{direction:"backward"}):ze.deleteBackward(s));if(kl.isDeleteForward(l))return Nc(l),void(c&&yn.isExpanded(c)?ze.deleteFragment(s,{direction:"forward"}):ze.deleteForward(s));if(kl.isDeleteLineBackward(l))return Nc(l),void(c&&yn.isExpanded(c)?ze.deleteFragment(s,{direction:"backward"}):ze.deleteBackward(s,{unit:"line"}));if(kl.isDeleteLineForward(l))return Nc(l),void(c&&yn.isExpanded(c)?ze.deleteFragment(s,{direction:"forward"}):ze.deleteForward(s,{unit:"line"}));if(kl.isDeleteWordBackward(l))return Nc(l),void(c&&yn.isExpanded(c)?ze.deleteFragment(s,{direction:"backward"}):ze.deleteBackward(s,{unit:"word"}));if(kl.isDeleteWordForward(l))return Nc(l),void(c&&yn.isExpanded(c)?ze.deleteFragment(s,{direction:"forward"}):ze.deleteForward(s,{unit:"word"}))}}},keypress:function(e,o,s){if(!CB&&!s.getConfig().readOnly&&tg(s,e.target)){e.preventDefault();var l=e.key;ze.insertText(s,l)}},copy:function(e,o,s){var l=e;if(tg(s,l.target)){l.preventDefault();var c=l.clipboardData;c!=null&&s.setFragmentData(c)}},cut:function(e,o,s){var l=e,c=s.selection;if(!s.getConfig().readOnly&&tg(s,l.target)){l.preventDefault();var d=l.clipboardData;if(d!=null&&(s.setFragmentData(d),c))if(yn.isExpanded(c))ze.deleteFragment(s);else{var p=yo.parent(s,c.anchor.path);ze.isVoid(s,p)&&Jt.delete(s)}}},paste:function(e,o,s){poe.set(s,!0);var l=e;if(!s.getConfig().readOnly&&tg(s,l.target)){var c=s.getConfig().customPaste;if(c&&c(s,l)===!1)return void poe.set(s,!1);if(!CB||function(p){return p.clipboardData&&p.clipboardData.getData("text/plain")!==""&&p.clipboardData.types.length===1}(l)){l.preventDefault();var d=l.clipboardData;d!=null&&s.insertData(d)}}},dragover:function(e,o,s){if(YO(s,e.target)){var l=St.toSlateNode(s,e.target);ze.isVoid(s,l)&&e.preventDefault()}},dragstart:function(e,o,s){var l=e;if(YO(s,l.target)&&!s.getConfig().readOnly){var c=St.toSlateNode(s,l.target),d=St.findPath(s,c);if(ze.isVoid(s,c)||ze.void(s,{at:d,voids:!0})){var p=ze.range(s,d);Jt.select(s,p)}var v=l.dataTransfer;v!=null&&(o.isDraggingInternally=!0,s.setFragmentData(v))}},dragend:function(e,o,s){var l=e;s.getConfig().readOnly||o.isDraggingInternally&&YO(s,l.target)&&(o.isDraggingInternally=!1)},drop:function(e,o,s){var l=e,c=l.dataTransfer;if(!s.getConfig().readOnly&&YO(s,l.target)&&c!=null&&!(CB&&wB&&c.files.length>0)){l.preventDefault();var d=s.selection,p=St.findEventRange(s,l);Jt.select(s,p),o.isDraggingInternally&&(d&&Jt.delete(s,{at:d}),o.isDraggingInternally=!1),s.insertData(c),s.isFocused()||s.focus()}}},lPe=1,cPe=function(){function e(o){var s=this;this.id=lPe++,this.$textArea=null,this.$progressBar=Dt('<div class="w-e-progress-bar"></div>'),this.$maxLengthInfo=Dt('<div class="w-e-max-length-info"></div>'),this.isComposing=!1,this.isUpdatingSelection=!1,this.isDraggingInternally=!1,this.latestElement=null,this.showPlaceholder=!1,this.$placeholder=null,this.latestEditorSelection=null,this.onDOMSelectionChange=x4(function(){var p=s.editorInstance;(function(v,y){var S=v.isComposing,x=v.isUpdatingSelection,T=v.isDraggingInternally;if(!(y.getConfig().readOnly||S||x||T)){var k=St.findDocumentOrShadowRoot(y),A=k.activeElement,F=St.toDOMNode(y,y),N=k.getSelection();if(A===F?(v.latestElement=A,s4.set(y,!0)):s4.delete(y),!N)return Jt.deselect(y);var D=N.anchorNode,B=N.focusNode,O=tg(y,D)||D1e(y,D),P=tg(y,B)||D1e(y,B);if(O&&P){var I=St.toSlateRange(y,N,{exactMatch:!1,suppressThrow:!1});Jt.select(y,I)}else Jt.deselect(y)}})(s,p)},100);var l=Dt(o);if(l.length===0)throw new Error("Cannot find textarea DOM by selector '"+o+"'");this.$box=l;var c=Dt('<div class="w-e-text-container"></div>');c.append(this.$progressBar),c.append(this.$maxLengthInfo),l.append(c);var d=Dt('<div class="w-e-scroll"></div>');c.append(d),this.$scroll=d,this.$textAreaContainer=c,pg(function(){var p=s.editorInstance,v=St.getWindow(p);v.document.addEventListener("selectionchange",s.onDOMSelectionChange),p.on("destroyed",function(){v.document.removeEventListener("selectionchange",s.onDOMSelectionChange)}),c.on("click",function(){return p.hidePanelOrModal()}),p.on("change",s.changeViewState.bind(s));var y=p.getConfig().onChange;y&&p.on("change",function(){return y(p)}),s.onFocusAndOnBlur(),p.on("change",s.changeMaxLengthInfo.bind(s)),s.bindEvent()})}return Object.defineProperty(e.prototype,"editorInstance",{get:function(){var o=qae.get(this);if(o==null)throw new Error("Can not get editor instance");return o},enumerable:!1,configurable:!0}),e.prototype.bindEvent=function(){var o=this,s=this.$textArea,l=this.$scroll,c=this.editorInstance;s!=null&&(Ace(iPe,function(d,p){s.on(p,function(v){d(v,o,c)})}),c.getConfig().scroll&&(l.css("overflow-y","auto"),l.on("scroll",x4(function(){c.emit("scroll")},100))))},e.prototype.onFocusAndOnBlur=function(){var o=this,s=this.editorInstance,l=s.getConfig(),c=l.onBlur,d=l.onFocus;this.latestEditorSelection=s.selection,s.on("change",function(){o.latestEditorSelection==null&&s.selection!=null?setTimeout(function(){return d&&d(s)}):o.latestEditorSelection!=null&&s.selection==null&&setTimeout(function(){return c&&c(s)}),o.latestEditorSelection=s.selection})},e.prototype.changeMaxLengthInfo=function(){var o=this.editorInstance,s=o.getConfig().maxLength;if(s){var l=s-St.getLeftLengthOfMaxLength(o);this.$maxLengthInfo[0].innerHTML=l+"/"+s}},e.prototype.changeProgress=function(o){var s=this.$progressBar;s.css("width",o+"%"),o>=100&&setTimeout(function(){s.hide(),s.css("width","0"),s.show()},1e3)},e.prototype.changeViewState=function(){var o=this,s=this.editorInstance;nPe(this,s),function(l,c){var d,p=c.getConfig().placeholder;if(p){var v=c.isEmpty();if(v&&!l.showPlaceholder&&!l.isComposing){if(l.$placeholder==null){var y=Dt('<div class="w-e-text-placeholder">'+p+"</div>");l.$textAreaContainer.append(y),l.$placeholder=y}return l.$placeholder.show(),void(l.showPlaceholder=!0)}!v&&l.showPlaceholder&&((d=l.$placeholder)===null||d===void 0||d.hide(),l.showPlaceholder=!1)}}(this,s),pg(function(){KSe(o,s)})},e.prototype.destroy=function(){this.$textAreaContainer.remove()},e}();nue("match",function(e,o,s){return[function(l){var c=hg(this),d=l==null?void 0:k4(l,e);return d?ia(d,l,c):new RegExp(l)[e](Si(c))},function(l){var c=bc(this),d=Si(l),p=s(o,c,d);if(p.done)return p.value;if(!c.global)return eP(c,d);var v=c.unicode;c.lastIndex=0;for(var y,S=[],x=0;(y=eP(c,d))!==null;){var T=Si(y[0]);S[x]=T,T===""&&(c.lastIndex=oue(d,q_(c.lastIndex),v)),x++}return x===0?null:S}]});function xue(e){e.removeAttr("width"),e.removeAttr("height"),e.removeAttr("fill"),e.removeAttr("class"),e.removeAttr("t"),e.removeAttr("p-id");var o=e.children();o.length&&xue(o)}function Eue(){return Dt('<svg viewBox="0 0 1024 1024"><path d="M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z"></path></svg>')}function YSe(){return Dt('<div class="w-e-bar-divider"></div>')}function XSe(e,o,s,l,c){if(c===void 0&&(c=!1),o){if(l){var d=Yae?"cmd":"ctrl";l=l.replace("mod",d)}if(c)l&&(e.attr("data-tooltip",l),e.addClass("w-e-menu-tooltip-v5"),e.addClass("tooltip-right"));else{var p=l?s+`
`+l:s;e.attr("data-tooltip",p),e.addClass("w-e-menu-tooltip-v5")}}}var kue=function(){function e(o,s,l){var c=this;l===void 0&&(l=!1),this.$elem=Dt('<div class="w-e-bar-item"></div>'),this.$button=Dt('<button type="button"></button>'),this.disabled=!1,this.menu=s;var d=s.tag,p=s.width;if(d!=="button")throw new Error("Invalid tag '"+d+"', expected 'button'");var v=s.title,y=s.hotkey,S=y===void 0?"":y,x=s.iconSvg,T=x===void 0?"":x,k=this.$button;if(T){var A=Dt(T);xue(A),k.append(A)}else k.text(v);XSe(k,T,v,S,l),l&&T&&k.append(Dt('<span class="title">'+v+"</span>")),p&&k.css("width",p+"px"),k.attr("data-menu-key",o),this.$elem.append(k),pg(function(){return c.init()})}return e.prototype.init=function(){var o=this;this.setActive(),this.setDisabled(),this.$button.on("click",function(s){s.preventDefault(),Jh(o).hidePanelOrModal(),o.disabled||(o.exec(),o.onButtonClick())})},e.prototype.exec=function(){var o=Jh(this),s=this.menu,l=s.getValue(o);s.exec(o,l)},e.prototype.setActive=function(){var o=Jh(this),s=this.$button,l="active";this.menu.isActive(o)?s.addClass(l):s.removeClass(l)},e.prototype.setDisabled=function(){var o=Jh(this),s=this.$button,l=this.menu.isDisabled(o);(o.selection==null||o.isDisabled())&&(l=!0),this.menu.alwaysEnable&&(l=!1);var c="disabled";l?s.addClass(c):s.removeClass(c),this.disabled=l},e.prototype.changeMenuState=function(){this.setActive(),this.setDisabled()},e}(),uPe=function(e){function o(s,l,c){return c===void 0&&(c=!1),e.call(this,s,l,c)||this}return G_(o,e),o.prototype.onButtonClick=function(){},o}(kue),Aue=function(){function e(o){this.isShow=!1,this.showTime=0,this.record(o)}return e.prototype.record=function(o){var s=Gae.get(o);s==null&&(s=new Set,Gae.set(o,s)),s.add(this),_V.set(this,o)},e.prototype.renderContent=function(o){var s=this.$elem;s.empty(),s.append(o);var l=this.genSelfElem();l&&s.append(l)},e.prototype.appendTo=function(o){var s=this.$elem;o.append(s)},e.prototype.show=function(){if(!this.isShow){this.showTime=Date.now(),this.$elem.show(),this.isShow=!0;var o=_V.get(this);o&&o.emit("modalOrPanelShow",this)}},e.prototype.hide=function(){if(this.isShow&&!(Date.now()-this.showTime<200)){this.$elem.hide(),this.isShow=!1;var o=_V.get(this);o&&o.emit("modalOrPanelHide")}},e}(),fPe=function(e){function o(s){var l=e.call(this,s)||this;return l.type="dropPanel",l.$elem=Dt('<div class="w-e-drop-panel"></div>'),l}return G_(o,e),o.prototype.genSelfElem=function(){return null},o}(Aue),dPe=function(e){function o(s,l,c){c===void 0&&(c=!1);var d=e.call(this,s,l,c)||this;if(d.dropPanel=null,d.menu=l,l.showDropPanel){var p=Eue();d.$button.append(p)}return d}return G_(o,e),o.prototype.onButtonClick=function(){this.menu.showDropPanel&&this.handleDropPanel()},o.prototype.handleDropPanel=function(){var s=this.menu;if(s.getPanelContentElem!=null){var l=Jh(this);if(this.dropPanel==null){var c=new fPe(l),d=s.getPanelContentElem(l);c.renderContent(d),c.appendTo(this.$elem),c.show(),this.dropPanel=c}else{var p=this.dropPanel;p.isShow?p.hide():(d=s.getPanelContentElem(l),p.renderContent(d),p.show())}var v=this.dropPanel;if(v.isShow){var y=this.$elem,S=y.offset().left,x=y.parents(".w-e-bar");S-x.offset().left>=x.width()/2?v.$elem.css({left:"none",right:"0"}):v.$elem.css({left:"0",right:"none"})}}},o}(kue),hPe=function(e){function o(s,l){l===void 0&&(l=0);var c=e.call(this,s)||this;c.type="modal",c.$elem=Dt('<div class="w-e-modal"></div>'),c.width=0,l&&(c.width=l);var d=c.$elem;return d.on("click",function(p){return p.stopPropagation()}),d.on("keyup",function(p){p.code==="Escape"&&(c.hide(),s.restoreSelection())}),c}return G_(o,e),o.prototype.genSelfElem=function(){var s=this,l=Dt('<span class="btn-close"><svg viewBox="0 0 1024 1024"><path d="M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z"></path></svg></span>'),c=_V.get(this);return l.on("click",function(){s.hide(),c==null||c.restoreSelection()}),l},o.prototype.setStyle=function(s){var l=this.width,c=this.$elem;c.attr("style",""),l&&c.css("width",l+"px"),c.css(s)},o}(Aue);function Qh(e,o,s){var l=Dt('<label class="babel-container"></label>');l.append("<span>"+e+"</span>");var c=Dt('<input type="text" id="'+o+'" placeholder="'+(s||"")+'">');return l.append(c),[l[0],c[0]]}function K_(e,o){var s=Dt('<div class="button-container"></div>'),l=Dt('<button type="button" id="'+e+'">'+o+"</button>");return s.append(l),[s[0],l[0]]}var pPe=function(e){function o(s,l,c){c===void 0&&(c=!1);var d=e.call(this,s,l,c)||this;return d.$body=Dt("body"),d.modal=null,d.menu=l,d}return G_(o,e),o.prototype.onButtonClick=function(){this.menu.showModal&&this.handleModal()},o.prototype.getPosition=function(){var s=Jh(this),l=this.menu.getModalPositionNode(s);return sr.isElement(l)?Cue(s,l,"modal"):wue(s)},o.prototype.handleModal=function(){var s=Jh(this),l=this.menu;if(this.modal==null){var c=new hPe(s,l.modalWidth);this.renderAndShowModal(c,!0),this.modal=c}else(c=this.modal).isShow?c.hide():this.renderAndShowModal(c,!1)},o.prototype.renderAndShowModal=function(s,l){l===void 0&&(l=!1);var c=Jh(this),d=this.menu;if(d.getModalContentElem!=null){var p=St.getTextarea(c),v=St.getToolbar(c),y=((v==null?void 0:v.getConfig())||{}).modalAppendToBody,S=d.getModalContentElem(c);if(s.renderContent(S),y)s.setStyle({left:"0",right:"0"});else{var x=this.getPosition();s.setStyle(x)}l&&(y?s.appendTo(this.$body):s.appendTo(p.$textAreaContainer)),s.show(),y||rie(c,s.$elem),setTimeout(function(){c.blur()})}},o}(kue),gPe=function(e){function o(s,l){var c=e.call(this,s)||this;return c.type="selectList",c.$elem=Dt('<div class="w-e-select-list"></div>'),l&&c.$elem.css("width",l+"px"),c.$elem.on("click",function(d){d.stopPropagation()}),c}return G_(o,e),o.prototype.renderList=function(s){var l=this.$elem;l.empty();var c=Dt("<ul></ul>");s.forEach(function(d){var p=d.value,v=d.text,y=d.selected,S=d.styleForRenderMenuList,x=Dt('<li data-value="'+p+'"></li>');if(S&&x.css(S),y){var T=Dt('<svg viewBox="0 0 1446 1024"><path d="M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z"></path></svg>');x.append(T),x.addClass("selected")}x.append(Dt('<span data-value="'+p+'">'+v+"</span>")),x.attr("title",v),c.append(x)}),l.append(c)},o.prototype.genSelfElem=function(){return null},o}(Aue),mPe=function(){function e(o,s,l){var c=this;l===void 0&&(l=!1),this.$elem=Dt('<div class="w-e-bar-item"></div>'),this.$button=Dt('<button type="button" class="select-button"></button>'),this.disabled=!1,this.selectList=null;var d=s.tag,p=s.title,v=s.width,y=s.iconSvg,S=y===void 0?"":y,x=s.hotkey,T=x===void 0?"":x;if(d!=="select")throw new Error("Invalid tag '"+d+"', expected 'select'");var k=this.$button;v&&k.css("width",v+"px"),k.attr("data-menu-key",o),XSe(k,S,p,T,l),this.$elem.append(k),this.menu=s,pg(function(){return c.init()})}return e.prototype.init=function(){var o=this;this.setSelectedValue(),this.$button.on("click",function(s){s.preventDefault(),Jh(o).hidePanelOrModal(),o.trigger()})},e.prototype.trigger=function(){var o=this,s=Jh(this);if(!s.isDisabled()&&!this.disabled){var l=this.menu;if(this.selectList==null){this.selectList=new gPe(s,l.selectPanelWidth);var c=this.selectList,d=l.getOptions(s);c.renderList(d),c.appendTo(this.$elem),c.show(),c.$elem.on("click","li",function(p){var v=p.target;if(v!=null){p.preventDefault();var y=Dt(v).attr("data-value");o.onChange(y)}})}else(c=this.selectList).isShow?c.hide():(d=l.getOptions(s),c.renderList(d),c.show())}},e.prototype.onChange=function(o){var s=Jh(this),l=this.menu;l.exec&&l.exec(s,o)},e.prototype.setSelectedValue=function(){var o=Jh(this),s=this.menu,l=s.getValue(o),c=function(v,y){for(var S=v.length,x="",T=0;T<S;T++){var k=v[T];if(k.value===y){x=k.text;break}}return x}(s.getOptions(o),l.toString()),d=this.$button,p=Eue();d.empty(),d.text(c),d.append(p)},e.prototype.setDisabled=function(){var o=Jh(this),s=this.menu.isDisabled(o),l=this.$button;(o.selection==null||o.isDisabled())&&(s=!0);var c="disabled";s?l.addClass(c):l.removeClass(c),this.disabled=s},e.prototype.changeMenuState=function(){this.setSelectedValue(),this.setDisabled()},e}(),N1e=function(){function e(o){this.$elem=Dt('<div class="w-e-bar-item w-e-bar-item-group"></div>'),this.$container=Dt('<div class="w-e-bar-item-menus-container"></div>'),this.$button=Dt('<button type="button"></button>');var s=o.key,l=o.iconSvg,c=o.title,d=this.$elem,p=this.$button;if(l){var v=Dt(l);xue(v),p.append(v)}else p.text(c);p.attr("data-menu-key",s);var y=Eue();p.append(y),d.append(p);var S=this.$container;d.append(S);var x=this.createObserver();this.observe(x)}return e.prototype.appendBarItem=function(o){var s=o.$elem;this.$container.append(s)},e.prototype.observe=function(o){var s=this.$container;o.observe(s[0],{childList:!0,subtree:!0,attributes:!0})},e.prototype.createObserver=function(){var o=this,s=this.$container,l=this.$button,c=new MutationObserver(function(){var d=s.find("button"),p=d.length;if(p!==0){var v=0;d.each(function(y){Dt(y).hasClass("disabled")&&v++}),c.disconnect(),v===p?l.addClass("disabled"):l.removeClass("disabled"),o.observe(c)}});return c},e}(),P1e=new WeakMap;function Jh(e){var o=sue.get(e);if(o==null)throw new Error("Can not get editor instance");return o}function JSe(e,o,s){s===void 0&&(s=!1);var l=P1e.get(o);if(l)return l;var c=o.tag;if(c==="button"){var d=o.showDropPanel,p=o.showModal;l=d?new dPe(e,o,s):p?new pPe(e,o,s):new uPe(e,o,s)}if(c==="select"&&(l=new mPe(e,o,s)),l==null)throw new Error("Invalid tag in menu "+JSON.stringify(o));return P1e.set(o,l),l}function vPe(e,o){var s=e.selection;return s!=null&&!yn.isCollapsed(s)&&!St.getSelectedElems(e).some(function(l){if(e.isVoid(l))return!0;var c=l.type;return!!["pre","code","table"].includes(c)||void 0})&&!!Io.isText(o)}var bPe=function(){function e(){var o=this;this.$elem=Dt('<div class="w-e-bar w-e-bar-hidden w-e-hover-bar"></div>'),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null,this.isShow=!1,this.changeHoverbarState=ECe(function(){var s=o.isShow,l=o.getSelectedNodeAndMenuKeys()||{},c=l.node,d=c===void 0?null:c,p=l.menuKeys,v=p===void 0?[]:p;d!=null&&o.changeItemsState(),!(d&&sr.isElement(d)&&s&&o.isSamePath(d,o.prevSelectedNode))&&(o.hideAndClean(),d!=null&&(o.registerItems(v),o.setPosition(d),o.show()),o.prevSelectedNode=d)},200),pg(function(){var s=o.getEditorInstance(),l=o.$elem;l.on("mousedown",function(d){return d.preventDefault()}),St.getTextarea(s).$textAreaContainer.append(l),s.on("change",o.changeHoverbarState);var c=o.hideAndClean.bind(o);s.on("scroll",c),s.on("fullScreen",c),s.on("unFullScreen",c)})}return e.prototype.getMenus=function(){return this.menus},e.prototype.hideAndClean=function(){var o=this.$elem;o.removeClass("w-e-bar-show").addClass("w-e-bar-hidden"),this.hoverbarItems=[],o.empty(),this.isShow=!1},e.prototype.checkPositionBottom=function(){var o=this.$elem,s=!1,l=window.innerHeight;l&&l>=360&&l-o[0].getBoundingClientRect().bottom<360&&(s=!0),s?o.addClass("w-e-bar-bottom"):o.removeClass("w-e-bar-bottom")},e.prototype.show=function(){this.$elem.removeClass("w-e-bar-hidden").addClass("w-e-bar-show"),this.isShow=!0,this.checkPositionBottom()},e.prototype.changeItemsState=function(){var o=this;pg(function(){o.hoverbarItems.forEach(function(s){s.changeMenuState()})})},e.prototype.registerItems=function(o){var s=this,l=this.$elem;o.forEach(function(c){if(c!=="|")s.registerSingleItem(c);else{var d=YSe();l.append(d)}})},e.prototype.registerSingleItem=function(o){var s=this.getEditorInstance(),l=this.menus,c=l[o];if(c==null){var d=oP[o];if(d==null)throw new Error("Not found menu item factory by key '"+o+"'");if(typeof d!="function")throw new Error("Menu item factory (key='"+o+"') is not a function");c=d(),l[o]=c}var p=JSe(o,c);this.hoverbarItems.push(p),sue.set(p,s),this.$elem.append(p.$elem)},e.prototype.setPosition=function(o){var s=this.getEditorInstance(),l=this.$elem;if(l.attr("style",""),sr.isElement(o)){var c=Cue(s,o,"bar");return l.css(c),void rie(s,l)}if(Io.isText(o))return c=wue(s),l.css(c),void rie(s,l);throw new Error("hoverbar.setPosition error, current selected node is not elem nor text")},e.prototype.getSelectedNodeAndMenuKeys=function(){var o=this.getEditorInstance();if(o.selection==null)return null;var s=this.getHoverbarKeysConf(),l=null,c=[],d=function(v){var y=s[v],S=y.match,x=y.menuKeys,T=x===void 0?[]:x,k=S||function(N,D){return St.checkNodeType(D,v)},A=aa(ze.nodes(o,{match:function(N){return k(o,N)},universal:!0}),1),F=A[0];if(F!=null)return l=F[0],c=T,"break"};for(var p in s)if(d(p)==="break")break;return l==null||c.length===0?null:{node:l,menuKeys:c}},e.prototype.getEditorInstance=function(){var o=Zae.get(this);if(o==null)throw new Error("Can not get editor instance");return o},e.prototype.getHoverbarKeysConf=function(){var o=this.getEditorInstance().getConfig().hoverbarKeys,s=o===void 0?{}:o,l=s.text;return l&&l.match==null&&(l.match=vPe),s},e.prototype.isSamePath=function(o,s){if(o==null||s==null)return!1;var l=St.findPath(null,o),c=St.findPath(null,s);return zt.equals(l,c)},e.prototype.destroy=function(){this.changeHoverbarState.cancel(),this.$elem.remove(),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null},e}();function QSe(e,o,s,l){if(nP.set(e,o),B_.set(e,s),sr.isElement(e)){var c=e.children;if((c===void 0?[]:c).forEach(function(v,y){return QSe(v,y,e,l)}),ze.isVoid(l,e)){var d=aa(yo.texts(e),1),p=aa(d[0],1)[0];nP.set(p,0),B_.set(p,e)}}}function yPe(e){var o=e.selector,s=o===void 0?"":o,l=e.config,c=l===void 0?{}:l,d=e.content,p=e.html,v=e.plugins,y=v===void 0?[]:v,S=(B=>{var O=B,{apply:P}=O;return O.history={undos:[],redos:[]},O.redo=()=>{var{history:I}=O,{redos:z}=I;if(z.length>0){var K=z[z.length-1];e_.withoutSaving(O,()=>{ze.withoutNormalizing(O,()=>{for(var j of K)O.apply(j)})}),I.redos.pop(),I.undos.push(K)}},O.undo=()=>{var{history:I}=O,{undos:z}=I;if(z.length>0){var K=z[z.length-1];e_.withoutSaving(O,()=>{ze.withoutNormalizing(O,()=>{var j=K.map(qw.inverse).reverse();for(var oe of j)O.apply(oe)})}),I.redos.push(K),I.undos.pop()}},O.apply=I=>{var{operations:z,history:K}=O,{undos:j}=K,oe=j[j.length-1],ke=oe&&oe[oe.length-1],ae=j8e(I,ke),Q=e_.isSaving(O),G=e_.isMerging(O);if(Q==null&&(Q=H8e(I)),Q){if(G==null&&(G=oe!=null&&(z.length!==0||L8e(I,ke)||ae)),oe&&G)ae&&oe.pop(),oe.push(I);else{var ue=[I];j.push(ue)}for(;j.length>100;)j.shift();z8e(I)&&(K.redos=[])}P(I)},O})(function(B){var O=B,P=O.insertText,I=O.insertNode,z=O.insertFragment;return O.insertText=function(K){if(O.getConfig().maxLength){var j=St.getLeftLengthOfMaxLength(O);j<=0||(j<K.length?P(K.slice(0,j)):P(K))}else P(K)},O.insertNode=function(K){if(O.getConfig().maxLength){var j=St.getLeftLengthOfMaxLength(O);j<=0||j<yo.string(K).length||I(K)}else I(K)},O.insertFragment=function(K){O.getConfig().maxLength?K.forEach(function(j){O.insertNode(j)}):z(K)},O}(function(B){var O=B;return O.on=function(P,I){var z=Hz(O);if(z.on(P,I),P==="destroyed"&&S1e(O,I),P!=="destroyed"){var K=function(){return z.off(P,I)};z.on("destroyed",K),S1e(O,K)}},O.once=function(P,I){Hz(O).once(P,I)},O.off=function(P,I){Hz(O).off(P,I)},O.emit=function(P){for(var I=[],z=1;z<arguments.length;z++)I[z-1]=arguments[z];var K=Hz(O);K.emit.apply(K,Vae([P],aa(I))),P==="destroyed"&&(HNe(O).forEach(function(j){return K.off("destroyed",j)}),jNe(O))},O}(function(B){var O=B;return O.select=function(P){Jt.select(O,P)},O.deselect=function(){var P=O.selection,I=St.findDocumentOrShadowRoot(O).getSelection();I&&I.rangeCount>0&&I.removeAllRanges(),P&&Jt.deselect(B)},O.move=function(P,I){I===void 0&&(I=!1),P&&(P<0||Jt.move(B,{distance:P,unit:"character",reverse:I}))},O.moveReverse=function(P){O.move(P,!0)},O.restoreSelection=function(){var P=Kae.get(O);P!=null&&(O.focus(),Jt.select(O,P))},O.getSelectionPosition=function(){return wue(O)},O.getNodePosition=function(P){return Cue(O,P)},O.isSelectedAll=function(){var P=O.selection;if(P==null)return!1;var I=aa(yn.edges(P),2),z=I[0],K=I[1],j=aa(ze.edges(O,[]),2),oe=j[0],ke=j[1];return!(!Ds.equals(z,oe)||!Ds.equals(K,ke))},O.selectAll=function(){var P=ze.start(O,[]),I=ze.end(O,[]);Jt.select(O,{anchor:P,focus:I})},O}(kNe(function(B){var O=B;return O.getAllMenuKeys=function(){var P=[];for(var I in oP)P.push(I);return P},O.getConfig=function(){var P=jme.get(O);if(P==null)throw new Error("Can not get editor config");return P},O.getMenuConfig=function(P){var I=O.getConfig().MENU_CONF;return(I===void 0?{}:I)[P]||{}},O.alert=function(P,I){I===void 0&&(I="info");var z=O.getConfig().customAlert;z&&z(P,I)},O}(function(B){var O=B;return O.id="wangEditor-"+kBe++,O.isDestroyed=!1,O.isFullScreen=!1,O.focus=function(P){if(St.toDOMNode(O,O).focus({preventScroll:!0}),s4.set(O,!0),P){var I=ze.end(O,[]);Jt.select(O,I)}else{var z=Kae.get(O);z?Jt.select(O,z):Jt.select(O,ze.start(O,[]))}},O.isFocused=function(){return!!s4.get(O)},O.blur=function(){St.toDOMNode(O,O).blur(),Jt.deselect(O),s4.set(O,!1)},O.updateView=function(){St.getTextarea(O).changeViewState();var P=St.getToolbar(O);P&&P.changeToolbarState();var I=St.getHoverbar(O);I&&I.changeHoverbarState()},O.destroy=function(){if(!O.isDestroyed){var P=St.getTextarea(O);P.destroy(),Wae.delete(O),qae.delete(P);var I=St.getToolbar(O);I&&(I.destroy(),sq.delete(O),rue.delete(I));var z=St.getHoverbar(O);z&&(z.destroy(),wU.delete(O),Zae.delete(z)),O.isDestroyed=!0,O.emit("destroyed")}},O.scrollToElem=function(P){if(!O.getConfig().scroll){var I="\u7F16\u8F91\u5668\u7981\u7528\u4E86 scroll \uFF0C\u7F16\u8F91\u5668\u5185\u5BB9\u65E0\u6CD5\u6EDA\u52A8\uFF0C\u8BF7\u81EA\u884C\u5B9E\u73B0\u8BE5\u529F\u80FD";return I+=`
You has disabled editor scroll, please do this yourself`,void console.warn(I)}var z=Dt("#"+P);if(z.length!==0){var K=z[0];if(!St.hasDOMNode(O,K))return I="Element (found by id is '"+P+"') is not in editor DOM",I+=`
 \u901A\u8FC7 id '`+P+"' \u627E\u5230\u7684 element \u4E0D\u5728 editor DOM \u4E4B\u5185",void console.error(I,K);var j=St.getTextarea(O),oe=j.$textAreaContainer,ke=j.$scroll,ae=z.offset().top,Q=oe.offset().top;ke[0].scrollBy({top:ae-Q,behavior:"smooth"})}},O.showProgressBar=function(P){P<1||St.getTextarea(O).changeProgress(P)},O.hidePanelOrModal=function(){var P=Gae.get(O);P!=null&&P.forEach(function(I){return I.hide()})},O.enable=function(){O.getConfig().readOnly=!1,O.updateView()},O.disable=function(){O.getConfig().readOnly=!0,O.updateView()},O.isDisabled=function(){return O.getConfig().readOnly},O.toDOMNode=function(P){return St.toDOMNode(O,P)},O.fullScreen=function(){if(!O.isFullScreen){var P=null,I=St.getToolbar(O);I&&(P=I.$box);var z=St.getTextarea(O).$box.parent();if(P&&P.parent()[0]!==z[0])throw new Error(`Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent
\u4E0D\u80FD\u8BBE\u7F6E\u5168\u5C4F\uFF0C\u56E0\u4E3A toolbar DOM \u7236\u8282\u70B9\u548C textarea DOM \u7236\u8282\u70B9\u4E0D\u4E00\u81F4`);z.addClass("w-e-full-screen-container");var K=z.css("z-index");z.attr("data-z-index",K.toString()),O.isFullScreen=!0,O.emit("fullScreen")}},O.unFullScreen=function(){if(O.isFullScreen){var P=St.getTextarea(O).$box.parent();setTimeout(function(){P.removeClass("w-e-full-screen-container"),O.isFullScreen=!1,O.emit("unFullScreen")},200)}},O.getEditableContainer=function(){return St.getTextarea(O).$textAreaContainer[0]},O}(ANe(QAe()))))))));if(s&&function(B,O){return USe(B,"data-w-e-textarea",O)}(S,s))throw new Error("Repeated create editor by selector '"+s+"'");var x=function(B){B===void 0&&(B={});var O=kCe(SSe),P={},I=B.MENU_CONF,z=I===void 0?{}:I;return Ace(O,function(K,j){P[j]=lg(lg({},K),z[j]||{})}),delete B.MENU_CONF,lg({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return[]},maxLength:0,MENU_CONF:P,hoverbarKeys:{},customAlert:function(K,j){window.alert(j+`:
`+K)}},B)}(c);jme.set(S,x);var T=x.hoverbarKeys,k=T===void 0?{}:T;if(y.forEach(function(B){S=B(S)}),p!=null&&(S.children=WSe(S,p)),d&&d.length&&(S.children=d),S.children.length===0&&(S.children=[{type:"paragraph",children:[{text:""}]}]),St.normalizeContent(S),s){var A=new cPe(s);Wae.set(S,A),qae.set(A,S),A.changeViewState(),pg(function(){var B=A.$scroll;B!=null&&B.height()<300&&console.warn(`\u7F16\u8F91\u533A\u57DF\u9AD8\u5EA6 < 300px \u8FD9\u53EF\u80FD\u4F1A\u5BFC\u81F4 modal hoverbar \u5B9A\u4F4D\u5F02\u5E38
Textarea height < 300px . This may be cause modal and hoverbar position error`,B)});var F=void 0;Object.keys(k).length>0&&(F=new bPe,Zae.set(F,S),wU.set(S,F)),S.on("change",function(){S.hidePanelOrModal()}),S.on("scroll",function(){S.hidePanelOrModal()})}else S.children.forEach(function(B,O){return QSe(B,O,S,S)});var N=x.onCreated,D=x.onDestroyed;return N&&S.on("created",function(){return N(S)}),D&&S.on("destroyed",function(){return D(S)}),pg(function(){return S.emit("created")}),S}var wPe=tq("splice"),CPe=po.TypeError,SPe=Math.max,xPe=Math.min;Ol({target:"Array",proto:!0,forced:!wPe},{splice:function(e,o){var s,l,c,d,p,v,y=AC(this),S=z4(y),x=O_(e,S),T=arguments.length;if(T===0?s=l=0:T===1?(s=0,l=S-x):(s=T-2,l=xPe(SPe(jP(o),0),S-x)),S+s-l>9007199254740991)throw CPe("Maximum allowed length exceeded");for(c=KCe(y,l),d=0;d<l;d++)(p=x+d)in y&&JN(c,d,y[p]);if(c.length=l,s<l){for(d=x;d<S-l;d++)v=d+s,(p=d+l)in y?y[v]=y[p]:delete y[v];for(d=S;d>S-l+s;d--)delete y[d-1]}else if(s>l)for(d=S-l;d>x;d--)v=d+s-1,(p=d+l-1)in y?y[v]=y[p]:delete y[v];for(d=0;d<s;d++)y[d+x]=arguments[d+2];return y.length=S-l+s,c}});var EPe=function(){function e(o,s){var l=this;this.$toolbar=Dt('<div class="w-e-bar w-e-bar-show w-e-toolbar"></div>'),this.menus={},this.toolbarItems=[],this.config={},this.changeToolbarState=ECe(function(){l.toolbarItems.forEach(function(p){p.changeMenuState()})},200),this.config=s;var c=Dt(o);if(c.length===0)throw new Error("Cannot find toolbar DOM by selector '"+o+"'");this.$box=c;var d=this.$toolbar;d.on("mousedown",function(p){return p.preventDefault()}),c.append(d),pg(function(){l.registerItems(),l.changeToolbarState(),l.getEditorInstance().on("change",l.changeToolbarState)})}return e.prototype.getMenus=function(){return this.menus},e.prototype.getConfig=function(){return this.config},e.prototype.registerItems=function(){var o=this,s="",l=this.$toolbar,c=this.config,d=c.toolbarKeys,p=d===void 0?[]:d,v=c.insertKeys,y=v===void 0?{index:0,keys:[]}:v,S=c.excludeKeys,x=S===void 0?[]:S,T=kCe(p);y.keys.length>0&&(typeof y.keys=="string"&&(y.keys=[y.keys]),y.keys.forEach(function(F,N){T.splice(y.index+N,0,F)}));var k=T.filter(function(F){if(typeof F=="string"){if(x.includes(F))return!1}else if(x.includes(F.key))return!1;return!0}),A=k.length;k.forEach(function(F,N){if(F==="|"){if(N===0||N+1===A||s==="|")return;var D=YSe();return l.append(D),void(s=F)}if(typeof F=="string")return o.registerSingleItem(F,o),void(s=F);o.registerGroup(F),s="group"})},e.prototype.registerGroup=function(o){var s=this,l=this.$toolbar,c=function(S){return new N1e(S)}(o),d=o.menuKeys,p=d===void 0?[]:d,v=this.config.excludeKeys,y=v===void 0?[]:v;p.forEach(function(S){y.includes(S)||s.registerSingleItem(S,c)}),l.append(c.$elem)},e.prototype.registerSingleItem=function(o,s){var l=this.getEditorInstance(),c=s instanceof N1e,d=this.menus,p=d[o];if(p==null){var v=oP[o];if(v==null)throw new Error("Not found menu item factory by key '"+o+"'");if(typeof v!="function")throw new Error("Menu item factory (key='"+o+"') is not a function");p=v(),d[o]=p}else console.warn("Duplicated toolbar menu key '"+o+`'
\u91CD\u590D\u6CE8\u518C\u4E86\u83DC\u5355\u680F menu '`+o+"'");var y=JSe(o,p,c);this.toolbarItems.push(y),sue.set(y,l),c?s.appendBarItem(y):s.$toolbar.append(y.$elem)},e.prototype.getEditorInstance=function(){var o=rue.get(this);if(o==null)throw new Error("Can not get editor instance");return o},e.prototype.destroy=function(){this.$toolbar.remove(),this.menus={},this.toolbarItems=[]},e}();function kPe(e,o){if(e==null)throw new Error("Cannot create toolbar, because editor is null");var s=o.selector,l=o.config,c=l===void 0?{}:l;if(function(v,y){return USe(v,"data-w-e-toolbar",y)}(e,s))throw new Error("Repeated create toolbar by selector '"+s+"'");var d=lg({toolbarKeys:[],excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1},c||{}),p=new EPe(s,d);return rue.set(p,e),sq.set(e,p),p}var APe=W_.EXISTS,TPe=Wm.f,exe=Function.prototype,OPe=hr(exe.toString),txe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,_Pe=hr(txe.exec);function nxe(e){var o=e.server,s=o===void 0?"":o,l=e.fieldName,c=l===void 0?"":l,d=e.maxFileSize,p=d===void 0?10485760:d,v=e.maxNumberOfFiles,y=v===void 0?100:v,S=e.meta,x=S===void 0?{}:S,T=e.metaWithUrl,k=T!==void 0&&T,A=e.headers,F=A===void 0?{}:A,N=e.withCredentials,D=N!==void 0&&N,B=e.timeout,O=B===void 0?1e4:B,P=e.onBeforeUpload,I=P===void 0?function(ue){return ue}:P,z=e.onSuccess,K=z===void 0?function(ue,pe){}:z,j=e.onError,oe=j===void 0?function(ue,pe,be){console.error(ue.name+" upload error",pe,be)}:j,ke=e.onProgress,ae=ke===void 0?function(ue){}:ke;if(!s)throw new Error(`Cannot get upload server address
\u6CA1\u6709\u914D\u7F6E\u4E0A\u4F20\u5730\u5740`);if(!c)throw new Error(`Cannot get fieldName
\u6CA1\u6709\u914D\u7F6E fieldName`);var Q=s;k&&(Q=function(ue,pe){var be=aa(ue.split("#"),2),qe=be[0],U=be[1],Fe=[];Ace(pe,function(Se,re){Fe.push(re+"="+Se)});var De=Fe.join("&");return qe=qe.indexOf("?")>0?qe+"&"+De:qe+"?"+De,U?qe+"#"+U:qe}(Q,x));var G=new LP({onBeforeUpload:I,restrictions:{maxFileSize:p,maxNumberOfFiles:y},meta:x}).use(F6e,{endpoint:Q,headers:F,formData:!0,fieldName:c,bundle:!0,withCredentials:D,timeout:O});return G.on("upload-success",function(ue,pe){var be=pe.body,qe=be===void 0?{}:be;try{K(ue,qe)}catch(U){console.error("wangEditor upload file - onSuccess error",U)}G.removeFile(ue.id)}),G.on("progress",function(ue){ue<1||ae(ue)}),G.on("upload-error",function(ue,pe,be){try{oe(ue,pe,be)}catch(qe){console.error("wangEditor upload file - onError error",qe)}G.removeFile(ue.id)}),G.on("restriction-failed",function(ue,pe){try{oe(ue,pe)}catch(be){console.error("wangEditor upload file - onError error",be)}G.removeFile(ue.id)}),G}function Qw(e){return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Qw(e)}function $Pe(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}function Pc(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?Object(arguments[o]):{},l=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&l.push.apply(l,Object.getOwnPropertySymbols(s).filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.forEach(function(c){$Pe(e,c,s[c])})}return e}function uy(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function F1e(e,o){for(var s=0;s<o.length;s++){var l=o[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function fy(e,o,s){return o&&F1e(e.prototype,o),s&&F1e(e,s),e}function O4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(e,o){if(o&&(Qw(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O4(e)}function N_(e){return N_=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},N_(e)}function aie(e,o){return aie=Object.setPrototypeOf||function(s,l){return s.__proto__=l,s},aie(e,o)}function lq(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&aie(e,o)}Au&&!APe&&TPe(exe,"name",{configurable:!0,get:function(){try{return _Pe(txe,OPe(this))[1]}catch{return""}}});var DPe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,o){console&&console[e]&&console[e].apply(console,o)}},ry=new(function(){function e(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};uy(this,e),this.init(o,s)}return fy(e,[{key:"init",value:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=o||DPe,this.options=s,this.debug=s.debug}},{key:"setDebug",value:function(o){this.debug=o}},{key:"log",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"log","",!0)}},{key:"warn",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"warn","",!0)}},{key:"error",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"error","")}},{key:"deprecate",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(o,s,l,c){return c&&!this.debug?null:(typeof o[0]=="string"&&(o[0]="".concat(l).concat(this.prefix," ").concat(o[0])),this.logger[s](o))}},{key:"create",value:function(o){return new e(this.logger,Pc({},{prefix:"".concat(this.prefix,":").concat(o,":")},this.options))}}]),e}()),vC=function(){function e(){uy(this,e),this.observers={}}return fy(e,[{key:"on",value:function(o,s){var l=this;return o.split(" ").forEach(function(c){l.observers[c]=l.observers[c]||[],l.observers[c].push(s)}),this}},{key:"off",value:function(o,s){this.observers[o]&&(s?this.observers[o]=this.observers[o].filter(function(l){return l!==s}):delete this.observers[o])}},{key:"emit",value:function(o){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];if(this.observers[o]){var d=[].concat(this.observers[o]);d.forEach(function(v){v.apply(void 0,l)})}if(this.observers["*"]){var p=[].concat(this.observers["*"]);p.forEach(function(v){v.apply(v,[o].concat(l))})}}}]),e}();function AB(){var e,o,s=new Promise(function(l,c){e=l,o=c});return s.resolve=e,s.reject=o,s}function R1e(e){return e==null?"":""+e}function BPe(e,o,s){e.forEach(function(l){o[l]&&(s[l]=o[l])})}function Tue(e,o,s){function l(v){return v&&v.indexOf("###")>-1?v.replace(/###/g,"."):v}function c(){return!e||typeof e=="string"}for(var d=typeof o!="string"?[].concat(o):o.split(".");d.length>1;){if(c())return{};var p=l(d.shift());!e[p]&&s&&(e[p]=new s),e=Object.prototype.hasOwnProperty.call(e,p)?e[p]:{}}return c()?{}:{obj:e,k:l(d.shift())}}function M1e(e,o,s){var l=Tue(e,o,Object);l.obj[l.k]=s}function kU(e,o){var s=Tue(e,o),l=s.obj,c=s.k;if(l)return l[c]}function I1e(e,o,s){var l=kU(e,s);return l!==void 0?l:kU(o,s)}function oxe(e,o,s){for(var l in o)l!=="__proto__"&&l!=="constructor"&&(l in e?typeof e[l]=="string"||e[l]instanceof String||typeof o[l]=="string"||o[l]instanceof String?s&&(e[l]=o[l]):oxe(e[l],o[l],s):e[l]=o[l]);return e}function AO(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var NPe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function PPe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(o){return NPe[o]}):e}var cq=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function rxe(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[o])return e[o];for(var l=o.split(s),c=e,d=0;d<l.length;++d){if(!c||typeof c[l[d]]=="string"&&d+1<l.length)return;if(c[l[d]]===void 0){for(var p=2,v=l.slice(d,d+p).join(s),y=c[v];y===void 0&&l.length>d+p;)p++,y=c[v=l.slice(d,d+p).join(s)];if(y===void 0)return;if(typeof y=="string")return y;if(v&&typeof y[v]=="string")return y[v];var S=l.slice(d+p).join(s);return S?rxe(y,S,s):void 0}c=c[l[d]]}return c}}var FPe=function(e){function o(s){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return uy(this,o),l=sP(this,N_(o).call(this)),cq&&vC.call(O4(l)),l.data=s||{},l.options=c,l.options.keySeparator===void 0&&(l.options.keySeparator="."),l.options.ignoreJSONStructure===void 0&&(l.options.ignoreJSONStructure=!0),l}return lq(o,vC),fy(o,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(s,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,v=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure,y=[s,l];c&&typeof c!="string"&&(y=y.concat(c)),c&&typeof c=="string"&&(y=y.concat(p?c.split(p):c)),s.indexOf(".")>-1&&(y=s.split("."));var S=kU(this.data,y);return S||!v||typeof c!="string"?S:rxe(this.data&&this.data[s]&&this.data[s][l],c,p)}},{key:"addResource",value:function(s,l,c,d){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},v=this.options.keySeparator;v===void 0&&(v=".");var y=[s,l];c&&(y=y.concat(v?c.split(v):c)),s.indexOf(".")>-1&&(d=l,l=(y=s.split("."))[1]),this.addNamespaces(l),M1e(this.data,y,d),p.silent||this.emit("added",s,l,c,d)}},{key:"addResources",value:function(s,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var p in c)typeof c[p]!="string"&&Object.prototype.toString.apply(c[p])!=="[object Array]"||this.addResource(s,l,p,c[p],{silent:!0});d.silent||this.emit("added",s,l,c)}},{key:"addResourceBundle",value:function(s,l,c,d,p){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},y=[s,l];s.indexOf(".")>-1&&(d=c,c=l,l=(y=s.split("."))[1]),this.addNamespaces(l);var S=kU(this.data,y)||{};d?oxe(S,c,p):S=Pc({},S,c),M1e(this.data,y,S),v.silent||this.emit("added",s,l,c)}},{key:"removeResourceBundle",value:function(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}},{key:"hasResourceBundle",value:function(s,l){return this.getResource(s,l)!==void 0}},{key:"getResourceBundle",value:function(s,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Pc({},{},this.getResource(s,l)):this.getResource(s,l)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"toJSON",value:function(){return this.data}}]),o}(),sxe={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,o,s,l,c){var d=this;return e.forEach(function(p){d.processors[p]&&(o=d.processors[p].process(o,s,l,c))}),o}},L1e={},H1e=function(e){function o(s){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return uy(this,o),l=sP(this,N_(o).call(this)),cq&&vC.call(O4(l)),BPe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,O4(l)),l.options=c,l.options.keySeparator===void 0&&(l.options.keySeparator="."),l.logger=ry.create("translator"),l}return lq(o,vC),fy(o,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var c=this.resolve(s,l);return c&&c.res!==void 0}},{key:"extractFromKey",value:function(s,l){var c=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");var d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,p=l.ns||this.options.defaultNS;if(c&&s.indexOf(c)>-1){var v=s.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:s,namespaces:p};var y=s.split(c);(c!==d||c===d&&this.options.ns.indexOf(y[0])>-1)&&(p=y.shift()),s=y.join(d)}return typeof p=="string"&&(p=[p]),{key:s,namespaces:p}}},{key:"translate",value:function(s,l,c){var d=this;if(Qw(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var p=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,v=this.extractFromKey(s[s.length-1],l),y=v.key,S=v.namespaces,x=S[S.length-1],T=l.lng||this.language,k=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T&&T.toLowerCase()==="cimode"){if(k){var A=l.nsSeparator||this.options.nsSeparator;return x+A+y}return y}var F=this.resolve(s,l),N=F&&F.res,D=F&&F.usedKey||y,B=F&&F.exactUsedKey||y,O=Object.prototype.toString.apply(N),P=["[object Number]","[object Function]","[object RegExp]"],I=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,K=typeof N!="string"&&typeof N!="boolean"&&typeof N!="number";if(z&&N&&K&&P.indexOf(O)<0&&(typeof I!="string"||O!=="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,N,Pc({},l,{ns:S})):"key '".concat(y," (").concat(this.language,")' returned an object instead of string.");if(p){var j=O==="[object Array]",oe=j?[]:{},ke=j?B:D;for(var ae in N)if(Object.prototype.hasOwnProperty.call(N,ae)){var Q="".concat(ke).concat(p).concat(ae);oe[ae]=this.translate(Q,Pc({},l,{joinArrays:!1,ns:S})),oe[ae]===Q&&(oe[ae]=N[ae])}N=oe}}else if(z&&typeof I=="string"&&O==="[object Array]")(N=N.join(I))&&(N=this.extendTranslation(N,s,l,c));else{var G=!1,ue=!1,pe=l.count!==void 0&&typeof l.count!="string",be=o.hasDefaultValue(l),qe=pe?this.pluralResolver.getSuffix(T,l.count):"",U=l["defaultValue".concat(qe)]||l.defaultValue;!this.isValidLookup(N)&&be&&(G=!0,N=U),this.isValidLookup(N)||(ue=!0,N=y);var Fe=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,De=Fe&&ue?void 0:N,Se=be&&U!==N&&this.options.updateMissing;if(ue||G||Se){if(this.logger.log(Se?"updateKey":"missingKey",T,x,y,Se?U:N),p){var re=this.resolve(y,Pc({},l,{keySeparator:!1}));re&&re.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var le=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var ce=0;ce<fe.length;ce++)le.push(fe[ce]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(l.lng||this.language):le.push(l.lng||this.language);var Be=function(Ce,me,q){d.options.missingKeyHandler?d.options.missingKeyHandler(Ce,x,me,Se?q:De,Se,l):d.backendConnector&&d.backendConnector.saveMissing&&d.backendConnector.saveMissing(Ce,x,me,Se?q:De,Se,l),d.emit("missingKey",Ce,x,me,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&pe?le.forEach(function(Ce){d.pluralResolver.getSuffixes(Ce).forEach(function(me){Be([Ce],y+me,l["defaultValue".concat(me)]||U)})}):Be(le,y,U))}N=this.extendTranslation(N,s,l,F,c),ue&&N===y&&this.options.appendNamespaceToMissingKey&&(N="".concat(x,":").concat(y)),(ue||G)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(N))}return N}},{key:"extendTranslation",value:function(s,l,c,d,p){var v=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,c,d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(Pc({},c,{interpolation:Pc({},this.options.interpolation,c.interpolation)}));var y,S=c.interpolation&&c.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(S){var x=s.match(this.interpolator.nestingRegexp);y=x&&x.length}var T=c.replace&&typeof c.replace!="string"?c.replace:c;if(this.options.interpolation.defaultVariables&&(T=Pc({},this.options.interpolation.defaultVariables,T)),s=this.interpolator.interpolate(s,T,c.lng||this.language,c),S){var k=s.match(this.interpolator.nestingRegexp);y<(k&&k.length)&&(c.nest=!1)}c.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var N=arguments.length,D=new Array(N),B=0;B<N;B++)D[B]=arguments[B];return p&&p[0]===D[0]&&!c.context?(v.logger.warn("It seems you are nesting recursively key: ".concat(D[0]," in key: ").concat(l[0])),null):v.translate.apply(v,D.concat([l]))},c)),c.interpolation&&this.interpolator.reset()}var A=c.postProcess||this.options.postProcess,F=typeof A=="string"?[A]:A;return s!=null&&F&&F.length&&c.applyPostProcessor!==!1&&(s=sxe.handle(F,s,l,this.options&&this.options.postProcessPassResolved?Pc({i18nResolved:d},c):c,this)),s}},{key:"resolve",value:function(s){var l,c,d,p,v,y=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof s=="string"&&(s=[s]),s.forEach(function(x){if(!y.isValidLookup(l)){var T=y.extractFromKey(x,S),k=T.key;c=k;var A=T.namespaces;y.options.fallbackNS&&(A=A.concat(y.options.fallbackNS));var F=S.count!==void 0&&typeof S.count!="string",N=S.context!==void 0&&(typeof S.context=="string"||typeof S.context=="number")&&S.context!=="",D=S.lngs?S.lngs:y.languageUtils.toResolveHierarchy(S.lng||y.language,S.fallbackLng);A.forEach(function(B){y.isValidLookup(l)||(v=B,!L1e["".concat(D[0],"-").concat(B)]&&y.utils&&y.utils.hasLoadedNamespace&&!y.utils.hasLoadedNamespace(v)&&(L1e["".concat(D[0],"-").concat(B)]=!0,y.logger.warn('key "'.concat(c,'" for languages "').concat(D.join(", "),`" won't get resolved as namespace "`).concat(v,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(function(O){if(!y.isValidLookup(l)){p=O;var P,I,z=k,K=[z];for(y.i18nFormat&&y.i18nFormat.addLookupKeys?y.i18nFormat.addLookupKeys(K,k,O,B,S):(F&&(P=y.pluralResolver.getSuffix(O,S.count)),F&&N&&K.push(z+P),N&&K.push(z+="".concat(y.options.contextSeparator).concat(S.context)),F&&K.push(z+=P));I=K.pop();)y.isValidLookup(l)||(d=I,l=y.getResource(O,B,I,S))}}))})}}),{res:l,usedKey:c,exactUsedKey:d,usedLng:p,usedNS:v}}},{key:"isValidLookup",value:function(s){return!(s===void 0||!this.options.returnNull&&s===null||!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,l,c,d):this.resourceStore.getResource(s,l,c,d)}}],[{key:"hasDefaultValue",value:function(s){var l="defaultValue";for(var c in s)if(Object.prototype.hasOwnProperty.call(s,c)&&l===c.substring(0,l.length)&&s[c]!==void 0)return!0;return!1}}]),o}();function Foe(e){return e.charAt(0).toUpperCase()+e.slice(1)}var RPe=function(){function e(o){uy(this,e),this.options=o,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ry.create("languageUtils")}return fy(e,[{key:"getScriptPartFromCode",value:function(o){if(!o||o.indexOf("-")<0)return null;var s=o.split("-");return s.length===2?null:(s.pop(),s[s.length-1].toLowerCase()==="x"?null:this.formatLanguageCode(s.join("-")))}},{key:"getLanguagePartFromCode",value:function(o){if(!o||o.indexOf("-")<0)return o;var s=o.split("-");return this.formatLanguageCode(s[0])}},{key:"formatLanguageCode",value:function(o){if(typeof o=="string"&&o.indexOf("-")>-1){var s=["hans","hant","latn","cyrl","cans","mong","arab"],l=o.split("-");return this.options.lowerCaseLng?l=l.map(function(c){return c.toLowerCase()}):l.length===2?(l[0]=l[0].toLowerCase(),l[1]=l[1].toUpperCase(),s.indexOf(l[1].toLowerCase())>-1&&(l[1]=Foe(l[1].toLowerCase()))):l.length===3&&(l[0]=l[0].toLowerCase(),l[1].length===2&&(l[1]=l[1].toUpperCase()),l[0]!=="sgn"&&l[2].length===2&&(l[2]=l[2].toUpperCase()),s.indexOf(l[1].toLowerCase())>-1&&(l[1]=Foe(l[1].toLowerCase())),s.indexOf(l[2].toLowerCase())>-1&&(l[2]=Foe(l[2].toLowerCase()))),l.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?o.toLowerCase():o}},{key:"isWhitelisted",value:function(o){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(o)}},{key:"isSupportedCode",value:function(o){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(o=this.getLanguagePartFromCode(o)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(o)>-1}},{key:"getBestMatchFromCodes",value:function(o){var s,l=this;return o?(o.forEach(function(c){if(!s){var d=l.formatLanguageCode(c);l.options.supportedLngs&&!l.isSupportedCode(d)||(s=d)}}),!s&&this.options.supportedLngs&&o.forEach(function(c){if(!s){var d=l.getLanguagePartFromCode(c);if(l.isSupportedCode(d))return s=d;s=l.options.supportedLngs.find(function(p){if(p.indexOf(d)===0)return p})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s):null}},{key:"getFallbackCodes",value:function(o,s){if(!o)return[];if(typeof o=="function"&&(o=o(s)),typeof o=="string"&&(o=[o]),Object.prototype.toString.apply(o)==="[object Array]")return o;if(!s)return o.default||[];var l=o[s];return l||(l=o[this.getScriptPartFromCode(s)]),l||(l=o[this.formatLanguageCode(s)]),l||(l=o[this.getLanguagePartFromCode(s)]),l||(l=o.default),l||[]}},{key:"toResolveHierarchy",value:function(o,s){var l=this,c=this.getFallbackCodes(s||this.options.fallbackLng||[],o),d=[],p=function(v){v&&(l.isSupportedCode(v)?d.push(v):l.logger.warn("rejecting language code not found in supportedLngs: ".concat(v)))};return typeof o=="string"&&o.indexOf("-")>-1?(this.options.load!=="languageOnly"&&p(this.formatLanguageCode(o)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&p(this.getScriptPartFromCode(o)),this.options.load!=="currentOnly"&&p(this.getLanguagePartFromCode(o))):typeof o=="string"&&p(this.formatLanguageCode(o)),c.forEach(function(v){d.indexOf(v)<0&&p(l.formatLanguageCode(v))}),d}}]),e}(),MPe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],IPe={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}};function LPe(){var e={};return MPe.forEach(function(o){o.lngs.forEach(function(s){e[s]={numbers:o.nr,plurals:IPe[o.fc]}})}),e}var HPe=function(){function e(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};uy(this,e),this.languageUtils=o,this.options=s,this.logger=ry.create("pluralResolver"),this.rules=LPe()}return fy(e,[{key:"addRule",value:function(o,s){this.rules[o]=s}},{key:"getRule",value:function(o){return this.rules[o]||this.rules[this.languageUtils.getLanguagePartFromCode(o)]}},{key:"needsPlural",value:function(o){var s=this.getRule(o);return s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(o,s){return this.getSuffixes(o).map(function(l){return s+l})}},{key:"getSuffixes",value:function(o){var s=this,l=this.getRule(o);return l?l.numbers.map(function(c){return s.getSuffix(o,c)}):[]}},{key:"getSuffix",value:function(o,s){var l=this,c=this.getRule(o);if(c){var d=c.noAbs?c.plurals(s):c.plurals(Math.abs(s)),p=c.numbers[d];this.options.simplifyPluralSuffix&&c.numbers.length===2&&c.numbers[0]===1&&(p===2?p="plural":p===1&&(p=""));var v=function(){return l.options.prepend&&p.toString()?l.options.prepend+p.toString():p.toString()};return this.options.compatibilityJSON==="v1"?p===1?"":typeof p=="number"?"_plural_".concat(p.toString()):v():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&c.numbers.length===2&&c.numbers[0]===1?v():this.options.prepend&&d.toString()?this.options.prepend+d.toString():d.toString()}return this.logger.warn("no plural rule found for: ".concat(o)),""}}]),e}(),jPe=function(){function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};uy(this,e),this.logger=ry.create("interpolator"),this.options=o,this.format=o.interpolation&&o.interpolation.format||function(s){return s},this.init(o)}return fy(e,[{key:"init",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o.interpolation||(o.interpolation={escapeValue:!0});var s=o.interpolation;this.escape=s.escape!==void 0?s.escape:PPe,this.escapeValue=s.escapeValue===void 0||s.escapeValue,this.useRawValueToEscape=s.useRawValueToEscape!==void 0&&s.useRawValueToEscape,this.prefix=s.prefix?AO(s.prefix):s.prefixEscaped||"{{",this.suffix=s.suffix?AO(s.suffix):s.suffixEscaped||"}}",this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||",",this.unescapePrefix=s.unescapeSuffix?"":s.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":s.unescapeSuffix||"",this.nestingPrefix=s.nestingPrefix?AO(s.nestingPrefix):s.nestingPrefixEscaped||AO("$t("),this.nestingSuffix=s.nestingSuffix?AO(s.nestingSuffix):s.nestingSuffixEscaped||AO(")"),this.nestingOptionsSeparator=s.nestingOptionsSeparator?s.nestingOptionsSeparator:s.nestingOptionsSeparator||",",this.maxReplaces=s.maxReplaces?s.maxReplaces:1e3,this.alwaysFormat=s.alwaysFormat!==void 0&&s.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var o="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(o,"g");var s="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(s,"g");var l="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(l,"g")}},{key:"interpolate",value:function(o,s,l,c){var d,p,v,y=this,S=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function x(N){return N.replace(/\$/g,"$$$$")}var T=function(N){if(N.indexOf(y.formatSeparator)<0){var D=I1e(s,S,N);return y.alwaysFormat?y.format(D,void 0,l,Pc({},c,s,{interpolationkey:N})):D}var B=N.split(y.formatSeparator),O=B.shift().trim(),P=B.join(y.formatSeparator).trim();return y.format(I1e(s,S,O),P,l,Pc({},c,s,{interpolationkey:O}))};this.resetRegExp();var k=c&&c.missingInterpolationHandler||this.options.missingInterpolationHandler,A=c&&c.interpolation&&c.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,F=[{regex:this.regexpUnescape,safeValue:function(N){return x(N)}},{regex:this.regexp,safeValue:function(N){return y.escapeValue?x(y.escape(N)):x(N)}}];return F.forEach(function(N){for(v=0;d=N.regex.exec(o);){if((p=T(d[1].trim()))===void 0)if(typeof k=="function"){var D=k(o,d,c);p=typeof D=="string"?D:""}else{if(A){p=d[0];continue}y.logger.warn("missed to pass in variable ".concat(d[1]," for interpolating ").concat(o)),p=""}else typeof p=="string"||y.useRawValueToEscape||(p=R1e(p));var B=N.safeValue(p);if(o=o.replace(d[0],B),A?(N.regex.lastIndex+=B.length,N.regex.lastIndex-=d[0].length):N.regex.lastIndex=0,++v>=y.maxReplaces)break}}),o}},{key:"nest",value:function(o,s){var l,c,d=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=Pc({},p);function y(k,A){var F=this.nestingOptionsSeparator;if(k.indexOf(F)<0)return k;var N=k.split(new RegExp("".concat(F,"[ ]*{"))),D="{".concat(N[1]);k=N[0],D=(D=this.interpolate(D,v)).replace(/'/g,'"');try{v=JSON.parse(D),A&&(v=Pc({},A,v))}catch(B){return this.logger.warn("failed parsing options string in nesting for key ".concat(k),B),"".concat(k).concat(F).concat(D)}return delete v.defaultValue,k}for(v.applyPostProcessor=!1,delete v.defaultValue;l=this.nestingRegexp.exec(o);){var S=[],x=!1;if(l[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(l[1])){var T=l[1].split(this.formatSeparator).map(function(k){return k.trim()});l[1]=T.shift(),S=T,x=!0}if((c=s(y.call(this,l[1].trim(),v),v))&&l[0]===o&&typeof c!="string")return c;typeof c!="string"&&(c=R1e(c)),c||(this.logger.warn("missed to resolve ".concat(l[1]," for nesting ").concat(o)),c=""),x&&(c=S.reduce(function(k,A){return d.format(k,A,p.lng,Pc({},p,{interpolationkey:l[1].trim()}))},c.trim())),o=o.replace(l[0],c),this.regexp.lastIndex=0}return o}}]),e}(),zPe=function(e){function o(s,l,c){var d,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return uy(this,o),d=sP(this,N_(o).call(this)),cq&&vC.call(O4(d)),d.backend=s,d.store=l,d.services=c,d.languageUtils=c.languageUtils,d.options=p,d.logger=ry.create("backendConnector"),d.state={},d.queue=[],d.backend&&d.backend.init&&d.backend.init(c,p.backend,p),d}return lq(o,vC),fy(o,[{key:"queueLoad",value:function(s,l,c,d){var p=this,v=[],y=[],S=[],x=[];return s.forEach(function(T){var k=!0;l.forEach(function(A){var F="".concat(T,"|").concat(A);!c.reload&&p.store.hasResourceBundle(T,A)?p.state[F]=2:p.state[F]<0||(p.state[F]===1?y.indexOf(F)<0&&y.push(F):(p.state[F]=1,k=!1,y.indexOf(F)<0&&y.push(F),v.indexOf(F)<0&&v.push(F),x.indexOf(A)<0&&x.push(A)))}),k||S.push(T)}),(v.length||y.length)&&this.queue.push({pending:y,loaded:{},errors:[],callback:d}),{toLoad:v,pending:y,toLoadLanguages:S,toLoadNamespaces:x}}},{key:"loaded",value:function(s,l,c){var d=s.split("|"),p=d[0],v=d[1];l&&this.emit("failedLoading",p,v,l),c&&this.store.addResourceBundle(p,v,c),this.state[s]=l?-1:2;var y={};this.queue.forEach(function(S){(function(x,T,k,A){var F=Tue(x,T,Object),N=F.obj,D=F.k;N[D]=N[D]||[],A&&(N[D]=N[D].concat(k)),A||N[D].push(k)})(S.loaded,[p],v),function(x,T){for(var k=x.indexOf(T);k!==-1;)x.splice(k,1),k=x.indexOf(T)}(S.pending,s),l&&S.errors.push(l),S.pending.length!==0||S.done||(Object.keys(S.loaded).forEach(function(x){y[x]||(y[x]=[]),S.loaded[x].length&&S.loaded[x].forEach(function(T){y[x].indexOf(T)<0&&y[x].push(T)})}),S.done=!0,S.errors.length?S.callback(S.errors):S.callback())}),this.emit("loaded",y),this.queue=this.queue.filter(function(S){return!S.done})}},{key:"read",value:function(s,l,c){var d=this,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,y=arguments.length>5?arguments[5]:void 0;return s.length?this.backend[c](s,l,function(S,x){S&&x&&p<5?setTimeout(function(){d.read.call(d,s,l,c,p+1,2*v,y)},v):y(S,x)}):y(null,{})}},{key:"prepareLoading",value:function(s,l){var c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),p&&p();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof l=="string"&&(l=[l]);var v=this.queueLoad(s,l,d,p);if(!v.toLoad.length)return v.pending.length||p(),null;v.toLoad.forEach(function(y){c.loadOne(y)})}},{key:"load",value:function(s,l,c){this.prepareLoading(s,l,{},c)}},{key:"reload",value:function(s,l,c){this.prepareLoading(s,l,{reload:!0},c)}},{key:"loadOne",value:function(s){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=s.split("|"),p=d[0],v=d[1];this.read(p,v,"read",void 0,void 0,function(y,S){y&&l.logger.warn("".concat(c,"loading namespace ").concat(v," for language ").concat(p," failed"),y),!y&&S&&l.logger.log("".concat(c,"loaded namespace ").concat(v," for language ").concat(p),S),l.loaded(s,y,S)})}},{key:"saveMissing",value:function(s,l,c,d,p){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)?this.logger.warn('did not save key "'.concat(c,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):c!=null&&c!==""&&(this.backend&&this.backend.create&&this.backend.create(s,l,c,d,null,Pc({},v,{isUpdate:p})),s&&s[0]&&this.store.addResource(s[0],l,c,d))}}]),o}();function VPe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var o={};if(Qw(e[1])==="object"&&(o=e[1]),typeof e[1]=="string"&&(o.defaultValue=e[1]),typeof e[2]=="string"&&(o.tDescription=e[2]),Qw(e[2])==="object"||Qw(e[3])==="object"){var s=e[3]||e[2];Object.keys(s).forEach(function(l){o[l]=s[l]})}return o},interpolation:{escapeValue:!0,format:function(e,o,s,l){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function j1e(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function zz(){}var UPe=function(e){function o(){var s,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(uy(this,o),s=sP(this,N_(o).call(this)),cq&&vC.call(O4(s)),s.options=j1e(l),s.services={},s.logger=ry,s.modules={external:[]},c&&!s.isInitialized&&!l.isClone){if(!s.options.initImmediate)return s.init(l,c),sP(s,O4(s));setTimeout(function(){s.init(l,c)},0)}return s}return lq(o,vC),fy(o,[{key:"init",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;function d(A){return A?typeof A=="function"?new A:A:null}if(typeof l=="function"&&(c=l,l={}),l.whitelist&&!l.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),l.nonExplicitWhitelist&&!l.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Pc({},VPe(),this.options,j1e(l)),this.format=this.options.interpolation.format,c||(c=zz),!this.options.isClone){this.modules.logger?ry.init(d(this.modules.logger),this.options):ry.init(null,this.options);var p=new RPe(this.options);this.store=new FPe(this.options.resources,this.options);var v=this.services;v.logger=ry,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new HPe(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v.interpolator=new jPe(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new zPe(d(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(A){for(var F=arguments.length,N=new Array(F>1?F-1:0),D=1;D<F;D++)N[D-1]=arguments[D];s.emit.apply(s,[A].concat(N))}),this.modules.languageDetector&&(v.languageDetector=d(this.modules.languageDetector),v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=d(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new H1e(this.services,this.options),this.translator.on("*",function(A){for(var F=arguments.length,N=new Array(F>1?F-1:0),D=1;D<F;D++)N[D-1]=arguments[D];s.emit.apply(s,[A].concat(N))}),this.modules.external.forEach(function(A){A.init&&A.init(s)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var S=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];S.forEach(function(A){s[A]=function(){var F;return(F=s.store)[A].apply(F,arguments)}});var x=["addResource","addResources","addResourceBundle","removeResourceBundle"];x.forEach(function(A){s[A]=function(){var F;return(F=s.store)[A].apply(F,arguments),s}});var T=AB(),k=function(){var A=function(F,N){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),T.resolve(N),c(F,N)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return A(null,s.t.bind(s));s.changeLanguage(s.options.lng,A)};return this.options.resources||!this.options.initImmediate?k():setTimeout(k,0),T}},{key:"loadResources",value:function(s){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zz,d=c,p=typeof s=="string"?s:this.language;if(typeof s=="function"&&(d=s),!this.options.resources||this.options.partialBundledLanguages){if(p&&p.toLowerCase()==="cimode")return d();var v=[],y=function(x){x&&l.services.languageUtils.toResolveHierarchy(x).forEach(function(T){v.indexOf(T)<0&&v.push(T)})};if(p)y(p);else{var S=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);S.forEach(function(x){return y(x)})}this.options.preload&&this.options.preload.forEach(function(x){return y(x)}),this.services.backendConnector.load(v,this.options.ns,d)}else d(null)}},{key:"reloadResources",value:function(s,l,c){var d=AB();return s||(s=this.languages),l||(l=this.options.ns),c||(c=zz),this.services.backendConnector.reload(s,l,function(p){d.resolve(),c(p)}),d}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&sxe.addPostProcessor(s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"changeLanguage",value:function(s,l){var c=this;this.isLanguageChangingTo=s;var d=AB();this.emit("languageChanging",s);var p=function(v){s||v||!c.services.languageDetector||(v=[]);var y=typeof v=="string"?v:c.services.languageUtils.getBestMatchFromCodes(v);y&&(c.language||(c.language=y,c.languages=c.services.languageUtils.toResolveHierarchy(y)),c.translator.language||c.translator.changeLanguage(y),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage(y)),c.loadResources(y,function(S){(function(x,T){T?(c.language=T,c.languages=c.services.languageUtils.toResolveHierarchy(T),c.translator.changeLanguage(T),c.isLanguageChangingTo=void 0,c.emit("languageChanged",T),c.logger.log("languageChanged",T)):c.isLanguageChangingTo=void 0,d.resolve(function(){return c.t.apply(c,arguments)}),l&&l(x,function(){return c.t.apply(c,arguments)})})(S,y)})};return s||!this.services.languageDetector||this.services.languageDetector.async?!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(p):p(s):p(this.services.languageDetector.detect()),d}},{key:"getFixedT",value:function(s,l,c){var d=this,p=function v(y,S){var x;if(Qw(S)!=="object"){for(var T=arguments.length,k=new Array(T>2?T-2:0),A=2;A<T;A++)k[A-2]=arguments[A];x=d.options.overloadTranslationOptionHandler([y,S].concat(k))}else x=Pc({},S);x.lng=x.lng||v.lng,x.lngs=x.lngs||v.lngs,x.ns=x.ns||v.ns;var F=d.options.keySeparator||".",N=c?"".concat(c).concat(F).concat(y):y;return d.t(N,x)};return typeof s=="string"?p.lng=s:p.lngs=s,p.ns=l,p.keyPrefix=c,p}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var d=this.languages[0],p=!!this.options&&this.options.fallbackLng,v=this.languages[this.languages.length-1];if(d.toLowerCase()==="cimode")return!0;var y=function(x,T){var k=l.services.backendConnector.state["".concat(x,"|").concat(T)];return k===-1||k===2};if(c.precheck){var S=c.precheck(this,y);if(S!==void 0)return S}return!!this.hasResourceBundle(d,s)||!this.services.backendConnector.backend||!(!y(d,s)||p&&!y(v,s))}},{key:"loadNamespaces",value:function(s,l){var c=this,d=AB();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(p){c.options.ns.indexOf(p)<0&&c.options.ns.push(p)}),this.loadResources(function(p){d.resolve(),l&&l(p)}),d):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(s,l){var c=AB();typeof s=="string"&&(s=[s]);var d=this.options.preload||[],p=s.filter(function(v){return d.indexOf(v)<0});return p.length?(this.options.preload=d.concat(p),this.loadResources(function(v){c.resolve(),l&&l(v)}),c):(l&&l(),Promise.resolve())}},{key:"dir",value:function(s){return s||(s=this.languages&&this.languages.length>0?this.languages[0]:this.language),s?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(s))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;return new o(s,l)}},{key:"cloneInstance",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zz,d=Pc({},this.options,l,{isClone:!0}),p=new o(d),v=["store","services","language"];return v.forEach(function(y){p[y]=s[y]}),p.services=Pc({},this.services),p.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p.translator=new H1e(p.services,p.options),p.translator.on("*",function(y){for(var S=arguments.length,x=new Array(S>1?S-1:0),T=1;T<S;T++)x[T-1]=arguments[T];p.emit.apply(p,[y].concat(x))}),p.init(d,c),p.translator.options=p.options,p.translator.backendConnector.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),o}(),AU=new UPe,WPe="translation";function Qd(e,o){AU.addResourceBundle(e,WPe,o,!0,!0)}AU.init({lng:"zh-CN",resources:{}});var Co=AU.t.bind(AU),qPe={editor:{more:"More",justify:"Justify",indent:"Indent",image:"Image",video:"Video"}},ZPe={editor:{more:"\u66F4\u591A",justify:"\u5BF9\u9F50",indent:"\u7F29\u8FDB",image:"\u56FE\u7247",video:"\u89C6\u9891"}};Qd("en",qPe);Qd("zh-CN",ZPe);Qd("en",{common:{ok:"OK",delete:"Delete",enter:"Enter"},blockQuote:{title:"Quote"},codeBlock:{title:"Code block"},color:{color:"Font color",bgColor:"Back color",default:"Default color",clear:"Clear back color"},divider:{title:"Divider"},emotion:{title:"Emotion"},fontSize:{title:"Font size",default:"Default"},fontFamily:{title:"Font family",default:"Default"},fullScreen:{title:"Full screen"},header:{title:"Header",text:"Text"},image:{netImage:"Net image",delete:"Delete image",edit:"Edit image",viewLink:"View link",src:"Image src",desc:"Description",link:"Image link"},indent:{decrease:"Decrease",increase:"Increase"},justify:{left:"Left",right:"Right",center:"Center",justify:"Justify"},lineHeight:{title:"Line height",default:"Default"},link:{insert:"Insert link",text:"Link text",url:"Link source",unLink:"Unlink",edit:"Edit link",view:"View link"},textStyle:{bold:"Bold",clear:"Clear styles",code:"Inline code",italic:"Italic",sub:"Sub",sup:"Sup",through:"Through",underline:"Underline"},undo:{undo:"undo",redo:"Redo"},todo:{todo:"Todo"}}),Qd("zh-CN",{common:{ok:"\u786E\u5B9A",delete:"\u5220\u9664",enter:"\u56DE\u8F66"},blockQuote:{title:"\u5F15\u7528"},codeBlock:{title:"\u4EE3\u7801\u5757"},color:{color:"\u6587\u5B57\u989C\u8272",bgColor:"\u80CC\u666F\u8272",default:"\u9ED8\u8BA4\u989C\u8272",clear:"\u6E05\u9664\u80CC\u666F\u8272"},divider:{title:"\u5206\u5272\u7EBF"},emotion:{title:"\u8868\u60C5"},fontSize:{title:"\u5B57\u53F7",default:"\u9ED8\u8BA4\u5B57\u53F7"},fontFamily:{title:"\u5B57\u4F53",default:"\u9ED8\u8BA4\u5B57\u4F53"},fullScreen:{title:"\u5168\u5C4F"},header:{title:"\u6807\u9898",text:"\u6B63\u6587"},image:{netImage:"\u7F51\u7EDC\u56FE\u7247",delete:"\u5220\u9664\u56FE\u7247",edit:"\u7F16\u8F91\u56FE\u7247",viewLink:"\u67E5\u770B\u94FE\u63A5",src:"\u56FE\u7247\u5730\u5740",desc:"\u56FE\u7247\u63CF\u8FF0",link:"\u56FE\u7247\u94FE\u63A5"},indent:{decrease:"\u51CF\u5C11\u7F29\u8FDB",increase:"\u589E\u52A0\u7F29\u8FDB"},justify:{left:"\u5DE6\u5BF9\u9F50",right:"\u53F3\u5BF9\u9F50",center:"\u5C45\u4E2D\u5BF9\u9F50",justify:"\u4E24\u7AEF\u5BF9\u9F50"},lineHeight:{title:"\u884C\u9AD8",default:"\u9ED8\u8BA4\u884C\u9AD8"},link:{insert:"\u63D2\u5165\u94FE\u63A5",text:"\u94FE\u63A5\u6587\u672C",url:"\u94FE\u63A5\u5730\u5740",unLink:"\u53D6\u6D88\u94FE\u63A5",edit:"\u4FEE\u6539\u94FE\u63A5",view:"\u67E5\u770B\u94FE\u63A5"},textStyle:{bold:"\u7C97\u4F53",clear:"\u6E05\u9664\u683C\u5F0F",code:"\u884C\u5185\u4EE3\u7801",italic:"\u659C\u4F53",sub:"\u4E0B\u6807",sup:"\u4E0A\u6807",through:"\u5220\u9664\u7EBF",underline:"\u4E0B\u5212\u7EBF"},undo:{undo:"\u64A4\u9500",redo:"\u91CD\u505A"},todo:{todo:"\u5F85\u529E"}});var GPe={type:"paragraph",renderElem:function(e,o,s){return ds("p",null,o)}},KPe={type:"paragraph",elemToHtml:function(e,o){return o===""?"<p><br></p>":"<p>"+o+"</p>"}},TU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YPe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uq(e){var o={exports:{}};return e(o,o.exports),o.exports}var Ow,DV,Vz=function(e){return e&&e.Math==Math&&e},ys=Vz(typeof globalThis=="object"&&globalThis)||Vz(typeof window=="object"&&window)||Vz(typeof self=="object"&&self)||Vz(typeof TU=="object"&&TU)||function(){return this}()||Function("return this")(),_l=function(e){try{return!!e()}catch{return!0}},zm=!_l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),TB=Function.prototype.call,tc=TB.bind?TB.bind(TB):function(){return TB.apply(TB,arguments)},z1e={}.propertyIsEnumerable,V1e=Object.getOwnPropertyDescriptor,XPe=V1e&&!z1e.call({1:2},1)?function(e){var o=V1e(this,e);return!!o&&o.enumerable}:z1e,axe={f:XPe},Oue=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},ixe=Function.prototype,iie=ixe.bind,lie=ixe.call,JPe=iie&&iie.bind(lie),es=iie?function(e){return e&&JPe(lie,e)}:function(e){return e&&function(){return lie.apply(e,arguments)}},QPe=es({}.toString),eFe=es("".slice),eC=function(e){return eFe(QPe(e),8,-1)},Roe=ys.Object,tFe=es("".split),fq=_l(function(){return!Roe("z").propertyIsEnumerable(0)})?function(e){return eC(e)=="String"?tFe(e,""):Roe(e)}:Roe,nFe=ys.TypeError,gg=function(e){if(e==null)throw nFe("Can't call method on "+e);return e},Y_=function(e){return fq(gg(e))},tf=function(e){return typeof e=="function"},sg=function(e){return typeof e=="object"?e!==null:tf(e)},oFe=function(e){return tf(e)?e:void 0},UP=function(e,o){return arguments.length<2?oFe(ys[e]):ys[e]&&ys[e][o]},lxe=es({}.isPrototypeOf),Moe=UP("navigator","userAgent")||"",U1e=ys.process,W1e=ys.Deno,q1e=U1e&&U1e.versions||W1e&&W1e.version,Z1e=q1e&&q1e.v8;Z1e&&(DV=(Ow=Z1e.split("."))[0]>0&&Ow[0]<4?1:+(Ow[0]+Ow[1])),!DV&&Moe&&(!(Ow=Moe.match(/Edge\/(\d+)/))||Ow[1]>=74)&&(Ow=Moe.match(/Chrome\/(\d+)/))&&(DV=+Ow[1]);var cie=DV,uie=!!Object.getOwnPropertySymbols&&!_l(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&cie&&cie<41}),_ue=uie&&!Symbol.sham&&typeof Symbol.iterator=="symbol",rFe=ys.Object,fie=_ue?function(e){return typeof e=="symbol"}:function(e){var o=UP("Symbol");return tf(o)&&lxe(o.prototype,rFe(e))},sFe=ys.String,cxe=function(e){try{return sFe(e)}catch{return"Object"}},aFe=ys.TypeError,uxe=function(e){if(tf(e))return e;throw aFe(cxe(e)+" is not a function")},dq=function(e,o){var s=e[o];return s==null?void 0:uxe(s)},iFe=ys.TypeError,lFe=Object.defineProperty,$ue=function(e,o){try{lFe(ys,e,{value:o,configurable:!0,writable:!0})}catch{ys[e]=o}return o},tC=ys["__core-js_shared__"]||$ue("__core-js_shared__",{}),Due=uq(function(e){(e.exports=function(o,s){return tC[o]||(tC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),cFe=ys.Object,WP=function(e){return cFe(gg(e))},uFe=es({}.hasOwnProperty),cg=Object.hasOwn||function(e,o){return uFe(WP(e),o)},fFe=0,dFe=Math.random(),hFe=es(1 .toString),fxe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+hFe(++fFe+dFe,36)},OB=Due("wks"),i4=ys.Symbol,G1e=i4&&i4.for,pFe=_ue?i4:i4&&i4.withoutSetter||fxe,lp=function(e){if(!cg(OB,e)||!uie&&typeof OB[e]!="string"){var o="Symbol."+e;uie&&cg(i4,e)?OB[e]=i4[e]:OB[e]=_ue&&G1e?G1e(o):pFe(o)}return OB[e]},gFe=ys.TypeError,mFe=lp("toPrimitive"),vFe=function(e,o){if(!sg(e)||fie(e))return e;var s,l=dq(e,mFe);if(l){if(o===void 0&&(o="default"),s=tc(l,e,o),!sg(s)||fie(s))return s;throw gFe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&tf(p=c.toString)&&!sg(v=tc(p,c))||tf(p=c.valueOf)&&!sg(v=tc(p,c))||d!=="string"&&tf(p=c.toString)&&!sg(v=tc(p,c)))return v;throw iFe("Can't convert object to primitive value")}(e,o)},Bue=function(e){var o=vFe(e,"string");return fie(o)?o:o+""},die=ys.document,bFe=sg(die)&&sg(die.createElement),Nue=function(e){return bFe?die.createElement(e):{}},dxe=!zm&&!_l(function(){return Object.defineProperty(Nue("div"),"a",{get:function(){return 7}}).a!=7}),K1e=Object.getOwnPropertyDescriptor,Pue={f:zm?K1e:function(e,o){if(e=Y_(e),o=Bue(o),dxe)try{return K1e(e,o)}catch{}if(cg(e,o))return Oue(!tc(axe.f,e,o),e[o])}},yFe=ys.String,wFe=ys.TypeError,rp=function(e){if(sg(e))return e;throw wFe(yFe(e)+" is not an object")},CFe=ys.TypeError,Y1e=Object.defineProperty,X_={f:zm?Y1e:function(e,o,s){if(rp(e),o=Bue(o),rp(s),dxe)try{return Y1e(e,o,s)}catch{}if("get"in s||"set"in s)throw CFe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},P_=zm?function(e,o,s){return X_.f(e,o,Oue(1,s))}:function(e,o,s){return e[o]=s,e},SFe=es(Function.toString);tf(tC.inspectSource)||(tC.inspectSource=function(e){return SFe(e)});var OU,$N,_U,Fue=tC.inspectSource,X1e=ys.WeakMap,xFe=tf(X1e)&&/native code/.test(Fue(X1e)),J1e=Due("keys"),hxe=function(e){return J1e[e]||(J1e[e]=fxe(e))},Rue={},hie=ys.TypeError,EFe=ys.WeakMap;if(xFe||tC.state){var NE=tC.state||(tC.state=new EFe),kFe=es(NE.get),Q1e=es(NE.has),AFe=es(NE.set);OU=function(e,o){if(Q1e(NE,e))throw new hie("Object already initialized");return o.facade=e,AFe(NE,e,o),o},$N=function(e){return kFe(NE,e)||{}},_U=function(e){return Q1e(NE,e)}}else{var TO=hxe("state");Rue[TO]=!0,OU=function(e,o){if(cg(e,TO))throw new hie("Object already initialized");return o.facade=e,P_(e,TO,o),o},$N=function(e){return cg(e,TO)?e[TO]:{}},_U=function(e){return cg(e,TO)}}var pie={set:OU,get:$N,has:_U,enforce:function(e){return _U(e)?$N(e):OU(e,{})},getterFor:function(e){return function(o){var s;if(!sg(o)||(s=$N(o)).type!==e)throw hie("Incompatible receiver, "+e+" required");return s}}},pxe=Function.prototype,TFe=zm&&Object.getOwnPropertyDescriptor,Ioe=cg(pxe,"name"),hq={EXISTS:Ioe,PROPER:Ioe&&function(){}.name==="something",CONFIGURABLE:Ioe&&(!zm||zm&&TFe(pxe,"name").configurable)},aP=uq(function(e){var o=hq.CONFIGURABLE,s=pie.get,l=pie.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;tf(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!cg(v,"name")||o&&v.name!==A)&&P_(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==ys?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:P_(d,p,v)):T?d[p]=v:$ue(p,v)})(Function.prototype,"toString",function(){return tf(this)&&s(this).source||Fue(this)})}),OFe=Math.ceil,_Fe=Math.floor,J_=function(e){var o=+e;return o!=o||o===0?0:(o>0?_Fe:OFe)(o)},$Fe=Math.max,DFe=Math.min,iP=function(e,o){var s=J_(e);return s<0?$Fe(s+o,0):DFe(s,o)},BFe=Math.min,qP=function(e){return e>0?BFe(J_(e),9007199254740991):0},pq=function(e){return qP(e.length)},eve=function(e){return function(o,s,l){var c,d=Y_(o),p=pq(d),v=iP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},gxe={includes:eve(!0),indexOf:eve(!1)},NFe=gxe.indexOf,tve=es([].push),mxe=function(e,o){var s,l=Y_(e),c=0,d=[];for(s in l)!cg(Rue,s)&&cg(l,s)&&tve(d,s);for(;o.length>c;)cg(l,s=o[c++])&&(~NFe(d,s)||tve(d,s));return d},$U=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],PFe=$U.concat("length","prototype"),FFe={f:Object.getOwnPropertyNames||function(e){return mxe(e,PFe)}},vxe={f:Object.getOwnPropertySymbols},RFe=es([].concat),MFe=UP("Reflect","ownKeys")||function(e){var o=FFe.f(rp(e)),s=vxe.f;return s?RFe(o,s(e)):o},IFe=function(e,o){for(var s=MFe(o),l=X_.f,c=Pue.f,d=0;d<s.length;d++){var p=s[d];cg(e,p)||l(e,p,c(o,p))}},LFe=/#|\.prototype\./,ZP=function(e,o){var s=jFe[HFe(e)];return s==VFe||s!=zFe&&(tf(o)?_l(o):!!o)},HFe=ZP.normalize=function(e){return String(e).replace(LFe,".").toLowerCase()},jFe=ZP.data={},zFe=ZP.NATIVE="N",VFe=ZP.POLYFILL="P",UFe=ZP,WFe=Pue.f,au=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?ys:S?ys[v]||$ue(v,{}):(ys[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=WFe(s,l))&&p.value:s[l],!UFe(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;IFe(d,c)}(e.sham||c&&c.sham)&&P_(d,"sham",!0),aP(s,l,d,e)}},nve=es(es.bind),DU=Array.isArray||function(e){return eC(e)=="Array"},bxe={};bxe[lp("toStringTag")]="z";var Mue=String(bxe)==="[object z]",qFe=lp("toStringTag"),ZFe=ys.Object,GFe=eC(function(){return arguments}())=="Arguments",Iue=Mue?eC:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=ZFe(e),qFe))=="string"?s:GFe?eC(o):(l=eC(o))=="Object"&&tf(o.callee)?"Arguments":l},yxe=function(){},KFe=[],wxe=UP("Reflect","construct"),Lue=/^\s*(?:class|function)\b/,YFe=es(Lue.exec),XFe=!Lue.exec(yxe),_B=function(e){if(!tf(e))return!1;try{return wxe(yxe,KFe,e),!0}catch{return!1}},Hue=!wxe||_l(function(){var e;return _B(_B.call)||!_B(Object)||!_B(function(){e=!0})||e})?function(e){if(!tf(e))return!1;switch(Iue(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return XFe||!!YFe(Lue,Fue(e))}:_B,JFe=lp("species"),ove=ys.Array,QFe=function(e,o){return new(function(s){var l;return DU(s)&&(l=s.constructor,(Hue(l)&&(l===ove||DU(l.prototype))||sg(l)&&(l=l[JFe])===null)&&(l=void 0)),l===void 0?ove:l}(e))(o===0?0:o)},rve=es([].push),_w=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=WP(y),N=fq(F),D=function(z,K){return uxe(z),K===void 0?z:nve?nve(z,K):function(){return z.apply(K,arguments)}}(S,x),B=pq(N),O=0,P=T||QFe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:rve(I,k)}else switch(e){case 4:return!1;case 7:rve(I,k)}return d?-1:l||c?c:I}},gq={forEach:_w(0),map:_w(1),filter:_w(2),some:_w(3),every:_w(4),find:_w(5),findIndex:_w(6),filterReject:_w(7)},eRe=lp("species"),jue=function(e){return cie>=51||!_l(function(){var o=[];return(o.constructor={})[eRe]=function(){return{foo:1}},o[e](Boolean).foo!==1})},tRe=gq.filter;au({target:"Array",proto:!0,forced:!jue("filter")},{filter:function(e){return tRe(this,e,arguments.length>1?arguments[1]:void 0)}});var nRe=Mue?{}.toString:function(){return"[object "+Iue(this)+"]"};Mue||aP(Object.prototype,"toString",nRe,{unsafe:!0});var Uz,oRe=ys.String,Al=function(e){if(Iue(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return oRe(e)},Cxe=function(){var e=rp(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},zue=ys.RegExp,gie=_l(function(){var e=zue("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),rRe=gie||_l(function(){return!zue("a","y").sticky}),Sxe={BROKEN_CARET:gie||_l(function(){var e=zue("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:rRe,UNSUPPORTED_Y:gie},c_=Object.keys||function(e){return mxe(e,$U)},sRe=zm?Object.defineProperties:function(e,o){rp(e);for(var s,l=Y_(o),c=c_(o),d=c.length,p=0;d>p;)X_.f(e,s=c[p++],l[s]);return e},aRe=UP("document","documentElement"),xxe=hxe("IE_PROTO"),Loe=function(){},Exe=function(e){return"<script>"+e+"<\/script>"},sve=function(e){e.write(Exe("")),e.close();var o=e.parentWindow.Object;return e=null,o},BV=function(){try{Uz=new ActiveXObject("htmlfile")}catch{}var e,o;BV=typeof document<"u"?document.domain&&Uz?sve(Uz):((o=Nue("iframe")).style.display="none",aRe.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(Exe("document.F=Object")),e.close(),e.F):sve(Uz);for(var s=$U.length;s--;)delete BV.prototype[$U[s]];return BV()};Rue[xxe]=!0;var ave,Hoe,kxe=Object.create||function(e,o){var s;return e!==null?(Loe.prototype=rp(e),s=new Loe,Loe.prototype=null,s[xxe]=e):s=BV(),o===void 0?s:sRe(s,o)},iRe=ys.RegExp,lRe=_l(function(){var e=iRe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),cRe=ys.RegExp,uRe=_l(function(){var e=cRe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),fRe=pie.get,dRe=Due("native-string-replace",String.prototype.replace),BU=RegExp.prototype.exec,mie=BU,hRe=es("".charAt),pRe=es("".indexOf),gRe=es("".replace),joe=es("".slice),zoe=(Hoe=/b*/g,tc(BU,ave=/a/,"a"),tc(BU,Hoe,"a"),ave.lastIndex!==0||Hoe.lastIndex!==0),ive=Sxe.BROKEN_CARET,Voe=/()??/.exec("")[1]!==void 0;(zoe||Voe||ive||lRe||uRe)&&(mie=function(e){var o,s,l,c,d,p,v,y=this,S=fRe(y),x=Al(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=tc(mie,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=ive&&y.sticky,F=tc(Cxe,y),N=y.source,D=0,B=x;if(A&&(F=gRe(F,"y",""),pRe(F,"g")===-1&&(F+="g"),B=joe(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&hRe(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),Voe&&(s=new RegExp("^"+N+"$(?!\\s)",F)),zoe&&(l=y.lastIndex),c=tc(BU,A?s:y,B),A?c?(c.input=joe(c.input,D),c[0]=joe(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:zoe&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),Voe&&c&&c.length>1&&tc(dRe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=kxe(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var lP=mie;au({target:"RegExp",proto:!0,forced:/./.exec!==lP},{exec:lP});var Vue=Function.prototype,lve=Vue.apply,mRe=Vue.bind,cve=Vue.call,Axe=typeof Reflect=="object"&&Reflect.apply||(mRe?cve.bind(lve):function(){return cve.apply(lve,arguments)}),vRe=lp("species"),Uoe=RegExp.prototype,Uue=function(e,o,s,l){var c=lp(e),d=!_l(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!_l(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[vRe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=es(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=es(S),N=x.exec;return N===lP||N===Uoe.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});aP(String.prototype,e,y[0]),aP(Uoe,c,y[1])}l&&P_(Uoe[c],"sham",!0)},bRe=es("".charAt),uve=es("".charCodeAt),yRe=es("".slice),fve=function(e){return function(o,s){var l,c,d=Al(gg(o)),p=J_(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=uve(d,p))<55296||l>56319||p+1===v||(c=uve(d,p+1))<56320||c>57343?e?bRe(d,p):l:e?yRe(d,p,p+2):c-56320+(l-55296<<10)+65536}},wRe={codeAt:fve(!1),charAt:fve(!0)}.charAt,Wue=function(e,o,s){return o+(s?wRe(e,o).length:1)},CRe=Math.floor,Woe=es("".charAt),SRe=es("".replace),qoe=es("".slice),xRe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ERe=/\$([$&'`]|\d{1,2})/g,kRe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,y=ERe;return c!==void 0&&(c=WP(c),y=xRe),SRe(d,y,function(S,x){var T;switch(Woe(x,0)){case"$":return"$";case"&":return e;case"`":return qoe(o,0,s);case"'":return qoe(o,p);case"<":T=c[qoe(x,1,-1)];break;default:var k=+x;if(k===0)return S;if(k>v){var A=CRe(k/10);return A===0?S:A<=v?l[A-1]===void 0?Woe(x,1):l[A-1]+Woe(x,1):S}T=l[k-1]}return T===void 0?"":T})},ARe=ys.TypeError,cP=function(e,o){var s=e.exec;if(tf(s)){var l=tc(s,e,o);return l!==null&&rp(l),l}if(eC(e)==="RegExp")return tc(lP,e,o);throw ARe("RegExp#exec called on incompatible receiver")},vie=lp("replace"),TRe=Math.max,ORe=Math.min,_Re=es([].concat),Zoe=es([].push),dve=es("".indexOf),hve=es("".slice),$Re="a".replace(/./,"$0")==="$0",pve=!!/./[vie]&&/./[vie]("a","$0")==="";Uue("replace",function(e,o,s){var l=pve?"$":"$0";return[function(c,d){var p=gg(this),v=c==null?void 0:dq(c,vie);return v?tc(v,c,p,d):tc(o,Al(p),c,d)},function(c,d){var p=rp(this),v=Al(c);if(typeof d=="string"&&dve(d,l)===-1&&dve(d,"$<")===-1){var y=s(o,p,v,d);if(y.done)return y.value}var S=tf(d);S||(d=Al(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var k=[];;){var A=cP(p,v);if(A===null||(Zoe(k,A),!x))break;Al(A[0])===""&&(p.lastIndex=Wue(v,qP(p.lastIndex),T))}for(var F,N="",D=0,B=0;B<k.length;B++){for(var O=Al((A=k[B])[0]),P=TRe(ORe(J_(A.index),v.length),0),I=[],z=1;z<A.length;z++)Zoe(I,(F=A[z])===void 0?F:String(F));var K=A.groups;if(S){var j=_Re([O],I,P,v);K!==void 0&&Zoe(j,K);var oe=Al(Axe(d,void 0,j))}else oe=kRe(O,v,P,I,K,d);P>=D&&(N+=hve(v,D,P)+oe,D=P+O.length)}return N+hve(v,D)}]},!!_l(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!$Re||pve);var bie=lp("unscopables"),yie=Array.prototype;yie[bie]==null&&X_.f(yie,bie,{configurable:!0,value:kxe(null)});var Txe=function(e){yie[bie][e]=!0},DRe=gq.find,gve=!0;"find"in[]&&Array(1).find(function(){gve=!1}),au({target:"Array",proto:!0,forced:gve},{find:function(e){return DRe(this,e,arguments.length>1?arguments[1]:void 0)}}),Txe("find");var BRe=lp("match"),Oxe=function(e){var o;return sg(e)&&((o=e[BRe])!==void 0?!!o:eC(e)=="RegExp")},NRe=ys.TypeError,PRe=lp("species"),FRe=function(e,o){var s,l=rp(e).constructor;return l===void 0||(s=rp(l)[PRe])==null?o:function(c){if(Hue(c))return c;throw NRe(cxe(c)+" is not a constructor")}(s)},_xe=function(e,o,s){var l=Bue(o);l in e?X_.f(e,l,Oue(0,s)):e[l]=s},RRe=ys.Array,MRe=Math.max,mve=function(e,o,s){for(var l=pq(e),c=iP(o,l),d=iP(s===void 0?l:s,l),p=RRe(MRe(d-c,0)),v=0;c<d;c++,v++)_xe(p,v,e[c]);return p.length=v,p},OO=Sxe.UNSUPPORTED_Y,IRe=Math.min,$xe=[].push,LRe=es(/./.exec),_O=es($xe),$B=es("".slice);Uue("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p=Al(gg(this)),v=d===void 0?4294967295:d>>>0;if(v===0)return[];if(c===void 0)return[p];if(!Oxe(c))return tc(o,p,c,v);for(var y,S,x,T=[],k=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),A=0,F=new RegExp(c.source,k+"g");(y=tc(lP,F,p))&&!((S=F.lastIndex)>A&&(_O(T,$B(p,A,y.index)),y.length>1&&y.index<p.length&&Axe($xe,T,mve(y,1)),x=y[0].length,A=S,T.length>=v));)F.lastIndex===y.index&&F.lastIndex++;return A===p.length?!x&&LRe(F,"")||_O(T,""):_O(T,$B(p,A)),T.length>v?mve(T,0,v):T}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:tc(o,this,c,d)}:o,[function(c,d){var p=gg(this),v=c==null?void 0:dq(c,e);return v?tc(v,c,p,d):tc(l,Al(p),c,d)},function(c,d){var p=rp(this),v=Al(c),y=s(l,p,v,d,l!==o);if(y.done)return y.value;var S=FRe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(OO?"g":"y"),k=new S(OO?"^(?:"+p.source+")":p,T),A=d===void 0?4294967295:d>>>0;if(A===0)return[];if(v.length===0)return cP(k,v)===null?[v]:[];for(var F=0,N=0,D=[];N<v.length;){k.lastIndex=OO?0:N;var B,O=cP(k,OO?$B(v,N):v);if(O===null||(B=IRe(qP(k.lastIndex+(OO?N:0)),v.length))===F)N=Wue(v,N,x);else{if(_O(D,$B(v,F,N)),D.length===A)return D;for(var P=1;P<=O.length-1;P++)if(_O(D,O[P]),D.length===A)return D;N=F=B}}return _O(D,$B(v,F)),D}]},!!_l(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),OO);var DB,wie=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,vve=es("".replace),NU="["+wie+"]",HRe=RegExp("^"+NU+NU+"*"),jRe=RegExp(NU+NU+"*$"),Goe=function(e){return function(o){var s=Al(gg(o));return 1&e&&(s=vve(s,HRe,"")),2&e&&(s=vve(s,jRe,"")),s}},zRe={start:Goe(1),end:Goe(2),trim:Goe(3)},VRe=hq.PROPER,URe=zRe.trim;function que(e){return Dt("<div>"+e+"</div>").children().filter(function(o){return o.tagName!=="BR"}).length===0}function Q_(e){return e.length===0?"":e[0].outerHTML}function e5(e){return e.length?e[0].tagName.toLowerCase():""}function Hm(e,o){for(var s="",l=(e.attr("style")||"").split(";"),c=l.length,d=0;d<c;d++){var p=l[d];if(p){var v=p.split(":");v[0].trim()===o&&(s=v[1].trim())}}return s}au({target:"String",proto:!0,forced:(DB="trim",_l(function(){return!!wie[DB]()||"\u200B\x85\u180E"[DB]()!=="\u200B\x85\u180E"||VRe&&wie[DB].name!==DB}))},{trim:function(){return URe(this)}}),au({global:!0},{globalThis:ys}),sU&&(Dt.fn.css=sU),zv&&(Dt.fn.append=zv),uge&&(Dt.fn.prepend=uge),b_&&(Dt.fn.addClass=b_),y_&&(Dt.fn.removeClass=y_),w_&&(Dt.fn.hasClass=w_),jv&&(Dt.fn.on=jv),age&&(Dt.fn.off=age),gC&&(Dt.fn.focus=gC),Lv&&(Dt.fn.attr=Lv),tU&&(Dt.fn.removeAttr=tU),S_&&(Dt.fn.hide=S_),rU&&(Dt.fn.show=rU),cU&&(Dt.fn.parents=cU),C_&&(Dt.fn.dataset=C_),Hv&&(Dt.fn.val=Hv),iU&&(Dt.fn.text=iU),pC&&(Dt.fn.html=pC),E_&&(Dt.fn.children=E_),k_&&(Dt.fn.remove=k_),x_&&(Dt.fn.find=x_),nU&&(Dt.fn.width=nU),oU&&(Dt.fn.height=oU),lge&&(Dt.fn.filter=lge),A_&&(Dt.fn.empty=A_);var WRe={selector:"p:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e);return(o=o.filter(function(c){return!!Io.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"paragraph",children:o}}},Cie=function(e,o){return Cie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},Cie(e,o)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ul(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=e}Cie(e,o),e.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}var bC=function(){return bC=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},bC.apply(this,arguments)};function OC(e,o,s,l){return new(s||(s=Promise))(function(c,d){function p(S){try{y(l.next(S))}catch(x){d(x)}}function v(S){try{y(l.throw(S))}catch(x){d(x)}}function y(S){var x;S.done?c(S.value):(x=S.value,x instanceof s?x:new s(function(T){T(x)})).then(p,v)}y((l=l.apply(e,o||[])).next())})}function _C(e,o){var s,l,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(y){return function(S){return function(x){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,l=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=o.call(e,p)}catch(T){x=[6,T],l=0}finally{s=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([y,S])}}}function Dxe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function pa(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function bve(e){var o=pa(ze.nodes(e,{match:function(p){return e.children[0]===p},mode:"highest"}),1),s=o[0];if(s==null)return!1;var l=s[0];if(!sr.isElement(l)||l.type==="paragraph"||yo.string(l)!=="")return!1;var c=l.children,d=c===void 0?[]:c;return!!Io.isText(d[0])&&(Jt.setNodes(e,{type:"paragraph"}),!0)}var qRe={renderElems:[GPe],elemsToHtml:[KPe],parseElemsHtml:[WRe],editorPlugin:function(e){var o=e.deleteBackward,s=e.deleteForward;e.insertText,e.insertBreak;var l=e;return l.deleteBackward=function(c){bve(l)||o(c)},l.deleteForward=function(c){bve(l)||s(c)},l}},ZRe=/"/g,GRe=es("".replace),vN=function(e,o,s,l){var c=Al(gg(e)),d="<"+o;return s!==""&&(d+=" "+s+'="'+GRe(Al(l),ZRe,"&quot;")+'"'),d+">"+c+"</"+o+">"},bN=function(e){return _l(function(){var o=""[e]('"');return o!==o.toLowerCase()||o.split('"').length>3})};function Koe(e,o){var s=o,l=e,c=l.bold,d=l.italic,p=l.underline;return c&&(s="<strong>"+s+"</strong>"),l.code&&(s="<code>"+s+"</code>"),d&&(s="<em>"+s+"</em>"),p&&(s="<u>"+s+"</u>"),l.through&&(s="<s>"+s+"</s>"),l.sub&&(s="<sub>"+s+"</sub>"),l.sup&&(s="<sup>"+s+"</sup>"),s}function PE(e,o){return e.length!==0&&(!!e[0].matches(o)||e.find(o).length>0)}au({target:"String",proto:!0,forced:bN("bold")},{bold:function(){return vN(this,"b","","")}}),au({target:"String",proto:!0,forced:bN("italics")},{italics:function(){return vN(this,"i","","")}}),au({target:"String",proto:!0,forced:bN("sub")},{sub:function(){return vN(this,"sub","","")}}),au({target:"String",proto:!0,forced:bN("sup")},{sup:function(){return vN(this,"sup","","")}});var yve={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Yoe=Nue("span").classList,wve=Yoe&&Yoe.constructor&&Yoe.constructor.prototype,KRe=wve===Object.prototype?void 0:wve,Bxe=function(e,o){var s=[][e];return!!s&&_l(function(){s.call(null,o||function(){throw 1},1)})},YRe=gq.forEach,Xoe=Bxe("forEach")?[].forEach:function(e){return YRe(this,e,arguments.length>1?arguments[1]:void 0)},Nxe=function(e){if(e&&e.forEach!==Xoe)try{P_(e,"forEach",Xoe)}catch{e.forEach=Xoe}};for(var Joe in yve)yve[Joe]&&Nxe(ys[Joe]&&ys[Joe].prototype);function Pxe(e,o){return e.selection==null||!!pa(ze.nodes(e,{match:function(s){return St.getNodeType(s)==="pre"||!!ze.isVoid(e,s)},universal:!0}),1)[0]}function XRe(e,o){Object.keys(o).forEach(function(s){s!=="text"&&ze.removeMark(e,s)})}Nxe(KRe),au({target:"Object",stat:!0,forced:_l(function(){c_(1)})},{keys:function(e){return c_(WP(e))}});var V4=function(){function e(){this.marksNeedToRemove=[],this.tag="button"}return e.prototype.getValue=function(o){var s=this.mark,l=ze.marks(o);return l?l[s]:!!pa(ze.nodes(o,{match:function(c){return c[s]===!0}}),1)[0]},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){return Pxe(o,this.mark)},e.prototype.exec=function(o,s){var l=this.mark,c=this.marksNeedToRemove;s?o.removeMark(l):(o.addMark(l,!0),c&&c.forEach(function(d){return o.removeMark(d)}))},e}(),JRe='<svg viewBox="0 0 1024 1024"><path d="M707.872 484.64A254.88 254.88 0 0 0 768 320c0-141.152-114.848-256-256-256H192v896h384c141.152 0 256-114.848 256-256a256.096 256.096 0 0 0-124.128-219.36zM384 192h101.504c55.968 0 101.504 57.408 101.504 128s-45.536 128-101.504 128H384V192z m159.008 640H384v-256h159.008c58.464 0 106.016 57.408 106.016 128s-47.552 128-106.016 128z"></path></svg>',QRe='<svg viewBox="0 0 1024 1024"><path d="M704 64l128 0 0 416c0 159.072-143.264 288-320 288s-320-128.928-320-288l0-416 128 0 0 416c0 40.16 18.24 78.688 51.36 108.512 36.896 33.216 86.848 51.488 140.64 51.488s103.744-18.304 140.64-51.488c33.12-29.792 51.36-68.352 51.36-108.512l0-416zM192 832l640 0 0 128-640 0z"></path></svg>',e9e='<svg viewBox="0 0 1024 1024"><path d="M896 64v64h-128L448 896h128v64H128v-64h128L576 128h-128V64z"></path></svg>',t9e='<svg viewBox="0 0 1024 1024"><path d="M1024 512v64h-234.496c27.52 38.496 42.496 82.688 42.496 128 0 70.88-36.672 139.04-100.576 186.976C672.064 935.488 594.144 960 512 960s-160.064-24.512-219.424-69.024C228.64 843.04 192 774.88 192 704h128c0 69.376 87.936 128 192 128s192-58.624 192-128-87.936-128-192-128H0v-64h299.52a385.984 385.984 0 0 1-6.944-5.024C228.64 459.04 192 390.88 192 320s36.672-139.04 100.576-186.976C351.936 88.512 429.856 64 512 64s160.064 24.512 219.424 69.024C795.328 180.96 832 249.12 832 320h-128c0-69.376-87.936-128-192-128s-192 58.624-192 128 87.936 128 192 128c78.976 0 154.048 22.688 212.48 64H1024z"></path></svg>',n9e='<svg viewBox="0 0 1024 1024"><path d="M576 736l96 96 320-320L672 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224z"></path></svg>',Fxe='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',Rxe='<svg viewBox="0 0 1024 1024"><path d="M924.402464 1023.068211H0.679665V99.345412h461.861399v98.909208H99.596867v725.896389h725.896389V561.206811h98.909208z" p-id="10909"></path><path d="M930.805104 22.977336l69.965436 69.965436-453.492405 453.492404-69.965435-69.901489z" p-id="10910"></path><path d="M1022.464381 304.030081h-98.917201V99.345412H709.230573V0.428211h313.233808z"></path></svg>',o9e='<svg viewBox="0 0 1024 1024"><path d="M64 864h896v96H64zM360.58 576h302.85l81.53 224h102.16L579.24 64H444.77L176.89 800h102.16l81.53-224zM512 159.96L628.49 480H395.52L512 159.96z"></path></svg>',r9e='<svg viewBox="0 0 1024 1024"><path d="M510.030769 315.076923l84.676923 196.923077h-177.230769l76.8-196.923077h15.753846zM945.230769 157.538462v708.923076c0 43.323077-35.446154 78.769231-78.769231 78.769231H157.538462c-43.323077 0-78.769231-35.446154-78.769231-78.769231V157.538462c0-43.323077 35.446154-78.769231 78.769231-78.769231h708.923076c43.323077 0 78.769231 35.446154 78.769231 78.769231z m-108.307692 643.938461L600.615385 216.615385c-5.907692-11.815385-15.753846-19.692308-29.538462-19.692308h-139.815385c-11.815385 0-23.630769 7.876923-27.56923 19.692308l-216.615385 584.861538c-3.938462 11.815385 3.938462 25.6 17.723077 25.6h80.738462c11.815385 0 23.630769-9.846154 27.56923-21.661538l63.015385-175.261539h263.876923l68.923077 175.261539c3.938462 11.815385 15.753846 21.661538 27.569231 21.661538h80.738461c13.784615 0 23.630769-13.784615 19.692308-25.6z"></path></svg>',s9e='<svg viewBox="0 0 1024 1024"><path d="M64 512h384v128h-128V1024h-128V640h-128z m896-256H708.2496v768h-136.4992V256H320V128h640z"></path></svg>',a9e='<svg viewBox="0 0 1024 1024"><path d="M956.788364 152.110545h-24.110546l23.924364 9.029819 0.186182 121.018181h-65.070546l-86.574545-130.048H566.551273v650.14691l130.048 64.977454v65.163636h-390.050909v-65.163636l129.954909-64.977454V152.110545H198.283636L111.429818 282.065455H46.545455V69.259636C46.545455 33.792 82.664727 22.062545 98.955636 22.062545h812.683637c23.738182 0 45.056 15.173818 45.056 41.053091V169.425455v-17.221819z"></path></svg>',i9e='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m256-512v384l-256-192z"></path></svg>',l9e='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',c9e='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',u9e='<svg viewBox="0 0 1024 1024"><path d="M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',f9e='<svg viewBox="0 0 1024 1024"><path d="M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',d9e='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z"></path></svg>',h9e='<svg viewBox="0 0 1024 1024"><path d="M768 206.016v50.016h128v64h-192V174.016l128-60V64h-128V0h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',p9e='<svg viewBox="0 0 1024 1024"><path d="M768 910.016v50.016h128v64h-192v-146.016l128-60V768h-128v-64h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',g9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="bold",s.title=Co("textStyle.bold"),s.iconSvg=JRe,s.hotkey="mod+b",s}return ul(o,e),o}(V4),m9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="code",s.title=Co("textStyle.code"),s.iconSvg=n9e,s.hotkey="mod+e",s}return ul(o,e),o}(V4),v9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="italic",s.title=Co("textStyle.italic"),s.iconSvg=e9e,s.hotkey="mod+i",s}return ul(o,e),o}(V4),b9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="through",s.title=Co("textStyle.through"),s.iconSvg=t9e,s.hotkey="mod+shift+x",s}return ul(o,e),o}(V4),y9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="underline",s.title=Co("textStyle.underline"),s.iconSvg=QRe,s.hotkey="mod+u",s}return ul(o,e),o}(V4),w9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="sub",s.marksNeedToRemove=["sup"],s.title=Co("textStyle.sub"),s.iconSvg=p9e,s.hotkey="",s}return ul(o,e),o}(V4),C9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="sup",s.marksNeedToRemove=["sub"],s.title=Co("textStyle.sup"),s.iconSvg=h9e,s.hotkey="",s}return ul(o,e),o}(V4),S9e=function(){function e(){this.title=Co("textStyle.clear"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M969.382408 288.738615l-319.401123-270.852152a67.074236 67.074236 0 0 0-96.459139 5.74922l-505.931379 574.922021a68.35184 68.35184 0 0 0-17.886463 47.910169 74.101061 74.101061 0 0 0 24.274486 47.910168l156.50655 132.232065h373.060512L975.131628 383.281347a67.074236 67.074236 0 0 0-5.74922-96.459139z m-440.134747 433.746725H264.144729l-90.071117-78.572676c-5.74922-5.74922-12.137243-12.137243-12.137243-17.886463a36.411728 36.411728 0 0 1 5.749221-24.274485l210.804741-240.828447 265.102932 228.691204z m-439.495945 180.781036h843.218964a60.047411 60.047411 0 1 1 0 120.733624H89.751716a60.047411 60.047411 0 1 1 0-120.733624z m0 0"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return Pxe(o)},e.prototype.exec=function(o,s){var l,c,d=ze.nodes(o,{match:function(y){return Io.isText(y)},universal:!0});try{for(var p=Dxe(d),v=p.next();!v.done;v=p.next())XRe(o,v.value[0])}catch(y){l={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}},e}(),x9e={renderStyle:function(e,o){var s=e,l=s.bold,c=s.italic,d=s.underline,p=s.code,v=s.through,y=s.sub,S=s.sup,x=o;return l&&(x=ds("strong",null,x)),p&&(x=ds("code",null,x)),c&&(x=ds("em",null,x)),d&&(x=ds("u",null,x)),v&&(x=ds("s",null,x)),y&&(x=ds("sub",null,x)),S&&(x=ds("sup",null,x)),x},menus:[{key:"bold",factory:function(){return new g9e}},{key:"underline",factory:function(){return new y9e}},{key:"italic",factory:function(){return new v9e}},{key:"through",factory:function(){return new b9e}},{key:"code",factory:function(){return new m9e}},{key:"sub",factory:function(){return new w9e}},{key:"sup",factory:function(){return new C9e}},{key:"clearStyle",factory:function(){return new S9e}}],styleToHtml:function(e,o){if(!Io.isText(e))return o;if(que(o))return Koe(e,o);var s=Dt(o);if(e5(s)==="br")return Koe(e,"<br>");var l=s.html();return l=Koe(e,l),s.html(l),Q_(s)},parseStyleHtml:function(e,o,s){var l=Dt(e);if(!Io.isText(o))return o;var c=o;return PE(l,"b,strong")&&(c.bold=!0),PE(l,"i,em")&&(c.italic=!0),PE(l,"u")&&(c.underline=!0),PE(l,"s,strike")&&(c.through=!0),PE(l,"sub")&&(c.sub=!0),PE(l,"sup")&&(c.sup=!0),PE(l,"code")&&(c.code=!0),c}};function GP(e){return function(o,s,l){return ds("h"+e,null,s)}}var E9e={type:"header1",renderElem:GP(1)},k9e={type:"header2",renderElem:GP(2)},A9e={type:"header3",renderElem:GP(3)},T9e={type:"header4",renderElem:GP(4)},O9e={type:"header5",renderElem:GP(5)},_9e=hq.PROPER,Sie=RegExp.prototype,Mxe=Sie.toString,$9e=es(Cxe),D9e=_l(function(){return Mxe.call({source:"a",flags:"b"})!="/a/b"}),B9e=_9e&&Mxe.name!="toString";(D9e||B9e)&&aP(RegExp.prototype,"toString",function(){var e=rp(this),o=Al(e.source),s=e.flags;return"/"+o+"/"+Al(s===void 0&&lxe(Sie,e)&&!("flags"in Sie)?$9e(e):s)},{unsafe:!0});var Qoe,N9e=ys.TypeError,Ixe=function(e){if(Oxe(e))throw N9e("The method doesn't accept regular expressions");return e},P9e=lp("match"),Lxe=function(e){var o=/./;try{"/./"[e](o)}catch{try{return o[P9e]=!1,"/./"[e](o)}catch{}}return!1},F9e=Pue.f,Cve=es("".startsWith),R9e=es("".slice),M9e=Math.min,Sve=Lxe("startsWith");function Hxe(e){var o=pa(ze.nodes(e,{match:function(c){return St.getNodeType(c).startsWith("header")},universal:!0}),1),s=o[0];if(s==null)return"paragraph";var l=pa(s,1)[0];return St.getNodeType(l)}function jxe(e){return e.selection==null||!pa(ze.nodes(e,{match:function(o){var s=St.getNodeType(o);return s==="paragraph"||!!s.startsWith("header")},universal:!0,mode:"highest"}),1)[0]}function zxe(e,o){o&&Jt.setNodes(e,{type:o})}au({target:"String",proto:!0,forced:!!(Sve||(Qoe=F9e(String.prototype,"startsWith"),!Qoe||Qoe.writable))&&!Sve},{startsWith:function(e){var o=Al(gg(this));Ixe(e);var s=qP(M9e(arguments.length>1?arguments[1]:void 0,o.length)),l=Al(e);return Cve?Cve(o,l,s):R9e(o,s,s+l.length)===l}});var I9e=function(){function e(){this.title=Co("header.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 960c-51.2 0-102.4-3.2-153.6-3.2-51.2 0-99.2 3.2-150.4 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 57.6-28.8 86.4-48 19.2-12.8 19.2-60.8 19.2-80v-224-19.2c-9.6-3.2-19.2-3.2-28.8-3.2H320c-9.6 0-19.2 0-28.8 3.2V780.8c0 22.4 0 80 22.4 92.8 28.8 19.2 96-6.4 96 44.8 0 16-9.6 41.6-28.8 41.6-54.4 0-105.6-3.2-160-3.2-48 0-96 3.2-147.2 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 51.2-28.8 80-48 19.2-12.8 19.2-60.8 19.2-83.2V294.4c0-28.8 3.2-115.2-22.4-131.2-25.6-16-86.4 9.6-86.4-41.6 0-16 6.4-41.6 28.8-41.6 51.2 0 105.6 3.2 156.8 3.2 48 0 96-3.2 144-3.2 19.2 0 28.8 22.4 28.8 41.6 0 48-57.6 25.6-83.2 41.6-19.2 12.8-19.2 73.6-19.2 92.8v201.6c6.4 3.2 16 3.2 22.4 3.2h400c6.4 0 12.8 0 22.4-3.2V256c0-22.4 0-80-19.2-92.8-28.8-16-86.4 6.4-86.4-41.6 0-16 9.6-41.6 28.8-41.6 51.2 0 99.2 3.2 150.4 3.2 48 0 99.2-3.2 147.2-3.2 19.2 0 28.8 22.4 28.8 41.6 0 51.2-57.6 25.6-86.4 41.6-19.2 12.8-19.2 70.4-19.2 92.8v537.6c0 19.2 0 67.2 19.2 80 28.8 19.2 89.6-6.4 89.6 44.8 0 19.2-6.4 41.6-28.8 41.6z"></path></svg>',this.tag="select",this.width=60}return e.prototype.getOptions=function(o){var s=[{value:"header1",text:"H1",styleForRenderMenuList:{"font-size":"32px","font-weight":"bold"}},{value:"header2",text:"H2",styleForRenderMenuList:{"font-size":"24px","font-weight":"bold"}},{value:"header3",text:"H3",styleForRenderMenuList:{"font-size":"18px","font-weight":"bold"}},{value:"header4",text:"H4",styleForRenderMenuList:{"font-size":"16px","font-weight":"bold"}},{value:"header5",text:"H5",styleForRenderMenuList:{"font-size":"13px","font-weight":"bold"}},{value:"paragraph",text:Co("header.text")}],l=this.getValue(o).toString();return s.forEach(function(c){c.value===l?c.selected=!0:delete c.selected}),s},e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){return Hxe(o)},e.prototype.isDisabled=function(o){return jxe(o)},e.prototype.exec=function(o,s){zxe(o,s.toString())},e}(),KP=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){return Hxe(o)},e.prototype.isActive=function(o){return this.getValue(o)===this.type},e.prototype.isDisabled=function(o){return jxe(o)},e.prototype.exec=function(o,s){var l=this.type;zxe(o,s===l?"paragraph":l)},e}(),L9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H1",s.type="header1",s}return ul(o,e),o}(KP),H9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H2",s.type="header2",s}return ul(o,e),o}(KP),j9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H3",s.type="header3",s}return ul(o,e),o}(KP),z9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H4",s.type="header4",s}return ul(o,e),o}(KP),V9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H5",s.type="header5",s}return ul(o,e),o}(KP),U9e={key:"headerSelect",factory:function(){return new I9e}},W9e={key:"header1",factory:function(){return new L9e}},q9e={key:"header2",factory:function(){return new H9e}},Z9e={key:"header3",factory:function(){return new j9e}},G9e={key:"header4",factory:function(){return new z9e}},K9e={key:"header5",factory:function(){return new V9e}};function BB(e){return function(o,s){return"<h"+e+">"+s+"</h"+e+">"}}function NB(e){return function(o,s,l){var c=Dt(o);return(s=s.filter(function(d){return!!Io.isText(d)||!!l.isInline(d)})).length===0&&(s=[{text:c.text().replace(/\s+/gm," ")}]),{type:"header"+e,children:s}}}var Y9e={renderElems:[E9e,k9e,A9e,T9e,O9e],elemsToHtml:[{type:"header1",elemToHtml:BB(1)},{type:"header2",elemToHtml:BB(2)},{type:"header3",elemToHtml:BB(3)},{type:"header4",elemToHtml:BB(4)},{type:"header5",elemToHtml:BB(5)}],parseElemsHtml:[{selector:"h1:not([data-w-e-type])",parseElemHtml:NB(1)},{selector:"h2:not([data-w-e-type])",parseElemHtml:NB(2)},{selector:"h3:not([data-w-e-type])",parseElemHtml:NB(3)},{selector:"h4:not([data-w-e-type])",parseElemHtml:NB(4)},{selector:"h5:not([data-w-e-type])",parseElemHtml:NB(5)}],menus:[U9e,W9e,q9e,Z9e,G9e,K9e],editorPlugin:function(e){var o=e.insertBreak;e.insertNode;var s=e;return s.insertBreak=function(){var l=pa(ze.nodes(s,{match:function(c){return St.getNodeType(c).startsWith("header")},universal:!0}),1)[0];l&&St.isSelectionAtLineEnd(e,l[1])?Jt.insertNodes(s,{type:"paragraph",children:[{text:""}]},{mode:"highest"}):o()},s}},$O=Object.assign,xve=Object.defineProperty,X9e=es([].concat),Eve=!$O||_l(function(){if(zm&&$O({b:1},$O(xve({},"a",{enumerable:!0,get:function(){xve(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},o={},s=Symbol(),l="abcdefghijklmnopqrst";return e[s]=7,l.split("").forEach(function(c){o[c]=c}),$O({},e)[s]!=7||c_($O({},o)).join("")!=l})?function(e,o){for(var s=WP(e),l=arguments.length,c=1,d=vxe.f,p=axe.f;l>c;)for(var v,y=fq(arguments[c++]),S=d?X9e(c_(y),d(y)):c_(y),x=S.length,T=0;x>T;)v=S[T++],zm&&!tc(p,y,v)||(s[v]=y[v]);return s}:$O;function _4(e,o){e.data==null&&(e.data={});var s=e.data;s.style==null&&(s.style={}),Object.assign(s.style,o)}au({target:"Object",stat:!0,forced:Object.assign!==Eve},{assign:Eve});var J9e={selector:"font",preParseHtml:function(e){var o=Dt(e);if(e5(o)!=="font")return e;var s=o.attr("color")||"";return s&&(o.removeAttr("color"),o.css("color",s)),o[0]}},Vxe=function(){function e(){this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.exec=function(o,s){},e.prototype.getValue=function(o){var s=this.mark,l=ze.marks(o);return l&&l[s]?l[s]:""},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){return o.selection==null||!!pa(ze.nodes(o,{match:function(s){return St.getNodeType(s)==="pre"||!!ze.isVoid(o,s)},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(o){var s=this.mark;if(this.$content==null){var l=Dt('<ul class="w-e-panel-content-color"></ul>');l.on("click","li",function(S){var x=S.target;if(x!=null&&(S.preventDefault(),o.selection!=null)){var T=Dt(x).attr("data-value");T==="0"?ze.removeMark(o,s):ze.addMark(o,s,T)}}),this.$content=l}var c=this.$content;if(c==null)return document.createElement("ul");c.empty();var d=this.getValue(o),p=o.getMenuConfig(s).colors;(p===void 0?[]:p).forEach(function(S){var x=Dt('<div class="color-block" data-value="'+S+'"></div>');x.css("background-color",S);var T=Dt('<li data-value="'+S+'"></li>');d===S&&T.addClass("active"),T.append(x),c.append(T)});var v="";s==="color"&&(v=Co("color.default")),s==="bgColor"&&(v=Co("color.clear"));var y=Dt(`
      <li data-value="0" class="clear">
        <svg viewBox="0 0 1024 1024"><path d="M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z"></path></svg>
        `+v+`
      </li>
    `);return c.prepend(y),c[0]},e}(),Q9e=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("color.color"),s.iconSvg=o9e,s.mark="color",s}return ul(o,e),o}(Vxe),eMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("color.bgColor"),s.iconSvg=r9e,s.mark="bgColor",s}return ul(o,e),o}(Vxe),kve=["rgb(0, 0, 0)","rgb(38, 38, 38)","rgb(89, 89, 89)","rgb(140, 140, 140)","rgb(191, 191, 191)","rgb(217, 217, 217)","rgb(233, 233, 233)","rgb(245, 245, 245)","rgb(250, 250, 250)","rgb(255, 255, 255)","rgb(225, 60, 57)","rgb(231, 95, 51)","rgb(235, 144, 58)","rgb(245, 219, 77)","rgb(114, 192, 64)","rgb(89, 191, 192)","rgb(66, 144, 247)","rgb(54, 88, 226)","rgb(106, 57, 201)","rgb(216, 68, 147)","rgb(251, 233, 230)","rgb(252, 237, 225)","rgb(252, 239, 212)","rgb(252, 251, 207)","rgb(231, 246, 213)","rgb(218, 244, 240)","rgb(217, 237, 250)","rgb(224, 232, 250)","rgb(237, 225, 248)","rgb(246, 226, 234)","rgb(255, 163, 158)","rgb(255, 187, 150)","rgb(255, 213, 145)","rgb(255, 251, 143)","rgb(183, 235, 143)","rgb(135, 232, 222)","rgb(145, 213, 255)","rgb(173, 198, 255)","rgb(211, 173, 247)","rgb(255, 173, 210)","rgb(255, 77, 79)","rgb(255, 122, 69)","rgb(255, 169, 64)","rgb(255, 236, 61)","rgb(115, 209, 61)","rgb(54, 207, 201)","rgb(64, 169, 255)","rgb(89, 126, 247)","rgb(146, 84, 222)","rgb(247, 89, 171)","rgb(207, 19, 34)","rgb(212, 56, 13)","rgb(212, 107, 8)","rgb(212, 177, 6)","rgb(56, 158, 13)","rgb(8, 151, 156)","rgb(9, 109, 217)","rgb(29, 57, 196)","rgb(83, 29, 171)","rgb(196, 29, 127)","rgb(130, 0, 20)","rgb(135, 20, 0)","rgb(135, 56, 0)","rgb(97, 71, 0)","rgb(19, 82, 0)","rgb(0, 71, 79)","rgb(0, 58, 140)","rgb(6, 17, 120)","rgb(34, 7, 94)","rgb(120, 6, 80)"],tMe={renderStyle:function(e,o){var s=e,l=s.color,c=s.bgColor,d=o;return l&&_4(d,{color:l}),c&&_4(d,{backgroundColor:c}),d},styleToHtml:function(e,o){if(!Io.isText(e))return o;var s,l=e,c=l.color,d=l.bgColor;return c||d?((que(o)||e5(s=Dt(o))!=="span")&&(s=Dt("<span>"+o+"</span>")),c&&s.css("color",c),d&&s.css("background-color",d),Q_(s)):o},preParseHtml:[J9e],parseStyleHtml:function(e,o,s){var l=Dt(e);if(!Io.isText(o))return o;var c=o,d=Hm(l,"color");d&&(c.color=d);var p=Hm(l,"background-color");return p||(p=Hm(l,"background")),p&&(c.bgColor=p),c},menus:[{key:"color",factory:function(){return new Q9e},config:{colors:kve}},{key:"bgColor",factory:function(){return new eMe},config:{colors:kve}}]},nMe=function(e){if(typeof e!="string")return!1;var o=e.match(oMe);if(!o)return!1;var s=o[1];return s?!!(rMe.test(s)||sMe.test(s)):!1},oMe=/^(?:\w+:)?\/\/(\S+)$/,rMe=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,sMe=/^[^\s\.]+\.\S{2,}$/,aMe=gxe.includes;function mq(e){return e===void 0&&(e="r"),e+"-"+eCe()}function Zue(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Uxe(e,o,s,l){return OC(this,void 0,void 0,function(){var c,d;return _C(this,function(p){switch(p.label){case 0:return(c=o.getMenuConfig(e).checkLink)?[4,c(s,l)]:[3,2];case 1:if(typeof(d=p.sent())=="string")return o.alert(d,"error"),[2,!1];if(d==null)return[2,!1];p.label=2;case 2:return[2,!0]}})})}function Wxe(e,o,s){return OC(this,void 0,void 0,function(){var l;return _C(this,function(c){switch(c.label){case 0:return(l=o.getMenuConfig(e).parseLinkUrl)?[4,l(s)]:[3,2];case 1:return[2,c.sent()];case 2:return[2,s]}})})}function Gue(e){return e.selection==null||!!St.getSelectedElems(e).some(function(o){var s=o.type;return!!e.isVoid(o)||!!["pre","code","link"].includes(s)||void 0})}function ere(e,o){return{type:"link",url:Zue(e),children:o?[{text:o}]:[]}}function qxe(e,o,s){return OC(this,void 0,void 0,function(){var l,c,d;return _C(this,function(p){switch(p.label){case 0:return s?(o||(o=s),e.restoreSelection(),Gue(e)?[2]:[4,Uxe("insertLink",e,o,s)]):[2];case 1:return p.sent()?[4,Wxe("insertLink",e,s)]:[2];case 2:return l=p.sent(),(c=e.selection)==null?[2]:(yn.isCollapsed(c)?(e.insertText(" "),d=ere(l,o),Jt.insertNodes(e,d),e.insertFragment([{text:" "}])):ze.string(e,c)!==o?(e.deleteFragment(),d=ere(l,o),Jt.insertNodes(e,d)):(d=ere(l),Jt.wrapNodes(e,d,{split:!0}),Jt.collapse(e,{edge:"end"})),[2])}})})}au({target:"Array",proto:!0},{includes:function(e){return aMe(this,e,arguments.length>1?arguments[1]:void 0)}}),Txe("includes");var iMe={type:"link",renderElem:function(e,o,s){var l=e,c=l.url,d=l.target;return ds("a",{href:c,target:d===void 0?"_blank":d},o)}},lMe={type:"link",elemToHtml:function(e,o){var s=e,l=s.url,c=s.target;return'<a href="'+l+'" target="'+(c===void 0?"_blank":c)+'">'+o+"</a>"}},cMe={selector:"a:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e);return(o=o.filter(function(c){return!!Io.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"link",url:l.attr("href")||"",target:l.attr("target")||"",children:o}}};function tre(){return mq("w-e-insert-link")}var uMe=function(){function e(){this.title=Co("link.insert"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M440.224 635.776a51.84 51.84 0 0 1-36.768-15.232c-95.136-95.136-95.136-249.92 0-345.056l192-192C641.536 37.408 702.816 12.032 768 12.032s126.432 25.376 172.544 71.456c95.136 95.136 95.136 249.92 0 345.056l-87.776 87.776a51.968 51.968 0 1 1-73.536-73.536l87.776-87.776a140.16 140.16 0 0 0 0-197.984c-26.432-26.432-61.6-40.992-99.008-40.992s-72.544 14.56-99.008 40.992l-192 192a140.16 140.16 0 0 0 0 197.984 51.968 51.968 0 0 1-36.768 88.768z"></path><path d="M256 1012a242.4 242.4 0 0 1-172.544-71.456c-95.136-95.136-95.136-249.92 0-345.056l87.776-87.776a51.968 51.968 0 1 1 73.536 73.536l-87.776 87.776a140.16 140.16 0 0 0 0 197.984c26.432 26.432 61.6 40.992 99.008 40.992s72.544-14.56 99.008-40.992l192-192a140.16 140.16 0 0 0 0-197.984 51.968 51.968 0 1 1 73.536-73.536c95.136 95.136 95.136 249.92 0 345.056l-192 192A242.4 242.4 0 0 1 256 1012z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.textInputId=tre(),this.urlInputId=tre(),this.buttonId=tre()}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return Gue(o)},e.prototype.getModalPositionNode=function(o){return null},e.prototype.getModalContentElem=function(o){var s=o.selection,l=this,c=l.textInputId,d=l.urlInputId,p=l.buttonId,v=pa(Qh(Co("link.text"),c),2),y=v[0],S=v[1],x=Dt(S),T=pa(Qh(Co("link.url"),d),2),k=T[0],A=T[1],F=Dt(A),N=pa(K_(p,Co("common.ok")),1)[0];if(this.$content==null){var D=Dt("<div></div>");D.on("click","#"+p,function(P){P.preventDefault();var I=D.find("#"+c).val(),z=D.find("#"+d).val();qxe(o,I,z),o.hidePanelOrModal()}),this.$content=D}var B=this.$content;if(B.empty(),B.append(y),B.append(k),B.append(N),s==null||yn.isCollapsed(s))x.val("");else{var O=ze.string(o,s);x.val(O)}return F.val(""),setTimeout(function(){x.focus()}),B[0]},e}();function Ave(){return mq("w-e-update-link")}var fMe=function(){function e(){this.title=Co("link.edit"),this.iconSvg=Fxe,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.urlInputId=Ave(),this.buttonId=Ave()}return e.prototype.getSelectedLinkElem=function(o){var s=St.getSelectedNodeByType(o,"link");return s==null?null:s},e.prototype.getValue=function(o){var s=this.getSelectedLinkElem(o);return s&&s.url||""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedLinkElem(o)==null},e.prototype.getModalPositionNode=function(o){return St.getSelectedNodeByType(o,"link")},e.prototype.getModalContentElem=function(o){var s=this.urlInputId,l=this.buttonId,c=pa(Qh(Co("link.url"),s),2),d=c[0],p=c[1],v=Dt(p),y=pa(K_(l,Co("common.ok")),1)[0];if(this.$content==null){var S=Dt("<div></div>");S.on("click","button",function(k){k.preventDefault(),o.restoreSelection();var A=St.getSelectedNodeByType(o,"link"),F=A?yo.string(A):"",N=S.find("#"+s).val();(function(D,B,O){OC(this,void 0,void 0,function(){var P,I;return _C(this,function(z){switch(z.label){case 0:return O?[4,Uxe("editLink",D,B,O)]:[2];case 1:return z.sent()?[4,Wxe("editLink",D,O)]:[2];case 2:return P=z.sent(),I={url:Zue(P)},Jt.setNodes(D,I,{match:function(K){return St.checkNodeType(K,"link")}}),[2]}})})})(o,F,N),o.hidePanelOrModal()}),this.$content=S}var x=this.$content;x.empty(),x.append(d),x.append(y);var T=this.getValue(o);return v.val(T),setTimeout(function(){v.focus()}),x[0]},e}(),dMe=function(){function e(){this.title=Co("link.unLink"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||St.getSelectedNodeByType(o,"link")==null},e.prototype.exec=function(o,s){this.isDisabled(o)||Jt.unwrapNodes(o,{match:function(l){return St.checkNodeType(l,"link")}})},e}(),hMe=function(){function e(){this.title=Co("link.view"),this.iconSvg=Rxe,this.tag="button"}return e.prototype.getSelectedLinkElem=function(o){var s=St.getSelectedNodeByType(o,"link");return s==null?null:s},e.prototype.getValue=function(o){var s=this.getSelectedLinkElem(o);return s&&s.url||""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedLinkElem(o)==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){if(!s||typeof s!="string")throw new Error("View link failed, link url is '"+s+"'");window.open(s,"_blank")}},e}(),Tve={checkLink:function(e,o){return!0},parseLinkUrl:function(e){return e}},pMe={renderElems:[iMe],elemsToHtml:[lMe],parseElemsHtml:[cMe],menus:[{key:"insertLink",factory:function(){return new uMe},config:Tve},{key:"editLink",factory:function(){return new fMe},config:Tve},{key:"unLink",factory:function(){return new dMe}},{key:"viewLink",factory:function(){return new hMe}}],editorPlugin:function(e){var o=e.isInline,s=e.insertData,l=e.normalizeNode;e.insertNode,e.insertText;var c=e;return c.isInline=function(d){return d.type==="link"||o(d)},c.insertData=function(d){var p=d.getData("text/plain");if(nMe(p)){if(!Gue(c)){var v=c.selection;if(v!=null){var y=ze.string(c,v);qxe(c,y,p)}}}else s(d)},c.normalizeNode=function(d){var p=pa(d,2),v=p[0],y=p[1];return St.getNodeType(v)!=="link"?l([v,y]):yo.string(v)===""?Jt.removeNodes(c,{at:y}):l([v,y])},c}},gMe=es(1 .valueOf),mMe=ys.RangeError,vMe=ys.RangeError,Zxe=ys.String,Gxe=Math.floor,xie=es(function(e){var o=Al(gg(this)),s="",l=J_(e);if(l<0||l==1/0)throw mMe("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))1&l&&(s+=o);return s}),Ove=es("".slice),PB=es(1 .toFixed),n_=function(e,o,s){return o===0?s:o%2==1?n_(e,o-1,s*e):n_(e*e,o/2,s)},DO=function(e,o,s){for(var l=-1,c=s;++l<6;)c+=o*e[l],e[l]=c%1e7,c=Gxe(c/1e7)},nre=function(e,o){for(var s=6,l=0;--s>=0;)l+=e[s],e[s]=Gxe(l/o),l=l%o*1e7},_ve=function(e){for(var o=6,s="";--o>=0;)if(s!==""||o===0||e[o]!==0){var l=Zxe(e[o]);s=s===""?l:s+xie("0",7-l.length)+l}return s};function Kxe(e,o){return"w-e-image-container-"+St.findKey(e,o).id}function bMe(e,o,s,l){var c=Dt("body"),d=Kxe(e,o),p=l.width,v=l.height,y=0,S=0,x=0,T=!1,k=null;function A(B){k=function(){var I=Dt("#"+d);if(I.length===0)throw new Error("Cannot find image container elem");return I}(),y=B;var O=k.find("img");if(O.length===0)throw new Error("Cannot find image elem");S=O.width(),x=O.height(),c.on("mousemove",F),c.on("mouseup",N);var P=St.getHoverbar(e);P&&P.hideAndClean()}var F=x4(function(B){B.preventDefault();var O=B.clientX,P=S+(T?y-O:O-y),I=x*(P/S);k!=null&&(P<=15||I<=15||(k.css("width",P+"px"),k.css("height",I+"px")))},100);function N(B){if(c.off("mousemove",F),k!=null){var O=k.width().toFixed(2),P=k.height().toFixed(2),I={style:bC(bC({},o.style),{width:O+"px",height:P+"px"})};Jt.setNodes(e,I,{at:St.findPath(e,o)}),c.off("mouseup",N)}}var D={};return p&&(D.width=p),v&&(D.height=v),ds("div",{id:d,style:D,className:"w-e-image-container w-e-selected-image-container",on:{mousedown:function(B){var O=Dt(B.target);O.hasClass("w-e-image-dragger")&&(B.preventDefault(),(O.hasClass("left-top")||O.hasClass("left-bottom"))&&(T=!0),A(B.clientX))}}},s,ds("div",{className:"w-e-image-dragger left-top"}),ds("div",{className:"w-e-image-dragger right-top"}),ds("div",{className:"w-e-image-dragger left-bottom"}),ds("div",{className:"w-e-image-dragger right-bottom"}))}au({target:"Number",proto:!0,forced:_l(function(){return PB(8e-5,3)!=="0.000"||PB(.9,0)!=="1"||PB(1.255,2)!=="1.25"||PB(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!_l(function(){PB({})})},{toFixed:function(e){var o,s,l,c,d=gMe(this),p=J_(e),v=[0,0,0,0,0,0],y="",S="0";if(p<0||p>20)throw vMe("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return Zxe(d);if(d<0&&(y="-",d=-d),d>1e-21)if(s=(o=function(x){for(var T=0,k=x;k>=4096;)T+=12,k/=4096;for(;k>=2;)T+=1,k/=2;return T}(d*n_(2,69,1))-69)<0?d*n_(2,-o,1):d/n_(2,o,1),s*=4503599627370496,(o=52-o)>0){for(DO(v,0,s),l=p;l>=7;)DO(v,1e7,0),l-=7;for(DO(v,n_(10,l,1),0),l=o-1;l>=23;)nre(v,1<<23),l-=23;nre(v,1<<l),DO(v,1,1),nre(v,2),S=_ve(v)}else DO(v,0,s),DO(v,1<<-o,0),S=_ve(v)+xie("0",p);return S=p>0?y+((c=S.length)<=p?"0."+xie("0",p-c)+S:Ove(S,0,c-p)+"."+Ove(S,c-p)):y+S}});var yMe={type:"image",renderElem:function(e,o,s){var l=e,c=l.src,d=l.alt,p=d===void 0?"":d,v=l.href,y=v===void 0?"":v,S=l.style,x=S===void 0?{}:S,T=x.width,k=T===void 0?"":T,A=x.height,F=A===void 0?"":A,N=St.isNodeSelected(s,e),D={};k&&(D.width="100%"),F&&(D.height="100%");var B=ds("img",{style:D,src:c,alt:p,"data-href":y}),O=s.isDisabled();return N&&!O?bMe(s,e,B,{width:k,height:F}):function(P,I,z,K){var j=K.width,oe=K.height,ke={};j&&(ke.width=j),oe&&(ke.height=oe);var ae=Kxe(P,I);return ds("div",{id:ae,style:ke,className:"w-e-image-container"},z)}(s,e,B,{width:k,height:F})}},wMe={type:"image",elemToHtml:function(e,o){var s=e,l=s.src,c=s.alt,d=c===void 0?"":c,p=s.href,v=p===void 0?"":p,y=s.style,S=y===void 0?{}:y,x=S.width,T=x===void 0?"":x,k=S.height,A=k===void 0?"":k,F="";return T&&(F+="width: "+T+";"),A&&(F+="height: "+A+";"),'<img src="'+l+'" alt="'+d+'" data-href="'+v+'" style="'+F+'"/>'}},CMe={selector:"img:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e),c=l.attr("data-href")||"";return c=decodeURIComponent(c),{type:"image",src:l.attr("src")||"",alt:l.attr("alt")||"",href:c,style:{width:Hm(l,"width"),height:Hm(l,"height")},children:[{text:""}]}}};function Yxe(e,o,s,l,c){return l===void 0&&(l=""),c===void 0&&(c=""),OC(this,void 0,void 0,function(){var d,p;return _C(this,function(v){switch(v.label){case 0:return(d=o.getMenuConfig(e).checkImage)?[4,d(s,l,c)]:[3,2];case 1:if(typeof(p=v.sent())=="string")return o.alert(p,"error"),[2,!1];if(p==null)return[2,!1];v.label=2;case 2:return[2,!0]}})})}function Xxe(e,o,s){return OC(this,void 0,void 0,function(){var l;return _C(this,function(c){switch(c.label){case 0:return(l=o.getMenuConfig(e).parseImageSrc)?[4,l(s)]:[3,2];case 1:return[2,c.sent()];case 2:return[2,s]}})})}function l4(e,o,s,l){return s===void 0&&(s=""),l===void 0&&(l=""),OC(this,void 0,void 0,function(){var c,d,p;return _C(this,function(v){switch(v.label){case 0:return[4,Yxe("insertImage",e,o,s,l)];case 1:return v.sent()?[4,Xxe("insertImage",e,o)]:[2];case 2:return c=v.sent(),d={type:"image",src:Zue(c),href:l,alt:s,style:{},children:[{text:""}]},e.selection===null&&e.restoreSelection(),St.getSelectedNodeByType(e,"image")&&e.move(1),vq(e)?[2]:(Jt.insertNodes(e,d),(p=e.getMenuConfig("insertImage").onInsertedImage)&&p(d),[2])}})})}function SMe(e,o,s,l,c){return s===void 0&&(s=""),l===void 0&&(l=""),c===void 0&&(c={}),OC(this,void 0,void 0,function(){var d,p,v,y,S,x;return _C(this,function(T){switch(T.label){case 0:return[4,Yxe("editImage",e,o,s,l)];case 1:return T.sent()?[4,Xxe("editImage",e,o)]:[2];case 2:return d=T.sent(),(p=St.getSelectedNodeByType(e,"image"))==null?[2]:(v=p.style,y={src:d,alt:s,href:l,style:bC(bC({},v===void 0?{}:v),c)},Jt.setNodes(e,y,{match:function(k){return St.checkNodeType(k,"image")}}),S=St.getSelectedNodeByType(e,"image"),(x=e.getMenuConfig("editImage").onUpdatedImage)&&x(S),[2])}})})}function vq(e){var o=e.selection;return o==null||!yn.isCollapsed(o)||!!pa(ze.nodes(e,{match:function(s){var l=St.getNodeType(s);return l==="code"||l==="pre"||l==="link"||l==="list-item"||!!l.startsWith("header")||l==="blockquote"||!!ze.isVoid(e,s)},universal:!0}),1)[0]}function Wz(){return mq("w-e-insert-image")}var xMe=function(){function e(){this.title=Co("image.netImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=Wz(),this.altInputId=Wz(),this.hrefInputId=Wz(),this.buttonId=Wz()}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return vq(o)},e.prototype.getModalPositionNode=function(o){return null},e.prototype.getModalContentElem=function(o){var s=this,l=this,c=l.srcInputId,d=l.altInputId,p=l.hrefInputId,v=l.buttonId,y=pa(Qh(Co("image.src"),c),2),S=y[0],x=y[1],T=Dt(x),k=pa(Qh(Co("image.desc"),d),2),A=k[0],F=k[1],N=Dt(F),D=pa(Qh(Co("image.link"),p),2),B=D[0],O=D[1],P=Dt(O),I=pa(K_(v,Co("common.ok")),1)[0];if(this.$content==null){var z=Dt("<div></div>");z.on("click","#"+v,function(j){j.preventDefault();var oe=z.find("#"+c).val().trim(),ke=z.find("#"+d).val().trim(),ae=z.find("#"+p).val().trim();s.insertImage(o,oe,ke,ae),o.hidePanelOrModal()}),this.$content=z}var K=this.$content;return K.empty(),K.append(S),K.append(A),K.append(B),K.append(I),T.val(""),N.val(""),P.val(""),setTimeout(function(){T.focus()}),K[0]},e.prototype.insertImage=function(o,s,l,c){l===void 0&&(l=""),c===void 0&&(c=""),s&&(o.restoreSelection(),this.isDisabled(o)||l4(o,s,l,c))},e}(),EMe=function(){function e(){this.title=Co("image.delete"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||St.getSelectedNodeByType(o,"image")==null},e.prototype.exec=function(o,s){this.isDisabled(o)||Jt.removeNodes(o,{match:function(l){return St.checkNodeType(l,"image")}})},e}();function qz(){return mq("w-e-edit-image")}var kMe=function(){function e(){this.title=Co("image.edit"),this.iconSvg=Fxe,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=qz(),this.altInputId=qz(),this.hrefInputId=qz(),this.buttonId=qz()}return e.prototype.getValue=function(o){return""},e.prototype.getImageNode=function(o){return St.getSelectedNodeByType(o,"image")},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"image")==null},e.prototype.getModalPositionNode=function(o){return this.getImageNode(o)},e.prototype.getModalContentElem=function(o){var s=this,l=this,c=l.srcInputId,d=l.altInputId,p=l.hrefInputId,v=l.buttonId,y=this.getImageNode(o);if(y==null)throw new Error("Not found selected image node");var S=pa(Qh(Co("image.src"),c),2),x=S[0],T=S[1],k=Dt(T),A=pa(Qh(Co("image.desc"),d),2),F=A[0],N=A[1],D=Dt(N),B=pa(Qh(Co("image.link"),p),2),O=B[0],P=B[1],I=Dt(P),z=pa(K_(v,Co("common.ok")),1)[0];if(this.$content==null){var K=Dt("<div></div>");K.on("click","#"+v,function(pe){pe.preventDefault();var be=K.find("#"+c).val(),qe=K.find("#"+d).val(),U=K.find("#"+p).val();s.updateImage(o,be,qe,U),o.hidePanelOrModal()}),this.$content=K}var j=this.$content;j.empty(),j.append(x),j.append(F),j.append(O),j.append(z);var oe=y,ke=oe.src,ae=oe.alt,Q=ae===void 0?"":ae,G=oe.href,ue=G===void 0?"":G;return k.val(ke),D.val(Q),I.val(ue),setTimeout(function(){k.focus()}),j[0]},e.prototype.updateImage=function(o,s,l,c,d){l===void 0&&(l=""),c===void 0&&(c=""),d===void 0&&(d={}),s&&(o.restoreSelection(),this.isDisabled(o)||SMe(o,s,l,c,d))},e}(),AMe=function(){function e(){this.title=Co("image.viewLink"),this.iconSvg=Rxe,this.tag="button"}return e.prototype.getValue=function(o){var s=St.getSelectedNodeByType(o,"image");return s&&s.href||""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||!this.getValue(o)},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){if(!s||typeof s!="string")throw new Error("View image link failed, image.href is '"+s+"'");window.open(s,"_blank")}},e}(),Kue=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.getSelectedNode=function(o){return St.getSelectedNodeByType(o,"image")},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedNode(o)==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=this.getSelectedNode(o);if(l!=null){var c=St.getHoverbar(o);c&&c.hideAndClean();var d=l.style,p={style:bC(bC({},d===void 0?{}:d),{width:this.value,height:""})};Jt.setNodes(o,p,{match:function(v){return St.checkNodeType(v,"image")}})}}},e}(),TMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="30%",s.value="30%",s}return ul(o,e),o}(Kue),OMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="50%",s.value="50%",s}return ul(o,e),o}(Kue),_Me=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="100%",s.value="100%",s}return ul(o,e),o}(Kue),$ve={onInsertedImage:function(e){},onUpdatedImage:function(e){},checkImage:function(e,o,s){return!0},parseImageSrc:function(e){return e}},$Me={renderElems:[yMe],elemsToHtml:[wMe],parseElemsHtml:[CMe],menus:[{key:"insertImage",factory:function(){return new xMe},config:$ve},{key:"deleteImage",factory:function(){return new EMe}},{key:"editImage",factory:function(){return new kMe},config:$ve},{key:"viewImageLink",factory:function(){return new AMe}},{key:"imageWidth30",factory:function(){return new TMe}},{key:"imageWidth50",factory:function(){return new OMe}},{key:"imageWidth100",factory:function(){return new _Me}}],editorPlugin:function(e){var o=e.isInline,s=e.isVoid;e.insertNode;var l=e;return l.isInline=function(c){return c.type==="image"||o(c)},l.isVoid=function(c){return c.type==="image"||s(c)},l}},DMe={type:"todo",renderElem:function(e,o,s){var l=!1;s.isDisabled()&&(l=!0);var c=e.checked,d=ds("div",{style:{margin:"5px 0"}},ds("span",{contentEditable:!1,style:{marginRight:"0.5em"}},ds("input",{type:"checkbox",checked:c,disabled:l,on:{change:function(p){var v=St.findPath(s,e),y={checked:p.target.checked};Jt.setNodes(s,y,{at:v})}}})),ds("span",null,o));return d}},BMe=function(){function e(){this.title=Co("todo.todo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M278.755556 403.911111l-79.644445 79.644445L455.111111 739.555556l568.888889-568.888889-79.644444-79.644445L455.111111 580.266667l-176.355555-176.355556zM910.222222 910.222222H113.777778V113.777778h568.888889V0H113.777778C51.2 0 0 51.2 0 113.777778v796.444444c0 62.577778 51.2 113.777778 113.777778 113.777778h796.444444c62.577778 0 113.777778-51.2 113.777778-113.777778V455.111111h-113.777778v455.111111z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!!St.getSelectedNodeByType(o,"todo")},e.prototype.isDisabled=function(o){return o.selection==null||!!St.getSelectedElems(o).some(function(s){if(ze.isVoid(o,s)&&ze.isBlock(o,s))return!0;var l=s.type;return!!["pre","table","bulleted-list","numbered-list"].includes(l)||void 0})},e.prototype.exec=function(o,s){var l=this.isActive(o);Jt.setNodes(o,{type:l?"paragraph":"todo"})},e}(),NMe={selector:'div[data-w-e-type="todo"]',parseElemHtml:function(e,o,s){var l=Dt(e);(o=o.filter(function(d){return!!Io.isText(d)||!!s.isInline(d)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]);var c=!1;return l.find('input[type="checkbox"]').attr("checked")!=null&&(c=!0),{type:"todo",checked:c,children:o}}},PMe={renderElems:[DMe],elemsToHtml:[{type:"todo",elemToHtml:function(e,o){return'<div data-w-e-type="todo"><input type="checkbox" disabled '+(e.checked?"checked":"")+">"+o+"</div>"}}],preParseHtml:[{selector:"ul.w-e-todo",preParseHtml:function(e){var o=Dt(e).find("li"),s=Dt('<div data-w-e-type="todo"></div>'),l=o.find("input[type]");return s.append(l),o.children()[0].remove(),s[0].innerHTML=s[0].innerHTML+o[0].innerHTML,s[0]}}],parseElemsHtml:[NMe],menus:[{key:"todo",factory:function(){return new BMe}}],editorPlugin:function(e){var o=e.deleteBackward,s=e;return s.deleteBackward=function(l){var c=e.selection;if(c&&yn.isCollapsed(c)){var d=St.getSelectedNodeByType(e,"todo");if(d&&yo.string(d).length===0)return void Jt.setNodes(e,{type:"paragraph"},{mode:"highest"})}o(l)},s}},FMe={type:"blockquote",renderElem:function(e,o,s){return ds("blockquote",null,o)}},RMe={type:"blockquote",elemToHtml:function(e,o){return"<blockquote>"+o+"</blockquote>"}},MMe={selector:"blockquote:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e);return(o=o.filter(function(c){return!!Io.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"blockquote",children:o}}},IMe=function(){function e(){this.title=Co("blockQuote.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M894.6 907.1H605.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C752.7 180.4 711.3 315.8 711.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z m-472 0H133.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C280.7 180.4 239.3 315.8 239.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!!St.getSelectedNodeByType(o,"blockquote")},e.prototype.isDisabled=function(o){return o.selection==null||!pa(ze.nodes(o,{match:function(s){var l=St.getNodeType(s);return l==="paragraph"||l==="blockquote"},universal:!0,mode:"highest"}),1)[0]},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=this.isActive(o)?"paragraph":"blockquote";Jt.setNodes(o,{type:l},{mode:"highest"})}},e}(),LMe={key:"blockquote",factory:function(){return new IMe}},HMe=es([].slice),jMe=jue("slice"),zMe=lp("species"),ore=ys.Array,VMe=Math.max;au({target:"Array",proto:!0,forced:!jMe},{slice:function(e,o){var s,l,c,d=Y_(this),p=pq(d),v=iP(e,p),y=iP(o===void 0?p:o,p);if(DU(d)&&(s=d.constructor,(Hue(s)&&(s===ore||DU(s.prototype))||sg(s)&&(s=s[zMe])===null)&&(s=void 0),s===ore||s===void 0))return HMe(d,v,y);for(l=new(s===void 0?ore:s)(VMe(y-v,0)),c=0;v<y;v++,c++)v in d&&_xe(l,c,d[v]);return l.length=c,l}});var UMe={renderElems:[FMe],elemsToHtml:[RMe],parseElemsHtml:[MMe],menus:[LMe],editorPlugin:function(e){var o=e.insertBreak,s=e.insertText,l=e;return l.insertBreak=function(){var c=l.selection;if(c==null)return o();var d=pa(ze.nodes(e,{match:function(x){return St.checkNodeType(x,"blockquote")},universal:!0}),1)[0];if(!d)return o();var p=d[0],v=St.findPath(e,p),y=ze.end(e,v);if(Ds.equals(y,c.focus)){var S=yo.string(p);if(S&&S.slice(-1)===`
`)return e.deleteBackward("character"),void Jt.insertNodes(l,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}s(`
`)},l}},WMe=function(){function e(){this.title=Co("emotion.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.exec=function(o,s){},e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||!!pa(ze.nodes(o,{match:function(s){return St.getNodeType(s)==="pre"||!!ze.isVoid(o,s)},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(o){if(this.$content==null){var s=Dt('<ul class="w-e-panel-content-emotion"></ul>');s.on("click","li",function(d){var p=d.target;if(p!=null){d.preventDefault();var v=Dt(p).text();o.insertText(v)}}),this.$content=s}var l=this.$content;if(l==null)return document.createElement("ul");l.empty();var c=o.getMenuConfig("emotion").emotions;return(c===void 0?[]:c).forEach(function(d){var p=Dt("<li>"+d+"</li>");l.append(p)}),l[0]},e}(),qMe={menus:[{key:"emotion",factory:function(){return new WMe},config:{emotions:"\u{1F600} \u{1F603} \u{1F604} \u{1F601} \u{1F606} \u{1F605} \u{1F602} \u{1F923} \u{1F60A} \u{1F607} \u{1F642} \u{1F643} \u{1F609} \u{1F60C} \u{1F60D} \u{1F618} \u{1F617} \u{1F619} \u{1F61A} \u{1F60B} \u{1F61B} \u{1F61D} \u{1F61C} \u{1F913} \u{1F60E} \u{1F60F} \u{1F612} \u{1F61E} \u{1F614} \u{1F61F} \u{1F615} \u{1F641} \u{1F623} \u{1F616} \u{1F62B} \u{1F629} \u{1F622} \u{1F62D} \u{1F624} \u{1F620} \u{1F621} \u{1F633} \u{1F631} \u{1F628} \u{1F917} \u{1F914} \u{1F636} \u{1F611} \u{1F62C} \u{1F644} \u{1F62F} \u{1F634} \u{1F637} \u{1F911} \u{1F608} \u{1F921} \u{1F4A9} \u{1F47B} \u{1F480} \u{1F440} \u{1F463} \u{1F450} \u{1F64C} \u{1F44F} \u{1F91D} \u{1F44D} \u{1F44E} \u{1F44A} \u270A \u{1F91B} \u{1F91C} \u{1F91E} \u270C\uFE0F \u{1F918} \u{1F44C} \u{1F448} \u{1F449} \u{1F446} \u{1F447} \u261D\uFE0F \u270B \u{1F91A} \u{1F590} \u{1F596} \u{1F44B} \u{1F919} \u{1F4AA} \u{1F595} \u270D\uFE0F \u{1F64F}".split(" ")}}]},ZMe={1:"12px",2:"14px",3:"16px",4:"19px",5:"24px",6:"32px",7:"48px"},GMe={selector:"font",preParseHtml:function(e){var o=Dt(e);if(e5(o)!=="font")return e;var s=o.attr("size")||"";s&&(o.removeAttr("size"),o.css("font-size",ZMe[s]));var l=o.attr("face")||"";return l&&(o.removeAttr("face"),o.css("font-family",l)),o[0]}},KMe=es("".indexOf);au({target:"String",proto:!0,forced:!Lxe("includes")},{includes:function(e){return!!~KMe(Al(gg(this)),Al(Ixe(e)),arguments.length>1?arguments[1]:void 0)}});var $w,NV,Zz=function(e){return e&&e.Math==Math&&e},Fs=Zz(typeof globalThis=="object"&&globalThis)||Zz(typeof window=="object"&&window)||Zz(typeof self=="object"&&self)||Zz(typeof TU=="object"&&TU)||function(){return this}()||Function("return this")(),Yue=Function.prototype,Dve=Yue.apply,YMe=Yue.bind,Bve=Yue.call,Jxe=typeof Reflect=="object"&&Reflect.apply||(YMe?Bve.bind(Dve):function(){return Bve.apply(Dve,arguments)}),Qxe=Function.prototype,Eie=Qxe.bind,kie=Qxe.call,XMe=Eie&&Eie.bind(kie),nc=Eie?function(e){return e&&XMe(kie,e)}:function(e){return e&&function(){return kie.apply(e,arguments)}},nf=function(e){return typeof e=="function"},sp=function(e){try{return!!e()}catch{return!0}},Jd=!sp(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),FB=Function.prototype.call,Rm=FB.bind?FB.bind(FB):function(){return FB.apply(FB,arguments)},Nve={}.propertyIsEnumerable,Pve=Object.getOwnPropertyDescriptor,JMe=Pve&&!Nve.call({1:2},1)?function(e){var o=Pve(this,e);return!!o&&o.enumerable}:Nve,Xue={f:JMe},$4=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},QMe=nc({}.toString),eIe=nc("".slice),c4=function(e){return eIe(QMe(e),8,-1)},rre=Fs.Object,tIe=nc("".split),eEe=sp(function(){return!rre("z").propertyIsEnumerable(0)})?function(e){return c4(e)=="String"?tIe(e,""):rre(e)}:rre,nIe=Fs.TypeError,Jue=function(e){if(e==null)throw nIe("Can't call method on "+e);return e},Zv=function(e){return eEe(Jue(e))},ag=function(e){return typeof e=="object"?e!==null:nf(e)},ng={},Fve=function(e){return nf(e)?e:void 0},YP=function(e,o){return arguments.length<2?Fve(ng[e])||Fve(Fs[e]):ng[e]&&ng[e][o]||Fs[e]&&Fs[e][o]},tEe=nc({}.isPrototypeOf),sre=YP("navigator","userAgent")||"",Rve=Fs.process,Mve=Fs.Deno,Ive=Rve&&Rve.versions||Mve&&Mve.version,Lve=Ive&&Ive.v8;Lve&&(NV=($w=Lve.split("."))[0]>0&&$w[0]<4?1:+($w[0]+$w[1])),!NV&&sre&&(!($w=sre.match(/Edge\/(\d+)/))||$w[1]>=74)&&($w=sre.match(/Chrome\/(\d+)/))&&(NV=+$w[1]);var PU=NV,Av=!!Object.getOwnPropertySymbols&&!sp(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&PU&&PU<41}),Que=Av&&!Symbol.sham&&typeof Symbol.iterator=="symbol",oIe=Fs.Object,u_=Que?function(e){return typeof e=="symbol"}:function(e){var o=YP("Symbol");return nf(o)&&tEe(o.prototype,oIe(e))},rIe=Fs.String,sIe=Fs.TypeError,nEe=function(e){if(nf(e))return e;throw sIe(function(o){try{return rIe(o)}catch{return"Object"}}(e)+" is not a function")},aIe=Fs.TypeError,iIe=Object.defineProperty,nC=Fs["__core-js_shared__"]||function(e,o){try{iIe(Fs,e,{value:o,configurable:!0,writable:!0})}catch{Fs[e]=o}return o}("__core-js_shared__",{}),U4=uq(function(e){(e.exports=function(o,s){return nC[o]||(nC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"pure",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),lIe=Fs.Object,XP=function(e){return lIe(Jue(e))},cIe=nc({}.hasOwnProperty),ha=Object.hasOwn||function(e,o){return cIe(XP(e),o)},uIe=0,fIe=Math.random(),dIe=nc(1 .toString),FU=function(e){return"Symbol("+(e===void 0?"":e)+")_"+dIe(++uIe+fIe,36)},RB=U4("wks"),u4=Fs.Symbol,Hve=u4&&u4.for,hIe=Que?u4:u4&&u4.withoutSetter||FU,cp=function(e){if(!ha(RB,e)||!Av&&typeof RB[e]!="string"){var o="Symbol."+e;Av&&ha(u4,e)?RB[e]=u4[e]:RB[e]=Que&&Hve?Hve(o):hIe(o)}return RB[e]},pIe=Fs.TypeError,gIe=cp("toPrimitive"),mIe=function(e,o){if(!ag(e)||u_(e))return e;var s,l,c=(s=e[gIe])==null?void 0:nEe(s);if(c){if(o===void 0&&(o="default"),l=Rm(c,e,o),!ag(l)||u_(l))return l;throw pIe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(d,p){var v,y;if(p==="string"&&nf(v=d.toString)&&!ag(y=Rm(v,d))||nf(v=d.valueOf)&&!ag(y=Rm(v,d))||p!=="string"&&nf(v=d.toString)&&!ag(y=Rm(v,d)))return y;throw aIe("Can't convert object to primitive value")}(e,o)},t5=function(e){var o=mIe(e,"string");return u_(o)?o:o+""},Aie=Fs.document,vIe=ag(Aie)&&ag(Aie.createElement),oEe=function(e){return vIe?Aie.createElement(e):{}},rEe=!Jd&&!sp(function(){return Object.defineProperty(oEe("div"),"a",{get:function(){return 7}}).a!=7}),jve=Object.getOwnPropertyDescriptor,efe={f:Jd?jve:function(e,o){if(e=Zv(e),o=t5(o),rEe)try{return jve(e,o)}catch{}if(ha(e,o))return $4(!Rm(Xue.f,e,o),e[o])}},bIe=/#|\.prototype\./,JP=function(e,o){var s=wIe[yIe(e)];return s==SIe||s!=CIe&&(nf(o)?sp(o):!!o)},yIe=JP.normalize=function(e){return String(e).replace(bIe,".").toLowerCase()},wIe=JP.data={},CIe=JP.NATIVE="N",SIe=JP.POLYFILL="P",xIe=JP,zve=nc(nc.bind),sEe=function(e,o){return nEe(e),o===void 0?e:zve?zve(e,o):function(){return e.apply(o,arguments)}},EIe=Fs.String,kIe=Fs.TypeError,D4=function(e){if(ag(e))return e;throw kIe(EIe(e)+" is not an object")},AIe=Fs.TypeError,Vve=Object.defineProperty,W4={f:Jd?Vve:function(e,o,s){if(D4(e),o=t5(o),D4(s),rEe)try{return Vve(e,o,s)}catch{}if("get"in s||"set"in s)throw AIe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},Ov=Jd?function(e,o,s){return W4.f(e,o,$4(1,s))}:function(e,o,s){return e[o]=s,e},TIe=efe.f,OIe=function(e){var o=function(s,l,c){if(this instanceof o){switch(arguments.length){case 0:return new e;case 1:return new e(s);case 2:return new e(s,l)}return new e(s,l,c)}return Jxe(e,this,arguments)};return o.prototype=e.prototype,o},Vw=function(e,o){var s,l,c,d,p,v,y,S,x=e.target,T=e.global,k=e.stat,A=e.proto,F=T?Fs:k?Fs[x]:(Fs[x]||{}).prototype,N=T?ng:ng[x]||Ov(ng,x,{})[x],D=N.prototype;for(c in o)s=!xIe(T?c:x+(k?".":"#")+c,e.forced)&&F&&ha(F,c),p=N[c],s&&(v=e.noTargetGet?(S=TIe(F,c))&&S.value:F[c]),d=s&&v?v:o[c],s&&typeof p==typeof d||(y=e.bind&&s?sEe(d,Fs):e.wrap&&s?OIe(d):A&&nf(d)?nc(d):d,(e.sham||d&&d.sham||p&&p.sham)&&Ov(y,"sham",!0),Ov(N,c,y),A&&(ha(ng,l=x+"Prototype")||Ov(ng,l,{}),Ov(ng[l],c,d),e.real&&D&&!D[c]&&Ov(D,c,d)))},RU=Array.isArray||function(e){return c4(e)=="Array"},_Ie=Math.ceil,$Ie=Math.floor,tfe=function(e){var o=+e;return o!=o||o===0?0:(o>0?$Ie:_Ie)(o)},DIe=Math.min,bq=function(e){return(o=e.length)>0?DIe(tfe(o),9007199254740991):0;var o},Tie=function(e,o,s){var l=t5(o);l in e?W4.f(e,l,$4(0,s)):e[l]=s},aEe={};aEe[cp("toStringTag")]="z";var nfe=String(aEe)==="[object z]",BIe=cp("toStringTag"),NIe=Fs.Object,PIe=c4(function(){return arguments}())=="Arguments",yq=nfe?c4:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=NIe(e),BIe))=="string"?s:PIe?c4(o):(l=c4(o))=="Object"&&nf(o.callee)?"Arguments":l},FIe=nc(Function.toString);nf(nC.inspectSource)||(nC.inspectSource=function(e){return FIe(e)});var iEe=nC.inspectSource,lEe=function(){},RIe=[],cEe=YP("Reflect","construct"),ofe=/^\s*(?:class|function)\b/,MIe=nc(ofe.exec),IIe=!ofe.exec(lEe),MB=function(e){if(!nf(e))return!1;try{return cEe(lEe,RIe,e),!0}catch{return!1}},LIe=!cEe||sp(function(){var e;return MB(MB.call)||!MB(Object)||!MB(function(){e=!0})||e})?function(e){if(!nf(e))return!1;switch(yq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return IIe||!!MIe(ofe,iEe(e))}:MB,HIe=cp("species"),Uve=Fs.Array,uEe=function(e,o){return new(function(s){var l;return RU(s)&&(l=s.constructor,(LIe(l)&&(l===Uve||RU(l.prototype))||ag(l)&&(l=l[HIe])===null)&&(l=void 0)),l===void 0?Uve:l}(e))(o===0?0:o)},jIe=cp("species"),fEe=cp("isConcatSpreadable"),Wve=Fs.TypeError,zIe=PU>=51||!sp(function(){var e=[];return e[fEe]=!1,e.concat()[0]!==e}),VIe=function(e){return PU>=51||!sp(function(){var o=[];return(o.constructor={})[jIe]=function(){return{foo:1}},o[e](Boolean).foo!==1})}("concat"),UIe=function(e){if(!ag(e))return!1;var o=e[fEe];return o!==void 0?!!o:RU(e)};Vw({target:"Array",proto:!0,forced:!zIe||!VIe},{concat:function(e){var o,s,l,c,d,p=XP(this),v=uEe(p,0),y=0;for(o=-1,l=arguments.length;o<l;o++)if(UIe(d=o===-1?p:arguments[o])){if(y+(c=bq(d))>9007199254740991)throw Wve("Maximum allowed index exceeded");for(s=0;s<c;s++,y++)s in d&&Tie(v,y,d[s])}else{if(y>=9007199254740991)throw Wve("Maximum allowed index exceeded");Tie(v,y++,d)}return v.length=y,v}});var Gz,WIe=Fs.String,MU=function(e){if(yq(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return WIe(e)},qIe=Math.max,ZIe=Math.min,Oie=function(e,o){var s=tfe(e);return s<0?qIe(s+o,0):ZIe(s,o)},qve=function(e){return function(o,s,l){var c,d=Zv(o),p=bq(d),v=Oie(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},GIe={includes:qve(!0),indexOf:qve(!1)},QP={},KIe=GIe.indexOf,Zve=nc([].push),dEe=function(e,o){var s,l=Zv(e),c=0,d=[];for(s in l)!ha(QP,s)&&ha(l,s)&&Zve(d,s);for(;o.length>c;)ha(l,s=o[c++])&&(~KIe(d,s)||Zve(d,s));return d},IU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],rfe=Object.keys||function(e){return dEe(e,IU)},YIe=Jd?Object.defineProperties:function(e,o){D4(e);for(var s,l=Zv(o),c=rfe(o),d=c.length,p=0;d>p;)W4.f(e,s=c[p++],l[s]);return e},XIe=YP("document","documentElement"),Gve=U4("keys"),wq=function(e){return Gve[e]||(Gve[e]=FU(e))},hEe=wq("IE_PROTO"),are=function(){},pEe=function(e){return"<script>"+e+"<\/script>"},Kve=function(e){e.write(pEe("")),e.close();var o=e.parentWindow.Object;return e=null,o},PV=function(){try{Gz=new ActiveXObject("htmlfile")}catch{}var e,o;PV=typeof document<"u"?document.domain&&Gz?Kve(Gz):((o=oEe("iframe")).style.display="none",XIe.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(pEe("document.F=Object")),e.close(),e.F):Kve(Gz);for(var s=IU.length;s--;)delete PV.prototype[IU[s]];return PV()};QP[hEe]=!0;var LU,DN,HU,B4=Object.create||function(e,o){var s;return e!==null?(are.prototype=D4(e),s=new are,are.prototype=null,s[hEe]=e):s=PV(),o===void 0?s:YIe(s,o)},JIe=IU.concat("length","prototype"),gEe={f:Object.getOwnPropertyNames||function(e){return dEe(e,JIe)}},QIe=Fs.Array,eLe=Math.max,mEe=gEe.f,vEe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],tLe=function(e){try{return mEe(e)}catch{return function(s,l,c){for(var d=bq(s),p=Oie(l,d),v=Oie(c===void 0?d:c,d),y=QIe(eLe(v-p,0)),S=0;p<v;p++,S++)Tie(y,S,s[p]);return y.length=S,y}(vEe)}},bEe={f:function(e){return vEe&&c4(e)=="Window"?tLe(e):mEe(Zv(e))}},ire={f:Object.getOwnPropertySymbols},nLe=nc([].slice),F_=function(e,o,s,l){l&&l.enumerable?e[o]=s:Ov(e,o,s)},sfe={f:cp},oLe=W4.f,mc=function(e){var o=ng.Symbol||(ng.Symbol={});ha(o,e)||oLe(o,e,{value:sfe.f(e)})},rLe=nfe?{}.toString:function(){return"[object "+yq(this)+"]"},sLe=W4.f,Yve=cp("toStringTag"),jU=function(e,o,s,l){if(e){var c=s?e:e.prototype;ha(c,Yve)||sLe(c,Yve,{configurable:!0,value:o}),l&&!nfe&&Ov(c,"toString",rLe)}},Xve=Fs.WeakMap,aLe=nf(Xve)&&/native code/.test(iEe(Xve)),_ie=Fs.TypeError,iLe=Fs.WeakMap;if(aLe||nC.state){var FE=nC.state||(nC.state=new iLe),lLe=nc(FE.get),Jve=nc(FE.has),cLe=nc(FE.set);LU=function(e,o){if(Jve(FE,e))throw new _ie("Object already initialized");return o.facade=e,cLe(FE,e,o),o},DN=function(e){return lLe(FE,e)||{}},HU=function(e){return Jve(FE,e)}}else{var BO=wq("state");QP[BO]=!0,LU=function(e,o){if(ha(e,BO))throw new _ie("Object already initialized");return o.facade=e,Ov(e,BO,o),o},DN=function(e){return ha(e,BO)?e[BO]:{}},HU=function(e){return ha(e,BO)}}var n5={set:LU,get:DN,has:HU,enforce:function(e){return HU(e)?DN(e):LU(e,{})},getterFor:function(e){return function(o){var s;if(!ag(o)||(s=DN(o)).type!==e)throw _ie("Incompatible receiver, "+e+" required");return s}}},Qve=nc([].push),Dw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=XP(y),N=eEe(F),D=sEe(S,x),B=bq(N),O=0,P=T||uEe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:Qve(I,k)}else switch(e){case 4:return!1;case 7:Qve(I,k)}return d?-1:l||c?c:I}},Cq={forEach:Dw(0),map:Dw(1),filter:Dw(2),some:Dw(3),every:Dw(4),find:Dw(5),findIndex:Dw(6),filterReject:Dw(7)}.forEach,Kd=wq("hidden"),e0e=cp("toPrimitive"),uLe=n5.set,t0e=n5.getterFor("Symbol"),Mm=Object.prototype,Uw=Fs.Symbol,Gw=Uw&&Uw.prototype,n0e=Fs.TypeError,lre=Fs.QObject,IB=YP("JSON","stringify"),yEe=efe.f,Ww=W4.f,wEe=bEe.f,fLe=Xue.f,CEe=nc([].push),cy=U4("symbols"),eF=U4("op-symbols"),cre=U4("string-to-symbol-registry"),ure=U4("symbol-to-string-registry"),dLe=U4("wks"),fre=!lre||!lre.prototype||!lre.prototype.findChild,$ie=Jd&&sp(function(){return B4(Ww({},"a",{get:function(){return Ww(this,"a",{value:7}).a}})).a!=7})?function(e,o,s){var l=yEe(Mm,o);l&&delete Mm[o],Ww(e,o,s),l&&e!==Mm&&Ww(Mm,o,l)}:Ww,dre=function(e,o){var s=cy[e]=B4(Gw);return uLe(s,{type:"Symbol",tag:e,description:o}),Jd||(s.description=o),s},zU=function(e,o,s){e===Mm&&zU(eF,o,s),D4(e);var l=t5(o);return D4(s),ha(cy,l)?(s.enumerable?(ha(e,Kd)&&e[Kd][l]&&(e[Kd][l]=!1),s=B4(s,{enumerable:$4(0,!1)})):(ha(e,Kd)||Ww(e,Kd,$4(1,{})),e[Kd][l]=!0),$ie(e,l,s)):Ww(e,l,s)},o0e=function(e,o){D4(e);var s=Zv(o),l=rfe(s).concat(Die(s));return Cq(l,function(c){Jd&&!Rm(SEe,s,c)||zU(e,c,s[c])}),e},SEe=function(e){var o=t5(e),s=Rm(fLe,this,o);return!(this===Mm&&ha(cy,o)&&!ha(eF,o))&&(!(s||!ha(this,o)||!ha(cy,o)||ha(this,Kd)&&this[Kd][o])||s)},r0e=function(e,o){var s=Zv(e),l=t5(o);if(s!==Mm||!ha(cy,l)||ha(eF,l)){var c=yEe(s,l);return!c||!ha(cy,l)||ha(s,Kd)&&s[Kd][l]||(c.enumerable=!0),c}},s0e=function(e){var o=wEe(Zv(e)),s=[];return Cq(o,function(l){ha(cy,l)||ha(QP,l)||CEe(s,l)}),s},Die=function(e){var o=e===Mm,s=wEe(o?eF:Zv(e)),l=[];return Cq(s,function(c){!ha(cy,c)||o&&!ha(Mm,c)||CEe(l,cy[c])}),l};if(Av||(Gw=(Uw=function(){if(tEe(Gw,this))throw n0e("Symbol is not a constructor");var e=arguments.length&&arguments[0]!==void 0?MU(arguments[0]):void 0,o=FU(e),s=function(l){this===Mm&&Rm(s,eF,l),ha(this,Kd)&&ha(this[Kd],o)&&(this[Kd][o]=!1),$ie(this,o,$4(1,l))};return Jd&&fre&&$ie(Mm,o,{configurable:!0,set:s}),dre(o,e)}).prototype,F_(Gw,"toString",function(){return t0e(this).tag}),F_(Uw,"withoutSetter",function(e){return dre(FU(e),e)}),Xue.f=SEe,W4.f=zU,efe.f=r0e,gEe.f=bEe.f=s0e,ire.f=Die,sfe.f=function(e){return dre(cp(e),e)},Jd&&Ww(Gw,"description",{configurable:!0,get:function(){return t0e(this).description}})),Vw({global:!0,wrap:!0,forced:!Av,sham:!Av},{Symbol:Uw}),Cq(rfe(dLe),function(e){mc(e)}),Vw({target:"Symbol",stat:!0,forced:!Av},{for:function(e){var o=MU(e);if(ha(cre,o))return cre[o];var s=Uw(o);return cre[o]=s,ure[s]=o,s},keyFor:function(e){if(!u_(e))throw n0e(e+" is not a symbol");if(ha(ure,e))return ure[e]},useSetter:function(){fre=!0},useSimple:function(){fre=!1}}),Vw({target:"Object",stat:!0,forced:!Av,sham:!Jd},{create:function(e,o){return o===void 0?B4(e):o0e(B4(e),o)},defineProperty:zU,defineProperties:o0e,getOwnPropertyDescriptor:r0e}),Vw({target:"Object",stat:!0,forced:!Av},{getOwnPropertyNames:s0e,getOwnPropertySymbols:Die}),Vw({target:"Object",stat:!0,forced:sp(function(){ire.f(1)})},{getOwnPropertySymbols:function(e){return ire.f(XP(e))}}),IB){var hLe=!Av||sp(function(){var e=Uw();return IB([e])!="[null]"||IB({a:e})!="{}"||IB(Object(e))!="{}"});Vw({target:"JSON",stat:!0,forced:hLe},{stringify:function(e,o,s){var l=nLe(arguments),c=o;if((ag(o)||e!==void 0)&&!u_(e))return RU(o)||(o=function(d,p){if(nf(c)&&(p=Rm(c,this,d,p)),!u_(p))return p}),l[1]=o,Jxe(IB,null,l)}})}if(!Gw[e0e]){var pLe=Gw.valueOf;F_(Gw,e0e,function(e){return Rm(pLe,this)})}jU(Uw,"Symbol"),QP[Kd]=!0,mc("asyncIterator"),mc("hasInstance"),mc("isConcatSpreadable"),mc("iterator"),mc("match"),mc("matchAll"),mc("replace"),mc("search"),mc("species"),mc("split"),mc("toPrimitive"),mc("toStringTag"),mc("unscopables"),jU(Fs.JSON,"JSON",!0);var Kw,a0e,i0e,gLe=ng.Symbol,f4={},xEe=Function.prototype,mLe=Jd&&Object.getOwnPropertyDescriptor,hre=ha(xEe,"name"),vLe={EXISTS:hre,PROPER:hre&&function(){}.name==="something",CONFIGURABLE:hre&&(!Jd||Jd&&mLe(xEe,"name").configurable)},bLe=!sp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),l0e=wq("IE_PROTO"),Bie=Fs.Object,yLe=Bie.prototype,Nie=bLe?Bie.getPrototypeOf:function(e){var o=XP(e);if(ha(o,l0e))return o[l0e];var s=o.constructor;return nf(s)&&o instanceof s?s.prototype:o instanceof Bie?yLe:null},Pie=cp("iterator"),EEe=!1;[].keys&&("next"in(i0e=[].keys())?(a0e=Nie(Nie(i0e)))!==Object.prototype&&(Kw=a0e):EEe=!0);var wLe=Kw==null||sp(function(){var e={};return Kw[Pie].call(e)!==e});Kw=wLe?{}:B4(Kw),nf(Kw[Pie])||F_(Kw,Pie,function(){return this});var kEe={IteratorPrototype:Kw,BUGGY_SAFARI_ITERATORS:EEe},CLe=kEe.IteratorPrototype,SLe=function(){return this};Fs.String,Fs.TypeError;Object.setPrototypeOf||"__proto__"in{}&&function(){var e,o=!1,s={};try{(e=nc(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}}();var xLe=vLe.PROPER,Kz=kEe.BUGGY_SAFARI_ITERATORS,pre=cp("iterator"),ELe=function(){return this},AEe=function(e,o,s,l,c,d,p){(function(B,O,P,I){var z=O+" Iterator";B.prototype=B4(CLe,{next:$4(+!I,P)}),jU(B,z,!1,!0),f4[z]=SLe})(s,o,l);var v,y,S,x=function(B){if(B===c&&N)return N;if(!Kz&&B in A)return A[B];switch(B){case"keys":case"values":case"entries":return function(){return new s(this,B)}}return function(){return new s(this)}},T=o+" Iterator",k=!1,A=e.prototype,F=A[pre]||A["@@iterator"]||c&&A[c],N=!Kz&&F||x(c),D=o=="Array"&&A.entries||F;if(D&&(v=Nie(D.call(new e)))!==Object.prototype&&v.next&&(jU(v,T,!0,!0),f4[T]=ELe),xLe&&c=="values"&&F&&F.name!=="values"&&(k=!0,N=function(){return Rm(F,this)}),c)if(y={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in y)(Kz||k||!(S in A))&&F_(A,S,y[S]);else Vw({target:o,proto:!0,forced:Kz||k},y);return p&&A[pre]!==N&&F_(A,pre,N,{name:c}),f4[o]=N,y},kLe=n5.set,ALe=n5.getterFor("Array Iterator");AEe(Array,"Array",function(e,o){kLe(this,{type:"Array Iterator",target:Zv(e),index:0,kind:o})},function(){var e=ALe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values"),f4.Arguments=f4.Array;var c0e=cp("toStringTag");for(var gre in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var u0e=Fs[gre],mre=u0e&&u0e.prototype;mre&&yq(mre)!==c0e&&Ov(mre,c0e,gre),f4[gre]=f4.Array}var TLe=gLe;mc("asyncDispose"),mc("dispose"),mc("matcher"),mc("metadata"),mc("observable"),mc("patternMatch"),mc("replaceAll");var Yz=TLe,OLe=nc("".charAt),f0e=nc("".charCodeAt),_Le=nc("".slice),d0e=function(e){return function(o,s){var l,c,d=MU(Jue(o)),p=tfe(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=f0e(d,p))<55296||l>56319||p+1===v||(c=f0e(d,p+1))<56320||c>57343?e?OLe(d,p):l:e?_Le(d,p,p+2):c-56320+(l-55296<<10)+65536}},$Le={codeAt:d0e(!1),charAt:d0e(!0)}.charAt,DLe=n5.set,BLe=n5.getterFor("String Iterator");AEe(String,"String",function(e){DLe(this,{type:"String Iterator",string:MU(e),index:0})},function(){var e,o=BLe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=$Le(s,l),o.index+=e.length,{value:e,done:!1})});var NLe=sfe.f("iterator"),PLe=uq(function(e){function o(s){return typeof Yz=="function"&&typeof NLe=="symbol"?(e.exports=o=function(l){return typeof l},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(l){return l&&typeof Yz=="function"&&l.constructor===Yz&&l!==Yz.prototype?"symbol":typeof l},e.exports.default=e.exports,e.exports.__esModule=!0),o(s)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0}),TEe=YPe(PLe),FLe=hq.EXISTS,RLe=X_.f,OEe=Function.prototype,MLe=es(OEe.toString),_Ee=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,ILe=es(_Ee.exec);zm&&!FLe&&RLe(OEe,"name",{configurable:!0,get:function(){try{return ILe(_Ee,MLe(this))[1]}catch{return""}}});var $Ee=function(){function e(){this.tag="select",this.width=80}return e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){var s=this.mark,l=ze.marks(o);return l&&l[s]?l[s]:""},e.prototype.isDisabled=function(o){return o.selection==null||(this.mark,!!pa(ze.nodes(o,{match:function(s){return St.getNodeType(s)==="pre"||!!ze.isVoid(o,s)},universal:!0}),1)[0])},e.prototype.exec=function(o,s){var l=this.mark;s?o.addMark(l,s):o.removeMark(l)},e}(),LLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("fontSize.title"),s.iconSvg=s9e,s.mark="fontSize",s}return ul(o,e),o.prototype.getOptions=function(s){var l=[],c=s.getMenuConfig(this.mark).fontSizeList,d=c===void 0?[]:c;l.push({text:Co("fontSize.default"),value:""}),d.forEach(function(v){if(typeof v=="string")l.push({text:v,value:v});else if(TEe(v)==="object"){var y=v.name,S=v.value;l.push({text:y,value:S})}});var p=this.getValue(s);return l.forEach(function(v){v.value===p?v.selected=!0:delete v.selected}),l},o}($Ee),HLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("fontFamily.title"),s.iconSvg=a9e,s.mark="fontFamily",s.selectPanelWidth=150,s}return ul(o,e),o.prototype.getOptions=function(s){var l=[],c=s.getMenuConfig(this.mark).fontFamilyList,d=c===void 0?[]:c;l.push({text:Co("fontFamily.default"),value:""}),d.forEach(function(v){if(typeof v=="string")l.push({text:v,value:v,styleForRenderMenuList:{"font-family":v}});else if(TEe(v)==="object"){var y=v.name,S=v.value;l.push({text:y,value:S,styleForRenderMenuList:{"font-family":S}})}});var p=this.getValue(s);return l.forEach(function(v){v.value===p?v.selected=!0:delete v.selected}),l},o}($Ee),jLe={renderStyle:function(e,o){var s=e,l=s.fontSize,c=s.fontFamily,d=o;return l&&_4(d,{fontSize:l}),c&&_4(d,{fontFamily:c}),d},styleToHtml:function(e,o){if(!Io.isText(e))return o;var s,l=e,c=l.fontSize,d=l.fontFamily;return c||d?((que(o)||e5(s=Dt(o))!=="span")&&(s=Dt("<span>"+o+"</span>")),c&&s.css("font-size",c),d&&s.css("font-family",d),Q_(s)):o},preParseHtml:[GMe],parseStyleHtml:function(e,o,s){var l=Dt(e);if(!Io.isText(o))return o;var c=o,d=s.getMenuConfig("fontSize").fontSizeList,p=d===void 0?[]:d,v=Hm(l,"font-size"),y=p.find(function(A){return A.value&&A.value===v})||p.includes(v);v&&y&&(c.fontSize=v);var S=s.getMenuConfig("fontFamily").fontFamilyList,x=S===void 0?[]:S,T=Hm(l,"font-family"),k=x.find(function(A){return A.value&&A.value===T})||x.includes(T);return T&&k&&(c.fontFamily=T),c},menus:[{key:"fontSize",factory:function(){return new LLe},config:{fontSizeList:["12px",{name:"13px",value:"13px"},"14px","15px","16px","19px",{name:"22px",value:"22px"},"24px","29px","32px","40px","48px"]}},{key:"fontFamily",factory:function(){return new HLe},config:{fontFamilyList:["\u9ED1\u4F53",{name:"\u4EFF\u5B8B",value:"\u4EFF\u5B8B"},"\u6977\u4F53","\u6807\u6977\u4F53","\u534E\u6587\u4EFF\u5B8B","\u534E\u6587\u6977\u4F53",{name:"\u5B8B\u4F53",value:"\u5B8B\u4F53"},"\u5FAE\u8F6F\u96C5\u9ED1","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}}]},zLe={selector:"p,h1,h2,h3,h4,h5",preParseHtml:function(e){var o=Dt(e),s=Hm(o,"padding-left");return/\dem/.test(s)&&o.css("text-indent","2em"),/\dpx/.test(s)&&parseInt(s,10)%32==0&&o.css("text-indent","2em"),o[0]}},DEe=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){var s=pa(ze.nodes(o,{match:function(c){return!!c.indent},universal:!0}),1),l=s[0];return l==null?"":pa(l,1)[0].indent||""},e.prototype.isActive=function(o){return!1},e.prototype.getMatchNode=function(o){var s=pa(ze.nodes(o,{match:function(l){var c=St.getNodeType(l);return c==="paragraph"||!!c.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return s==null?null:s[0]},e}(),VLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("indent.decrease"),s.iconSvg=i9e,s}return ul(o,e),o.prototype.isDisabled=function(s){var l=this.getMatchNode(s);return l==null||!l.indent},o.prototype.exec=function(s,l){Jt.setNodes(s,{indent:null},{match:function(c){return sr.isElement(c)}})},o}(DEe),ULe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("indent.increase"),s.iconSvg=l9e,s}return ul(o,e),o.prototype.isDisabled=function(s){var l=this.getMatchNode(s);return l==null||!!l.indent},o.prototype.exec=function(s,l){Jt.setNodes(s,{indent:"2em"},{match:function(c){return sr.isElement(c)},mode:"highest"})},o}(DEe),WLe={renderStyle:function(e,o){if(!sr.isElement(e))return o;var s=e.indent,l=o;return s&&_4(l,{textIndent:s}),l},styleToHtml:function(e,o){if(!sr.isElement(e))return o;var s=e.indent;if(!s)return o;var l=Dt(o);return l.css("text-indent",s),Q_(l)},preParseHtml:[zLe],parseStyleHtml:function(e,o,s){var l=Dt(e);if(!sr.isElement(o))return o;var c=o,d=Hm(l,"text-indent"),p=parseInt(d,10);return d&&p>0&&(c.indent=d),c},menus:[{key:"indent",factory:function(){return new ULe}},{key:"delIndent",factory:function(){return new VLe}}]},Sq=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.getMatchNode=function(o){var s=pa(ze.nodes(o,{match:function(l){var c=St.getNodeType(l);return c==="paragraph"||c==="blockquote"||!!c.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return s==null?null:s[0]},e.prototype.isDisabled=function(o){return o.selection==null||!!St.getSelectedElems(o).some(function(s){if(ze.isVoid(o,s)&&ze.isBlock(o,s))return!0;var l=s.type;return!!["pre","code"].includes(l)||void 0})},e}(),qLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.left"),s.iconSvg=c9e,s}return ul(o,e),o.prototype.exec=function(s,l){Jt.setNodes(s,{textAlign:"left"},{match:function(c){return sr.isElement(c)&&!s.isInline(c)}})},o}(Sq),ZLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.right"),s.iconSvg=u9e,s}return ul(o,e),o.prototype.exec=function(s,l){Jt.setNodes(s,{textAlign:"right"},{match:function(c){return sr.isElement(c)&&!s.isInline(c)}})},o}(Sq),GLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.center"),s.iconSvg=f9e,s}return ul(o,e),o.prototype.exec=function(s,l){Jt.setNodes(s,{textAlign:"center"},{match:function(c){return sr.isElement(c)&&!s.isInline(c)}})},o}(Sq),KLe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.justify"),s.iconSvg=d9e,s}return ul(o,e),o.prototype.exec=function(s,l){Jt.setNodes(s,{textAlign:"justify"},{match:function(c){return sr.isElement(c)&&!s.isInline(c)}})},o}(Sq),YLe={renderStyle:function(e,o){if(!sr.isElement(e))return o;var s=e.textAlign,l=o;return s&&_4(l,{textAlign:s}),l},styleToHtml:function(e,o){if(!sr.isElement(e))return o;var s=e.textAlign;if(!s)return o;var l=Dt(o);return l.css("text-align",s),Q_(l)},parseStyleHtml:function(e,o,s){var l=Dt(e);if(!sr.isElement(o))return o;var c=o,d=Hm(l,"text-align");return d&&(c.textAlign=d),c},menus:[{key:"justifyLeft",factory:function(){return new qLe}},{key:"justifyRight",factory:function(){return new ZLe}},{key:"justifyCenter",factory:function(){return new GLe}},{key:"justifyJustify",factory:function(){return new KLe}}]},XLe=function(){function e(){this.title=Co("lineHeight.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M964 788a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526zM198.93 144.306c6.668-5.798 16.774-5.094 22.573 1.574l122.26 140.582a16 16 0 0 1 3.927 10.5c0 8.836-7.164 16-16 16h-61.8a8 8 0 0 0-8 8v390.077h69.819a16 16 0 0 1 10.502 3.928c6.666 5.8 7.37 15.906 1.57 22.573L221.476 878.123a16 16 0 0 1-1.57 1.57c-6.668 5.8-16.774 5.097-22.574-1.57L75.051 737.538a16 16 0 0 1-3.928-10.5c0-8.837 7.163-16 16-16h69.822V312.96H87.127a16 16 0 0 1-10.502-3.928c-6.666-5.8-7.37-15.906-1.57-22.573l122.303-140.582a16 16 0 0 1 1.572-1.572zM964 465a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z m0-323a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z"></path></svg>',this.tag="select",this.width=80}return e.prototype.getOptions=function(o){var s=[],l=o.getMenuConfig("lineHeight").lineHeightList,c=l===void 0?[]:l;s.push({text:Co("lineHeight.default"),value:""}),c.forEach(function(p){s.push({text:p,value:p})});var d=this.getValue(o);return s.forEach(function(p){p.value===d?p.selected=!0:delete p.selected}),s},e.prototype.getMatchNode=function(o){var s=pa(ze.nodes(o,{match:function(l){var c=St.getNodeType(l);return!!c.startsWith("header")||!!["paragraph","blockquote","bulleted-list","numbered-list"].includes(c)},universal:!0,mode:"highest"}),1)[0];return s==null?null:s[0]},e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){var s=this.getMatchNode(o);return s==null?"":sr.isElement(s)&&s.lineHeight||""},e.prototype.isDisabled=function(o){return o.selection==null||this.getMatchNode(o)==null},e.prototype.exec=function(o,s){Jt.setNodes(o,{lineHeight:s.toString()},{mode:"highest"})},e}(),JLe={renderStyle:function(e,o){if(!sr.isElement(e))return o;var s=e.lineHeight,l=o;return s&&_4(l,{lineHeight:s}),l},styleToHtml:function(e,o){if(!sr.isElement(e))return o;var s=e.lineHeight;if(!s)return o;var l=Dt(o);return l.css("line-height",s),Q_(l)},parseStyleHtml:function(e,o,s){var l=Dt(e);if(!sr.isElement(o))return o;var c=o,d=s.getMenuConfig("lineHeight").lineHeightList,p=d===void 0?[]:d,v=Hm(l,"line-height");return v&&p.includes(v)&&(c.lineHeight=v),c},menus:[{key:"lineHeight",factory:function(){return new XLe},config:{lineHeightList:["1","1.15","1.5","2","2.5","3"]}}]},QLe=function(){function e(){this.title=Co("undo.redo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0.00032 576a510.72 510.72 0 0 0 173.344 384l84.672-96A383.136 383.136 0 0 1 128.00032 576C128.00032 363.936 299.93632 192 512.00032 192c106.048 0 202.048 42.976 271.52 112.48L640.00032 448h384V64l-149.984 149.984A510.272 510.272 0 0 0 512.00032 64C229.21632 64 0.00032 293.216 0.00032 576z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null},e.prototype.exec=function(o,s){typeof o.redo=="function"&&o.redo()},e}(),eHe=function(){function e(){this.title=Co("undo.undo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 64A510.272 510.272 0 0 0 149.984 213.984L0.032 64v384h384L240.512 304.48A382.784 382.784 0 0 1 512.032 192c212.064 0 384 171.936 384 384 0 114.688-50.304 217.632-130.016 288l84.672 96a510.72 510.72 0 0 0 173.344-384c0-282.784-229.216-512-512-512z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null},e.prototype.exec=function(o,s){typeof o.undo=="function"&&o.undo()},e}(),tHe={menus:[{key:"redo",factory:function(){return new QLe}},{key:"undo",factory:function(){return new eHe}}]},nHe={type:"divider",renderElem:function(e,o,s){var l=St.isNodeSelected(s,e);return T_("div",{props:{contentEditable:!1,className:"w-e-textarea-divider"},dataset:{selected:l?"true":""},style:{},on:{mousedown:function(c){return c.preventDefault()}}},[T_("hr")])}},oHe={type:"divider",elemToHtml:function(e,o){return"<hr/>"}},rHe={selector:"hr:not([data-w-e-type])",parseElemHtml:function(e,o,s){return{type:"divider",children:[{text:""}]}}},sHe=function(){function e(){this.title=Co("divider.title"),this.iconSvg='<svg viewBox="0 0 1092 1024"><path d="M0 51.2m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M819.2 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M409.6 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 870.4m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||!!St.getSelectedElems(o).some(function(s){if(o.isVoid(s))return!0;var l=St.getNodeType(s);return l==="table"||l==="pre"||void 0})},e.prototype.exec=function(o,s){Jt.insertNodes(o,{type:"divider",children:[{text:""}]},{mode:"highest"})},e}(),aHe={renderElems:[nHe],elemsToHtml:[oHe],parseElemsHtml:[rHe],menus:[{key:"divider",factory:function(){return new sHe}}],editorPlugin:function(e){var o=e.isVoid,s=e.normalizeNode,l=e;return l.isVoid=function(c){return c.type==="divider"||o(c)},l.normalizeNode=function(c){var d=pa(c,2),p=d[0],v=d[1];if(St.getNodeType(p)!=="divider")return s([p,v]);St.isLastNode(l,p)&&Jt.insertNodes(l,St.genEmptyParagraph(),{at:[v[0]+1]})},l}},iHe=gq.map;au({target:"Array",proto:!0,forced:!jue("map")},{map:function(e){return iHe(this,e,arguments.length>1?arguments[1]:void 0)}});var lHe=es([].join),cHe=fq!=Object,uHe=Bxe("join",",");au({target:"Array",proto:!0,forced:cHe||!uHe},{join:function(e){return lHe(Y_(this),e===void 0?",":e)}});var fHe=function(){function e(){this.title=Co("codeBlock.title"),this.iconSvg='<svg viewBox="0 0 1280 1024"><path d="M832 736l96 96 320-320L928 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224zM701.312 150.528l69.472 18.944-192 704.032-69.472-18.944 192-704.032z"></path></svg>',this.tag="button"}return e.prototype.getSelectCodeElem=function(o){var s=St.getSelectedNodeByType(o,"code");if(s==null)return null;var l=St.getParentNode(o,s);return l==null||St.getNodeType(l)!=="pre"?null:s},e.prototype.getValue=function(o){var s=this.getSelectCodeElem(o);return s==null?"":s.language||""},e.prototype.isActive=function(o){return!!this.getSelectCodeElem(o)},e.prototype.isDisabled=function(o){if(o.selection==null)return!0;var s=St.getSelectedElems(o);return!!s.some(function(l){return o.isVoid(l)})||!s.some(function(l){var c=St.getNodeType(l);if(c==="pre"||c==="paragraph")return!0})},e.prototype.exec=function(o,s){this.isActive(o)?this.changeToPlainText(o):this.changeToCodeBlock(o,s.toString())},e.prototype.changeToPlainText=function(o){var s=this.getSelectCodeElem(o);if(s!=null){var l=yo.string(s);Jt.removeNodes(o,{mode:"highest"});var c=l.split(`
`).map(function(d){return{type:"paragraph",children:[{text:d}]}});Jt.insertNodes(o,c,{mode:"highest"})}},e.prototype.changeToCodeBlock=function(o,s){var l,c,d=[],p=ze.nodes(o,{match:function(T){return o.children.includes(T)},universal:!0});try{for(var v=Dxe(p),y=v.next();!y.done;y=v.next()){var S=pa(y.value,1)[0];S&&d.push(yo.string(S))}}catch(T){l={error:T}}finally{try{y&&!y.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}Jt.removeNodes(o,{mode:"highest"});var x={type:"pre",children:[{type:"code",language:s,children:[{text:d.join(`
`)}]}]};Jt.insertNodes(o,x,{mode:"highest"})},e}(),dHe={key:"codeBlock",factory:function(){return new fHe}};au({target:"String",proto:!0,forced:bN("anchor")},{anchor:function(e){return vN(this,"a","name",e)}}),Uue("match",function(e,o,s){return[function(l){var c=gg(this),d=l==null?void 0:dq(l,e);return d?tc(d,l,c):new RegExp(l)[e](Al(c))},function(l){var c=rp(this),d=Al(l),p=s(o,c,d);if(p.done)return p.value;if(!c.global)return cP(c,d);var v=c.unicode;c.lastIndex=0;for(var y,S=[],x=0;(y=cP(c,d))!==null;){var T=Al(y[0]);S[x]=T,T===""&&(c.lastIndex=Wue(d,qP(c.lastIndex),v)),x++}return x===0?null:S}]});var hHe={type:"pre",renderElem:function(e,o,s){return ds("pre",null,o)}},pHe={type:"code",renderElem:function(e,o,s){return ds("code",null,o)}},gHe={selector:"pre:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e);return(o=o.filter(function(c){return St.getNodeType(c)==="code"})).length===0&&(o=[{type:"code",language:"",children:[{text:l[0].textContent||""}]}]),{type:"pre",children:o.filter(function(c){return St.getNodeType(c)==="code"})}}},mHe={menus:[dHe],editorPlugin:function(e){var o=e.insertBreak,s=e.normalizeNode,l=e.insertData;e.insertNode;var c=e;return c.insertBreak=function(){var d=St.getSelectedNodeByType(c,"code");if(d!=null){var p=function(S,x){var T=x.selection;if(T==null)return"";var k=yo.string(S),A=T.anchor.offset,F=k.slice(0,A).split(`
`),N=F.length;return N===0?"":F[N-1]}(d,c);if(p){var v=p.match(/^\s+/);if(v!=null&&v[0]!=null){var y=v[0];return void c.insertText(`
`+y)}}c.insertText(`
`)}else o()},c.normalizeNode=function(d){var p=pa(d,2),v=p[0],y=p[1],S=St.getNodeType(v);return S==="code"&&y.length<=1&&Jt.setNodes(c,{type:"paragraph"},{at:y}),S==="pre"&&(St.isLastNode(c,v)&&Jt.insertNodes(c,St.genEmptyParagraph(),{at:[y[0]+1]}),St.getNodeType(v.children[0])!=="code"&&(Jt.unwrapNodes(c),Jt.setNodes(c,{type:"paragraph"},{mode:"highest"}))),s([v,y])},c.insertData=function(d){if(St.getSelectedNodeByType(c,"code")!=null){var p=d.getData("text/plain");ze.insertText(c,p)}else l(d)},c},renderElems:[hHe,pHe],elemsToHtml:[{type:"code",elemToHtml:function(e,o){return"<code>"+o+"</code>"}},{type:"pre",elemToHtml:function(e,o){return"<pre>"+o+"</pre>"}}],preParseHtml:[{selector:"pre>code",preParseHtml:function(e){var o=Dt(e);if(e5(o)!=="code")return e;var s=o.find("xmp");if(s.length===0)return e;var l=s.text();return s.remove(),o.text(l),o[0]}}],parseElemsHtml:[{selector:"pre:not([data-w-e-type])>code",parseElemHtml:function(e,o,s){return{type:"code",language:"",children:[{text:Dt(e)[0].textContent||""}]}}},gHe]},vHe=function(){function e(){this.title=Co("fullScreen.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M133.705143 335.433143V133.851429h201.581714a29.622857 29.622857 0 0 0 29.622857-29.549715V68.754286a29.622857 29.622857 0 0 0-29.622857-29.622857H61.732571A22.893714 22.893714 0 0 0 38.765714 62.025143V335.725714c0 16.310857 13.238857 29.622857 29.622857 29.622857h35.547429a29.842286 29.842286 0 0 0 29.696-29.842285zM690.980571 133.851429h201.581715v201.654857c0 16.310857 13.238857 29.549714 29.622857 29.549714h35.547428a29.622857 29.622857 0 0 0 29.549715-29.549714V61.952a22.893714 22.893714 0 0 0-22.820572-22.893714h-273.554285a29.622857 29.622857 0 0 0-29.549715 29.622857v35.547428c0 16.310857 13.238857 29.696 29.622857 29.696zM335.286857 892.781714H133.705143V691.2a29.622857 29.622857 0 0 0-29.622857-29.622857H68.534857a29.622857 29.622857 0 0 0-29.549714 29.622857v273.554286c0 12.653714 10.24 22.893714 22.820571 22.893714h273.554286a29.622857 29.622857 0 0 0 29.696-29.622857v-35.547429a29.769143 29.769143 0 0 0-29.769143-29.696z m557.348572-201.581714v201.581714H690.907429a29.622857 29.622857 0 0 0-29.622858 29.622857v35.547429c0 16.310857 13.238857 29.622857 29.622858 29.622857h273.554285c12.580571 0 22.893714-10.313143 22.893715-22.893714V691.2a29.622857 29.622857 0 0 0-29.622858-29.622857h-35.547428a29.622857 29.622857 0 0 0-29.696 29.622857z"></path></svg>',this.tag="button",this.alwaysEnable=!0}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return o.isFullScreen},e.prototype.isDisabled=function(o){return!1},e.prototype.exec=function(o,s){o.isFullScreen?o.unFullScreen():o.fullScreen()},e}(),bHe={menus:[{key:"fullScreen",factory:function(){return new vHe}}]},yHe=function(){function e(){this.title=Co("common.enter"),this.iconSvg='<svg viewBox="0 0 1255 1024"><path d="M1095.111111 731.477333h-625.777778V1024L0 658.318222 469.333333 292.408889v292.636444h625.777778V0h156.444445v731.477333z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!!yn.isExpanded(s)},e.prototype.exec=function(o,s){var l=o.selection;if(l!=null){var c=[l.anchor.path[0]];Jt.insertNodes(o,{type:"paragraph",children:[{text:""}]},{at:c}),o.select(ze.start(o,c))}},e}(),wHe=[x9e,tMe,jLe,WLe,YLe,JLe,$Me,aHe,qMe,pMe,mHe,UMe,Y9e,qRe,PMe,tHe,bHe,{menus:[{key:"enter",factory:function(){return new yHe}}]}];Qd("en",{listModule:{unOrderedList:"Unordered list",orderedList:"Ordered list"}}),Qd("zh-CN",{listModule:{unOrderedList:"\u65E0\u5E8F\u5217\u8868",orderedList:"\u6709\u5E8F\u5217\u8868"}});var h0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BEe(e){var o={exports:{}};return e(o,o.exports),o.exports}var Bw,FV,Xz=function(e){return e&&e.Math==Math&&e},oa=Xz(typeof globalThis=="object"&&globalThis)||Xz(typeof window=="object"&&window)||Xz(typeof self=="object"&&self)||Xz(typeof h0e=="object"&&h0e)||function(){return this}()||Function("return this")(),of=function(e){try{return!!e()}catch{return!0}},yC=!of(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),LB=Function.prototype.call,gd=LB.bind?LB.bind(LB):function(){return LB.apply(LB,arguments)},p0e={}.propertyIsEnumerable,g0e=Object.getOwnPropertyDescriptor,CHe={f:g0e&&!p0e.call({1:2},1)?function(e){var o=g0e(this,e);return!!o&&o.enumerable}:p0e},afe=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},NEe=Function.prototype,Fie=NEe.bind,Rie=NEe.call,SHe=Fie&&Fie.bind(Rie),Aa=Fie?function(e){return e&&SHe(Rie,e)}:function(e){return e&&function(){return Rie.apply(e,arguments)}},xHe=Aa({}.toString),EHe=Aa("".slice),d4=function(e){return EHe(xHe(e),8,-1)},vre=oa.Object,kHe=Aa("".split),PEe=of(function(){return!vre("z").propertyIsEnumerable(0)})?function(e){return d4(e)=="String"?kHe(e,""):vre(e)}:vre,AHe=oa.TypeError,tF=function(e){if(e==null)throw AHe("Can't call method on "+e);return e},xq=function(e){return PEe(tF(e))},rf=function(e){return typeof e=="function"},Pm=function(e){return typeof e=="object"?e!==null:rf(e)},THe=function(e){return rf(e)?e:void 0},nF=function(e,o){return arguments.length<2?THe(oa[e]):oa[e]&&oa[e][o]},OHe=Aa({}.isPrototypeOf),bre=nF("navigator","userAgent")||"",m0e=oa.process,v0e=oa.Deno,b0e=m0e&&m0e.versions||v0e&&v0e.version,y0e=b0e&&b0e.v8;y0e&&(FV=(Bw=y0e.split("."))[0]>0&&Bw[0]<4?1:+(Bw[0]+Bw[1])),!FV&&bre&&(!(Bw=bre.match(/Edge\/(\d+)/))||Bw[1]>=74)&&(Bw=bre.match(/Chrome\/(\d+)/))&&(FV=+Bw[1]);var VU=FV,Mie=!!Object.getOwnPropertySymbols&&!of(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&VU&&VU<41}),ife=Mie&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_He=oa.Object,Iie=ife?function(e){return typeof e=="symbol"}:function(e){var o=nF("Symbol");return rf(o)&&OHe(o.prototype,_He(e))},$He=oa.String,DHe=oa.TypeError,FEe=function(e){if(rf(e))return e;throw DHe(function(o){try{return $He(o)}catch{return"Object"}}(e)+" is not a function")},REe=function(e,o){var s=e[o];return s==null?void 0:FEe(s)},BHe=oa.TypeError,NHe=Object.defineProperty,lfe=function(e,o){try{NHe(oa,e,{value:o,configurable:!0,writable:!0})}catch{oa[e]=o}return o},oC=oa["__core-js_shared__"]||lfe("__core-js_shared__",{}),cfe=BEe(function(e){(e.exports=function(o,s){return oC[o]||(oC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),PHe=oa.Object,Eq=function(e){return PHe(tF(e))},FHe=Aa({}.hasOwnProperty),ug=Object.hasOwn||function(e,o){return FHe(Eq(e),o)},RHe=0,MHe=Math.random(),IHe=Aa(1 .toString),MEe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+IHe(++RHe+MHe,36)},HB=cfe("wks"),h4=oa.Symbol,w0e=h4&&h4.for,LHe=ife?h4:h4&&h4.withoutSetter||MEe,Gv=function(e){if(!ug(HB,e)||!Mie&&typeof HB[e]!="string"){var o="Symbol."+e;Mie&&ug(h4,e)?HB[e]=h4[e]:HB[e]=ife&&w0e?w0e(o):LHe(o)}return HB[e]},HHe=oa.TypeError,jHe=Gv("toPrimitive"),zHe=function(e,o){if(!Pm(e)||Iie(e))return e;var s,l=REe(e,jHe);if(l){if(o===void 0&&(o="default"),s=gd(l,e,o),!Pm(s)||Iie(s))return s;throw HHe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&rf(p=c.toString)&&!Pm(v=gd(p,c))||rf(p=c.valueOf)&&!Pm(v=gd(p,c))||d!=="string"&&rf(p=c.toString)&&!Pm(v=gd(p,c)))return v;throw BHe("Can't convert object to primitive value")}(e,o)},ufe=function(e){var o=zHe(e,"string");return Iie(o)?o:o+""},Lie=oa.document,VHe=Pm(Lie)&&Pm(Lie.createElement),IEe=function(e){return VHe?Lie.createElement(e):{}},LEe=!yC&&!of(function(){return Object.defineProperty(IEe("div"),"a",{get:function(){return 7}}).a!=7}),C0e=Object.getOwnPropertyDescriptor,HEe={f:yC?C0e:function(e,o){if(e=xq(e),o=ufe(o),LEe)try{return C0e(e,o)}catch{}if(ug(e,o))return afe(!gd(CHe.f,e,o),e[o])}},UHe=oa.String,WHe=oa.TypeError,wC=function(e){if(Pm(e))return e;throw WHe(UHe(e)+" is not an object")},qHe=oa.TypeError,S0e=Object.defineProperty,oF={f:yC?S0e:function(e,o,s){if(wC(e),o=ufe(o),wC(s),LEe)try{return S0e(e,o,s)}catch{}if("get"in s||"set"in s)throw qHe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},uP=yC?function(e,o,s){return oF.f(e,o,afe(1,s))}:function(e,o,s){return e[o]=s,e},ZHe=Aa(Function.toString);rf(oC.inspectSource)||(oC.inspectSource=function(e){return ZHe(e)});var UU,BN,WU,ffe=oC.inspectSource,x0e=oa.WeakMap,GHe=rf(x0e)&&/native code/.test(ffe(x0e)),E0e=cfe("keys"),jEe=function(e){return E0e[e]||(E0e[e]=MEe(e))},dfe={},Hie=oa.TypeError,KHe=oa.WeakMap;if(GHe||oC.state){var RE=oC.state||(oC.state=new KHe),YHe=Aa(RE.get),k0e=Aa(RE.has),XHe=Aa(RE.set);UU=function(e,o){if(k0e(RE,e))throw new Hie("Object already initialized");return o.facade=e,XHe(RE,e,o),o},BN=function(e){return YHe(RE,e)||{}},WU=function(e){return k0e(RE,e)}}else{var NO=jEe("state");dfe[NO]=!0,UU=function(e,o){if(ug(e,NO))throw new Hie("Object already initialized");return o.facade=e,uP(e,NO,o),o},BN=function(e){return ug(e,NO)?e[NO]:{}},WU=function(e){return ug(e,NO)}}var Jz,jie={set:UU,get:BN,has:WU,enforce:function(e){return WU(e)?BN(e):UU(e,{})},getterFor:function(e){return function(o){var s;if(!Pm(o)||(s=BN(o)).type!==e)throw Hie("Incompatible receiver, "+e+" required");return s}}},zEe=Function.prototype,JHe=yC&&Object.getOwnPropertyDescriptor,yre=ug(zEe,"name"),QHe={EXISTS:yre,PROPER:yre&&function(){}.name==="something",CONFIGURABLE:yre&&(!yC||yC&&JHe(zEe,"name").configurable)},qU=BEe(function(e){var o=QHe.CONFIGURABLE,s=jie.get,l=jie.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;rf(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ug(v,"name")||o&&v.name!==A)&&uP(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==oa?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:uP(d,p,v)):T?d[p]=v:lfe(p,v)})(Function.prototype,"toString",function(){return rf(this)&&s(this).source||ffe(this)})}),eje=Math.ceil,tje=Math.floor,kq=function(e){var o=+e;return o!=o||o===0?0:(o>0?tje:eje)(o)},nje=Math.max,oje=Math.min,rje=Math.min,VEe=function(e){return e>0?rje(kq(e),9007199254740991):0},hfe=function(e){return VEe(e.length)},A0e=function(e){return function(o,s,l){var c,d=xq(o),p=hfe(d),v=function(y,S){var x=kq(y);return x<0?nje(x+S,0):oje(x,S)}(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},UEe={includes:A0e(!0),indexOf:A0e(!1)},sje=UEe.indexOf,T0e=Aa([].push),WEe=function(e,o){var s,l=xq(e),c=0,d=[];for(s in l)!ug(dfe,s)&&ug(l,s)&&T0e(d,s);for(;o.length>c;)ug(l,s=o[c++])&&(~sje(d,s)||T0e(d,s));return d},ZU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],aje=ZU.concat("length","prototype"),ije={f:Object.getOwnPropertyNames||function(e){return WEe(e,aje)}},lje={f:Object.getOwnPropertySymbols},cje=Aa([].concat),uje=nF("Reflect","ownKeys")||function(e){var o=ije.f(wC(e)),s=lje.f;return s?cje(o,s(e)):o},fje=function(e,o){for(var s=uje(o),l=oF.f,c=HEe.f,d=0;d<s.length;d++){var p=s[d];ug(e,p)||l(e,p,c(o,p))}},dje=/#|\.prototype\./,rF=function(e,o){var s=pje[hje(e)];return s==mje||s!=gje&&(rf(o)?of(o):!!o)},hje=rF.normalize=function(e){return String(e).replace(dje,".").toLowerCase()},pje=rF.data={},gje=rF.NATIVE="N",mje=rF.POLYFILL="P",vje=rF,bje=HEe.f,o5=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?oa:S?oa[v]||lfe(v,{}):(oa[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=bje(s,l))&&p.value:s[l],!vje(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;fje(d,c)}(e.sham||c&&c.sham)&&uP(d,"sham",!0),qU(s,l,d,e)}},yje=Object.keys||function(e){return WEe(e,ZU)},wje=yC?Object.defineProperties:function(e,o){wC(e);for(var s,l=xq(o),c=yje(o),d=c.length,p=0;d>p;)oF.f(e,s=c[p++],l[s]);return e},Cje=nF("document","documentElement"),qEe=jEe("IE_PROTO"),wre=function(){},ZEe=function(e){return"<script>"+e+"<\/script>"},O0e=function(e){e.write(ZEe("")),e.close();var o=e.parentWindow.Object;return e=null,o},RV=function(){try{Jz=new ActiveXObject("htmlfile")}catch{}var e,o;RV=typeof document<"u"?document.domain&&Jz?O0e(Jz):((o=IEe("iframe")).style.display="none",Cje.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(ZEe("document.F=Object")),e.close(),e.F):O0e(Jz);for(var s=ZU.length;s--;)delete RV.prototype[ZU[s]];return RV()};dfe[qEe]=!0;var GEe=Object.create||function(e,o){var s;return e!==null?(wre.prototype=wC(e),s=new wre,wre.prototype=null,s[qEe]=e):s=RV(),o===void 0?s:wje(s,o)},zie=Gv("unscopables"),Vie=Array.prototype;Vie[zie]==null&&oF.f(Vie,zie,{configurable:!0,value:GEe(null)});var _0e,Sje=UEe.includes;function KEe(e){if(e==="bulleted-list")return"ul";if(e==="numbered-list")return"ol";if(e==="list-item")return"li";throw new Error("list type '"+e+"' is invalid")}function GU(e){var o=St.getNodeType(e);return["bulleted-list","numbered-list"].includes(o)}function pfe(e){return function(o,s,l){var c=KEe(e);return ds(c,null,s)}}o5({target:"Array",proto:!0},{includes:function(e){return Sje(this,e,arguments.length>1?arguments[1]:void 0)}}),_0e="includes",Vie[zie][_0e]=!0;var xje={type:"bulleted-list",renderElem:pfe("bulleted-list")},Eje={type:"numbered-list",renderElem:pfe("numbered-list")},kje={type:"list-item",renderElem:pfe("list-item")};function gfe(e){var o=KEe(e);return function(s,l){return"<"+o+">"+l+"</"+o+">"}}var Aje={type:"bulleted-list",elemToHtml:gfe("bulleted-list")},Tje={type:"numbered-list",elemToHtml:gfe("numbered-list")},Oje={type:"list-item",elemToHtml:gfe("list-item")},$0e=Aa(Aa.bind),Uie=Array.isArray||function(e){return d4(e)=="Array"},YEe={};YEe[Gv("toStringTag")]="z";var mfe=String(YEe)==="[object z]",_je=Gv("toStringTag"),$je=oa.Object,Dje=d4(function(){return arguments}())=="Arguments",vfe=mfe?d4:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=$je(e),_je))=="string"?s:Dje?d4(o):(l=d4(o))=="Object"&&rf(o.callee)?"Arguments":l},XEe=function(){},Bje=[],JEe=nF("Reflect","construct"),bfe=/^\s*(?:class|function)\b/,Nje=Aa(bfe.exec),Pje=!bfe.exec(XEe),jB=function(e){if(!rf(e))return!1;try{return JEe(XEe,Bje,e),!0}catch{return!1}},Fje=!JEe||of(function(){var e;return jB(jB.call)||!jB(Object)||!jB(function(){e=!0})||e})?function(e){if(!rf(e))return!1;switch(vfe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Pje||!!Nje(bfe,ffe(e))}:jB,Rje=Gv("species"),D0e=oa.Array,QEe=function(e,o){return new(function(s){var l;return Uie(s)&&(l=s.constructor,(Fje(l)&&(l===D0e||Uie(l.prototype))||Pm(l)&&(l=l[Rje])===null)&&(l=void 0)),l===void 0?D0e:l}(e))(o===0?0:o)},B0e=Aa([].push),Nw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=Eq(y),N=PEe(F),D=function(z,K){return FEe(z),K===void 0?z:$0e?$0e(z,K):function(){return z.apply(K,arguments)}}(S,x),B=hfe(N),O=0,P=T||QEe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:B0e(I,k)}else switch(e){case 4:return!1;case 7:B0e(I,k)}return d?-1:l||c?c:I}},Mje={forEach:Nw(0),map:Nw(1),filter:Nw(2),some:Nw(3),every:Nw(4),find:Nw(5),findIndex:Nw(6),filterReject:Nw(7)},Ije=Gv("species"),e4e=function(e){return VU>=51||!of(function(){var o=[];return(o.constructor={})[Ije]=function(){return{foo:1}},o[e](Boolean).foo!==1})},Lje=Mje.filter;o5({target:"Array",proto:!0,forced:!e4e("filter")},{filter:function(e){return Lje(this,e,arguments.length>1?arguments[1]:void 0)}});var Hje=mfe?{}.toString:function(){return"[object "+vfe(this)+"]"};mfe||qU(Object.prototype,"toString",Hje,{unsafe:!0});var N0e,Cre,jje=oa.String,_v=function(e){if(vfe(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return jje(e)},zje=function(){var e=wC(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},yfe=oa.RegExp,Wie=of(function(){var e=yfe("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Vje=Wie||of(function(){return!yfe("a","y").sticky}),Uje={BROKEN_CARET:Wie||of(function(){var e=yfe("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:Vje,UNSUPPORTED_Y:Wie},Wje=oa.RegExp,qje=of(function(){var e=Wje(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),Zje=oa.RegExp,Gje=of(function(){var e=Zje("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Kje=jie.get,Yje=cfe("native-string-replace",String.prototype.replace),KU=RegExp.prototype.exec,qie=KU,Xje=Aa("".charAt),Jje=Aa("".indexOf),Qje=Aa("".replace),Sre=Aa("".slice),xre=(Cre=/b*/g,gd(KU,N0e=/a/,"a"),gd(KU,Cre,"a"),N0e.lastIndex!==0||Cre.lastIndex!==0),P0e=Uje.BROKEN_CARET,Ere=/()??/.exec("")[1]!==void 0;(xre||Ere||P0e||qje||Gje)&&(qie=function(e){var o,s,l,c,d,p,v,y=this,S=Kje(y),x=_v(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=gd(qie,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=P0e&&y.sticky,F=gd(zje,y),N=y.source,D=0,B=x;if(A&&(F=Qje(F,"y",""),Jje(F,"g")===-1&&(F+="g"),B=Sre(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&Xje(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),Ere&&(s=new RegExp("^"+N+"$(?!\\s)",F)),xre&&(l=y.lastIndex),c=gd(KU,A?s:y,B),A?c?(c.input=Sre(c.input,D),c[0]=Sre(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:xre&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),Ere&&c&&c.length>1&&gd(Yje,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=GEe(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var YU=qie;o5({target:"RegExp",proto:!0,forced:/./.exec!==YU},{exec:YU});var wfe=Function.prototype,F0e=wfe.apply,eze=wfe.bind,R0e=wfe.call,tze=typeof Reflect=="object"&&Reflect.apply||(eze?R0e.bind(F0e):function(){return R0e.apply(F0e,arguments)}),nze=Gv("species"),kre=RegExp.prototype,oze=Aa("".charAt),M0e=Aa("".charCodeAt),rze=Aa("".slice),I0e=function(e){return function(o,s){var l,c,d=_v(tF(o)),p=kq(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=M0e(d,p))<55296||l>56319||p+1===v||(c=M0e(d,p+1))<56320||c>57343?e?oze(d,p):l:e?rze(d,p,p+2):c-56320+(l-55296<<10)+65536}},sze={codeAt:I0e(!1),charAt:I0e(!0)}.charAt,aze=function(e,o,s){return o+(s?sze(e,o).length:1)},ize=Math.floor,Are=Aa("".charAt),lze=Aa("".replace),Tre=Aa("".slice),cze=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,uze=/\$([$&'`]|\d{1,2})/g,fze=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,y=uze;return c!==void 0&&(c=Eq(c),y=cze),lze(d,y,function(S,x){var T;switch(Are(x,0)){case"$":return"$";case"&":return e;case"`":return Tre(o,0,s);case"'":return Tre(o,p);case"<":T=c[Tre(x,1,-1)];break;default:var k=+x;if(k===0)return S;if(k>v){var A=ize(k/10);return A===0?S:A<=v?l[A-1]===void 0?Are(x,1):l[A-1]+Are(x,1):S}T=l[k-1]}return T===void 0?"":T})},dze=oa.TypeError,hze=function(e,o){var s=e.exec;if(rf(s)){var l=gd(s,e,o);return l!==null&&wC(l),l}if(d4(e)==="RegExp")return gd(YU,e,o);throw dze("RegExp#exec called on incompatible receiver")},Zie=Gv("replace"),pze=Math.max,gze=Math.min,mze=Aa([].concat),Ore=Aa([].push),L0e=Aa("".indexOf),H0e=Aa("".slice),vze="a".replace(/./,"$0")==="$0",j0e=!!/./[Zie]&&/./[Zie]("a","$0")==="";(function(e,o,s,l){var c=Gv(e),d=!of(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!of(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[nze]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=Aa(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=Aa(S),N=x.exec;return N===YU||N===kre.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});qU(String.prototype,e,y[0]),qU(kre,c,y[1])}l&&uP(kre[c],"sham",!0)})("replace",function(e,o,s){var l=j0e?"$":"$0";return[function(c,d){var p=tF(this),v=c==null?void 0:REe(c,Zie);return v?gd(v,c,p,d):gd(o,_v(p),c,d)},function(c,d){var p=wC(this),v=_v(c);if(typeof d=="string"&&L0e(d,l)===-1&&L0e(d,"$<")===-1){var y=s(o,p,v,d);if(y.done)return y.value}var S=rf(d);S||(d=_v(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var k=[];;){var A=hze(p,v);if(A===null||(Ore(k,A),!x))break;_v(A[0])===""&&(p.lastIndex=aze(v,VEe(p.lastIndex),T))}for(var F,N="",D=0,B=0;B<k.length;B++){for(var O=_v((A=k[B])[0]),P=pze(gze(kq(A.index),v.length),0),I=[],z=1;z<A.length;z++)Ore(I,(F=A[z])===void 0?F:String(F));var K=A.groups;if(S){var j=mze([O],I,P,v);K!==void 0&&Ore(j,K);var oe=_v(tze(d,void 0,j))}else oe=fze(O,v,P,I,K,d);P>=D&&(N+=H0e(v,D,P)+oe,D=P+O.length)}return N+H0e(v,D)}]},!!of(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!vze||j0e),o5({global:!0},{globalThis:oa});var bze={selector:"li:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e);return(o=o.filter(function(c){return!!Io.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"list-item",children:o}}},yze={selector:"ul:not([data-w-e-type])",parseElemHtml:function(e,o,s){return{type:"bulleted-list",children:o.filter(function(l){return St.getNodeType(l)==="list-item"})}}},wze={selector:"ol:not([data-w-e-type])",parseElemHtml:function(e,o,s){return{type:"numbered-list",children:o.filter(function(l){return St.getNodeType(l)==="list-item"})}}},Gie=function(e,o){return Gie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},Gie(e,o)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function t4e(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=e}Gie(e,o),e.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}function Kie(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}var z0e,n4e=function(){function e(){this.tag="button"}return e.prototype.getListNode=function(o){var s=this.type;return St.getSelectedNodeByType(o,s)},e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!!this.getListNode(o)},e.prototype.isDisabled=function(o){return o.selection==null||!!St.getSelectedElems(o).some(function(s){if(ze.isVoid(o,s)&&ze.isBlock(o,s))return!0;var l=s.type;return!!["pre","code","table"].includes(l)||void 0})},e.prototype.getMatchListType=function(o){var s=Kie(ze.nodes(o,{match:function(d){return GU(d)},universal:!0}),1),l=s[0];if(l==null)return"";var c=Kie(l,1)[0];return St.getNodeType(c)},e.prototype.exec=function(o,s){var l=this.type,c=this.isActive(o);Jt.unwrapNodes(o,{match:function(v){return GU(v)},split:!0}),Jt.setNodes(o,{type:c?"paragraph":"list-item"});var d={type:l,children:[]};c||Jt.wrapNodes(o,d);var p=this.getMatchListType(o);p!=""&&p!==l&&Jt.wrapNodes(o,d)},e}(),Cze='<svg viewBox="0 0 1024 1024"><path d="M384 64h640v128H384V64z m0 384h640v128H384v-128z m0 384h640v128H384v-128zM0 128a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z"></path></svg>',Sze='<svg viewBox="0 0 1024 1024"><path d="M384 832h640v128H384z m0-384h640v128H384z m0-384h640v128H384zM192 0v256H128V64H64V0zM128 526.016v50.016h128v64H64v-146.016l128-60V384H64v-64h192v146.016zM256 704v320H64v-64h128v-64H64v-64h128v-64H64v-64z"></path></svg>',xze=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.type="bulleted-list",s.title=Co("listModule.unOrderedList"),s.iconSvg=Cze,s}return t4e(o,e),o}(n4e),Eze=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.type="numbered-list",s.title=Co("listModule.orderedList"),s.iconSvg=Sze,s}return t4e(o,e),o}(n4e),kze={key:"bulletedList",factory:function(){return new xze}},Aze={key:"numberedList",factory:function(){return new Eze}},Tze=/"/g,Oze=Aa("".replace);o5({target:"String",proto:!0,forced:(z0e="anchor",of(function(){var e=""[z0e]('"');return e!==e.toLowerCase()||e.split('"').length>3}))},{anchor:function(e){return o="a",s="name",l=e,c=_v(tF(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+Oze(_v(l),Tze,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var V0e=function(e,o,s){var l=ufe(o);l in e?oF.f(e,l,afe(0,s)):e[l]=s},o4e=Gv("isConcatSpreadable"),U0e=oa.TypeError,_ze=VU>=51||!of(function(){var e=[];return e[o4e]=!1,e.concat()[0]!==e}),$ze=e4e("concat"),Dze=function(e){if(!Pm(e))return!1;var o=e[o4e];return o!==void 0?!!o:Uie(e)};o5({target:"Array",proto:!0,forced:!_ze||!$ze},{concat:function(e){var o,s,l,c,d,p=Eq(this),v=QEe(p,0),y=0;for(o=-1,l=arguments.length;o<l;o++)if(Dze(d=o===-1?p:arguments[o])){if(y+(c=hfe(d))>9007199254740991)throw U0e("Maximum allowed index exceeded");for(s=0;s<c;s++,y++)s in d&&V0e(v,y,d[s])}else{if(y>=9007199254740991)throw U0e("Maximum allowed index exceeded");V0e(v,y++,d)}return v.length=y,v}});var Bze={renderElems:[xje,Eje,kje],elemsToHtml:[Aje,Tje,Oje],parseElemsHtml:[bze,wze,yze],menus:[kze,Aze],editorPlugin:function(e){var o=e.insertBreak,s=e.deleteBackward;e.insertNode;var l=e;return l.insertBreak=function(){var c=l.selection;if(c!=null){var d=St.getSelectedNodeByType(l,"list-item");if(d!=null){var p=St.getParentNode(l,d),v=(p==null?void 0:p.children)||[];if(d===v[v.length-1]&&yo.string(d)===""){Jt.removeNodes(l,{match:function(S){return St.checkNodeType(S,"list-item")}});var y=[c.anchor.path[0]+1];return Jt.insertNodes(l,St.genEmptyParagraph(),{at:y}),void l.select({path:y.concat(0),offset:0})}o()}else o()}else o()},l.deleteBackward=function(c){var d=function(p){var v=Kie(ze.nodes(p,{match:function(x){return p.children[0]===x},mode:"highest"}),1),y=v[0];if(y==null)return!1;var S=y[0];return!(!sr.isElement(S)||yo.string(S)||!GU(S)||(Jt.unwrapNodes(p,{match:function(x){return GU(x)},split:!0}),Jt.setNodes(p,{type:"paragraph"}),0))}(l);d||s(c)},l}},r4e=wce(function(e,o){var s=200,l="__lodash_hash_undefined__",c=1,d=2,p=9007199254740991,v="[object Arguments]",y="[object Array]",S="[object AsyncFunction]",x="[object Boolean]",T="[object Date]",k="[object Error]",A="[object Function]",F="[object GeneratorFunction]",N="[object Map]",D="[object Number]",B="[object Null]",O="[object Object]",P="[object Promise]",I="[object Proxy]",z="[object RegExp]",K="[object Set]",j="[object String]",oe="[object Symbol]",ke="[object Undefined]",ae="[object WeakMap]",Q="[object ArrayBuffer]",G="[object DataView]",ue="[object Float32Array]",pe="[object Float64Array]",be="[object Int8Array]",qe="[object Int16Array]",U="[object Int32Array]",Fe="[object Uint8Array]",De="[object Uint8ClampedArray]",Se="[object Uint16Array]",re="[object Uint32Array]",le=/[\\^$.*+?()[\]{}|]/g,fe=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,Be={};Be[ue]=Be[pe]=Be[be]=Be[qe]=Be[U]=Be[Fe]=Be[De]=Be[Se]=Be[re]=!0,Be[v]=Be[y]=Be[Q]=Be[x]=Be[G]=Be[T]=Be[k]=Be[A]=Be[N]=Be[D]=Be[O]=Be[z]=Be[K]=Be[j]=Be[ae]=!1;var Ce=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,me=typeof self=="object"&&self&&self.Object===Object&&self,q=Ce||me||Function("return this")(),Ze=o&&!o.nodeType&&o,We=Ze&&!0&&e&&!e.nodeType&&e,tt=We&&We.exports===Ze,Qe=tt&&Ce.process,at=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch{}}(),He=at&&at.isTypedArray;function Re(ie,Ke){for(var Ct=-1,cn=ie==null?0:ie.length,Fn=0,Hn=[];++Ct<cn;){var Ro=ie[Ct];Ke(Ro,Ct,ie)&&(Hn[Fn++]=Ro)}return Hn}function Ve(ie,Ke){for(var Ct=-1,cn=Ke.length,Fn=ie.length;++Ct<cn;)ie[Fn+Ct]=Ke[Ct];return ie}function Oe(ie,Ke){for(var Ct=-1,cn=ie==null?0:ie.length;++Ct<cn;)if(Ke(ie[Ct],Ct,ie))return!0;return!1}function ve(ie,Ke){for(var Ct=-1,cn=Array(ie);++Ct<ie;)cn[Ct]=Ke(Ct);return cn}function se(ie){return function(Ke){return ie(Ke)}}function xe(ie,Ke){return ie.has(Ke)}function ot(ie,Ke){return ie==null?void 0:ie[Ke]}function Xe(ie){var Ke=-1,Ct=Array(ie.size);return ie.forEach(function(cn,Fn){Ct[++Ke]=[Fn,cn]}),Ct}function jt(ie,Ke){return function(Ct){return ie(Ke(Ct))}}function qt(ie){var Ke=-1,Ct=Array(ie.size);return ie.forEach(function(cn){Ct[++Ke]=cn}),Ct}var vn=Array.prototype,Kn=Function.prototype,zn=Object.prototype,fn=q["__core-js_shared__"],oo=Kn.toString,ft=zn.hasOwnProperty,Tt=function(){var ie=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),sn=zn.toString,kn=RegExp("^"+oo.call(ft).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pn=tt?q.Buffer:void 0,$n=q.Symbol,_o=q.Uint8Array,mr=zn.propertyIsEnumerable,Ot=vn.splice,wt=$n?$n.toStringTag:void 0,wn=Object.getOwnPropertySymbols,xn=Pn?Pn.isBuffer:void 0,pn=jt(Object.keys,Object),eo=Ra(q,"DataView"),yr=Ra(q,"Map"),As=Ra(q,"Promise"),la=Ra(q,"Set"),pr=Ra(q,"WeakMap"),Sa=Ra(Object,"create"),wr=Sr(eo),Jo=Sr(yr),To=Sr(As),xs=Sr(la),ra=Sr(pr),Vr=$n?$n.prototype:void 0,ca=Vr?Vr.valueOf:void 0;function Yr(ie){var Ke=-1,Ct=ie==null?0:ie.length;for(this.clear();++Ke<Ct;){var cn=ie[Ke];this.set(cn[0],cn[1])}}function ri(){this.__data__=Sa?Sa(null):{},this.size=0}function as(ie){var Ke=this.has(ie)&&delete this.__data__[ie];return this.size-=Ke?1:0,Ke}function Ta(ie){var Ke=this.__data__;if(Sa){var Ct=Ke[ie];return Ct===l?void 0:Ct}return ft.call(Ke,ie)?Ke[ie]:void 0}function dt(ie){var Ke=this.__data__;return Sa?Ke[ie]!==void 0:ft.call(Ke,ie)}function Le(ie,Ke){var Ct=this.__data__;return this.size+=this.has(ie)?0:1,Ct[ie]=Sa&&Ke===void 0?l:Ke,this}Yr.prototype.clear=ri,Yr.prototype.delete=as,Yr.prototype.get=Ta,Yr.prototype.has=dt,Yr.prototype.set=Le;function Pt(ie){var Ke=-1,Ct=ie==null?0:ie.length;for(this.clear();++Ke<Ct;){var cn=ie[Ke];this.set(cn[0],cn[1])}}function Zt(){this.__data__=[],this.size=0}function to(ie){var Ke=this.__data__,Ct=Qo(Ke,ie);if(Ct<0)return!1;var cn=Ke.length-1;return Ct==cn?Ke.pop():Ot.call(Ke,Ct,1),--this.size,!0}function uo(ie){var Ke=this.__data__,Ct=Qo(Ke,ie);return Ct<0?void 0:Ke[Ct][1]}function Xn(ie){return Qo(this.__data__,ie)>-1}function vr(ie,Ke){var Ct=this.__data__,cn=Qo(Ct,ie);return cn<0?(++this.size,Ct.push([ie,Ke])):Ct[cn][1]=Ke,this}Pt.prototype.clear=Zt,Pt.prototype.delete=to,Pt.prototype.get=uo,Pt.prototype.has=Xn,Pt.prototype.set=vr;function zo(ie){var Ke=-1,Ct=ie==null?0:ie.length;for(this.clear();++Ke<Ct;){var cn=ie[Ke];this.set(cn[0],cn[1])}}function Fo(){this.size=0,this.__data__={hash:new Yr,map:new(yr||Pt),string:new Yr}}function ws(ie){var Ke=Cr(this,ie).delete(ie);return this.size-=Ke?1:0,Ke}function dn(ie){return Cr(this,ie).get(ie)}function lt(ie){return Cr(this,ie).has(ie)}function ut(ie,Ke){var Ct=Cr(this,ie),cn=Ct.size;return Ct.set(ie,Ke),this.size+=Ct.size==cn?0:1,this}zo.prototype.clear=Fo,zo.prototype.delete=ws,zo.prototype.get=dn,zo.prototype.has=lt,zo.prototype.set=ut;function en(ie){var Ke=-1,Ct=ie==null?0:ie.length;for(this.__data__=new zo;++Ke<Ct;)this.add(ie[Ke])}function En(ie){return this.__data__.set(ie,l),this}function An(ie){return this.__data__.has(ie)}en.prototype.add=en.prototype.push=En,en.prototype.has=An;function Un(ie){var Ke=this.__data__=new Pt(ie);this.size=Ke.size}function _n(){this.__data__=new Pt,this.size=0}function Jn(ie){var Ke=this.__data__,Ct=Ke.delete(ie);return this.size=Ke.size,Ct}function go(ie){return this.__data__.get(ie)}function $o(ie){return this.__data__.has(ie)}function Hr(ie,Ke){var Ct=this.__data__;if(Ct instanceof Pt){var cn=Ct.__data__;if(!yr||cn.length<s-1)return cn.push([ie,Ke]),this.size=++Ct.size,this;Ct=this.__data__=new zo(cn)}return Ct.set(ie,Ke),this.size=Ct.size,this}Un.prototype.clear=_n,Un.prototype.delete=Jn,Un.prototype.get=go,Un.prototype.has=$o,Un.prototype.set=Hr;function Es(ie,Ke){var Ct=pt(ie),cn=!Ct&&Ue(ie),Fn=!Ct&&!cn&&Gt(ie),Hn=!Ct&&!cn&&!Fn&&Bs(ie),Ro=Ct||cn||Fn||Hn,he=Ro?ve(ie.length,String):[],je=he.length;for(var et in ie)(Ke||ft.call(ie,et))&&!(Ro&&(et=="length"||Fn&&(et=="offset"||et=="parent")||Hn&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Ai(et,je)))&&he.push(et);return he}function Qo(ie,Ke){for(var Ct=ie.length;Ct--;)if(ma(ie[Ct][0],Ke))return Ct;return-1}function fi(ie,Ke,Ct){var cn=Ke(ie);return pt(ie)?cn:Ve(cn,Ct(ie))}function ar(ie){return ie==null?ie===void 0?ke:B:wt&&wt in Object(ie)?Vs(ie):hl(ie)}function Tr(ie){return xr(ie)&&ar(ie)==v}function Or(ie,Ke,Ct,cn,Fn){return ie===Ke?!0:ie==null||Ke==null||!xr(ie)&&!xr(Ke)?ie!==ie&&Ke!==Ke:Ys(ie,Ke,Ct,cn,Or,Fn)}function Ys(ie,Ke,Ct,cn,Fn,Hn){var Ro=pt(ie),he=pt(Ke),je=Ro?y:Oa(ie),et=he?y:Oa(Ke);je=je==v?O:je,et=et==v?O:et;var Nt=je==O,Dn=et==O,mo=je==et;if(mo&&Gt(ie)){if(!Gt(Ke))return!1;Ro=!0,Nt=!1}if(mo&&!Nt)return Hn||(Hn=new Un),Ro||Bs(ie)?di(ie,Ke,Ct,cn,Fn,Hn):fl(ie,Ke,je,Ct,cn,Fn,Hn);if(!(Ct&c)){var Wn=Nt&&ft.call(ie,"__wrapped__"),Wr=Dn&&ft.call(Ke,"__wrapped__");if(Wn||Wr){var is=Wn?ie.value():ie,nn=Wr?Ke.value():Ke;return Hn||(Hn=new Un),Fn(is,nn,Ct,cn,Hn)}}return mo?(Hn||(Hn=new Un),Mi(ie,Ke,Ct,cn,Fn,Hn)):!1}function Is(ie){if(!Ts(ie)||dl(ie))return!1;var Ke=Do(ie)?kn:fe;return Ke.test(Sr(ie))}function Ei(ie){return xr(ie)&&or(ie.length)&&!!Be[ar(ie)]}function Fa(ie){if(!hi(ie))return pn(ie);var Ke=[];for(var Ct in Object(ie))ft.call(ie,Ct)&&Ct!="constructor"&&Ke.push(Ct);return Ke}function di(ie,Ke,Ct,cn,Fn,Hn){var Ro=Ct&c,he=ie.length,je=Ke.length;if(he!=je&&!(Ro&&je>he))return!1;var et=Hn.get(ie);if(et&&Hn.get(Ke))return et==Ke;var Nt=-1,Dn=!0,mo=Ct&d?new en:void 0;for(Hn.set(ie,Ke),Hn.set(Ke,ie);++Nt<he;){var Wn=ie[Nt],Wr=Ke[Nt];if(cn)var is=Ro?cn(Wr,Wn,Nt,Ke,ie,Hn):cn(Wn,Wr,Nt,ie,Ke,Hn);if(is!==void 0){if(is)continue;Dn=!1;break}if(mo){if(!Oe(Ke,function(nn,Xs){if(!xe(mo,Xs)&&(Wn===nn||Fn(Wn,nn,Ct,cn,Hn)))return mo.push(Xs)})){Dn=!1;break}}else if(!(Wn===Wr||Fn(Wn,Wr,Ct,cn,Hn))){Dn=!1;break}}return Hn.delete(ie),Hn.delete(Ke),Dn}function fl(ie,Ke,Ct,cn,Fn,Hn,Ro){switch(Ct){case G:if(ie.byteLength!=Ke.byteLength||ie.byteOffset!=Ke.byteOffset)return!1;ie=ie.buffer,Ke=Ke.buffer;case Q:return!(ie.byteLength!=Ke.byteLength||!Hn(new _o(ie),new _o(Ke)));case x:case T:case D:return ma(+ie,+Ke);case k:return ie.name==Ke.name&&ie.message==Ke.message;case z:case j:return ie==Ke+"";case N:var he=Xe;case K:var je=cn&c;if(he||(he=qt),ie.size!=Ke.size&&!je)return!1;var et=Ro.get(ie);if(et)return et==Ke;cn|=d,Ro.set(ie,Ke);var Nt=di(he(ie),he(Ke),cn,Fn,Hn,Ro);return Ro.delete(ie),Nt;case oe:if(ca)return ca.call(ie)==ca.call(Ke)}return!1}function Mi(ie,Ke,Ct,cn,Fn,Hn){var Ro=Ct&c,he=ki(ie),je=he.length,et=ki(Ke),Nt=et.length;if(je!=Nt&&!Ro)return!1;for(var Dn=je;Dn--;){var mo=he[Dn];if(!(Ro?mo in Ke:ft.call(Ke,mo)))return!1}var Wn=Hn.get(ie);if(Wn&&Hn.get(Ke))return Wn==Ke;var Wr=!0;Hn.set(ie,Ke),Hn.set(Ke,ie);for(var is=Ro;++Dn<je;){mo=he[Dn];var nn=ie[mo],Xs=Ke[mo];if(cn)var hs=Ro?cn(Xs,nn,mo,Ke,ie,Hn):cn(nn,Xs,mo,ie,Ke,Hn);if(!(hs===void 0?nn===Xs||Fn(nn,Xs,Ct,cn,Hn):hs)){Wr=!1;break}is||(is=mo=="constructor")}if(Wr&&!is){var Js=ie.constructor,Dl=Ke.constructor;Js!=Dl&&"constructor"in ie&&"constructor"in Ke&&!(typeof Js=="function"&&Js instanceof Js&&typeof Dl=="function"&&Dl instanceof Dl)&&(Wr=!1)}return Hn.delete(ie),Hn.delete(Ke),Wr}function ki(ie){return fi(ie,Cs,si)}function Cr(ie,Ke){var Ct=ie.__data__;return ga(Ke)?Ct[typeof Ke=="string"?"string":"hash"]:Ct.map}function Ra(ie,Ke){var Ct=ot(ie,Ke);return Is(Ct)?Ct:void 0}function Vs(ie){var Ke=ft.call(ie,wt),Ct=ie[wt];try{ie[wt]=void 0;var cn=!0}catch{}var Fn=sn.call(ie);return cn&&(Ke?ie[wt]=Ct:delete ie[wt]),Fn}var si=wn?function(ie){return ie==null?[]:(ie=Object(ie),Re(wn(ie),function(Ke){return mr.call(ie,Ke)}))}:Ls,Oa=ar;(eo&&Oa(new eo(new ArrayBuffer(1)))!=G||yr&&Oa(new yr)!=N||As&&Oa(As.resolve())!=P||la&&Oa(new la)!=K||pr&&Oa(new pr)!=ae)&&(Oa=function(ie){var Ke=ar(ie),Ct=Ke==O?ie.constructor:void 0,cn=Ct?Sr(Ct):"";if(cn)switch(cn){case wr:return G;case Jo:return N;case To:return P;case xs:return K;case ra:return ae}return Ke});function Ai(ie,Ke){return Ke=Ke==null?p:Ke,!!Ke&&(typeof ie=="number"||ce.test(ie))&&ie>-1&&ie%1==0&&ie<Ke}function ga(ie){var Ke=typeof ie;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?ie!=="__proto__":ie===null}function dl(ie){return!!Tt&&Tt in ie}function hi(ie){var Ke=ie&&ie.constructor,Ct=typeof Ke=="function"&&Ke.prototype||zn;return ie===Ct}function hl(ie){return sn.call(ie)}function Sr(ie){if(ie!=null){try{return oo.call(ie)}catch{}try{return ie+""}catch{}}return""}function ma(ie,Ke){return ie===Ke||ie!==ie&&Ke!==Ke}var Ue=Tr(function(){return arguments}())?Tr:function(ie){return xr(ie)&&ft.call(ie,"callee")&&!mr.call(ie,"callee")},pt=Array.isArray;function xt(ie){return ie!=null&&or(ie.length)&&!Do(ie)}var Gt=xn||Ma;function gn(ie,Ke){return Or(ie,Ke)}function Do(ie){if(!Ts(ie))return!1;var Ke=ar(ie);return Ke==A||Ke==F||Ke==S||Ke==I}function or(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=p}function Ts(ie){var Ke=typeof ie;return ie!=null&&(Ke=="object"||Ke=="function")}function xr(ie){return ie!=null&&typeof ie=="object"}var Bs=He?se(He):Ei;function Cs(ie){return xt(ie)?Es(ie):Fa(ie)}function Ls(){return[]}function Ma(){return!1}e.exports=gn});Qd("en",{tableModule:{deleteCol:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",widthAuto:"Width auto",insertCol:"Insert column",insertRow:"Insert row",insertTable:"Insert table",header:"Header"}}),Qd("zh-CN",{tableModule:{deleteCol:"\u5220\u9664\u5217",deleteRow:"\u5220\u9664\u884C",deleteTable:"\u5220\u9664\u8868\u683C",widthAuto:"\u5BBD\u5EA6\u81EA\u9002\u5E94",insertCol:"\u63D2\u5165\u5217",insertRow:"\u63D2\u5165\u884C",insertTable:"\u63D2\u5165\u8868\u683C",header:"\u8868\u5934"}});var W0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s4e(e){var o={exports:{}};return e(o,o.exports),o.exports}var Pw,MV,Qz=function(e){return e&&e.Math==Math&&e},Ms=Qz(typeof globalThis=="object"&&globalThis)||Qz(typeof window=="object"&&window)||Qz(typeof self=="object"&&self)||Qz(typeof W0e=="object"&&W0e)||function(){return this}()||Function("return this")(),Lc=function(e){try{return!!e()}catch{return!0}},CC=!Lc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),zB=Function.prototype.call,Rc=zB.bind?zB.bind(zB):function(){return zB.apply(zB,arguments)},q0e={}.propertyIsEnumerable,Z0e=Object.getOwnPropertyDescriptor,Nze={f:Z0e&&!q0e.call({1:2},1)?function(e){var o=Z0e(this,e);return!!o&&o.enumerable}:q0e},Cfe=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},a4e=Function.prototype,Yie=a4e.bind,Xie=a4e.call,Pze=Yie&&Yie.bind(Xie),Ks=Yie?function(e){return e&&Pze(Xie,e)}:function(e){return e&&function(){return Xie.apply(e,arguments)}},Fze=Ks({}.toString),Rze=Ks("".slice),rC=function(e){return Rze(Fze(e),8,-1)},_re=Ms.Object,Mze=Ks("".split),i4e=Lc(function(){return!_re("z").propertyIsEnumerable(0)})?function(e){return rC(e)=="String"?Mze(e,""):_re(e)}:_re,Ize=Ms.TypeError,SC=function(e){if(e==null)throw Ize("Can't call method on "+e);return e},sF=function(e){return i4e(SC(e))},sf=function(e){return typeof e=="function"},ig=function(e){return typeof e=="object"?e!==null:sf(e)},Lze=function(e){return sf(e)?e:void 0},aF=function(e,o){return arguments.length<2?Lze(Ms[e]):Ms[e]&&Ms[e][o]},l4e=Ks({}.isPrototypeOf),$re=aF("navigator","userAgent")||"",G0e=Ms.process,K0e=Ms.Deno,Y0e=G0e&&G0e.versions||K0e&&K0e.version,X0e=Y0e&&Y0e.v8;X0e&&(MV=(Pw=X0e.split("."))[0]>0&&Pw[0]<4?1:+(Pw[0]+Pw[1])),!MV&&$re&&(!(Pw=$re.match(/Edge\/(\d+)/))||Pw[1]>=74)&&(Pw=$re.match(/Chrome\/(\d+)/))&&(MV=+Pw[1]);var Jie=MV,Qie=!!Object.getOwnPropertySymbols&&!Lc(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Jie&&Jie<41}),Sfe=Qie&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Hze=Ms.Object,ele=Sfe?function(e){return typeof e=="symbol"}:function(e){var o=aF("Symbol");return sf(o)&&l4e(o.prototype,Hze(e))},jze=Ms.String,c4e=function(e){try{return jze(e)}catch{return"Object"}},zze=Ms.TypeError,u4e=function(e){if(sf(e))return e;throw zze(c4e(e)+" is not a function")},xfe=function(e,o){var s=e[o];return s==null?void 0:u4e(s)},Vze=Ms.TypeError,Uze=Object.defineProperty,Efe=function(e,o){try{Uze(Ms,e,{value:o,configurable:!0,writable:!0})}catch{Ms[e]=o}return o},sC=Ms["__core-js_shared__"]||Efe("__core-js_shared__",{}),kfe=s4e(function(e){(e.exports=function(o,s){return sC[o]||(sC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),Wze=Ms.Object,Afe=function(e){return Wze(SC(e))},qze=Ks({}.hasOwnProperty),fg=Object.hasOwn||function(e,o){return qze(Afe(e),o)},Zze=0,Gze=Math.random(),Kze=Ks(1 .toString),f4e=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Kze(++Zze+Gze,36)},VB=kfe("wks"),p4=Ms.Symbol,J0e=p4&&p4.for,Yze=Sfe?p4:p4&&p4.withoutSetter||f4e,vg=function(e){if(!fg(VB,e)||!Qie&&typeof VB[e]!="string"){var o="Symbol."+e;Qie&&fg(p4,e)?VB[e]=p4[e]:VB[e]=Sfe&&J0e?J0e(o):Yze(o)}return VB[e]},Xze=Ms.TypeError,Jze=vg("toPrimitive"),Qze=function(e,o){if(!ig(e)||ele(e))return e;var s,l=xfe(e,Jze);if(l){if(o===void 0&&(o="default"),s=Rc(l,e,o),!ig(s)||ele(s))return s;throw Xze("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&sf(p=c.toString)&&!ig(v=Rc(p,c))||sf(p=c.valueOf)&&!ig(v=Rc(p,c))||d!=="string"&&sf(p=c.toString)&&!ig(v=Rc(p,c)))return v;throw Vze("Can't convert object to primitive value")}(e,o)},Tfe=function(e){var o=Qze(e,"string");return ele(o)?o:o+""},tle=Ms.document,eVe=ig(tle)&&ig(tle.createElement),Ofe=function(e){return eVe?tle.createElement(e):{}},d4e=!CC&&!Lc(function(){return Object.defineProperty(Ofe("div"),"a",{get:function(){return 7}}).a!=7}),Q0e=Object.getOwnPropertyDescriptor,h4e={f:CC?Q0e:function(e,o){if(e=sF(e),o=Tfe(o),d4e)try{return Q0e(e,o)}catch{}if(fg(e,o))return Cfe(!Rc(Nze.f,e,o),e[o])}},tVe=Ms.String,nVe=Ms.TypeError,mg=function(e){if(ig(e))return e;throw nVe(tVe(e)+" is not an object")},oVe=Ms.TypeError,ebe=Object.defineProperty,iF={f:CC?ebe:function(e,o,s){if(mg(e),o=Tfe(o),mg(s),d4e)try{return ebe(e,o,s)}catch{}if("get"in s||"set"in s)throw oVe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},R_=CC?function(e,o,s){return iF.f(e,o,Cfe(1,s))}:function(e,o,s){return e[o]=s,e},rVe=Ks(Function.toString);sf(sC.inspectSource)||(sC.inspectSource=function(e){return rVe(e)});var XU,NN,JU,_fe=sC.inspectSource,tbe=Ms.WeakMap,sVe=sf(tbe)&&/native code/.test(_fe(tbe)),nbe=kfe("keys"),p4e=function(e){return nbe[e]||(nbe[e]=f4e(e))},$fe={},nle=Ms.TypeError,aVe=Ms.WeakMap;if(sVe||sC.state){var ME=sC.state||(sC.state=new aVe),iVe=Ks(ME.get),obe=Ks(ME.has),lVe=Ks(ME.set);XU=function(e,o){if(obe(ME,e))throw new nle("Object already initialized");return o.facade=e,lVe(ME,e,o),o},NN=function(e){return iVe(ME,e)||{}},JU=function(e){return obe(ME,e)}}else{var PO=p4e("state");$fe[PO]=!0,XU=function(e,o){if(fg(e,PO))throw new nle("Object already initialized");return o.facade=e,R_(e,PO,o),o},NN=function(e){return fg(e,PO)?e[PO]:{}},JU=function(e){return fg(e,PO)}}var ole={set:XU,get:NN,has:JU,enforce:function(e){return JU(e)?NN(e):XU(e,{})},getterFor:function(e){return function(o){var s;if(!ig(o)||(s=NN(o)).type!==e)throw nle("Incompatible receiver, "+e+" required");return s}}},g4e=Function.prototype,cVe=CC&&Object.getOwnPropertyDescriptor,Dre=fg(g4e,"name"),Dfe={EXISTS:Dre,PROPER:Dre&&function(){}.name==="something",CONFIGURABLE:Dre&&(!CC||CC&&cVe(g4e,"name").configurable)},fP=s4e(function(e){var o=Dfe.CONFIGURABLE,s=ole.get,l=ole.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;sf(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!fg(v,"name")||o&&v.name!==A)&&R_(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==Ms?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:R_(d,p,v)):T?d[p]=v:Efe(p,v)})(Function.prototype,"toString",function(){return sf(this)&&s(this).source||_fe(this)})}),uVe=Math.ceil,fVe=Math.floor,Aq=function(e){var o=+e;return o!=o||o===0?0:(o>0?fVe:uVe)(o)},dVe=Math.max,hVe=Math.min,dP=function(e,o){var s=Aq(e);return s<0?dVe(s+o,0):hVe(s,o)},pVe=Math.min,Bfe=function(e){return e>0?pVe(Aq(e),9007199254740991):0},Tq=function(e){return Bfe(e.length)},rbe=function(e){return function(o,s,l){var c,d=sF(o),p=Tq(d),v=dP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},gVe={includes:rbe(!0),indexOf:rbe(!1)}.indexOf,sbe=Ks([].push),m4e=function(e,o){var s,l=sF(e),c=0,d=[];for(s in l)!fg($fe,s)&&fg(l,s)&&sbe(d,s);for(;o.length>c;)fg(l,s=o[c++])&&(~gVe(d,s)||sbe(d,s));return d},QU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],mVe=QU.concat("length","prototype"),vVe={f:Object.getOwnPropertyNames||function(e){return m4e(e,mVe)}},bVe={f:Object.getOwnPropertySymbols},yVe=Ks([].concat),wVe=aF("Reflect","ownKeys")||function(e){var o=vVe.f(mg(e)),s=bVe.f;return s?yVe(o,s(e)):o},CVe=function(e,o){for(var s=wVe(o),l=iF.f,c=h4e.f,d=0;d<s.length;d++){var p=s[d];fg(e,p)||l(e,p,c(o,p))}},SVe=/#|\.prototype\./,lF=function(e,o){var s=EVe[xVe(e)];return s==AVe||s!=kVe&&(sf(o)?Lc(o):!!o)},xVe=lF.normalize=function(e){return String(e).replace(SVe,".").toLowerCase()},EVe=lF.data={},kVe=lF.NATIVE="N",AVe=lF.POLYFILL="P",TVe=lF,OVe=h4e.f,xC=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?Ms:S?Ms[v]||Efe(v,{}):(Ms[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=OVe(s,l))&&p.value:s[l],!TVe(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;CVe(d,c)}(e.sham||c&&c.sham)&&R_(d,"sham",!0),fP(s,l,d,e)}},v4e={};v4e[vg("toStringTag")]="z";var abe,Nfe=String(v4e)==="[object z]",_Ve=vg("toStringTag"),$Ve=Ms.Object,DVe=rC(function(){return arguments}())=="Arguments",Pfe=Nfe?rC:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=$Ve(e),_Ve))=="string"?s:DVe?rC(o):(l=rC(o))=="Object"&&sf(o.callee)?"Arguments":l},BVe=Ms.String,Nf=function(e){if(Pfe(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return BVe(e)},NVe=/"/g,PVe=Ks("".replace);xC({target:"String",proto:!0,forced:(abe="anchor",Lc(function(){var e=""[abe]('"');return e!==e.toLowerCase()||e.split('"').length>3}))},{anchor:function(e){return o="a",s="name",l=e,c=Nf(SC(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+PVe(Nf(l),NVe,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var eV,b4e=function(){var e=mg(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},Ffe=Ms.RegExp,rle=Lc(function(){var e=Ffe("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),FVe=rle||Lc(function(){return!Ffe("a","y").sticky}),y4e={BROKEN_CARET:rle||Lc(function(){var e=Ffe("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:FVe,UNSUPPORTED_Y:rle},RVe=Object.keys||function(e){return m4e(e,QU)},MVe=CC?Object.defineProperties:function(e,o){mg(e);for(var s,l=sF(o),c=RVe(o),d=c.length,p=0;d>p;)iF.f(e,s=c[p++],l[s]);return e},IVe=aF("document","documentElement"),w4e=p4e("IE_PROTO"),Bre=function(){},C4e=function(e){return"<script>"+e+"<\/script>"},ibe=function(e){e.write(C4e("")),e.close();var o=e.parentWindow.Object;return e=null,o},IV=function(){try{eV=new ActiveXObject("htmlfile")}catch{}var e,o;IV=typeof document<"u"?document.domain&&eV?ibe(eV):((o=Ofe("iframe")).style.display="none",IVe.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(C4e("document.F=Object")),e.close(),e.F):ibe(eV);for(var s=QU.length;s--;)delete IV.prototype[QU[s]];return IV()};$fe[w4e]=!0;var lbe,Nre,S4e=Object.create||function(e,o){var s;return e!==null?(Bre.prototype=mg(e),s=new Bre,Bre.prototype=null,s[w4e]=e):s=IV(),o===void 0?s:MVe(s,o)},LVe=Ms.RegExp,HVe=Lc(function(){var e=LVe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),jVe=Ms.RegExp,zVe=Lc(function(){var e=jVe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),VVe=ole.get,UVe=kfe("native-string-replace",String.prototype.replace),eW=RegExp.prototype.exec,sle=eW,WVe=Ks("".charAt),qVe=Ks("".indexOf),ZVe=Ks("".replace),Pre=Ks("".slice),Fre=(Nre=/b*/g,Rc(eW,lbe=/a/,"a"),Rc(eW,Nre,"a"),lbe.lastIndex!==0||Nre.lastIndex!==0),cbe=y4e.BROKEN_CARET,Rre=/()??/.exec("")[1]!==void 0;(Fre||Rre||cbe||HVe||zVe)&&(sle=function(e){var o,s,l,c,d,p,v,y=this,S=VVe(y),x=Nf(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=Rc(sle,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=cbe&&y.sticky,F=Rc(b4e,y),N=y.source,D=0,B=x;if(A&&(F=ZVe(F,"y",""),qVe(F,"g")===-1&&(F+="g"),B=Pre(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&WVe(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),Rre&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Fre&&(l=y.lastIndex),c=Rc(eW,A?s:y,B),A?c?(c.input=Pre(c.input,D),c[0]=Pre(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:Fre&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),Rre&&c&&c.length>1&&Rc(UVe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=S4e(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var hP=sle;xC({target:"RegExp",proto:!0,forced:/./.exec!==hP},{exec:hP});var tW=Array.isArray||function(e){return rC(e)=="Array"},x4e=function(){},GVe=[],E4e=aF("Reflect","construct"),Rfe=/^\s*(?:class|function)\b/,KVe=Ks(Rfe.exec),YVe=!Rfe.exec(x4e),UB=function(e){if(!sf(e))return!1;try{return E4e(x4e,GVe,e),!0}catch{return!1}},Mfe=!E4e||Lc(function(){var e;return UB(UB.call)||!UB(Object)||!UB(function(){e=!0})||e})?function(e){if(!sf(e))return!1;switch(Pfe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return YVe||!!KVe(Rfe,_fe(e))}:UB,k4e=function(e,o,s){var l=Tfe(o);l in e?iF.f(e,l,Cfe(0,s)):e[l]=s},XVe=vg("species"),Ife=function(e){return Jie>=51||!Lc(function(){var o=[];return(o.constructor={})[XVe]=function(){return{foo:1}},o[e](Boolean).foo!==1})},JVe=Ks([].slice),QVe=Ife("slice"),eUe=vg("species"),Mre=Ms.Array,tUe=Math.max;function Vm(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function ube(e){var o=e.selection;if(o==null)return!1;var s=Vm(ze.nodes(e,{match:function(d){return St.checkNodeType(d,"table-cell")}}),1)[0];if(s){var l=Vm(s,2)[1],c=ze.start(e,l);if(Ds.equals(o.anchor,c))return!0}return!1}function fbe(e,o){var s,l,c=ze.nodes(e,{at:o,match:function(y){return St.getNodeType(y)==="table"}}),d=!1;try{for(var p=function(y){var S=typeof Symbol=="function"&&Symbol.iterator,x=S&&y[S],T=0;if(x)return x.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&T>=y.length&&(y=void 0),{value:y&&y[T++],done:!y}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),v=p.next();!v.done;v=p.next())v.value,d=!0}catch(y){s={error:y}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return d}xC({target:"Array",proto:!0,forced:!QVe},{slice:function(e,o){var s,l,c,d=sF(this),p=Tq(d),v=dP(e,p),y=dP(o===void 0?p:o,p);if(tW(d)&&(s=d.constructor,(Mfe(s)&&(s===Mre||tW(s.prototype))||ig(s)&&(s=s[eUe])===null)&&(s=void 0),s===Mre||s===void 0))return JVe(d,v,y);for(l=new(s===void 0?Mre:s)(tUe(y-v,0)),c=0;v<y;v++,c++)v in d&&k4e(l,c,d[v]);return l.length=c,l}});var dbe=Ks(Ks.bind),nUe=vg("species"),hbe=Ms.Array,oUe=function(e,o){return new(function(s){var l;return tW(s)&&(l=s.constructor,(Mfe(l)&&(l===hbe||tW(l.prototype))||ig(l)&&(l=l[nUe])===null)&&(l=void 0)),l===void 0?hbe:l}(e))(o===0?0:o)},pbe=Ks([].push),Fw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=Afe(y),N=i4e(F),D=function(z,K){return u4e(z),K===void 0?z:dbe?dbe(z,K):function(){return z.apply(K,arguments)}}(S,x),B=Tq(N),O=0,P=T||oUe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:pbe(I,k)}else switch(e){case 4:return!1;case 7:pbe(I,k)}return d?-1:l||c?c:I}},Oq={forEach:Fw(0),map:Fw(1),filter:Fw(2),some:Fw(3),every:Fw(4),find:Fw(5),findIndex:Fw(6),filterReject:Fw(7)},rUe=Oq.map;xC({target:"Array",proto:!0,forced:!Ife("map")},{map:function(e){return rUe(this,e,arguments.length>1?arguments[1]:void 0)}});var sUe=Nfe?{}.toString:function(){return"[object "+Pfe(this)+"]"};function _q(e){var o=e.children||[];return o.length===0?[]:(o[0]||{}).children||[]}function A4e(e){return _q(e).every(function(o){return!!o.isHeader})}Nfe||fP(Object.prototype,"toString",sUe,{unsafe:!0});var aUe=Dfe.PROPER,ale=RegExp.prototype,T4e=ale.toString,iUe=Ks(b4e),lUe=Lc(function(){return T4e.call({source:"a",flags:"b"})!="/a/b"}),cUe=aUe&&T4e.name!="toString";(lUe||cUe)&&fP(RegExp.prototype,"toString",function(){var e=mg(this),o=Nf(e.source),s=e.flags;return"/"+o+"/"+Nf(s===void 0&&l4e(ale,e)&&!("flags"in ale)?iUe(e):s)},{unsafe:!0});var ile=vg("unscopables"),lle=Array.prototype;lle[ile]==null&&iF.f(lle,ile,{configurable:!0,value:S4e(null)});var gbe,uUe=Oq.find,mbe=!0;"find"in[]&&Array(1).find(function(){mbe=!1}),xC({target:"Array",proto:!0,forced:mbe},{find:function(e){return uUe(this,e,arguments.length>1?arguments[1]:void 0)}}),gbe="find",lle[ile][gbe]=!0;var Lfe=Function.prototype,vbe=Lfe.apply,fUe=Lfe.bind,bbe=Lfe.call,O4e=typeof Reflect=="object"&&Reflect.apply||(fUe?bbe.bind(vbe):function(){return bbe.apply(vbe,arguments)}),dUe=vg("species"),Ire=RegExp.prototype,_4e=function(e,o,s,l){var c=vg(e),d=!Lc(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Lc(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[dUe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=Ks(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=Ks(S),N=x.exec;return N===hP||N===Ire.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});fP(String.prototype,e,y[0]),fP(Ire,c,y[1])}l&&R_(Ire[c],"sham",!0)},hUe=vg("match"),pUe=Ms.TypeError,gUe=vg("species"),mUe=function(e,o){var s,l=mg(e).constructor;return l===void 0||(s=mg(l)[gUe])==null?o:function(c){if(Mfe(c))return c;throw pUe(c4e(c)+" is not a constructor")}(s)},vUe=Ks("".charAt),ybe=Ks("".charCodeAt),bUe=Ks("".slice),wbe=function(e){return function(o,s){var l,c,d=Nf(SC(o)),p=Aq(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=ybe(d,p))<55296||l>56319||p+1===v||(c=ybe(d,p+1))<56320||c>57343?e?vUe(d,p):l:e?bUe(d,p,p+2):c-56320+(l-55296<<10)+65536}},yUe={codeAt:wbe(!1),charAt:wbe(!0)}.charAt,$4e=function(e,o,s){return o+(s?yUe(e,o).length:1)},wUe=Ms.Array,CUe=Math.max,Cbe=function(e,o,s){for(var l=Tq(e),c=dP(o,l),d=dP(s===void 0?l:s,l),p=wUe(CUe(d-c,0)),v=0;c<d;c++,v++)k4e(p,v,e[c]);return p.length=v,p},SUe=Ms.TypeError,cle=function(e,o){var s=e.exec;if(sf(s)){var l=Rc(s,e,o);return l!==null&&mg(l),l}if(rC(e)==="RegExp")return Rc(hP,e,o);throw SUe("RegExp#exec called on incompatible receiver")},FO=y4e.UNSUPPORTED_Y,xUe=Math.min,D4e=[].push,EUe=Ks(/./.exec),RO=Ks(D4e),WB=Ks("".slice);_4e("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p,v,y=Nf(SC(this)),S=d===void 0?4294967295:d>>>0;if(S===0)return[];if(c===void 0)return[y];if(!ig(p=c)||!((v=p[hUe])!==void 0?v:rC(p)=="RegExp"))return Rc(o,y,c,S);for(var x,T,k,A=[],F=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),N=0,D=new RegExp(c.source,F+"g");(x=Rc(hP,D,y))&&!((T=D.lastIndex)>N&&(RO(A,WB(y,N,x.index)),x.length>1&&x.index<y.length&&O4e(D4e,A,Cbe(x,1)),k=x[0].length,N=T,A.length>=S));)D.lastIndex===x.index&&D.lastIndex++;return N===y.length?!k&&EUe(D,"")||RO(A,""):RO(A,WB(y,N)),A.length>S?Cbe(A,0,S):A}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:Rc(o,this,c,d)}:o,[function(c,d){var p=SC(this),v=c==null?void 0:xfe(c,e);return v?Rc(v,c,p,d):Rc(l,Nf(p),c,d)},function(c,d){var p=mg(this),v=Nf(c),y=s(l,p,v,d,l!==o);if(y.done)return y.value;var S=mUe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(FO?"g":"y"),k=new S(FO?"^(?:"+p.source+")":p,T),A=d===void 0?4294967295:d>>>0;if(A===0)return[];if(v.length===0)return cle(k,v)===null?[v]:[];for(var F=0,N=0,D=[];N<v.length;){k.lastIndex=FO?0:N;var B,O=cle(k,FO?WB(v,N):v);if(O===null||(B=xUe(Bfe(k.lastIndex+(FO?N:0)),v.length))===F)N=$4e(v,N,x);else{if(RO(D,WB(v,F,N)),D.length===A)return D;for(var P=1;P<=O.length-1;P++)if(RO(D,O[P]),D.length===A)return D;N=F=B}}return RO(D,WB(v,F)),D}]},!!Lc(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),FO);var ule=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Sbe=Ks("".replace),nW="["+ule+"]",kUe=RegExp("^"+nW+nW+"*"),AUe=RegExp(nW+nW+"*$"),Lre=function(e){return function(o){var s=Nf(SC(o));return 1&e&&(s=Sbe(s,kUe,"")),2&e&&(s=Sbe(s,AUe,"")),s}},TUe={start:Lre(1),end:Lre(2),trim:Lre(3)},OUe=Dfe.PROPER,_Ue=TUe.trim;function B4e(e){return e.length?e[0].tagName.toLowerCase():""}xC({target:"String",proto:!0,forced:function(e){return Lc(function(){return!!ule[e]()||"\u200B\x85\u180E"[e]()!=="\u200B\x85\u180E"||OUe&&ule[e].name!==e})}("trim")},{trim:function(){return _Ue(this)}}),xC({global:!0},{globalThis:Ms}),zv&&(Dt.fn.append=zv),jv&&(Dt.fn.on=jv),gC&&(Dt.fn.focus=gC),Lv&&(Dt.fn.attr=Lv),Hv&&(Dt.fn.val=Hv),pC&&(Dt.fn.html=pC),C_&&(Dt.fn.dataset=C_),b_&&(Dt.fn.addClass=b_),y_&&(Dt.fn.removeClass=y_),E_&&(Dt.fn.children=E_),aU&&(Dt.fn.each=aU),x_&&(Dt.fn.find=x_);var pP=!1,N4e=0,P4e=0,gP=null,mP=null,PN=Dt("body");function F4e(e){pP=!1,mP=null,gP=null,PN.off("mousemove",R4e),PN.off("mouseup",F4e)}PN.on("mousedown",function(e){var o=e.target;if((o.tagName==="TH"||o.tagName==="TD")&&o.style.cursor==="col-resize"){o.style.cursor="auto",e.preventDefault(),pP=!0;var s=e.clientX;N4e=s;var l=o.getBoundingClientRect().width;P4e=l,PN.on("mousemove",R4e),PN.on("mouseup",F4e)}});var R4e=x4(function(e){if(pP&&mP!=null&&gP!=null){e.preventDefault();var o=e.clientX,s=P4e+(o-N4e);(s=Math.floor(100*s)/100)<30&&(s=30),Jt.setNodes(mP,{width:s.toString()},{at:gP})}},100),$Ue={type:"table",renderElem:function(e,o,s){var l=function(S,x){if(S.isDisabled())return!1;var T=S.selection;if(T==null||yn.isCollapsed(T))return!0;var k=T.anchor,A=T.focus,F=St.findPath(S,x),N=ze.start(S,F),D=ze.end(S,F),B=Ds.compare(k,D)<=0&&Ds.compare(k,N)>=0,O=Ds.compare(A,D)<=0&&Ds.compare(A,N)>=0;return!!(B&&O&&zt.equals(k.path.slice(0,3),A.path.slice(0,3)))}(s,e),c=e.width,d=c===void 0?"auto":c,p=St.isNodeSelected(s,e),v=_q(e),y=ds("div",{className:"table-container","data-selected":p,on:{mousedown:function(S){if(S.target.tagName==="DIV"&&S.preventDefault(),!s.isDisabled()){var x=St.findPath(s,e),T=ze.start(s,x),k=s.selection;k!=null?k.anchor.path[0]!==x[0]&&s.select(T):s.select(T)}}}},ds("table",{width:d,contentEditable:l},ds("colgroup",null,v.map(function(S){var x=S.width;return ds("col",{width:x===void 0?"auto":x})})),ds("tbody",null,o)));return y}},DUe={type:"table-row",renderElem:function(e,o,s){return ds("tr",null,o)}},BUe={type:"table-cell",renderElem:function(e,o,s){var l=function(k,A){var F=St.getParentNode(k,A);if(F==null)return!1;var N=St.getParentNode(k,F);return N!=null&&_q(N).some(function(D){return D===A})}(s,e),c=e,d=c.colSpan,p=d===void 0?1:d,v=c.rowSpan,y=v===void 0?1:v,S=c.isHeader,x=S!==void 0&&S;if(!l)return ds("td",{colSpan:p,rowSpan:y},o);var T=ds(x?"th":"td",{colSpan:p,rowSpan:y,style:{borderRightWidth:"3px"},on:{mousemove:x4(function(k){var A=this.elm;if(A!=null){var F=A.getBoundingClientRect(),N=F.left,D=F.width,B=F.top,O=F.height,P=k.clientX,I=k.clientY;pP||(P>N+D-5&&P<N+D&&I>B&&I<B+O?(A.style.cursor="col-resize",mP=s,gP=St.findPath(s,e)):pP||(A.style.cursor="auto",mP=null,gP=null))}},100)}},o);return T}},NUe={type:"table",elemToHtml:function(e,o){var s=e.width;return'<table style="width: '+(s===void 0?"auto":s)+';"><tbody>'+o+"</tbody></table>"}},PUe={type:"table-row",elemToHtml:function(e,o){return"<tr>"+o+"</tr>"}},FUe={type:"table-cell",elemToHtml:function(e,o){var s=e,l=s.colSpan,c=l===void 0?1:l,d=s.rowSpan,p=d===void 0?1:d,v=s.isHeader,y=v!==void 0&&v,S=s.width,x=y?"th":"td";return"<"+x+' colSpan="'+c+'" rowSpan="'+p+'" width="'+(S===void 0?"auto":S)+'">'+o+"</"+x+">"}},RUe={selector:"table",preParseHtml:function(e){var o=Dt(e);if(B4e(o)!=="table")return e;var s=o.find("tbody");if(s.length===0)return e;var l=o.find("tr");return o.append(l),s.remove(),o[0]}},MUe=Oq.filter;xC({target:"Array",proto:!0,forced:!Ife("filter")},{filter:function(e){return MUe(this,e,arguments.length>1?arguments[1]:void 0)}});var IUe=Math.floor,Hre=Ks("".charAt),LUe=Ks("".replace),jre=Ks("".slice),HUe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,jUe=/\$([$&'`]|\d{1,2})/g,zUe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,y=jUe;return c!==void 0&&(c=Afe(c),y=HUe),LUe(d,y,function(S,x){var T;switch(Hre(x,0)){case"$":return"$";case"&":return e;case"`":return jre(o,0,s);case"'":return jre(o,p);case"<":T=c[jre(x,1,-1)];break;default:var k=+x;if(k===0)return S;if(k>v){var A=IUe(k/10);return A===0?S:A<=v?l[A-1]===void 0?Hre(x,1):l[A-1]+Hre(x,1):S}T=l[k-1]}return T===void 0?"":T})},fle=vg("replace"),VUe=Math.max,UUe=Math.min,WUe=Ks([].concat),zre=Ks([].push),xbe=Ks("".indexOf),Ebe=Ks("".slice),qUe="a".replace(/./,"$0")==="$0",kbe=!!/./[fle]&&/./[fle]("a","$0")==="";_4e("replace",function(e,o,s){var l=kbe?"$":"$0";return[function(c,d){var p=SC(this),v=c==null?void 0:xfe(c,fle);return v?Rc(v,c,p,d):Rc(o,Nf(p),c,d)},function(c,d){var p=mg(this),v=Nf(c);if(typeof d=="string"&&xbe(d,l)===-1&&xbe(d,"$<")===-1){var y=s(o,p,v,d);if(y.done)return y.value}var S=sf(d);S||(d=Nf(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var k=[];;){var A=cle(p,v);if(A===null||(zre(k,A),!x))break;Nf(A[0])===""&&(p.lastIndex=$4e(v,Bfe(p.lastIndex),T))}for(var F,N="",D=0,B=0;B<k.length;B++){for(var O=Nf((A=k[B])[0]),P=VUe(UUe(Aq(A.index),v.length),0),I=[],z=1;z<A.length;z++)zre(I,(F=A[z])===void 0?F:String(F));var K=A.groups;if(S){var j=WUe([O],I,P,v);K!==void 0&&zre(j,K);var oe=Nf(O4e(d,void 0,j))}else oe=zUe(O,v,P,I,K,d);P>=D&&(N+=Ebe(v,D,P)+oe,D=P+O.length)}return N+Ebe(v,D)}]},!!Lc(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!qUe||kbe);var ZUe={selector:"td:not([data-w-e-type]),th:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e);(o=o.filter(function(v){return!!Io.isText(v)||!!s.isInline(v)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]);var c=parseInt(l.attr("colSpan")||"1"),d=parseInt(l.attr("rowSpan")||"1"),p=l.attr("width")||"auto";return{type:"table-cell",isHeader:B4e(l)==="th",colSpan:c,rowSpan:d,width:p,children:o}}},GUe={selector:"tr:not([data-w-e-type])",parseElemHtml:function(e,o,s){return{type:"table-row",children:o.filter(function(l){return St.getNodeType(l)==="table-cell"})}}},KUe={selector:"table:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=Dt(e),c="auto";return function(d,p){for(var v="",y=(d.attr("style")||"").split(";"),S=y.length,x=0;x<S;x++){var T=y[x];if(T){var k=T.split(":");k[0].trim()===p&&(v=k[1].trim())}}return v}(l,"width")==="100%"&&(c="100%"),l.attr("width")==="100%"&&(c="100%"),{type:"table",width:c,children:o.filter(function(d){return St.getNodeType(d)==="table-row"})}}},YUe=function(){function e(){this.title=Co("tableModule.insertTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||!!St.getSelectedElems(o).some(function(l){var c=St.getNodeType(l);return c==="pre"||c==="table"||!!o.isVoid(l)})},e.prototype.getPanelContentElem=function(o){var s=this;if(this.$content)return this.$content[0];for(var l=Dt('<div class="w-e-panel-content-table"></div>'),c=Dt("<span>0 &times; 0</span>"),d=Dt("<table></table>"),p=0;p<10;p++){for(var v=Dt("<tr></tr>"),y=0;y<10;y++){var S=Dt("<td></td>");S.attr("data-x",y.toString()),S.attr("data-y",p.toString()),v.append(S),S.on("mouseenter",function(x){var T=x.target;if(T!=null){var k=Dt(T).dataset(),A=k.x,F=k.y;c[0].innerHTML=A+1+" &times; "+(F+1),d.children().each(function(N){Dt(N).children().each(function(D){var B=Dt(D),O=B.dataset(),P=O.x,I=O.y;P<=A&&I<=F?B.addClass("active"):B.removeClass("active")})})}}),S.on("click",function(x){x.preventDefault();var T=x.target;if(T!=null){var k=Dt(T).dataset(),A=k.x,F=k.y;s.insertTable(o,F+1,A+1)}})}d.append(v)}return l.append(d),l.append(c),this.$content=l,l[0]},e.prototype.insertTable=function(o,s,l){var c=parseInt(s,10),d=parseInt(l,10);if(c&&d&&!(c<=0||d<=0)){St.isSelectedEmptyParagraph(o)&&Jt.removeNodes(o,{mode:"highest"});var p=function(v,y){for(var S=[],x=0;x<v;x++){for(var T=[],k=0;k<y;k++){var A={type:"table-cell",children:[{text:""}]};x===0&&(A.isHeader=!0),T.push(A)}S.push({type:"table-row",children:T})}return{type:"table",width:"auto",children:S}}(c,d);Jt.insertNodes(o,p,{mode:"highest"})}},e}(),XUe=function(){function e(){this.title=Co("tableModule.deleteTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||St.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){this.isDisabled(o)||Jt.removeNodes(o,{mode:"highest"})},e}(),JUe=function(){function e(){this.title=Co("tableModule.insertRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Vm(ze.nodes(o,{match:function(A){return St.checkNodeType(A,"table-cell")},universal:!0}),1),c=Vm(l[0],2),d=c[0],p=c[1],v=St.getParentNode(o,d),y=(v==null?void 0:v.children.length)||0;if(y!==0){for(var S={type:"table-row",children:[]},x=0;x<y;x++)S.children.push({type:"table-cell",children:[{text:""}]});var T=zt.parent(p),k=zt.next(T);Jt.insertNodes(o,S,{at:k})}}},e}(),QUe=function(){function e(){this.title=Co("tableModule.deleteRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"table-row")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Vm(ze.nodes(o,{match:function(y){return St.checkNodeType(y,"table-row")},universal:!0}),1),c=Vm(l[0],2),d=c[0],p=c[1],v=St.getParentNode(o,d);((v==null?void 0:v.children.length)||0)<=1?Jt.removeNodes(o,{mode:"highest"}):Jt.removeNodes(o,{at:p})}},e}(),Abe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Vre=Ofe("span").classList,Tbe=Vre&&Vre.constructor&&Vre.constructor.prototype,eWe=Tbe===Object.prototype?void 0:Tbe,tWe=Oq.forEach,nWe=function(e,o){var s=[][e];return!!s&&Lc(function(){s.call(null,o||function(){throw 1},1)})}("forEach"),Ure=nWe?[].forEach:function(e){return tWe(this,e,arguments.length>1?arguments[1]:void 0)},M4e=function(e){if(e&&e.forEach!==Ure)try{R_(e,"forEach",Ure)}catch{e.forEach=Ure}};for(var Wre in Abe)Abe[Wre]&&M4e(Ms[Wre]&&Ms[Wre].prototype);M4e(eWe);var oWe=function(){function e(){this.title=Co("tableModule.insertCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Vm(ze.nodes(o,{match:function(S){return St.checkNodeType(S,"table-cell")},universal:!0}),1),c=Vm(l[0],2),d=c[0],p=c[1],v=St.getParentNode(o,d);if(v!=null){var y=St.getParentNode(o,v);y!=null&&(y.children||[]).forEach(function(S,x){sr.isElement(S)&&(S.children||[]).forEach(function(T){var k=St.findPath(o,T);if(k.length===p.length&&r4e(k.slice(-1),p.slice(-1))){var A={type:"table-cell",children:[{text:""}]};x===0&&A4e(y)&&(A.isHeader=!0),Jt.insertNodes(o,A,{at:k})}})})}}},e}(),rWe=function(){function e(){this.title=Co("tableModule.deleteCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"table-cell")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Vm(ze.nodes(o,{match:function(x){return St.checkNodeType(x,"table-cell")},universal:!0}),1),c=Vm(l[0],2),d=c[0],p=c[1],v=St.getParentNode(o,d),y=(v==null?void 0:v.children.length)||0;if(!v||y<=1)Jt.removeNodes(o,{mode:"highest"});else{var S=St.getParentNode(o,v);S!=null&&(S.children||[]).forEach(function(x){sr.isElement(x)&&(x.children||[]).forEach(function(T){var k=St.findPath(o,T);k.length===p.length&&r4e(k.slice(-1),p.slice(-1))&&Jt.removeNodes(o,{at:k})})})}}},e}(),sWe=function(){function e(){this.title=Co("tableModule.header"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){var s=St.getSelectedNodeByType(o,"table");return s!=null&&A4e(s)},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=!s,c=St.getSelectedNodeByType(o,"table");c!=null&&_q(c).forEach(function(d){return Jt.setNodes(o,{isHeader:l},{at:St.findPath(o,d)})})}},e}(),aWe=function(){function e(){this.title=Co("tableModule.widthAuto"),this.iconSvg='<svg viewBox="0 0 1228 1024"><path d="M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){var s=St.getSelectedNodeByType(o,"table");return s!=null&&s.width==="100%"},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||St.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l={width:s?"auto":"100%"};Jt.setNodes(o,l,{mode:"highest"})}},e}(),iWe={renderElems:[$Ue,DUe,BUe],elemsToHtml:[NUe,PUe,FUe],preParseHtml:[RUe],parseElemsHtml:[ZUe,GUe,KUe],menus:[{key:"insertTable",factory:function(){return new YUe}},{key:"deleteTable",factory:function(){return new XUe}},{key:"insertTableRow",factory:function(){return new JUe}},{key:"deleteTableRow",factory:function(){return new QUe}},{key:"insertTableCol",factory:function(){return new oWe}},{key:"deleteTableCol",factory:function(){return new rWe}},{key:"tableHeader",factory:function(){return new sWe}},{key:"tableFullWidth",factory:function(){return new aWe}}],editorPlugin:function(e){var o=e.insertBreak,s=e.deleteBackward,l=e.deleteForward,c=e.normalizeNode,d=e.insertData,p=e.handleTab,v=e.selectAll,y=e;return y.insertBreak=function(){St.getSelectedNodeByType(y,"table")==null?o():y.insertText(`
`)},y.deleteBackward=function(S){if(!ube(y)){var x=y.selection;if(x){var T=ze.before(y,x);if(T){var k=fbe(y,T),A=fbe(y,x);if(k&&!A)return}}s(S)}},y.handleTab=function(){var S;if(St.getSelectedNodeByType(y,"table")){var x=ze.above(e);St.checkNodeType(x[0],"table-cell")&&Jt.select(e,x[1]);var T=ze.next(e);if(T)T[0]&&T[0].text&&(T=(S=ze.above(e,{at:T[1]}))!==null&&S!==void 0?S:T),Jt.select(e,T[1]);else{var k=y.children||[],A=k.length;if(St.checkNodeType(k[A-1],"table")){var F=St.genEmptyParagraph();Jt.insertNodes(y,F,{at:[A]}),y.handleTab()}}}else p()},y.deleteForward=function(S){ube(y)||l(S)},y.normalizeNode=function(S){var x=Vm(S,2),T=x[0],k=x[1];if(St.getNodeType(T)!=="table")return c([T,k]);if(St.isLastNode(y,T)){var A=St.genEmptyParagraph();Jt.insertNodes(y,A,{at:[k[0]+1]})}},y.insertData=function(S){if(St.getSelectedNodeByType(y,"table")!=null){var x=S.getData("text/plain");x===`
`||/<img[^>]+>/.test(S.getData("text/html"))?d(S):ze.insertText(y,x)}else d(S)},y.selectAll=function(){var S=y.selection;if(S!=null){var x=St.getSelectedNodeByType(y,"table-cell");if(x!=null){var T=S.anchor,k=S.focus;if(zt.equals(T.path.slice(0,3),k.path.slice(0,3)))if(yo.string(x).length!==0){var A=St.findPath(y,x),F={anchor:ze.start(y,A),focus:ze.end(y,A)};y.select(F)}else v();else v()}else v()}else v()},y}};Qd("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"Video source",videoSrcPlaceHolder:"Video file url, or third-party <iframe>",videoPoster:"Video poster",videoPosterPlaceHolder:"Poster image url",ok:"Ok",editSize:"Edit size",width:"Width",height:"Height"}}),Qd("zh-CN",{videoModule:{delete:"\u5220\u9664\u89C6\u9891",uploadVideo:"\u4E0A\u4F20\u89C6\u9891",insertVideo:"\u63D2\u5165\u89C6\u9891",videoSrc:"\u89C6\u9891\u5730\u5740",videoSrcPlaceHolder:"\u89C6\u9891\u6587\u4EF6 url \u6216\u7B2C\u4E09\u65B9 <iframe>",videoPoster:"\u89C6\u9891\u5C01\u9762",videoPosterPlaceHolder:"\u5C01\u9762\u56FE\u7247 url",ok:"\u786E\u5B9A",editSize:"\u4FEE\u6539\u5C3A\u5BF8",width:"\u5BBD\u5EA6",height:"\u9AD8\u5EA6"}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oW=function(){return oW=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},oW.apply(this,arguments)};function $q(e,o,s,l){return new(s||(s=Promise))(function(c,d){function p(S){try{y(l.next(S))}catch(x){d(x)}}function v(S){try{y(l.throw(S))}catch(x){d(x)}}function y(S){var x;S.done?c(S.value):(x=S.value,x instanceof s?x:new s(function(T){T(x)})).then(p,v)}y((l=l.apply(e,o||[])).next())})}function Dq(e,o){var s,l,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(y){return function(S){return function(x){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,l=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=o.call(e,p)}catch(T){x=[6,T],l=0}finally{s=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([y,S])}}}function lWe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function g4(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function cWe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=e[Symbol.asyncIterator];return s?s.call(e):(e=lWe(e),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(c){o[c]=e[c]&&function(d){return new Promise(function(p,v){(function(y,S,x,T){Promise.resolve(T).then(function(k){y({value:k,done:x})},S)})(p,v,(d=e[c](d)).done,d.value)})}}}var Obe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hfe(e){var o={exports:{}};return e(o,o.exports),o.exports}var Rw,LV,tV=function(e){return e&&e.Math==Math&&e},Eo=tV(typeof globalThis=="object"&&globalThis)||tV(typeof window=="object"&&window)||tV(typeof self=="object"&&self)||tV(typeof Obe=="object"&&Obe)||function(){return this}()||Function("return this")(),Ri=function(e){try{return!!e()}catch{return!0}},Vv=!Ri(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),qB=Function.prototype.call,xi=qB.bind?qB.bind(qB):function(){return qB.apply(qB,arguments)},_be={}.propertyIsEnumerable,$be=Object.getOwnPropertyDescriptor,uWe={f:$be&&!_be.call({1:2},1)?function(e){var o=$be(this,e);return!!o&&o.enumerable}:_be},Bq=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},I4e=Function.prototype,dle=I4e.bind,hle=I4e.call,fWe=dle&&dle.bind(hle),ms=dle?function(e){return e&&fWe(hle,e)}:function(e){return e&&function(){return hle.apply(e,arguments)}},dWe=ms({}.toString),hWe=ms("".slice),Mv=function(e){return hWe(dWe(e),8,-1)},qre=Eo.Object,pWe=ms("".split),jfe=Ri(function(){return!qre("z").propertyIsEnumerable(0)})?function(e){return Mv(e)=="String"?pWe(e,""):qre(e)}:qre,gWe=Eo.TypeError,cF=function(e){if(e==null)throw gWe("Can't call method on "+e);return e},$C=function(e){return jfe(cF(e))},oi=function(e){return typeof e=="function"},Ki=function(e){return typeof e=="object"?e!==null:oi(e)},mWe=function(e){return oi(e)?e:void 0},N4=function(e,o){return arguments.length<2?mWe(Eo[e]):Eo[e]&&Eo[e][o]},vP=ms({}.isPrototypeOf),f_=N4("navigator","userAgent")||"",Dbe=Eo.process,Bbe=Eo.Deno,Nbe=Dbe&&Dbe.versions||Bbe&&Bbe.version,Pbe=Nbe&&Nbe.v8;Pbe&&(LV=(Rw=Pbe.split("."))[0]>0&&Rw[0]<4?1:+(Rw[0]+Rw[1])),!LV&&f_&&(!(Rw=f_.match(/Edge\/(\d+)/))||Rw[1]>=74)&&(Rw=f_.match(/Chrome\/(\d+)/))&&(LV=+Rw[1]);var bP=LV,ple=!!Object.getOwnPropertySymbols&&!Ri(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&bP&&bP<41}),zfe=ple&&!Symbol.sham&&typeof Symbol.iterator=="symbol",vWe=Eo.Object,gle=zfe?function(e){return typeof e=="symbol"}:function(e){var o=N4("Symbol");return oi(o)&&vP(o.prototype,vWe(e))},bWe=Eo.String,rW=function(e){try{return bWe(e)}catch{return"Object"}},yWe=Eo.TypeError,EC=function(e){if(oi(e))return e;throw yWe(rW(e)+" is not a function")},yP=function(e,o){var s=e[o];return s==null?void 0:EC(s)},wWe=Eo.TypeError,CWe=Object.defineProperty,Vfe=function(e,o){try{CWe(Eo,e,{value:o,configurable:!0,writable:!0})}catch{Eo[e]=o}return o},aC=Eo["__core-js_shared__"]||Vfe("__core-js_shared__",{}),Ufe=Hfe(function(e){(e.exports=function(o,s){return aC[o]||(aC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),SWe=Eo.Object,Nq=function(e){return SWe(cF(e))},xWe=ms({}.hasOwnProperty),Mc=Object.hasOwn||function(e,o){return xWe(Nq(e),o)},EWe=0,kWe=Math.random(),AWe=ms(1 .toString),Wfe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+AWe(++EWe+kWe,36)},ZB=Ufe("wks"),m4=Eo.Symbol,Fbe=m4&&m4.for,TWe=zfe?m4:m4&&m4.withoutSetter||Wfe,yc=function(e){if(!Mc(ZB,e)||!ple&&typeof ZB[e]!="string"){var o="Symbol."+e;ple&&Mc(m4,e)?ZB[e]=m4[e]:ZB[e]=zfe&&Fbe?Fbe(o):TWe(o)}return ZB[e]},OWe=Eo.TypeError,_We=yc("toPrimitive"),$We=function(e,o){if(!Ki(e)||gle(e))return e;var s,l=yP(e,_We);if(l){if(o===void 0&&(o="default"),s=xi(l,e,o),!Ki(s)||gle(s))return s;throw OWe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&oi(p=c.toString)&&!Ki(v=xi(p,c))||oi(p=c.valueOf)&&!Ki(v=xi(p,c))||d!=="string"&&oi(p=c.toString)&&!Ki(v=xi(p,c)))return v;throw wWe("Can't convert object to primitive value")}(e,o)},qfe=function(e){var o=$We(e,"string");return gle(o)?o:o+""},mle=Eo.document,DWe=Ki(mle)&&Ki(mle.createElement),wP=function(e){return DWe?mle.createElement(e):{}},L4e=!Vv&&!Ri(function(){return Object.defineProperty(wP("div"),"a",{get:function(){return 7}}).a!=7}),Rbe=Object.getOwnPropertyDescriptor,Zfe={f:Vv?Rbe:function(e,o){if(e=$C(e),o=qfe(o),L4e)try{return Rbe(e,o)}catch{}if(Mc(e,o))return Bq(!xi(uWe.f,e,o),e[o])}},BWe=Eo.String,NWe=Eo.TypeError,Ou=function(e){if(Ki(e))return e;throw NWe(BWe(e)+" is not an object")},PWe=Eo.TypeError,Mbe=Object.defineProperty,dy={f:Vv?Mbe:function(e,o,s){if(Ou(e),o=qfe(o),Ou(s),L4e)try{return Mbe(e,o,s)}catch{}if("get"in s||"set"in s)throw PWe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},ay=Vv?function(e,o,s){return dy.f(e,o,Bq(1,s))}:function(e,o,s){return e[o]=s,e},FWe=ms(Function.toString);oi(aC.inspectSource)||(aC.inspectSource=function(e){return FWe(e)});var sW,FN,aW,Pq=aC.inspectSource,Ibe=Eo.WeakMap,H4e=oi(Ibe)&&/native code/.test(Pq(Ibe)),Lbe=Ufe("keys"),Gfe=function(e){return Lbe[e]||(Lbe[e]=Wfe(e))},Fq={},vle=Eo.TypeError,RWe=Eo.WeakMap;if(H4e||aC.state){var IE=aC.state||(aC.state=new RWe),MWe=ms(IE.get),Hbe=ms(IE.has),IWe=ms(IE.set);sW=function(e,o){if(Hbe(IE,e))throw new vle("Object already initialized");return o.facade=e,IWe(IE,e,o),o},FN=function(e){return MWe(IE,e)||{}},aW=function(e){return Hbe(IE,e)}}else{var MO=Gfe("state");Fq[MO]=!0,sW=function(e,o){if(Mc(e,MO))throw new vle("Object already initialized");return o.facade=e,ay(e,MO,o),o},FN=function(e){return Mc(e,MO)?e[MO]:{}},aW=function(e){return Mc(e,MO)}}var ap={set:sW,get:FN,has:aW,enforce:function(e){return aW(e)?FN(e):sW(e,{})},getterFor:function(e){return function(o){var s;if(!Ki(o)||(s=FN(o)).type!==e)throw vle("Incompatible receiver, "+e+" required");return s}}},j4e=Function.prototype,LWe=Vv&&Object.getOwnPropertyDescriptor,Zre=Mc(j4e,"name"),r5={EXISTS:Zre,PROPER:Zre&&function(){}.name==="something",CONFIGURABLE:Zre&&(!Vv||Vv&&LWe(j4e,"name").configurable)},ep=Hfe(function(e){var o=r5.CONFIGURABLE,s=ap.get,l=ap.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;oi(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Mc(v,"name")||o&&v.name!==A)&&ay(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==Eo?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:ay(d,p,v)):T?d[p]=v:Vfe(p,v)})(Function.prototype,"toString",function(){return oi(this)&&s(this).source||Pq(this)})}),HWe=Math.ceil,jWe=Math.floor,Rq=function(e){var o=+e;return o!=o||o===0?0:(o>0?jWe:HWe)(o)},zWe=Math.max,VWe=Math.min,CP=function(e,o){var s=Rq(e);return s<0?zWe(s+o,0):VWe(s,o)},UWe=Math.min,z4e=function(e){return e>0?UWe(Rq(e),9007199254740991):0},uF=function(e){return z4e(e.length)},jbe=function(e){return function(o,s,l){var c,d=$C(o),p=uF(d),v=CP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},V4e={includes:jbe(!0),indexOf:jbe(!1)},WWe=V4e.indexOf,zbe=ms([].push),U4e=function(e,o){var s,l=$C(e),c=0,d=[];for(s in l)!Mc(Fq,s)&&Mc(l,s)&&zbe(d,s);for(;o.length>c;)Mc(l,s=o[c++])&&(~WWe(d,s)||zbe(d,s));return d},iW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],qWe=iW.concat("length","prototype"),lW={f:Object.getOwnPropertyNames||function(e){return U4e(e,qWe)}},ZWe={f:Object.getOwnPropertySymbols},GWe=ms([].concat),KWe=N4("Reflect","ownKeys")||function(e){var o=lW.f(Ou(e)),s=ZWe.f;return s?GWe(o,s(e)):o},YWe=function(e,o){for(var s=KWe(o),l=dy.f,c=Zfe.f,d=0;d<s.length;d++){var p=s[d];Mc(e,p)||l(e,p,c(o,p))}},XWe=/#|\.prototype\./,fF=function(e,o){var s=QWe[JWe(e)];return s==tqe||s!=eqe&&(oi(o)?Ri(o):!!o)},JWe=fF.normalize=function(e){return String(e).replace(XWe,".").toLowerCase()},QWe=fF.data={},eqe=fF.NATIVE="N",tqe=fF.POLYFILL="P",cW=fF,nqe=Zfe.f,Yd=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?Eo:S?Eo[v]||Vfe(v,{}):(Eo[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=nqe(s,l))&&p.value:s[l],!cW(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;YWe(d,c)}(e.sham||c&&c.sham)&&ay(d,"sham",!0),ep(s,l,d,e)}},W4e={};W4e[yc("toStringTag")]="z";var GB,Kfe=String(W4e)==="[object z]",oqe=yc("toStringTag"),rqe=Eo.Object,sqe=Mv(function(){return arguments}())=="Arguments",Mq=Kfe?Mv:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=rqe(e),oqe))=="string"?s:sqe?Mv(o):(l=Mv(o))=="Object"&&oi(o.callee)?"Arguments":l},aqe=Eo.String,og=function(e){if(Mq(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return aqe(e)},ble=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Vbe=ms("".replace),uW="["+ble+"]",iqe=RegExp("^"+uW+uW+"*"),lqe=RegExp(uW+uW+"*$"),Gre=function(e){return function(o){var s=og(cF(o));return 1&e&&(s=Vbe(s,iqe,"")),2&e&&(s=Vbe(s,lqe,"")),s}},cqe={start:Gre(1),end:Gre(2),trim:Gre(3)},uqe=r5.PROPER,fqe=cqe.trim;function Ube(e){return e.length?e[0].tagName.toLowerCase():""}function q4e(e,o,s){o===void 0&&(o="auto"),s===void 0&&(s="auto");var l=Dt(e);return l.attr("width",o),l.attr("height",s),l[0].outerHTML}Yd({target:"String",proto:!0,forced:(GB="trim",Ri(function(){return!!ble[GB]()||"\u200B\x85\u180E"[GB]()!=="\u200B\x85\u180E"||uqe&&ble[GB].name!==GB}))},{trim:function(){return fqe(this)}}),Yd({global:!0},{globalThis:Eo}),zv&&(Dt.fn.append=zv),jv&&(Dt.fn.on=jv),gC&&(Dt.fn.focus=gC),Lv&&(Dt.fn.attr=Lv),Hv&&(Dt.fn.val=Hv),pC&&(Dt.fn.html=pC),lU&&(Dt.fn.parent=lU),w_&&(Dt.fn.hasClass=w_),A_&&(Dt.fn.empty=A_);var dqe={type:"video",renderElem:function(e,o,s){var l,c=e,d=c.src,p=d===void 0?"":d,v=c.poster,y=v===void 0?"":v,S=c.width,x=S===void 0?"auto":S,T=c.height,k=T===void 0?"auto":T,A=St.isNodeSelected(s,e);if(p.trim().indexOf("<iframe ")===0){var F=q4e(p,x,k);l=ds("div",{className:"w-e-textarea-video-container","data-selected":A?"true":"",innerHTML:F})}else{var N=ds("video",{poster:y,controls:!0},ds("source",{src:p,type:"video/mp4"}),`Sorry, your browser doesn't support embedded videos.
 \u62B1\u6B49\uFF0C\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 video \u89C6\u9891`);x!=="auto"&&(N.data.width=x),k!=="auto"&&(N.data.height=k),l=ds("div",{className:"w-e-textarea-video-container","data-selected":A?"true":""},N)}return T_("div",{props:{contentEditable:!1},on:{mousedown:function(D){return D.preventDefault()}}},l)}},nV,hqe={type:"video",elemToHtml:function(e,o){var s=e,l=s.src,c=l===void 0?"":l,d=s.poster,p=d===void 0?"":d,v=s.width,y=v===void 0?"auto":v,S=s.height,x=S===void 0?"auto":S,T=`<div data-w-e-type="video" data-w-e-is-void>
`;return c.trim().indexOf("<iframe ")===0?T+=q4e(c,y,x):T+='<video poster="'+p+'" controls="true" width="'+y+'" height="'+x+'"><source src="'+c+'" type="video/mp4"/></video>',T+=`
</div>`}},pqe=Object.keys||function(e){return U4e(e,iW)},gqe=Vv?Object.defineProperties:function(e,o){Ou(e);for(var s,l=$C(o),c=pqe(o),d=c.length,p=0;d>p;)dy.f(e,s=c[p++],l[s]);return e},yle=N4("document","documentElement"),Z4e=Gfe("IE_PROTO"),Kre=function(){},G4e=function(e){return"<script>"+e+"<\/script>"},Wbe=function(e){e.write(G4e("")),e.close();var o=e.parentWindow.Object;return e=null,o},HV=function(){try{nV=new ActiveXObject("htmlfile")}catch{}var e,o;HV=typeof document<"u"?document.domain&&nV?Wbe(nV):((o=wP("iframe")).style.display="none",yle.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(G4e("document.F=Object")),e.close(),e.F):Wbe(nV);for(var s=iW.length;s--;)delete HV.prototype[iW[s]];return HV()};Fq[Z4e]=!0;var Yfe=Object.create||function(e,o){var s;return e!==null?(Kre.prototype=Ou(e),s=new Kre,Kre.prototype=null,s[Z4e]=e):s=HV(),o===void 0?s:gqe(s,o)},wle=yc("unscopables"),Cle=Array.prototype;Cle[wle]==null&&dy.f(Cle,wle,{configurable:!0,value:Yfe(null)});var RN=function(e){Cle[wle][e]=!0},mqe=V4e.includes;Yd({target:"Array",proto:!0},{includes:function(e){return mqe(this,e,arguments.length>1?arguments[1]:void 0)}}),RN("includes");var vqe={selector:"iframe,video,p",preParseHtml:function(e){var o=Dt(e),s=o;if(Ube(o)==="p"){var l=o.children();if(l.length===1){var c=l[0],d=c.tagName.toLowerCase();["iframe","video"].includes(d)&&(s=Dt(c))}}var p=Ube(s);if(p!=="iframe"&&p!=="video"||s.parent().attr("data-w-e-type")==="video")return s[0];var v=Dt('<div data-w-e-type="video" data-w-e-is-void></div>');return v.append(s),v[0]}},qbe=ms(ms.bind),SP=function(e,o){return EC(e),o===void 0?e:qbe?qbe(e,o):function(){return e.apply(o,arguments)}},fW=Array.isArray||function(e){return Mv(e)=="Array"},K4e=function(){},bqe=[],Y4e=N4("Reflect","construct"),Xfe=/^\s*(?:class|function)\b/,yqe=ms(Xfe.exec),wqe=!Xfe.exec(K4e),KB=function(e){if(!oi(e))return!1;try{return Y4e(K4e,bqe,e),!0}catch{return!1}},Jfe=!Y4e||Ri(function(){var e;return KB(KB.call)||!KB(Object)||!KB(function(){e=!0})||e})?function(e){if(!oi(e))return!1;switch(Mq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return wqe||!!yqe(Xfe,Pq(e))}:KB,Cqe=yc("species"),Zbe=Eo.Array,Sqe=function(e,o){return new(function(s){var l;return fW(s)&&(l=s.constructor,(Jfe(l)&&(l===Zbe||fW(l.prototype))||Ki(l)&&(l=l[Cqe])===null)&&(l=void 0)),l===void 0?Zbe:l}(e))(o===0?0:o)},Gbe=ms([].push),Mw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=Nq(y),N=jfe(F),D=SP(S,x),B=uF(N),O=0,P=T||Sqe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:Gbe(I,k)}else switch(e){case 4:return!1;case 7:Gbe(I,k)}return d?-1:l||c?c:I}},Qfe={forEach:Mw(0),map:Mw(1),filter:Mw(2),some:Mw(3),every:Mw(4),find:Mw(5),findIndex:Mw(6),filterReject:Mw(7)},xqe=Qfe.find,Kbe=!0;"find"in[]&&Array(1).find(function(){Kbe=!1}),Yd({target:"Array",proto:!0,forced:Kbe},{find:function(e){return xqe(this,e,arguments.length>1?arguments[1]:void 0)}}),RN("find");var Eqe=Kfe?{}.toString:function(){return"[object "+Mq(this)+"]"};function Ybe(e,o,s,l){return o===void 0&&(o=""),s===void 0&&(s="auto"),l===void 0&&(l="auto"),{type:"video",src:e,poster:o,width:s,height:l,children:[{text:""}]}}Kfe||ep(Object.prototype,"toString",Eqe,{unsafe:!0});var Xbe,Yre,kqe={selector:'div[data-w-e-type="video"]',parseElemHtml:function(e,o,s){var l=Dt(e),c="",d="",p="auto",v="auto",y=l.find("iframe");if(y.length>0)return p=y.attr("width")||"auto",v=y.attr("height")||"auto",Ybe(c=y[0].outerHTML,d,p,v);var S=l.find("video");return(c=S.attr("src")||"")||S.length>0&&(c=S.find("source").attr("src")||""),p=S.attr("width")||"auto",v=S.attr("height")||"auto",Ybe(c,d=S.attr("poster")||"",p,v)}},X4e=function(){var e=Ou(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},ede=Eo.RegExp,Sle=Ri(function(){var e=ede("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),Aqe=Sle||Ri(function(){return!ede("a","y").sticky}),Tqe={BROKEN_CARET:Sle||Ri(function(){var e=ede("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:Aqe,UNSUPPORTED_Y:Sle},Oqe=Eo.RegExp,_qe=Ri(function(){var e=Oqe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),$qe=Eo.RegExp,Dqe=Ri(function(){var e=$qe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),Bqe=ap.get,Nqe=Ufe("native-string-replace",String.prototype.replace),dW=RegExp.prototype.exec,xle=dW,Pqe=ms("".charAt),Fqe=ms("".indexOf),Rqe=ms("".replace),Xre=ms("".slice),Jre=(Yre=/b*/g,xi(dW,Xbe=/a/,"a"),xi(dW,Yre,"a"),Xbe.lastIndex!==0||Yre.lastIndex!==0),Jbe=Tqe.BROKEN_CARET,Qre=/()??/.exec("")[1]!==void 0;(Jre||Qre||Jbe||_qe||Dqe)&&(xle=function(e){var o,s,l,c,d,p,v,y=this,S=Bqe(y),x=og(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=xi(xle,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=Jbe&&y.sticky,F=xi(X4e,y),N=y.source,D=0,B=x;if(A&&(F=Rqe(F,"y",""),Fqe(F,"g")===-1&&(F+="g"),B=Xre(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&Pqe(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),Qre&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Jre&&(l=y.lastIndex),c=xi(dW,A?s:y,B),A?c?(c.input=Xre(c.input,D),c[0]=Xre(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:Jre&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),Qre&&c&&c.length>1&&xi(Nqe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=Yfe(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var hW=xle;Yd({target:"RegExp",proto:!0,forced:/./.exec!==hW},{exec:hW});var tde=Function.prototype,Qbe=tde.apply,Mqe=tde.bind,eye=tde.call,J4e=typeof Reflect=="object"&&Reflect.apply||(Mqe?eye.bind(Qbe):function(){return eye.apply(Qbe,arguments)}),Iqe=yc("species"),ese=RegExp.prototype,Lqe=ms("".charAt),tye=ms("".charCodeAt),Hqe=ms("".slice),nye=function(e){return function(o,s){var l,c,d=og(cF(o)),p=Rq(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=tye(d,p))<55296||l>56319||p+1===v||(c=tye(d,p+1))<56320||c>57343?e?Lqe(d,p):l:e?Hqe(d,p,p+2):c-56320+(l-55296<<10)+65536}},Q4e={codeAt:nye(!1),charAt:nye(!0)},jqe=Q4e.charAt,zqe=function(e,o,s){return o+(s?jqe(e,o).length:1)},Vqe=Math.floor,tse=ms("".charAt),Uqe=ms("".replace),nse=ms("".slice),Wqe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,qqe=/\$([$&'`]|\d{1,2})/g,Zqe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,y=qqe;return c!==void 0&&(c=Nq(c),y=Wqe),Uqe(d,y,function(S,x){var T;switch(tse(x,0)){case"$":return"$";case"&":return e;case"`":return nse(o,0,s);case"'":return nse(o,p);case"<":T=c[nse(x,1,-1)];break;default:var k=+x;if(k===0)return S;if(k>v){var A=Vqe(k/10);return A===0?S:A<=v?l[A-1]===void 0?tse(x,1):l[A-1]+tse(x,1):S}T=l[k-1]}return T===void 0?"":T})},Gqe=Eo.TypeError,Kqe=function(e,o){var s=e.exec;if(oi(s)){var l=xi(s,e,o);return l!==null&&Ou(l),l}if(Mv(e)==="RegExp")return xi(hW,e,o);throw Gqe("RegExp#exec called on incompatible receiver")},Ele=yc("replace"),Yqe=Math.max,Xqe=Math.min,Jqe=ms([].concat),ose=ms([].push),oye=ms("".indexOf),rye=ms("".slice),Qqe="a".replace(/./,"$0")==="$0",sye=!!/./[Ele]&&/./[Ele]("a","$0")==="";function e3e(e){return e===void 0&&(e="r"),e+"-"+eCe()}(function(e,o,s,l){var c=yc(e),d=!Ri(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Ri(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[Iqe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=ms(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=ms(S),N=x.exec;return N===hW||N===ese.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});ep(String.prototype,e,y[0]),ep(ese,c,y[1])}l&&ay(ese[c],"sham",!0)})("replace",function(e,o,s){var l=sye?"$":"$0";return[function(c,d){var p=cF(this),v=c==null?void 0:yP(c,Ele);return v?xi(v,c,p,d):xi(o,og(p),c,d)},function(c,d){var p=Ou(this),v=og(c);if(typeof d=="string"&&oye(d,l)===-1&&oye(d,"$<")===-1){var y=s(o,p,v,d);if(y.done)return y.value}var S=oi(d);S||(d=og(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var k=[];;){var A=Kqe(p,v);if(A===null||(ose(k,A),!x))break;og(A[0])===""&&(p.lastIndex=zqe(v,z4e(p.lastIndex),T))}for(var F,N="",D=0,B=0;B<k.length;B++){for(var O=og((A=k[B])[0]),P=Yqe(Xqe(Rq(A.index),v.length),0),I=[],z=1;z<A.length;z++)ose(I,(F=A[z])===void 0?F:String(F));var K=A.groups;if(S){var j=Jqe([O],I,P,v);K!==void 0&&ose(j,K);var oe=og(J4e(d,void 0,j))}else oe=Zqe(O,v,P,I,K,d);P>=D&&(N+=rye(v,D,P)+oe,D=P+O.length)}return N+rye(v,D)}]},!!Ri(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!Qqe||sye);var pW=Eo.Promise,gW=function(e,o,s){for(var l in o)ep(e,l,o[l],s);return e},eZe=Eo.String,tZe=Eo.TypeError,M_=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=ms(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return Ou(l),function(d){if(typeof d=="object"||oi(d))return d;throw tZe("Can't set "+eZe(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),nZe=dy.f,aye=yc("toStringTag"),mW=function(e,o,s){e&&!Mc(e=s?e:e.prototype,aye)&&nZe(e,aye,{configurable:!0,value:o})},iye=yc("species"),oZe=Eo.TypeError,nde=function(e,o){if(vP(o,e))return e;throw oZe("Incorrect invocation")},I_={},rZe=yc("iterator"),sZe=Array.prototype,aZe=yc("iterator"),lye=function(e){if(e!=null)return yP(e,aZe)||yP(e,"@@iterator")||I_[Mq(e)]},iZe=Eo.TypeError,cye=function(e,o,s){var l,c;Ou(e);try{if(!(l=yP(e,"return"))){if(o==="throw")throw s;return s}l=xi(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return Ou(l),s},lZe=Eo.TypeError,jV=function(e,o){this.stopped=e,this.result=o},uye=jV.prototype,vW=function(e,o,s){var l,c,d,p,v,y,S,x,T=s&&s.that,k=!(!s||!s.AS_ENTRIES),A=!(!s||!s.IS_ITERATOR),F=!(!s||!s.INTERRUPTED),N=SP(o,T),D=function(O){return l&&cye(l,"normal",O),new jV(!0,O)},B=function(O){return k?(Ou(O),F?N(O[0],O[1],D):N(O[0],O[1])):F?N(O,D):N(O)};if(A)l=e;else{if(!(c=lye(e)))throw lZe(rW(e)+" is not iterable");if((x=c)!==void 0&&(I_.Array===x||sZe[rZe]===x)){for(d=0,p=uF(e);p>d;d++)if((v=B(e[d]))&&vP(uye,v))return v;return new jV(!1)}l=function(O,P){var I=arguments.length<2?lye(O):P;if(EC(I))return Ou(xi(I,O));throw iZe(rW(O)+" is not iterable")}(e,c)}for(y=l.next;!(S=xi(y,l)).done;){try{v=B(S.value)}catch(O){cye(l,"throw",O)}if(typeof v=="object"&&v&&vP(uye,v))return v}return new jV(!1)},t3e=yc("iterator"),n3e=!1;try{var cZe=0,fye={next:function(){return{done:!!cZe++}},return:function(){n3e=!0}};fye[t3e]=function(){return this},Array.from(fye,function(){throw 2})}catch{}var xP,IO,dye,rse,o3e=function(e,o){if(!o&&!n3e)return!1;var s=!1;try{var l={};l[t3e]=function(){return{next:function(){return{done:s=!0}}}},e(l)}catch{}return s},uZe=Eo.TypeError,fZe=yc("species"),dZe=function(e,o){var s,l=Ou(e).constructor;return l===void 0||(s=Ou(l)[fZe])==null?o:function(c){if(Jfe(c))return c;throw uZe(rW(c)+" is not a constructor")}(s)},r3e=ms([].slice),s3e=/(?:ipad|iphone|ipod).*applewebkit/i.test(f_),iC=Mv(Eo.process)=="process",kle=Eo.setImmediate,Ale=Eo.clearImmediate,hZe=Eo.process,sse=Eo.Dispatch,pZe=Eo.Function,hye=Eo.MessageChannel,gZe=Eo.String,ase=0,MN={};try{xP=Eo.location}catch{}var ode=function(e){if(Mc(MN,e)){var o=MN[e];delete MN[e],o()}},ise=function(e){return function(){ode(e)}},pye=function(e){ode(e.data)},gye=function(e){Eo.postMessage(gZe(e),xP.protocol+"//"+xP.host)};kle&&Ale||(kle=function(e){var o=r3e(arguments,1);return MN[++ase]=function(){J4e(oi(e)?e:pZe(e),void 0,o)},IO(ase),ase},Ale=function(e){delete MN[e]},iC?IO=function(e){hZe.nextTick(ise(e))}:sse&&sse.now?IO=function(e){sse.now(ise(e))}:hye&&!s3e?(rse=(dye=new hye).port2,dye.port1.onmessage=pye,IO=SP(rse.postMessage,rse)):Eo.addEventListener&&oi(Eo.postMessage)&&!Eo.importScripts&&xP&&xP.protocol!=="file:"&&!Ri(gye)?(IO=gye,Eo.addEventListener("message",pye,!1)):IO="onreadystatechange"in wP("script")?function(e){yle.appendChild(wP("script")).onreadystatechange=function(){yle.removeChild(this),ode(e)}}:function(e){setTimeout(ise(e),0)});var YB,YE,IN,XO,lse,cse,use,mye,a3e={set:kle,clear:Ale},mZe=/ipad|iphone|ipod/i.test(f_)&&Eo.Pebble!==void 0,vZe=/web0s(?!.*chrome)/i.test(f_),bZe=Zfe.f,fse=a3e.set,vye=Eo.MutationObserver||Eo.WebKitMutationObserver,bye=Eo.document,yye=Eo.process,oV=Eo.Promise,wye=bZe(Eo,"queueMicrotask"),i3e=wye&&wye.value;i3e||(YB=function(){var e,o;for(iC&&(e=yye.domain)&&e.exit();YE;){o=YE.fn,YE=YE.next;try{o()}catch(s){throw YE?XO():IN=void 0,s}}IN=void 0,e&&e.enter()},s3e||iC||vZe||!vye||!bye?!mZe&&oV&&oV.resolve?((use=oV.resolve(void 0)).constructor=oV,mye=SP(use.then,use),XO=function(){mye(YB)}):iC?XO=function(){yye.nextTick(YB)}:(fse=SP(fse,Eo),XO=function(){fse(YB)}):(lse=!0,cse=bye.createTextNode(""),new vye(YB).observe(cse,{characterData:!0}),XO=function(){cse.data=lse=!lse}));var dse,Cye,l3e,Sye,c3e=i3e||function(e){var o={fn:e,next:void 0};IN&&(IN.next=o),YE||(YE=o,XO()),IN=o},yZe=function(e){var o,s;this.promise=new e(function(l,c){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=c}),this.resolve=EC(o),this.reject=EC(s)},rde={f:function(e){return new yZe(e)}},Tle=function(e){try{return{error:!1,value:e()}}catch(o){return{error:!0,value:o}}},wZe=typeof window=="object",u3e=a3e.set,CZe=yc("species"),$v="Promise",xye=ap.getterFor($v),SZe=ap.set,xZe=ap.getterFor($v),WE=pW&&pW.prototype,Pv=pW,XB=WE,f3e=Eo.TypeError,Ole=Eo.document,sde=Eo.process,d_=rde.f,EZe=d_,kZe=!!(Ole&&Ole.createEvent&&Eo.dispatchEvent),d3e=oi(Eo.PromiseRejectionEvent),h3e=!1,LN=cW($v,function(){var e=Pq(Pv),o=e!==String(Pv);if(!o&&bP===66)return!0;if(bP>=51&&/native code/.test(e))return!1;var s=new Pv(function(c){c(1)}),l=function(c){c(function(){},function(){})};return(s.constructor={})[CZe]=l,!(h3e=s.then(function(){})instanceof l)||!o&&wZe&&!d3e}),AZe=LN||!o3e(function(e){Pv.all(e).catch(function(){})}),p3e=function(e){var o;return!(!Ki(e)||!oi(o=e.then))&&o},ade=function(e,o){if(!e.notified){e.notified=!0;var s=e.reactions;c3e(function(){for(var l=e.value,c=e.state==1,d=0;s.length>d;){var p,v,y,S=s[d++],x=c?S.ok:S.fail,T=S.resolve,k=S.reject,A=S.domain;try{x?(c||(e.rejection===2&&OZe(e),e.rejection=1),x===!0?p=l:(A&&A.enter(),p=x(l),A&&(A.exit(),y=!0)),p===S.promise?k(f3e("Promise-chain cycle")):(v=p3e(p))?xi(v,p,T,k):T(p)):k(l)}catch(F){A&&!y&&A.exit(),k(F)}}e.reactions=[],e.notified=!1,o&&!e.rejection&&TZe(e)})}},g3e=function(e,o,s){var l,c;kZe?((l=Ole.createEvent("Event")).promise=o,l.reason=s,l.initEvent(e,!1,!0),Eo.dispatchEvent(l)):l={promise:o,reason:s},!d3e&&(c=Eo["on"+e])?c(l):e==="unhandledrejection"&&function(d,p){var v=Eo.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,p))}("Unhandled promise rejection",s)},TZe=function(e){xi(u3e,Eo,function(){var o,s=e.facade,l=e.value;if(Eye(e)&&(o=Tle(function(){iC?sde.emit("unhandledRejection",l,s):g3e("unhandledrejection",s,l)}),e.rejection=iC||Eye(e)?2:1,o.error))throw o.value})},Eye=function(e){return e.rejection!==1&&!e.parent},OZe=function(e){xi(u3e,Eo,function(){var o=e.facade;iC?sde.emit("rejectionHandled",o):g3e("rejectionhandled",o,e.value)})},o_=function(e,o,s){return function(l){e(o,l,s)}},h_=function(e,o,s){e.done||(e.done=!0,s&&(e=s),e.value=o,e.state=2,ade(e,!0))},_le=function(e,o,s){if(!e.done){e.done=!0,s&&(e=s);try{if(e.facade===o)throw f3e("Promise can't be resolved itself");var l=p3e(o);l?c3e(function(){var c={done:!1};try{xi(l,o,o_(_le,c,e),o_(h_,c,e))}catch(d){h_(c,d,e)}}):(e.value=o,e.state=1,ade(e,!1))}catch(c){h_({done:!1},c,e)}}};if(LN&&(XB=(Pv=function(e){nde(this,XB),EC(e),xi(dse,this);var o=xye(this);try{e(o_(_le,o),o_(h_,o))}catch(s){h_(o,s)}}).prototype,(dse=function(e){SZe(this,{type:$v,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=gW(XB,{then:function(e,o){var s=xZe(this),l=s.reactions,c=d_(dZe(this,Pv));return c.ok=!oi(e)||e,c.fail=oi(o)&&o,c.domain=iC?sde.domain:void 0,s.parent=!0,l[l.length]=c,s.state!=0&&ade(s,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),Cye=function(){var e=new dse,o=xye(e);this.promise=e,this.resolve=o_(_le,o),this.reject=o_(h_,o)},rde.f=d_=function(e){return e===Pv||e===l3e?new Cye(e):EZe(e)},oi(pW)&&WE!==Object.prototype)){Sye=WE.then,h3e||(ep(WE,"then",function(e,o){var s=this;return new Pv(function(l,c){xi(Sye,s,l,c)}).then(e,o)},{unsafe:!0}),ep(WE,"catch",XB.catch,{unsafe:!0}));try{delete WE.constructor}catch{}M_&&M_(WE,XB)}function EP(e,o,s){return s===void 0&&(s=""),$q(this,void 0,void 0,function(){var l,c,d,p,v,y,S;return Dq(this,function(x){switch(x.label){case 0:return o?(e.restoreSelection(),l=e.getMenuConfig("insertVideo"),c=l.onInsertedVideo,d=l.checkVideo,p=l.parseVideoSrc,[4,d(o,s)]):[2];case 1:return typeof(v=x.sent())=="string"?(e.alert(v,"error"),[2]):v==null?[2]:[4,p(o)];case 2:return(y=x.sent()).trim().indexOf("<iframe ")!==0&&(y=y.replace(/</g,"&lt;").replace(/>/g,"&gt;")),S={type:"video",src:y,poster:s,children:[{text:""}]},Promise.resolve().then(function(){Jt.insertNodes(e,S)}),c(S),[2]}})})}function hse(){return e3e("w-e-insert-video")}Yd({global:!0,wrap:!0,forced:LN},{Promise:Pv}),mW(Pv,$v,!1),function(e){var o=N4(e),s=dy.f;Vv&&o&&!o[iye]&&s(o,iye,{configurable:!0,get:function(){return this}})}($v),l3e=N4($v),Yd({target:$v,stat:!0,forced:LN},{reject:function(e){var o=d_(this);return xi(o.reject,void 0,e),o.promise}}),Yd({target:$v,stat:!0,forced:LN},{resolve:function(e){return function(o,s){if(Ou(o),Ki(s)&&s.constructor===o)return s;var l=rde.f(o);return(0,l.resolve)(s),l.promise}(this,e)}}),Yd({target:$v,stat:!0,forced:AZe},{all:function(e){var o=this,s=d_(o),l=s.resolve,c=s.reject,d=Tle(function(){var p=EC(o.resolve),v=[],y=0,S=1;vW(e,function(x){var T=y++,k=!1;S++,xi(p,o,x).then(function(A){k||(k=!0,v[T]=A,--S||l(v))},c)}),--S||l(v)});return d.error&&c(d.value),s.promise},race:function(e){var o=this,s=d_(o),l=s.reject,c=Tle(function(){var d=EC(o.resolve);vW(e,function(p){xi(d,o,p).then(s.resolve,l)})});return c.error&&l(c.value),s.promise}});var _Ze=function(){function e(){this.title=Co("videoModule.insertVideo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=hse(),this.posterInputId=hse(),this.buttonId=hse()}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||!!St.getSelectedElems(o).some(function(l){return St.getNodeType(l)==="pre"||!!o.isVoid(l)})},e.prototype.getModalPositionNode=function(o){return null},e.prototype.getModalContentElem=function(o){var s=this,l=this,c=l.srcInputId,d=l.posterInputId,p=l.buttonId,v=g4(Qh(Co("videoModule.videoSrc"),c,Co("videoModule.videoSrcPlaceHolder")),2),y=v[0],S=v[1],x=g4(Qh(Co("videoModule.videoPoster"),d,Co("videoModule.videoPosterPlaceHolder")),2),T=x[0],k=x[1],A=Dt(S),F=Dt(k),N=g4(K_(p,Co("videoModule.ok")),1)[0];if(this.$content==null){var D=Dt("<div></div>");D.on("click","#"+p,function(O){return $q(s,void 0,void 0,function(){var P,I;return Dq(this,function(z){switch(z.label){case 0:return O.preventDefault(),P=D.find("#"+c).val().trim(),I=D.find("#"+d).val().trim(),[4,EP(o,P,I)];case 1:return z.sent(),o.hidePanelOrModal(),[2]}})})}),this.$content=D}var B=this.$content;return B.empty(),B.append(y),B.append(T),B.append(N),A.val(""),F.val(""),setTimeout(function(){A.focus()}),B[0]},e}(),$Ze=ms([].join),DZe=jfe!=Object,BZe=function(e,o){var s=[][e];return!!s&&Ri(function(){s.call(null,o||function(){throw 1},1)})}("join",",");Yd({target:"Array",proto:!0,forced:DZe||!BZe},{join:function(e){return $Ze($C(this),e===void 0?",":e)}});var v4,kye,Aye,NZe=!Ri(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Tye=Gfe("IE_PROTO"),$le=Eo.Object,PZe=$le.prototype,bW=NZe?$le.getPrototypeOf:function(e){var o=Nq(e);if(Mc(o,Tye))return o[Tye];var s=o.constructor;return oi(s)&&o instanceof s?s.prototype:o instanceof $le?PZe:null},Dle=yc("iterator"),m3e=!1;[].keys&&("next"in(Aye=[].keys())?(kye=bW(bW(Aye)))!==Object.prototype&&(v4=kye):m3e=!0);var FZe=v4==null||Ri(function(){var e={};return v4[Dle].call(e)!==e});FZe&&(v4={}),oi(v4[Dle])||ep(v4,Dle,function(){return this});var ide={IteratorPrototype:v4,BUGGY_SAFARI_ITERATORS:m3e},RZe=ide.IteratorPrototype,MZe=function(){return this},IZe=r5.PROPER,LZe=r5.CONFIGURABLE,Oye=ide.IteratorPrototype,rV=ide.BUGGY_SAFARI_ITERATORS,JB=yc("iterator"),HZe=function(){return this},v3e=function(e,o,s,l,c,d,p){(function(B,O,P,I){var z=O+" Iterator";B.prototype=Yfe(RZe,{next:Bq(+!I,P)}),mW(B,z,!1),I_[z]=MZe})(s,o,l);var v,y,S,x=function(B){if(B===c&&N)return N;if(!rV&&B in A)return A[B];switch(B){case"keys":case"values":case"entries":return function(){return new s(this,B)}}return function(){return new s(this)}},T=o+" Iterator",k=!1,A=e.prototype,F=A[JB]||A["@@iterator"]||c&&A[c],N=!rV&&F||x(c),D=o=="Array"&&A.entries||F;if(D&&(v=bW(D.call(new e)))!==Object.prototype&&v.next&&(bW(v)!==Oye&&(M_?M_(v,Oye):oi(v[JB])||ep(v,JB,HZe)),mW(v,T,!0)),IZe&&c=="values"&&F&&F.name!=="values"&&(LZe?ay(A,"name","values"):(k=!0,N=function(){return xi(F,this)})),c)if(y={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in y)(rV||k||!(S in A))&&ep(A,S,y[S]);else Yd({target:o,proto:!0,forced:rV||k},y);return A[JB]!==N&&ep(A,JB,N,{name:c}),I_[o]=N,y},jZe=ap.set,zZe=ap.getterFor("Array Iterator"),yN=v3e(Array,"Array",function(e,o){jZe(this,{type:"Array Iterator",target:$C(e),index:0,kind:o})},function(){var e=zZe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");I_.Arguments=I_.Array,RN("keys"),RN("values"),RN("entries");var VZe=Q4e.charAt,UZe=ap.set,WZe=ap.getterFor("String Iterator");v3e(String,"String",function(e){UZe(this,{type:"String Iterator",string:og(e),index:0})},function(){var e,o=WZe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=VZe(s,l),o.index+=e.length,{value:e,done:!1})});var b3e=function(e,o,s){var l=qfe(o);l in e?dy.f(e,l,Bq(0,s)):e[l]=s},qZe=Eo.Array,ZZe=Math.max,y3e=lW.f,w3e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],GZe=function(e){try{return y3e(e)}catch{return function(s,l,c){for(var d=uF(s),p=CP(l,d),v=CP(c===void 0?d:c,d),y=qZe(ZZe(v-p,0)),S=0;p<v;p++,S++)b3e(y,S,s[p]);return y.length=S,y}(w3e)}},KZe={f:function(e){return w3e&&Mv(e)=="Window"?GZe(e):y3e($C(e))}},_ye=Ri(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),sV=Object.isExtensible,t4=Ri(function(){sV(1)})||_ye?function(e){return!!Ki(e)&&(!_ye||Mv(e)!="ArrayBuffer")&&(!sV||sV(e))}:sV,YZe=!Ri(function(){return Object.isExtensible(Object.preventExtensions({}))}),lde=Hfe(function(e){var o=dy.f,s=!1,l=Wfe("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=lW.f,y=ms([].splice),S={};S[l]=1,v(S).length&&(lW.f=function(x){for(var T=v(x),k=0,A=T.length;k<A;k++)if(T[k]===l){y(T,k,1);break}return T},Yd({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:KZe.f}))},fastKey:function(v,y){if(!Ki(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!Mc(v,l)){if(!t4(v))return"F";if(!y)return"E";d(v)}return v[l].objectID},getWeakData:function(v,y){if(!Mc(v,l)){if(!t4(v))return!0;if(!y)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return YZe&&s&&t4(v)&&!Mc(v,l)&&d(v),v}};Fq[l]=!0}),aV=lde.getWeakData,XZe=ap.set,JZe=ap.getterFor,QZe=Qfe.find,eGe=Qfe.findIndex,tGe=ms([].splice),nGe=0,iV=function(e){return e.frozen||(e.frozen=new C3e)},C3e=function(){this.entries=[]},pse=function(e,o){return QZe(e.entries,function(s){return s[0]===o})};C3e.prototype={get:function(e){var o=pse(this,e);if(o)return o[1]},has:function(e){return!!pse(this,e)},set:function(e,o){var s=pse(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=eGe(this.entries,function(s){return s[0]===e});return~o&&tGe(this.entries,o,1),!!~o}};var QB,S3e={getConstructor:function(e,o,s,l){var c=e(function(y,S){nde(y,d),XZe(y,{type:o,id:nGe++,frozen:void 0}),S!=null&&vW(S,y[l],{that:y,AS_ENTRIES:s})}),d=c.prototype,p=JZe(o),v=function(y,S,x){var T=p(y),k=aV(Ou(S),!0);return k===!0?iV(T).set(S,x):k[T.id]=x,y};return gW(d,{delete:function(y){var S=p(this);if(!Ki(y))return!1;var x=aV(y);return x===!0?iV(S).delete(y):x&&Mc(x,S.id)&&delete x[S.id]},has:function(y){var S=p(this);if(!Ki(y))return!1;var x=aV(y);return x===!0?iV(S).has(y):x&&Mc(x,S.id)}}),gW(d,s?{get:function(y){var S=p(this);if(Ki(y)){var x=aV(y);return x===!0?iV(S).get(y):x?x[S.id]:void 0}},set:function(y,S){return v(this,y,S)}}:{add:function(y){return v(this,y,!0)}}),c}},lV=ap.enforce,oGe=!Eo.ActiveXObject&&"ActiveXObject"in Eo,x3e=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},rGe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=Eo[e],v=p&&p.prototype,y=p,S={},x=function(D){var B=ms(v[D]);ep(v,D,D=="add"?function(O){return B(this,O===0?0:O),this}:D=="delete"?function(O){return!(c&&!Ki(O))&&B(this,O===0?0:O)}:D=="get"?function(O){return c&&!Ki(O)?void 0:B(this,O===0?0:O)}:D=="has"?function(O){return!(c&&!Ki(O))&&B(this,O===0?0:O)}:function(O,P){return B(this,O===0?0:O,P),this})};if(cW(e,!oi(p)||!(c||v.forEach&&!Ri(function(){new p().entries().next()}))))y=s.getConstructor(o,e,l,d),lde.enable();else if(cW(e,!0)){var T=new y,k=T[d](c?{}:-0,1)!=T,A=Ri(function(){T.has(1)}),F=o3e(function(D){new p(D)}),N=!c&&Ri(function(){for(var D=new p,B=5;B--;)D[d](B,B);return!D.has(-0)});F||((y=o(function(D,B){nde(D,v);var O=function(P,I,z){var K,j;return M_&&oi(K=I.constructor)&&K!==z&&Ki(j=K.prototype)&&j!==z.prototype&&M_(P,j),P}(new p,D,y);return B!=null&&vW(B,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=y),(A||N)&&(x("delete"),x("has"),l&&x("get")),(N||k)&&x(d),c&&v.clear&&delete v.clear}return S[e]=y,Yd({global:!0,forced:y!=p},S),mW(y,e),c||s.setStrong(y,e,l),y}("WeakMap",x3e,S3e);if(H4e&&oGe){QB=S3e.getConstructor(x3e,"WeakMap",!0),lde.enable();var eN=rGe.prototype,$ye=ms(eN.delete),cV=ms(eN.has),Dye=ms(eN.get),Bye=ms(eN.set);gW(eN,{delete:function(e){if(Ki(e)&&!t4(e)){var o=lV(this);return o.frozen||(o.frozen=new QB),$ye(this,e)||o.frozen.delete(e)}return $ye(this,e)},has:function(e){if(Ki(e)&&!t4(e)){var o=lV(this);return o.frozen||(o.frozen=new QB),cV(this,e)||o.frozen.has(e)}return cV(this,e)},get:function(e){if(Ki(e)&&!t4(e)){var o=lV(this);return o.frozen||(o.frozen=new QB),cV(this,e)?Dye(this,e):o.frozen.get(e)}return Dye(this,e)},set:function(e,o){if(Ki(e)&&!t4(e)){var s=lV(this);s.frozen||(s.frozen=new QB),cV(this,e)?Bye(this,e,o):s.frozen.set(e,o)}else Bye(this,e,o);return this}})}var E3e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gse=wP("span").classList,Nye=gse&&gse.constructor&&gse.constructor.prototype,sGe=Nye===Object.prototype?void 0:Nye,mse=yc("iterator"),Pye=yc("toStringTag"),vse=yN.values,k3e=function(e,o){if(e){if(e[mse]!==vse)try{ay(e,mse,vse)}catch{e[mse]=vse}if(e[Pye]||ay(e,Pye,o),E3e[o]){for(var s in yN)if(e[s]!==yN[s])try{ay(e,s,yN[s])}catch{e[s]=yN[s]}}}};for(var bse in E3e)k3e(Eo[bse]&&Eo[bse].prototype,bse);k3e(sGe,"DOMTokenList");var aGe=r5.EXISTS,iGe=dy.f,A3e=Function.prototype,lGe=ms(A3e.toString),T3e=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,cGe=ms(T3e.exec);Vv&&!aGe&&iGe(A3e,"name",{configurable:!0,get:function(){try{return cGe(T3e,lGe(this))[1]}catch{return""}}});var uGe=yc("species"),fGe=function(e){return bP>=51||!Ri(function(){var o=[];return(o.constructor={})[uGe]=function(){return{foo:1}},o[e](Boolean).foo!==1})}("slice"),dGe=yc("species"),yse=Eo.Array,hGe=Math.max;function O3e(e){return e.getMenuConfig("uploadVideo")}Yd({target:"Array",proto:!0,forced:!fGe},{slice:function(e,o){var s,l,c,d=$C(this),p=uF(d),v=CP(e,p),y=CP(o===void 0?p:o,p);if(fW(d)&&(s=d.constructor,(Jfe(s)&&(s===yse||fW(s.prototype))||Ki(s)&&(s=s[dGe])===null)&&(s=void 0),s===yse||s===void 0))return r3e(d,v,y);for(l=new(s===void 0?yse:s)(hGe(y-v,0)),c=0;v<y;v++,c++)v in d&&b3e(l,c,d[v]);return l.length=c,l}});var Fye=new WeakMap;function pGe(e,o){return $q(this,void 0,void 0,function(){var s,l,c,d;return Dq(this,function(p){switch(p.label){case 0:return s=function(v){var y=Fye.get(v);if(y!=null)return y;var S=O3e(v),x=S.onSuccess,T=S.onProgress,k=S.onFailed,A=S.customInsert,F=S.onError;return y=nxe(oW(oW({},S),{onProgress:function(N){v.showProgressBar(N),T&&T(N)},onSuccess:function(N,D){if(A)return A(D,function(oe,ke){return EP(v,oe,ke)}),void x(N,D);var B=D.errno,O=B===void 0?1:B,P=D.data,I=P===void 0?{}:P;if(O===0){var z=I.url,K=z===void 0?"":z,j=I.poster;EP(v,K,j===void 0?"":j),x(N,D)}else k(N,D)},onError:function(N,D,B){F(N,D,B)}})),Fye.set(v,y),y}(e),l=o.name,c=o.type,d=o.size,s.addFile({name:l,type:c,size:d,data:o}),[4,s.upload()];case 1:return p.sent(),[2]}})})}var gGe=function(){function e(){this.title=Co("videoModule.uploadVideo"),this.iconSvg='<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){var l=this.getMenuConfig(o),c=l.allowedFileTypes,d=c===void 0?[]:c,p=l.customBrowseAndUpload;if(p)p(function(x,T){return EP(o,x,T)});else{var v="";d.length>0&&(v='accept="'+d.join(", ")+'"');var y=Dt("body"),S=Dt('<input type="file" '+v+" multiple/>");S.hide(),y.append(S),S.click(),S.on("change",function(){var x=S[0].files;(function(T,k){var A,F;$q(this,void 0,void 0,function(){var N,D,B,O,P,I;return Dq(this,function(z){switch(z.label){case 0:if(k==null)return[2];N=Array.prototype.slice.call(k),D=O3e(T).customUpload,z.label=1;case 1:z.trys.push([1,9,10,15]),B=cWe(N),z.label=2;case 2:return[4,B.next()];case 3:return(O=z.sent()).done?[3,8]:(P=O.value,D?[4,D(P,function(K,j){return EP(T,K,j)})]:[3,5]);case 4:return z.sent(),[3,7];case 5:return[4,pGe(T,P)];case 6:z.sent(),z.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return I=z.sent(),A={error:I},[3,15];case 10:return z.trys.push([10,,13,14]),O&&!O.done&&(F=B.return)?[4,F.call(B)]:[3,12];case 11:z.sent(),z.label=12;case 12:return[3,14];case 13:if(A)throw A.error;return[7];case 14:return[7];case 15:return[2]}})})})(o,x)})}},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!yn.isCollapsed(s)||!!St.getSelectedElems(o).some(function(l){return St.getNodeType(l)==="pre"||!!o.isVoid(l)})},e.prototype.getMenuConfig=function(o){return o.getMenuConfig("uploadVideo")},e}(),mGe=r5.PROPER,Ble=RegExp.prototype,_3e=Ble.toString,vGe=ms(X4e),bGe=Ri(function(){return _3e.call({source:"a",flags:"b"})!="/a/b"}),yGe=mGe&&_3e.name!="toString";function wse(){return e3e("w-e-insert-video")}(bGe||yGe)&&ep(RegExp.prototype,"toString",function(){var e=Ou(this),o=og(e.source),s=e.flags;return"/"+o+"/"+og(s===void 0&&vP(Ble,e)&&!("flags"in Ble)?vGe(e):s)},{unsafe:!0});var wGe=function(){function e(){this.title=Co("videoModule.editSize"),this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.widthInputId=wse(),this.heightInputId=wse(),this.buttonId=wse()}return e.prototype.getSelectedVideoNode=function(o){return St.getSelectedNodeByType(o,"video")},e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedVideoNode(o)==null},e.prototype.getModalPositionNode=function(o){return this.getSelectedVideoNode(o)},e.prototype.getModalContentElem=function(o){var s=this,l=s.widthInputId,c=s.heightInputId,d=s.buttonId,p=g4(Qh(Co("videoModule.width"),l,"auto"),2),v=p[0],y=p[1],S=Dt(y),x=g4(Qh(Co("videoModule.height"),c,"auto"),2),T=x[0],k=x[1],A=Dt(k),F=g4(K_(d,Co("videoModule.ok")),1)[0];if(this.$content==null){var N=Dt("<div></div>");N.on("click","#"+d,function(K){K.preventDefault();var j=N.find("#"+l).val().trim(),oe=N.find("#"+c).val().trim(),ke=parseInt(j),ae=parseInt(oe),Q=ke?ke.toString():"auto",G=ae?ae.toString():"auto";o.restoreSelection(),Jt.setNodes(o,{width:Q,height:G},{match:function(ue){return St.checkNodeType(ue,"video")}}),o.hidePanelOrModal()}),this.$content=N}var D=this.$content;D.empty(),D.append(v),D.append(T),D.append(F);var B=this.getSelectedVideoNode(o);if(B==null)return D[0];var O=B.width,P=O===void 0?"auto":O,I=B.height,z=I===void 0?"auto":I;return S.val(P),A.val(z),setTimeout(function(){S.focus()}),D[0]},e}(),CGe={renderElems:[dqe],elemsToHtml:[hqe],preParseHtml:[vqe],parseElemsHtml:[kqe],menus:[{key:"insertVideo",factory:function(){return new _Ze},config:{onInsertedVideo:function(e){},checkVideo:function(e,o){return!0},parseVideoSrc:function(e){return e}}},{key:"uploadVideo",factory:function(){return new gGe},config:{server:"",fieldName:"wangeditor-uploaded-video",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["video/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(e){return e},onProgress:function(e){},onSuccess:function(e,o){},onFailed:function(e,o){console.error("'"+e.name+"' upload failed",o)},onError:function(e,o,s){console.error("'"+e.name+" upload error",o,s)}}},{key:"editVideoSize",factory:function(){return new wGe}}],editorPlugin:function(e){var o=e.isVoid,s=e.normalizeNode,l=e;return l.isVoid=function(c){return c.type==="video"||o(c)},l.normalizeNode=function(c){var d=g4(c,2),p=d[0],v=d[1];return St.getNodeType(p)==="video"&&St.isLastNode(l,p)&&Jt.insertNodes(l,St.genEmptyParagraph(),{at:[v[0]+1]}),s([p,v])},l}};Qd("en",{uploadImgModule:{uploadImage:"Upload Image",uploadError:"{{fileName}} upload error"}}),Qd("zh-CN",{uploadImgModule:{uploadImage:"\u4E0A\u4F20\u56FE\u7247",uploadError:"{{fileName}} \u4E0A\u4F20\u51FA\u9519"}});var Rye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cde(e){var o={exports:{}};return e(o,o.exports),o.exports}var Iw,zV,uV=function(e){return e&&e.Math==Math&&e},xo=uV(typeof globalThis=="object"&&globalThis)||uV(typeof window=="object"&&window)||uV(typeof self=="object"&&self)||uV(typeof Rye=="object"&&Rye)||function(){return this}()||Function("return this")(),Yi=function(e){try{return!!e()}catch{return!0}},Uv=!Yi(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),tN=Function.prototype.call,Wa=tN.bind?tN.bind(tN):function(){return tN.apply(tN,arguments)},Mye={}.propertyIsEnumerable,Iye=Object.getOwnPropertyDescriptor,SGe={f:Iye&&!Mye.call({1:2},1)?function(e){var o=Iye(this,e);return!!o&&o.enumerable}:Mye},Iq=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},$3e=Function.prototype,Nle=$3e.bind,Ple=$3e.call,xGe=Nle&&Nle.bind(Ple),Rs=Nle?function(e){return e&&xGe(Ple,e)}:function(e){return e&&function(){return Ple.apply(e,arguments)}},EGe=Rs({}.toString),kGe=Rs("".slice),jm=function(e){return kGe(EGe(e),8,-1)},Cse=xo.Object,AGe=Rs("".split),ude=Yi(function(){return!Cse("z").propertyIsEnumerable(0)})?function(e){return jm(e)=="String"?AGe(e,""):Cse(e)}:Cse,TGe=xo.TypeError,kP=function(e){if(e==null)throw TGe("Can't call method on "+e);return e},DC=function(e){return ude(kP(e))},ui=function(e){return typeof e=="function"},Fi=function(e){return typeof e=="object"?e!==null:ui(e)},OGe=function(e){return ui(e)?e:void 0},P4=function(e,o){return arguments.length<2?OGe(xo[e]):xo[e]&&xo[e][o]},AP=Rs({}.isPrototypeOf),p_=P4("navigator","userAgent")||"",Lye=xo.process,Hye=xo.Deno,jye=Lye&&Lye.versions||Hye&&Hye.version,zye=jye&&jye.v8;zye&&(zV=(Iw=zye.split("."))[0]>0&&Iw[0]<4?1:+(Iw[0]+Iw[1])),!zV&&p_&&(!(Iw=p_.match(/Edge\/(\d+)/))||Iw[1]>=74)&&(Iw=p_.match(/Chrome\/(\d+)/))&&(zV=+Iw[1]);var TP=zV,Fle=!!Object.getOwnPropertySymbols&&!Yi(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&TP&&TP<41}),fde=Fle&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_Ge=xo.Object,Rle=fde?function(e){return typeof e=="symbol"}:function(e){var o=P4("Symbol");return ui(o)&&AP(o.prototype,_Ge(e))},$Ge=xo.String,yW=function(e){try{return $Ge(e)}catch{return"Object"}},DGe=xo.TypeError,kC=function(e){if(ui(e))return e;throw DGe(yW(e)+" is not a function")},OP=function(e,o){var s=e[o];return s==null?void 0:kC(s)},BGe=xo.TypeError,NGe=Object.defineProperty,dde=function(e,o){try{NGe(xo,e,{value:o,configurable:!0,writable:!0})}catch{xo[e]=o}return o},lC=xo["__core-js_shared__"]||dde("__core-js_shared__",{}),hde=cde(function(e){(e.exports=function(o,s){return lC[o]||(lC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),PGe=xo.Object,pde=function(e){return PGe(kP(e))},FGe=Rs({}.hasOwnProperty),Ic=Object.hasOwn||function(e,o){return FGe(pde(e),o)},RGe=0,MGe=Math.random(),IGe=Rs(1 .toString),gde=function(e){return"Symbol("+(e===void 0?"":e)+")_"+IGe(++RGe+MGe,36)},nN=hde("wks"),b4=xo.Symbol,Vye=b4&&b4.for,LGe=fde?b4:b4&&b4.withoutSetter||gde,wc=function(e){if(!Ic(nN,e)||!Fle&&typeof nN[e]!="string"){var o="Symbol."+e;Fle&&Ic(b4,e)?nN[e]=b4[e]:nN[e]=fde&&Vye?Vye(o):LGe(o)}return nN[e]},HGe=xo.TypeError,jGe=wc("toPrimitive"),zGe=function(e,o){if(!Fi(e)||Rle(e))return e;var s,l=OP(e,jGe);if(l){if(o===void 0&&(o="default"),s=Wa(l,e,o),!Fi(s)||Rle(s))return s;throw HGe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&ui(p=c.toString)&&!Fi(v=Wa(p,c))||ui(p=c.valueOf)&&!Fi(v=Wa(p,c))||d!=="string"&&ui(p=c.toString)&&!Fi(v=Wa(p,c)))return v;throw BGe("Can't convert object to primitive value")}(e,o)},mde=function(e){var o=zGe(e,"string");return Rle(o)?o:o+""},Mle=xo.document,VGe=Fi(Mle)&&Fi(Mle.createElement),_P=function(e){return VGe?Mle.createElement(e):{}},D3e=!Uv&&!Yi(function(){return Object.defineProperty(_P("div"),"a",{get:function(){return 7}}).a!=7}),Uye=Object.getOwnPropertyDescriptor,vde={f:Uv?Uye:function(e,o){if(e=DC(e),o=mde(o),D3e)try{return Uye(e,o)}catch{}if(Ic(e,o))return Iq(!Wa(SGe.f,e,o),e[o])}},UGe=xo.String,WGe=xo.TypeError,_u=function(e){if(Fi(e))return e;throw WGe(UGe(e)+" is not an object")},qGe=xo.TypeError,Wye=Object.defineProperty,hy={f:Uv?Wye:function(e,o,s){if(_u(e),o=mde(o),_u(s),D3e)try{return Wye(e,o,s)}catch{}if("get"in s||"set"in s)throw qGe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},Iv=Uv?function(e,o,s){return hy.f(e,o,Iq(1,s))}:function(e,o,s){return e[o]=s,e},ZGe=Rs(Function.toString);ui(lC.inspectSource)||(lC.inspectSource=function(e){return ZGe(e)});var wW,HN,CW,Lq=lC.inspectSource,qye=xo.WeakMap,B3e=ui(qye)&&/native code/.test(Lq(qye)),Zye=hde("keys"),bde=function(e){return Zye[e]||(Zye[e]=gde(e))},Hq={},Ile=xo.TypeError,GGe=xo.WeakMap;if(B3e||lC.state){var LE=lC.state||(lC.state=new GGe),KGe=Rs(LE.get),Gye=Rs(LE.has),YGe=Rs(LE.set);wW=function(e,o){if(Gye(LE,e))throw new Ile("Object already initialized");return o.facade=e,YGe(LE,e,o),o},HN=function(e){return KGe(LE,e)||{}},CW=function(e){return Gye(LE,e)}}else{var LO=bde("state");Hq[LO]=!0,wW=function(e,o){if(Ic(e,LO))throw new Ile("Object already initialized");return o.facade=e,Iv(e,LO,o),o},HN=function(e){return Ic(e,LO)?e[LO]:{}},CW=function(e){return Ic(e,LO)}}var ip={set:wW,get:HN,has:CW,enforce:function(e){return CW(e)?HN(e):wW(e,{})},getterFor:function(e){return function(o){var s;if(!Fi(o)||(s=HN(o)).type!==e)throw Ile("Incompatible receiver, "+e+" required");return s}}},N3e=Function.prototype,XGe=Uv&&Object.getOwnPropertyDescriptor,Sse=Ic(N3e,"name"),dF={EXISTS:Sse,PROPER:Sse&&function(){}.name==="something",CONFIGURABLE:Sse&&(!Uv||Uv&&XGe(N3e,"name").configurable)},tp=cde(function(e){var o=dF.CONFIGURABLE,s=ip.get,l=ip.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;ui(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Ic(v,"name")||o&&v.name!==A)&&Iv(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==xo?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:Iv(d,p,v)):T?d[p]=v:dde(p,v)})(Function.prototype,"toString",function(){return ui(this)&&s(this).source||Lq(this)})}),JGe=Math.ceil,QGe=Math.floor,yde=function(e){var o=+e;return o!=o||o===0?0:(o>0?QGe:JGe)(o)},eKe=Math.max,tKe=Math.min,$P=function(e,o){var s=yde(e);return s<0?eKe(s+o,0):tKe(s,o)},nKe=Math.min,P3e=function(e){return e>0?nKe(yde(e),9007199254740991):0},hF=function(e){return P3e(e.length)},Kye=function(e){return function(o,s,l){var c,d=DC(o),p=hF(d),v=$P(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},oKe={includes:Kye(!0),indexOf:Kye(!1)}.indexOf,Yye=Rs([].push),F3e=function(e,o){var s,l=DC(e),c=0,d=[];for(s in l)!Ic(Hq,s)&&Ic(l,s)&&Yye(d,s);for(;o.length>c;)Ic(l,s=o[c++])&&(~oKe(d,s)||Yye(d,s));return d},SW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],rKe=SW.concat("length","prototype"),xW={f:Object.getOwnPropertyNames||function(e){return F3e(e,rKe)}},sKe={f:Object.getOwnPropertySymbols},aKe=Rs([].concat),iKe=P4("Reflect","ownKeys")||function(e){var o=xW.f(_u(e)),s=sKe.f;return s?aKe(o,s(e)):o},lKe=function(e,o){for(var s=iKe(o),l=hy.f,c=vde.f,d=0;d<s.length;d++){var p=s[d];Ic(e,p)||l(e,p,c(o,p))}},cKe=/#|\.prototype\./,pF=function(e,o){var s=fKe[uKe(e)];return s==hKe||s!=dKe&&(ui(o)?Yi(o):!!o)},uKe=pF.normalize=function(e){return String(e).replace(cKe,".").toLowerCase()},fKe=pF.data={},dKe=pF.NATIVE="N",hKe=pF.POLYFILL="P",EW=pF,pKe=vde.f,Fv=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?xo:S?xo[v]||dde(v,{}):(xo[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=pKe(s,l))&&p.value:s[l],!EW(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;lKe(d,c)}(e.sham||c&&c.sham)&&Iv(d,"sham",!0),tp(s,l,d,e)}},kW=Array.isArray||function(e){return jm(e)=="Array"},R3e={};R3e[wc("toStringTag")]="z";var Xye,wde=String(R3e)==="[object z]",gKe=wc("toStringTag"),mKe=xo.Object,vKe=jm(function(){return arguments}())=="Arguments",jq=wde?jm:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=mKe(e),gKe))=="string"?s:vKe?jm(o):(l=jm(o))=="Object"&&ui(o.callee)?"Arguments":l},M3e=function(){},bKe=[],I3e=P4("Reflect","construct"),Cde=/^\s*(?:class|function)\b/,yKe=Rs(Cde.exec),wKe=!Cde.exec(M3e),oN=function(e){if(!ui(e))return!1;try{return I3e(M3e,bKe,e),!0}catch{return!1}},Sde=!I3e||Yi(function(){var e;return oN(oN.call)||!oN(Object)||!oN(function(){e=!0})||e})?function(e){if(!ui(e))return!1;switch(jq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return wKe||!!yKe(Cde,Lq(e))}:oN,L3e=function(e,o,s){var l=mde(o);l in e?hy.f(e,l,Iq(0,s)):e[l]=s},CKe=wc("species"),H3e=Rs([].slice),SKe=(Xye="slice",TP>=51||!Yi(function(){var e=[];return(e.constructor={})[CKe]=function(){return{foo:1}},e[Xye](Boolean).foo!==1})),xKe=wc("species"),xse=xo.Array,EKe=Math.max;Fv({target:"Array",proto:!0,forced:!SKe},{slice:function(e,o){var s,l,c,d=DC(this),p=hF(d),v=$P(e,p),y=$P(o===void 0?p:o,p);if(kW(d)&&(s=d.constructor,(Sde(s)&&(s===xse||kW(s.prototype))||Fi(s)&&(s=s[xKe])===null)&&(s=void 0),s===xse||s===void 0))return H3e(d,v,y);for(l=new(s===void 0?xse:s)(EKe(y-v,0)),c=0;v<y;v++,c++)v in d&&L3e(l,c,d[v]);return l.length=c,l}});var kKe=wde?{}.toString:function(){return"[object "+jq(this)+"]"};wde||tp(Object.prototype,"toString",kKe,{unsafe:!0});var fV,AKe=xo.String,cC=function(e){if(jq(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return AKe(e)},j3e=function(){var e=_u(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},xde=xo.RegExp,Lle=Yi(function(){var e=xde("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),TKe=Lle||Yi(function(){return!xde("a","y").sticky}),z3e={BROKEN_CARET:Lle||Yi(function(){var e=xde("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:TKe,UNSUPPORTED_Y:Lle},OKe=Object.keys||function(e){return F3e(e,SW)},_Ke=Uv?Object.defineProperties:function(e,o){_u(e);for(var s,l=DC(o),c=OKe(o),d=c.length,p=0;d>p;)hy.f(e,s=c[p++],l[s]);return e},Hle=P4("document","documentElement"),V3e=bde("IE_PROTO"),Ese=function(){},U3e=function(e){return"<script>"+e+"<\/script>"},Jye=function(e){e.write(U3e("")),e.close();var o=e.parentWindow.Object;return e=null,o},VV=function(){try{fV=new ActiveXObject("htmlfile")}catch{}var e,o;VV=typeof document<"u"?document.domain&&fV?Jye(fV):((o=_P("iframe")).style.display="none",Hle.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(U3e("document.F=Object")),e.close(),e.F):Jye(fV);for(var s=SW.length;s--;)delete VV.prototype[SW[s]];return VV()};Hq[V3e]=!0;var Qye,kse,Ede=Object.create||function(e,o){var s;return e!==null?(Ese.prototype=_u(e),s=new Ese,Ese.prototype=null,s[V3e]=e):s=VV(),o===void 0?s:_Ke(s,o)},$Ke=xo.RegExp,DKe=Yi(function(){var e=$Ke(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),BKe=xo.RegExp,NKe=Yi(function(){var e=BKe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),PKe=ip.get,FKe=hde("native-string-replace",String.prototype.replace),AW=RegExp.prototype.exec,jle=AW,RKe=Rs("".charAt),MKe=Rs("".indexOf),IKe=Rs("".replace),Ase=Rs("".slice),Tse=(kse=/b*/g,Wa(AW,Qye=/a/,"a"),Wa(AW,kse,"a"),Qye.lastIndex!==0||kse.lastIndex!==0),e2e=z3e.BROKEN_CARET,Ose=/()??/.exec("")[1]!==void 0;(Tse||Ose||e2e||DKe||NKe)&&(jle=function(e){var o,s,l,c,d,p,v,y=this,S=PKe(y),x=cC(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=Wa(jle,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=e2e&&y.sticky,F=Wa(j3e,y),N=y.source,D=0,B=x;if(A&&(F=IKe(F,"y",""),MKe(F,"g")===-1&&(F+="g"),B=Ase(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&RKe(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),Ose&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Tse&&(l=y.lastIndex),c=Wa(AW,A?s:y,B),A?c?(c.input=Ase(c.input,D),c[0]=Ase(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:Tse&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),Ose&&c&&c.length>1&&Wa(FKe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=Ede(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var DP=jle;Fv({target:"RegExp",proto:!0,forced:/./.exec!==DP},{exec:DP});var kde=Function.prototype,t2e=kde.apply,LKe=kde.bind,n2e=kde.call,W3e=typeof Reflect=="object"&&Reflect.apply||(LKe?n2e.bind(t2e):function(){return n2e.apply(t2e,arguments)}),HKe=wc("species"),_se=RegExp.prototype,jKe=wc("match"),zKe=xo.TypeError,VKe=wc("species"),q3e=function(e,o){var s,l=_u(e).constructor;return l===void 0||(s=_u(l)[VKe])==null?o:function(c){if(Sde(c))return c;throw zKe(yW(c)+" is not a constructor")}(s)},UKe=Rs("".charAt),o2e=Rs("".charCodeAt),WKe=Rs("".slice),r2e=function(e){return function(o,s){var l,c,d=cC(kP(o)),p=yde(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=o2e(d,p))<55296||l>56319||p+1===v||(c=o2e(d,p+1))<56320||c>57343?e?UKe(d,p):l:e?WKe(d,p,p+2):c-56320+(l-55296<<10)+65536}},Z3e={codeAt:r2e(!1),charAt:r2e(!0)},qKe=Z3e.charAt,ZKe=function(e,o,s){return o+(s?qKe(e,o).length:1)},GKe=xo.Array,KKe=Math.max,zle=function(e,o,s){for(var l=hF(e),c=$P(o,l),d=$P(s===void 0?l:s,l),p=GKe(KKe(d-c,0)),v=0;c<d;c++,v++)L3e(p,v,e[c]);return p.length=v,p},YKe=xo.TypeError,s2e=function(e,o){var s=e.exec;if(ui(s)){var l=Wa(s,e,o);return l!==null&&_u(l),l}if(jm(e)==="RegExp")return Wa(DP,e,o);throw YKe("RegExp#exec called on incompatible receiver")},HO=z3e.UNSUPPORTED_Y,XKe=Math.min,G3e=[].push,JKe=Rs(/./.exec),jO=Rs(G3e),rN=Rs("".slice);(function(e,o,s,l){var c=wc(e),d=!Yi(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Yi(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[HKe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=Rs(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=Rs(S),N=x.exec;return N===DP||N===_se.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});tp(String.prototype,e,y[0]),tp(_se,c,y[1])}l&&Iv(_se[c],"sham",!0)})("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p,v,y=cC(kP(this)),S=d===void 0?4294967295:d>>>0;if(S===0)return[];if(c===void 0)return[y];if(!Fi(p=c)||!((v=p[jKe])!==void 0?v:jm(p)=="RegExp"))return Wa(o,y,c,S);for(var x,T,k,A=[],F=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),N=0,D=new RegExp(c.source,F+"g");(x=Wa(DP,D,y))&&!((T=D.lastIndex)>N&&(jO(A,rN(y,N,x.index)),x.length>1&&x.index<y.length&&W3e(G3e,A,zle(x,1)),k=x[0].length,N=T,A.length>=S));)D.lastIndex===x.index&&D.lastIndex++;return N===y.length?!k&&JKe(D,"")||jO(A,""):jO(A,rN(y,N)),A.length>S?zle(A,0,S):A}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:Wa(o,this,c,d)}:o,[function(c,d){var p=kP(this),v=c==null?void 0:OP(c,e);return v?Wa(v,c,p,d):Wa(l,cC(p),c,d)},function(c,d){var p=_u(this),v=cC(c),y=s(l,p,v,d,l!==o);if(y.done)return y.value;var S=q3e(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(HO?"g":"y"),k=new S(HO?"^(?:"+p.source+")":p,T),A=d===void 0?4294967295:d>>>0;if(A===0)return[];if(v.length===0)return s2e(k,v)===null?[v]:[];for(var F=0,N=0,D=[];N<v.length;){k.lastIndex=HO?0:N;var B,O=s2e(k,HO?rN(v,N):v);if(O===null||(B=XKe(P3e(k.lastIndex+(HO?N:0)),v.length))===F)N=ZKe(v,N,x);else{if(jO(D,rN(v,F,N)),D.length===A)return D;for(var P=1;P<=O.length-1;P++)if(jO(D,O[P]),D.length===A)return D;N=F=B}}return jO(D,rN(v,F)),D}]},!!Yi(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),HO);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TW=function(){return TW=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},TW.apply(this,arguments)};function Ade(e,o,s,l){return new(s||(s=Promise))(function(c,d){function p(S){try{y(l.next(S))}catch(x){d(x)}}function v(S){try{y(l.throw(S))}catch(x){d(x)}}function y(S){var x;S.done?c(S.value):(x=S.value,x instanceof s?x:new s(function(T){T(x)})).then(p,v)}y((l=l.apply(e,o||[])).next())})}function Tde(e,o){var s,l,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(y){return function(S){return function(x){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,l=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=o.call(e,p)}catch(T){x=[6,T],l=0}finally{s=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([y,S])}}}function QKe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function eYe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=e[Symbol.asyncIterator];return s?s.call(e):(e=QKe(e),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(c){o[c]=e[c]&&function(d){return new Promise(function(p,v){(function(y,S,x,T){Promise.resolve(T).then(function(k){y({value:k,done:x})},S)})(p,v,(d=e[c](d)).done,d.value)})}}}var Vle=wc("unscopables"),Ule=Array.prototype;Ule[Vle]==null&&hy.f(Ule,Vle,{configurable:!0,value:Ede(null)});var y4,a2e,i2e,$se=function(e){Ule[Vle][e]=!0},L_={},tYe=!Yi(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),l2e=bde("IE_PROTO"),Wle=xo.Object,nYe=Wle.prototype,OW=tYe?Wle.getPrototypeOf:function(e){var o=pde(e);if(Ic(o,l2e))return o[l2e];var s=o.constructor;return ui(s)&&o instanceof s?s.prototype:o instanceof Wle?nYe:null},qle=wc("iterator"),K3e=!1;[].keys&&("next"in(i2e=[].keys())?(a2e=OW(OW(i2e)))!==Object.prototype&&(y4=a2e):K3e=!0);var oYe=y4==null||Yi(function(){var e={};return y4[qle].call(e)!==e});oYe&&(y4={}),ui(y4[qle])||tp(y4,qle,function(){return this});var Ode={IteratorPrototype:y4,BUGGY_SAFARI_ITERATORS:K3e},rYe=hy.f,c2e=wc("toStringTag"),_W=function(e,o,s){e&&!Ic(e=s?e:e.prototype,c2e)&&rYe(e,c2e,{configurable:!0,value:o})},sYe=Ode.IteratorPrototype,aYe=function(){return this},iYe=xo.String,lYe=xo.TypeError,H_=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=Rs(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return _u(l),function(d){if(typeof d=="object"||ui(d))return d;throw lYe("Can't set "+iYe(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),cYe=dF.PROPER,uYe=dF.CONFIGURABLE,u2e=Ode.IteratorPrototype,dV=Ode.BUGGY_SAFARI_ITERATORS,sN=wc("iterator"),fYe=function(){return this},Y3e=function(e,o,s,l,c,d,p){(function(B,O,P,I){var z=O+" Iterator";B.prototype=Ede(sYe,{next:Iq(+!I,P)}),_W(B,z,!1),L_[z]=aYe})(s,o,l);var v,y,S,x=function(B){if(B===c&&N)return N;if(!dV&&B in A)return A[B];switch(B){case"keys":case"values":case"entries":return function(){return new s(this,B)}}return function(){return new s(this)}},T=o+" Iterator",k=!1,A=e.prototype,F=A[sN]||A["@@iterator"]||c&&A[c],N=!dV&&F||x(c),D=o=="Array"&&A.entries||F;if(D&&(v=OW(D.call(new e)))!==Object.prototype&&v.next&&(OW(v)!==u2e&&(H_?H_(v,u2e):ui(v[sN])||tp(v,sN,fYe)),_W(v,T,!0)),cYe&&c=="values"&&F&&F.name!=="values"&&(uYe?Iv(A,"name","values"):(k=!0,N=function(){return Wa(F,this)})),c)if(y={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in y)(dV||k||!(S in A))&&tp(A,S,y[S]);else Fv({target:o,proto:!0,forced:dV||k},y);return A[sN]!==N&&tp(A,sN,N,{name:c}),L_[o]=N,y},dYe=ip.set,hYe=ip.getterFor("Array Iterator"),wN=Y3e(Array,"Array",function(e,o){dYe(this,{type:"Array Iterator",target:DC(e),index:0,kind:o})},function(){var e=hYe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");L_.Arguments=L_.Array,$se("keys"),$se("values"),$se("entries");var pYe=Z3e.charAt,gYe=ip.set,mYe=ip.getterFor("String Iterator");Y3e(String,"String",function(e){gYe(this,{type:"String Iterator",string:cC(e),index:0})},function(){var e,o=mYe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=pYe(s,l),o.index+=e.length,{value:e,done:!1})});var $W=function(e,o,s){for(var l in o)tp(e,l,o[l],s);return e},f2e=xW.f,d2e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vYe={f:function(e){return d2e&&jm(e)=="Window"?function(o){try{return f2e(o)}catch{return zle(d2e)}}(e):f2e(DC(e))}},h2e=Yi(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),hV=Object.isExtensible,n4=Yi(function(){hV(1)})||h2e?function(e){return!!Fi(e)&&(!h2e||jm(e)!="ArrayBuffer")&&(!hV||hV(e))}:hV,bYe=!Yi(function(){return Object.isExtensible(Object.preventExtensions({}))}),_de=cde(function(e){var o=hy.f,s=!1,l=gde("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=xW.f,y=Rs([].splice),S={};S[l]=1,v(S).length&&(xW.f=function(x){for(var T=v(x),k=0,A=T.length;k<A;k++)if(T[k]===l){y(T,k,1);break}return T},Fv({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:vYe.f}))},fastKey:function(v,y){if(!Fi(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!Ic(v,l)){if(!n4(v))return"F";if(!y)return"E";d(v)}return v[l].objectID},getWeakData:function(v,y){if(!Ic(v,l)){if(!n4(v))return!0;if(!y)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return bYe&&s&&n4(v)&&!Ic(v,l)&&d(v),v}};Hq[l]=!0}),p2e=Rs(Rs.bind),BP=function(e,o){return kC(e),o===void 0?e:p2e?p2e(e,o):function(){return e.apply(o,arguments)}},yYe=wc("iterator"),wYe=Array.prototype,CYe=wc("iterator"),g2e=function(e){if(e!=null)return OP(e,CYe)||OP(e,"@@iterator")||L_[jq(e)]},SYe=xo.TypeError,m2e=function(e,o,s){var l,c;_u(e);try{if(!(l=OP(e,"return"))){if(o==="throw")throw s;return s}l=Wa(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return _u(l),s},xYe=xo.TypeError,UV=function(e,o){this.stopped=e,this.result=o},v2e=UV.prototype,DW=function(e,o,s){var l,c,d,p,v,y,S,x,T=s&&s.that,k=!(!s||!s.AS_ENTRIES),A=!(!s||!s.IS_ITERATOR),F=!(!s||!s.INTERRUPTED),N=BP(o,T),D=function(O){return l&&m2e(l,"normal",O),new UV(!0,O)},B=function(O){return k?(_u(O),F?N(O[0],O[1],D):N(O[0],O[1])):F?N(O,D):N(O)};if(A)l=e;else{if(!(c=g2e(e)))throw xYe(yW(e)+" is not iterable");if((x=c)!==void 0&&(L_.Array===x||wYe[yYe]===x)){for(d=0,p=hF(e);p>d;d++)if((v=B(e[d]))&&AP(v2e,v))return v;return new UV(!1)}l=function(O,P){var I=arguments.length<2?g2e(O):P;if(kC(I))return _u(Wa(I,O));throw SYe(yW(O)+" is not iterable")}(e,c)}for(y=l.next;!(S=Wa(y,l)).done;){try{v=B(S.value)}catch(O){m2e(l,"throw",O)}if(typeof v=="object"&&v&&AP(v2e,v))return v}return new UV(!1)},EYe=xo.TypeError,$de=function(e,o){if(AP(o,e))return e;throw EYe("Incorrect invocation")},X3e=wc("iterator"),J3e=!1;try{var kYe=0,b2e={next:function(){return{done:!!kYe++}},return:function(){J3e=!0}};b2e[X3e]=function(){return this},Array.from(b2e,function(){throw 2})}catch{}var Q3e=function(e,o){if(!o&&!J3e)return!1;var s=!1;try{var l={};l[X3e]=function(){return{next:function(){return{done:s=!0}}}},e(l)}catch{}return s},AYe=wc("species"),y2e=xo.Array,TYe=function(e,o){return new(function(s){var l;return kW(s)&&(l=s.constructor,(Sde(l)&&(l===y2e||kW(l.prototype))||Fi(l)&&(l=l[AYe])===null)&&(l=void 0)),l===void 0?y2e:l}(e))(o===0?0:o)},w2e=Rs([].push),Lw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=pde(y),N=ude(F),D=BP(S,x),B=hF(N),O=0,P=T||TYe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:w2e(I,k)}else switch(e){case 4:return!1;case 7:w2e(I,k)}return d?-1:l||c?c:I}},Dde={forEach:Lw(0),map:Lw(1),filter:Lw(2),some:Lw(3),every:Lw(4),find:Lw(5),findIndex:Lw(6),filterReject:Lw(7)},pV=_de.getWeakData,OYe=ip.set,_Ye=ip.getterFor,$Ye=Dde.find,DYe=Dde.findIndex,BYe=Rs([].splice),NYe=0,gV=function(e){return e.frozen||(e.frozen=new eke)},eke=function(){this.entries=[]},Dse=function(e,o){return $Ye(e.entries,function(s){return s[0]===o})};eke.prototype={get:function(e){var o=Dse(this,e);if(o)return o[1]},has:function(e){return!!Dse(this,e)},set:function(e,o){var s=Dse(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=DYe(this.entries,function(s){return s[0]===e});return~o&&BYe(this.entries,o,1),!!~o}};var aN,tke={getConstructor:function(e,o,s,l){var c=e(function(y,S){$de(y,d),OYe(y,{type:o,id:NYe++,frozen:void 0}),S!=null&&DW(S,y[l],{that:y,AS_ENTRIES:s})}),d=c.prototype,p=_Ye(o),v=function(y,S,x){var T=p(y),k=pV(_u(S),!0);return k===!0?gV(T).set(S,x):k[T.id]=x,y};return $W(d,{delete:function(y){var S=p(this);if(!Fi(y))return!1;var x=pV(y);return x===!0?gV(S).delete(y):x&&Ic(x,S.id)&&delete x[S.id]},has:function(y){var S=p(this);if(!Fi(y))return!1;var x=pV(y);return x===!0?gV(S).has(y):x&&Ic(x,S.id)}}),$W(d,s?{get:function(y){var S=p(this);if(Fi(y)){var x=pV(y);return x===!0?gV(S).get(y):x?x[S.id]:void 0}},set:function(y,S){return v(this,y,S)}}:{add:function(y){return v(this,y,!0)}}),c}},mV=ip.enforce,PYe=!xo.ActiveXObject&&"ActiveXObject"in xo,nke=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},FYe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=xo[e],v=p&&p.prototype,y=p,S={},x=function(D){var B=Rs(v[D]);tp(v,D,D=="add"?function(O){return B(this,O===0?0:O),this}:D=="delete"?function(O){return!(c&&!Fi(O))&&B(this,O===0?0:O)}:D=="get"?function(O){return c&&!Fi(O)?void 0:B(this,O===0?0:O)}:D=="has"?function(O){return!(c&&!Fi(O))&&B(this,O===0?0:O)}:function(O,P){return B(this,O===0?0:O,P),this})};if(EW(e,!ui(p)||!(c||v.forEach&&!Yi(function(){new p().entries().next()}))))y=s.getConstructor(o,e,l,d),_de.enable();else if(EW(e,!0)){var T=new y,k=T[d](c?{}:-0,1)!=T,A=Yi(function(){T.has(1)}),F=Q3e(function(D){new p(D)}),N=!c&&Yi(function(){for(var D=new p,B=5;B--;)D[d](B,B);return!D.has(-0)});F||((y=o(function(D,B){$de(D,v);var O=function(P,I,z){var K,j;return H_&&ui(K=I.constructor)&&K!==z&&Fi(j=K.prototype)&&j!==z.prototype&&H_(P,j),P}(new p,D,y);return B!=null&&DW(B,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=y),(A||N)&&(x("delete"),x("has"),l&&x("get")),(N||k)&&x(d),c&&v.clear&&delete v.clear}return S[e]=y,Fv({global:!0,forced:y!=p},S),_W(y,e),c||s.setStrong(y,e,l),y}("WeakMap",nke,tke);if(B3e&&PYe){aN=tke.getConstructor(nke,"WeakMap",!0),_de.enable();var iN=FYe.prototype,C2e=Rs(iN.delete),vV=Rs(iN.has),S2e=Rs(iN.get),x2e=Rs(iN.set);$W(iN,{delete:function(e){if(Fi(e)&&!n4(e)){var o=mV(this);return o.frozen||(o.frozen=new aN),C2e(this,e)||o.frozen.delete(e)}return C2e(this,e)},has:function(e){if(Fi(e)&&!n4(e)){var o=mV(this);return o.frozen||(o.frozen=new aN),vV(this,e)||o.frozen.has(e)}return vV(this,e)},get:function(e){if(Fi(e)&&!n4(e)){var o=mV(this);return o.frozen||(o.frozen=new aN),vV(this,e)?S2e(this,e):o.frozen.get(e)}return S2e(this,e)},set:function(e,o){if(Fi(e)&&!n4(e)){var s=mV(this);s.frozen||(s.frozen=new aN),vV(this,e)?x2e(this,e,o):s.frozen.set(e,o)}else x2e(this,e,o);return this}})}var BW={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Bse=_P("span").classList,E2e=Bse&&Bse.constructor&&Bse.constructor.prototype,oke=E2e===Object.prototype?void 0:E2e,Nse=wc("iterator"),k2e=wc("toStringTag"),Pse=wN.values,rke=function(e,o){if(e){if(e[Nse]!==Pse)try{Iv(e,Nse,Pse)}catch{e[Nse]=Pse}if(e[k2e]||Iv(e,k2e,o),BW[o]){for(var s in wN)if(e[s]!==wN[s])try{Iv(e,s,wN[s])}catch{e[s]=wN[s]}}}};for(var Fse in BW)rke(xo[Fse]&&xo[Fse].prototype,Fse);rke(oke,"DOMTokenList");var ske=function(e,o){var s=[][e];return!!s&&Yi(function(){s.call(null,o||function(){throw 1},1)})},RYe=Dde.forEach,Rse=ske("forEach")?[].forEach:function(e){return RYe(this,e,arguments.length>1?arguments[1]:void 0)},ake=function(e){if(e&&e.forEach!==Rse)try{Iv(e,"forEach",Rse)}catch{e.forEach=Rse}};for(var Mse in BW)BW[Mse]&&ake(xo[Mse]&&xo[Mse].prototype);ake(oke);var NP,zO,A2e,Ise,NW=xo.Promise,T2e=wc("species"),ike=/(?:ipad|iphone|ipod).*applewebkit/i.test(p_),uC=jm(xo.process)=="process",Zle=xo.setImmediate,Gle=xo.clearImmediate,MYe=xo.process,Lse=xo.Dispatch,IYe=xo.Function,O2e=xo.MessageChannel,LYe=xo.String,Hse=0,jN={};try{NP=xo.location}catch{}var Bde=function(e){if(Ic(jN,e)){var o=jN[e];delete jN[e],o()}},jse=function(e){return function(){Bde(e)}},_2e=function(e){Bde(e.data)},$2e=function(e){xo.postMessage(LYe(e),NP.protocol+"//"+NP.host)};Zle&&Gle||(Zle=function(e){var o=H3e(arguments,1);return jN[++Hse]=function(){W3e(ui(e)?e:IYe(e),void 0,o)},zO(Hse),Hse},Gle=function(e){delete jN[e]},uC?zO=function(e){MYe.nextTick(jse(e))}:Lse&&Lse.now?zO=function(e){Lse.now(jse(e))}:O2e&&!ike?(Ise=(A2e=new O2e).port2,A2e.port1.onmessage=_2e,zO=BP(Ise.postMessage,Ise)):xo.addEventListener&&ui(xo.postMessage)&&!xo.importScripts&&NP&&NP.protocol!=="file:"&&!Yi($2e)?(zO=$2e,xo.addEventListener("message",_2e,!1)):zO="onreadystatechange"in _P("script")?function(e){Hle.appendChild(_P("script")).onreadystatechange=function(){Hle.removeChild(this),Bde(e)}}:function(e){setTimeout(jse(e),0)});var lN,XE,zN,JO,zse,Vse,Use,D2e,lke={set:Zle,clear:Gle},HYe=/ipad|iphone|ipod/i.test(p_)&&xo.Pebble!==void 0,jYe=/web0s(?!.*chrome)/i.test(p_),zYe=vde.f,Wse=lke.set,B2e=xo.MutationObserver||xo.WebKitMutationObserver,N2e=xo.document,P2e=xo.process,bV=xo.Promise,F2e=zYe(xo,"queueMicrotask"),cke=F2e&&F2e.value;cke||(lN=function(){var e,o;for(uC&&(e=P2e.domain)&&e.exit();XE;){o=XE.fn,XE=XE.next;try{o()}catch(s){throw XE?JO():zN=void 0,s}}zN=void 0,e&&e.enter()},ike||uC||jYe||!B2e||!N2e?!HYe&&bV&&bV.resolve?((Use=bV.resolve(void 0)).constructor=bV,D2e=BP(Use.then,Use),JO=function(){D2e(lN)}):uC?JO=function(){P2e.nextTick(lN)}:(Wse=BP(Wse,xo),JO=function(){Wse(lN)}):(zse=!0,Vse=N2e.createTextNode(""),new B2e(lN).observe(Vse,{characterData:!0}),JO=function(){Vse.data=zse=!zse}));var qse,R2e,uke,M2e,fke=cke||function(e){var o={fn:e,next:void 0};zN&&(zN.next=o),XE||(XE=o,JO()),zN=o},VYe=function(e){var o,s;this.promise=new e(function(l,c){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=c}),this.resolve=kC(o),this.reject=kC(s)},Nde={f:function(e){return new VYe(e)}},Kle=function(e){try{return{error:!1,value:e()}}catch(o){return{error:!0,value:o}}},UYe=typeof window=="object",dke=lke.set,WYe=wc("species"),Dv="Promise",I2e=ip.getterFor(Dv),qYe=ip.set,ZYe=ip.getterFor(Dv),qE=NW&&NW.prototype,Rv=NW,cN=qE,hke=xo.TypeError,Yle=xo.document,Pde=xo.process,g_=Nde.f,GYe=g_,KYe=!!(Yle&&Yle.createEvent&&xo.dispatchEvent),pke=ui(xo.PromiseRejectionEvent),gke=!1,VN=EW(Dv,function(){var e=Lq(Rv),o=e!==String(Rv);if(!o&&TP===66)return!0;if(TP>=51&&/native code/.test(e))return!1;var s=new Rv(function(c){c(1)}),l=function(c){c(function(){},function(){})};return(s.constructor={})[WYe]=l,!(gke=s.then(function(){})instanceof l)||!o&&UYe&&!pke}),YYe=VN||!Q3e(function(e){Rv.all(e).catch(function(){})}),mke=function(e){var o;return!(!Fi(e)||!ui(o=e.then))&&o},Fde=function(e,o){if(!e.notified){e.notified=!0;var s=e.reactions;fke(function(){for(var l=e.value,c=e.state==1,d=0;s.length>d;){var p,v,y,S=s[d++],x=c?S.ok:S.fail,T=S.resolve,k=S.reject,A=S.domain;try{x?(c||(e.rejection===2&&JYe(e),e.rejection=1),x===!0?p=l:(A&&A.enter(),p=x(l),A&&(A.exit(),y=!0)),p===S.promise?k(hke("Promise-chain cycle")):(v=mke(p))?Wa(v,p,T,k):T(p)):k(l)}catch(F){A&&!y&&A.exit(),k(F)}}e.reactions=[],e.notified=!1,o&&!e.rejection&&XYe(e)})}},vke=function(e,o,s){var l,c;KYe?((l=Yle.createEvent("Event")).promise=o,l.reason=s,l.initEvent(e,!1,!0),xo.dispatchEvent(l)):l={promise:o,reason:s},!pke&&(c=xo["on"+e])?c(l):e==="unhandledrejection"&&function(d,p){var v=xo.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,p))}("Unhandled promise rejection",s)},XYe=function(e){Wa(dke,xo,function(){var o,s=e.facade,l=e.value;if(L2e(e)&&(o=Kle(function(){uC?Pde.emit("unhandledRejection",l,s):vke("unhandledrejection",s,l)}),e.rejection=uC||L2e(e)?2:1,o.error))throw o.value})},L2e=function(e){return e.rejection!==1&&!e.parent},JYe=function(e){Wa(dke,xo,function(){var o=e.facade;uC?Pde.emit("rejectionHandled",o):vke("rejectionhandled",o,e.value)})},r_=function(e,o,s){return function(l){e(o,l,s)}},m_=function(e,o,s){e.done||(e.done=!0,s&&(e=s),e.value=o,e.state=2,Fde(e,!0))},Xle=function(e,o,s){if(!e.done){e.done=!0,s&&(e=s);try{if(e.facade===o)throw hke("Promise can't be resolved itself");var l=mke(o);l?fke(function(){var c={done:!1};try{Wa(l,o,r_(Xle,c,e),r_(m_,c,e))}catch(d){m_(c,d,e)}}):(e.value=o,e.state=1,Fde(e,!1))}catch(c){m_({done:!1},c,e)}}};if(VN&&(cN=(Rv=function(e){$de(this,cN),kC(e),Wa(qse,this);var o=I2e(this);try{e(r_(Xle,o),r_(m_,o))}catch(s){m_(o,s)}}).prototype,(qse=function(e){qYe(this,{type:Dv,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=$W(cN,{then:function(e,o){var s=ZYe(this),l=s.reactions,c=g_(q3e(this,Rv));return c.ok=!ui(e)||e,c.fail=ui(o)&&o,c.domain=uC?Pde.domain:void 0,s.parent=!0,l[l.length]=c,s.state!=0&&Fde(s,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),R2e=function(){var e=new qse,o=I2e(e);this.promise=e,this.resolve=r_(Xle,o),this.reject=r_(m_,o)},Nde.f=g_=function(e){return e===Rv||e===uke?new R2e(e):GYe(e)},ui(NW)&&qE!==Object.prototype)){M2e=qE.then,gke||(tp(qE,"then",function(e,o){var s=this;return new Rv(function(l,c){Wa(M2e,s,l,c)}).then(e,o)},{unsafe:!0}),tp(qE,"catch",cN.catch,{unsafe:!0}));try{delete qE.constructor}catch{}H_&&H_(qE,cN)}Fv({global:!0,wrap:!0,forced:VN},{Promise:Rv}),_W(Rv,Dv,!1),function(e){var o=P4(e),s=hy.f;Uv&&o&&!o[T2e]&&s(o,T2e,{configurable:!0,get:function(){return this}})}(Dv),uke=P4(Dv),Fv({target:Dv,stat:!0,forced:VN},{reject:function(e){var o=g_(this);return Wa(o.reject,void 0,e),o.promise}}),Fv({target:Dv,stat:!0,forced:VN},{resolve:function(e){return function(o,s){if(_u(o),Fi(s)&&s.constructor===o)return s;var l=Nde.f(o);return(0,l.resolve)(s),l.promise}(this,e)}}),Fv({target:Dv,stat:!0,forced:YYe},{all:function(e){var o=this,s=g_(o),l=s.resolve,c=s.reject,d=Kle(function(){var p=kC(o.resolve),v=[],y=0,S=1;DW(e,function(x){var T=y++,k=!1;S++,Wa(p,o,x).then(function(A){k||(k=!0,v[T]=A,--S||l(v))},c)}),--S||l(v)});return d.error&&c(d.value),s.promise},race:function(e){var o=this,s=g_(o),l=s.reject,c=Kle(function(){var d=kC(o.resolve);DW(e,function(p){Wa(d,o,p).then(s.resolve,l)})});return c.error&&l(c.value),s.promise}});var QYe=dF.PROPER,Jle=RegExp.prototype,bke=Jle.toString,eXe=Rs(j3e),tXe=Yi(function(){return bke.call({source:"a",flags:"b"})!="/a/b"}),nXe=QYe&&bke.name!="toString";(tXe||nXe)&&tp(RegExp.prototype,"toString",function(){var e=_u(this),o=cC(e.source),s=e.flags;return"/"+o+"/"+cC(s===void 0&&AP(Jle,e)&&!("flags"in Jle)?eXe(e):s)},{unsafe:!0});var oXe=dF.EXISTS,rXe=hy.f,yke=Function.prototype,sXe=Rs(yke.toString),wke=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,aXe=Rs(wke.exec);Uv&&!oXe&&rXe(yke,"name",{configurable:!0,get:function(){try{return aXe(wke,sXe(this))[1]}catch{return""}}});var H2e=new WeakMap;function Cke(e){return e.getMenuConfig("uploadImage")}function iXe(e,o){return Ade(this,void 0,void 0,function(){return Tde(this,function(s){return[2,new Promise(function(l){var c=new FileReader;c.readAsDataURL(o),c.onload=function(){var d=c.result;if(d){var p=d.toString(),v=p.indexOf("data:image")===0?"":p;l4(e,p,o.name,v),l("ok")}}})]})})}function lXe(e,o){return Ade(this,void 0,void 0,function(){var s,l,c,d;return Tde(this,function(p){switch(p.label){case 0:return s=function(v){var y=H2e.get(v);if(y!=null)return y;var S=Cke(v),x=S.onSuccess,T=S.onProgress,k=S.onFailed,A=S.customInsert,F=S.onError;return y=nxe(TW(TW({},S),{onProgress:function(N){v.showProgressBar(N),T&&T(N)},onSuccess:function(N,D){if(A)return A(D,function(ae,Q,G){return l4(v,ae,Q,G)}),void x(N,D);var B=D.errno,O=B===void 0?1:B,P=D.data,I=P===void 0?{}:P;if(O===0){if(Array.isArray(I))I.forEach(function(ae){var Q=ae.url,G=Q===void 0?"":Q,ue=ae.alt,pe=ue===void 0?"":ue,be=ae.href;l4(v,G,pe,be===void 0?"":be)});else{var z=I.url,K=z===void 0?"":z,j=I.alt,oe=j===void 0?"":j,ke=I.href;l4(v,K,oe,ke===void 0?"":ke)}x(N,D)}else k(N,D)},onError:function(N,D,B){F(N,D,B)}})),H2e.set(v,y),y}(e),l=o.name,c=o.type,d=o.size,s.addFile({name:l,type:c,size:d,data:o}),[4,s.upload()];case 1:return p.sent(),[2]}})})}function Ske(e,o){var s,l;return Ade(this,void 0,void 0,function(){var c,d,p,v,y,S,x,T,k;return Tde(this,function(A){switch(A.label){case 0:if(o==null)return[2];c=Array.prototype.slice.call(o),d=Cke(e),p=d.customUpload,v=d.base64LimitSize,A.label=1;case 1:A.trys.push([1,11,12,17]),y=eYe(c),A.label=2;case 2:return[4,y.next()];case 3:return(S=A.sent()).done?[3,10]:(x=S.value,T=x.size,v&&T<=v?[4,iXe(e,x)]:[3,5]);case 4:return A.sent(),[3,9];case 5:return p?[4,p(x,function(F,N,D){return l4(e,F,N,D)})]:[3,7];case 6:return A.sent(),[3,9];case 7:return[4,lXe(e,x)];case 8:A.sent(),A.label=9;case 9:return[3,2];case 10:return[3,17];case 11:return k=A.sent(),s={error:k},[3,17];case 12:return A.trys.push([12,,15,16]),S&&!S.done&&(l=y.return)?[4,l.call(y)]:[3,14];case 13:A.sent(),A.label=14;case 14:return[3,16];case 15:if(s)throw s.error;return[7];case 16:return[7];case 17:return[2]}})})}var cXe=Rs([].join),uXe=ude!=Object,fXe=ske("join",",");Fv({target:"Array",proto:!0,forced:uXe||!fXe},{join:function(e){return cXe(DC(this),e===void 0?",":e)}});zv&&(Dt.fn.append=zv),jv&&(Dt.fn.on=jv),k_&&(Dt.fn.remove=k_),Hv&&(Dt.fn.val=Hv),fge&&(Dt.fn.click=fge),S_&&(Dt.fn.hide=S_);var dXe=function(){function e(){this.title=Co("uploadImgModule.uploadImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M828.708571 585.045333a48.761905 48.761905 0 0 0-48.737523 48.761905v18.529524l-72.143238-72.167619a135.972571 135.972571 0 0 0-191.585524 0l-34.133334 34.133333-120.880762-120.953905a138.898286 138.898286 0 0 0-191.585523 0l-72.167619 72.167619V292.400762a48.786286 48.786286 0 0 1 48.761904-48.761905h341.23581a48.737524 48.737524 0 0 0 34.474667-83.285333 48.737524 48.737524 0 0 0-34.474667-14.287238H146.236952A146.212571 146.212571 0 0 0 0 292.400762v585.289143A146.358857 146.358857 0 0 0 146.236952 1024h584.996572a146.212571 146.212571 0 0 0 146.236952-146.310095V633.807238a48.786286 48.786286 0 0 0-48.761905-48.761905zM146.261333 926.45181a48.737524 48.737524 0 0 1-48.761904-48.761905v-174.128762l141.409523-141.458286a38.497524 38.497524 0 0 1 53.126096 0l154.526476 154.624 209.627428 209.724953H146.236952z m633.734096-48.761905c-0.073143 9.337905-3.145143 18.383238-8.777143 25.843809l-219.843048-220.94019 34.133333-34.133334a37.546667 37.546667 0 0 1 53.613715 0l140.873143 141.897143V877.714286zM1009.615238 160.231619L863.329524 13.897143a48.737524 48.737524 0 0 0-16.091429-10.24c-11.849143-4.87619-25.161143-4.87619-37.059047 0a48.761905 48.761905 0 0 0-16.067048 10.24l-146.236952 146.334476a49.005714 49.005714 0 0 0 69.217523 69.241905l62.902858-63.390476v272.627809a48.761905 48.761905 0 1 0 97.475047 0V166.083048l62.902857 63.390476a48.737524 48.737524 0 0 0 69.217524 0 48.761905 48.761905 0 0 0 0-69.241905z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return vq(o)},e.prototype.getMenuConfig=function(o){return o.getMenuConfig("uploadImage")},e.prototype.exec=function(o,s){var l=this.getMenuConfig(o),c=l.allowedFileTypes,d=c===void 0?[]:c,p=l.customBrowseAndUpload;if(p)p(function(x,T,k){return l4(o,x,T,k)});else{var v="";d.length>0&&(v='accept="'+d.join(", ")+'"');var y=Dt("body"),S=Dt('<input type="file" '+v+" multiple/>");S.hide(),y.append(S),S.click(),S.on("change",function(){var x=S[0].files;Ske(o,x)})}},e}(),hXe={menus:[{key:"uploadImage",factory:function(){return new dXe},config:{server:"",fieldName:"wangeditor-uploaded-image",maxFileSize:2097152,maxNumberOfFiles:100,allowedFileTypes:["image/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:1e4,onBeforeUpload:function(e){return e},onProgress:function(e){},onSuccess:function(e,o){},onFailed:function(e,o){console.error("'"+e.name+"' upload failed",o)},onError:function(e,o,s){console.error("'"+e.name+"' upload error",s)},base64LimitSize:0}}],editorPlugin:function(e){var o=e.insertData,s=e;return s.insertData=function(l){if(vq(s))o(l);else if(l.getData("text/plain"))o(l);else{var c=l.files;c.length<=0?o(l):Array.prototype.slice.call(c).some(function(d){return function(p,v){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var S,x,T=y.call(p),k=[];try{for(;(v===void 0||v-- >0)&&!(S=T.next()).done;)k.push(S.value)}catch(A){x={error:A}}finally{try{S&&!S.done&&(y=T.return)&&y.call(T)}finally{if(x)throw x.error}}return k}(d.type.split("/"),1)[0]==="image"})?Ske(e,c):o(l)}},s}};Qd("en",{highLightModule:{selectLang:"Language"}}),Qd("zh-CN",{highLightModule:{selectLang:"\u9009\u62E9\u8BED\u8A00"}});var PW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rde(e){var o={exports:{}};return e(o,o.exports),o.exports}var Hw,WV,yV=function(e){return e&&e.Math==Math&&e},zs=yV(typeof globalThis=="object"&&globalThis)||yV(typeof window=="object"&&window)||yV(typeof self=="object"&&self)||yV(typeof PW=="object"&&PW)||function(){return this}()||Function("return this")(),pXe=Object.defineProperty,Mde=function(e,o){try{pXe(zs,e,{value:o,configurable:!0,writable:!0})}catch{zs[e]=o}return o},fC=zs["__core-js_shared__"]||Mde("__core-js_shared__",{}),Ide=Rde(function(e){(e.exports=function(o,s){return fC[o]||(fC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),xke=Function.prototype,Qle=xke.bind,ece=xke.call,gXe=Qle&&Qle.bind(ece),qa=Qle?function(e){return e&&gXe(ece,e)}:function(e){return e&&function(){return ece.apply(e,arguments)}},mXe=zs.TypeError,j_=function(e){if(e==null)throw mXe("Can't call method on "+e);return e},vXe=zs.Object,Lde=function(e){return vXe(j_(e))},bXe=qa({}.hasOwnProperty),dg=Object.hasOwn||function(e,o){return bXe(Lde(e),o)},yXe=0,wXe=Math.random(),CXe=qa(1 .toString),Eke=function(e){return"Symbol("+(e===void 0?"":e)+")_"+CXe(++yXe+wXe,36)},Pf=function(e){return typeof e=="function"},SXe=function(e){return Pf(e)?e:void 0},gF=function(e,o){return arguments.length<2?SXe(zs[e]):zs[e]&&zs[e][o]},Zse=gF("navigator","userAgent")||"",j2e=zs.process,z2e=zs.Deno,V2e=j2e&&j2e.versions||z2e&&z2e.version,U2e=V2e&&V2e.v8;U2e&&(WV=(Hw=U2e.split("."))[0]>0&&Hw[0]<4?1:+(Hw[0]+Hw[1])),!WV&&Zse&&(!(Hw=Zse.match(/Edge\/(\d+)/))||Hw[1]>=74)&&(Hw=Zse.match(/Chrome\/(\d+)/))&&(WV=+Hw[1]);var W2e=WV,Tu=function(e){try{return!!e()}catch{return!0}},tce=!!Object.getOwnPropertySymbols&&!Tu(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&W2e&&W2e<41}),Hde=tce&&!Symbol.sham&&typeof Symbol.iterator=="symbol",uN=Ide("wks"),w4=zs.Symbol,q2e=w4&&w4.for,xXe=Hde?w4:w4&&w4.withoutSetter||Eke,BC=function(e){if(!dg(uN,e)||!tce&&typeof uN[e]!="string"){var o="Symbol."+e;tce&&dg(w4,e)?uN[e]=w4[e]:uN[e]=Hde&&q2e?q2e(o):xXe(o)}return uN[e]},kke={};kke[BC("toStringTag")]="z";var jde=String(kke)==="[object z]",Wv=!Tu(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Fm=function(e){return typeof e=="object"?e!==null:Pf(e)},nce=zs.document,EXe=Fm(nce)&&Fm(nce.createElement),zde=function(e){return EXe?nce.createElement(e):{}},Ake=!Wv&&!Tu(function(){return Object.defineProperty(zde("div"),"a",{get:function(){return 7}}).a!=7}),kXe=zs.String,AXe=zs.TypeError,Um=function(e){if(Fm(e))return e;throw AXe(kXe(e)+" is not an object")},fN=Function.prototype.call,su=fN.bind?fN.bind(fN):function(){return fN.apply(fN,arguments)},Tke=qa({}.isPrototypeOf),TXe=zs.Object,oce=Hde?function(e){return typeof e=="symbol"}:function(e){var o=gF("Symbol");return Pf(o)&&Tke(o.prototype,TXe(e))},OXe=zs.String,Oke=function(e){try{return OXe(e)}catch{return"Object"}},_Xe=zs.TypeError,_ke=function(e){if(Pf(e))return e;throw _Xe(Oke(e)+" is not a function")},$ke=function(e,o){var s=e[o];return s==null?void 0:_ke(s)},$Xe=zs.TypeError,DXe=zs.TypeError,BXe=BC("toPrimitive"),NXe=function(e,o){if(!Fm(e)||oce(e))return e;var s,l=$ke(e,BXe);if(l){if(o===void 0&&(o="default"),s=su(l,e,o),!Fm(s)||oce(s))return s;throw DXe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&Pf(p=c.toString)&&!Fm(v=su(p,c))||Pf(p=c.valueOf)&&!Fm(v=su(p,c))||d!=="string"&&Pf(p=c.toString)&&!Fm(v=su(p,c)))return v;throw $Xe("Can't convert object to primitive value")}(e,o)},Vde=function(e){var o=NXe(e,"string");return oce(o)?o:o+""},PXe=zs.TypeError,Z2e=Object.defineProperty,zq={f:Wv?Z2e:function(e,o,s){if(Um(e),o=Vde(o),Um(s),Ake)try{return Z2e(e,o,s)}catch{}if("get"in s||"set"in s)throw PXe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},Ude=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},z_=Wv?function(e,o,s){return zq.f(e,o,Ude(1,s))}:function(e,o,s){return e[o]=s,e},FXe=qa(Function.toString);Pf(fC.inspectSource)||(fC.inspectSource=function(e){return FXe(e)});var FW,UN,RW,Wde=fC.inspectSource,G2e=zs.WeakMap,RXe=Pf(G2e)&&/native code/.test(Wde(G2e)),K2e=Ide("keys"),Dke=function(e){return K2e[e]||(K2e[e]=Eke(e))},qde={},rce=zs.TypeError,MXe=zs.WeakMap;if(RXe||fC.state){var HE=fC.state||(fC.state=new MXe),IXe=qa(HE.get),Y2e=qa(HE.has),LXe=qa(HE.set);FW=function(e,o){if(Y2e(HE,e))throw new rce("Object already initialized");return o.facade=e,LXe(HE,e,o),o},UN=function(e){return IXe(HE,e)||{}},RW=function(e){return Y2e(HE,e)}}else{var VO=Dke("state");qde[VO]=!0,FW=function(e,o){if(dg(e,VO))throw new rce("Object already initialized");return o.facade=e,z_(e,VO,o),o},UN=function(e){return dg(e,VO)?e[VO]:{}},RW=function(e){return dg(e,VO)}}var sce={set:FW,get:UN,has:RW,enforce:function(e){return RW(e)?UN(e):FW(e,{})},getterFor:function(e){return function(o){var s;if(!Fm(o)||(s=UN(o)).type!==e)throw rce("Incompatible receiver, "+e+" required");return s}}},Bke=Function.prototype,HXe=Wv&&Object.getOwnPropertyDescriptor,Gse=dg(Bke,"name"),Nke={EXISTS:Gse,PROPER:Gse&&function(){}.name==="something",CONFIGURABLE:Gse&&(!Wv||Wv&&HXe(Bke,"name").configurable)},PP=Rde(function(e){var o=Nke.CONFIGURABLE,s=sce.get,l=sce.enforce,c=String(String).split("String");(e.exports=function(d,p,v,y){var S,x=!!y&&!!y.unsafe,T=!!y&&!!y.enumerable,k=!!y&&!!y.noTargetGet,A=y&&y.name!==void 0?y.name:p;Pf(v)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!dg(v,"name")||o&&v.name!==A)&&z_(v,"name",A),(S=l(v)).source||(S.source=c.join(typeof A=="string"?A:""))),d!==zs?(x?!k&&d[p]&&(T=!0):delete d[p],T?d[p]=v:z_(d,p,v)):T?d[p]=v:Mde(p,v)})(Function.prototype,"toString",function(){return Pf(this)&&s(this).source||Wde(this)})}),jXe=qa({}.toString),zXe=qa("".slice),dC=function(e){return zXe(jXe(e),8,-1)},VXe=BC("toStringTag"),UXe=zs.Object,WXe=dC(function(){return arguments}())=="Arguments",Zde=jde?dC:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=UXe(e),VXe))=="string"?s:WXe?dC(o):(l=dC(o))=="Object"&&Pf(o.callee)?"Arguments":l},qXe=jde?{}.toString:function(){return"[object "+Zde(this)+"]"};jde||PP(Object.prototype,"toString",qXe,{unsafe:!0});var ZXe,X2e,J2e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Kse=zde("span").classList,Q2e=Kse&&Kse.constructor&&Kse.constructor.prototype,GXe=Q2e===Object.prototype?void 0:Q2e,ewe=qa(qa.bind),Yse=zs.Object,KXe=qa("".split),Gde=Tu(function(){return!Yse("z").propertyIsEnumerable(0)})?function(e){return dC(e)=="String"?KXe(e,""):Yse(e)}:Yse,YXe=Math.ceil,XXe=Math.floor,Kde=function(e){var o=+e;return o!=o||o===0?0:(o>0?XXe:YXe)(o)},JXe=Math.min,Pke=function(e){return e>0?JXe(Kde(e),9007199254740991):0},Yde=function(e){return Pke(e.length)},twe=Array.isArray||function(e){return dC(e)=="Array"},Fke=function(){},QXe=[],Rke=gF("Reflect","construct"),Xde=/^\s*(?:class|function)\b/,eJe=qa(Xde.exec),tJe=!Xde.exec(Fke),dN=function(e){if(!Pf(e))return!1;try{return Rke(Fke,QXe,e),!0}catch{return!1}},Mke=!Rke||Tu(function(){var e;return dN(dN.call)||!dN(Object)||!dN(function(){e=!0})||e})?function(e){if(!Pf(e))return!1;switch(Zde(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return tJe||!!eJe(Xde,Wde(e))}:dN,nJe=BC("species"),nwe=zs.Array,oJe=function(e,o){return new(function(s){var l;return twe(s)&&(l=s.constructor,(Mke(l)&&(l===nwe||twe(l.prototype))||Fm(l)&&(l=l[nJe])===null)&&(l=void 0)),l===void 0?nwe:l}(e))(o===0?0:o)},owe=qa([].push),jw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(y,S,x,T){for(var k,A,F=Lde(y),N=Gde(F),D=function(z,K){return _ke(z),K===void 0?z:ewe?ewe(z,K):function(){return z.apply(K,arguments)}}(S,x),B=Yde(N),O=0,P=T||oJe,I=o?P(y,B):s||p?P(y,0):void 0;B>O;O++)if((v||O in N)&&(A=D(k=N[O],O,F),e))if(o)I[O]=A;else if(A)switch(e){case 3:return!0;case 5:return k;case 6:return O;case 2:owe(I,k)}else switch(e){case 4:return!1;case 7:owe(I,k)}return d?-1:l||c?c:I}},rJe={forEach:jw(0),map:jw(1),filter:jw(2),some:jw(3),every:jw(4),find:jw(5),findIndex:jw(6),filterReject:jw(7)}.forEach,Xse=!!(X2e=[].forEach)&&Tu(function(){X2e.call(null,ZXe||function(){throw 1},1)})?[].forEach:function(e){return rJe(this,e,arguments.length>1?arguments[1]:void 0)},Ike=function(e){if(e&&e.forEach!==Xse)try{z_(e,"forEach",Xse)}catch{e.forEach=Xse}};for(var Jse in J2e)J2e[Jse]&&Ike(zs[Jse]&&zs[Jse].prototype);Ike(GXe);var rwe={}.propertyIsEnumerable,swe=Object.getOwnPropertyDescriptor,Lke={f:swe&&!rwe.call({1:2},1)?function(e){var o=swe(this,e);return!!o&&o.enumerable}:rwe},Vq=function(e){return Gde(j_(e))},awe=Object.getOwnPropertyDescriptor,Hke={f:Wv?awe:function(e,o){if(e=Vq(e),o=Vde(o),Ake)try{return awe(e,o)}catch{}if(dg(e,o))return Ude(!su(Lke.f,e,o),e[o])}},sJe=Math.max,aJe=Math.min,ace=function(e,o){var s=Kde(e);return s<0?sJe(s+o,0):aJe(s,o)},iwe=function(e){return function(o,s,l){var c,d=Vq(o),p=Yde(d),v=ace(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},iJe={includes:iwe(!0),indexOf:iwe(!1)}.indexOf,lwe=qa([].push),jke=function(e,o){var s,l=Vq(e),c=0,d=[];for(s in l)!dg(qde,s)&&dg(l,s)&&lwe(d,s);for(;o.length>c;)dg(l,s=o[c++])&&(~iJe(d,s)||lwe(d,s));return d},MW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lJe=MW.concat("length","prototype"),cJe={f:Object.getOwnPropertyNames||function(e){return jke(e,lJe)}},zke={f:Object.getOwnPropertySymbols},uJe=qa([].concat),fJe=gF("Reflect","ownKeys")||function(e){var o=cJe.f(Um(e)),s=zke.f;return s?uJe(o,s(e)):o},dJe=function(e,o){for(var s=fJe(o),l=zq.f,c=Hke.f,d=0;d<s.length;d++){var p=s[d];dg(e,p)||l(e,p,c(o,p))}},hJe=/#|\.prototype\./,mF=function(e,o){var s=gJe[pJe(e)];return s==vJe||s!=mJe&&(Pf(o)?Tu(o):!!o)},pJe=mF.normalize=function(e){return String(e).replace(hJe,".").toLowerCase()},gJe=mF.data={},mJe=mF.NATIVE="N",vJe=mF.POLYFILL="P",bJe=mF,yJe=Hke.f,Uq=function(e,o){var s,l,c,d,p,v=e.target,y=e.global,S=e.stat;if(s=y?zs:S?zs[v]||Mde(v,{}):(zs[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=yJe(s,l))&&p.value:s[l],!bJe(y?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;dJe(d,c)}(e.sham||c&&c.sham)&&z_(d,"sham",!0),PP(s,l,d,e)}},qV=Object.keys||function(e){return jke(e,MW)},UO=Object.assign,cwe=Object.defineProperty,wJe=qa([].concat),uwe=!UO||Tu(function(){if(Wv&&UO({b:1},UO(cwe({},"a",{enumerable:!0,get:function(){cwe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},o={},s=Symbol(),l="abcdefghijklmnopqrst";return e[s]=7,l.split("").forEach(function(c){o[c]=c}),UO({},e)[s]!=7||qV(UO({},o)).join("")!=l})?function(e,o){for(var s=Lde(e),l=arguments.length,c=1,d=zke.f,p=Lke.f;l>c;)for(var v,y=Gde(arguments[c++]),S=d?wJe(qV(y),d(y)):qV(y),x=S.length,T=0;x>T;)v=S[T++],Wv&&!su(p,y,v)||(s[v]=y[v]);return s}:UO;Uq({target:"Object",stat:!0,forced:Object.assign!==uwe},{assign:uwe});var fwe=Rde(function(e){var o=function(s){var l=/\blang(?:uage)?-([\w-]+)\b/i,c=0,d={},p={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function D(B){return B instanceof v?new v(B.type,D(B.content),B.alias):Array.isArray(B)?B.map(D):B.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(D){return Object.prototype.toString.call(D).slice(8,-1)},objId:function(D){return D.__id||Object.defineProperty(D,"__id",{value:++c}),D.__id},clone:function D(B,O){var P,I;switch(O=O||{},p.util.type(B)){case"Object":if(I=p.util.objId(B),O[I])return O[I];for(var z in P={},O[I]=P,B)B.hasOwnProperty(z)&&(P[z]=D(B[z],O));return P;case"Array":return I=p.util.objId(B),O[I]?O[I]:(P=[],O[I]=P,B.forEach(function(K,j){P[j]=D(K,O)}),P);default:return B}},getLanguage:function(D){for(;D&&!l.test(D.className);)D=D.parentElement;return D?(D.className.match(l)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(P){var D=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(P.stack)||[])[1];if(D){var B=document.getElementsByTagName("script");for(var O in B)if(B[O].src==D)return B[O]}return null}},isActive:function(D,B,O){for(var P="no-"+B;D;){var I=D.classList;if(I.contains(B))return!0;if(I.contains(P))return!1;D=D.parentElement}return!!O}},languages:{plain:d,plaintext:d,text:d,txt:d,extend:function(D,B){var O=p.util.clone(p.languages[D]);for(var P in B)O[P]=B[P];return O},insertBefore:function(D,B,O,P){var I=(P=P||p.languages)[D],z={};for(var K in I)if(I.hasOwnProperty(K)){if(K==B)for(var j in O)O.hasOwnProperty(j)&&(z[j]=O[j]);O.hasOwnProperty(K)||(z[K]=I[K])}var oe=P[D];return P[D]=z,p.languages.DFS(p.languages,function(ke,ae){ae===oe&&ke!=D&&(this[ke]=z)}),z},DFS:function D(B,O,P,I){I=I||{};var z=p.util.objId;for(var K in B)if(B.hasOwnProperty(K)){O.call(B,K,B[K],P||K);var j=B[K],oe=p.util.type(j);oe!=="Object"||I[z(j)]?oe!=="Array"||I[z(j)]||(I[z(j)]=!0,D(j,O,K,I)):(I[z(j)]=!0,D(j,O,null,I))}}},plugins:{},highlightAll:function(D,B){p.highlightAllUnder(document,D,B)},highlightAllUnder:function(D,B,O){var P={callback:O,container:D,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};p.hooks.run("before-highlightall",P),P.elements=Array.prototype.slice.apply(P.container.querySelectorAll(P.selector)),p.hooks.run("before-all-elements-highlight",P);for(var I,z=0;I=P.elements[z++];)p.highlightElement(I,B===!0,P.callback)},highlightElement:function(D,B,O){var P=p.util.getLanguage(D),I=p.languages[P];D.className=D.className.replace(l,"").replace(/\s+/g," ")+" language-"+P;var z=D.parentElement;z&&z.nodeName.toLowerCase()==="pre"&&(z.className=z.className.replace(l,"").replace(/\s+/g," ")+" language-"+P);var K={element:D,language:P,grammar:I,code:D.textContent};function j(ke){K.highlightedCode=ke,p.hooks.run("before-insert",K),K.element.innerHTML=K.highlightedCode,p.hooks.run("after-highlight",K),p.hooks.run("complete",K),O&&O.call(K.element)}if(p.hooks.run("before-sanity-check",K),(z=K.element.parentElement)&&z.nodeName.toLowerCase()==="pre"&&!z.hasAttribute("tabindex")&&z.setAttribute("tabindex","0"),!K.code)return p.hooks.run("complete",K),void(O&&O.call(K.element));if(p.hooks.run("before-highlight",K),K.grammar)if(B&&s.Worker){var oe=new Worker(p.filename);oe.onmessage=function(ke){j(ke.data)},oe.postMessage(JSON.stringify({language:K.language,code:K.code,immediateClose:!0}))}else j(p.highlight(K.code,K.grammar,K.language));else j(p.util.encode(K.code))},highlight:function(D,B,O){var P={code:D,grammar:B,language:O};return p.hooks.run("before-tokenize",P),P.tokens=p.tokenize(P.code,P.grammar),p.hooks.run("after-tokenize",P),v.stringify(p.util.encode(P.tokens),P.language)},tokenize:function(D,B){var O=B.rest;if(O){for(var P in O)B[P]=O[P];delete B.rest}var I=new x;return T(I,I.head,D),S(D,I,B,I.head,0),function(z){for(var K=[],j=z.head.next;j!==z.tail;)K.push(j.value),j=j.next;return K}(I)},hooks:{all:{},add:function(D,B){var O=p.hooks.all;O[D]=O[D]||[],O[D].push(B)},run:function(D,B){var O=p.hooks.all[D];if(O&&O.length)for(var P,I=0;P=O[I++];)P(B)}},Token:v};function v(D,B,O,P){this.type=D,this.content=B,this.alias=O,this.length=0|(P||"").length}function y(D,B,O,P){D.lastIndex=B;var I=D.exec(O);if(I&&P&&I[1]){var z=I[1].length;I.index+=z,I[0]=I[0].slice(z)}return I}function S(D,B,O,P,I,z){for(var K in O)if(O.hasOwnProperty(K)&&O[K]){var j=O[K];j=Array.isArray(j)?j:[j];for(var oe=0;oe<j.length;++oe){if(z&&z.cause==K+","+oe)return;var ke=j[oe],ae=ke.inside,Q=!!ke.lookbehind,G=!!ke.greedy,ue=ke.alias;if(G&&!ke.pattern.global){var pe=ke.pattern.toString().match(/[imsuy]*$/)[0];ke.pattern=RegExp(ke.pattern.source,pe+"g")}for(var be=ke.pattern||ke,qe=P.next,U=I;qe!==B.tail&&!(z&&U>=z.reach);U+=qe.value.length,qe=qe.next){var Fe=qe.value;if(B.length>D.length)return;if(!(Fe instanceof v)){var De,Se=1;if(G){if(!(De=y(be,U,D,Q)))break;var re=De.index,le=De.index+De[0].length,fe=U;for(fe+=qe.value.length;re>=fe;)fe+=(qe=qe.next).value.length;if(U=fe-=qe.value.length,qe.value instanceof v)continue;for(var ce=qe;ce!==B.tail&&(fe<le||typeof ce.value=="string");ce=ce.next)Se++,fe+=ce.value.length;Se--,Fe=D.slice(U,fe),De.index-=U}else if(!(De=y(be,0,Fe,Q)))continue;re=De.index;var Be=De[0],Ce=Fe.slice(0,re),me=Fe.slice(re+Be.length),q=U+Fe.length;z&&q>z.reach&&(z.reach=q);var Ze=qe.prev;if(Ce&&(Ze=T(B,Ze,Ce),U+=Ce.length),k(B,Ze,Se),qe=T(B,Ze,new v(K,ae?p.tokenize(Be,ae):Be,ue,Be)),me&&T(B,qe,me),Se>1){var We={cause:K+","+oe,reach:q};S(D,B,O,qe.prev,U,We),z&&We.reach>z.reach&&(z.reach=We.reach)}}}}}}function x(){var D={value:null,prev:null,next:null},B={value:null,prev:D,next:null};D.next=B,this.head=D,this.tail=B,this.length=0}function T(D,B,O){var P=B.next,I={value:O,prev:B,next:P};return B.next=I,P.prev=I,D.length++,I}function k(D,B,O){for(var P=B.next,I=0;I<O&&P!==D.tail;I++)P=P.next;B.next=P,P.prev=B,D.length-=I}if(s.Prism=p,v.stringify=function D(B,O){if(typeof B=="string")return B;if(Array.isArray(B)){var P="";return B.forEach(function(oe){P+=D(oe,O)}),P}var I={type:B.type,content:D(B.content,O),tag:"span",classes:["token",B.type],attributes:{},language:O},z=B.alias;z&&(Array.isArray(z)?Array.prototype.push.apply(I.classes,z):I.classes.push(z)),p.hooks.run("wrap",I);var K="";for(var j in I.attributes)K+=" "+j+'="'+(I.attributes[j]||"").replace(/"/g,"&quot;")+'"';return"<"+I.tag+' class="'+I.classes.join(" ")+'"'+K+">"+I.content+"</"+I.tag+">"},!s.document)return s.addEventListener&&(p.disableWorkerMessageHandler||s.addEventListener("message",function(D){var B=JSON.parse(D.data),O=B.language,P=B.code,I=B.immediateClose;s.postMessage(p.highlight(P,p.languages[O],O)),I&&s.close()},!1)),p;var A=p.util.currentScript();function F(){p.manual||p.highlightAll()}if(A&&(p.filename=A.src,A.hasAttribute("data-manual")&&(p.manual=!0)),!p.manual){var N=document.readyState;N==="loading"||N==="interactive"&&A&&A.defer?document.addEventListener("DOMContentLoaded",F):window.requestAnimationFrame?window.requestAnimationFrame(F):window.setTimeout(F,16)}return p}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */e.exports&&(e.exports=o),PW!==void 0&&(PW.Prism=o),o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(s,l){var c={};c["language-"+l]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[l]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var d={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};d["language-"+l]={pattern:/[\s\S]+/,inside:o.languages[l]};var p={};p[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:d},o.languages.insertBefore("markup","cdata",p)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(s,l){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+s+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[l,"language-"+l],inside:o.languages[l]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(s){var l=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+l.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+l.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+l.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:l,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var c=s.languages.markup;c&&(c.tag.addInlined("style","css"),c.tag.addAttribute("style","css"))}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,function(){if(o!==void 0&&typeof document<"u"){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",c="loading",d="loaded",p='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',v=/\blang(?:uage)?-([\w-]+)\b/i;o.hooks.add("before-highlightall",function(x){x.selector+=", "+p}),o.hooks.add("before-sanity-check",function(x){var T=x.element;if(T.matches(p)){x.code="",T.setAttribute(l,c);var k=T.appendChild(document.createElement("CODE"));k.textContent="Loading\u2026";var A=T.getAttribute("data-src"),F=x.language;if(F==="none"){var N=(/\.(\w+)$/.exec(A)||[,"none"])[1];F=s[N]||N}S(k,F),S(T,F);var D=o.plugins.autoloader;D&&D.loadLanguages(F);var B=new XMLHttpRequest;B.open("GET",A,!0),B.onreadystatechange=function(){var O,P;B.readyState==4&&(B.status<400&&B.responseText?(T.setAttribute(l,d),k.textContent=B.responseText,o.highlightElement(k)):(T.setAttribute(l,"failed"),B.status>=400?k.textContent=(O=B.status,P=B.statusText,"\u2716 Error "+O+" while fetching file: "+P):k.textContent="\u2716 Error: File does not exist or is empty"))},B.send(null)}}),o.plugins.fileHighlight={highlight:function(x){for(var T,k=(x||document).querySelectorAll(p),A=0;T=k[A++];)o.highlightElement(T)}};var y=!1;o.fileHighlight=function(){y||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),y=!0),o.plugins.fileHighlight.highlight.apply(this,arguments)}}function S(x,T){var k=x.className;k=k.replace(v," ")+" language-"+T,x.className=k.replace(/\s+/g," ").trim()}}()});(function(e){var o=e.util.clone(e.languages.javascript),s=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,l=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,c=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function d(y,S){return y=y.replace(/<S>/g,function(){return s}).replace(/<BRACES>/g,function(){return l}).replace(/<SPREAD>/g,function(){return c}),RegExp(y,S)}c=d(c).source,e.languages.jsx=e.languages.extend("markup",o),e.languages.jsx.tag.pattern=d(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/i,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=o.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:d(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:d(/=<BRACES>/.source),inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var p=function(y){return y?typeof y=="string"?y:typeof y.content=="string"?y.content:y.content.map(p).join(""):""},v=function(y){for(var S=[],x=0;x<y.length;x++){var T=y[x],k=!1;if(typeof T!="string"&&(T.type==="tag"&&T.content[0]&&T.content[0].type==="tag"?T.content[0].content[0].content==="</"?S.length>0&&S[S.length-1].tagName===p(T.content[0].content[1])&&S.pop():T.content[T.content.length-1].content==="/>"||S.push({tagName:p(T.content[0].content[1]),openedBraces:0}):S.length>0&&T.type==="punctuation"&&T.content==="{"?S[S.length-1].openedBraces++:S.length>0&&S[S.length-1].openedBraces>0&&T.type==="punctuation"&&T.content==="}"?S[S.length-1].openedBraces--:k=!0),(k||typeof T=="string")&&S.length>0&&S[S.length-1].openedBraces===0){var A=p(T);x<y.length-1&&(typeof y[x+1]=="string"||y[x+1].type==="plain-text")&&(A+=p(y[x+1]),y.splice(x+1,1)),x>0&&(typeof y[x-1]=="string"||y[x-1].type==="plain-text")&&(A=p(y[x-1])+A,y.splice(x-1,1),x--),y[x]=new e.Token("plain-text",A,null,A)}T.content&&typeof T.content!="string"&&v(T.content)}};e.hooks.add("after-tokenize",function(y){y.language!=="jsx"&&y.language!=="tsx"||v(y.tokens)})})(Prism),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter;var o=e.languages.extend("typescript",{});delete o["class-name"],e.languages.typescript["class-name"].inside=o,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:o}}}}),e.languages.ts=e.languages.typescript}(Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,o){var s={};s["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[o]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};l["language-"+o]={pattern:/[\s\S]+/,inside:Prism.languages[o]};var c={};c[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:l},Prism.languages.insertBefore("markup","cdata",c)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,o){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:Prism.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete Prism.languages.go["class-name"],function(e){var o=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,s=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],l=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,c=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,d=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:o,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:s,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:l,operator:c,punctuation:d};var p={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},v=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:p}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:p}}];e.languages.insertBefore("php","variable",{string:v,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:o,string:v,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:s,number:l,operator:c,punctuation:d}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(y){/<\?/.test(y.code)&&e.languages["markup-templating"].buildPlaceholders(y,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi)}),e.hooks.add("after-tokenize",function(y){e.languages["markup-templating"].tokenizePlaceholders(y,"php")})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){var o=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,s=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(s+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(s+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:o,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":l,keyword:o,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return o.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),function(e){var o=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,s=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return o.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return o.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:o,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return s})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism),function(e){function o(le,fe){return le.replace(/<<(\d+)>>/g,function(ce,Be){return"(?:"+fe[+Be]+")"})}function s(le,fe,ce){return RegExp(o(le,fe),ce||"")}function l(le,fe){for(var ce=0;ce<fe;ce++)le=le.replace(/<<self>>/g,function(){return"(?:"+le+")"});return le.replace(/<<self>>/g,"[^\\s\\S]")}var c="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",d="class enum interface record struct",p="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",v="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function y(le){return"\\b(?:"+le.trim().replace(/ /g,"|")+")\\b"}var S=y(d),x=RegExp(y(c+" "+d+" "+p+" "+v)),T=y(d+" "+p+" "+v),k=y(c+" "+d+" "+v),A=l(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),F=l(/\((?:[^()]|<<self>>)*\)/.source,2),N=/@?\b[A-Za-z_]\w*\b/.source,D=o(/<<0>>(?:\s*<<1>>)?/.source,[N,A]),B=o(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[T,D]),O=/\[\s*(?:,\s*)*\]/.source,P=o(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[B,O]),I=o(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[A,F,O]),z=o(/\(<<0>>+(?:,<<0>>+)+\)/.source,[I]),K=o(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[z,B,O]),j={keyword:x,punctuation:/[<>()?,.:[\]]/},oe=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,ke=/"(?:\\.|[^\\"\r\n])*"/.source,ae=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:s(/(^|[^$\\])<<0>>/.source,[ae]),lookbehind:!0,greedy:!0},{pattern:s(/(^|[^@$\\])<<0>>/.source,[ke]),lookbehind:!0,greedy:!0},{pattern:RegExp(oe),greedy:!0,alias:"character"}],"class-name":[{pattern:s(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[B]),lookbehind:!0,inside:j},{pattern:s(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[N,K]),lookbehind:!0,inside:j},{pattern:s(/(\busing\s+)<<0>>(?=\s*=)/.source,[N]),lookbehind:!0},{pattern:s(/(\b<<0>>\s+)<<1>>/.source,[S,D]),lookbehind:!0,inside:j},{pattern:s(/(\bcatch\s*\(\s*)<<0>>/.source,[B]),lookbehind:!0,inside:j},{pattern:s(/(\bwhere\s+)<<0>>/.source,[N]),lookbehind:!0},{pattern:s(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[P]),lookbehind:!0,inside:j},{pattern:s(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[K,k,N]),inside:j}],keyword:x,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:s(/([(,]\s*)<<0>>(?=\s*:)/.source,[N]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:s(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[N]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:s(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[F]),lookbehind:!0,alias:"class-name",inside:j},"return-type":{pattern:s(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[K,B]),inside:j,alias:"class-name"},"constructor-invocation":{pattern:s(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[K]),lookbehind:!0,inside:j,alias:"class-name"},"generic-method":{pattern:s(/<<0>>\s*<<1>>(?=\s*\()/.source,[N,A]),inside:{function:s(/^<<0>>/.source,[N]),generic:{pattern:RegExp(A),alias:"class-name",inside:j}}},"type-list":{pattern:s(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[S,D,N,K,x.source,F,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:s(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[D,F]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:x,"class-name":{pattern:RegExp(K),greedy:!0,inside:j},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Q=ke+"|"+oe,G=o(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Q]),ue=l(o(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[G]),2),pe=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,be=o(/<<0>>(?:\s*\(<<1>>*\))?/.source,[B,ue]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:s(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[pe,be]),lookbehind:!0,greedy:!0,inside:{target:{pattern:s(/^<<0>>(?=\s*:)/.source,[pe]),alias:"keyword"},"attribute-arguments":{pattern:s(/\(<<0>>*\)/.source,[ue]),inside:e.languages.csharp},"class-name":{pattern:RegExp(B),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var qe=/:[^}\r\n]+/.source,U=l(o(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[G]),2),Fe=o(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[U,qe]),De=l(o(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Q]),2),Se=o(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[De,qe]);function re(le,fe){return{interpolation:{pattern:s(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[le]),lookbehind:!0,inside:{"format-string":{pattern:s(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[fe,qe]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:s(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Fe]),lookbehind:!0,greedy:!0,inside:re(Fe,U)},{pattern:s(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Se]),lookbehind:!0,greedy:!0,inside:re(Se,De)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,Prism.languages["visual-basic"]={comment:{pattern:/(?:[']|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:[^\S\r\n]_[^\S\r\n]*(?:\r\n?|\n)|.)+/i,alias:"comment",greedy:!0},string:{pattern:/\$?["](?:["]{2}|[^"])*["]C?/i,greedy:!0},date:{pattern:/#[^\S\r\n]*(?:\d+([/-])\d+\1\d+(?:[^\S\r\n]+(?:\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?))?|\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?)[^\S\r\n]*#/i,alias:"builtin"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:U?[ILS]|[FRD])?/i,boolean:/\b(?:True|False|Nothing)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Until|Xor)\b/i,operator:[/[+\-*/\\^<=>&#@$%!]/,{pattern:/([^\S\r\n])_(?=[^\S\r\n]*[\r\n])/,lookbehind:!0}],punctuation:/[{}().,:?]/},Prism.languages.vb=Prism.languages["visual-basic"],Prism.languages.vba=Prism.languages["visual-basic"],Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var o={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:o}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:o}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:o}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:o}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:o}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],e.languages.rb=e.languages.ruby}(Prism),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:true|false)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:true|false)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift}),function(e){var o="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",s={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},l={bash:s,environment:{pattern:RegExp("\\$"+o),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+o),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+o),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:l},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:s}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:l},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:l.entity}}],environment:{pattern:RegExp("\\$?"+o),alias:"constant"},variable:l.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},s.inside=e.languages.bash;for(var c=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],d=l.variable[1].inside,p=0;p<c.length;p++)d[c[p]]=e.languages.bash[c[p]];e.languages.shell=e.languages.bash}(Prism),function(e){var o=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function s(S){return S=S.replace(/<inner>/g,function(){return o}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+S+")")}var l=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,c=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return l}),d=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+c+d+"(?:"+c+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+c+d+")(?:"+c+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(l),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+c+")"+d+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+c+"$"),inside:{"table-header":{pattern:RegExp(l),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:s(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:s(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:s(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:s(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(S){["url","bold","italic","strike","code-snippet"].forEach(function(x){S!==x&&(e.languages.markdown[S].inside.content.inside[x]=e.languages.markdown[x])})}),e.hooks.add("after-tokenize",function(S){S.language!=="markdown"&&S.language!=="md"||function x(T){if(T&&typeof T!="string")for(var k=0,A=T.length;k<A;k++){var F=T[k];if(F.type==="code"){var N=F.content[1],D=F.content[3];if(N&&D&&N.type==="code-language"&&D.type==="code-block"&&typeof N.content=="string"){var B=N.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),O="language-"+(B=(/[a-z][\w-]*/i.exec(B)||[""])[0].toLowerCase());D.alias?typeof D.alias=="string"?D.alias=[D.alias,O]:D.alias.push(O):D.alias=[O]}}else x(F.content)}}(S.tokens)}),e.hooks.add("wrap",function(S){if(S.type==="code-block"){for(var x="",T=0,k=S.classes.length;T<k;T++){var A=S.classes[T],F=/language-(.+)/.exec(A);if(F){x=F[1];break}}var N=e.languages[x];if(N)S.content=e.highlight(function(B){var O=B.replace(p,"");return O=O.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(P,I){var z;if((I=I.toLowerCase())[0]==="#")return z=I[1]==="x"?parseInt(I.slice(2),16):Number(I.slice(1)),y(z);var K=v[I];return K||P})}(S.content),N,x);else if(x&&x!=="none"&&e.plugins.autoloader){var D="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());S.attributes.id=D,e.plugins.autoloader.loadLanguages(x,function(){var B=document.getElementById(D);B&&(B.innerHTML=e.highlight(B.textContent,e.languages[x],x))})}}});var p=RegExp(e.languages.markup.tag.pattern.source,"gi"),v={amp:"&",lt:"<",gt:">",quot:'"'},y=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism),Prism.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/},Prism.languages.groovy=Prism.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),Prism.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),Prism.hooks.add("wrap",function(e){if(e.language==="groovy"&&e.type==="string"){var o=e.content[0];if(o!="'"){var s=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;o==="$"&&(s=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),e.content=e.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),e.content=Prism.highlight(e.content,{expression:{pattern:s,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push(o==="/"?"regex":"gstring")}}});var CJe=["comment","prolog","doctype","cdata","punctuation","namespace","property","tag","boolean","number","constant","symbol","deleted","selector","attr-name","string","builtin","inserted","operator","entity","url","string","atrule","attr-value","keyword","function","class-name","regex","important","variable","bold","italic","entity","char"];function Vke(e){return typeof e=="string"?e.length:typeof e.content=="string"?e.content.length:e.content.reduce(function(o,s){return o+Vke(s)},0)}var wV,SJe=zs.String,iy=function(e){if(Zde(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return SJe(e)},Uke=function(){var e=Um(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},Jde=zs.RegExp,ice=Tu(function(){var e=Jde("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),xJe=ice||Tu(function(){return!Jde("a","y").sticky}),Wke={BROKEN_CARET:ice||Tu(function(){var e=Jde("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:xJe,UNSUPPORTED_Y:ice},EJe=Wv?Object.defineProperties:function(e,o){Um(e);for(var s,l=Vq(o),c=qV(o),d=c.length,p=0;d>p;)zq.f(e,s=c[p++],l[s]);return e},kJe=gF("document","documentElement"),qke=Dke("IE_PROTO"),Qse=function(){},Zke=function(e){return"<script>"+e+"<\/script>"},dwe=function(e){e.write(Zke("")),e.close();var o=e.parentWindow.Object;return e=null,o},ZV=function(){try{wV=new ActiveXObject("htmlfile")}catch{}var e,o;ZV=typeof document<"u"?document.domain&&wV?dwe(wV):((o=zde("iframe")).style.display="none",kJe.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(Zke("document.F=Object")),e.close(),e.F):dwe(wV);for(var s=MW.length;s--;)delete ZV.prototype[MW[s]];return ZV()};qde[qke]=!0;var hwe,eae,AJe=Object.create||function(e,o){var s;return e!==null?(Qse.prototype=Um(e),s=new Qse,Qse.prototype=null,s[qke]=e):s=ZV(),o===void 0?s:EJe(s,o)},TJe=zs.RegExp,OJe=Tu(function(){var e=TJe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),_Je=zs.RegExp,$Je=Tu(function(){var e=_Je("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),DJe=sce.get,BJe=Ide("native-string-replace",String.prototype.replace),IW=RegExp.prototype.exec,lce=IW,NJe=qa("".charAt),PJe=qa("".indexOf),FJe=qa("".replace),tae=qa("".slice),nae=(eae=/b*/g,su(IW,hwe=/a/,"a"),su(IW,eae,"a"),hwe.lastIndex!==0||eae.lastIndex!==0),pwe=Wke.BROKEN_CARET,oae=/()??/.exec("")[1]!==void 0;(nae||oae||pwe||OJe||$Je)&&(lce=function(e){var o,s,l,c,d,p,v,y=this,S=DJe(y),x=iy(e),T=S.raw;if(T)return T.lastIndex=y.lastIndex,o=su(lce,T,x),y.lastIndex=T.lastIndex,o;var k=S.groups,A=pwe&&y.sticky,F=su(Uke,y),N=y.source,D=0,B=x;if(A&&(F=FJe(F,"y",""),PJe(F,"g")===-1&&(F+="g"),B=tae(x,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&NJe(x,y.lastIndex-1)!==`
`)&&(N="(?: "+N+")",B=" "+B,D++),s=new RegExp("^(?:"+N+")",F)),oae&&(s=new RegExp("^"+N+"$(?!\\s)",F)),nae&&(l=y.lastIndex),c=su(IW,A?s:y,B),A?c?(c.input=tae(c.input,D),c[0]=tae(c[0],D),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:nae&&c&&(y.lastIndex=y.global?c.index+c[0].length:l),oae&&c&&c.length>1&&su(BJe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&k)for(c.groups=p=AJe(null),d=0;d<k.length;d++)p[(v=k[d])[0]]=c[v[1]];return c});var FP=lce;Uq({target:"RegExp",proto:!0,forced:/./.exec!==FP},{exec:FP});var Qde=Function.prototype,gwe=Qde.apply,RJe=Qde.bind,mwe=Qde.call,MJe=typeof Reflect=="object"&&Reflect.apply||(RJe?mwe.bind(gwe):function(){return mwe.apply(gwe,arguments)}),IJe=BC("species"),rae=RegExp.prototype,LJe=BC("match"),HJe=zs.TypeError,jJe=BC("species"),zJe=function(e,o){var s,l=Um(e).constructor;return l===void 0||(s=Um(l)[jJe])==null?o:function(c){if(Mke(c))return c;throw HJe(Oke(c)+" is not a constructor")}(s)},VJe=qa("".charAt),vwe=qa("".charCodeAt),UJe=qa("".slice),bwe=function(e){return function(o,s){var l,c,d=iy(j_(o)),p=Kde(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=vwe(d,p))<55296||l>56319||p+1===v||(c=vwe(d,p+1))<56320||c>57343?e?VJe(d,p):l:e?UJe(d,p,p+2):c-56320+(l-55296<<10)+65536}},WJe={codeAt:bwe(!1),charAt:bwe(!0)}.charAt,qJe=function(e,o,s){return o+(s?WJe(e,o).length:1)},ZJe=zs.Array,GJe=Math.max,ywe=function(e,o,s){for(var l,c,d,p,v=Yde(e),y=ace(o,v),S=ace(s===void 0?v:s,v),x=ZJe(GJe(S-y,0)),T=0;y<S;y++,T++)l=x,c=T,d=e[y],p=void 0,(p=Vde(c))in l?zq.f(l,p,Ude(0,d)):l[p]=d;return x.length=T,x},KJe=zs.TypeError,wwe=function(e,o){var s=e.exec;if(Pf(s)){var l=su(s,e,o);return l!==null&&Um(l),l}if(dC(e)==="RegExp")return su(FP,e,o);throw KJe("RegExp#exec called on incompatible receiver")},WO=Wke.UNSUPPORTED_Y,YJe=Math.min,Gke=[].push,XJe=qa(/./.exec),qO=qa(Gke),hN=qa("".slice);(function(e,o,s,l){var c=BC(e),d=!Tu(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Tu(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[IJe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=qa(/./[c]),y=o(c,""[e],function(S,x,T,k,A){var F=qa(S),N=x.exec;return N===FP||N===rae.exec?d&&!A?{done:!0,value:v(x,T,k)}:{done:!0,value:F(T,x,k)}:{done:!1}});PP(String.prototype,e,y[0]),PP(rae,c,y[1])}l&&z_(rae[c],"sham",!0)})("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p,v,y=iy(j_(this)),S=d===void 0?4294967295:d>>>0;if(S===0)return[];if(c===void 0)return[y];if(!Fm(p=c)||!((v=p[LJe])!==void 0?v:dC(p)=="RegExp"))return su(o,y,c,S);for(var x,T,k,A=[],F=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),N=0,D=new RegExp(c.source,F+"g");(x=su(FP,D,y))&&!((T=D.lastIndex)>N&&(qO(A,hN(y,N,x.index)),x.length>1&&x.index<y.length&&MJe(Gke,A,ywe(x,1)),k=x[0].length,N=T,A.length>=S));)D.lastIndex===x.index&&D.lastIndex++;return N===y.length?!k&&XJe(D,"")||qO(A,""):qO(A,hN(y,N)),A.length>S?ywe(A,0,S):A}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:su(o,this,c,d)}:o,[function(c,d){var p=j_(this),v=c==null?void 0:$ke(c,e);return v?su(v,c,p,d):su(l,iy(p),c,d)},function(c,d){var p=Um(this),v=iy(c),y=s(l,p,v,d,l!==o);if(y.done)return y.value;var S=zJe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(WO?"g":"y"),k=new S(WO?"^(?:"+p.source+")":p,T),A=d===void 0?4294967295:d>>>0;if(A===0)return[];if(v.length===0)return wwe(k,v)===null?[v]:[];for(var F=0,N=0,D=[];N<v.length;){k.lastIndex=WO?0:N;var B,O=wwe(k,WO?hN(v,N):v);if(O===null||(B=YJe(Pke(k.lastIndex+(WO?N:0)),v.length))===F)N=qJe(v,N,x);else{if(qO(D,hN(v,F,N)),D.length===A)return D;for(var P=1;P<=O.length-1;P++)if(qO(D,O[P]),D.length===A)return D;N=F=B}}return qO(D,hN(v,F)),D}]},!!Tu(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),WO),Uq({global:!0},{globalThis:zs}),Lv&&(Dt.fn.attr=Lv);var JJe=Nke.PROPER,cce=RegExp.prototype,Kke=cce.toString,QJe=qa(Uke),eQe=Tu(function(){return Kke.call({source:"a",flags:"b"})!="/a/b"}),tQe=JJe&&Kke.name!="toString";(eQe||tQe)&&PP(RegExp.prototype,"toString",function(){var e=Um(this),o=iy(e.source),s=e.flags;return"/"+o+"/"+iy(s===void 0&&Tke(cce,e)&&!("flags"in cce)?QJe(e):s)},{unsafe:!0});var nQe=function(){function e(){this.title=Co("highLightModule.selectLang"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M64 64v896h896V64H64z m487.6 698.8c0 87.2-51.2 127-125.8 127-67.4 0-106.4-34.8-126.4-77l68.6-41.4c13.2 23.4 25.2 43.2 54.2 43.2 27.6 0 45.2-10.8 45.2-53V475.4h84.2v287.4z m199.2 127c-78.2 0-128.8-37.2-153.4-86l68.6-39.6c18 29.4 41.6 51.2 83 51.2 34.8 0 57.2-17.4 57.2-41.6 0-28.8-22.8-39-61.4-56l-21-9c-60.8-25.8-101-58.4-101-127 0-63.2 48.2-111.2 123.2-111.2 53.6 0 92 18.6 119.6 67.4L800 580c-14.4-25.8-30-36-54.2-36-24.6 0-40.2 15.6-40.2 36 0 25.2 15.6 35.4 51.8 51.2l21 9c71.6 30.6 111.8 62 111.8 132.4 0 75.6-59.6 117.2-139.4 117.2z"></path></svg>',this.tag="select",this.width=95,this.selectPanelWidth=115}return e.prototype.getOptions=function(o){var s=[],l=o.getMenuConfig("codeSelectLang").codeLangs,c=l===void 0?[]:l;s.push({text:"plain text",value:""}),c.forEach(function(p){var v=p.text,y=p.value;s.push({text:v,value:y})});var d=this.getValue(o);return s.forEach(function(p){p.value===d?p.selected=!0:delete p.selected}),s},e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){var s=this.getSelectCodeElem(o);if(s==null||!sr.isElement(s))return"";var l=s.language.toString(),c=o.getMenuConfig("codeSelectLang").codeLangs;return(c===void 0?[]:c).some(function(d){return d.value===l})?l:""},e.prototype.isDisabled=function(o){return o.selection==null||!this.getSelectCodeElem(o)},e.prototype.exec=function(o,s){if(this.getSelectCodeElem(o)!=null){var l={language:s.toString()};Jt.setNodes(o,l,{match:function(c){return St.checkNodeType(c,"code")}})}},e.prototype.getSelectCodeElem=function(o){var s=St.getSelectedNodeByType(o,"code");if(s==null)return null;var l=St.getParentNode(o,s);return sr.isElement(l)?l.type!=="pre"?null:s:null},e}(),oQe={renderStyle:function(e,o){var s=e,l=o,c="";return CJe.forEach(function(d){s[d]&&(c=d)}),c&&function(d,p){d.data==null&&(d.data={});var v=d.data;v.props==null&&(v.props={}),Object.assign(v.props,{className:p})}(l,c="token "+c),l},parseStyleHtml:function(e,o,s){var l=Dt(e);if(!sr.isElement(o)||St.getNodeType(o)!=="code")return o;var c=o,d=l.attr("class")||"";return d.indexOf("language-")===0?c.language=d.split("-")[1]||"":c.language=d.toLowerCase(),c},menus:[{key:"codeSelectLang",factory:function(){return new nQe},config:{codeLangs:[{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"Javascript",value:"javascript"},{text:"Typescript",value:"typescript"},{text:"JSX",value:"jsx"},{text:"Go",value:"go"},{text:"PHP",value:"php"},{text:"C",value:"c"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Visual Basic",value:"visual-basic"},{text:"SQL",value:"sql"},{text:"Ruby",value:"ruby"},{text:"Swift",value:"swift"},{text:"Bash",value:"bash"},{text:"Lua",value:"lua"},{text:"Groovy",value:"groovy"},{text:"Markdown",value:"markdown"}]}}],elemsToHtml:[{type:"code",elemToHtml:function(e,o){var s=e.language,l=s===void 0?"":s;return"<code "+(l?'class="language-'+l+'"':"")+">"+o+"</code>"}}]},rQe=/"/g,sQe=qa("".replace);Uq({target:"String",proto:!0,forced:function(e){return Tu(function(){var o=""[e]('"');return o!==o.toLowerCase()||o.split('"').length>3})}("anchor")},{anchor:function(e){return o="a",s="name",l=e,c=iy(j_(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+sQe(iy(l),rQe,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var Yke=function(e){var o,s,l,c=function(B,O){var P=typeof Symbol=="function"&&B[Symbol.iterator];if(!P)return B;var I,z,K=P.call(B),j=[];try{for(;(O===void 0||O-- >0)&&!(I=K.next()).done;)j.push(I.value)}catch(oe){z={error:oe}}finally{try{I&&!I.done&&(P=K.return)&&P.call(K)}finally{if(z)throw z.error}}return j}(e,2),d=c[0],p=c[1],v=[],y=function(B){if(!Io.isText(B))return null;var O=St.getParentNode(null,B);if(O&&St.getNodeType(O)==="code"){var P=St.getParentNode(null,O);if(P&&St.getNodeType(P)==="pre")return O}return null}(d);if(y==null)return v;var S=y.language,x=S===void 0?"":S;if(!x)return v;var T=function(B,O){if(!O)return[];var P=fwe.languages[O];return P?fwe.tokenize(B.text,P):[]}(d,x),k=0;try{for(var A=function(B){var O=typeof Symbol=="function"&&Symbol.iterator,P=O&&B[O],I=0;if(P)return P.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&I>=B.length&&(B=void 0),{value:B&&B[I++],done:!B}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}(T),F=A.next();!F.done;F=A.next()){var N=F.value,D=k+Vke(N);typeof N!="string"&&v.push(((l={})[N.type]=!0,l.anchor={path:p,offset:k},l.focus={path:p,offset:D},l)),k=D}}catch(B){o={error:B}}finally{try{F&&!F.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}return v};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ql=function(){return ql=Object.assign||function(o){for(var s,l=1,c=arguments.length;l<c;l++){s=arguments[l];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},ql.apply(this,arguments)},ku=function(){function e(){throw new Error(`\u4E0D\u80FD\u5B9E\u4F8B\u5316
Can not construct a instance`)}return e.setEditorConfig=function(o){o===void 0&&(o={}),this.editorConfig=ql(ql({},this.editorConfig),o)},e.setSimpleEditorConfig=function(o){o===void 0&&(o={}),this.simpleEditorConfig=ql(ql({},this.simpleEditorConfig),o)},e.setToolbarConfig=function(o){o===void 0&&(o={}),this.toolbarConfig=ql(ql({},this.toolbarConfig),o)},e.setSimpleToolbarConfig=function(o){o===void 0&&(o={}),this.simpleToolbarConfig=ql(ql({},this.simpleToolbarConfig),o)},e.registerPlugin=function(o){this.plugins.push(o)},e.registerMenu=function(o,s){ABe(o,s)},e.registerRenderElem=function(o){JNe(o)},e.registerRenderStyle=function(o){XNe(o)},e.registerElemToHtml=function(o){MBe(o)},e.registerStyleToHtml=function(o){RBe(o)},e.registerPreParseHtml=function(o){aNe(o)},e.registerParseElemHtml=function(o){lNe(o)},e.registerParseStyleHtml=function(o){iNe(o)},e.registerModule=function(o){q4(o)},e.editorConfig={},e.simpleEditorConfig={},e.toolbarConfig={},e.simpleToolbarConfig={},e.plugins=[],e}();function q4(e){var o=e.menus,s=e.renderElems,l=e.renderStyle,c=e.elemsToHtml,d=e.styleToHtml,p=e.preParseHtml,v=e.parseElemsHtml,y=e.parseStyleHtml,S=e.editorPlugin;o&&o.forEach(function(x){return ku.registerMenu(x)}),s&&s.forEach(function(x){return ku.registerRenderElem(x)}),l&&ku.registerRenderStyle(l),c&&c.forEach(function(x){return ku.registerElemToHtml(x)}),d&&ku.registerStyleToHtml(d),p&&p.forEach(function(x){return ku.registerPreParseHtml(x)}),v&&v.forEach(function(x){return ku.registerParseElemHtml(x)}),y&&ku.registerParseStyleHtml(y),S&&ku.registerPlugin(S)}wHe.forEach(function(e){return q4(e)});q4(Bze);q4(iWe);q4(CGe);q4(hXe);q4(oQe);var aQe='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',iQe='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',Xke='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',lQe='<svg viewBox="0 0 1024 1024"><path d="M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path></svg>',cQe='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>';function uQe(){return["headerSelect","blockquote","|","bold","underline","italic",{key:"group-more-style",title:Co("editor.more"),iconSvg:lQe,menuKeys:["through","code","sup","sub","clearStyle"]},"color","bgColor","|","fontSize","fontFamily","lineHeight","|","bulletedList","numberedList","todo",{key:"group-justify",title:Co("editor.justify"),iconSvg:iQe,menuKeys:["justifyLeft","justifyRight","justifyCenter","justifyJustify"]},{key:"group-indent",title:Co("editor.indent"),iconSvg:aQe,menuKeys:["indent","delIndent"]},"|","emotion","insertLink",{key:"group-image",title:Co("editor.image"),iconSvg:Xke,menuKeys:["insertImage","uploadImage"]},{key:"group-video",title:Co("editor.video"),iconSvg:cQe,menuKeys:["insertVideo","uploadVideo"]},"insertTable","codeBlock","divider","|","undo","redo","|","fullScreen"]}function fQe(){return["blockquote","header1","header2","header3","|","bold","underline","italic","through","color","bgColor","clearStyle","|","bulletedList","numberedList","todo","justifyLeft","justifyRight","justifyCenter","|","insertLink",{key:"group-image",title:Co("editor.image"),iconSvg:Xke,menuKeys:["insertImage","uploadImage"]},"insertVideo","insertTable","codeBlock","|","undo","redo","|","fullScreen"]}var Jke={link:{menuKeys:["editLink","unLink","viewLink"]},image:{menuKeys:["imageWidth30","imageWidth50","imageWidth100","editImage","viewImageLink","deleteImage"]},pre:{menuKeys:["enter","codeBlock","codeSelectLang"]},table:{menuKeys:["enter","tableHeader","tableFullWidth","insertTableRow","deleteTableRow","insertTableCol","deleteTableCol","deleteTable"]},divider:{menuKeys:["enter"]},video:{menuKeys:["enter","editVideoSize"]}};function dQe(){return ql(ql({},Jke),{text:{menuKeys:["headerSelect","insertLink","bulletedList","|","bold","through","color","bgColor","clearStyle"]}})}function hQe(){return Jke}function pQe(){return{hoverbarKeys:dQe()}}function gQe(){return{hoverbarKeys:hQe()}}function mQe(){return{toolbarKeys:uQe()}}function vQe(){return{toolbarKeys:fQe()}}var bQe=pQe();ku.setEditorConfig(ql(ql({},bQe),{decorate:Yke}));var yQe=gQe();ku.setSimpleEditorConfig(ql(ql({},yQe),{decorate:Yke}));var wQe=mQe();ku.setToolbarConfig(wQe);var CQe=vQe();ku.setSimpleToolbarConfig(CQe);function SQe(e){e===void 0&&(e={});var o=e.selector,s=o===void 0?"":o,l=e.content,c=l===void 0?[]:l,d=e.html,p=e.config,v=p===void 0?{}:p,y=e.mode,S=y===void 0?"default":y,x=S==="simple"?ku.simpleEditorConfig:ku.editorConfig,T=ql(ql({},x.hoverbarKeys||{}),v.hoverbarKeys||{}),k=yPe({selector:s,config:ql(ql(ql({},x),v),{hoverbarKeys:T}),content:c,html:d,plugins:ku.plugins});return k}function xQe(e){var o=e.selector,s=e.editor,l=e.config,c=l===void 0?{}:l,d=e.mode,p=d===void 0?"default":d;if(!o)throw new Error("Cannot find 'selector' when create toolbar");var v=p==="simple"?ku.simpleToolbarConfig:ku.toolbarConfig,y=kPe(s,{selector:o,config:ql(ql({},v),c)});return y}var EQe=Object.defineProperty,kQe=Object.defineProperties,AQe=Object.getOwnPropertyDescriptors,Cwe=Object.getOwnPropertySymbols,TQe=Object.prototype.hasOwnProperty,OQe=Object.prototype.propertyIsEnumerable,Swe=(e,o,s)=>o in e?EQe(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,_Qe=(e,o)=>{for(var s in o||(o={}))TQe.call(o,s)&&Swe(e,s,o[s]);if(Cwe)for(var s of Cwe(o))OQe.call(o,s)&&Swe(e,s,o[s]);return e},$Qe=(e,o)=>kQe(e,AQe(o));function zw(e){let o=`\u8BF7\u4F7F\u7528 '@${e}' \u4E8B\u4EF6\uFF0C\u4E0D\u8981\u653E\u5728 props \u4E2D`;return o+=`
Please use '@${e}' event instead of props`,o}var Qke=(e,o)=>{for(const[s,l]of o)e[s]=l;return e};const DQe=F4({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(e,o){const s=hC(null),l=Awe(null),c=hC(""),d=()=>{if(!s.value)return;const v=TAe(e.defaultContent);SQe({selector:s.value,mode:e.mode,content:v||[],html:e.defaultHtml||e.modelValue||"",config:$Qe(_Qe({},e.defaultConfig),{onCreated(y){if(l.value=y,o.emit("onCreated",y),e.defaultConfig.onCreated){const S=zw("onCreated");throw new Error(S)}},onChange(y){const S=y.getHtml();if(c.value=S,o.emit("update:modelValue",S),o.emit("onChange",y),e.defaultConfig.onChange){const x=zw("onChange");throw new Error(x)}},onDestroyed(y){if(o.emit("onDestroyed",y),e.defaultConfig.onDestroyed){const S=zw("onDestroyed");throw new Error(S)}},onMaxLength(y){if(o.emit("onMaxLength",y),e.defaultConfig.onMaxLength){const S=zw("onMaxLength");throw new Error(S)}},onFocus(y){if(o.emit("onFocus",y),e.defaultConfig.onFocus){const S=zw("onFocus");throw new Error(S)}},onBlur(y){if(o.emit("onBlur",y),e.defaultConfig.onBlur){const S=zw("onBlur");throw new Error(S)}},customAlert(y,S){if(o.emit("customAlert",y,S),e.defaultConfig.customAlert){const x=zw("customAlert");throw new Error(x)}},customPaste:(y,S)=>{if(e.defaultConfig.customPaste){const T=zw("customPaste");throw new Error(T)}let x;return o.emit("customPaste",y,S,T=>{x=T}),x}})})};function p(v){const y=l.value;y!=null&&y.setHtml(v)}return uce(()=>{d()}),GV(()=>e.modelValue,v=>{v!==c.value&&p(v)}),{box:s}}}),BQe={ref:"box",style:{height:"100%"}};function NQe(e,o,s,l,c,d){return ny(),V_("div",BQe,null,512)}var PQe=Qke(DQe,[["render",NQe]]);const FQe=F4({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(e){const o=hC(null),s=l=>{if(!!o.value){if(l==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");St.getToolbar(l)||xQe({editor:l,selector:o.value||"<div></div>",mode:e.mode,config:e.defaultConfig})}};return AAe(()=>{const{editor:l}=e;l!=null&&s(l)}),{selector:o}}}),RQe={ref:"selector"};function MQe(e,o,s,l,c,d){return ny(),V_("div",RQe,null,512)}var IQe=Qke(FQe,[["render",MQe]]);const LQe=R4("insert text"),HQe=R4("print html"),jQe=R4("disable"),zQe=R4("clear"),VQe={style:{border:"1px solid #ccc","margin-top":"10px"}},UQe=F4({__name:"index",setup(e){const o=Awe(),s={},l={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."},c=hC("default"),d=hC("");Twe(()=>{const F=o.value;F!=null&&F.destroy()});const p=F=>{const N=o.value;switch(F){case"insertText":if(N==null)return;N.insertText("hello world");break;case"printHtml":if(N==null)return;console.log(N.getHtml());break;case"disable":if(N==null)return;N.isDisabled()?N.enable():N.disable();break;case"clear":N.clear();break}},v=F=>{console.log("created",F),o.value=F},y=()=>{console.log("change")},S=()=>{console.log("destroyed")},x=F=>{console.log("focus",F)},T=F=>{console.log("blur",F)},k=(F,N)=>{alert(`\u3010\u81EA\u5B9A\u4E49\u63D0\u793A\u3011${N} - ${F}`)},A=(F,N,D)=>{console.log("ClipboardEvent \u7C98\u8D34\u4E8B\u4EF6\u5BF9\u8C61",N)};return(F,N)=>{const D=OAe;return ny(),V_("div",null,[KV("div",null,[Xh(D,{onClick:N[0]||(N[0]=B=>p("insertText"))},{default:ey(()=>[LQe]),_:1}),Xh(D,{onClick:N[1]||(N[1]=B=>p("printHtml"))},{default:ey(()=>[HQe]),_:1}),Xh(D,{onClick:N[2]||(N[2]=B=>p("disable"))},{default:ey(()=>[jQe]),_:1}),Xh(D,{onClick:N[3]||(N[3]=B=>p("clear"))},{default:ey(()=>[zQe]),_:1})]),KV("div",VQe,[Xh(CN(IQe),{editor:CN(o),defaultConfig:s,mode:c.value,style:{"border-bottom":"1px solid #ccc"}},null,8,["editor","mode"]),Xh(CN(PQe),{defaultConfig:l,modelValue:d.value,"onUpdate:modelValue":N[4]||(N[4]=B=>d.value=B),style:{height:"400px","overflow-y":"hidden"},onOnCreated:v,onOnChange:y,onOnDestroyed:S,onOnFocus:x,onOnBlur:T,onCustomAlert:k,onCustomPaste:A},null,8,["modelValue"])])])}}});var WQe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],qQe=function(e){return WQe.map(function(o){return o.toLowerCase()}).indexOf(e.toLowerCase())!==-1},ZQe=function(e,o,s){Object.keys(o).filter(qQe).forEach(function(l){var c=o[l];typeof c=="function"&&(l==="onInit"?c(e,s):s.on(l.substring(2),function(d){return c(d,s)}))})},GQe=function(e,o,s,l){var c=e.modelEvents?e.modelEvents:null,d=Array.isArray(c)?c.join(" "):c;GV(l,function(p,v){s&&typeof p=="string"&&p!==v&&p!==s.getContent({format:e.outputFormat})&&s.setContent(p)}),s.on(d||"change input undo redo",function(){o.emit("update:modelValue",s.getContent({format:e.outputFormat}))})},KQe=function(e,o,s,l,c,d){l.setContent(d()),s.attrs["onUpdate:modelValue"]&&GQe(o,s,l,c),ZQe(e,s.attrs,l)},xwe=0,eAe=function(e){var o=Date.now(),s=Math.floor(Math.random()*1e9);return xwe++,e+"_"+s+xwe+String(o)},YQe=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},Ewe=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},XQe=function(e,o){return Ewe(e).concat(Ewe(o))},JQe=function(e){return e==null},kwe=function(){return{listeners:[],scriptId:eAe("tiny-script"),scriptLoaded:!1}},QQe=function(){var e=kwe(),o=function(c,d,p,v){var y=d.createElement("script");y.referrerPolicy="origin",y.type="application/javascript",y.id=c,y.src=p;var S=function(){y.removeEventListener("load",S),v()};y.addEventListener("load",S),d.head&&d.head.appendChild(y)},s=function(c,d,p){e.scriptLoaded?p():(e.listeners.push(p),c.getElementById(e.scriptId)||o(e.scriptId,c,d,function(){e.listeners.forEach(function(v){return v()}),e.scriptLoaded=!0}))},l=function(){e=kwe()};return{load:s,reinitialize:l}},eet=QQe(),tet=function(){return typeof window<"u"?window:global},jE=function(){var e=tet();return e&&e.tinymce?e.tinymce:null},net={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},JE=globalThis&&globalThis.__assign||function(){return JE=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e},JE.apply(this,arguments)},oet=function(e,o,s,l){return e(l||"div",{id:o,ref:s})},ret=function(e,o,s){return e("textarea",{id:o,visibility:"hidden",ref:s})},set=F4({props:net,setup:function(e,o){var s=e.init?JE({},e.init):{},l=_Ae(e),c=l.disabled,d=l.modelValue,p=l.tagName,v=hC(null),y=null,S=e.id||eAe("tiny-vue"),x=e.init&&e.init.inline||e.inline,T=!!o.attrs["onUpdate:modelValue"],k=!0,A=e.initialValue?e.initialValue:"",F="",N=function(O){return T?function(){return d!=null&&d.value?d.value:""}:function(){return O?A:F}},D=function(){var O=N(k),P=JE(JE({},s),{readonly:e.disabled,selector:"#"+S,plugins:XQe(s.plugins,e.plugins),toolbar:e.toolbar||s.toolbar,inline:x,setup:function(I){y=I,I.on("init",function(z){return KQe(z,e,o,I,d,O)}),typeof s.setup=="function"&&s.setup(I)}});YQe(v.value)&&(v.value.style.visibility=""),jE().init(P),k=!1};GV(c,function(O){var P;y!==null&&(typeof((P=y.mode)===null||P===void 0?void 0:P.set)=="function"?y.mode.set(O?"readonly":"design"):y.setMode(O?"readonly":"design"))}),GV(p,function(O){var P;T||(F=y.getContent()),(P=jE())===null||P===void 0||P.remove(y),mpe(function(){return D()})}),uce(function(){if(jE()!==null)D();else if(v.value&&v.value.ownerDocument){var O=e.cloudChannel?e.cloudChannel:"6",P=e.apiKey?e.apiKey:"no-api-key",I=JQe(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+P+"/tinymce/"+O+"/tinymce.min.js":e.tinymceScriptSrc;eet.load(v.value.ownerDocument,I,D)}}),Twe(function(){jE()!==null&&jE().remove(y)}),x||($Ae(function(){k||D()}),DAe(function(){var O;T||(F=y.getContent()),(O=jE())===null||O===void 0||O.remove(y)}));var B=function(O){var P;F=y.getContent(),(P=jE())===null||P===void 0||P.remove(y),s=JE(JE({},s),O),mpe(function(){return D()})};return o.expose({rerender:B}),function(){return x?oet(vpe,S,v,e.tagName):ret(vpe,S,v)}}});const aet=set;var iet={exports:{}};(function(e){(function(){var o=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var r=typeof t;return r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},s=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},l=function(t,r){var a=Array.prototype.slice.call(t);return a.sort(r)},c=function(t,r){return d(function(a,u){return t.eq(r(a),r(u))})},d=function(t){return{eq:t}},p=d(function(t,r){return t===r}),v=p,y=function(t){return d(function(r,a){if(r.length!==a.length)return!1;for(var u=r.length,h=0;h<u;h++)if(!t.eq(r[h],a[h]))return!1;return!0})},S=function(t,r){return c(y(t),function(a){return l(a,r)})},x=function(t){return d(function(r,a){var u=Object.keys(r),h=Object.keys(a);if(!S(v).eq(u,h))return!1;for(var b=u.length,E=0;E<b;E++){var R=u[E];if(!t.eq(r[R],a[R]))return!1}return!0})},T=d(function(t,r){if(t===r)return!0;var a=o(t),u=o(r);return a!==u?!1:s(a)?t===r:a==="array"?y(T).eq(t,r):a==="object"?x(T).eq(t,r):!1});const k=Object.getPrototypeOf,A=(t,r,a)=>{var u;return a(t,r.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===r.name},F=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&A(t,String,(a,u)=>u.isPrototypeOf(a))?"string":r},N=t=>r=>F(r)===t,D=t=>r=>typeof r===t,B=t=>r=>t===r,O=(t,r)=>I(t)&&A(t,r,(a,u)=>k(a)===u),P=N("string"),I=N("object"),z=t=>O(t,Object),K=N("array"),j=B(null),oe=D("boolean"),ke=B(void 0),ae=t=>t==null,Q=t=>!ae(t),G=D("function"),ue=D("number"),pe=(t,r)=>{if(K(t)){for(let a=0,u=t.length;a<u;++a)if(!r(t[a]))return!1;return!0}return!1},be=()=>{},qe=(t,r)=>(...a)=>t(r.apply(null,a)),U=(t,r)=>a=>t(r(a)),Fe=t=>()=>t,De=t=>t,Se=(t,r)=>t===r;function re(t,...r){return(...a)=>{const u=r.concat(a);return t.apply(null,u)}}const le=t=>r=>!t(r),fe=t=>()=>{throw new Error(t)},ce=t=>t(),Be=t=>{t()},Ce=Fe(!1),me=Fe(!0);class q{constructor(r,a){this.tag=r,this.value=a}static some(r){return new q(!0,r)}static none(){return q.singletonNone}fold(r,a){return this.tag?a(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?q.some(r(this.value)):q.none()}bind(r){return this.tag?r(this.value):q.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:q.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r!=null?r:"Called getOrDie on None")}static from(r){return Q(r)?q.some(r):q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}q.singletonNone=new q(!1);const Ze=Array.prototype.slice,We=Array.prototype.indexOf,tt=Array.prototype.push,Qe=(t,r)=>We.call(t,r),at=(t,r)=>{const a=Qe(t,r);return a===-1?q.none():q.some(a)},He=(t,r)=>Qe(t,r)>-1,Re=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const h=t[a];if(r(h,a))return!0}return!1},Ve=(t,r)=>{const a=t.length,u=new Array(a);for(let h=0;h<a;h++){const b=t[h];u[h]=r(b,h)}return u},Oe=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const h=t[a];r(h,a)}},ve=(t,r)=>{for(let a=t.length-1;a>=0;a--){const u=t[a];r(u,a)}},se=(t,r)=>{const a=[],u=[];for(let h=0,b=t.length;h<b;h++){const E=t[h];(r(E,h)?a:u).push(E)}return{pass:a,fail:u}},xe=(t,r)=>{const a=[];for(let u=0,h=t.length;u<h;u++){const b=t[u];r(b,u)&&a.push(b)}return a},ot=(t,r,a)=>(ve(t,(u,h)=>{a=r(a,u,h)}),a),Xe=(t,r,a)=>(Oe(t,(u,h)=>{a=r(a,u,h)}),a),jt=(t,r,a)=>{for(let u=0,h=t.length;u<h;u++){const b=t[u];if(r(b,u))return q.some(b);if(a(b,u))break}return q.none()},qt=(t,r)=>jt(t,r,Ce),vn=(t,r)=>{for(let a=0,u=t.length;a<u;a++){const h=t[a];if(r(h,a))return q.some(a)}return q.none()},Kn=t=>{const r=[];for(let a=0,u=t.length;a<u;++a){if(!K(t[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+t);tt.apply(r,t[a])}return r},zn=(t,r)=>Kn(Ve(t,r)),fn=(t,r)=>{for(let a=0,u=t.length;a<u;++a){const h=t[a];if(r(h,a)!==!0)return!1}return!0},oo=t=>{const r=Ze.call(t,0);return r.reverse(),r},ft=(t,r)=>xe(t,a=>!He(r,a)),Tt=(t,r)=>{const a={};for(let u=0,h=t.length;u<h;u++){const b=t[u];a[String(b)]=r(b,u)}return a},sn=(t,r)=>{const a=Ze.call(t,0);return a.sort(r),a},kn=(t,r)=>r>=0&&r<t.length?q.some(t[r]):q.none(),Pn=t=>kn(t,0),$n=t=>kn(t,t.length-1),_o=G(Array.from)?Array.from:t=>Ze.call(t),mr=(t,r)=>{for(let a=0;a<t.length;a++){const u=r(t[a],a);if(u.isSome())return u}return q.none()},Ot=(t,r)=>{const a=[],u=G(r)?h=>Re(a,b=>r(b,h)):h=>He(a,h);for(let h=0,b=t.length;h<b;h++){const E=t[h];u(E)||a.push(E)}return a},wt=Object.keys,wn=Object.hasOwnProperty,xn=(t,r)=>{const a=wt(t);for(let u=0,h=a.length;u<h;u++){const b=a[u],E=t[b];r(E,b)}},pn=(t,r)=>eo(t,(a,u)=>({k:u,v:r(a,u)})),eo=(t,r)=>{const a={};return xn(t,(u,h)=>{const b=r(u,h);a[b.k]=b.v}),a},yr=t=>(r,a)=>{t[a]=r},As=(t,r,a,u)=>{xn(t,(h,b)=>{(r(h,b)?a:u)(h,b)})},la=(t,r)=>{const a={},u={};return As(t,r,yr(a),yr(u)),{t:a,f:u}},pr=(t,r)=>{const a={};return As(t,r,yr(a),be),a},Sa=(t,r)=>{const a=[];return xn(t,(u,h)=>{a.push(r(u,h))}),a},wr=t=>Sa(t,De),Jo=(t,r)=>To(t,r)?q.from(t[r]):q.none(),To=(t,r)=>wn.call(t,r),xs=(t,r)=>To(t,r)&&t[r]!==void 0&&t[r]!==null,ra=(t,r,a=T)=>x(a).eq(t,r),Vr=t=>{const r={};return Oe(t,a=>{r[a]={}}),wt(r)},ca=t=>t.length!==void 0,Yr=Array.isArray,ri=t=>{if(Yr(t))return t;{const r=[];for(let a=0,u=t.length;a<u;a++)r[a]=t[a];return r}},as=(t,r,a)=>{if(!t)return!1;if(a=a||t,ca(t)){for(let u=0,h=t.length;u<h;u++)if(r.call(a,t[u],u,t)===!1)return!1}else for(const u in t)if(To(t,u)&&r.call(a,t[u],u,t)===!1)return!1;return!0},Ta=(t,r)=>{const a=[];return as(t,(u,h)=>{a.push(r(u,h,t))}),a},dt=(t,r)=>{const a=[];return as(t,(u,h)=>{(!r||r(u,h,t))&&a.push(u)}),a},Le=(t,r)=>{if(t){for(let a=0,u=t.length;a<u;a++)if(t[a]===r)return a}return-1},Pt=(t,r,a,u)=>{let h=ke(a)?t[0]:a;for(let b=0;b<t.length;b++)h=r.call(u,h,t[b],b);return h},Zt=(t,r,a)=>{for(let u=0,h=t.length;u<h;u++)if(r.call(a,t[u],u,t))return u;return-1},to=t=>t[t.length-1],uo=t=>{let r=!1,a;return(...u)=>(r||(r=!0,a=t.apply(null,u)),a)},Xn=(t,r,a,u)=>{const h=t.isiOS()&&/ipad/i.test(a)===!0,b=t.isiOS()&&!h,E=t.isiOS()||t.isAndroid(),R=E||u("(pointer:coarse)"),H=h||!b&&E&&u("(min-device-width:768px)"),Y=b||E&&!H,ge=r.isSafari()&&t.isiOS()&&/safari/i.test(a)===!1,Te=!Y&&!H&&!ge;return{isiPad:Fe(h),isiPhone:Fe(b),isTablet:Fe(H),isPhone:Fe(Y),isTouch:Fe(R),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Fe(ge),isDesktop:Fe(Te)}},vr=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a];if(u.test(r))return u}},zo=(t,r)=>{const a=vr(t,r);if(!a)return{major:0,minor:0};const u=h=>Number(r.replace(a,"$"+h));return dn(u(1),u(2))},Fo=(t,r)=>{const a=String(r).toLowerCase();return t.length===0?ws():zo(t,a)},ws=()=>dn(0,0),dn=(t,r)=>({major:t,minor:r}),lt={nu:dn,detect:Fo,unknown:ws},ut=(t,r)=>mr(r.brands,a=>{const u=a.brand.toLowerCase();return qt(t,h=>{var b;return u===((b=h.brand)===null||b===void 0?void 0:b.toLowerCase())}).map(h=>({current:h.name,version:lt.nu(parseInt(a.version,10),0)}))}),en=(t,r)=>{const a=String(r).toLowerCase();return qt(t,u=>u.search(a))},En=(t,r)=>en(t,r).map(a=>{const u=lt.detect(a.versionRegexes,r);return{current:a.name,version:u}}),An=(t,r)=>en(t,r).map(a=>{const u=lt.detect(a.versionRegexes,r);return{current:a.name,version:u}}),Un=(t,r)=>t.substring(r),_n=(t,r,a)=>r===""||t.length>=r.length&&t.substr(a,a+r.length)===r,Jn=(t,r)=>$o(t,r)?Un(t,r.length):t,go=(t,r,a=0,u)=>{const h=t.indexOf(r,a);return h!==-1?ke(u)?!0:h+r.length<=u:!1},$o=(t,r)=>_n(t,r,0),Hr=(t,r)=>_n(t,r,t.length-r.length),Es=t=>r=>r.replace(t,""),Qo=Es(/^\s+|\s+$/g),fi=Es(/^\s+/g),ar=Es(/\s+$/g),Tr=t=>t.length>0,Or=t=>!Tr(t),Ys=(t,r)=>r<=0?"":new Array(r+1).join(t),Is=(t,r=10)=>{const a=parseInt(t,r);return isNaN(a)?q.none():q.some(a)},Ei=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fa=t=>r=>go(r,t),di=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>go(t,"edge/")&&go(t,"chrome")&&go(t,"safari")&&go(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ei],search:t=>go(t,"chrome")&&!go(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>go(t,"msie")||go(t,"trident")},{name:"Opera",versionRegexes:[Ei,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fa("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fa("firefox")},{name:"Safari",versionRegexes:[Ei,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(go(t,"safari")||go(t,"mobile/"))&&go(t,"applewebkit")}],fl=[{name:"Windows",search:Fa("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>go(t,"iphone")||go(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fa("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fa("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fa("linux"),versionRegexes:[]},{name:"Solaris",search:Fa("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fa("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fa("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mi={browsers:Fe(di),oses:Fe(fl)},ki="Edge",Cr="Chromium",Ra="IE",Vs="Opera",si="Firefox",Oa="Safari",Ai=()=>ga({current:void 0,version:lt.unknown()}),ga=t=>{const r=t.current,a=t.version,u=h=>()=>r===h;return{current:r,version:a,isEdge:u(ki),isChromium:u(Cr),isIE:u(Ra),isOpera:u(Vs),isFirefox:u(si),isSafari:u(Oa)}},dl={unknown:Ai,nu:ga,edge:Fe(ki),chromium:Fe(Cr),ie:Fe(Ra),opera:Fe(Vs),firefox:Fe(si),safari:Fe(Oa)},hi="Windows",hl="iOS",Sr="Android",ma="Linux",Ue="macOS",pt="Solaris",xt="FreeBSD",Gt="ChromeOS",gn=()=>Do({current:void 0,version:lt.unknown()}),Do=t=>{const r=t.current,a=t.version,u=h=>()=>r===h;return{current:r,version:a,isWindows:u(hi),isiOS:u(hl),isAndroid:u(Sr),isMacOS:u(Ue),isLinux:u(ma),isSolaris:u(pt),isFreeBSD:u(xt),isChromeOS:u(Gt)}},or={unknown:gn,nu:Do,windows:Fe(hi),ios:Fe(hl),android:Fe(Sr),linux:Fe(ma),macos:Fe(Ue),solaris:Fe(pt),freebsd:Fe(xt),chromeos:Fe(Gt)},xr={detect:(t,r,a)=>{const u=Mi.browsers(),h=Mi.oses(),b=r.bind(H=>ut(u,H)).orThunk(()=>En(u,t)).fold(dl.unknown,dl.nu),E=An(h,t).fold(or.unknown,or.nu),R=Xn(E,b,t,a);return{browser:b,os:E,deviceType:R}}},Bs=t=>window.matchMedia(t).matches;let Cs=uo(()=>xr.detect(navigator.userAgent,q.from(navigator.userAgentData),Bs));const Ls=()=>Cs(),Ma=navigator.userAgent,ie=Ls(),Ke=ie.browser,Ct=ie.os,cn=ie.deviceType,Fn=Ma.indexOf("Windows Phone")!==-1,Hn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ke.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ke.isIE(),windowsPhone:Fn,browser:{current:Ke.current,version:Ke.version,isChromium:Ke.isChromium,isEdge:Ke.isEdge,isFirefox:Ke.isFirefox,isIE:Ke.isIE,isOpera:Ke.isOpera,isSafari:Ke.isSafari},os:{current:Ct.current,version:Ct.version,isAndroid:Ct.isAndroid,isChromeOS:Ct.isChromeOS,isFreeBSD:Ct.isFreeBSD,isiOS:Ct.isiOS,isLinux:Ct.isLinux,isMacOS:Ct.isMacOS,isSolaris:Ct.isSolaris,isWindows:Ct.isWindows},deviceType:{isDesktop:cn.isDesktop,isiPad:cn.isiPad,isiPhone:cn.isiPhone,isPhone:cn.isPhone,isTablet:cn.isTablet,isTouch:cn.isTouch,isWebView:cn.isWebView}},Ro=/^\s*|\s*$/g,he=t=>ae(t)?"":(""+t).replace(Ro,""),je=(t,r)=>r?r==="array"&&Yr(t)?!0:typeof t===r:t!==void 0,et=(t,r,a={})=>{const u=P(t)?t.split(r||","):t||[];let h=u.length;for(;h--;)a[u[h]]={};return a},Nt=To,Dn=(t,...r)=>{for(let a=0;a<r.length;a++){const u=r[a];for(const h in u)if(To(u,h)){const b=u[h];b!==void 0&&(t[h]=b)}}return t},mo=function(t,r,a,u){u=u||this,t&&(a&&(t=t[a]),as(t,(h,b)=>r.call(u,h,b,a)===!1?!1:(mo(h,r,a,u),!0)))},nn={trim:he,isArray:Yr,is:je,toArray:ri,makeMap:et,each:as,map:Ta,grep:dt,inArray:Le,hasOwn:Nt,extend:Dn,walk:mo,resolve:(t,r=window)=>{const a=t.split(".");for(let u=0,h=a.length;u<h&&(r=r[a[u]],!!r);u++);return r},explode:(t,r)=>K(t)?t:t===""?[]:Ta(t.split(r||","),he),_addCacheSuffix:t=>{const r=Hn.cacheSuffix;return r&&(t+=(t.indexOf("?")===-1?"?":"&")+r),t}},Xs=(t,r,a=Se)=>t.exists(u=>a(u,r)),hs=t=>{const r=[],a=u=>{r.push(u)};for(let u=0;u<t.length;u++)t[u].each(a);return r},Js=(t,r,a)=>t.isSome()&&r.isSome()?q.some(a(t.getOrDie(),r.getOrDie())):q.none(),Dl=(t,r,a,u)=>t.isSome()&&r.isSome()&&a.isSome()?q.some(u(t.getOrDie(),r.getOrDie(),a.getOrDie())):q.none(),rr=(t,r)=>t?q.some(r):q.none();typeof window<"u"||Function("return this;")();const Ye=8,it=9,Ft=11,Vt=1,ro=3,ko=t=>t.dom.nodeName.toLowerCase(),Ss=t=>t.dom.nodeType,Er=t=>r=>Ss(r)===t,jc=t=>Ss(t)===Ye||ko(t)==="#comment",Fr=Er(Vt),Xr=Er(ro),pi=Er(it),Xi=Er(Ft),zc=t=>r=>Fr(r)&&ko(r)===t,Us=(t,r,a)=>{if(P(a)||oe(a)||ue(a))t.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",t),new Error("Attribute value was not simple")},Os=(t,r,a)=>{Us(t.dom,r,a)},Jr=(t,r)=>{const a=t.dom;xn(r,(u,h)=>{Us(a,h,u)})},va=(t,r)=>{const a=t.dom.getAttribute(r);return a===null?void 0:a},pl=(t,r)=>q.from(va(t,r)),$u=(t,r)=>{const a=t.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},Ia=(t,r)=>{t.dom.removeAttribute(r)},af=t=>{const r=t.dom.attributes;return r==null||r.length===0},Rf=t=>Xe(t.dom.attributes,(r,a)=>(r[a.name]=a.value,r),{}),Ji=(t,r)=>{const a=va(t,r);return a===void 0||a===""?[]:a.split(" ")},Mf=(t,r,a)=>{const h=Ji(t,r).concat([a]);return Os(t,r,h.join(" ")),!0},qm=(t,r,a)=>{const u=xe(Ji(t,r),h=>h!==a);return u.length>0?Os(t,r,u.join(" ")):Ia(t,r),!1},Bl=t=>t.dom.classList!==void 0,Du=t=>Ji(t,"class"),md=(t,r)=>Mf(t,"class",r),Ti=(t,r)=>qm(t,"class",r),iu=(t,r)=>He(Du(t),r)?Ti(t,r):md(t,r),If=(t,r)=>{Bl(t)?t.dom.classList.add(r):md(t,r)},eh=t=>{(Bl(t)?t.dom.classList:Du(t)).length===0&&Ia(t,"class")},lf=(t,r)=>{Bl(t)?t.dom.classList.remove(r):Ti(t,r),eh(t)},up=(t,r)=>{const a=Bl(t)?t.dom.classList.toggle(r):iu(t,r);return eh(t),a},th=(t,r)=>Bl(t)&&t.dom.classList.contains(r),Cc=t=>t.style!==void 0&&G(t.style.getPropertyValue),Zm=(t,r)=>{const u=(r||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const h="HTML does not have a single root node";throw console.error(h,t),new Error(h)}return nh(u.childNodes[0])},fp=(t,r)=>{const u=(r||document).createElement(t);return nh(u)},Lf=(t,r)=>{const u=(r||document).createTextNode(t);return nh(u)},nh=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},mt={fromHtml:Zm,fromTag:fp,fromText:Lf,fromDom:nh,fromPoint:(t,r,a)=>q.from(t.dom.elementFromPoint(r,a)).map(nh)},cf=(t,r)=>{const a=[],u=b=>(a.push(b),r(b));let h=r(t);do h=h.bind(u);while(h.isSome());return a},xc=(t,r)=>{const a=t.dom;if(a.nodeType!==Vt)return!1;{const u=a;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},dp=t=>t.nodeType!==Vt&&t.nodeType!==it&&t.nodeType!==Ft||t.childElementCount===0,hp=(t,r)=>{const a=r===void 0?document:r.dom;return dp(a)?[]:Ve(a.querySelectorAll(t),mt.fromDom)},Gm=(t,r)=>{const a=r===void 0?document:r.dom;return dp(a)?q.none():q.from(a.querySelector(t)).map(mt.fromDom)},ps=(t,r)=>t.dom===r.dom,Ii=(t,r)=>{const a=t.dom,u=r.dom;return a===u?!1:a.contains(u)},bg=t=>mt.fromDom(t.dom.ownerDocument),Vc=t=>pi(t)?t:bg(t),pp=t=>mt.fromDom(Vc(t).dom.documentElement),Hf=t=>mt.fromDom(Vc(t).dom.defaultView),Li=t=>q.from(t.dom.parentNode).map(mt.fromDom),Km=t=>q.from(t.dom.parentElement).map(mt.fromDom),oh=(t,r)=>{const a=G(r)?r:Ce;let u=t.dom;const h=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const b=u.parentNode,E=mt.fromDom(b);if(h.push(E),a(E)===!0)break;u=b}return h},Ym=t=>{const r=a=>xe(a,u=>!ps(t,u));return Li(t).map(gi).map(r).getOr([])},Nl=t=>q.from(t.dom.previousSibling).map(mt.fromDom),rh=t=>q.from(t.dom.nextSibling).map(mt.fromDom),gp=t=>oo(cf(t,Nl)),vd=t=>cf(t,rh),gi=t=>Ve(t.dom.childNodes,mt.fromDom),sh=(t,r)=>{const a=t.dom.childNodes;return q.from(a[r]).map(mt.fromDom)},yg=t=>sh(t,0),mp=t=>sh(t,t.dom.childNodes.length-1),jf=t=>t.dom.childNodes.length,Xm=t=>{const r=t.dom.head;if(r==null)throw new Error("Head is not available yet");return mt.fromDom(r)},vp=t=>Xi(t)&&Q(t.dom.host),gl=G(Element.prototype.attachShadow)&&G(Node.prototype.getRootNode),Jm=Fe(gl),lu=gl?t=>mt.fromDom(t.dom.getRootNode()):Vc,bd=t=>vp(t)?t:Xm(Vc(t)),uf=t=>vp(t)?t:mt.fromDom(Vc(t).dom.body),Uc=t=>{const r=lu(t);return vp(r)?q.some(r):q.none()},Qm=t=>mt.fromDom(t.dom.host),e1=t=>{if(Jm()&&Q(t.target)){const r=mt.fromDom(t.target);if(Fr(r)&&wg(r)&&t.composed&&t.composedPath){const a=t.composedPath();if(a)return Pn(a)}}return q.from(t.target)},wg=t=>Q(t.dom.shadowRoot),cu=t=>{const r=Xr(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const a=r.ownerDocument;return Uc(mt.fromDom(r)).fold(()=>a.body.contains(r),U(cu,Qm))},ee=(t,r,a)=>{if(!P(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",t),new Error("CSS value must be a string: "+a);Cc(t)&&t.style.setProperty(r,a)},we=(t,r)=>{Cc(t)&&t.style.removeProperty(r)},Me=(t,r,a)=>{const u=t.dom;ee(u,r,a)},vt=(t,r)=>{const a=t.dom;xn(r,(u,h)=>{ee(a,h,u)})},At=(t,r)=>{const a=t.dom,h=window.getComputedStyle(a).getPropertyValue(r);return h===""&&!cu(t)?In(a,r):h},In=(t,r)=>Cc(t)?t.style.getPropertyValue(r):"",Lo=(t,r)=>{const a=t.dom,u=In(a,r);return q.from(u).filter(h=>h.length>0)},_r=t=>{const r={},a=t.dom;if(Cc(a))for(let u=0;u<a.style.length;u++){const h=a.style.item(u);r[h]=a.style[h]}return r},br=(t,r)=>{const a=t.dom;we(a,r),Xs(pl(t,"style").map(Qo),"")&&Ia(t,"style")},bo=t=>t.dom.offsetWidth,$r=(t,r)=>{Li(t).each(u=>{u.dom.insertBefore(r.dom,t.dom)})},ea=(t,r)=>{rh(t).fold(()=>{Li(t).each(h=>{La(h,r)})},u=>{$r(u,r)})},Hi=(t,r)=>{yg(t).fold(()=>{La(t,r)},u=>{t.dom.insertBefore(r.dom,u.dom)})},La=(t,r)=>{t.dom.appendChild(r.dom)},bp=(t,r)=>{$r(t,r),La(r,t)},NC=(t,r)=>{Oe(r,(a,u)=>{const h=u===0?t:r[u-1];ea(h,a)})},er=(t,r)=>{Oe(r,a=>{La(t,a)})},ba=t=>{t.dom.textContent="",Oe(gi(t),r=>{ts(r)})},ts=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Qi=t=>{const r=gi(t);r.length>0&&NC(t,r),ts(t)},Oi=(t,r)=>{const u=(r||document).createElement("div");return u.innerHTML=t,gi(mt.fromDom(u))},t1=t=>Ve(t,mt.fromDom),Cg=t=>t.dom.innerHTML,n1=(t,r)=>{const u=bg(t).dom,h=mt.fromDom(u.createDocumentFragment()),b=Oi(r,u);er(h,b),ba(t),La(t,h)},ff=t=>{const r=mt.fromTag("div"),a=mt.fromDom(t.dom.cloneNode(!0));return La(r,a),Cg(r)},Sg=(t,r,a,u,h,b,E)=>({target:t,x:r,y:a,stop:u,prevent:h,kill:b,raw:E}),PC=t=>{const r=mt.fromDom(e1(t).getOr(t.target)),a=()=>t.stopPropagation(),u=()=>t.preventDefault(),h=qe(u,a);return Sg(r,t.clientX,t.clientY,a,u,h,t)},Z4=(t,r)=>a=>{t(a)&&r(PC(a))},_a=(t,r,a,u,h)=>{const b=Z4(a,u);return t.dom.addEventListener(r,b,h),{unbind:re(py,t,r,b,h)}},o1=(t,r,a,u)=>_a(t,r,a,u,!1),py=(t,r,a,u)=>{t.dom.removeEventListener(r,a,u)},Kv=(t,r)=>({left:t,top:r,translate:(u,h)=>Kv(t+u,r+h)}),xg=Kv,gy=t=>{const r=t.getBoundingClientRect();return xg(r.left,r.top)},yd=(t,r)=>t!==void 0?t:r!==void 0?r:0,Ws=t=>{const r=t.dom.ownerDocument,a=r.body,u=r.defaultView,h=r.documentElement;if(a===t.dom)return xg(a.offsetLeft,a.offsetTop);const b=yd(u==null?void 0:u.pageYOffset,h.scrollTop),E=yd(u==null?void 0:u.pageXOffset,h.scrollLeft),R=yd(h.clientTop,a.clientTop),H=yd(h.clientLeft,a.clientLeft);return lr(t).translate(E-H,b-R)},lr=t=>{const r=t.dom,u=r.ownerDocument.body;return u===r?xg(u.offsetLeft,u.offsetTop):cu(t)?gy(r):xg(0,0)},el=t=>{const r=t!==void 0?t.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return xg(a,u)},df=(t,r,a)=>{const h=(a!==void 0?a.dom:document).defaultView;h&&h.scrollTo(t,r)},zf=(t,r)=>{Ls().browser.isSafari()&&G(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(r)},r1=t=>{const r=t===void 0?window:t;return Ls().browser.isFirefox()?q.none():q.from(r.visualViewport)},yp=(t,r,a,u)=>({x:t,y:r,width:a,height:u,right:t+a,bottom:r+u}),my=t=>{const r=t===void 0?window:t,a=r.document,u=el(mt.fromDom(a));return r1(r).fold(()=>{const h=r.document.documentElement,b=h.clientWidth,E=h.clientHeight;return yp(u.left,u.top,b,E)},h=>yp(Math.max(h.pageLeft,u.left),Math.max(h.pageTop,u.top),h.width,h.height))},wd=t=>r=>!!r&&r.nodeType===t,Cd=t=>!!t&&!Object.getPrototypeOf(t),no=wd(1),FC=t=>{const r=t.toLowerCase();return a=>Q(a)&&a.nodeName.toLowerCase()===r},oc=t=>{const r=t.map(a=>a.toLowerCase());return a=>{if(a&&a.nodeName){const u=a.nodeName.toLowerCase();return He(r,u)}return!1}},Ec=(t,r)=>{const a=r.toLowerCase().split(" ");return u=>{if(no(u)){const h=u.ownerDocument.defaultView;if(h)for(let b=0;b<a.length;b++){const E=h.getComputedStyle(u,null);if((E?E.getPropertyValue(t):null)===a[b])return!0}}return!1}},vy=t=>r=>no(r)&&r.hasAttribute(t),Sd=(t,r)=>a=>no(a)&&a.getAttribute(t)===r,Bu=t=>no(t)&&t.hasAttribute("data-mce-bogus"),RC=t=>no(t)&&t.getAttribute("data-mce-bogus")==="all",hf=t=>no(t)&&t.tagName==="TABLE",s1=t=>r=>!!(no(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),a1=oc(["textarea","input"]),bn=wd(3),Yv=wd(4),Xv=wd(7),Nu=wd(8),wp=wd(9),Jv=wd(11),$a=FC("br"),MC=FC("img"),uu=s1("true"),xa=s1("false"),rc=oc(["td","th"]),Oo=oc(["td","th","caption"]),ai=oc(["video","audio","object","embed"]),Eg=FC("li"),by=Ls().browser,Qv=t=>qt(t,Fr),kg=t=>by.isFirefox()&&ko(t)==="table"?Qv(gi(t)).filter(r=>ko(r)==="caption").bind(r=>Qv(vd(r)).map(a=>{const u=a.dom.offsetTop,h=r.dom.offsetTop,b=r.dom.offsetHeight;return u<=h?-b:0})).getOr(0):0,Wc=(t,r)=>t.children&&He(t.children,r),i1=(t,r,a)=>{let u=0,h=0;const b=t.ownerDocument;if(a=a||t,r){if(a===t&&r.getBoundingClientRect&&At(mt.fromDom(t),"position")==="static"){const R=r.getBoundingClientRect();return u=R.left+(b.documentElement.scrollLeft||t.scrollLeft)-b.documentElement.clientLeft,h=R.top+(b.documentElement.scrollTop||t.scrollTop)-b.documentElement.clientTop,{x:u,y:h}}let E=r;for(;E&&E!==a&&E.nodeType&&!Wc(E,a);){const R=E;u+=R.offsetLeft||0,h+=R.offsetTop||0,E=R.offsetParent}for(E=r.parentNode;E&&E!==a&&E.nodeType&&!Wc(E,a);)u-=E.scrollLeft||0,h-=E.scrollTop||0,E=E.parentNode;h+=kg(mt.fromDom(r))}return{x:u,y:h}};var Ag=(t,r,a,u,h)=>t(a,u)?q.some(a):G(h)&&h(a)?q.none():r(a,u,h);const Da=(t,r,a)=>{let u=t.dom;const h=G(a)?a:Ce;for(;u.parentNode;){u=u.parentNode;const b=mt.fromDom(u);if(r(b))return q.some(b);if(h(b))break}return q.none()},Pu=(t,r,a)=>Ag((h,b)=>b(h),Da,t,r,a),l1=(t,r)=>{const a=t.dom;return a.parentNode?Cp(mt.fromDom(a.parentNode),u=>!ps(t,u)&&r(u)):q.none()},Cp=(t,r)=>{const a=h=>r(mt.fromDom(h));return qt(t.dom.childNodes,a).map(mt.fromDom)},IC=(t,r)=>{const a=u=>{for(let h=0;h<u.childNodes.length;h++){const b=mt.fromDom(u.childNodes[h]);if(r(b))return q.some(b);const E=a(u.childNodes[h]);if(E.isSome())return E}return q.none()};return a(t.dom)},Tg=(t,r,a)=>Da(t,u=>xc(u,r),a),xd=(t,r)=>Gm(r,t),ah=(t,r,a)=>Ag((h,b)=>xc(h,b),Tg,t,r,a),Sp=(t,r={})=>{let a=0;const u={},h=mt.fromDom(t),b=Vc(h),E=r.maxLoadTime||5e3,R=Ge=>{r.referrerPolicy=Ge},H=Ge=>{La(bd(h),Ge)},Y=Ge=>{const ct=bd(h);xd(ct,"#"+Ge).each(ts)},ge=Ge=>Jo(u,Ge).getOrThunk(()=>({id:"mce-u"+a++,passed:[],failed:[],count:0})),Te=Ge=>new Promise((ct,ht)=>{let Et;const $t=nn._addCacheSuffix(Ge),Qt=ge($t);u[$t]=Qt,Qt.count++;const an=(Ao,ir)=>{Oe(Ao,Be),Qt.status=ir,Qt.passed=[],Qt.failed=[],Et&&(Et.onload=null,Et.onerror=null,Et=null)},Bn=()=>an(Qt.passed,2),un=()=>an(Qt.failed,3),Wt=(Ao,ir)=>{Ao()||(Date.now()-vo<E?setTimeout(ir):un())},Kt=()=>{Wt(()=>{const Ao=t.styleSheets;let ir=Ao.length;for(;ir--;){const vs=Ao[ir].ownerNode;if(vs&&Et&&vs.id===Et.id)return Bn(),!0}return!1},Kt)};if(ct&&Qt.passed.push(ct),ht&&Qt.failed.push(ht),Qt.status===1)return;if(Qt.status===2){Bn();return}if(Qt.status===3){un();return}Qt.status=1;const Nn=mt.fromTag("link",b.dom);Jr(Nn,{rel:"stylesheet",type:"text/css",id:Qt.id});const vo=Date.now();r.contentCssCors&&Os(Nn,"crossOrigin","anonymous"),r.referrerPolicy&&Os(Nn,"referrerpolicy",r.referrerPolicy),Et=Nn.dom,Et.onload=Kt,Et.onerror=un,H(Nn),Os(Nn,"href",$t)}),Ae=Ge=>Promise.allSettled(Ve(Ge,ht=>Te(ht).then(Fe(ht)))).then(ht=>{const Et=se(ht,$t=>$t.status==="fulfilled");return Et.fail.length>0?Promise.reject(Ve(Et.fail,$t=>$t.reason)):Ve(Et.pass,$t=>$t.value)}),nt=Ge=>{const ct=nn._addCacheSuffix(Ge);Jo(u,ct).each(ht=>{--ht.count===0&&(delete u[ct],Y(ht.id))})};return{load:Te,loadAll:Ae,unload:nt,unloadAll:Ge=>{Oe(Ge,ct=>{nt(ct)})},_setReferrerPolicy:R}},ih=(()=>{const t=new WeakMap;return{forElement:(a,u)=>{const b=lu(a).dom;return q.from(t.get(b)).getOrThunk(()=>{const E=Sp(b,u);return t.set(b,E),E})}}})();class jr{constructor(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node}prev(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node}prev2(r){return this.node=this.findPreviousNode(this.node,r),this.node}findSibling(r,a,u,h){if(r){if(!h&&r[a])return r[a];if(r!==this.rootNode){let b=r[u];if(b)return b;for(let E=r.parentNode;E&&E!==this.rootNode;E=E.parentNode)if(b=E[u],b)return b}}}findPreviousNode(r,a){if(r){const u=r.previousSibling;if(this.rootNode&&u===this.rootNode)return;if(u){if(!a){for(let b=u.lastChild;b;b=b.lastChild)if(!b.lastChild)return b}return u}const h=r.parentNode;if(h&&h!==this.rootNode)return h}}}const pf=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Pl=["td","th"],Ed=["thead","tbody","tfoot"],qc=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],wy=["h1","h2","h3","h4","h5","h6"],ji=["li","dd","dt"],ml=["ul","ol","dl"],e0=["pre","script","textarea","style"],ln=["pre"].concat(wy),_i=t=>{let r;return a=>(r=r||Tt(t,me),To(r,ko(a)))},Fu=_i(pf),Za=t=>ko(t)==="table",xp=t=>Fr(t)&&!Fu(t),lh=t=>Fr(t)&&ko(t)==="br",gf=_i(qc),t0=_i(ml),kc=_i(ji),c1=_i(Ed),Fl=_i(Pl),Kr=_i(e0),Vf=_i(ln),ch=t=>Vf(t)||xp(t),Rl=(t,r,a)=>Tg(t,r,a).isSome(),uh="\uFEFF",Ga="\xA0",Ep=t=>t===uh,sc=t=>t.replace(/\uFEFF/g,""),u1=(t,r)=>{let a=[];return Oe(gi(t),u=>{r(u)&&(a=a.concat([u])),a=a.concat(u1(u,r))}),a},_t=(t,r)=>hp(r,t),n0=((t,r)=>{const a=b=>{if(!t(b))throw new Error("Can only get "+r+" value of a "+r+" node");return u(b).getOr("")},u=b=>t(b)?q.from(b.dom.nodeValue):q.none();return{get:a,getOption:u,set:(b,E)=>{if(!t(b))throw new Error("Can only set raw "+r+" value of a "+r+" node");b.dom.nodeValue=E}}})(Xr,"text"),Ac=t=>n0.get(t),Uf=t=>n0.getOption(t),Tc=t=>{const r=[];let a=t.dom;for(;a;)r.push(mt.fromDom(a)),a=a.lastChild;return r},mi=t=>{const r=_t(t,"br"),a=xe(Tc(t).slice(-1),lh);r.length===a.length&&Oe(a,ts)},W=()=>{const t=mt.fromTag("br");return Os(t,"data-mce-bogus","1"),t},X=t=>{ba(t),La(t,W())},_e=t=>{mp(t).each(r=>{Nl(r).each(a=>{Fu(t)&&lh(r)&&Fu(a)&&ts(r)})})},$e=uh,yt=Ep,It=sc,Cn=no,Gn=bn,Zo=t=>(Gn(t)&&(t=t.parentNode),Cn(t)&&t.hasAttribute("data-mce-caret")),ur=t=>Gn(t)&&yt(t.data),ns=t=>Zo(t)||ur(t),us=t=>t.firstChild!==t.lastChild||!$a(t.firstChild),Ns=(t,r)=>{var a;const h=((a=t.ownerDocument)!==null&&a!==void 0?a:document).createTextNode($e),b=t.parentNode;if(r){const E=t.previousSibling;if(Gn(E)){if(ns(E))return E;if(fh(E))return E.splitText(E.data.length-1)}b==null||b.insertBefore(h,t)}else{const E=t.nextSibling;if(Gn(E)){if(ns(E))return E;if(Ru(E))return E.splitText(1),E}t.nextSibling?b==null||b.insertBefore(h,t.nextSibling):b==null||b.appendChild(h)}return h},Ml=t=>{const r=t.container();return bn(r)?r.data.charAt(t.offset())===$e||t.isAtStart()&&ur(r.previousSibling):!1},Zc=t=>{const r=t.container();return bn(r)?r.data.charAt(t.offset()-1)===$e||t.isAtEnd()&&ur(r.nextSibling):!1},Wf=(t,r,a)=>{var u;const b=((u=r.ownerDocument)!==null&&u!==void 0?u:document).createElement(t);b.setAttribute("data-mce-caret",a?"before":"after"),b.setAttribute("data-mce-bogus","all"),b.appendChild(W().dom);const E=r.parentNode;return a?E==null||E.insertBefore(b,r):r.nextSibling?E==null||E.insertBefore(b,r.nextSibling):E==null||E.appendChild(b),b},Ru=t=>Gn(t)&&t.data[0]===$e,fh=t=>Gn(t)&&t.data[t.data.length-1]===$e,kd=t=>{var r;const a=t.getElementsByTagName("br"),u=a[a.length-1];Bu(u)&&((r=u.parentNode)===null||r===void 0||r.removeChild(u))},mf=t=>t&&t.hasAttribute("data-mce-caret")?(kd(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,dh=t=>Zo(t.startContainer),vf=uu,f1=xa,d1=$a,LC=bn,HC=oc(["script","style","textarea"]),Uo=oc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ks=oc(["table"]),zi=ns,ya=t=>zi(t)?!1:LC(t)?!HC(t.parentNode):Uo(t)||d1(t)||ks(t)||tl(t),Og=t=>no(t)&&t.getAttribute("unselectable")==="true",tl=t=>!Og(t)&&f1(t),Gc=(t,r)=>{for(let a=t.parentNode;a&&a!==r;a=a.parentNode){if(tl(a))return!1;if(vf(a))return!0}return!0},qf=t=>tl(t)?!Xe(_o(t.getElementsByTagName("*")),(r,a)=>r||vf(a),!1):!1,Cy=t=>Uo(t)||qf(t),Ad=(t,r)=>ya(t)&&Gc(t,r),kp=/^[ \t\r\n]*$/,_g=t=>kp.test(t),o0=t=>" \f	\v".indexOf(t)!==-1,G4=t=>t===`
`||t==="\r",$g=(t,r)=>r<t.length&&r>=0?G4(t[r]):!1,h1=(t,r=4,a=!0,u=!0)=>{const h=Ys(" ",r),b=t.replace(/\t/g,h);return Xe(b,(R,H)=>o0(H)||H===Ga?R.pcIsSpace||R.str===""&&a||R.str.length===b.length-1&&u||$g(b,R.str.length+1)?{pcIsSpace:!1,str:R.str+Ga}:{pcIsSpace:!0,str:R.str+" "}:{pcIsSpace:G4(H),str:R.str+H},{pcIsSpace:!1,str:""}).str},r0=(t,r)=>{const a=mt.fromDom(r),u=mt.fromDom(t);return Rl(u,"pre,code",re(ps,a))},K4=(t,r)=>bn(t)&&_g(t.data)&&!r0(t,r),s0=t=>no(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")),Sy=(t,r)=>ya(t)&&!K4(t,r)||s0(t)||Y4(t),Y4=vy("data-mce-bookmark"),Ka=vy("data-mce-bogus"),s5=Sd("data-mce-bogus","all"),Ap=(t,r)=>{let a=0;if(Sy(t,t))return!1;{let u=t.firstChild;if(!u)return!0;const h=new jr(u,t);do{if(r){if(s5(u)){u=h.next(!0);continue}if(Ka(u)){u=h.next();continue}}if($a(u)){a++,u=h.next();continue}if(Sy(u,t))return!1;u=h.next()}while(u);return a<=1}},vi=(t,r=!0)=>Ap(t.dom,r),jC=t=>t.nodeName.toLowerCase()==="span",Zf=(t,r)=>Q(t)&&(Sy(t,r)||xp(mt.fromDom(t))),fu=(t,r)=>{const a=new jr(t,r).prev(!1),u=new jr(t,r).next(!1),h=ke(a)||Zf(a,r),b=ke(u)||Zf(u,r);return h&&b},hh=t=>jC(t)&&t.getAttribute("data-mce-type")==="bookmark",a0=(t,r)=>bn(t)&&t.data.length>0&&fu(t,r),a5=t=>no(t)?t.childNodes.length>0:!1,xy=t=>Jv(t)||wp(t),i0=(t,r,a)=>{var u;const h=a||r;if(no(r)&&hh(r))return r;const b=r.childNodes;for(let E=b.length-1;E>=0;E--)i0(t,b[E],h);if(no(r)){const E=r.childNodes;E.length===1&&hh(E[0])&&((u=r.parentNode)===null||u===void 0||u.insertBefore(E[0],r))}return!xy(r)&&!Sy(r,h)&&!a5(r)&&!a0(r,h)&&t.remove(r),r},Ey=nn.makeMap,ky=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ay=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zC=/[<>&\"\']/g,l0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ph={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},bf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tp={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},c0=t=>{const r=mt.fromTag("div").dom;return r.innerHTML=t,r.textContent||r.innerText||t},u0=(t,r)=>{const a={};if(t){const u=t.split(",");r=r||10;for(let h=0;h<u.length;h+=2){const b=String.fromCharCode(parseInt(u[h],r));if(!bf[b]){const E="&"+u[h+1]+";";a[b]=E,a[E]=b}}return a}else return},f0=u0("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ty=(t,r)=>t.replace(r?ky:Ay,a=>bf[a]||a),X4=t=>(""+t).replace(zC,r=>bf[r]||r),VC=(t,r)=>t.replace(r?ky:Ay,a=>a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":bf[a]||"&#"+a.charCodeAt(0)+";"),p1=(t,r,a)=>{const u=a||f0;return t.replace(r?ky:Ay,h=>bf[h]||u[h]||h)},du={encodeRaw:Ty,encodeAllRaw:X4,encodeNumeric:VC,encodeNamed:p1,getEncodeFunc:(t,r)=>{const a=u0(r)||f0,u=(E,R)=>E.replace(R?ky:Ay,H=>bf[H]!==void 0?bf[H]:a[H]!==void 0?a[H]:H.length>1?"&#"+((H.charCodeAt(0)-55296)*1024+(H.charCodeAt(1)-56320)+65536)+";":"&#"+H.charCodeAt(0)+";"),h=(E,R)=>p1(E,R,a),b=Ey(t.replace(/\+/g,","));return b.named&&b.numeric?u:b.named?r?h:p1:b.numeric?VC:Ty},decode:t=>t.replace(l0,(r,a)=>a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):ph[a]||String.fromCharCode(a)):Tp[r]||f0[r]||c0(r))},g1={},gh={},i5={},Dg=nn.makeMap,Dr=nn.each,Oy=nn.extend,_y=nn.explode,J4=nn.inArray,on=(t,r)=>(t=nn.trim(t),t?t.split(r||" "):[]),Td=(t,r={})=>{const a=Dg(t," ",Dg(t.toUpperCase()," "));return Oy(a,r)},d0=t=>Td("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),$y=t=>{const r={};let a,u,h,b;const E=(H,Y="",ge="")=>{const Te=on(ge),Ae=on(H);let nt=Ae.length;for(;nt--;){const st=on([a,Y].join(" "));r[Ae[nt]]={attributes:Tt(st,()=>({})),attributesOrder:st,children:Tt(Te,Fe(i5))}}},R=(H,Y)=>{const ge=on(H),Te=on(Y);let Ae=ge.length;for(;Ae--;){const nt=r[ge[Ae]];for(let st=0,Ge=Te.length;st<Ge;st++)nt.attributes[Te[st]]={},nt.attributesOrder.push(Te[st])}};if(g1[t])return g1[t];if(a="id accesskey class dir lang style tabindex title role",u="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",h="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",u+=" article aside details dialog figure main header footer hgroup section nav",h+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),t!=="html5-strict"){a+=" xml:lang";const H="acronym applet basefont big font strike tt";h=[h,H].join(" "),Dr(on(H),ge=>{E(ge,"",h)});const Y="center dir isindex noframes";u=[u,Y].join(" "),b=[u,h].join(" "),Dr(on(Y),ge=>{E(ge,"",b)})}return b=b||[u,h].join(" "),E("html","manifest","head body"),E("head","","base command link meta noscript script style title"),E("title hr noscript br"),E("base","href target"),E("link","href rel media hreflang type sizes hreflang"),E("meta","name http-equiv content charset"),E("style","media type scoped"),E("script","src async defer type charset"),E("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",b),E("address dt dd div caption","",b),E("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",h),E("blockquote","cite",b),E("ol","reversed start type","li"),E("ul","","li"),E("li","value",b),E("dl","","dt dd"),E("a","href target rel media hreflang type",h),E("q","cite",h),E("ins del","cite datetime",b),E("img","src sizes srcset alt usemap ismap width height"),E("iframe","src name width height",b),E("embed","src type width height"),E("object","data type typemustmatch name usemap form width height",[b,"param"].join(" ")),E("param","name value"),E("map","name",[b,"area"].join(" ")),E("area","alt coords shape href target rel media hreflang type"),E("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),E("colgroup","span","col"),E("col","span"),E("tbody thead tfoot","","tr"),E("tr","","td th"),E("td","colspan rowspan headers",b),E("th","colspan rowspan headers scope abbr",b),E("form","accept-charset action autocomplete enctype method name novalidate target",b),E("fieldset","disabled form name",[b,"legend"].join(" ")),E("label","form for",h),E("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),E("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?b:h),E("select","disabled form multiple name required size","option optgroup"),E("optgroup","disabled label","option"),E("option","disabled label selected value"),E("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),E("menu","type label",[b,"li"].join(" ")),E("noscript","",b),t!=="html4"&&(E("wbr"),E("ruby","",[h,"rt rp"].join(" ")),E("figcaption","",b),E("mark rt rp summary bdi","",h),E("canvas","width height",b),E("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[b,"track source"].join(" ")),E("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[b,"track source"].join(" ")),E("picture","","img source"),E("source","src srcset type media sizes"),E("track","kind src srclang label default"),E("datalist","",[h,"option"].join(" ")),E("article section nav aside main header footer","",b),E("hgroup","","h1 h2 h3 h4 h5 h6"),E("figure","",[b,"figcaption"].join(" ")),E("time","datetime",h),E("dialog","open",b),E("command","type label icon disabled checked radiogroup command"),E("output","for form name",h),E("progress","value max",h),E("meter","value min max low high optimum",h),E("details","open",[b,"summary"].join(" ")),E("keygen","autofocus challenge disabled form keytype name")),t!=="html5-strict"&&(R("script","language xml:space"),R("style","xml:space"),R("object","declare classid code codebase codetype archive standby align border hspace vspace"),R("embed","align name hspace vspace"),R("param","valuetype type"),R("a","charset name rev shape coords"),R("br","clear"),R("applet","codebase archive code object alt name width height align hspace vspace"),R("img","name longdesc align border hspace vspace"),R("iframe","longdesc frameborder marginwidth marginheight scrolling align"),R("font basefont","size color face"),R("input","usemap align"),R("select"),R("textarea"),R("h1 h2 h3 h4 h5 h6 div p legend caption","align"),R("ul","type compact"),R("li","type"),R("ol dl menu dir","compact"),R("pre","width xml:space"),R("hr","align noshade size width"),R("isindex","prompt"),R("table","summary width frame rules cellspacing cellpadding align bgcolor"),R("col","width align char charoff valign"),R("colgroup","width align char charoff valign"),R("thead","align char charoff valign"),R("tr","align char charoff valign bgcolor"),R("th","axis align char charoff valign nowrap bgcolor width height"),R("form","accept"),R("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),R("tfoot","align char charoff valign"),R("tbody","align char charoff valign"),R("area","nohref"),R("body","background bgcolor text link vlink alink")),t!=="html4"&&(R("input button select textarea","autofocus"),R("input textarea","placeholder"),R("a","download"),R("link script img","crossorigin"),R("img","loading"),R("iframe","sandbox seamless allow allowfullscreen loading")),t!=="html4"&&Oe([r.video,r.audio],H=>{delete H.children.audio,delete H.children.video}),Dr(on("a form meter progress dfn"),H=>{r[H]&&delete r[H].children[H]}),delete r.caption.children.table,delete r.script,g1[t]=r,r},UC=(t,r)=>{if(t){const a={};return P(t)&&(t={"*":t}),Dr(t,(u,h)=>{a[h]=a[h.toUpperCase()]=r==="map"?Dg(u,/[, ]/):_y(u,/[, ]/)}),a}else return},Mu=(t={})=>{var r;const a={},u={};let h=[];const b={},E={},R=(Go,tr,Ps)=>{const Hs=t[Go];if(Hs)return Dg(Hs,/[, ]/,Dg(Hs.toUpperCase(),/[, ]/));{let Zi=gh[Go];return Zi||(Zi=Td(tr,Ps),gh[Go]=Zi),Zi}},H=(r=t.schema)!==null&&r!==void 0?r:"html5",Y=$y(H);t.verify_html===!1&&(t.valid_elements="*[*]");const ge=UC(t.valid_styles),Te=UC(t.invalid_styles,"map"),Ae=UC(t.valid_classes,"map"),nt=R("whitespace_elements","pre script noscript style textarea video audio iframe object code"),st=R("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ge=R("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ct=R("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ht="td th iframe video audio object script code",Et=R("non_empty_elements",ht+" pre",Ge),$t=R("move_caret_before_on_enter_elements",ht+" table",Ge),Qt=R("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),an=R("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Qt),Bn=R("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Dr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Go=>{E[Go]=new RegExp("</"+Go+"[^>]*>","gi")});const un=Go=>new RegExp("^"+Go.replace(/([?+*])/g,".$1")+"$"),Wt=Go=>{const tr=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ps=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Hs=/[*?+]/;if(Go){const Zi=on(Go,",");let Na,ka;a["@"]&&(Na=a["@"].attributes,ka=a["@"].attributesOrder);for(let Ni=0,Wl=Zi.length;Ni<Wl;Ni++){let Gi=tr.exec(Zi[Ni]);if(Gi){const Vh=Gi[1],dd=Gi[2],Uh=Gi[3],Wh=Gi[5],qh={},Zh=[],za={attributes:qh,attributesOrder:Zh};if(Vh==="#"&&(za.paddEmpty=!0),Vh==="-"&&(za.removeEmpty=!0),Gi[4]==="!"&&(za.removeEmptyAttrs=!0),Na&&(xn(Na,(hd,Gh)=>{qh[Gh]=hd}),ka&&Zh.push(...ka)),Wh){const hd=on(Wh,"|");for(let Gh=0,qb=hd.length;Gh<qb;Gh++)if(Gi=Ps.exec(hd[Gh]),Gi){const Gd={},Xu=Gi[1],ec=Gi[2].replace(/[\\:]:/g,":"),_f=Gi[3],$f=Gi[4];if(Xu==="!"&&(za.attributesRequired=za.attributesRequired||[],za.attributesRequired.push(ec),Gd.required=!0),Xu==="-"){delete qh[ec],Zh.splice(J4(Zh,ec),1);continue}if(_f&&(_f==="="&&(za.attributesDefault=za.attributesDefault||[],za.attributesDefault.push({name:ec,value:$f}),Gd.defaultValue=$f),_f==="~"&&(za.attributesForced=za.attributesForced||[],za.attributesForced.push({name:ec,value:$f}),Gd.forcedValue=$f),_f==="<"&&(Gd.validValues=Dg($f,"?"))),Hs.test(ec)){const Cv=Gd;za.attributePatterns=za.attributePatterns||[],Cv.pattern=un(ec),za.attributePatterns.push(Cv)}else qh[ec]||Zh.push(ec),qh[ec]=Gd}}if(!Na&&dd==="@"&&(Na=qh,ka=Zh),Uh&&(za.outputName=dd,a[Uh]=za),Hs.test(dd)){const hd=za;hd.pattern=un(dd),h.push(hd)}else a[dd]=za}}}},Kt=Go=>{h=[],Oe(wt(a),tr=>{delete a[tr]}),Wt(Go),Dr(Y,(tr,Ps)=>{u[Ps]=tr.children})},Nn=Go=>{const tr=/^(~)?(.+)$/;Go&&(delete gh.text_block_elements,delete gh.block_elements,Dr(on(Go,","),Ps=>{const Hs=tr.exec(Ps);if(Hs){const Zi=Hs[1]==="~",Na=Zi?"span":"div",ka=Hs[2];if(u[ka]=u[Na],b[ka]=Na,Et[ka.toUpperCase()]={},Et[ka]={},Zi||(an[ka.toUpperCase()]={},an[ka]={}),!a[ka]){let Ni=a[Na];Ni=Oy({},Ni),delete Ni.removeEmptyAttrs,delete Ni.removeEmpty,a[ka]=Ni}Dr(u,(Ni,Wl)=>{Ni[Na]&&(u[Wl]=Ni=Oy({},u[Wl]),Ni[ka]=Ni[Na])})}}))},vo=Go=>{const tr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete g1[H],Go&&Dr(on(Go,","),Ps=>{const Hs=tr.exec(Ps);if(Hs){const Zi=Hs[1];let Na;Zi?Na=u[Hs[2]]:Na=u[Hs[2]]={"#comment":{}},Na=u[Hs[2]],Dr(on(Hs[3],"|"),ka=>{Zi==="-"?delete Na[ka]:Na[ka]={}})}})},Ao=Go=>{const tr=a[Go];if(tr)return tr;let Ps=h.length;for(;Ps--;){const Hs=h[Ps];if(Hs.pattern.test(Go))return Hs}};t.valid_elements?Kt(t.valid_elements):(Dr(Y,(Go,tr)=>{a[tr]={attributes:Go.attributes,attributesOrder:Go.attributesOrder},u[tr]=Go.children}),Dr(on("strong/b em/i"),Go=>{const tr=on(Go,"/");a[tr[1]].outputName=tr[0]}),Dr(Bn,(Go,tr)=>{a[tr]&&(t.padd_empty_block_inline_children&&(a[tr].paddInEmptyBlock=!0),a[tr].removeEmpty=!0)}),Dr(on("ol ul blockquote a table tbody"),Go=>{a[Go]&&(a[Go].removeEmpty=!0)}),Dr(on("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),Go=>{a[Go].paddEmpty=!0}),Dr(on("span"),Go=>{a[Go].removeEmptyAttrs=!0})),Nn(t.custom_elements),vo(t.valid_children),Wt(t.extended_valid_elements),vo("+ol[ul|ol],+ul[ul|ol]"),Dr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Go,tr)=>{a[tr]&&(a[tr].parentsRequired=on(Go))}),t.invalid_elements&&Dr(_y(t.invalid_elements),Go=>{a[Go]&&delete a[Go]}),Ao("span")||Wt("span[!data-mce-type|*]");const ir=Fe(ge),Zr=Fe(Te),vs=Fe(Ae),Gs=Fe(ct),xl=Fe(an),On=Fe(Qt),dr=Fe(Bn),Nr=Fe(Object.seal(Ge)),Yo=Fe(st),ci=Fe(Et),io=Fe($t),Xo=Fe(nt),jo=Fe(Object.seal(E)),Vn=(Go,tr)=>{const Ps=u[Go.toLowerCase()];return!!(Ps&&Ps[tr.toLowerCase()])},Pr=(Go,tr)=>{const Ps=Ao(Go);if(Ps)if(tr){if(Ps.attributes[tr])return!0;const Hs=Ps.attributePatterns;if(Hs){let Zi=Hs.length;for(;Zi--;)if(Hs[Zi].pattern.test(tr))return!0}}else return!0;return!1},gr=Fe(b);return{type:H,children:u,elements:a,getValidStyles:ir,getValidClasses:vs,getBlockElements:xl,getInvalidStyles:Zr,getVoidElements:Nr,getTextBlockElements:On,getTextInlineElements:dr,getBoolAttrs:Gs,getElementRule:Ao,getSelfClosingElements:Yo,getNonEmptyElements:ci,getMoveCaretBeforeOnEnterElements:io,getWhitespaceElements:Xo,getSpecialElements:jo,isValidChild:Vn,isValid:Pr,getCustomElements:gr,addValidElements:Wt,setValidElements:Kt,addCustomElements:Nn,addValidChildren:vo}},m1=(t={},r)=>{const a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,b={};let E,R;const H=uh;r&&(E=r.getValidStyles(),R=r.getInvalidStyles());const Y=(`\\" \\' \\; \\: ; : `+H).split(" ");for(let Te=0;Te<Y.length;Te++)b[Y[Te]]=H+Te,b[H+Te]=Y[Te];const ge={parse:Te=>{const Ae={};let nt=!1;const st=t.url_converter,Ge=t.url_converter_scope||ge,ct=(Wt,Kt,Nn)=>{const vo=Ae[Wt+"-top"+Kt];if(!vo)return;const Ao=Ae[Wt+"-right"+Kt];if(!Ao)return;const ir=Ae[Wt+"-bottom"+Kt];if(!ir)return;const Zr=Ae[Wt+"-left"+Kt];if(!Zr)return;const vs=[vo,Ao,ir,Zr];let Gs=vs.length-1;for(;Gs--&&vs[Gs]===vs[Gs+1];);Gs>-1&&Nn||(Ae[Wt+Kt]=Gs===-1?vs[0]:vs.join(" "),delete Ae[Wt+"-top"+Kt],delete Ae[Wt+"-right"+Kt],delete Ae[Wt+"-bottom"+Kt],delete Ae[Wt+"-left"+Kt])},ht=Wt=>{const Kt=Ae[Wt];if(!Kt)return;const Nn=Kt.split(" ");let vo=Nn.length;for(;vo--;)if(Nn[vo]!==Nn[0])return!1;return Ae[Wt]=Nn[0],!0},Et=(Wt,Kt,Nn,vo)=>{!ht(Kt)||!ht(Nn)||!ht(vo)||(Ae[Wt]=Ae[Kt]+" "+Ae[Nn]+" "+Ae[vo],delete Ae[Kt],delete Ae[Nn],delete Ae[vo])},$t=Wt=>(nt=!0,b[Wt]),Qt=(Wt,Kt)=>(nt&&(Wt=Wt.replace(/\uFEFF[0-9]/g,Nn=>b[Nn])),Kt||(Wt=Wt.replace(/\\([\'\";:])/g,"$1")),Wt),an=Wt=>String.fromCharCode(parseInt(Wt.slice(1),16)),Bn=Wt=>Wt.replace(/\\[0-9a-f]+/gi,an),un=(Wt,Kt,Nn,vo,Ao,ir)=>{if(Ao=Ao||ir,Ao)return Ao=Qt(Ao),"'"+Ao.replace(/\'/g,"\\'")+"'";if(Kt=Qt(Kt||Nn||vo||""),!t.allow_script_urls){const Zr=Kt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Zr)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Zr))return""}return st&&(Kt=st.call(Ge,Kt,"style")),"url('"+Kt.replace(/\'/g,"\\'")+"')"};if(Te){Te=Te.replace(/[\u0000-\u001F]/g,""),Te=Te.replace(/\\[\"\';:\uFEFF]/g,$t).replace(/\"[^\"]+\"|\'[^\']+\'/g,Kt=>Kt.replace(/[;:]/g,$t));let Wt;for(;Wt=u.exec(Te);){u.lastIndex=Wt.index+Wt[0].length;let Kt=Wt[1].replace(h,"").toLowerCase(),Nn=Wt[2].replace(h,"");if(Kt&&Nn){if(Kt=Bn(Kt),Nn=Bn(Nn),Kt.indexOf(H)!==-1||Kt.indexOf('"')!==-1||!t.allow_script_urls&&(Kt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Nn)))continue;Kt==="font-weight"&&Nn==="700"?Nn="bold":(Kt==="color"||Kt==="background-color")&&(Nn=Nn.toLowerCase()),Nn=Nn.replace(a,un),Ae[Kt]=nt?Qt(Nn,!0):Nn}}ct("border","",!0),ct("border","-width"),ct("border","-color"),ct("border","-style"),ct("padding",""),ct("margin",""),Et("border","border-width","border-style","border-color"),Ae.border==="medium none"&&delete Ae.border,Ae["border-image"]==="none"&&delete Ae["border-image"]}return Ae},serialize:(Te,Ae)=>{let nt="";const st=(ct,ht)=>{const Et=ht[ct];if(Et)for(let $t=0,Qt=Et.length;$t<Qt;$t++){const an=Et[$t],Bn=Te[an];Bn&&(nt+=(nt.length>0?" ":"")+an+": "+Bn+";")}},Ge=(ct,ht)=>{if(!R||!ht)return!0;let Et=R["*"];return Et&&Et[ct]?!1:(Et=R[ht],!(Et&&Et[ct]))};return Ae&&E?(st("*",E),st(Ae,E)):xn(Te,(ct,ht)=>{ct&&Ge(ht,Ae)&&(nt+=(nt.length>0?" ":"")+ht+": "+ct+";")}),nt}};return ge},Bg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},WC=t=>t instanceof Event||G(t.initEvent),Kc=t=>t.isDefaultPrevented===me||t.isDefaultPrevented===Ce,Ya=t=>ae(t.preventDefault)||WC(t),Gf=(t,r)=>{const a=r!=null?r:{};for(const u in t)To(Bg,u)||(a[u]=t[u]);return Q(t.composedPath)&&(a.composedPath=()=>t.composedPath()),a},qC=(t,r,a,u)=>{var h;const b=Gf(r,u);return b.type=t,ae(b.target)&&(b.target=(h=b.srcElement)!==null&&h!==void 0?h:a),Ya(r)&&(b.preventDefault=()=>{b.defaultPrevented=!0,b.isDefaultPrevented=me,G(r.preventDefault)&&r.preventDefault()},b.stopPropagation=()=>{b.cancelBubble=!0,b.isPropagationStopped=me,G(r.stopPropagation)&&r.stopPropagation()},b.stopImmediatePropagation=()=>{b.isImmediatePropagationStopped=me,b.stopPropagation()},Kc(b)||(b.isDefaultPrevented=b.defaultPrevented===!0?me:Ce,b.isPropagationStopped=b.cancelBubble===!0?me:Ce,b.isImmediatePropagationStopped=Ce)),b},mh="mce-data-",l5=/^(?:mouse|contextmenu)|click/,vh=(t,r,a,u)=>{t.addEventListener(r,a,u||!1)},Od=(t,r,a,u)=>{t.removeEventListener(r,a,u||!1)},Q4=t=>Q(t)&&l5.test(t.type),v1=(t,r)=>{const a=qC(t.type,t,document,r);if(Q4(t)&&ke(t.pageX)&&!ke(t.clientX)){const u=a.target.ownerDocument||document,h=u.documentElement,b=u.body,E=a;E.pageX=t.clientX+(h&&h.scrollLeft||b&&b.scrollLeft||0)-(h&&h.clientLeft||b&&b.clientLeft||0),E.pageY=t.clientY+(h&&h.scrollTop||b&&b.scrollTop||0)-(h&&h.clientTop||b&&b.clientTop||0)}return a},c5=(t,r,a)=>{const u=t.document,h={type:"ready"};if(a.domLoaded){r(h);return}const b=()=>u.readyState==="complete"||u.readyState==="interactive"&&u.body,E=()=>{Od(t,"DOMContentLoaded",E),Od(t,"load",E),a.domLoaded||(a.domLoaded=!0,r(h)),t=null};b()?E():vh(t,"DOMContentLoaded",E),a.domLoaded||vh(t,"load",E)};class Ng{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=mh+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(r,a,u,h){const b=this;let E;const R=window,H=Ae=>{b.executeHandlers(v1(Ae||R.event),Y)};if(!r||bn(r)||Nu(r))return u;let Y;r[b.expando]?Y=r[b.expando]:(Y=b.count++,r[b.expando]=Y,b.events[Y]={}),h=h||r;const ge=a.split(" ");let Te=ge.length;for(;Te--;){let Ae=ge[Te],nt=H,st=!1,Ge=!1;if(Ae==="DOMContentLoaded"&&(Ae="ready"),b.domLoaded&&Ae==="ready"&&r.readyState==="complete"){u.call(h,v1({type:Ae}));continue}!b.hasFocusIn&&(Ae==="focusin"||Ae==="focusout")&&(st=!0,Ge=Ae==="focusin"?"focus":"blur",nt=ct=>{const ht=v1(ct||R.event);ht.type=ht.type==="focus"?"focusin":"focusout",b.executeHandlers(ht,Y)}),E=b.events[Y][Ae],E?Ae==="ready"&&b.domLoaded?u(v1({type:Ae})):E.push({func:u,scope:h}):(b.events[Y][Ae]=E=[{func:u,scope:h}],E.fakeName=Ge,E.capture=st,E.nativeHandler=nt,Ae==="ready"?c5(r,nt,b):vh(r,Ge||Ae,nt,st))}return r=E=null,u}unbind(r,a,u){if(!r||bn(r)||Nu(r))return this;const h=r[this.expando];if(h){let b=this.events[h];if(a){const E=a.split(" ");let R=E.length;for(;R--;){const H=E[R],Y=b[H];if(Y){if(u){let ge=Y.length;for(;ge--;)if(Y[ge].func===u){const Te=Y.nativeHandler,Ae=Y.fakeName,nt=Y.capture,st=Y.slice(0,ge).concat(Y.slice(ge+1));st.nativeHandler=Te,st.fakeName=Ae,st.capture=nt,b[H]=st}}(!u||Y.length===0)&&(delete b[H],Od(r,Y.fakeName||H,Y.nativeHandler,Y.capture))}}}else xn(b,(E,R)=>{Od(r,E.fakeName||R,E.nativeHandler,E.capture)}),b={};for(const E in b)if(To(b,E))return this;delete this.events[h];try{delete r[this.expando]}catch{r[this.expando]=null}}return this}fire(r,a,u){return this.dispatch(r,a,u)}dispatch(r,a,u){if(!r||bn(r)||Nu(r))return this;const h=v1({type:a,target:r},u);do{const b=r[this.expando];b&&this.executeHandlers(h,b),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow}while(r&&!h.isPropagationStopped());return this}clean(r){if(!r||bn(r)||Nu(r))return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName){this.unbind(r);const a=r.getElementsByTagName("*");let u=a.length;for(;u--;)r=a[u],r[this.expando]&&this.unbind(r)}return this}destroy(){this.events={}}cancel(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1}executeHandlers(r,a){const u=this.events[a],h=u&&u[r.type];if(h)for(let b=0,E=h.length;b<E;b++){const R=h[b];if(R&&R.func.call(R.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}}}Ng.Event=new Ng;const _d=nn.each,u5=nn.grep,b1="data-mce-style",e3=nn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Pg=(t,r,a)=>{ae(a)||a===""?Ia(t,r):Os(t,r,a)},fo=t=>t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase()),y1=(t,r)=>{let a=0;if(t)for(let u=t.nodeType,h=t.previousSibling;h;h=h.previousSibling){const b=h.nodeType;r&&bn(h)&&(b===u||!h.data.length)||(a++,u=b)}return a},ZC=(t,r)=>{const a=va(r,"style"),u=t.serialize(t.parse(a),ko(r));Pg(r,b1,u)},GC=(t,r)=>ue(t)?To(e3,r)?t+"":t+"px":t,h0=(t,r,a)=>{const u=fo(r);ae(a)||a===""?br(t,u):Me(t,u,GC(a,u))},Dy=(t,r,a)=>{const u=r.keep_values,h={set:(E,R,H)=>{const Y=mt.fromDom(E);G(r.url_converter)&&Q(R)&&(R=r.url_converter.call(r.url_converter_scope||a(),String(R),H,E));const ge="data-mce-"+H;Pg(Y,ge,R),Pg(Y,H,R)},get:(E,R)=>{const H=mt.fromDom(E);return va(H,"data-mce-"+R)||va(H,R)}},b={style:{set:(E,R)=>{const H=mt.fromDom(E);u&&Pg(H,b1,R),Ia(H,"style"),P(R)&&vt(H,t.parse(R))},get:E=>{const R=mt.fromDom(E),H=va(R,b1)||va(R,"style");return t.serialize(t.parse(H),ko(R))}}};return u&&(b.href=b.src=h),b},_s=(t,r={})=>{const a={},u=window,h={};let b=0;const E=!0,R=!0,H=ih.forElement(mt.fromDom(t),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),Y=[],ge=r.schema?r.schema:Mu({}),Te=m1({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),Ae=r.ownEvents?new Ng:Ng.Event,nt=ge.getBlockElements(),st=Rt=>P(Rt)?To(nt,Rt):no(Rt)&&To(nt,Rt.nodeName),Ge=Rt=>Rt&&t&&P(Rt)?t.getElementById(Rt):Rt,ct=Rt=>{const Ht=Ge(Rt);return Q(Ht)?mt.fromDom(Ht):null},ht=(Rt,Ht,Sn="")=>{let mn;const So=ct(Rt);if(Q(So)&&Fr(So)){const Gr=Zb[Ht];Gr&&Gr.get?mn=Gr.get(So.dom,Ht):mn=va(So,Ht)}return Q(mn)?mn:Sn},Et=Rt=>{const Ht=Ge(Rt);return ae(Ht)?[]:Ht.attributes},$t=(Rt,Ht,Sn)=>{Yo(Rt,mn=>{if(no(mn)){const So=mt.fromDom(mn),Gr=Sn===""?null:Sn,wa=va(So,Ht),Ca=Zb[Ht];Ca&&Ca.set?Ca.set(So.dom,Gr,Ht):Pg(So,Ht,Gr),wa!==Gr&&r.onSetAttrib&&r.onSetAttrib({attrElm:So.dom,attrName:Ht,attrValue:Gr})}})},Qt=(Rt,Ht)=>Rt.cloneNode(Ht),an=()=>r.root_element||t.body,Bn=Rt=>{const Ht=my(Rt);return{x:Ht.x,y:Ht.y,w:Ht.width,h:Ht.height}},un=(Rt,Ht)=>i1(t.body,Ge(Rt),Ht),Wt=(Rt,Ht,Sn)=>{Yo(Rt,mn=>{const So=mt.fromDom(mn);h0(So,Ht,Sn),r.update_styles&&ZC(Te,So)})},Kt=(Rt,Ht)=>{Yo(Rt,Sn=>{const mn=mt.fromDom(Sn);xn(Ht,(So,Gr)=>{h0(mn,Gr,So)}),r.update_styles&&ZC(Te,mn)})},Nn=(Rt,Ht,Sn)=>{const mn=Ge(Rt);if(!(ae(mn)||!no(mn)))return Sn?At(mt.fromDom(mn),fo(Ht)):(Ht=Ht.replace(/-(\D)/g,(So,Gr)=>Gr.toUpperCase()),Ht==="float"&&(Ht="cssFloat"),mn.style?mn.style[Ht]:void 0)},vo=Rt=>{const Ht=Ge(Rt);if(!Ht)return{w:0,h:0};let Sn=Nn(Ht,"width"),mn=Nn(Ht,"height");return(!Sn||Sn.indexOf("px")===-1)&&(Sn="0"),(!mn||mn.indexOf("px")===-1)&&(mn="0"),{w:parseInt(Sn,10)||Ht.offsetWidth||Ht.clientWidth,h:parseInt(mn,10)||Ht.offsetHeight||Ht.clientHeight}},Ao=Rt=>{const Ht=Ge(Rt),Sn=un(Ht),mn=vo(Ht);return{x:Sn.x,y:Sn.y,w:mn.w,h:mn.h}},ir=(Rt,Ht)=>{if(!Rt)return!1;const Sn=K(Rt)?Rt:[Rt];return Re(Sn,mn=>xc(mt.fromDom(mn),Ht))},Zr=(Rt,Ht,Sn,mn)=>{const So=[];let Gr=Ge(Rt);mn=mn===void 0;const wa=Sn||(an().nodeName!=="BODY"?an().parentNode:null);if(P(Ht))if(Ht==="*")Ht=no;else{const Ca=Ht;Ht=xu=>ir(xu,Ca)}for(;Gr&&!(Gr===wa||ae(Gr.nodeType)||wp(Gr)||Jv(Gr));){if(!Ht||Ht(Gr))if(mn)So.push(Gr);else return[Gr];Gr=Gr.parentNode}return mn?So:null},vs=(Rt,Ht,Sn)=>{const mn=Zr(Rt,Ht,Sn,!1);return mn&&mn.length>0?mn[0]:null},Gs=(Rt,Ht,Sn)=>{let mn=Ht;if(Rt){P(Ht)&&(mn=So=>ir(So,Ht));for(let So=Rt[Sn];So;So=So[Sn])if(G(mn)&&mn(So))return So}return null},xl=(Rt,Ht)=>Gs(Rt,Ht,"nextSibling"),On=(Rt,Ht)=>Gs(Rt,Ht,"previousSibling"),dr=Rt=>G(Rt.querySelectorAll),Nr=(Rt,Ht)=>{var Sn,mn;const So=(mn=(Sn=Ge(Ht))!==null&&Sn!==void 0?Sn:r.root_element)!==null&&mn!==void 0?mn:t;return dr(So)?_o(So.querySelectorAll(Rt)):[]},Yo=function(Rt,Ht,Sn){const mn=Sn!=null?Sn:this;if(K(Rt)){const So=[];return _d(Rt,(Gr,wa)=>{const Ca=Ge(Gr);Ca&&So.push(Ht.call(mn,Ca,wa))}),So}else{const So=Ge(Rt);return So?Ht.call(mn,So):!1}},ci=(Rt,Ht)=>{Yo(Rt,Sn=>{xn(Ht,(mn,So)=>{$t(Sn,So,mn)})})},io=(Rt,Ht)=>{Yo(Rt,Sn=>{const mn=mt.fromDom(Sn);n1(mn,Ht)})},Xo=(Rt,Ht,Sn,mn,So)=>Yo(Rt,Gr=>{const wa=P(Ht)?t.createElement(Ht):Ht;return Q(Sn)&&ci(wa,Sn),mn&&(!P(mn)&&mn.nodeType?wa.appendChild(mn):P(mn)&&io(wa,mn)),So?wa:Gr.appendChild(wa)}),jo=(Rt,Ht,Sn)=>Xo(t.createElement(Rt),Rt,Ht,Sn,!0),Vn=du.decode,Pr=du.encodeAllRaw,gr=(Rt,Ht,Sn="")=>{let mn="<"+Rt;for(const So in Ht)xs(Ht,So)&&(mn+=" "+So+'="'+Pr(Ht[So])+'"');return Or(Sn)&&To(ge.getVoidElements(),Rt)?mn+" />":mn+">"+Sn+"</"+Rt+">"},Go=Rt=>{const Ht=t.createElement("div"),Sn=t.createDocumentFragment();Sn.appendChild(Ht),Rt&&(Ht.innerHTML=Rt);let mn;for(;mn=Ht.firstChild;)Sn.appendChild(mn);return Sn.removeChild(Ht),Sn},tr=(Rt,Ht)=>Yo(Rt,Sn=>{const mn=mt.fromDom(Sn);return Ht&&Oe(gi(mn),So=>{Xr(So)&&So.dom.length===0?ts(So):$r(mn,So)}),ts(mn),mn.dom}),Ps=Rt=>Yo(Rt,Ht=>{const Sn=Ht.attributes;for(let mn=Sn.length-1;mn>=0;mn--)Ht.removeAttributeNode(Sn.item(mn))}),Hs=Rt=>Te.parse(Rt),Zi=(Rt,Ht)=>Te.serialize(Rt,Ht),Na=Rt=>{if(Sv!==_s.DOM&&t===document){if(a[Rt])return;a[Rt]=!0}let Ht=t.getElementById("mceDefaultStyles");if(!Ht){Ht=t.createElement("style"),Ht.id="mceDefaultStyles",Ht.type="text/css";const Sn=t.head;Sn.firstChild?Sn.insertBefore(Ht,Sn.firstChild):Sn.appendChild(Ht)}Ht.styleSheet?Ht.styleSheet.cssText+=Rt:Ht.appendChild(t.createTextNode(Rt))},ka=Rt=>{Rt||(Rt=""),Oe(Rt.split(","),Ht=>{h[Ht]=!0,H.load(Ht).catch(be)})},Ni=(Rt,Ht,Sn)=>{Yo(Rt,mn=>{if(no(mn)){const So=mt.fromDom(mn),Gr=Ht.split(" ");Oe(Gr,wa=>{Q(Sn)?(Sn?If:lf)(So,wa):up(So,wa)})}})},Wl=(Rt,Ht)=>{Ni(Rt,Ht,!0)},Gi=(Rt,Ht)=>{Ni(Rt,Ht,!1)},Vh=(Rt,Ht)=>{const Sn=ct(Rt),mn=Ht.split(" ");return Q(Sn)&&fn(mn,So=>th(Sn,So))},dd=Rt=>{Yo(Rt,Ht=>br(mt.fromDom(Ht),"display"))},Uh=Rt=>{Yo(Rt,Ht=>Me(mt.fromDom(Ht),"display","none"))},Wh=Rt=>{const Ht=ct(Rt);return Q(Ht)&&Xs(Lo(Ht,"display"),"none")},qh=Rt=>(Rt||"mce_")+b++,Zh=Rt=>{const Ht=ct(Rt);return Q(Ht)?no(Ht.dom)?Ht.dom.outerHTML:ff(Ht):""},za=(Rt,Ht)=>{Yo(Rt,Sn=>{no(Sn)&&(Sn.outerHTML=Ht)})},hd=(Rt,Ht)=>{const Sn=Ge(Ht);return Yo(Rt,mn=>{const So=Sn==null?void 0:Sn.parentNode,Gr=Sn==null?void 0:Sn.nextSibling;return So&&(Gr?So.insertBefore(mn,Gr):So.appendChild(mn)),mn})},Gh=(Rt,Ht,Sn)=>Yo(Ht,mn=>{var So;const Gr=K(Ht)?Rt.cloneNode(!0):Rt;return Sn&&_d(u5(mn.childNodes),wa=>{Gr.appendChild(wa)}),(So=mn.parentNode)===null||So===void 0||So.replaceChild(Gr,mn),mn}),qb=(Rt,Ht)=>{if(Rt.nodeName!==Ht.toUpperCase()){const Sn=jo(Ht);return _d(Et(Rt),mn=>{$t(Sn,mn.nodeName,ht(Rt,mn.nodeName))}),Gh(Sn,Rt,!0),Sn}else return Rt},Gd=(Rt,Ht)=>{let Sn=Rt;for(;Sn;){let mn=Ht;for(;mn&&Sn!==mn;)mn=mn.parentNode;if(Sn===mn)break;Sn=Sn.parentNode}return!Sn&&Rt.ownerDocument?Rt.ownerDocument.documentElement:Sn},Xu=Rt=>{if(no(Rt)){const Ht=Rt.nodeName.toLowerCase()==="a"&&!ht(Rt,"href")&&ht(Rt,"id");if(ht(Rt,"name")||ht(Rt,"data-mce-bookmark")||Ht)return!0}return!1},ec=(Rt,Ht)=>{let Sn=0;if(Xu(Rt))return!1;const mn=Rt.firstChild;if(mn){const So=new jr(mn,Rt),Gr=ge?ge.getWhitespaceElements():{},wa=Ht||(ge?ge.getNonEmptyElements():null);let Ca=mn;do{if(no(Ca)){const xu=Ca.getAttribute("data-mce-bogus");if(xu){Ca=So.next(xu==="all");continue}const ww=Ca.nodeName.toLowerCase();if(wa&&wa[ww]){if(ww==="br"){Sn++,Ca=So.next();continue}return!1}if(Xu(Ca))return!1}if(Nu(Ca)||bn(Ca)&&!_g(Ca.data)||bn(Ca)&&Ca.parentNode&&Gr[Ca.parentNode.nodeName]&&_g(Ca.data))return!1;Ca=So.next()}while(Ca)}return Sn<=1},_f=()=>t.createRange(),$f=(Rt,Ht,Sn)=>{let mn=_f(),So,Gr;if(Rt&&Ht&&Rt.parentNode&&Ht.parentNode){const wa=Rt.parentNode;return mn.setStart(wa,y1(Rt)),mn.setEnd(Ht.parentNode,y1(Ht)),So=mn.extractContents(),mn=_f(),mn.setStart(Ht.parentNode,y1(Ht)+1),mn.setEnd(wa,y1(Rt)+1),Gr=mn.extractContents(),wa.insertBefore(i0(Sv,So),Rt),Sn?wa.insertBefore(Sn,Rt):wa.insertBefore(Ht,Rt),wa.insertBefore(i0(Sv,Gr),Rt),tr(Rt),Sn||Ht}else return},Cv=(Rt,Ht,Sn,mn)=>{if(K(Rt)){let So=Rt.length;const Gr=[];for(;So--;)Gr[So]=Cv(Rt[So],Ht,Sn,mn);return Gr}else return r.collect&&(Rt===t||Rt===u)&&Y.push([Rt,Ht,Sn,mn]),Ae.bind(Rt,Ht,Sn,mn||Sv)},TE=(Rt,Ht,Sn)=>{if(K(Rt)){let mn=Rt.length;const So=[];for(;mn--;)So[mn]=TE(Rt[mn],Ht,Sn);return So}else{if(Y.length>0&&(Rt===t||Rt===u)){let mn=Y.length;for(;mn--;){const[So,Gr,wa]=Y[mn];Rt===So&&(!Ht||Ht===Gr)&&(!Sn||Sn===wa)&&Ae.unbind(So,Gr,wa)}}return Ae.unbind(Rt,Ht,Sn)}},Dm=(Rt,Ht,Sn)=>Ae.dispatch(Rt,Ht,Sn),Jp=(Rt,Ht,Sn)=>Ae.dispatch(Rt,Ht,Sn),OE=Rt=>{if(Rt&&no(Rt)){const Ht=Rt.getAttribute("data-mce-contenteditable");return Ht&&Ht!=="inherit"?Ht:Rt.contentEditable!=="inherit"?Rt.contentEditable:null}else return null},Sv={doc:t,settings:r,win:u,files:h,stdMode:E,boxModel:R,styleSheetLoader:H,boundEvents:Y,styles:Te,schema:ge,events:Ae,isBlock:st,root:null,clone:Qt,getRoot:an,getViewPort:Bn,getRect:Ao,getSize:vo,getParent:vs,getParents:Zr,get:Ge,getNext:xl,getPrev:On,select:Nr,is:ir,add:Xo,create:jo,createHTML:gr,createFragment:Go,remove:tr,setStyle:Wt,getStyle:Nn,setStyles:Kt,removeAllAttribs:Ps,setAttrib:$t,setAttribs:ci,getAttrib:ht,getPos:un,parseStyle:Hs,serializeStyle:Zi,addStyle:Na,loadCSS:ka,addClass:Wl,removeClass:Gi,hasClass:Vh,toggleClass:Ni,show:dd,hide:Uh,isHidden:Wh,uniqueId:qh,setHTML:io,getOuterHTML:Zh,setOuterHTML:za,decode:Vn,encode:Pr,insertAfter:hd,replace:Gh,rename:qb,findCommonAncestor:Gd,run:Yo,getAttribs:Et,isEmpty:ec,createRng:_f,nodeIndex:y1,split:$f,bind:Cv,unbind:TE,fire:Jp,dispatch:Dm,getContentEditable:OE,getContentEditableParent:Rt=>{const Ht=an();let Sn=null;for(let mn=Rt;mn&&mn!==Ht&&(Sn=OE(mn),Sn===null);mn=mn.parentNode);return Sn},destroy:()=>{if(Y.length>0){let Rt=Y.length;for(;Rt--;){const[Ht,Sn,mn]=Y[Rt];Ae.unbind(Ht,Sn,mn)}}xn(h,(Rt,Ht)=>{H.unload(Ht),delete h[Ht]})},isChildOf:(Rt,Ht)=>Rt===Ht||Ht.contains(Rt),dumpRng:Rt=>"startContainer: "+Rt.startContainer.nodeName+", startOffset: "+Rt.startOffset+", endContainer: "+Rt.endContainer.nodeName+", endOffset: "+Rt.endOffset},Zb=Dy(Te,r,Fe(Sv));return Sv};_s.DOM=_s(document),_s.nodeIndex=y1;const p0=_s.DOM,Fg=0,KC=1,Rg=2,t3=3;class Kf{constructor(r={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=r}_setReferrerPolicy(r){this.settings.referrerPolicy=r}loadScript(r){return new Promise((a,u)=>{const h=p0;let b;const E=()=>{h.remove(Y),b&&(b.onerror=b.onload=b=null)},R=()=>{E(),a()},H=()=>{E(),u("Failed to load script: "+r)},Y=h.uniqueId();b=document.createElement("script"),b.id=Y,b.type="text/javascript",b.src=nn._addCacheSuffix(r),this.settings.referrerPolicy&&h.setAttrib(b,"referrerpolicy",this.settings.referrerPolicy),b.onload=R,b.onerror=H,(document.getElementsByTagName("head")[0]||document.body).appendChild(b)})}isDone(r){return this.states[r]===Rg}markDone(r){this.states[r]=Rg}add(r){const a=this;return a.queue.push(r),a.states[r]===void 0&&(a.states[r]=Fg),new Promise((h,b)=>{a.scriptLoadedCallbacks[r]||(a.scriptLoadedCallbacks[r]=[]),a.scriptLoadedCallbacks[r].push({resolve:h,reject:b})})}load(r){return this.add(r)}remove(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]}loadQueue(){const r=this.queue;return this.queue=[],this.loadScripts(r)}loadScripts(r){const a=this,u=(H,Y)=>{Jo(a.scriptLoadedCallbacks,Y).each(ge=>{Oe(ge,Te=>Te[H](Y))}),delete a.scriptLoadedCallbacks[Y]},h=H=>{const Y=xe(H,ge=>ge.status==="rejected");return Y.length>0?Promise.reject(zn(Y,({reason:ge})=>K(ge)?ge:[ge])):Promise.resolve()},b=H=>Promise.allSettled(Ve(H,Y=>a.states[Y]===Rg?(u("resolve",Y),Promise.resolve()):a.states[Y]===t3?(u("reject",Y),Promise.reject(Y)):(a.states[Y]=KC,a.loadScript(Y).then(()=>{a.states[Y]=Rg,u("resolve",Y);const ge=a.queue;return ge.length>0?(a.queue=[],b(ge).then(h)):Promise.resolve()},()=>(a.states[Y]=t3,u("reject",Y),Promise.reject(Y)))))),E=H=>(a.loading=!0,b(H).then(Y=>{a.loading=!1;const ge=a.queueLoadedCallbacks.shift();return q.from(ge).each(Be),h(Y)})),R=Vr(r);return a.loading?new Promise((H,Y)=>{a.queueLoadedCallbacks.push(()=>E(R).then(H,Y))}):E(R)}}Kf.ScriptLoader=new Kf;const ii=t=>{let r=t;return{get:()=>r,set:h=>{r=h}}},By=t=>I(t)&&To(t,"raw"),n3=t=>K(t)&&t.length>1,bh={},YC=ii("en"),f5=()=>Jo(bh,YC.get()),yf={getData:()=>pn(bh,t=>({...t})),setCode:t=>{t&&YC.set(t)},getCode:()=>YC.get(),add:(t,r)=>{let a=bh[t];a||(bh[t]=a={}),xn(r,(u,h)=>{a[h.toLowerCase()]=u})},translate:t=>{const r=f5().getOr({}),a=E=>G(E)?Object.prototype.toString.call(E):u(E)?"":""+E,u=E=>E===""||E===null||E===void 0,h=E=>{const R=a(E);return Jo(r,R.toLowerCase()).map(a).getOr(R)},b=E=>E.replace(/{context:\w+}$/,"");if(u(t))return"";if(By(t))return a(t.raw);if(n3(t)){const E=t.slice(1),R=h(t[0]).replace(/\{([0-9]+)\}/g,(H,Y)=>To(E,Y)?a(E[Y]):H);return b(R)}return b(h(t))},isRtl:()=>f5().bind(t=>Jo(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>To(bh,t)},Ba=()=>{const t=[],r={},a={},u=[],h=(Ge,ct)=>{const ht=xe(u,Et=>Et.name===Ge&&Et.state===ct);Oe(ht,Et=>Et.resolve())},b=Ge=>To(r,Ge),E=Ge=>To(a,Ge),R=Ge=>{if(a[Ge])return a[Ge].instance},H=(Ge,ct)=>{const ht=yf.getCode(),Et=","+(ct||"")+",";!ht||ct&&Et.indexOf(","+ht+",")===-1||Kf.ScriptLoader.add(r[Ge]+"/langs/"+ht+".js")},Y=(Ge,ct)=>{Ba.languageLoad!==!1&&(b(Ge)?H(Ge,ct):st(Ge,"loaded").then(()=>H(Ge,ct)))},ge=(Ge,ct)=>(t.push(ct),a[Ge]={instance:ct},h(Ge,"added"),ct),Te=Ge=>{delete r[Ge],delete a[Ge]},Ae=(Ge,ct)=>P(ct)?P(Ge)?{prefix:"",resource:ct,suffix:""}:{prefix:Ge.prefix,resource:ct,suffix:Ge.suffix}:ct,nt=(Ge,ct)=>{if(r[Ge])return Promise.resolve();let ht=P(ct)?ct:ct.prefix+ct.resource+ct.suffix;ht.indexOf("/")!==0&&ht.indexOf("://")===-1&&(ht=Ba.baseURL+"/"+ht),r[Ge]=ht.substring(0,ht.lastIndexOf("/"));const Et=()=>(h(Ge,"loaded"),Promise.resolve());return a[Ge]?Et():Kf.ScriptLoader.add(ht).then(Et)},st=(Ge,ct="added")=>ct==="added"&&E(Ge)||ct==="loaded"&&b(Ge)?Promise.resolve():new Promise(ht=>{u.push({name:Ge,state:ct,resolve:ht})});return{items:t,urls:r,lookup:a,get:R,requireLangPack:Y,add:ge,remove:Te,createUrl:Ae,load:nt,waitFor:st}};Ba.languageLoad=!0,Ba.baseURL="",Ba.PluginManager=Ba(),Ba.ThemeManager=Ba(),Ba.ModelManager=Ba();const h5=t=>{const r=ii(q.none()),a=()=>r.get().each(t);return{clear:()=>{a(),r.set(q.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:R=>{a(),r.set(q.some(R))}}},p5=t=>{const r=ii(q.none()),a=()=>r.get().each(R=>clearInterval(R));return{clear:()=>{a(),r.set(q.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:R=>{a(),r.set(q.some(setInterval(R,t)))}}},yh=()=>{const t=h5(be);return{...t,on:a=>t.get().each(a)}},Fy=(t,r)=>{let a=null;return{cancel:()=>{j(a)||(clearTimeout(a),a=null)},throttle:(...b)=>{j(a)&&(a=setTimeout(()=>{a=null,t.apply(null,b)},r))}}},XC=(t,r)=>{let a=null;const u=()=>{j(a)||(clearTimeout(a),a=null)};return{cancel:u,throttle:(...b)=>{u(),a=setTimeout(()=>{a=null,t.apply(null,b)},r)}}},wh=Fe("mce-annotation"),Ch=Fe("data-mce-annotation"),Sh=Fe("data-mce-annotation-uid"),Mg=Fe("data-mce-annotation-active"),Ig=Fe("data-mce-annotation-classes"),bi=Fe("data-mce-annotation-attrs"),o3=t=>r=>ps(r,t),Ry=(t,r)=>{const a=t.selection.getRng(),u=mt.fromDom(a.startContainer),h=mt.fromDom(t.getBody()),b=r.fold(()=>"."+wh(),H=>`[${Ch()}="${H}"]`),E=sh(u,a.startOffset).getOr(u);return ah(E,b,o3(h)).bind(H=>pl(H,`${Sh()}`).bind(Y=>pl(H,`${Ch()}`).map(ge=>{const Te=Oc(t,Y);return{uid:Y,name:ge,elements:Te}})))},g5=t=>Fr(t)&&th(t,wh()),r3=(t,r)=>$u(t,"data-mce-bogus")||Rl(t,'[data-mce-bogus="all"]',o3(r)),Oc=(t,r)=>{const a=mt.fromDom(t.getBody()),u=_t(a,`[${Sh()}="${r}"]`);return xe(u,h=>!r3(h,a))},$d=(t,r)=>{const a=mt.fromDom(t.getBody()),u=_t(a,`[${Ch()}="${r}"]`),h={};return Oe(u,b=>{if(!r3(b,a)){const E=va(b,Sh()),R=Jo(h,E).getOr([]);h[E]=R.concat([b])}}),h},m5=(t,r)=>{const a=ii({}),u=()=>({listeners:[],previous:yh()}),h=(Te,Ae)=>{b(Te,nt=>(Ae(nt),nt))},b=(Te,Ae)=>{const nt=a.get(),st=Jo(nt,Te).getOrThunk(u),Ge=Ae(st);nt[Te]=Ge,a.set(nt)},E=(Te,Ae,nt)=>{h(Te,st=>{Oe(st.listeners,Ge=>Ge(!0,Te,{uid:Ae,nodes:Ve(nt,ct=>ct.dom)}))})},R=Te=>{h(Te,Ae=>{Oe(Ae.listeners,nt=>nt(!1,Te))})},H=(Te,Ae)=>{Oe(Oc(t,Te),nt=>{Ae?Os(nt,Mg(),"true"):Ia(nt,Mg())})},Y=XC(()=>{const Te=sn(r.getNames());Oe(Te,Ae=>{b(Ae,nt=>{const st=nt.previous.get();return Ry(t,q.some(Ae)).fold(()=>{st.each(Ge=>{R(Ae),nt.previous.clear(),H(Ge,!1)})},({uid:Ge,name:ct,elements:ht})=>{Xs(st,Ge)||(st.each(Et=>H(Et,!1)),E(ct,Ge,ht),nt.previous.set(Ge),H(Ge,!0))}),{previous:nt.previous,listeners:nt.listeners}})})},30);return t.on("remove",()=>{Y.cancel()}),t.on("NodeChange",()=>{Y.throttle()}),{addListener:(Te,Ae)=>{b(Te,nt=>({previous:nt.previous,listeners:nt.listeners.concat([Ae])}))}}},s3=(t,r)=>{const a=Ch(),u=b=>q.from(b.attr(a)).bind(r.lookup),h=b=>{var E,R;b.attr(Sh(),null),b.attr(Ch(),null),b.attr(Mg(),null);const H=q.from(b.attr(bi())).map(Ae=>Ae.split(",")).getOr([]),Y=q.from(b.attr(Ig())).map(Ae=>Ae.split(",")).getOr([]);Oe(H,Ae=>b.attr(Ae,null));const ge=(R=(E=b.attr("class"))===null||E===void 0?void 0:E.split(" "))!==null&&R!==void 0?R:[],Te=ft(ge,[wh()].concat(Y));b.attr("class",Te.length>0?Te.join(" "):null),b.attr(Ig(),null),b.attr(bi(),null)};t.serializer.addTempAttr(Mg()),t.serializer.addAttributeFilter(a,b=>{for(const E of b)u(E).each(R=>{R.persistent===!1&&(E.name==="span"?E.unwrap():h(E))})})},v5=()=>{const t={};return{register:(h,b)=>{t[h]={name:h,settings:b}},lookup:h=>Jo(t,h).map(b=>b.settings),getNames:()=>wt(t)}};let a3=0;const My=t=>{const a=new Date().getTime(),u=Math.floor(Math.random()*1e9);return a3++,t+"_"+u+a3+String(a)},i3=(t,r)=>{Oe(r,a=>{If(t,a)})},b5=(t,r)=>{Oe(r,a=>{lf(t,a)})},w1=(t,r)=>mt.fromDom(t.dom.cloneNode(r)),Lg=t=>w1(t,!1),JC=t=>w1(t,!0),l3=(t,r)=>{const a=mt.fromTag(r),u=Rf(t);return Jr(a,u),a},nl=(t,r)=>{const a=l3(t,r);ea(t,a);const u=gi(t);return er(a,u),ts(t),a},m0=(t,r,a=Ce)=>{const u=new jr(t,r),h=b=>{let E;do E=u[b]();while(E&&!bn(E)&&!a(E));return q.from(E).filter(bn)};return{current:()=>q.from(u.current()).filter(bn),next:()=>h("next"),prev:()=>h("prev"),prev2:()=>h("prev2")}},ua=(t,r)=>{const a=r||(E=>t.isBlock(E)||$a(E)||xa(E)),u=(E,R,H,Y)=>{if(bn(E)){const ge=Y(E,R,E.data);if(ge!==-1)return q.some({container:E,offset:ge})}return H().bind(ge=>u(ge.container,ge.offset,H,Y))};return{backwards:(E,R,H,Y)=>{const ge=m0(E,Y!=null?Y:t.getRoot(),a);return u(E,R,()=>ge.prev().map(Te=>({container:Te,offset:Te.length})),H).getOrNull()},forwards:(E,R,H,Y)=>{const ge=m0(E,Y!=null?Y:t.getRoot(),a);return u(E,R,()=>ge.next().map(Te=>({container:Te,offset:0})),H).getOrNull()}}},vl=Math.round,pu=t=>t?{left:vl(t.left),top:vl(t.top),bottom:vl(t.bottom),right:vl(t.right),width:vl(t.width),height:vl(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},gu=(t,r)=>(t=pu(t),r||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),y5=(t,r)=>t.left===r.left&&t.top===r.top&&t.bottom===r.bottom&&t.right===r.right,c3=(t,r,a)=>t>=0&&t<=Math.min(r.height,a.height)/2,v0=(t,r)=>{const a=Math.min(r.height/2,t.height/2);return t.bottom-a<r.top?!0:t.top>r.bottom?!1:c3(r.top-t.bottom,t,r)},Zl=(t,r)=>t.top>r.bottom?!0:t.bottom<r.top?!1:c3(r.bottom-t.top,t,r),Hg=(t,r,a)=>r>=t.left&&r<=t.right&&a>=t.top&&a<=t.bottom,w5=t=>Xe(t,(r,a)=>r.fold(()=>q.some(a),u=>{const h=Math.min(a.left,u.left),b=Math.min(a.top,u.top),E=Math.max(a.right,u.right),R=Math.max(a.bottom,u.bottom);return q.some({top:b,right:E,bottom:R,left:h,width:E-h,height:R-b})}),q.none()),QC=(t,r,a)=>{const u=Math.max(Math.min(r,t.left+t.width),t.left),h=Math.max(Math.min(a,t.top+t.height),t.top);return Math.sqrt((r-u)*(r-u)+(a-h)*(a-h))},eS=(t,r)=>Math.max(0,Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top)),u3=(t,r,a)=>Math.min(Math.max(t,r),a),b0=t=>{const r=t.startContainer,a=t.startOffset;return r===t.endContainer&&r.hasChildNodes()&&t.endOffset===a+1?r.childNodes[a]:null},xh=(t,r)=>{if(no(t)&&t.hasChildNodes()){const a=t.childNodes,u=u3(r,0,a.length-1);return a[u]}else return t},f3=(t,r)=>{if(!(r<0&&no(t)&&t.hasChildNodes()))return xh(t,r)},d3=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),h3=t=>P(t)&&t.charCodeAt(0)>=768&&d3.test(t),p3=(...t)=>r=>{for(let a=0;a<t.length;a++)if(t[a](r))return!0;return!1},C5=(...t)=>r=>{for(let a=0;a<t.length;a++)if(!t[a](r))return!1;return!0},g3=no,S5=ya,m3=Ec("display","block table"),v3=Ec("float","left right"),y0=C5(g3,S5,le(v3)),x5=le(Ec("white-space","pre pre-line pre-wrap")),C1=bn,tS=$a,b3=_s.nodeIndex,Xa=f3,S1=t=>t?t.createRange():_s.DOM.createRng(),Iy=t=>P(t)&&/[\r\n\t ]/.test(t),y3=t=>!!t.setStart&&!!t.setEnd,x1=t=>{const r=t.startContainer,a=t.startOffset;if(Iy(t.toString())&&x5(r.parentNode)&&bn(r)){const u=r.data;if(Iy(u[a-1])||Iy(u[a+1]))return!0}return!1},ic=t=>{const r=t.ownerDocument,a=S1(r),u=r.createTextNode(Ga),h=t.parentNode;h.insertBefore(u,t),a.setStart(u,0),a.setEnd(u,1);const b=pu(a.getBoundingClientRect());return h.removeChild(u),b},Iu=t=>{const r=t.startContainer,a=t.endContainer,u=t.startOffset,h=t.endOffset;if(r===a&&bn(a)&&u===0&&h===1){const b=t.cloneRange();return b.setEndAfter(a),Yc(b)}else return null},w3=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,Yc=t=>{var r;let a;const u=t.getClientRects();return u.length>0?a=pu(u[0]):a=pu(t.getBoundingClientRect()),!y3(t)&&tS(t)&&w3(a)?ic(t):w3(a)&&y3(t)&&(r=Iu(t))!==null&&r!==void 0?r:a},jg=(t,r)=>{const a=gu(t,r);return a.width=1,a.right=a.left+1,a},E1=t=>{const r=[],a=E=>{E.height!==0&&(r.length>0&&y5(E,r[r.length-1])||r.push(E))},u=(E,R)=>{const H=S1(E.ownerDocument);if(R<E.data.length){if(h3(E.data[R]))return;if(h3(E.data[R-1])&&(H.setStart(E,R),H.setEnd(E,R+1),!x1(H))){a(jg(Yc(H),!1));return}}R>0&&(H.setStart(E,R-1),H.setEnd(E,R),x1(H)||a(jg(Yc(H),!1))),R<E.data.length&&(H.setStart(E,R),H.setEnd(E,R+1),x1(H)||a(jg(Yc(H),!0)))},h=t.container(),b=t.offset();if(C1(h))return u(h,b),r;if(g3(h))if(t.isAtEnd()){const E=Xa(h,b);C1(E)&&u(E,E.data.length),y0(E)&&!tS(E)&&a(jg(Yc(E),!1))}else{const E=Xa(h,b);if(C1(E)&&u(E,0),y0(E)&&t.isAtEnd())return a(jg(Yc(E),!1)),r;const R=Xa(t.container(),t.offset()-1);y0(R)&&!tS(R)&&(m3(R)||m3(E)||!y0(E))&&a(jg(Yc(R),!1)),y0(E)&&a(jg(Yc(E),!0))}return r},Yt=(t,r,a)=>{const u=()=>(C1(t),r===0),h=()=>C1(t)?r>=t.data.length:r>=t.childNodes.length,b=()=>{const ge=S1(t.ownerDocument);return ge.setStart(t,r),ge.setEnd(t,r),ge},E=()=>(a||(a=E1(Yt(t,r))),a),R=()=>E().length>0,H=ge=>ge&&t===ge.container()&&r===ge.offset(),Y=ge=>Xa(t,ge?r-1:r);return{container:Fe(t),offset:Fe(r),toRange:b,getClientRects:E,isVisible:R,isAtStart:u,isAtEnd:h,isEqual:H,getNode:Y}};Yt.fromRangeStart=t=>Yt(t.startContainer,t.startOffset),Yt.fromRangeEnd=t=>Yt(t.endContainer,t.endOffset),Yt.after=t=>Yt(t.parentNode,b3(t)+1),Yt.before=t=>Yt(t.parentNode,b3(t)),Yt.isAbove=(t,r)=>Js(Pn(r.getClientRects()),$n(t.getClientRects()),v0).getOr(!1),Yt.isBelow=(t,r)=>Js($n(r.getClientRects()),Pn(t.getClientRects()),Zl).getOr(!1),Yt.isAtStart=t=>t?t.isAtStart():!1,Yt.isAtEnd=t=>t?t.isAtEnd():!1,Yt.isTextPosition=t=>t?bn(t.container()):!1,Yt.isElementPosition=t=>!Yt.isTextPosition(t);const w0=(t,r)=>{bn(r)&&r.data.length===0&&t.remove(r)},C0=(t,r,a)=>{r.insertNode(a),w0(t,a.previousSibling),w0(t,a.nextSibling)},E5=(t,r,a)=>{const u=q.from(a.firstChild),h=q.from(a.lastChild);r.insertNode(a),u.each(b=>w0(t,b.previousSibling)),h.each(b=>w0(t,b.nextSibling))},$i=(t,r,a)=>{Jv(a)?E5(t,r,a):C0(t,r,a)},ol=bn,k1=Bu,C3=_s.nodeIndex,nS=t=>{const r=t.parentNode;return k1(r)?nS(r):r},S0=t=>t?Pt(t.childNodes,(r,a)=>(k1(a)&&a.nodeName!=="BR"?r=r.concat(S0(a)):r.push(a),r),[]):[],Op=(t,r)=>{let a=t;for(;(a=a.previousSibling)&&ol(a);)r+=a.data.length;return r},oS=t=>r=>t===r,A1=t=>{let r,a;r=S0(nS(t)),a=Zt(r,oS(t),t),r=r.slice(0,a+1);const u=Pt(r,(h,b,E)=>(ol(b)&&ol(r[E-1])&&h++,h),0);return r=dt(r,oc([t.nodeName])),a=Zt(r,oS(t),t),a-u},Ly=t=>(ol(t)?"text()":t.nodeName.toLowerCase())+"["+A1(t)+"]",T1=(t,r,a)=>{const u=[];for(let h=r.parentNode;h&&h!==t&&!(a&&a(h));h=h.parentNode)u.push(h);return u},rS=(t,r)=>{let a=[],u=r.container(),h=r.offset(),b;if(ol(u))b=Op(u,h);else{const R=u.childNodes;h>=R.length?(b="after",h=R.length-1):b="before",u=R[h]}a.push(Ly(u));let E=T1(t,u);return E=dt(E,le(Bu)),a=a.concat(Ta(E,R=>Ly(R))),a.reverse().join("/")+","+b},S3=(t,r,a)=>{let u=S0(t);return u=dt(u,(h,b)=>!ol(h)||!ol(u[b-1])),u=dt(u,oc([r])),u[a]},x3=(t,r)=>{let a=t,u=0;for(;ol(a);){const h=a.data.length;if(r>=u&&r<=u+h){t=a,r=r-u;break}if(!ol(a.nextSibling)){t=a,r=h;break}u+=h,a=a.nextSibling}return ol(t)&&r>t.data.length&&(r=t.data.length),Yt(t,r)},E3=(t,r)=>{if(!r)return null;const a=r.split(","),u=a[0].split("/"),h=a.length>1?a[1]:"before",b=Pt(u,(E,R)=>{const H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(R);return H?(H[1]==="text()"&&(H[1]="#text"),S3(E,H[1],parseInt(H[2],10))):null},t);if(!b)return null;if(!ol(b)&&b.parentNode){let E;return h==="after"?E=C3(b)+1:E=C3(b),Yt(b.parentNode,E)}return x3(b,parseInt(h,10))},O1=xa,k5=(t,r,a)=>{let u=t(r.data.slice(0,a)).length;for(let h=r.previousSibling;h&&bn(h);h=h.previousSibling)u+=t(h.data).length;return u},Hy=(t,r,a,u,h)=>{const b=h?u.startContainer:u.endContainer;let E=h?u.startOffset:u.endOffset;const R=[],H=t.getRoot();if(bn(b))R.push(a?k5(r,b,E):E);else{let Y=0;const ge=b.childNodes;E>=ge.length&&ge.length&&(Y=1,E=Math.max(0,ge.length-1)),R.push(t.nodeIndex(ge[E],a)+Y)}for(let Y=b;Y&&Y!==H;Y=Y.parentNode)R.push(t.nodeIndex(Y,a));return R},k3=(t,r,a,u)=>{const h=r.dom,b=Hy(h,t,a,u,!0),E=r.isForward(),R=dh(u)?{isFakeCaret:!0}:{};if(r.isCollapsed())return{start:b,forward:E,...R};{const H=Hy(h,t,a,u,!1);return{start:b,end:H,forward:E,...R}}},lc=(t,r,a)=>{let u=0;return nn.each(t.select(r),h=>{if(h.getAttribute("data-mce-bogus")!=="all"){if(h===a)return!1;u++;return}}),u},A3=(t,r)=>{let a=r?t.startContainer:t.endContainer,u=r?t.startOffset:t.endOffset;if(no(a)&&a.nodeName==="TR"){const h=a.childNodes;a=h[Math.min(r?u:u-1,h.length-1)],a&&(u=r?0:a.childNodes.length,r?t.setStart(a,u):t.setEnd(a,u))}},T3=t=>(A3(t,!0),A3(t,!1),t),x0=(t,r)=>{if(no(t)&&(t=xh(t,r),O1(t)))return t;if(ns(t)){bn(t)&&Zo(t)&&(t=t.parentNode);let a=t.previousSibling;if(O1(a)||(a=t.nextSibling,O1(a)))return a}},zg=t=>x0(t.startContainer,t.startOffset)||x0(t.endContainer,t.endOffset),Vg=(t,r,a)=>{const u=a.getNode(),h=a.getRng();if(u.nodeName==="IMG"||O1(u)){const E=u.nodeName;return{name:E,index:lc(a.dom,E,u)}}const b=zg(h);if(b){const E=b.tagName;return{name:E,index:lc(a.dom,E,b)}}return k3(t,a,r,h)},qr=t=>{const r=t.getRng();return{start:rS(t.dom.getRoot(),Yt.fromRangeStart(r)),end:rS(t.dom.getRoot(),Yt.fromRangeEnd(r)),forward:t.isForward()}},Xc=t=>({rng:t.getRng(),forward:t.isForward()}),_p=(t,r,a)=>{const u={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?t.create("span",u,"&#xFEFF;"):t.create("span",u)},jy=(t,r)=>{const a=t.dom;let u=t.getRng();const h=a.uniqueId(),b=t.isCollapsed(),E=t.getNode(),R=E.nodeName,H=t.isForward();if(R==="IMG")return{name:R,index:lc(a,R,E)};const Y=T3(u.cloneRange());if(!b){Y.collapse(!1);const Te=_p(a,h+"_end",r);$i(a,Y,Te)}u=T3(u),u.collapse(!0);const ge=_p(a,h+"_start",r);return $i(a,u,ge),t.moveToBookmark({id:h,keep:!0,forward:H}),{id:h,forward:H}},Qs=(t,r,a=!1)=>r===2?Vg(It,a,t):r===3?qr(t):r?Xc(t):jy(t,!1),E0=re(Vg,De,!0),_1=t=>{const r=b=>b(t),a=Fe(t),u=()=>h,h={tag:!0,inner:t,fold:(b,E)=>E(t),isValue:me,isError:Ce,map:b=>fa.value(b(t)),mapError:u,bind:r,exists:r,forall:r,getOr:a,or:u,getOrThunk:a,orThunk:u,getOrDie:a,each:b=>{b(t)},toOptional:()=>q.some(t)};return h},rl=t=>{const r=()=>a,a={tag:!1,inner:t,fold:(u,h)=>u(t),isValue:Ce,isError:me,map:r,mapError:u=>fa.error(u(t)),bind:r,exists:Ce,forall:me,getOr:De,or:De,getOrThunk:ce,orThunk:ce,getOrDie:fe(String(t)),each:be,toOptional:q.none};return a},fa={value:_1,error:rl,fromOption:(t,r)=>t.fold(()=>rl(r),_1)},Dd={generate:t=>{if(!K(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],a={};return Oe(t,(u,h)=>{const b=wt(u);if(b.length!==1)throw new Error("one and only one name per case");const E=b[0],R=u[E];if(a[E]!==void 0)throw new Error("duplicate key detected:"+E);if(E==="cata")throw new Error("cannot have a case named cata (sorry)");if(!K(R))throw new Error("case arguments must be an array");r.push(E),a[E]=(...H)=>{const Y=H.length;if(Y!==R.length)throw new Error("Wrong number of arguments to case "+E+". Expected "+R.length+" ("+R+"), got "+Y);return{fold:(...Te)=>{if(Te.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+Te.length);return Te[h].apply(null,H)},match:Te=>{const Ae=wt(Te);if(r.length!==Ae.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Ae.join(","));if(!fn(r,st=>He(Ae,st)))throw new Error("Not all branches were specified when using match. Specified: "+Ae.join(", ")+`
Required: `+r.join(", "));return Te[E].apply(null,H)},log:Te=>{console.log(Te,{constructors:r,constructor:E,params:H})}}}}),a}};Dd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const zy=t=>{const r=[],a=[];return Oe(t,u=>{u.fold(h=>{r.push(h)},h=>{a.push(h)})}),{errors:r,values:a}},aS=t=>t.type==="inline-command"||t.type==="inline-format",iS=t=>t.type==="block-command"||t.type==="block-format",lS=t=>{const r=u=>fa.error({message:u,pattern:t}),a=(u,h,b)=>{if(t.format!==void 0){let E;if(K(t.format)){if(!fn(t.format,P))return r(u+" pattern has non-string items in the `format` array");E=t.format}else if(P(t.format))E=[t.format];else return r(u+" pattern has non-string `format` parameter");return fa.value(h(E))}else return t.cmd!==void 0?P(t.cmd)?fa.value(b(t.cmd,t.value)):r(u+" pattern has non-string `cmd` parameter"):r(u+" pattern is missing both `format` and `cmd` parameters")};if(!I(t))return r("Raw pattern is not an object");if(!P(t.start))return r("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!P(t.end))return r("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return r("Inline pattern has empty `start` and `end` parameters");let u=t.start,h=t.end;return h.length===0&&(h=u,u=""),a("Inline",b=>({type:"inline-format",start:u,end:h,format:b}),(b,E)=>({type:"inline-command",start:u,end:h,cmd:b,value:E}))}else return t.replacement!==void 0?P(t.replacement)?t.start.length===0?r("Replacement pattern has empty `start` parameter"):fa.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):r("Replacement pattern has non-string `replacement` parameter"):t.start.length===0?r("Block pattern has empty `start` parameter"):a("Block",u=>({type:"block-format",start:t.start,format:u[0]}),(u,h)=>({type:"block-command",start:t.start,cmd:u,value:h}))},cS=t=>xe(t,iS),uS=t=>xe(t,aS),O3=(t,r)=>({inlinePatterns:uS(t),blockPatterns:cS(t),dynamicPatternsLookup:r}),k0=t=>{const r=zy(Ve(t,lS));return Oe(r.errors,a=>console.error(a.message,a.pattern)),r.values},$1=t=>r=>{const a=t(r);return k0(a)},Jc=Ls().deviceType,A5=Jc.isTouch(),bl=_s.DOM,T5=t=>{const r=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return Xe(r,(a,u)=>{const h=u.split("="),b=h[0],E=h.length>1?h[1]:b;return a[Qo(b)]=Qo(E),a},{})},Eh=t=>O(t,RegExp),ao=t=>r=>r.options.get(t),Vy=t=>P(t)||I(t),D1=(t,r="")=>a=>{const u=P(a);if(u)if(a.indexOf("=")!==-1){const h=T5(a);return{value:Jo(h,t.id).getOr(r),valid:u}}else return{value:a,valid:u};else return{valid:!1,message:"Must be a string."}},fS=t=>{const r=t.options.register;r("id",{processor:"string",default:t.id}),r("selector",{processor:"string"}),r("target",{processor:"object"}),r("suffix",{processor:"string"}),r("cache_suffix",{processor:"string"}),r("base_url",{processor:"string"}),r("referrer_policy",{processor:"string",default:""}),r("language_load",{processor:"boolean",default:!0}),r("inline",{processor:"boolean",default:!1}),r("iframe_attrs",{processor:"object",default:{}}),r("doctype",{processor:"string",default:"<!DOCTYPE html>"}),r("document_base_url",{processor:"string",default:t.documentBaseUrl}),r("body_id",{processor:D1(t,"tinymce"),default:"tinymce"}),r("body_class",{processor:D1(t),default:""}),r("content_security_policy",{processor:"string",default:""}),r("br_in_pre",{processor:"boolean",default:!0}),r("forced_root_block",{processor:a=>{const u=P(a)&&Tr(a);return u?{value:a,valid:u}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),r("forced_root_block_attrs",{processor:"object",default:{}}),r("newline_behavior",{processor:a=>{const u=He(["block","linebreak","invert","default"],a);return u?{value:a,valid:u}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),r("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),r("no_newline_selector",{processor:"string",default:""}),r("keep_styles",{processor:"boolean",default:!0}),r("end_container_on_empty_block",{processor:a=>oe(a)?{valid:!0,value:a}:P(a)?{valid:!0,value:a}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),r("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),r("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),r("font_size_classes",{processor:"string",default:""}),r("automatic_uploads",{processor:"boolean",default:!0}),r("images_reuse_filename",{processor:"boolean",default:!1}),r("images_replace_blob_uris",{processor:"boolean",default:!0}),r("icons",{processor:"string",default:""}),r("icons_url",{processor:"string",default:""}),r("images_upload_url",{processor:"string",default:""}),r("images_upload_base_path",{processor:"string",default:""}),r("images_upload_credentials",{processor:"boolean",default:!1}),r("images_upload_handler",{processor:"function"}),r("language",{processor:"string",default:"en"}),r("language_url",{processor:"string",default:""}),r("entity_encoding",{processor:"string",default:"named"}),r("indent",{processor:"boolean",default:!0}),r("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_use_margin",{processor:"boolean",default:!1}),r("indentation",{processor:"string",default:"40px"}),r("content_css",{processor:a=>{const u=a===!1||P(a)||pe(a,P);return u?P(a)?{value:Ve(a.split(","),Qo),valid:u}:K(a)?{value:a,valid:u}:a===!1?{value:[],valid:u}:{value:a,valid:u}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ah(t)?[]:["default"]}),r("content_style",{processor:"string"}),r("content_css_cors",{processor:"boolean",default:!1}),r("font_css",{processor:a=>{const u=P(a)||pe(a,P);return u?{value:K(a)?a:Ve(a.split(","),Qo),valid:u}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),r("inline_boundaries",{processor:"boolean",default:!0}),r("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),r("object_resizing",{processor:a=>{const u=oe(a)||P(a);return u?a===!1||Jc.isiPhone()||Jc.isiPad()?{value:"",valid:u}:{value:a===!0?"table,img,figure.image,div,video,iframe":a,valid:u}:{valid:!1,message:"Must be boolean or a string"}},default:!A5}),r("resize_img_proportional",{processor:"boolean",default:!0}),r("event_root",{processor:"object"}),r("service_message",{processor:"string"}),r("theme",{processor:a=>a===!1||P(a)||G(a),default:"silver"}),r("theme_url",{processor:"string"}),r("formats",{processor:"object"}),r("format_empty_lines",{processor:"boolean",default:!1}),r("format_noneditable_selector",{processor:"string",default:""}),r("preview_styles",{processor:a=>{const u=a===!1||P(a);return u?{value:a===!1?"":a,valid:u}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),r("custom_ui_selector",{processor:"string",default:""}),r("hidden_input",{processor:"boolean",default:!0}),r("submit_patch",{processor:"boolean",default:!0}),r("encoding",{processor:"string"}),r("add_form_submit_trigger",{processor:"boolean",default:!0}),r("add_unload_trigger",{processor:"boolean",default:!0}),r("custom_undo_redo_levels",{processor:"number",default:0}),r("disable_nodechange",{processor:"boolean",default:!1}),r("readonly",{processor:"boolean",default:!1}),r("plugins",{processor:"string[]",default:[]}),r("external_plugins",{processor:"object"}),r("forced_plugins",{processor:"string[]"}),r("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),r("model_url",{processor:"string"}),r("block_unsupported_drop",{processor:"boolean",default:!0}),r("visual",{processor:"boolean",default:!0}),r("visual_table_class",{processor:"string",default:"mce-item-table"}),r("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),r("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),r("setup",{processor:"function"}),r("init_instance_callback",{processor:"function"}),r("url_converter",{processor:"function",default:t.convertURL}),r("url_converter_scope",{processor:"object",default:t}),r("urlconverter_callback",{processor:"function"}),r("allow_conditional_comments",{processor:"boolean",default:!1}),r("allow_html_data_urls",{processor:"boolean",default:!1}),r("allow_svg_data_urls",{processor:"boolean"}),r("allow_html_in_named_anchor",{processor:"boolean",default:!1}),r("allow_script_urls",{processor:"boolean",default:!1}),r("allow_unsafe_link_target",{processor:"boolean",default:!1}),r("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),r("fix_list_elements",{processor:"boolean",default:!1}),r("preserve_cdata",{processor:"boolean",default:!1}),r("remove_trailing_brs",{processor:"boolean"}),r("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),r("element_format",{processor:"string",default:"html"}),r("entities",{processor:"string"}),r("schema",{processor:"string",default:"html5"}),r("convert_urls",{processor:"boolean",default:!0}),r("relative_urls",{processor:"boolean",default:!0}),r("remove_script_host",{processor:"boolean",default:!0}),r("custom_elements",{processor:"string"}),r("extended_valid_elements",{processor:"string"}),r("invalid_elements",{processor:"string"}),r("invalid_styles",{processor:Vy}),r("valid_children",{processor:"string"}),r("valid_classes",{processor:Vy}),r("valid_elements",{processor:"string"}),r("valid_styles",{processor:Vy}),r("verify_html",{processor:"boolean",default:!0}),r("auto_focus",{processor:a=>P(a)||a===!0}),r("browser_spellcheck",{processor:"boolean",default:!1}),r("protect",{processor:"array"}),r("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),r("deprecation_warnings",{processor:"boolean",default:!0}),r("a11y_advanced_options",{processor:"boolean",default:!1}),r("api_key",{processor:"string"}),r("paste_block_drop",{processor:"boolean",default:!1}),r("paste_data_images",{processor:"boolean",default:!0}),r("paste_preprocess",{processor:"function"}),r("paste_postprocess",{processor:"function"}),r("paste_webkit_styles",{processor:"string",default:"none"}),r("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),r("paste_merge_formats",{processor:"boolean",default:!0}),r("smart_paste",{processor:"boolean",default:!0}),r("paste_as_text",{processor:"boolean",default:!1}),r("paste_tab_spaces",{processor:"number",default:4}),r("text_patterns",{processor:a=>pe(a,I)||a===!1?{value:k0(a===!1?[]:a),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),r("text_patterns_lookup",{processor:a=>G(a)?{value:$1(a),valid:!0}:{valid:!1,message:"Must be a single function"},default:a=>[]}),r("noneditable_class",{processor:"string",default:"mceNonEditable"}),r("editable_class",{processor:"string",default:"mceEditable"}),r("noneditable_regexp",{processor:a=>pe(a,Eh)?{value:a,valid:!0}:Eh(a)?{value:[a],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),r("table_tab_navigation",{processor:"boolean",default:!0}),t.on("ScriptsLoaded",()=>{r("directionality",{processor:"string",default:yf.isRtl()?"rtl":void 0}),r("placeholder",{processor:"string",default:bl.getAttrib(t.getElement(),"placeholder")})})},dS=ao("iframe_attrs"),_3=ao("doctype"),$3=ao("document_base_url"),O5=ao("body_id"),Il=ao("body_class"),yl=ao("content_security_policy"),Gl=ao("br_in_pre"),da=ao("forced_root_block"),Ll=ao("forced_root_block_attrs"),sl=ao("newline_behavior"),Uy=ao("br_newline_selector"),Wy=ao("no_newline_selector"),D3=ao("keep_styles"),hS=ao("end_container_on_empty_block"),A0=ao("automatic_uploads"),B1=ao("images_reuse_filename"),pS=ao("images_replace_blob_uris"),qy=ao("icons"),_5=ao("icons_url"),bF=ao("images_upload_url"),$5=ao("images_upload_base_path"),D5=ao("images_upload_credentials"),B5=ao("images_upload_handler"),gS=ao("content_css_cors"),mS=ao("referrer_policy"),B3=ao("language"),N5=ao("language_url"),N3=ao("indent_use_margin"),P3=ao("indentation"),Mn=ao("content_css"),P5=ao("content_style"),Vi=ao("font_css"),F5=ao("directionality"),F3=ao("inline_boundaries_selector"),R3=ao("object_resizing"),wf=ao("resize_img_proportional"),yF=ao("placeholder"),M3=ao("event_root"),kh=ao("service_message"),Wg=ao("theme"),vS=ao("theme_url"),cc=ao("model"),Xf=ao("model_url"),qg=ao("inline_boundaries"),Jf=ao("formats"),R5=ao("preview_styles"),T0=ao("format_empty_lines"),Di=ao("format_noneditable_selector"),I3=ao("custom_ui_selector"),Ah=ao("inline"),Zy=ao("hidden_input"),L3=ao("submit_patch"),H3=ao("add_form_submit_trigger"),M5=ao("add_unload_trigger"),I5=ao("custom_undo_redo_levels"),j3=ao("disable_nodechange"),z3=ao("readonly"),V3=ao("content_css_cors"),$p=ao("plugins"),U3=ao("external_plugins"),bS=ao("block_unsupported_drop"),yS=ao("visual"),Zg=ao("visual_table_class"),Gg=ao("visual_anchor_class"),O0=ao("iframe_aria_text"),L5=ao("setup"),W3=ao("init_instance_callback"),H5=ao("urlconverter_callback"),wS=ao("auto_focus"),j5=ao("browser_spellcheck"),Kg=ao("protect"),Ea=ao("paste_block_drop"),N1=ao("paste_data_images"),Kl=ao("paste_preprocess"),q3=ao("paste_postprocess"),Z3=ao("paste_webkit_styles"),G3=ao("paste_remove_styles_if_webkit"),Gy=ao("paste_merge_formats"),_0=ao("smart_paste"),K3=ao("paste_as_text"),wF=ao("paste_tab_spaces"),Yg=ao("allow_html_data_urls"),z5=ao("text_patterns"),V5=ao("text_patterns_lookup"),Y3=ao("noneditable_class"),U5=ao("editable_class"),X3=ao("noneditable_regexp"),CS=ao("preserve_cdata"),W5=t=>t.options.isSet("text_patterns_lookup"),q5=t=>nn.explode(t.options.get("font_size_style_values")),Z5=t=>nn.explode(t.options.get("font_size_classes")),G5=t=>t.options.get("encoding")==="xml",SS=t=>nn.explode(t.options.get("images_file_types")),K5=ao("table_tab_navigation"),$0=no,Ky=bn,xS=t=>{const r=t.parentNode;r&&r.removeChild(t)},ES=t=>{const r=It(t);return{count:t.length-r.length,text:r}},kS=t=>{let r;for(;(r=t.data.lastIndexOf($e))!==-1;)t.deleteData(r,1)},Dp=(t,r)=>(Oh(t),r),Xg=(t,r)=>{const a=ES(t.data.substr(0,r.offset())),u=ES(t.data.substr(r.offset()));return(a.text+u.text).length>0?(kS(t),Yt(t,r.offset()-a.count)):r},Bp=(t,r)=>{const a=r.container(),u=at(_o(a.childNodes),t).map(h=>h<r.offset()?Yt(a,r.offset()-1):r).getOr(r);return Oh(t),u},D0=(t,r)=>Ky(t)&&r.container()===t?Xg(t,r):Dp(t,r),J3=(t,r)=>r.container()===t.parentNode?Bp(t,r):Dp(t,r),Th=(t,r)=>Yt.isTextPosition(r)?D0(t,r):J3(t,r),Oh=t=>{$0(t)&&ns(t)&&(us(t)?t.removeAttribute("data-mce-caret"):xS(t)),Ky(t)&&(kS(t),t.data.length===0&&xS(t))},Y5=xa,Np=ai,Yy=rc,X5="*[contentEditable=false],video,audio,embed,object",AS=(t,r,a)=>{const u=gu(r.getBoundingClientRect(),a);let h,b;if(t.tagName==="BODY"){const R=t.ownerDocument.documentElement;h=t.scrollLeft||R.scrollLeft,b=t.scrollTop||R.scrollTop}else{const R=t.getBoundingClientRect();h=t.scrollLeft-R.left,b=t.scrollTop-R.top}u.left+=h,u.right+=h,u.top+=b,u.bottom+=b,u.width=1;let E=r.offsetWidth-r.clientWidth;return E>0&&(a&&(E*=-1),u.left+=E,u.right+=E),u},J5=t=>{var r,a;const u=_t(mt.fromDom(t),X5);for(let h=0;h<u.length;h++){const b=u[h].dom;let E=b.previousSibling;if(fh(E)){const R=E.data;R.length===1?(r=E.parentNode)===null||r===void 0||r.removeChild(E):E.deleteData(R.length-1,1)}E=b.nextSibling,Ru(E)&&(E.data.length===1?(a=E.parentNode)===null||a===void 0||a.removeChild(E):E.deleteData(0,1))}},Q5=(t,r,a,u)=>{const h=yh();let b,E;const R=da(t),H=t.dom,Y=(Ge,ct)=>{let ht;if(ge(),Yy(ct))return null;if(a(ct)){const Et=Wf(R,ct,Ge),$t=AS(r,ct,Ge);H.setStyle(Et,"top",$t.top),E=Et;const Qt=H.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});H.setStyles(Qt,{...$t}),H.add(r,Qt),h.set({caret:Qt,element:ct,before:Ge}),Ge&&H.addClass(Qt,"mce-visual-caret-before"),Te(),ht=ct.ownerDocument.createRange(),ht.setStart(Et,0),ht.setEnd(Et,0)}else return E=Ns(ct,Ge),ht=ct.ownerDocument.createRange(),B0(E.nextSibling)?(ht.setStart(E,0),ht.setEnd(E,0)):(ht.setStart(E,1),ht.setEnd(E,1)),ht;return ht},ge=()=>{J5(r),E&&(Oh(E),E=null),h.on(Ge=>{H.remove(Ge.caret),h.clear()}),b&&(clearInterval(b),b=void 0)},Te=()=>{b=setInterval(()=>{h.on(Ge=>{u()?H.toggleClass(Ge.caret,"mce-visual-caret-hidden"):H.addClass(Ge.caret,"mce-visual-caret-hidden")})},500)};return{show:Y,hide:ge,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{h.on(Ge=>{const ct=AS(r,Ge.element,Ge.before);H.setStyles(Ge.caret,{...ct})})},destroy:()=>clearInterval(b)}},TS=()=>Hn.browser.isFirefox(),B0=t=>Y5(t)||Np(t),N0=t=>B0(t)||hf(t)&&TS(),Q3=uu,OS=xa,ek=ai,tk=Ec("display","block table table-cell table-caption list-item"),P0=ns,_S=Zo,Xy=no,Jy=bn,$S=ya,Pp=t=>t>0,Fp=t=>t<0,F0=(t,r)=>{let a;for(;a=t(r);)if(!_S(a))return a;return null},P1=(t,r,a,u,h)=>{const b=new jr(t,u),E=OS(t)||_S(t);let R;if(Fp(r)){if(E&&(R=F0(b.prev.bind(b),!0),a(R)))return R;for(;R=F0(b.prev.bind(b),h);)if(a(R))return R}if(Pp(r)){if(E&&(R=F0(b.next.bind(b),!0),a(R)))return R;for(;R=F0(b.next.bind(b),h);)if(a(R))return R}return null},CF=(t,r)=>{const a=h=>Q3(h.dom),u=h=>h.dom===r;return Da(mt.fromDom(t),a,u).map(h=>h.dom).getOr(r)},Qf=(t,r)=>{for(;t&&t!==r;){if(tk(t))return t;t=t.parentNode}return null},Lu=(t,r,a)=>Qf(t.container(),a)===Qf(r.container(),a),DS=(t,r)=>{if(!r)return q.none();const a=r.container(),u=r.offset();return Xy(a)?q.from(a.childNodes[u+t]):q.none()},Qy=(t,r)=>{var a;const h=((a=r.ownerDocument)!==null&&a!==void 0?a:document).createRange();return t?(h.setStartBefore(r),h.setEndBefore(r)):(h.setStartAfter(r),h.setEndAfter(r)),h},e$=(t,r,a)=>Qf(r,t)===Qf(a,t),nk=(t,r,a)=>{const u=t?"previousSibling":"nextSibling";let h=a;for(;h&&h!==r;){let b=h[u];if(b&&P0(b)&&(b=b[u]),OS(b)||ek(b)){if(e$(r,b,h))return b;break}if($S(b))break;h=h.parentNode}return null},R0=re(Qy,!0),Jg=re(Qy,!1),F1=(t,r,a)=>{let u;const h=re(nk,!0,r),b=re(nk,!1,r),E=a.startContainer,R=a.startOffset;if(Zo(E)){const H=Jy(E)?E.parentNode:E,Y=H.getAttribute("data-mce-caret");if(Y==="before"&&(u=H.nextSibling,N0(u)))return R0(u);if(Y==="after"&&(u=H.previousSibling,N0(u)))return Jg(u)}if(!a.collapsed)return a;if(bn(E)){if(P0(E)){if(t===1){if(u=b(E),u)return R0(u);if(u=h(E),u)return Jg(u)}if(t===-1){if(u=h(E),u)return Jg(u);if(u=b(E),u)return R0(u)}return a}if(fh(E)&&R>=E.data.length-1)return t===1&&(u=b(E),u)?R0(u):a;if(Ru(E)&&R<=1)return t===-1&&(u=h(E),u)?Jg(u):a;if(R===E.data.length)return u=b(E),u?R0(u):a;if(R===0)return u=h(E),u?Jg(u):a}return a},ok=(t,r)=>DS(t?0:-1,r).filter(OS),M0=(t,r,a)=>{const u=F1(t,r,a);return t===-1?Yt.fromRangeStart(u):Yt.fromRangeEnd(u)},e2=t=>q.from(t.getNode()).map(mt.fromDom),t$=t=>q.from(t.getNode(!0)).map(mt.fromDom),Hl=(t,r)=>{let a=r;for(;a=t(a);)if(a.isVisible())return a;return a},BS=(t,r)=>{const a=Lu(t,r);return!a&&$a(t.getNode())?!0:a};var Ja;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Ja||(Ja={}));const I0=xa,Bd=bn,rk=no,t2=$a,Qg=ya,n2=Cy,R1=Ad,n$=(t,r)=>{const a=[];let u=t;for(;u&&u!==r;)a.push(u),u=u.parentNode;return a},M1=(t,r)=>t.hasChildNodes()&&r<t.childNodes.length?t.childNodes[r]:null,em=(t,r)=>{if(Pp(t)){if(Qg(r.previousSibling)&&!Bd(r.previousSibling))return Yt.before(r);if(Bd(r))return Yt(r,0)}if(Fp(t)){if(Qg(r.nextSibling)&&!Bd(r.nextSibling))return Yt.after(r);if(Bd(r))return Yt(r,r.data.length)}return Fp(t)?t2(r)?Yt.before(r):Yt.after(r):Yt.before(r)},sk=(t,r)=>{const a=r.nextSibling;return a&&Qg(a)?Bd(a)?Yt(a,0):Yt.before(a):NS(Ja.Forwards,Yt.after(r),t)},NS=(t,r,a)=>{let u,h,b,E;if(!rk(a)||!r)return null;if(r.isEqual(Yt.after(a))&&a.lastChild){if(E=Yt.after(a.lastChild),Fp(t)&&Qg(a.lastChild)&&rk(a.lastChild))return t2(a.lastChild)?Yt.before(a.lastChild):E}else E=r;const R=E.container();let H=E.offset();if(Bd(R)){if(Fp(t)&&H>0)return Yt(R,--H);if(Pp(t)&&H<R.length)return Yt(R,++H);u=R}else{if(Fp(t)&&H>0&&(h=M1(R,H-1),Qg(h)))return!n2(h)&&(b=P1(h,t,R1,h),b)?Bd(b)?Yt(b,b.data.length):Yt.after(b):Bd(h)?Yt(h,h.data.length):Yt.before(h);if(Pp(t)&&H<R.childNodes.length&&(h=M1(R,H),Qg(h)))return t2(h)?sk(a,h):!n2(h)&&(b=P1(h,t,R1,h),b)?Bd(b)?Yt(b,0):Yt.before(b):Bd(h)?Yt(h,0):Yt.after(h);u=h||E.getNode()}if(u&&(Pp(t)&&E.isAtEnd()||Fp(t)&&E.isAtStart())&&(u=P1(u,t,me,a,!0),R1(u,a)))return em(t,u);h=u&&P1(u,t,R1,a);const Y=to(xe(n$(R,a),I0));return Y&&(!h||!Y.contains(h))?(Pp(t)?E=Yt.after(Y):E=Yt.before(Y),E):h?em(t,h):null},Nd=t=>({next:r=>NS(Ja.Forwards,r,t),prev:r=>NS(Ja.Backwards,r,t)}),PS=(t,r,a)=>{const u=t?Yt.before(a):Yt.after(a);return _c(t,r,u)},jl=t=>$a(t)?Yt.before(t):Yt.after(t),o$=t=>Yt.isTextPosition(t)?t.offset()===0:ya(t.getNode()),I1=t=>{if(Yt.isTextPosition(t)){const r=t.container();return t.offset()===r.data.length}else return ya(t.getNode(!0))},r$=(t,r)=>!Yt.isTextPosition(t)&&!Yt.isTextPosition(r)&&t.getNode()===r.getNode(!0),FS=t=>!Yt.isTextPosition(t)&&$a(t.getNode()),ak=(t,r,a)=>t?!r$(r,a)&&!FS(r)&&I1(r)&&o$(a):!r$(a,r)&&o$(r)&&I1(a),_c=(t,r,a)=>{const u=Nd(r);return q.from(t?u.next(a):u.prev(a))},L0=(t,r,a)=>_c(t,r,a).bind(u=>Lu(a,u,r)&&ak(t,a,u)?_c(t,r,u):q.some(u)),RS=(t,r,a,u)=>L0(t,r,a).bind(h=>u(h)?RS(t,r,h,u):q.some(h)),H0=(t,r)=>{const a=t?r.firstChild:r.lastChild;return bn(a)?q.some(Yt(a,t?0:a.data.length)):a?ya(a)?q.some(t?Yt.before(a):jl(a)):PS(t,r,a):q.none()},uc=re(_c,!0),mu=re(_c,!1),yi=re(H0,!0),vu=re(H0,!1),o2="_mce_caret",Hu=t=>no(t)&&t.id===o2,L1=(t,r)=>{let a=r;for(;a&&a!==t;){if(Hu(a))return a;a=a.parentNode}return null},SF=t=>P(t.start),j0=t=>To(t,"rng"),r2=t=>To(t,"id"),MS=t=>To(t,"name"),IS=t=>nn.isArray(t.start),H1=t=>!MS(t)&&oe(t.forward)?t.forward:!0,LS=(t,r)=>(no(r)&&t.isBlock(r)&&!r.innerHTML&&(r.innerHTML='<br data-mce-bogus="1" />'),r),ik=(t,r)=>{const a=q.from(E3(t.getRoot(),r.start)),u=q.from(E3(t.getRoot(),r.end));return Js(a,u,(h,b)=>{const E=t.createRng();return E.setStart(h.container(),h.offset()),E.setEnd(b.container(),b.offset()),{range:E,forward:H1(r)}})},HS=(t,r)=>{var a;const h=((a=t.ownerDocument)!==null&&a!==void 0?a:document).createTextNode($e);t.appendChild(h),r.setStart(h,0),r.setEnd(h,0)},jS=t=>!t.hasChildNodes(),z0=(t,r)=>vu(t).fold(Ce,a=>(r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0)),s2=(t,r,a)=>jS(r)&&L1(t,r)?(HS(r,a),!0):!1,zS=(t,r,a,u)=>{const h=a[r?"start":"end"],b=t.getRoot();if(h){let E=b,R=h[0];for(let H=h.length-1;E&&H>=1;H--){const Y=E.childNodes;if(s2(b,E,u))return!0;if(h[H]>Y.length-1)return s2(b,E,u)?!0:z0(E,u);E=Y[h[H]]}bn(E)&&(R=Math.min(h[0],E.data.length)),no(E)&&(R=Math.min(h[0],E.childNodes.length)),r?u.setStart(E,R):u.setEnd(E,R)}return!0},VS=t=>bn(t)&&t.data.length>0,lk=(t,r,a)=>{const u=t.get(a.id+"_"+r),h=u==null?void 0:u.parentNode,b=a.keep;if(u&&h){let E,R;if(r==="start"?b?u.hasChildNodes()?(E=u.firstChild,R=1):VS(u.nextSibling)?(E=u.nextSibling,R=0):VS(u.previousSibling)?(E=u.previousSibling,R=u.previousSibling.data.length):(E=h,R=t.nodeIndex(u)+1):(E=h,R=t.nodeIndex(u)):b?u.hasChildNodes()?(E=u.firstChild,R=1):VS(u.previousSibling)?(E=u.previousSibling,R=u.previousSibling.data.length):(E=h,R=t.nodeIndex(u)):(E=h,R=t.nodeIndex(u)),!b){const H=u.previousSibling,Y=u.nextSibling;nn.each(nn.grep(u.childNodes),Te=>{bn(Te)&&(Te.data=Te.data.replace(/\uFEFF/g,""))});let ge;for(;ge=t.get(a.id+"_"+r);)t.remove(ge,!0);if(bn(Y)&&bn(H)&&!Hn.browser.isOpera()){const Te=H.data.length;H.appendData(Y.data),t.remove(Y),E=H,R=Te}}return q.some(Yt(E,R))}else return q.none()},s$=(t,r)=>{const a=t.createRng();return zS(t,!0,r,a)&&zS(t,!1,r,a)?q.some({range:a,forward:H1(r)}):q.none()},a2=(t,r)=>{const a=lk(t,"start",r),u=lk(t,"end",r);return Js(a,u.or(a),(h,b)=>{const E=t.createRng();return E.setStart(LS(t,h.container()),h.offset()),E.setEnd(LS(t,b.container()),b.offset()),{range:E,forward:H1(r)}})},a$=(t,r)=>q.from(t.select(r.name)[r.index]).map(a=>{const u=t.createRng();return u.selectNode(a),{range:u,forward:!0}}),i$=(t,r)=>{const a=t.dom;if(r){if(IS(r))return s$(a,r);if(SF(r))return ik(a,r);if(r2(r))return a2(a,r);if(MS(r))return a$(a,r);if(j0(r))return q.some({range:r.rng,forward:H1(r)})}return q.none()},xF=(t,r,a)=>Qs(t,r,a),EF=(t,r)=>{i$(t,r).each(({range:a,forward:u})=>{t.setRng(a,u)})},Yl=t=>no(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",V0=(t=>r=>t===r)(Ga),U0=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,i2=t=>!U0(t)&&!V0(t)&&!Ep(t),US=t=>({value:t}),ck=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},c$=t=>{const r=ck(t.red)+ck(t.green)+ck(t.blue);return US(r)},fc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,WS=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,j1=(t,r,a,u)=>({red:t,green:r,blue:a,alpha:u}),_h=(t,r,a,u)=>{const h=parseInt(t,10),b=parseInt(r,10),E=parseInt(a,10),R=parseFloat(u);return j1(h,b,E,R)},W0=t=>{if(t==="transparent")return q.some(j1(0,0,0,0));const r=fc.exec(t);if(r!==null)return q.some(_h(r[1],r[2],r[3],"1"));const a=WS.exec(t);return a!==null?q.some(_h(a[1],a[2],a[3],a[4])):q.none()},tm=t=>W0(t).map(c$).map(r=>"#"+r.value).getOr(t),l2=t=>{const r=[];if(t)for(let a=0;a<t.rangeCount;a++)r.push(t.getRangeAt(a));return r},u$=t=>zn(t,r=>{const a=b0(r);return a?[mt.fromDom(a)]:[]}),f$=t=>l2(t).length>1,c2=t=>xe(u$(t),Fl),Rp=t=>_t(t,"td[data-mce-selected],th[data-mce-selected]"),u2=(t,r)=>{const a=Rp(r);return a.length>0?a:c2(t)},Mp=t=>u2(l2(t.selection.getSel()),mt.fromDom(t.getBody())),zl=(t,r)=>Tg(t,"table",r),uk=t=>{const r=t.startContainer,a=t.startOffset;return bn(r)?a===0?q.some(mt.fromDom(r)):q.none():q.from(r.childNodes[a]).map(mt.fromDom)},Cf=t=>{const r=t.endContainer,a=t.endOffset;return bn(r)?a===r.data.length?q.some(mt.fromDom(r)):q.none():q.from(r.childNodes[a-1]).map(mt.fromDom)},fk=t=>yg(t).fold(Fe([t]),r=>[t].concat(fk(r))),q0=t=>mp(t).fold(Fe([t]),r=>ko(r)==="br"?Nl(r).map(a=>[t].concat(q0(a))).getOr([]):[t].concat(q0(r))),f2=(t,r)=>Js(uk(r),Cf(r),(a,u)=>{const h=qt(fk(t),re(ps,a)),b=qt(q0(t),re(ps,u));return h.isSome()&&b.isSome()}).getOr(!1),qS=(t,r,a,u)=>{const h=a,b=new jr(a,h),E=pr(t.schema.getMoveCaretBeforeOnEnterElements(),(H,Y)=>!He(["td","th","table"],Y.toLowerCase()));let R=a;do{if(bn(R)&&nn.trim(R.data).length!==0){u?r.setStart(R,0):r.setEnd(R,R.data.length);return}if(E[R.nodeName]){u?r.setStartBefore(R):R.nodeName==="BR"?r.setEndBefore(R):r.setEndAfter(R);return}}while(R=u?b.next():b.prev());h.nodeName==="BODY"&&(u?r.setStart(h,0):r.setEnd(h,h.childNodes.length))},Z0=t=>{const r=t.selection.getSel();return Q(r)&&r.rangeCount>0},ZS=(t,r)=>{const a=Mp(t);a.length>0?Oe(a,u=>{const h=u.dom,b=t.dom.createRng();b.setStartBefore(h),b.setEndAfter(h),r(b,!0)}):r(t.selection.getRng(),!1)},dk=(t,r,a)=>{const u=jy(t,r);a(u),t.moveToBookmark(u)},z1=t=>ue(t==null?void 0:t.nodeType),V1=t=>no(t)&&!Yl(t)&&!Hu(t)&&!Bu(t),d$=(t,r)=>{if(V1(r)&&!/^(TD|TH)$/.test(r.nodeName)){const a=t.getAttrib(r,"data-mce-selected"),u=parseInt(a,10);return!isNaN(u)&&u>0}else return!1},Ip=t=>t.isContentEditable===!0,d2=(t,r,a)=>{const{selection:u,dom:h}=t,b=u.getNode(),E=xa(b);dk(u,!0,()=>{r()}),E&&xa(b)&&h.isChildOf(b,t.getBody())?t.selection.select(b):a(u.getStart())&&h$(h,u)},h$=(t,r)=>{var a,u;const h=r.getRng(),{startContainer:b,startOffset:E}=h,R=r.getNode();if(!d$(t,R)&&no(b)){const H=b.childNodes,Y=t.getRoot();let ge;if(E<H.length){const Te=H[E];ge=new jr(Te,(a=t.getParent(Te,t.isBlock))!==null&&a!==void 0?a:Y)}else{const Te=H[H.length-1];ge=new jr(Te,(u=t.getParent(Te,t.isBlock))!==null&&u!==void 0?u:Y),ge.next(!0)}for(let Te=ge.current();Te;Te=ge.next()){if(t.getContentEditable(Te)==="false")return;if(bn(Te)&&!h2(Te)){h.setStart(Te,0),r.setRng(h);return}}}},GS=(t,r,a)=>{if(t){const u=r?"nextSibling":"previousSibling";for(t=a?t:t[u];t;t=t[u])if(no(t)||!h2(t))return t}},G0=(t,r)=>(z1(r)&&(r=r.nodeName),!!t.schema.getTextBlockElements()[r.toLowerCase()]),Lp=(t,r,a)=>t.schema.isValidChild(r,a),h2=(t,r=!1)=>{if(Q(t)&&bn(t)){const a=r?t.data.replace(/ /g,"\xA0"):t.data;return _g(a)}else return!1},kF=t=>Q(t)&&bn(t)&&t.length===0,p$=(t,r)=>{const a="[data-mce-cef-wrappable]",u=Di(t),h=Or(u)?a:`${a},${u}`;return xc(mt.fromDom(r),h)},hk=(t,r)=>{const a=t.dom;return V1(r)&&a.getContentEditable(r)==="false"&&p$(t,r)&&a.select('[contenteditable="true"]',r).length===0},Hp=(t,r)=>G(t)?t(r):(Q(r)&&(t=t.replace(/%(\w+)/g,(a,u)=>r[u]||a)),t),p2=(t,r)=>(t=t||"",r=r||"",t=""+(t.nodeName||t),r=""+(r.nodeName||r),t.toLowerCase()===r.toLowerCase()),Rr=(t,r)=>{if(ae(t))return null;{let a=String(t);return(r==="color"||r==="backgroundColor")&&(a=tm(a)),r==="fontWeight"&&t===700&&(a="bold"),r==="fontFamily"&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),a}},Pd=(t,r,a)=>{const u=t.getStyle(r,a);return Rr(u,a)},jp=(t,r)=>{let a;return t.getParent(r,u=>no(u)?(a=t.getStyle(u,"text-decoration"),!!a&&a!=="none"):!1),a},zp=(t,r,a)=>t.getParents(r,a,t.getRoot()),KS=(t,r,a)=>{const u=t.formatter.get(r);return Q(u)&&Re(u,a)},U1=(t,r)=>KS(t,r,u=>{const h=b=>G(b)||b.length>1&&b.charAt(0)==="%";return Re(["styles","attributes"],b=>Jo(u,b).exists(E=>{const R=K(E)?E:wr(E);return Re(R,h)}))}),pk=(t,r,a)=>{const u=["inline","block","selector","attributes","styles","classes"],h=b=>pr(b,(E,R)=>Re(u,H=>H===R));return KS(t,r,b=>{const E=h(b);return KS(t,a,R=>{const H=h(R);return ra(E,H)})})},Sf=t=>xs(t,"block"),g2=t=>Sf(t)&&t.wrapper===!0,YS=t=>Sf(t)&&t.wrapper!==!0,dc=t=>xs(t,"selector"),Ui=t=>xs(t,"inline"),XS=t=>dc(t)&&Ui(t)&&Xs(Jo(t,"mixed"),!0),W1=t=>dc(t)&&t.expand!==!1&&!Ui(t),K0=Yl,gk=zp,JS=h2,g$=G0,Y0=t=>$a(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling,m$=(t,r)=>{let a=r;for(;a;){if(no(a)&&t.getContentEditable(a))return t.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},mk=(t,r,a,u)=>{const h=r.data;for(let b=a;t?b>=0:b<h.length;t?b--:b++)if(u(h.charAt(b)))return t?b+1:b;return-1},vk=(t,r,a)=>mk(t,r,a,u=>V0(u)||U0(u)),v$=(t,r,a)=>mk(t,r,a,i2),bk=(t,r,a,u,h,b)=>{let E;const R=t.getParent(a,t.isBlock)||r,H=(ge,Te,Ae)=>{const nt=ua(t),st=h?nt.backwards:nt.forwards;return q.from(st(ge,Te,(Ge,ct)=>K0(Ge.parentNode)?-1:(E=Ge,Ae(h,Ge,ct)),R))};return H(a,u,vk).bind(ge=>b?H(ge.container,ge.offset+(h?-1:0),v$):q.some(ge)).orThunk(()=>E?q.some({container:E,offset:h?0:E.length}):q.none())},yk=(t,r,a,u,h)=>{const b=u[h];bn(u)&&Or(u.data)&&b&&(u=b);const E=gk(t,u);for(let R=0;R<E.length;R++)for(let H=0;H<r.length;H++){const Y=r[H];if(!(Q(Y.collapsed)&&Y.collapsed!==a.collapsed)&&dc(Y)&&t.is(E[R],Y.selector))return E[R]}return u},wk=(t,r,a,u)=>{var h;let b=a;const E=t.dom,R=E.getRoot(),H=r[0];if(Sf(H)&&(b=H.wrapper?null:E.getParent(a,H.block,R)),!b){const Y=(h=E.getParent(a,"LI,TD,TH"))!==null&&h!==void 0?h:R;b=E.getParent(bn(a)?a.parentNode:a,ge=>ge!==R&&g$(t,ge),Y)}if(b&&Sf(H)&&H.wrapper&&(b=gk(E,b,"ul,ol").reverse()[0]||b),!b)for(b=a;b&&b[u]&&!E.isBlock(b[u])&&(b=b[u],!p2(b,"br")););return b||a},nm=(t,r,a,u)=>{const h=a.parentNode;return Q(a[u])?!1:h===r||ae(h)||t.isBlock(h)?!0:nm(t,r,h,u)},m2=(t,r,a,u,h)=>{let b=a;const E=h?"previousSibling":"nextSibling",R=t.getRoot();if(bn(a)&&!JS(a)&&(h?u>0:u<a.data.length))return a;for(;b;){if(!r[0].block_expand&&t.isBlock(b))return b;for(let H=b[E];H;H=H[E]){const Y=bn(H)&&!nm(t,R,H,E);if(!K0(H)&&!Y0(H)&&!JS(H,Y))return b}if(b===R||b.parentNode===R){a=b;break}b=b.parentNode}return a},Ck=t=>K0(t.parentNode)||K0(t),q1=(t,r,a,u=!1)=>{let{startContainer:h,startOffset:b,endContainer:E,endOffset:R}=r;const H=t.dom,Y=a[0];return no(h)&&h.hasChildNodes()&&(h=xh(h,b),bn(h)&&(b=0)),no(E)&&E.hasChildNodes()&&(E=xh(E,r.collapsed?R:R-1),bn(E)&&(R=E.data.length)),h=m$(H,h),E=m$(H,E),Ck(h)&&(h=K0(h)?h:h.parentNode,r.collapsed?h=h.previousSibling||h:h=h.nextSibling||h,bn(h)&&(b=r.collapsed?h.length:0)),Ck(E)&&(E=K0(E)?E:E.parentNode,r.collapsed?E=E.nextSibling||E:E=E.previousSibling||E,bn(E)&&(R=r.collapsed?0:E.length)),r.collapsed&&(bk(H,t.getBody(),h,b,!0,u).each(({container:Ae,offset:nt})=>{h=Ae,b=nt}),bk(H,t.getBody(),E,R,!1,u).each(({container:Ae,offset:nt})=>{E=Ae,R=nt})),(Ui(Y)||Y.block_expand)&&((!Ui(Y)||!bn(h)||b===0)&&(h=m2(H,a,h,b,!0)),(!Ui(Y)||!bn(E)||R===E.data.length)&&(E=m2(H,a,E,R,!1))),W1(Y)&&(h=yk(H,a,r,h,"previousSibling"),E=yk(H,a,r,E,"nextSibling")),(Sf(Y)||dc(Y))&&(h=wk(t,a,h,"previousSibling"),E=wk(t,a,E,"nextSibling"),Sf(Y)&&(H.isBlock(h)||(h=m2(H,a,h,b,!0)),H.isBlock(E)||(E=m2(H,a,E,R,!1)))),no(h)&&h.parentNode&&(b=H.nodeIndex(h),h=h.parentNode),no(E)&&E.parentNode&&(R=H.nodeIndex(E)+1,E=E.parentNode),{startContainer:h,startOffset:b,endContainer:E,endOffset:R}},X0=(t,r,a)=>{var u;const h=r.startOffset,b=xh(r.startContainer,h),E=r.endOffset,R=xh(r.endContainer,E-1),H=ct=>{const ht=ct[0];bn(ht)&&ht===b&&h>=ht.data.length&&ct.splice(0,1);const Et=ct[ct.length-1];return E===0&&ct.length>0&&Et===R&&bn(Et)&&ct.splice(ct.length-1,1),ct},Y=(ct,ht,Et)=>{const $t=[];for(;ct&&ct!==Et;ct=ct[ht])$t.push(ct);return $t},ge=(ct,ht)=>t.getParent(ct,Et=>Et.parentNode===ht,ht),Te=(ct,ht,Et)=>{const $t=Et?"nextSibling":"previousSibling";for(let Qt=ct,an=Qt.parentNode;Qt&&Qt!==ht;Qt=an){an=Qt.parentNode;const Bn=Y(Qt===ct?Qt:Qt[$t],$t);Bn.length&&(Et||Bn.reverse(),a(H(Bn)))}};if(b===R)return a(H([b]));const Ae=(u=t.findCommonAncestor(b,R))!==null&&u!==void 0?u:t.getRoot();if(t.isChildOf(b,R))return Te(b,Ae,!0);if(t.isChildOf(R,b))return Te(R,Ae);const nt=ge(b,Ae)||b,st=ge(R,Ae)||R;Te(b,nt,!0);const Ge=Y(nt===b?nt:nt.nextSibling,"nextSibling",st===R?st.nextSibling:st);Ge.length&&a(H(Ge)),Te(R,st)},v2=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],b$=t=>Xr(t)&&Ac(t)===$e,y$=(t,r,a,u)=>Li(r).fold(()=>"skipping",h=>u==="br"||b$(r)?"valid":g5(r)?"existing":Hu(r.dom)?"caret":Re(v2,b=>xc(r,b))?"valid-block":!Lp(t,a,u)||!Lp(t,ko(h),a)?"invalid-child":"valid"),w$=(t,r)=>{const a=q1(t,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),t.selection.setRng(r)},Sk=(t,r,a,u,h,b)=>{const{uid:E=r,...R}=a;If(t,wh()),Os(t,`${Sh()}`,E),Os(t,`${Ch()}`,u);const{attributes:H={},classes:Y=[]}=h(E,R);if(Jr(t,H),i3(t,Y),b){Y.length>0&&Os(t,`${Ig()}`,Y.join(","));const ge=wt(H);ge.length>0&&Os(t,`${bi()}`,ge.join(","))}},qn=t=>{lf(t,wh()),Ia(t,`${Sh()}`),Ia(t,`${Ch()}`),Ia(t,`${Mg()}`);const r=pl(t,`${bi()}`).map(u=>u.split(",")).getOr([]),a=pl(t,`${Ig()}`).map(u=>u.split(",")).getOr([]);Oe(r,u=>Ia(t,u)),b5(t,a),Ia(t,`${Ig()}`),Ia(t,`${bi()}`)},wi=(t,r,a,u,h)=>{const b=mt.fromTag("span",t);return Sk(b,r,a,u,h,!1),b},Z1=(t,r,a,u,h,b)=>{const E=[],R=wi(t.getDoc(),a,b,u,h),H=yh(),Y=()=>{H.clear()},ge=()=>H.get().getOrThunk(()=>{const st=Lg(R);return E.push(st),H.set(st),st}),Te=st=>{Oe(st,Ae)},Ae=st=>{switch(y$(t,st,"span",ko(st))){case"invalid-child":{Y();const ct=gi(st);Te(ct),Y();break}case"valid-block":{Y(),Sk(st,a,b,u,h,!0);break}case"valid":{const ct=ge();bp(st,ct);break}}},nt=st=>{const Ge=Ve(st,mt.fromDom);Te(Ge)};return X0(t.dom,r,st=>{Y(),nt(st)}),E},al=(t,r,a,u)=>{t.undoManager.transact(()=>{const h=t.selection,b=h.getRng(),E=Mp(t).length>0,R=My("mce-annotation");if(b.collapsed&&!E&&w$(t,b),h.getRng().collapsed&&!E){const H=wi(t.getDoc(),R,u,r,a.decorate);n1(H,Ga),h.getRng().insertNode(H.dom),h.select(H.dom)}else dk(h,!1,()=>{ZS(t,H=>{Z1(t,H,R,r,a.decorate,u)})})})},bu=t=>{const r=v5();s3(t,r);const a=m5(t,r),u=zc("span"),h=b=>{Oe(b,E=>{u(E)?Qi(E):qn(E)})};return{register:(b,E)=>{r.register(b,E)},annotate:(b,E)=>{r.lookup(b).each(R=>{al(t,b,R,E)})},annotationChanged:(b,E)=>{a.addListener(b,E)},remove:b=>{const E=t.selection.getBookmark();Ry(t,q.some(b)).each(({elements:R})=>{h(R)}),t.selection.moveToBookmark(E)},removeAll:b=>{const E=t.selection.getBookmark();xn($d(t,b),(R,H)=>{h(R)}),t.selection.moveToBookmark(E)},getAll:b=>{const E=$d(t,b);return pn(E,R=>Ve(R,H=>H.dom))}}},om=t=>({getBookmark:re(xF,t),moveToBookmark:re(EF,t)});om.isBookmarkNode=Yl;const G1=(t,r,a)=>a.collapsed?!1:Re(a.getClientRects(),u=>Hg(u,t,r)),b2=(t,r)=>t.dispatch("PreProcess",r),C$=(t,r)=>t.dispatch("PostProcess",r),xk=t=>{t.dispatch("remove")},Ek=t=>{t.dispatch("detach")},kk=(t,r)=>{t.dispatch("SwitchMode",{mode:r})},S$=(t,r,a,u,h)=>{t.dispatch("ObjectResizeStart",{target:r,width:a,height:u,origin:h})},x$=(t,r,a,u,h)=>{t.dispatch("ObjectResized",{target:r,width:a,height:u,origin:h})},Ak=t=>{t.dispatch("PreInit")},QS=t=>{t.dispatch("PostRender")},rm=t=>{t.dispatch("Init")},y2=(t,r)=>{t.dispatch("PlaceholderToggle",{state:r})},J0=(t,r,a)=>{t.dispatch(r,a)},w2=(t,r,a,u)=>{t.dispatch("FormatApply",{format:r,node:a,vars:u})},sm=(t,r,a,u)=>{t.dispatch("FormatRemove",{format:r,node:a,vars:u})},ex=(t,r)=>t.dispatch("BeforeSetContent",r),Tk=(t,r)=>t.dispatch("SetContent",r),am=(t,r)=>t.dispatch("BeforeGetContent",r),Q0=(t,r)=>t.dispatch("GetContent",r),E$=(t,r)=>{t.dispatch("AutocompleterStart",r)},k$=(t,r)=>{t.dispatch("AutocompleterUpdate",r)},$h=t=>{t.dispatch("AutocompleterEnd")},A$=(t,r,a)=>t.dispatch("PastePreProcess",{content:r,internal:a}),Ok=(t,r,a)=>t.dispatch("PastePostProcess",{node:r,internal:a}),eb=(t,r)=>t.dispatch("PastePlainTextToggle",{state:r}),wo={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||wo.metaKeyPressed(t),metaKeyPressed:t=>Hn.os.isMacOS()||Hn.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},Fd="data-mce-selected",Vl="table,img,figure.image,hr,video,span.mce-preview-object",xf=Math.abs,ju=Math.round,K1={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},tx=t=>t.type==="longpress"||t.type.indexOf("touch")===0,_k=(t,r)=>{const a=r.dom,u=r.getDoc(),h=document,b=r.getBody();let E,R,H,Y,ge,Te,Ae,nt,st,Ge,ct,ht,Et,$t,Qt,an,Bn;const un=Vn=>Q(Vn)&&(MC(Vn)||a.is(Vn,"figure.image")),Wt=Vn=>ai(Vn)||a.hasClass(Vn,"mce-preview-object"),Kt=(Vn,Pr)=>{if(tx(Vn)){const gr=Vn.touches[0];return un(Vn.target)&&!G1(gr.clientX,gr.clientY,Pr)}else return un(Vn.target)&&!G1(Vn.clientX,Vn.clientY,Pr)},Nn=Vn=>{const Pr=Vn.target;Kt(Vn,r.selection.getRng())&&!Vn.isDefaultPrevented()&&r.selection.select(Pr)},vo=Vn=>a.hasClass(Vn,"mce-preview-object")&&Q(Vn.firstElementChild)?[Vn,Vn.firstElementChild]:a.is(Vn,"figure.image")?[Vn.querySelector("img")]:[Vn],Ao=Vn=>{const Pr=R3(r);return!Pr||Vn.getAttribute("data-mce-resize")==="false"||Vn===r.getBody()?!1:a.hasClass(Vn,"mce-preview-object")&&Q(Vn.firstElementChild)?xc(mt.fromDom(Vn.firstElementChild),Pr):xc(mt.fromDom(Vn),Pr)},ir=Vn=>Wt(Vn)?a.create("img",{src:Hn.transparentSrc}):Vn.cloneNode(!0),Zr=(Vn,Pr,gr)=>{if(Q(gr)){const Go=vo(Vn);Oe(Go,tr=>{tr.style[Pr]||!r.schema.isValid(tr.nodeName.toLowerCase(),Pr)?a.setStyle(tr,Pr,gr):a.setAttrib(tr,Pr,""+gr)})}},vs=(Vn,Pr,gr)=>{Zr(Vn,"width",Pr),Zr(Vn,"height",gr)},Gs=Vn=>{let Pr,gr,Go,tr,Ps;Pr=Vn.screenX-Te,gr=Vn.screenY-Ae,$t=Pr*Y[2]+Ge,Qt=gr*Y[3]+ct,$t=$t<5?5:$t,Qt=Qt<5?5:Qt,(un(E)||Wt(E))&&wf(r)!==!1?Go=!wo.modifierPressed(Vn):Go=wo.modifierPressed(Vn),Go&&(xf(Pr)>xf(gr)?(Qt=ju($t*ht),$t=ju(Qt/ht)):($t=ju(Qt/ht),Qt=ju($t*ht))),vs(R,$t,Qt),tr=Y.startPos.x+Pr,Ps=Y.startPos.y+gr,tr=tr>0?tr:0,Ps=Ps>0?Ps:0,a.setStyles(H,{left:tr,top:Ps,display:"block"}),H.innerHTML=$t+" &times; "+Qt,Y[2]<0&&R.clientWidth<=$t&&a.setStyle(R,"left",nt+(Ge-$t)),Y[3]<0&&R.clientHeight<=Qt&&a.setStyle(R,"top",st+(ct-Qt)),Pr=b.scrollWidth-an,gr=b.scrollHeight-Bn,Pr+gr!==0&&a.setStyles(H,{left:tr-Pr,top:Ps-gr}),Et||(S$(r,E,Ge,ct,"corner-"+Y.name),Et=!0)},xl=()=>{const Vn=Et;Et=!1,Vn&&(Zr(E,"width",$t),Zr(E,"height",Qt)),a.unbind(u,"mousemove",Gs),a.unbind(u,"mouseup",xl),h!==u&&(a.unbind(h,"mousemove",Gs),a.unbind(h,"mouseup",xl)),a.remove(R),a.remove(H),a.remove(ge),On(E),Vn&&(x$(r,E,$t,Qt,"corner-"+Y.name),a.setAttrib(E,"style",a.getAttrib(E,"style"))),r.nodeChanged()},On=Vn=>{io();const Pr=a.getPos(Vn,b),gr=Pr.x,Go=Pr.y,tr=Vn.getBoundingClientRect(),Ps=tr.width||tr.right-tr.left,Hs=tr.height||tr.bottom-tr.top;E!==Vn&&(Nr(),E=Vn,$t=Qt=0);const Zi=r.dispatch("ObjectSelected",{target:Vn});Ao(Vn)&&!Zi.isDefaultPrevented()?xn(K1,(Na,ka)=>{const Ni=Gi=>{const Vh=vo(E)[0];Te=Gi.screenX,Ae=Gi.screenY,Ge=Vh.clientWidth,ct=Vh.clientHeight,ht=ct/Ge,Y=Na,Y.name=ka,Y.startPos={x:Ps*Na[0]+gr,y:Hs*Na[1]+Go},an=b.scrollWidth,Bn=b.scrollHeight,ge=a.add(b,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(ge,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),R=ir(E),a.addClass(R,"mce-clonedresizable"),a.setAttrib(R,"data-mce-bogus","all"),R.contentEditable="false",a.setStyles(R,{left:gr,top:Go,margin:0}),vs(R,Ps,Hs),R.removeAttribute(Fd),b.appendChild(R),a.bind(u,"mousemove",Gs),a.bind(u,"mouseup",xl),h!==u&&(a.bind(h,"mousemove",Gs),a.bind(h,"mouseup",xl)),H=a.add(b,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Ge+" &times; "+ct)};let Wl=a.get("mceResizeHandle"+ka);Wl&&a.remove(Wl),Wl=a.add(b,"div",{id:"mceResizeHandle"+ka,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ka+"-resize; margin:0; padding:0"}),a.bind(Wl,"mousedown",Gi=>{Gi.stopImmediatePropagation(),Gi.preventDefault(),Ni(Gi)}),Na.elm=Wl,a.setStyles(Wl,{left:Ps*Na[0]+gr-Wl.offsetWidth/2,top:Hs*Na[1]+Go-Wl.offsetHeight/2})}):Nr(!1)},dr=Fy(On,0),Nr=(Vn=!0)=>{dr.cancel(),io(),E&&Vn&&E.removeAttribute(Fd),xn(K1,(Pr,gr)=>{const Go=a.get("mceResizeHandle"+gr);Go&&(a.unbind(Go),a.remove(Go))})},Yo=(Vn,Pr)=>a.isChildOf(Vn,Pr),ci=Vn=>{if(Et||r.removed||r.composing)return;const Pr=Vn.type==="mousedown"?Vn.target:t.getNode(),gr=ah(mt.fromDom(Pr),Vl).map(tr=>tr.dom).getOrUndefined(),Go=Q(gr)?a.getAttrib(gr,Fd,"1"):"1";if(Oe(a.select(`img[${Fd}],hr[${Fd}]`),tr=>{tr.removeAttribute(Fd)}),Q(gr)&&Yo(gr,b)){Xo();const tr=t.getStart(!0);if(Yo(tr,gr)&&Yo(t.getEnd(!0),gr)){a.setAttrib(gr,Fd,Go),dr.throttle(gr);return}}Nr()},io=()=>{xn(K1,Vn=>{Vn.elm&&(a.unbind(Vn.elm),delete Vn.elm)})},Xo=()=>{try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return r.on("init",()=>{Xo(),r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ci),r.on("keyup compositionend",Vn=>{E&&E.nodeName==="TABLE"&&ci(Vn)}),r.on("hide blur",Nr),r.on("contextmenu longpress",Nn,!0)}),r.on("remove",io),{isResizable:Ao,showResizeRect:On,hideResizeRect:Nr,updateResizeRect:ci,destroy:()=>{dr.cancel(),E=R=ge=null}}},nx=(t,r)=>{r.fold(a=>{t.setStartBefore(a.dom)},(a,u)=>{t.setStart(a.dom,u)},a=>{t.setStartAfter(a.dom)})},T$=(t,r)=>{r.fold(a=>{t.setEndBefore(a.dom)},(a,u)=>{t.setEnd(a.dom,u)},a=>{t.setEndAfter(a.dom)})},C2=(t,r,a)=>{const u=t.document.createRange();return nx(u,r),T$(u,a),u},ox=(t,r,a,u,h)=>{const b=t.document.createRange();return b.setStart(r.dom,a),b.setEnd(u.dom,h),b},im=Dd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rx=(t,r,a)=>r(mt.fromDom(a.startContainer),a.startOffset,mt.fromDom(a.endContainer),a.endOffset),$k=(t,r)=>r.match({domRange:a=>({ltr:Fe(a),rtl:q.none}),relative:(a,u)=>({ltr:uo(()=>C2(t,a,u)),rtl:uo(()=>q.some(C2(t,u,a)))}),exact:(a,u,h,b)=>({ltr:uo(()=>ox(t,a,u,h,b)),rtl:uo(()=>q.some(ox(t,h,b,a,u)))})}),S2=(t,r)=>{const a=r.ltr();return a.collapsed?r.rtl().filter(h=>h.collapsed===!1).map(h=>im.rtl(mt.fromDom(h.endContainer),h.endOffset,mt.fromDom(h.startContainer),h.startOffset)).getOrThunk(()=>rx(t,im.ltr,a)):rx(t,im.ltr,a)},sx=(t,r)=>{const a=$k(t,r);return S2(t,a)};im.ltr,im.rtl;const ed={create:(t,r,a,u)=>({start:t,soffset:r,finish:a,foffset:u})},Dk=(t,r,a)=>{var u,h;return q.from((h=(u=t.dom).caretPositionFromPoint)===null||h===void 0?void 0:h.call(u,r,a)).bind(b=>{if(b.offsetNode===null)return q.none();const E=t.dom.createRange();return E.setStart(b.offsetNode,b.offset),E.collapse(),q.some(E)})},Bk=(t,r,a)=>{var u,h;return q.from((h=(u=t.dom).caretRangeFromPoint)===null||h===void 0?void 0:h.call(u,r,a))},lm=(()=>document.caretPositionFromPoint?Dk:document.caretRangeFromPoint?Bk:q.none)(),cm=(t,r,a)=>{const u=mt.fromDom(t.document);return lm(u,r,a).map(h=>ed.create(mt.fromDom(h.startContainer),h.startOffset,mt.fromDom(h.endContainer),h.endOffset))},Y1=Dd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ax=(t,r,a,u)=>t.fold(r,a,u),Ef=t=>t.fold(De,De,De),um=Y1.before,Nk=Y1.on,tb=Y1.after,td={before:um,on:Nk,after:tb,cata:ax,getStart:Ef},x2=Dd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pk=t=>x2.exact(t.start,t.soffset,t.finish,t.foffset),O$=t=>t.match({domRange:r=>mt.fromDom(r.startContainer),relative:(r,a)=>td.getStart(r),exact:(r,a,u,h)=>r}),_$=x2.domRange,$$=x2.relative,zu=x2.exact,hc=t=>{const r=O$(t);return Hf(r)},Vp=ed.create,nb={domRange:_$,relative:$$,exact:zu,exactFromRange:Pk,getWin:hc,range:Vp},E2=(t,r)=>{const a=ko(t);return a==="input"?td.after(t):He(["br","img"],a)?r===0?td.before(t):td.after(t):td.on(t,r)},D$=(t,r)=>{const a=t.fold(td.before,E2,td.after),u=r.fold(td.before,E2,td.after);return nb.relative(a,u)},Ur=(t,r,a,u)=>{const h=E2(t,r),b=E2(a,u);return nb.relative(h,b)},B$=t=>t.match({domRange:r=>{const a=mt.fromDom(r.startContainer),u=mt.fromDom(r.endContainer);return Ur(a,r.startOffset,u,r.endOffset)},relative:D$,exact:Ur}),k2=(t,r)=>{const u=(r||document).createDocumentFragment();return Oe(t,h=>{u.appendChild(h.dom)}),mt.fromDom(u)},ix=t=>{const r=nb.getWin(t).dom,a=(h,b,E,R)=>ox(r,h,b,E,R),u=B$(t);return sx(r,u).match({ltr:a,rtl:a})},Fk=(t,r,a)=>cm(t,r,a),N$=(t,r,a)=>{const u=Hf(mt.fromDom(a));return Fk(u.dom,t,r).map(h=>{const b=a.createRange();return b.setStart(h.start.dom,h.soffset),b.setEnd(h.finish.dom,h.foffset),b}).getOrUndefined()},A2=(t,r)=>Q(t)&&Q(r)&&t.startContainer===r.startContainer&&t.startOffset===r.startOffset&&t.endContainer===r.endContainer&&t.endOffset===r.endOffset,P$=(t,r,a)=>{let u=t;for(;u&&u!==r;){if(a(u))return u;u=u.parentNode}return null},F$=(t,r,a)=>P$(t,r,a)!==null,AF=(t,r,a)=>F$(t,r,u=>u.nodeName===a),Rk=(t,r)=>ns(t)&&!F$(t,r,Hu),lx=(t,r,a)=>{const u=r.parentNode;if(u){const h=new jr(r,t.getParent(u,t.isBlock)||t.getRoot());let b;for(;b=h[a?"prev":"next"]();)if($a(b))return!0}return!1},Mk=(t,r)=>{var a;return((a=t.previousSibling)===null||a===void 0?void 0:a.nodeName)===r},TF=(t,r)=>{let a=r;for(;a&&a!==t;){if(xa(a))return!0;a=a.parentNode}return!1},Ik=(t,r,a,u,h)=>{const b=t.getRoot(),E=t.schema.getNonEmptyElements(),R=h.parentNode;let H,Y;if(!R)return q.none();const ge=t.getParent(R,t.isBlock)||b;if(u&&$a(h)&&r&&t.isEmpty(ge))return q.some(Yt(R,t.nodeIndex(h)));const Te=new jr(h,ge);for(;Y=Te[u?"prev":"next"]();){if(t.getContentEditableParent(Y)==="false"||Rk(Y,b))return q.none();if(bn(Y)&&Y.data.length>0)return AF(Y,b,"A")?q.none():q.some(Yt(Y,u?Y.data.length:0));if(t.isBlock(Y)||E[Y.nodeName.toLowerCase()])return q.none();H=Y}return Nu(H)?q.none():a&&H?q.some(Yt(H,0)):q.none()},T2=(t,r,a,u)=>{const h=t.getRoot();let b,E=!1,R=a?u.startContainer:u.endContainer,H=a?u.startOffset:u.endOffset;const Y=no(R)&&H===R.childNodes.length,ge=t.schema.getNonEmptyElements();let Te=a;if(ns(R))return q.none();if(no(R)&&H>R.childNodes.length-1&&(Te=!1),wp(R)&&(R=h,H=0),R===h){if(Te&&(b=R.childNodes[H>0?H-1:0],b&&(ns(b)||ge[b.nodeName]||hf(b))))return q.none();if(R.hasChildNodes()){if(H=Math.min(!Te&&H>0?H-1:H,R.childNodes.length-1),R=R.childNodes[H],H=bn(R)&&Y?R.data.length:0,!r&&R===h.lastChild&&hf(R)||TF(h,R)||ns(R))return q.none();if(R.hasChildNodes()&&!hf(R)){b=R;const Ae=new jr(R,h);do{if(xa(b)||ns(b)){E=!1;break}if(bn(b)&&b.data.length>0){H=Te?0:b.data.length,R=b,E=!0;break}if(ge[b.nodeName.toLowerCase()]&&!Oo(b)){H=t.nodeIndex(b),R=b.parentNode,Te||H++,E=!0;break}}while(b=Te?Ae.next():Ae.prev())}}}return r&&(bn(R)&&H===0&&Ik(t,Y,r,!0,R).each(Ae=>{R=Ae.container(),H=Ae.offset(),E=!0}),no(R)&&(b=R.childNodes[H],b||(b=R.childNodes[H-1]),b&&$a(b)&&!Mk(b,"A")&&!lx(t,b,!1)&&!lx(t,b,!0)&&Ik(t,Y,r,!0,b).each(Ae=>{R=Ae.container(),H=Ae.offset(),E=!0}))),Te&&!r&&bn(R)&&H===R.data.length&&Ik(t,Y,r,!1,R).each(Ae=>{R=Ae.container(),H=Ae.offset(),E=!0}),E&&R?q.some(Yt(R,H)):q.none()},cx=(t,r)=>{const a=r.collapsed,u=r.cloneRange(),h=Yt.fromRangeStart(r);return T2(t,a,!0,u).each(b=>{(!a||!Yt.isAbove(h,b))&&u.setStart(b.container(),b.offset())}),a||T2(t,a,!1,u).each(b=>{u.setEnd(b.container(),b.offset())}),a&&u.collapse(!0),A2(r,u)?q.none():q.some(u)},O2=(t,r)=>t.splitText(r),_2=t=>{let r=t.startContainer,a=t.startOffset,u=t.endContainer,h=t.endOffset;if(r===u&&bn(r)){if(a>0&&a<r.data.length)if(u=O2(r,a),r=u.previousSibling,h>a){h=h-a;const b=O2(u,h).previousSibling;r=u=b,h=b.data.length,a=0}else h=0}else if(bn(r)&&a>0&&a<r.data.length&&(r=O2(r,a),a=0),bn(u)&&h>0&&h<u.data.length){const b=O2(u,h).previousSibling;u=b,h=b.data.length}return{startContainer:r,startOffset:a,endContainer:u,endOffset:h}},Bo=t=>({walk:(h,b)=>X0(t,h,b),split:_2,normalize:h=>cx(t,h).fold(Ce,b=>(h.setStart(b.startContainer,b.startOffset),h.setEnd(b.endContainer,b.endOffset),!0))});Bo.compareRanges=A2,Bo.getCaretRangeFromPoint=N$,Bo.getSelectedNode=b0,Bo.getNode=xh;const Lk=((t,r)=>{const a=(R,H)=>{if(!ue(H)&&!H.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+H);const Y=R.dom;Cc(Y)&&(Y.style[t]=H+"px")},u=R=>{const H=r(R);if(H<=0||H===null){const Y=At(R,t);return parseFloat(Y)||0}return H},h=u,b=(R,H)=>Xe(H,(Y,ge)=>{const Te=At(R,ge),Ae=Te===void 0?0:parseInt(Te,10);return isNaN(Ae)?Y:Y+Ae},0);return{set:a,get:u,getOuter:h,aggregate:b,max:(R,H,Y)=>{const ge=b(R,Y);return H>ge?H-ge:0}}})("height",t=>{const r=t.dom;return cu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Hk=t=>Lk.get(t),fm=()=>mt.fromDom(document),jk=(t,r)=>t.view(r).fold(Fe([]),u=>{const h=t.owner(u),b=jk(t,h);return[u].concat(b)}),R$=(t,r)=>{const a=r.owner(t);return jk(r,a)};var fx=Object.freeze({__proto__:null,view:t=>{var r;return(t.dom===document?q.none():q.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(mt.fromDom)},owner:t=>Vc(t)});const I$=t=>{const r=fm(),a=el(r),u=R$(t,fx),h=lr(t),b=ot(u,(E,R)=>{const H=lr(R);return{left:E.left+H.left,top:E.top+H.top}},{left:0,top:0});return xg(b.left+h.left+a.left,b.top+h.top+a.top)},dx=t=>ko(t)==="textarea",$2=(t,r)=>t.dispatch("ScrollIntoView",r).isDefaultPrevented(),hx=(t,r)=>{t.dispatch("AfterScrollIntoView",r)},Vk=(t,r)=>{const a=gi(t);if(a.length===0||dx(t))return{element:t,offset:r};if(r<a.length&&!dx(a[r]))return{element:a[r],offset:0};{const u=a[a.length-1];return dx(u)?{element:t,offset:r}:ko(u)==="img"?{element:u,offset:1}:Xr(u)?{element:u,offset:Ac(u).length}:{element:u,offset:gi(u).length}}},Uk=(t,r)=>{const a=Ws(t),u=Hk(t);return{element:t,bottom:a.top+u,height:u,pos:a,cleanup:r}},L$=(t,r)=>{const a=Vk(t,r),u=mt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+$e+"</span>");return $r(a.element,u),Uk(u,()=>ts(u))},Wk=t=>Uk(mt.fromDom(t),be),qk=(t,r,a,u)=>{dm(t,(h,b)=>ls(t,r,a,u),a)},Zk=(t,r,a,u,h)=>{const b={elm:u.element.dom,alignToTop:h};if($2(t,b))return;const E=el(r).top;a(r,E,u,h),hx(t,b)},ls=(t,r,a,u)=>{const h=mt.fromDom(t.getBody()),b=mt.fromDom(t.getDoc());bo(h);const E=L$(mt.fromDom(a.startContainer),a.startOffset);Zk(t,b,r,E,u),E.cleanup()},Gk=(t,r,a,u)=>{const h=mt.fromDom(t.getDoc());Zk(t,h,a,Wk(r),u)},dm=(t,r,a)=>{const u=a.startContainer,h=a.startOffset,b=a.endContainer,E=a.endOffset;r(mt.fromDom(u),mt.fromDom(b));const R=t.dom.createRng();R.setStart(u,h),R.setEnd(b,E),t.selection.setRng(a)},nd=(t,r,a,u)=>{const h=t.pos;if(a)df(h.left,h.top,u);else{const b=h.top-r+t.height;df(h.left,b,u)}},D2=(t,r,a,u,h)=>{const b=a+r,E=u.pos.top,R=u.bottom,H=R-E>=a;E<r?nd(u,a,h!==!1,t):E>b?nd(u,a,H?h!==!1:h===!0,t):R>b&&!H&&nd(u,a,h===!0,t)},pc=(t,r,a,u)=>{const h=Hf(t).dom.innerHeight;D2(t,r,h,a,u)},ob=(t,r,a,u)=>{const h=Hf(t).dom.innerHeight;D2(t,r,h,a,u);const b=I$(a.element),E=my(window);b.top<E.y?zf(a.element,u!==!1):b.top>E.bottom&&zf(a.element,u===!0)},rb=(t,r,a)=>qk(t,pc,r,a),B2=(t,r,a)=>Gk(t,r,pc,a),hm=(t,r,a)=>qk(t,ob,r,a),px=(t,r,a)=>Gk(t,r,ob,a),H$=(t,r,a)=>{(t.inline?B2:px)(t,r,a)},sb=(t,r,a)=>{(t.inline?rb:hm)(t,r,a)},Kk=t=>t.dom.focus(),zr=t=>{const r=lu(t).dom;return t.dom===r.activeElement},Vu=(t=fm())=>q.from(t.dom.activeElement).map(mt.fromDom),X1=t=>Vu(lu(t)).filter(r=>t.dom.contains(r.dom)),m=(t,r)=>{const a=Xr(r)?Ac(r).length:gi(r).length+1;return t>a?a:t<0?0:t},C=t=>nb.range(t.start,m(t.soffset,t.start),t.finish,m(t.foffset,t.finish)),$=(t,r)=>!Cd(r.dom)&&(Ii(t,r)||ps(t,r)),L=t=>r=>$(t,r.start)&&$(t,r.finish),Z=t=>t.inline,te=t=>nb.range(mt.fromDom(t.startContainer),t.startOffset,mt.fromDom(t.endContainer),t.endOffset),Ee=t=>{const r=t.getSelection();return(!r||r.rangeCount===0?q.none():q.from(r.getRangeAt(0))).map(te)},Ie=t=>{const r=Hf(t);return Ee(r.dom).filter(L(t))},Je=(t,r)=>q.from(r).filter(L(t)).map(C),gt=t=>{const r=document.createRange();try{return r.setStart(t.start.dom,t.soffset),r.setEnd(t.finish.dom,t.foffset),q.some(r)}catch{return q.none()}},Bt=t=>{const r=Z(t)?Ie(mt.fromDom(t.getBody())):q.none();t.bookmark=r.isSome()?r:t.bookmark},hn=t=>(t.bookmark?t.bookmark:q.none()).bind(a=>Je(mt.fromDom(t.getBody()),a)).bind(gt),Rn=t=>{hn(t).each(r=>t.selection.setRng(r))},tn={isEditorUIElement:t=>{const r=t.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1}},jn=(t,r)=>(ue(r)||(r=0),setTimeout(t,r)),rn=(t,r)=>(ue(r)||(r=0),setInterval(t,r)),Yn={setEditorTimeout:(t,r,a)=>jn(()=>{t.removed||r()},a),setEditorInterval:(t,r,a)=>{const u=rn(()=>{t.removed?clearInterval(u):r()},a);return u}},Wo=t=>t.type==="nodechange"&&t.selectionChange,fr=(t,r)=>{const a=()=>{r.throttle()};_s.DOM.bind(document,"mouseup",a),t.on("remove",()=>{_s.DOM.unbind(document,"mouseup",a)})},sa=(t,r)=>{t.on("mouseup touchend",a=>{r.throttle()})},wl=(t,r)=>{sa(t,r),t.on("keyup NodeChange AfterSetSelectionRange",a=>{Wo(a)||Bt(t)})},Qa=t=>{const r=Fy(()=>{Bt(t)},0);t.on("init",()=>{t.inline&&fr(t,r),wl(t,r)}),t.on("remove",()=>{r.cancel()})};let il;const Rd=_s.DOM,ab=t=>no(t)&&tn.isEditorUIElement(t),N2=t=>{const r=t.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},pm=(t,r)=>{const a=I3(t);return Rd.getParent(r,h=>ab(h)||(a?t.dom.is(h,a):!1))!==null},$s=t=>{try{const r=lu(mt.fromDom(t.getElement()));return Vu(r).fold(()=>document.body,a=>a.dom)}catch{return document.body}},Xl=(t,r)=>{const a=r.editor;Qa(a),a.on("focusin",()=>{const u=t.focusedEditor;u!==a&&(u&&u.dispatch("blur",{focusedEditor:a}),t.setActive(a),t.focusedEditor=a,a.dispatch("focus",{blurredEditor:u}),a.focus(!0))}),a.on("focusout",()=>{Yn.setEditorTimeout(a,()=>{const u=t.focusedEditor;!pm(a,$s(a))&&u===a&&(a.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),il||(il=u=>{const h=t.activeEditor;h&&e1(u).each(b=>{const E=b;E.ownerDocument===document&&E!==document.body&&!pm(h,E)&&t.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},Rd.bind(document,"focusin",il))},Cl=(t,r)=>{t.focusedEditor===r.editor&&(t.focusedEditor=null),!t.activeEditor&&il&&(Rd.unbind(document,"focusin",il),il=null)},kf=t=>{t.on("AddEditor",re(Xl,t)),t.on("RemoveEditor",re(Cl,t))},yu=(t,r)=>t.dom.getParent(r,a=>t.dom.getContentEditable(a)==="true"),J1=t=>t.collapsed?q.from(xh(t.startContainer,t.startOffset)).map(mt.fromDom):q.none(),Jl=(t,r)=>J1(r).bind(a=>c1(a)?q.some(a):Ii(t,a)?q.none():q.some(t)),ib=(t,r)=>{Jl(mt.fromDom(t.getBody()),r).bind(a=>yi(a.dom)).fold(()=>{t.selection.normalize()},a=>t.selection.setRng(a.toRange()))},Up=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},od=t=>zr(t)||X1(t).isSome(),Sl=t=>Q(t.iframeElement)&&zr(mt.fromDom(t.iframeElement)),j$=t=>{const r=t.getBody();return r&&od(mt.fromDom(r))},z$=t=>{const r=lu(mt.fromDom(t.getElement()));return Vu(r).filter(a=>!N2(a.dom)&&pm(t,a.dom)).isSome()},gm=t=>t.inline?j$(t):Sl(t),V$=t=>gm(t)||z$(t),U$=t=>{const r=t.selection,a=t.getBody();let u=r.getRng();t.quirks.refreshContentEditable(),Q(t.bookmark)&&!gm(t)&&hn(t).each(b=>{t.selection.setRng(b),u=b});const h=yu(t,r.getNode());if(h&&t.dom.isChildOf(h,a)){Up(h),ib(t,u),lb(t);return}t.inline||(Hn.browser.isOpera()||Up(a),t.getWin().focus()),(Hn.browser.isFirefox()||t.inline)&&(Up(a),ib(t,u)),lb(t)},lb=t=>t.editorManager.setActive(t),W$=(t,r)=>{t.removed||(r?lb(t):U$(t))},Q1=(t,r,a,u,h)=>{const b=a?r.startContainer:r.endContainer,E=a?r.startOffset:r.endOffset;return q.from(b).map(mt.fromDom).map(R=>!u||!r.collapsed?sh(R,h(R,E)).getOr(R):R).bind(R=>Fr(R)?q.some(R):Li(R).filter(Fr)).map(R=>R.dom).getOr(t)},gx=(t,r,a=!1)=>Q1(t,r,!0,a,(u,h)=>Math.min(jf(u),h)),q$=(t,r,a=!1)=>Q1(t,r,!1,a,(u,h)=>h>0?h-1:h),OF=(t,r)=>{const a=t;for(;t&&bn(t)&&t.length===0;)t=r?t.nextSibling:t.previousSibling;return t||a},_F=(t,r)=>{if(!r)return t;let a=r.startContainer,u=r.endContainer;const h=r.startOffset,b=r.endOffset;let E=r.commonAncestorContainer;r.collapsed||(a===u&&b-h<2&&a.hasChildNodes()&&(E=a.childNodes[h]),bn(a)&&bn(u)&&(a.length===h?a=OF(a.nextSibling,!0):a=a.parentNode,b===0?u=OF(u.previousSibling,!1):u=u.parentNode,a&&a===u&&(E=a)));const R=bn(E)?E.parentNode:E;return no(R)?R:t},$F=(t,r,a,u)=>{const h=[],b=t.getRoot(),E=t.getParent(a||gx(b,r,r.collapsed),t.isBlock),R=t.getParent(u||q$(b,r,r.collapsed),t.isBlock);if(E&&E!==b&&h.push(E),E&&R&&E!==R){let H=E;const Y=new jr(E,b);for(;(H=Y.next())&&H!==R;)t.isBlock(H)&&h.push(H)}return R&&E!==R&&R!==b&&h.push(R),h},Wq=(t,r,a)=>q.from(r).bind(u=>q.from(u.parentNode).map(h=>{const b=t.nodeIndex(u),E=t.createRng();return E.setStart(h,b),E.setEnd(h,b+1),a&&(qS(t,E,u,!0),qS(t,E,u,!1)),E})),Z$=(t,r)=>Ve(r,a=>{const u=t.dispatch("GetSelectionRange",{range:a});return u.range!==a?u.range:a}),qq=t=>ko(t)==="img"?1:Uf(t).fold(()=>gi(t).length,r=>r.length),Zq=t=>Uf(t).filter(r=>r.trim().length!==0||r.indexOf(Ga)>-1).isSome(),Gq=["img","br"],mx=t=>Zq(t)||He(Gq,ko(t)),Kq=t=>IC(t,mx),Yq=t=>G$(t,mx),G$=(t,r)=>{const a=u=>{const h=gi(u);for(let b=h.length-1;b>=0;b--){const E=h[b];if(r(E))return q.some(E);const R=a(E);if(R.isSome())return R}return q.none()};return a(t)},DF="[data-mce-autocompleter]",BF=(t,r)=>{if(K$(mt.fromDom(t.getBody())).isNone()){const a=mt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());La(a,mt.fromDom(r.extractContents())),r.insertNode(a.dom),Li(a).each(u=>u.dom.normalize()),Yq(a).map(u=>{t.selection.setCursorLocation(u.dom,qq(u))})}},NF=t=>ah(t,DF),K$=t=>xd(t,DF),Xq=(t,r)=>K$(r).each(a=>{const u=t.selection.getBookmark();Qi(a),t.selection.moveToBookmark(u)}),Jq={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Yk=(t,r,a)=>{const u=a?"lastChild":"firstChild",h=a?"prev":"next";if(t[u])return t[u];if(t!==r){let b=t[h];if(b)return b;for(let E=t.parent;E&&E!==r;E=E.parent)if(b=E[h],b)return b}},Qq=t=>{var r;const a=(r=t.value)!==null&&r!==void 0?r:"";if(!_g(a))return!1;const u=t.parent;return!(u&&(u.name!=="span"||u.attr("style"))&&/^[ ]+$/.test(a))},vx=t=>{const r=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||r};class Qc{constructor(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}static create(r,a){const u=new Qc(r,Jq[r]||1);return a&&xn(a,(h,b)=>{u.attr(b,h)}),u}replace(r){const a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a}attr(r,a){const u=this;if(!P(r))return Q(r)&&xn(r,(b,E)=>{u.attr(E,b)}),u;const h=u.attributes;if(h){if(a!==void 0){if(a===null){if(r in h.map){delete h.map[r];let b=h.length;for(;b--;)if(h[b].name===r)return h.splice(b,1),u}return u}if(r in h.map){let b=h.length;for(;b--;)if(h[b].name===r){h[b].value=a;break}}else h.push({name:r,value:a});return h.map[r]=a,u}return h.map[r]}}clone(){const r=this,a=new Qc(r.name,r.type),u=r.attributes;if(u){const h=[];h.map={};for(let b=0,E=u.length;b<E;b++){const R=u[b];R.name!=="id"&&(h[h.length]={name:R.name,value:R.value},h.map[R.name]=R.value)}a.attributes=h}return a.value=r.value,a}wrap(r){const a=this;return a.parent&&(a.parent.insert(r,a),r.append(a)),a}unwrap(){const r=this;for(let a=r.firstChild;a;){const u=a.next;r.insert(a,r,!0),a=u}r.remove()}remove(){const r=this,a=r.parent,u=r.next,h=r.prev;return a&&(a.firstChild===r?(a.firstChild=u,u&&(u.prev=null)):h&&(h.next=u),a.lastChild===r?(a.lastChild=h,h&&(h.next=null)):u&&(u.prev=h),r.parent=r.next=r.prev=null),r}append(r){const a=this;r.parent&&r.remove();const u=a.lastChild;return u?(u.next=r,r.prev=u,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r}insert(r,a,u){r.parent&&r.remove();const h=a.parent||this;return u?(a===h.firstChild?h.firstChild=r:a.prev&&(a.prev.next=r),r.prev=a.prev,r.next=a,a.prev=r):(a===h.lastChild?h.lastChild=r:a.next&&(a.next.prev=r),r.next=a.next,r.prev=a,a.next=r),r.parent=h,r}getAll(r){const a=this,u=[];for(let h=a.firstChild;h;h=Yk(h,a))h.name===r&&u.push(h);return u}children(){const r=this,a=[];for(let u=r.firstChild;u;u=u.next)a.push(u);return a}empty(){const r=this;if(r.firstChild){const a=[];for(let h=r.firstChild;h;h=Yk(h,r))a.push(h);let u=a.length;for(;u--;){const h=a[u];h.parent=h.firstChild=h.lastChild=h.next=h.prev=null}}return r.firstChild=r.lastChild=null,r}isEmpty(r,a={},u){var h;const b=this;let E=b.firstChild;if(vx(b))return!1;if(E)do{if(E.type===1){if(E.attr("data-mce-bogus"))continue;if(r[E.name]||vx(E))return!1}if(E.type===8||E.type===3&&!Qq(E)||E.type===3&&E.parent&&a[E.parent.name]&&_g((h=E.value)!==null&&h!==void 0?h:"")||u&&u(E))return!1}while(E=Yk(E,b));return!0}walk(r){return Yk(this,null,r)}}const PF=(t,r)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(r)),Y$=(t,r,a=0)=>{const u=t.toLowerCase();if(u.indexOf("[if ",a)!==-1&&PF(u,a)){const h=u.indexOf("[endif]",a);return u.indexOf(">",h)}else if(r){const h=u.indexOf(">",a);return h!==-1?h:u.length}else{const h=/--!?>/g;h.lastIndex=a;const b=h.exec(t);return b?b.index+b[0].length:u.length}},FF=(t,r,a)=>{const u=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,h=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,b=t.getVoidElements();let E=1,R=a;for(;E!==0;)for(u.lastIndex=R;;){const H=u.exec(r);if(H===null)return R;if(H[1]==="!"){$o(H[2],"--")?R=Y$(r,!1,H.index+3):R=Y$(r,!0,H.index+1);break}else{h.lastIndex=u.lastIndex;const Y=h.exec(r);if(j(Y)||Y.index!==u.lastIndex)continue;H[1]==="/"?E-=1:To(b,H[2])||(E+=1),R=u.lastIndex+Y[0].length;break}}return R},eZ=(t,r)=>{const a=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return r.replace(a,"")},RF=(t,r)=>{const a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;let h=eZ(t.getTempAttrs(),r);const b=u.getVoidElements();let E;for(;E=a.exec(h);){const R=a.lastIndex,H=E[0].length;let Y;b[E[1]]?Y=R:Y=FF(u,h,R),h=h.substring(0,R-H)+h.substring(Y),a.lastIndex=R-H}return It(h)},tZ=RF,nZ=(t,r)=>{const a=da(t),u=new RegExp(`^(<${a}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${a}>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(u,"")},oZ=(t,r)=>{const a=t.getDoc(),u=lu(mt.fromDom(t.getBody())),h=mt.fromTag("div",a);Os(h,"data-mce-bogus","all"),vt(h,{position:"fixed",left:"-9999999px",top:"0"}),n1(h,r.innerHTML);const b=_t(h,"[data-mce-bogus]");Oe(b,H=>{va(H,"data-mce-bogus")==="all"?ts(H):lh(H)?($r(H,mt.fromText(uh)),ts(H)):Qi(H)});const E=uf(u);La(E,h);const R=It(h.dom.innerText);return ts(h),R},rZ=(t,r,a)=>{let u;return r.format==="raw"?u=nn.trim(tZ(t.serializer,a.innerHTML)):r.format==="text"?u=oZ(t,a):r.format==="tree"?u=t.serializer.serialize(a,r):u=nZ(t,t.serializer.serialize(a,r)),r.format!=="text"&&!Kr(mt.fromDom(a))&&P(u)?nn.trim(u):u},sZ=(t,r)=>q.from(t.getBody()).fold(Fe(r.format==="tree"?new Qc("body",11):""),a=>rZ(t,r,a)),MF=nn.makeMap,IF=t=>{const r=[];t=t||{};const a=t.indent,u=MF(t.indent_before||""),h=MF(t.indent_after||""),b=du.getEncodeFunc(t.entity_encoding||"raw",t.entities),E=t.element_format!=="xhtml";return{start:(R,H,Y)=>{if(a&&u[R]&&r.length>0){const ge=r[r.length-1];ge.length>0&&ge!==`
`&&r.push(`
`)}if(r.push("<",R),H)for(let ge=0,Te=H.length;ge<Te;ge++){const Ae=H[ge];r.push(" ",Ae.name,'="',b(Ae.value,!0),'"')}if(!Y||E?r[r.length]=">":r[r.length]=" />",Y&&a&&h[R]&&r.length>0){const ge=r[r.length-1];ge.length>0&&ge!==`
`&&r.push(`
`)}},end:R=>{let H;r.push("</",R,">"),a&&h[R]&&r.length>0&&(H=r[r.length-1],H.length>0&&H!==`
`&&r.push(`
`))},text:(R,H)=>{R.length>0&&(r[r.length]=H?R:b(R))},cdata:R=>{r.push("<![CDATA[",R,"]]>")},comment:R=>{r.push("<!--",R,"-->")},pi:(R,H)=>{H?r.push("<?",R," ",b(H),"?>"):r.push("<?",R,"?>"),a&&r.push(`
`)},doctype:R=>{r.push("<!DOCTYPE",R,">",a?`
`:"")},reset:()=>{r.length=0},getContent:()=>r.join("").replace(/\n$/,"")}},ev=(t={},r=Mu())=>{const a=IF(t);return t.validate="validate"in t?t.validate:!0,{serialize:h=>{const b=t.validate,E={3:H=>{var Y;a.text((Y=H.value)!==null&&Y!==void 0?Y:"",H.raw)},8:H=>{var Y;a.comment((Y=H.value)!==null&&Y!==void 0?Y:"")},7:H=>{a.pi(H.name,H.value)},10:H=>{var Y;a.doctype((Y=H.value)!==null&&Y!==void 0?Y:"")},4:H=>{var Y;a.cdata((Y=H.value)!==null&&Y!==void 0?Y:"")},11:H=>{let Y=H;if(Y=Y.firstChild)do R(Y);while(Y=Y.next)}};a.reset();const R=H=>{var Y;const ge=E[H.type];if(ge)ge(H);else{const Te=H.name,Ae=Te in r.getVoidElements();let nt=H.attributes;if(b&&nt&&nt.length>1){const st=[];st.map={};const Ge=r.getElementRule(H.name);if(Ge){for(let ct=0,ht=Ge.attributesOrder.length;ct<ht;ct++){const Et=Ge.attributesOrder[ct];if(Et in nt.map){const $t=nt.map[Et];st.map[Et]=$t,st.push({name:Et,value:$t})}}for(let ct=0,ht=nt.length;ct<ht;ct++){const Et=nt[ct].name;if(!(Et in st.map)){const $t=nt.map[Et];st.map[Et]=$t,st.push({name:Et,value:$t})}}nt=st}}if(a.start(Te,nt,Ae),!Ae){let st=H.firstChild;if(st){(Te==="pre"||Te==="textarea")&&st.type===3&&((Y=st.value)===null||Y===void 0?void 0:Y[0])===`
`&&a.text(`
`,!0);do R(st);while(st=st.next)}a.end(Te)}}};return h.type===1&&!t.inner?R(h):h.type===3?E[3](h):E[11](h),a.getContent()}}},LF=new Set;Oe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],r=>{LF.add(r)});const HF=["font","text-decoration","text-emphasis"],P2=(t,r)=>wt(t.parseStyle(t.getAttrib(r,"style"))),jF=t=>LF.has(t),zF=(t,r)=>fn(P2(t,r),a=>!jF(a)),aZ=t=>xe(t,r=>Re(HF,a=>$o(r,a))),iZ=(t,r,a)=>{const u=P2(t,r),h=P2(t,a),b=E=>{var R,H;const Y=(R=t.getStyle(r,E))!==null&&R!==void 0?R:"",ge=(H=t.getStyle(a,E))!==null&&H!==void 0?H:"";return Tr(Y)&&Tr(ge)&&Y!==ge};return Re(u,E=>{const R=H=>Re(H,Y=>Y===E);if(!R(h)&&R(HF)){const H=aZ(h);return Re(H,b)}else return b(E)})},VF=(t,r,a)=>q.from(a.container()).filter(bn).exists(u=>{const h=t?0:-1;return r(u.data.charAt(a.offset()+h))}),X$=re(VF,!0,U0),J$=re(VF,!1,U0),lZ=t=>{const r=t.container();return bn(r)&&(r.data.length===0||yt(r.data)&&om.isBookmarkNode(r.parentNode))},mm=(t,r)=>a=>DS(t?0:-1,a).filter(r).isSome(),UF=t=>MC(t)&&At(mt.fromDom(t),"display")==="block",Q$=t=>xa(t)&&!RC(t),WF=mm(!0,UF),cZ=mm(!1,UF),bx=mm(!0,ai),yx=mm(!1,ai),qF=mm(!0,hf),ZF=mm(!1,hf),tv=mm(!0,Q$),nv=mm(!1,Q$),uZ=t=>t.slice(0,-1),fZ=(t,r,a)=>Ii(r,t)?uZ(oh(t,u=>a(u)||ps(u,r))):[],GF=(t,r)=>fZ(t,r,Ce),vm=(t,r)=>[t].concat(GF(t,r)),eD=(t,r,a)=>RS(t,r,a,lZ),KF=(t,r)=>qt(vm(mt.fromDom(r.container()),t),Fu),YF=(t,r,a)=>eD(t,r.dom,a).forall(u=>KF(r,a).fold(()=>!Lu(u,a,r.dom),h=>!Lu(u,a,r.dom)&&Ii(h,mt.fromDom(u.container())))),XF=(t,r,a)=>KF(r,a).fold(()=>eD(t,r.dom,a).forall(u=>!Lu(u,a,r.dom)),u=>eD(t,u.dom,a).isNone()),tD=re(XF,!1),JF=re(XF,!0),dZ=re(YF,!1),hZ=re(YF,!0),No=t=>e2(t).exists(lh),wx=(t,r,a)=>{const u=xe(vm(mt.fromDom(a.container()),r),Fu),h=Pn(u).getOr(r);return _c(t,h.dom,a).filter(No)},Xk=(t,r)=>e2(r).exists(lh)||wx(!0,t,r).isSome(),nD=(t,r)=>t$(r).exists(lh)||wx(!1,t,r).isSome(),oD=re(wx,!1),pZ=re(wx,!0),QF=t=>Yt.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),eR=(t,r)=>{const a=xe(vm(mt.fromDom(r.container()),t),Fu);return Pn(a).getOr(t)},tR=(t,r)=>QF(r)?J$(r):J$(r)||mu(eR(t,r).dom,r).exists(J$),nR=(t,r)=>QF(r)?X$(r):X$(r)||uc(eR(t,r).dom,r).exists(X$),Jk=t=>He(["pre","pre-wrap"],t),Qk=t=>e2(t).bind(r=>Pu(r,Fr)).exists(r=>Jk(At(r,"white-space"))),ehe=(t,r)=>mu(t.dom,r).isNone(),gZ=(t,r)=>uc(t.dom,r).isNone(),kr=(t,r)=>ehe(t,r)||gZ(t,r)||tD(t,r)||JF(t,r)||nD(t,r)||Xk(t,r),mZ=t=>Q(t)&&xa(t)&&tk(t),Mr=(t,r)=>a=>mZ(new jr(a,t)[r]()),oR=(t,r)=>{const a=uc(t.dom,r).getOr(r),u=Mr(t.dom,"next");return r.isAtEnd()&&(u(r.container())||u(a.container()))},the=(t,r)=>{const a=mu(t.dom,r).getOr(r),u=Mr(t.dom,"prev");return r.isAtStart()&&(u(r.container())||u(a.container()))},nhe=(t,r)=>Qk(r)?!1:kr(t,r)||tR(t,r)||nR(t,r),Cx=(t,r)=>Qk(r)?!1:tD(t,r)||dZ(t,r)||nD(t,r)||tR(t,r)||the(t,r),ohe=t=>{const r=t.container(),a=t.offset();return bn(r)&&a<r.data.length?Yt(r,a+1):t},eA=(t,r)=>Qk(r)?!1:JF(t,r)||hZ(t,r)||Xk(t,r)||nR(t,r)||oR(t,r),rD=(t,r)=>Cx(t,r)||eA(t,ohe(r)),rR=(t,r)=>V0(t.charAt(r)),qo=(t,r)=>U0(t.charAt(r)),vZ=t=>{const r=t.container();return bn(r)&&go(r.data,Ga)},bZ=t=>{const r=t.split("");return Ve(r,(a,u)=>V0(a)&&u>0&&u<r.length-1&&i2(r[u-1])&&i2(r[u+1])?" ":a).join("")},sR=(t,r,a)=>{const u=r.data,h=Yt(r,0);return!a&&rR(u,0)&&!rD(t,h)?(r.data=" "+u.slice(1),!0):a&&qo(u,0)&&Cx(t,h)?(r.data=Ga+u.slice(1),!0):!1},Sx=t=>{const r=t.data,a=bZ(r);return a!==r?(t.data=a,!0):!1},sD=(t,r,a)=>{const u=r.data,h=Yt(r,u.length-1);return!a&&rR(u,u.length-1)&&!rD(t,h)?(r.data=u.slice(0,-1)+" ",!0):a&&qo(u,u.length-1)&&eA(t,h)?(r.data=u.slice(0,-1)+Ga,!0):!1},yZ=(t,r)=>{const a=r.container();if(!bn(a))return q.none();if(vZ(r)){const u=sR(t,a,!1)||Sx(a)||sD(t,a,!1);return rr(u,r)}else if(rD(t,r)){const u=sR(t,a,!0)||sD(t,a,!0);return rr(u,r)}else return q.none()},wZ=t=>{const r=mt.fromDom(t.getBody());t.selection.isCollapsed()&&yZ(r,Yt.fromRangeStart(t.selection.getRng())).each(a=>{t.selection.setRng(a.toRange())})},aR=(t,r,a)=>{if(a===0)return;const u=mt.fromDom(t),h=Da(u,Fu).getOr(u),b=t.data.slice(r,r+a),E=r+a>=t.data.length&&eA(h,Yt(t,t.data.length)),R=r===0&&Cx(h,Yt(t,0));t.replaceData(r,a,h1(b,4,R,E))},xx=(t,r)=>{const a=t.data.slice(r),u=a.length-fi(a).length;aR(t,r,u)},aD=(t,r)=>{const a=t.data.slice(0,r),u=a.length-ar(a).length;aR(t,r-u,u)},iR=(t,r,a,u=!0)=>{const h=ar(t.data).length,b=u?t:r,E=u?r:t;return u?b.appendData(E.data):b.insertData(0,E.data),ts(mt.fromDom(E)),a&&xx(b,h),b},rhe=(t,r)=>{const a=t.container(),u=t.offset();return!Yt.isTextPosition(t)&&a===r.parentNode&&u>Yt.before(r).offset()},CZ=(t,r)=>rhe(r,t)?Yt(r.container(),r.offset()-1):r,SZ=t=>bn(t)?Yt(t,0):Yt.before(t),xZ=t=>bn(t)?Yt(t,t.data.length):Yt.after(t),lR=t=>ya(t.previousSibling)?q.some(xZ(t.previousSibling)):t.previousSibling?vu(t.previousSibling):q.none(),iD=t=>ya(t.nextSibling)?q.some(SZ(t.nextSibling)):t.nextSibling?yi(t.nextSibling):q.none(),EZ=(t,r)=>q.from(r.previousSibling?r.previousSibling:r.parentNode).bind(a=>mu(t,Yt.before(a))).orThunk(()=>uc(t,Yt.after(r))),Qr=(t,r)=>uc(t,Yt.after(r)).orThunk(()=>mu(t,Yt.before(r))),cR=(t,r)=>lR(r).orThunk(()=>iD(r)).orThunk(()=>EZ(t,r)),tA=(t,r)=>iD(r).orThunk(()=>lR(r)).orThunk(()=>Qr(t,r)),uR=(t,r,a)=>t?tA(r,a):cR(r,a),fR=(t,r,a)=>uR(t,r,a).map(re(CZ,a)),lD=(t,r,a)=>{a.fold(()=>{t.focus()},u=>{t.selection.setRng(u.toRange(),r)})},dR=t=>r=>r.dom===t,hR=(t,r)=>r&&To(t.schema.getBlockElements(),ko(r)),kZ=t=>{if(vi(t)){const r=mt.fromHtml('<br data-mce-bogus="1">');return ba(t),La(t,r),q.some(Yt.before(r.dom))}else return q.none()},pR=(t,r,a)=>{const u=Nl(t).filter(Xr),h=rh(t).filter(Xr);return ts(t),Dl(u,h,r,(b,E,R)=>{const H=b.dom,Y=E.dom,ge=H.data.length;return iR(H,Y,a),R.container()===Y?Yt(H,ge):R}).orThunk(()=>(a&&(u.each(b=>aD(b.dom,b.dom.length)),h.each(b=>xx(b.dom,0))),r))},AZ=(t,r)=>To(t.schema.getTextInlineElements(),ko(r)),cb=(t,r,a,u=!0)=>{const h=fR(r,t.getBody(),a.dom),b=Da(a,re(hR,t),dR(t.getBody())),E=pR(a,h,AZ(t,a));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):b.bind(kZ).fold(()=>{u&&lD(t,r,E)},R=>{u&&lD(t,r,q.some(R))})},TZ=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,OZ=t=>TZ.test(t),ub=(t,r)=>xc(mt.fromDom(r),F3(t)),_Z=t=>{var r;return _s.DOM.getStyle(t,"direction",!0)==="rtl"||OZ((r=t.textContent)!==null&&r!==void 0?r:"")},$Z=(t,r,a)=>xe(_s.DOM.getParents(a.container(),"*",r),t),ov=(t,r,a)=>{const u=$Z(t,r,a);return q.from(u[u.length-1])},cD=(t,r,a)=>{const u=Qf(r,t),h=Qf(a,t);return Q(u)&&u===h},uD=t=>Ml(t)||Zc(t),rd=(t,r)=>{const a=r.container(),u=r.offset();return t?ur(a)?bn(a.nextSibling)?Yt(a.nextSibling,0):Yt.after(a):Ml(r)?Yt(a,u+1):r:ur(a)?bn(a.previousSibling)?Yt(a.previousSibling,a.previousSibling.data.length):Yt.before(a):Zc(r)?Yt(a,u-1):r},gR=re(rd,!0),mR=re(rd,!1),vR=(t,r)=>{const a=u=>u.stopImmediatePropagation();t.on("beforeinput input",a,!0),t.getDoc().execCommand(r),t.off("beforeinput input",a)},DZ=t=>{t.execCommand("delete")},bR=t=>vR(t,"Delete"),BZ=t=>vR(t,"ForwardDelete"),NZ=t=>r=>Xs(Li(r),t,ps),yR=t=>gf(t)||kc(t),nA=(t,r)=>Ii(t,r)?Pu(r,yR,NZ(t)):q.none(),fD=(t,r=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!r})},fb=(t,r,a)=>Js(yi(a),vu(a),(u,h)=>{const b=rd(!0,u),E=rd(!1,h),R=rd(!1,r);return t?uc(a,R).exists(H=>H.isEqual(E)&&r.isEqual(b)):mu(a,R).exists(H=>H.isEqual(b)&&r.isEqual(E))}).getOr(!0),wR=t=>(jc(t)?Nl(t):mp(t)).bind(wR).orThunk(()=>q.some(t)),dD=(t,r,a,u=!0)=>{var h;r.deleteContents();const b=wR(a).getOr(a),E=mt.fromDom((h=t.dom.getParent(b.dom,t.dom.isBlock))!==null&&h!==void 0?h:a.dom);if(E.dom===t.getBody()?fD(t,u):vi(E)&&(X(E),u&&t.selection.setCursorLocation(E.dom,0)),!ps(a,E)){const R=Xs(Li(E),a)?[]:Ym(E);Oe(R.concat(gi(a)),H=>{!ps(H,E)&&!Ii(H,E)&&vi(H)&&ts(H)})}},PZ=t=>r=>ps(t,r),hD=t=>_t(t,"td,th"),CR=(t,r)=>{const a=Y=>zl(mt.fromDom(Y),r),u=a(t.startContainer),h=a(t.endContainer),b=u.isSome(),E=h.isSome(),R=Js(u,h,ps).getOr(!1);return{startTable:u,endTable:h,isStartInTable:b,isEndInTable:E,isSameTable:R,isMultiTable:!R&&b&&E}},oA=(t,r)=>({start:t,end:r}),SR=(t,r,a)=>({rng:t,table:r,cells:a}),F2=Dd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ql=(t,r)=>ah(mt.fromDom(t),"td,th",r),xR=t=>!ps(t.start,t.end),ER=(t,r)=>zl(t.start,r).bind(a=>zl(t.end,r).bind(u=>rr(ps(a,u),a))),FZ=(t,r)=>!xR(t)&&ER(t,r).exists(a=>{const u=a.dom.rows;return u.length===1&&u[0].cells.length===1}),RZ=(t,r)=>{const a=Ql(t.startContainer,r),u=Ql(t.endContainer,r);return Js(a,u,oA)},MZ=t=>r=>zl(r,t).bind(a=>$n(hD(a)).map(u=>oA(r,u))),db=t=>r=>zl(r,t).bind(a=>Pn(hD(a)).map(u=>oA(u,r))),pD=t=>r=>ER(r,t).map(a=>SR(r,a,hD(a))),kR=(t,r,a,u)=>{if(a.collapsed||!t.forall(xR))return q.none();if(r.isSameTable){const h=t.bind(pD(u));return q.some({start:h,end:h})}else{const h=Ql(a.startContainer,u),b=Ql(a.endContainer,u),E=h.bind(MZ(u)).bind(pD(u)),R=b.bind(db(u)).bind(pD(u));return q.some({start:E,end:R})}},ei=(t,r)=>vn(t,a=>ps(a,r)),R2=t=>Js(ei(t.cells,t.rng.start),ei(t.cells,t.rng.end),(r,a)=>t.cells.slice(r,a+1)),she=(t,r,a)=>t.exists(u=>FZ(u,a)&&f2(u.start,r)),eu=(t,r)=>{const{startTable:a,endTable:u}=r,h=t.cloneRange();return a.each(b=>h.setStartAfter(b.dom)),u.each(b=>h.setEndBefore(b.dom)),h},ta=(t,r,a,u)=>kR(t,r,a,u).bind(({start:h,end:b})=>h.or(b)).bind(h=>{const{isSameTable:b}=r,E=R2(h).getOr([]);if(b&&h.cells.length===E.length)return q.some(F2.fullTable(h.table));if(E.length>0){if(b)return q.some(F2.partialTable(E,q.none()));{const R=eu(a,r);return q.some(F2.partialTable(E,q.some({...r,rng:R})))}}else return q.none()}),Md=(t,r,a,u)=>kR(t,r,a,u).bind(({start:h,end:b})=>{const E=h.bind(R2).getOr([]),R=b.bind(R2).getOr([]);if(E.length>0&&R.length>0){const H=eu(a,r);return q.some(F2.multiTable(E,R,H))}else return q.none()}),IZ=(t,r)=>{const a=PZ(t),u=RZ(r,a),h=CR(r,a);return she(u,r,a)?u.map(b=>F2.singleCellTable(r,b.start)):h.isMultiTable?Md(u,h,r,a):ta(u,h,r,a)},gD=t=>Oe(t,r=>{Ia(r,"contenteditable"),X(r)}),mD=(t,r)=>q.from(t.dom.getParent(r,t.dom.isBlock)).map(mt.fromDom),vD=(t,r,a)=>{a.each(u=>{r?ts(u):(X(u),t.selection.setCursorLocation(u.dom,0))})},rA=(t,r,a,u)=>{const h=a.cloneRange();u?(h.setStart(a.startContainer,a.startOffset),h.setEndAfter(r.dom.lastChild)):(h.setStartBefore(r.dom.firstChild),h.setEnd(a.endContainer,a.endOffset)),Ex(t,h,r,!1).each(b=>b())},bD=t=>{const r=Mp(t),a=mt.fromDom(t.selection.getNode());rc(a.dom)&&vi(a)?t.selection.setCursorLocation(a.dom,0):t.selection.collapse(!0),r.length>1&&Re(r,u=>ps(u,a))&&Os(a,"data-mce-selected","1")},AR=(t,r,a)=>q.some(()=>{const u=t.selection.getRng(),h=a.bind(({rng:b,isStartInTable:E})=>{const R=mD(t,E?b.endContainer:b.startContainer);b.deleteContents(),vD(t,E,R.filter(vi));const H=E?r[0]:r[r.length-1];return rA(t,H,u,E),vi(H)?q.none():q.some(E?r.slice(1):r.slice(0,-1))}).getOr(r);gD(h),bD(t)}),LZ=(t,r,a,u)=>q.some(()=>{const h=t.selection.getRng(),b=r[0],E=a[a.length-1];rA(t,b,h,!0),rA(t,E,h,!1);const R=vi(b)?r:r.slice(1),H=vi(E)?a:a.slice(0,-1);gD(R.concat(H)),u.deleteContents(),bD(t)}),Ex=(t,r,a,u=!0)=>q.some(()=>{dD(t,r,a,u)}),TR=(t,r)=>q.some(()=>cb(t,!1,r)),Dh=(t,r,a)=>IZ(r,a).bind(u=>u.fold(re(Ex,t),re(TR,t),re(AR,t),re(LZ,t))),HZ=(t,r)=>aA(t,r),jZ=(t,r,a,u)=>yD(r,u).fold(()=>Dh(t,r,a),h=>HZ(t,h)),ahe=(t,r,a)=>{const u=mt.fromDom(t.getBody()),h=t.selection.getRng();return a.length!==0?AR(t,a,q.none()):jZ(t,u,h,r)},sA=(t,r)=>qt(vm(r,t),Fl),yD=(t,r)=>qt(vm(r,t),zc("caption")),kx=(t,r,a,u,h)=>L0(a,t.getBody(),h).bind(b=>sA(r,mt.fromDom(b.getNode())).bind(E=>ps(E,u)?q.none():q.some(be))),aA=(t,r)=>q.some(()=>{X(r),t.selection.setCursorLocation(r.dom,0)}),M2=(t,r,a,u)=>yi(t.dom).bind(h=>vu(t.dom).map(b=>r?a.isEqual(h)&&u.isEqual(b):a.isEqual(b)&&u.isEqual(h))).getOr(!0),sd=(t,r)=>aA(t,r),Ax=(t,r,a)=>yD(t,mt.fromDom(a.getNode())).fold(()=>q.some(be),u=>rr(!ps(u,r),be)),na=(t,r,a,u,h)=>L0(a,t.getBody(),h).fold(()=>q.some(be),b=>M2(u,a,h,b)?sd(t,u):Ax(r,u,b)),Tx=(t,r,a,u)=>{const h=Yt.fromRangeStart(t.selection.getRng());return sA(a,u).bind(b=>vi(b)?aA(t,b):kx(t,a,r,b,h))},OR=(t,r,a,u)=>{const h=Yt.fromRangeStart(t.selection.getRng());return vi(u)?aA(t,u):na(t,a,r,u,h)},wD=(t,r)=>t?qF(r):ZF(r),CD=(t,r)=>{const a=Yt.fromRangeStart(t.selection.getRng());return wD(r,a)||_c(r,t.getBody(),a).exists(u=>wD(r,u))},SD=(t,r,a)=>{const u=mt.fromDom(t.getBody());return yD(u,a).fold(()=>Tx(t,r,u,a).orThunk(()=>rr(CD(t,r),be)),h=>OR(t,r,u,h))},Ox=(t,r)=>{const a=mt.fromDom(t.selection.getStart(!0)),u=Mp(t);return t.selection.isCollapsed()&&u.length===0?SD(t,r,a):ahe(t,a,u)},bm=(t,r)=>{let a=r;for(;a&&a!==t;){if(uu(a)||xa(a))return a;a=a.parentNode}return null},iA=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],xD=nn.each,lA=t=>{const r=t.dom,a=new Set(t.serializer.getTempAttrs()),u=(b,E)=>{if(b.nodeName!==E.nodeName||b.nodeType!==E.nodeType)return!1;const R=Y=>{const ge={};return xD(r.getAttribs(Y),Te=>{const Ae=Te.nodeName.toLowerCase();Ae!=="style"&&!h(Ae)&&(ge[Ae]=r.getAttrib(Y,Ae))}),ge},H=(Y,ge)=>{for(const Te in Y)if(To(Y,Te)){const Ae=ge[Te];if(ke(Ae)||Y[Te]!==Ae)return!1;delete ge[Te]}for(const Te in ge)if(To(ge,Te))return!1;return!0};return no(b)&&no(E)&&(!H(R(b),R(E))||!H(r.parseStyle(r.getAttrib(b,"style")),r.parseStyle(r.getAttrib(E,"style"))))?!1:!Yl(b)&&!Yl(E)},h=b=>Re(iA,E=>$o(b,E))||a.has(b);return{compare:u,isAttributeInternal:h}},_R=(t,r)=>{let a=t;for(;a=a.walk();)r(a)},ED=(t,r,a,u)=>{const h=a.name;for(let b=0,E=t.length;b<E;b++){const R=t[b];if(R.name===h){const H=u.nodes[h];H?H.nodes.push(a):u.nodes[h]={filter:R,nodes:[a]}}}if(a.attributes)for(let b=0,E=r.length;b<E;b++){const R=r[b],H=R.name;if(H in a.attributes.map){const Y=u.attributes[H];Y?Y.nodes.push(a):u.attributes[H]={filter:R,nodes:[a]}}}},$R=(t,r,a)=>{const u={nodes:{},attributes:{}};return a.firstChild&&_R(a,h=>{ED(t,r,h,u)}),u},kD=(t,r)=>{const a=(u,h)=>{xn(u,b=>{const E=_o(b.nodes);Oe(b.filter.callbacks,R=>{for(let H=E.length-1;H>=0;H--){const Y=E[H];(!(h?Y.attr(b.filter.name)!==void 0:Y.name===b.filter.name)||ae(Y.parent))&&E.splice(H,1)}E.length>0&&R(E,b.filter.name,r)})})};a(t.nodes,!1),a(t.attributes,!0)},hb=(t,r,a,u={})=>{const h=$R(t,r,a);kD(h,u)},cA=(t,r,a,u)=>{if(r.insert&&a[u.name]){const h=new Qc("br",1);h.attr("data-mce-bogus","1"),u.empty().append(h)}else u.empty().append(new Qc("#text",3)).value=Ga},AD=t=>{var r;return DR(t,"#text")&&((r=t==null?void 0:t.firstChild)===null||r===void 0?void 0:r.value)===Ga},DR=(t,r)=>{const a=t==null?void 0:t.firstChild;return Q(a)&&a===t.lastChild&&a.name===r},zZ=(t,r)=>{const a=t.getElementRule(r.name);return(a==null?void 0:a.paddEmpty)===!0},I2=(t,r,a,u)=>u.isEmpty(r,a,h=>zZ(t,h)),BR=(t,r)=>Q(t)&&(t.name in r||t.name==="br"),uA=(t,r,a=t.parent)=>{if(r.getSpecialElements()[t.name])t.empty().remove();else{const u=t.children();for(const h of u)a&&!r.isValidChild(a.name,h.name)&&uA(h,r,a);t.unwrap()}},L2=(t,r,a=be)=>{const u=r.getTextBlockElements(),h=r.getNonEmptyElements(),b=r.getWhitespaceElements(),E=nn.makeMap("tr,td,th,tbody,thead,tfoot,table"),R=new Set;for(let H=0;H<t.length;H++){const Y=t[H];let ge,Te,Ae;if(!Y.parent||R.has(Y))continue;if(u[Y.name]&&Y.parent.name==="li"){let st=Y.next;for(;st&&u[st.name];){st.name="li",R.add(st),Y.parent.insert(st,Y.parent);st=st.next}Y.unwrap();continue}const nt=[Y];for(ge=Y.parent;ge&&!r.isValidChild(ge.name,Y.name)&&!E[ge.name];ge=ge.parent)nt.push(ge);if(ge&&nt.length>1)if(r.isValidChild(ge.name,Y.name)){nt.reverse(),Te=nt[0].clone(),a(Te);let st=Te;for(let Ge=0;Ge<nt.length-1;Ge++){r.isValidChild(st.name,nt[Ge].name)?(Ae=nt[Ge].clone(),a(Ae),st.append(Ae)):Ae=st;for(let ct=nt[Ge].firstChild;ct&&ct!==nt[Ge+1];){const ht=ct.next;Ae.append(ct),ct=ht}st=Ae}I2(r,h,b,Te)?ge.insert(Y,nt[0],!0):(ge.insert(Te,nt[0],!0),ge.insert(Y,Te)),ge=nt[0],(I2(r,h,b,ge)||DR(ge,"br"))&&ge.empty().remove()}else uA(Y,r);else if(Y.parent){if(Y.name==="li"){let st=Y.prev;if(st&&(st.name==="ul"||st.name==="ol")){st.append(Y);continue}if(st=Y.next,st&&(st.name==="ul"||st.name==="ol")&&st.firstChild){st.insert(Y,st.firstChild,!0);continue}const Ge=new Qc("ul",1);a(Ge),Y.wrap(Ge);continue}if(r.isValidChild(Y.parent.name,"div")&&r.isValidChild("div",Y.name)){const st=new Qc("div",1);a(st),Y.wrap(st)}else uA(Y,r)}}},NR=(t,r,a,u)=>{const h=document.createRange();return h.setStart(t,r),h.setEnd(a,u),h},PR=t=>{const r=Yt.fromRangeStart(t),a=Yt.fromRangeEnd(t),u=t.commonAncestorContainer;return _c(!1,u,a).map(h=>!Lu(r,a,u)&&Lu(r,h,u)?NR(r.container(),r.offset(),h.container(),h.offset()):t).getOr(t)},fA=t=>t.collapsed?t:PR(t),FR=t=>Q(t.firstChild)&&t.firstChild===t.lastChild,RR=t=>t.name==="br"||t.value===Ga,MR=(t,r)=>t.getBlockElements()[r.name]&&FR(r)&&RR(r.firstChild),IR=(t,r)=>{const a=t.getNonEmptyElements();return Q(r)&&(r.isEmpty(a)||MR(t,r))},LR=(t,r)=>{let a=r.firstChild,u=r.lastChild;return a&&a.name==="meta"&&(a=a.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),IR(t,u)&&(u=u==null?void 0:u.prev),!a||a!==u?!1:a.name==="ul"||a.name==="ol"},HR=t=>{var r,a;const u=t.firstChild,h=t.lastChild;return u&&u.nodeName==="META"&&((r=u.parentNode)===null||r===void 0||r.removeChild(u)),h&&h.id==="mce_marker"&&((a=h.parentNode)===null||a===void 0||a.removeChild(h)),t},jR=(t,r,a)=>{const u=r.serialize(a),h=t.createFragment(u);return HR(h)},zR=t=>{var r;return xe((r=t==null?void 0:t.childNodes)!==null&&r!==void 0?r:[],a=>a.nodeName==="LI")},VR=t=>t.data===Ga||$a(t),UR=t=>Q(t==null?void 0:t.firstChild)&&t.firstChild===t.lastChild&&VR(t.firstChild),WR=t=>!t.firstChild||UR(t),TD=t=>t.length>0&&WR(t[t.length-1])?t.slice(0,-1):t,H2=(t,r)=>{const a=t.getParent(r,t.isBlock);return a&&a.nodeName==="LI"?a:null},qR=(t,r)=>!!H2(t,r),ZR=(t,r)=>{const a=r.cloneRange(),u=r.cloneRange();return a.setStartBefore(t),u.setEndAfter(t),[a.cloneContents(),u.cloneContents()]},dA=(t,r)=>{const a=Yt.before(t),h=Nd(r).next(a);return h?h.toRange():null},hA=(t,r)=>{const a=Yt.after(t),h=Nd(r).prev(a);return h?h.toRange():null},_x=(t,r,a,u)=>{const h=ZR(t,u),b=t.parentNode;return b&&(b.insertBefore(h[0],t),nn.each(r,E=>{b.insertBefore(E,t)}),b.insertBefore(h[1],t),b.removeChild(t)),hA(r[r.length-1],a)},OD=(t,r,a)=>{const u=t.parentNode;return u&&nn.each(r,h=>{u.insertBefore(h,t)}),dA(t,a)},GR=(t,r,a,u)=>(u.insertAfter(r.reverse(),t),hA(r[0],a)),$x=(t,r,a,u)=>{const h=jR(r,t,u),b=H2(r,a.startContainer),E=TD(zR(h.firstChild)),R=1,H=2,Y=r.getRoot(),ge=Te=>{const Ae=Yt.fromRangeStart(a),nt=Nd(r.getRoot()),st=Te===R?nt.prev(Ae):nt.next(Ae),Ge=st==null?void 0:st.getNode();return Ge?H2(r,Ge)!==b:!0};return b?ge(R)?OD(b,E,Y):ge(H)?GR(b,E,Y,r):_x(b,E,Y,a):null},_D=["pre"],$D=(t,r,a,u)=>{var h;const b=r.firstChild,E=r.lastChild,R=E.attr("data-mce-type")==="bookmark"?E.prev:E,H=b===R,Y=He(_D,b.name);if(H&&Y){const ge=b.attr("contenteditable")!=="false",Te=((h=t.getParent(a,t.isBlock))===null||h===void 0?void 0:h.nodeName.toLowerCase())===b.name,Ae=q.from(bm(u,a)).forall(uu);return ge&&Te&&Ae}else return!1},pb=rc,KR=(t,r,a)=>{if(Q(a)){const u=t.getParent(r.endContainer,pb);return a===u&&f2(mt.fromDom(a),r)}else return!1},VZ=(t,r,a)=>{var u;if(a.getAttribute("data-mce-bogus")==="all")(u=a.parentNode)===null||u===void 0||u.insertBefore(t.dom.createFragment(r),a);else{const h=a.firstChild,b=a.lastChild;!h||h===b&&h.nodeName==="BR"?t.dom.setHTML(a,r):t.selection.setContent(r,{no_events:!0})}},YR=(t,r)=>{q.from(t.getParent(r,"td,th")).map(mt.fromDom).each(_e)},XR=(t,r)=>{const a=t.schema.getTextInlineElements(),u=t.dom;if(r){const h=t.getBody(),b=lA(t);nn.each(u.select("*[data-mce-fragment]"),E=>{if(Q(a[E.nodeName.toLowerCase()])&&zF(u,E)){for(let H=E.parentElement;Q(H)&&H!==h&&!iZ(u,E,H);H=H.parentElement)if(b.compare(H,E)){u.remove(E,!0);break}}})}},UZ=t=>{let r=t;for(;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},ihe=t=>{nn.each(t.getElementsByTagName("*"),r=>{r.removeAttribute("data-mce-fragment")})},WZ=t=>!!t.getAttribute("data-mce-fragment"),DD=(t,r)=>Q(r)&&!t.schema.getVoidElements()[r.nodeName],Bh=(t,r)=>{var a,u,h;let b;const E=t.dom,R=t.selection;if(!r)return;R.scrollIntoView(r);const H=bm(t.getBody(),r);if(H&&E.getContentEditable(H)==="false"){E.remove(r),R.select(H);return}let Y=E.createRng();const ge=r.previousSibling;if(bn(ge)){Y.setStart(ge,(u=(a=ge.nodeValue)===null||a===void 0?void 0:a.length)!==null&&u!==void 0?u:0);const nt=r.nextSibling;bn(nt)&&(ge.appendData(nt.data),(h=nt.parentNode)===null||h===void 0||h.removeChild(nt))}else Y.setStartBefore(r),Y.setEndBefore(r);const Te=nt=>{let st=Yt.fromRangeStart(nt);return st=Nd(t.getBody()).next(st),st==null?void 0:st.toRange()},Ae=E.getParent(r,E.isBlock);E.remove(r),Ae&&E.isEmpty(Ae)&&(ba(mt.fromDom(Ae)),Y.setStart(Ae,0),Y.setEnd(Ae,0),!pb(Ae)&&!WZ(Ae)&&(b=Te(Y))?(Y=b,E.remove(Ae)):E.add(Ae,E.create("br",{"data-mce-bogus":"1"}))),R.setRng(Y)},BD=t=>{const r=t.dom,a=fA(t.selection.getRng());t.selection.setRng(a);const u=r.getParent(a.startContainer,pb);KR(r,a,u)?Ex(t,a,mt.fromDom(u)):t.getDoc().execCommand("Delete",!1)},pA=(t,r,a)=>{var u,h,b;const E=t.selection,R=t.dom,H=t.parser,Y=a.merge,ge=ev({validate:!0},t.schema),Te='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,Te);let Ae=E.getRng();const nt=Ae.startContainer,st=t.getBody();nt===st&&E.isCollapsed()&&R.isBlock(st.firstChild)&&DD(t,st.firstChild)&&R.isEmpty(st.firstChild)&&(Ae=R.createRng(),Ae.setStart(st.firstChild,0),Ae.setEnd(st.firstChild,0),E.setRng(Ae)),E.isCollapsed()||BD(t);const Ge=E.getNode(),ct={context:Ge.nodeName.toLowerCase(),data:a.data,insert:!0},ht=H.parse(r,ct);if(a.paste===!0&&LR(t.schema,ht)&&qR(R,Ge))return Ae=$x(ge,R,E.getRng(),ht),Ae&&E.setRng(Ae),r;a.paste===!0&&$D(R,ht,Ge,t.getBody())&&((u=ht.firstChild)===null||u===void 0||u.unwrap()),UZ(ht);let Et=ht.lastChild;if(Et&&Et.attr("id")==="mce_marker"){const $t=Et;for(Et=Et.prev;Et;Et=Et.walk(!0))if(Et.type===3||!R.isBlock(Et.name)){Et.parent&&t.schema.isValidChild(Et.parent.name,"span")&&Et.parent.insert($t,Et,Et.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(Ge),!ct.invalid)r=ge.serialize(ht),VZ(t,r,Ge);else{t.selection.setContent(Te);let $t=E.getNode(),Qt;const an=t.getBody();for(wp($t)?$t=Qt=an:Qt=$t;Qt&&Qt!==an;)$t=Qt,Qt=Qt.parentNode;r=$t===an?an.innerHTML:R.getOuterHTML($t);const Bn=H.parse(r);for(let Nn=Bn;Nn;Nn=Nn.walk())if(Nn.attr("id")==="mce_marker"){Nn.replace(ht);break}const un=ht.children(),Wt=(b=(h=ht.parent)===null||h===void 0?void 0:h.name)!==null&&b!==void 0?b:Bn.name;ht.unwrap();const Kt=xe(un,Nn=>!t.schema.isValidChild(Wt,Nn.name));L2(Kt,t.schema),hb(H.getNodeFilters(),H.getAttributeFilters(),Bn),r=ge.serialize(Bn),$t===an?R.setHTML(an,r):R.setOuterHTML($t,r)}return XR(t,Y),Bh(t,R.get("mce_marker")),ihe(t.getBody()),YR(R,E.getStart()),r},j2=t=>t instanceof Qc,qZ=t=>{gm(t)&&yi(t.getBody()).each(r=>{const a=r.getNode(),u=hf(a)?yi(a).getOr(r):r;t.selection.setRng(u.toRange())})},gA=(t,r,a)=>{t.dom.setHTML(t.getBody(),r),a!==!0&&qZ(t)},ZZ=(t,r,a,u)=>{if(a.length===0||/^\s+$/.test(a)){const h='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+h+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+h+"</li>");const b=da(t);return t.schema.isValidChild(r.nodeName.toLowerCase(),b.toLowerCase())?(a=h,a=t.dom.createHTML(b,Ll(t),a)):a||(a=h),gA(t,a,u.no_selection),{content:a,html:a}}else{u.format!=="raw"&&(a=ev({validate:!1},t.schema).serialize(t.parser.parse(a,{isRootContent:!0,insert:!0})));const h=Kr(mt.fromDom(r))?a:nn.trim(a);return gA(t,h,u.no_selection),{content:h,html:h}}},JR=(t,r,a,u)=>{hb(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),a);const h=ev({validate:!1},t.schema).serialize(a),b=Kr(mt.fromDom(r))?h:nn.trim(h);return gA(t,b,u.no_selection),{content:a,html:b}},ND=(t,r,a)=>q.from(t.getBody()).map(u=>j2(r)?JR(t,u,r,a):ZZ(t,u,r,a)).getOr({content:r,html:j2(a.content)?"":a.content}),GZ=(t,r)=>l1(t,r).isSome(),PD=t=>G(t)?t:Ce,KZ=(t,r,a)=>{let u=t.dom;const h=PD(a);for(;u.parentNode;){u=u.parentNode;const b=mt.fromDom(u),E=r(b);if(E.isSome())return E;if(h(b))break}return q.none()},gb=(t,r,a)=>{const u=r(t),h=PD(a);return u.orThunk(()=>h(t)?q.none():KZ(t,r,h))},mA=p2,QR=(t,r,a)=>{const u=t.formatter.get(a);if(u)for(let h=0;h<u.length;h++){const b=u[h];if(dc(b)&&b.inherit===!1&&t.dom.is(r,b.selector))return!0}return!1},vA=(t,r,a,u,h)=>{const b=t.dom.getRoot();if(r===b)return!1;const E=t.dom.getParent(r,R=>QR(t,R,a)?!0:R.parentNode===b||!!Wp(t,R,a,u,!0));return!!Wp(t,E,a,u,h)},bA=(t,r,a)=>Ui(a)&&mA(r,a.inline)||Sf(a)&&mA(r,a.block)?!0:dc(a)?no(r)&&t.is(r,a.selector):!1,e9=(t,r,a,u,h,b)=>{const E=a[u],R=u==="attributes";if(G(a.onmatch))return a.onmatch(r,a,u);if(E){if(ca(E)){for(let H=0;H<E.length;H++)if(R?t.getAttrib(r,E[H]):Pd(t,r,E[H]))return!0}else for(const H in E)if(To(E,H)){const Y=R?t.getAttrib(r,H):Pd(t,r,H),ge=Hp(E[H],b),Te=ae(Y)||Or(Y);if(Te&&ae(ge))continue;if(h&&Te&&!a.exact||(!h||a.exact)&&!mA(Y,Rr(ge,H)))return!1}}return!0},Wp=(t,r,a,u,h)=>{const b=t.formatter.get(a),E=t.dom;if(b&&no(r))for(let R=0;R<b.length;R++){const H=b[R];if(bA(t.dom,r,H)&&e9(E,r,H,"attributes",h,u)&&e9(E,r,H,"styles",h,u)){const Y=H.classes;if(Y){for(let ge=0;ge<Y.length;ge++)if(!t.dom.hasClass(r,Hp(Y[ge],u)))return}return H}}},FD=(t,r,a,u,h)=>{if(u)return vA(t,u,r,a,h);if(u=t.selection.getNode(),vA(t,u,r,a,h))return!0;const b=t.selection.getStart();return!!(b!==u&&vA(t,b,r,a,h))},YZ=(t,r,a)=>{const u=[],h={},b=t.selection.getStart();return t.dom.getParent(b,E=>{for(let R=0;R<r.length;R++){const H=r[R];!h[H]&&Wp(t,E,H,a)&&(h[H]=!0,u.push(H))}},t.dom.getRoot()),u},t9=(t,r)=>{const a=h=>ps(h,mt.fromDom(t.getBody())),u=(h,b)=>Wp(t,h.dom,b)?q.some(b):q.none();return q.from(t.selection.getStart(!0)).bind(h=>gb(mt.fromDom(h),b=>mr(r,E=>u(b,E)),a)).getOrNull()},XZ=(t,r)=>{const a=t.formatter.get(r),u=t.dom;if(a){const h=t.selection.getStart(),b=zp(u,h);for(let E=a.length-1;E>=0;E--){const R=a[E];if(!dc(R))return!0;for(let H=b.length-1;H>=0;H--)if(u.is(b[H],R.selector))return!0}}return!1},RD=(t,r,a)=>Xe(a,(u,h)=>{const b=U1(t,h);return t.formatter.matchNode(r,h,{},b)?u.concat([h]):u},[]),Id=$e,JZ=(t,r)=>t.importNode(r,!0),QZ=t=>{const r=[];let a=t;for(;a;){if(bn(a)&&a.data!==Id||a.childNodes.length>1)return[];no(a)&&r.push(a),a=a.firstChild}return r},Dx=t=>QZ(t).length>0,MD=t=>{if(t){const r=new jr(t,t);for(let a=r.current();a;a=r.next())if(bn(a))return a}return null},yA=t=>{const r=mt.fromTag("span");return Jr(r,{id:o2,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&La(r,mt.fromText(Id)),r},eG=t=>{const r=MD(t);return r&&r.data.charAt(0)===Id&&r.deleteData(0,1),r},wA=(t,r,a=!0)=>{const u=t.dom,h=t.selection;if(Dx(r))cb(t,!1,mt.fromDom(r),a);else{const b=h.getRng(),E=u.getParent(r,u.isBlock),R=b.startContainer,H=b.startOffset,Y=b.endContainer,ge=b.endOffset,Te=eG(r);u.remove(r,!0),R===Te&&H>0&&b.setStart(Te,H-1),Y===Te&&ge>0&&b.setEnd(Te,ge-1),E&&u.isEmpty(E)&&X(mt.fromDom(E)),h.setRng(b)}},ID=(t,r,a=!0)=>{const u=t.dom,h=t.selection;if(r)wA(t,r,a);else if(r=L1(t.getBody(),h.getStart()),!r)for(;r=u.get(o2);)wA(t,r,!1)},z2=(t,r,a)=>{var u,h;const b=t.dom,E=b.getParent(a,re(G0,t));E&&b.isEmpty(E)?(u=a.parentNode)===null||u===void 0||u.replaceChild(r,a):(mi(mt.fromDom(a)),b.isEmpty(a)?(h=a.parentNode)===null||h===void 0||h.replaceChild(r,a):b.insertAfter(r,a))},LD=(t,r)=>(t.appendChild(r),r),HD=(t,r)=>{var a;const u=ot(t,(b,E)=>LD(b,E.cloneNode(!1)),r),h=(a=u.ownerDocument)!==null&&a!==void 0?a:document;return LD(u,h.createTextNode(Id))},n9=(t,r,a,u,h,b)=>{const E=t.formatter,R=t.dom,H=xe(wt(E.get()),Te=>Te!==u&&!go(Te,"removeformat")),Y=RD(t,a,H);if(xe(Y,Te=>!pk(t,Te,u)).length>0){const Te=a.cloneNode(!1);return R.add(r,Te),E.remove(u,h,Te,b),R.remove(Te),q.some(Te)}else return q.none()},CA=(t,r,a)=>{let u;const h=t.selection,b=t.formatter.get(r);if(!b)return;const E=h.getRng();let R=E.startOffset;const Y=E.startContainer.nodeValue;u=L1(t.getBody(),h.getStart());const ge=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Y&&R>0&&R<Y.length&&ge.test(Y.charAt(R))&&ge.test(Y.charAt(R-1))){const Te=h.getBookmark();E.collapse(!0);let Ae=q1(t,E,b);Ae=_2(Ae),t.formatter.apply(r,a,Ae),h.moveToBookmark(Te)}else{let Te=u?MD(u):null;(!u||(Te==null?void 0:Te.data)!==Id)&&(u=JZ(t.getDoc(),yA(!0).dom),Te=u.firstChild,E.insertNode(u),R=1),t.formatter.apply(r,a,u),h.setCursorLocation(Te,R)}},o9=(t,r,a,u)=>{const h=t.dom,b=t.selection;let E=!1;const R=t.formatter.get(r);if(!R)return;const H=b.getRng(),Y=H.startContainer,ge=H.startOffset;let Te=Y;bn(Y)&&(ge!==Y.data.length&&(E=!0),Te=Te.parentNode);const Ae=[];let nt;for(;Te;){if(Wp(t,Te,r,a,u)){nt=Te;break}Te.nextSibling&&(E=!0),Ae.push(Te),Te=Te.parentNode}if(!!nt)if(E){const st=b.getBookmark();H.collapse(!0);let Ge=q1(t,H,R,!0);Ge=_2(Ge),t.formatter.remove(r,a,Ge,u),b.moveToBookmark(st)}else{const st=L1(t.getBody(),nt),Ge=yA(!1).dom;z2(t,Ge,st!=null?st:nt);const ct=n9(t,Ge,nt,r,a,u),ht=HD(Ae.concat(ct.toArray()),Ge);st&&wA(t,st,!1),b.setCursorLocation(ht,1),h.isEmpty(nt)&&h.remove(nt)}},tG=(t,r)=>{const a=t.selection,u=t.getBody();ID(t,null,!1),(r===8||r===46)&&a.isCollapsed()&&a.getStart().innerHTML===Id&&ID(t,L1(u,a.getStart())),(r===37||r===39)&&ID(t,L1(u,a.getStart()))},r9=t=>{t.on("mouseup keydown",r=>{tG(t,r.keyCode)})},nG=(t,r)=>{const a=yA(!1),u=HD(r,a.dom);return $r(mt.fromDom(t),a),ts(mt.fromDom(t)),Yt(u,0)},oG=(t,r)=>{const a=t.schema.getTextInlineElements();return To(a,ko(r))&&!Hu(r.dom)&&!Bu(r.dom)},SA=t=>Hu(t.dom)&&Dx(t.dom),V2={},xA=oc(["pre"]),rG=(t,r)=>{V2[t]||(V2[t]=[]),V2[t].push(r)},sG=(t,r)=>{To(V2,t)&&Oe(V2[t],a=>{a(r)})};rG("pre",t=>{const r=t.selection.getRng(),a=h=>b=>{const E=b.previousSibling;return xA(E)&&He(h,E)},u=(h,b)=>{const E=mt.fromDom(b),R=Vc(E).dom;ts(E),er(mt.fromDom(h),[mt.fromTag("br",R),mt.fromTag("br",R),...gi(E)])};if(!r.collapsed){const h=t.selection.getSelectedBlocks(),b=xe(xe(h,xA),a(h));Oe(b,E=>{u(E.previousSibling,E)})}});const jD=["fontWeight","fontStyle","color","fontSize","fontFamily"],zD=t=>I(t.styles)&&Re(wt(t.styles),r=>He(jD,r)),s9=t=>qt(t,r=>Ui(r)&&r.inline==="span"&&zD(r)),a9=(t,r)=>{const a=t.get(r);return K(a)?s9(a):q.none()},i9=(t,r)=>mu(r,Yt.fromRangeStart(t)).isNone(),l9=(t,r)=>uc(r,Yt.fromRangeEnd(t)).exists(a=>!$a(a.getNode())||uc(r,a).isSome())===!1,Bx=t=>r=>Eg(r)&&t.getContentEditableParent(r)!=="false",ym=t=>{const r=t.getSelectedBlocks(),a=t.getRng();if(t.isCollapsed())return[];if(r.length===1)return i9(a,r[0])&&l9(a,r[0])?r:[];{const u=Pn(r).filter(E=>i9(a,E)).toArray(),h=$n(r).filter(E=>l9(a,E)).toArray(),b=r.slice(1,-1);return u.concat(b).concat(h)}},aG=t=>xe(ym(t),Bx(t.dom)),EA=t=>xe(t.getSelectedBlocks(),Bx(t.dom)),ti=nn.each,Nx=t=>no(t)&&!Yl(t)&&!Hu(t)&&!Bu(t),kA=(t,r)=>{for(let a=t;a;a=a[r]){if(bn(a)&&Tr(a.data))return t;if(no(a)&&!Yl(a))return a}return t},wm=(t,r,a)=>{const u=lA(t),h=no(r)&&Ip(r),b=no(a)&&Ip(a);if(h&&b){const E=kA(r,"previousSibling"),R=kA(a,"nextSibling");if(u.compare(E,R)){for(let H=E.nextSibling;H&&H!==R;){const Y=H;H=H.nextSibling,E.appendChild(Y)}return t.dom.remove(R),nn.each(nn.grep(R.childNodes),H=>{E.appendChild(H)}),E}}return a},c9=(t,r,a,u)=>{var h;if(u&&r.merge_siblings!==!1){const b=(h=wm(t,GS(u),u))!==null&&h!==void 0?h:u;wm(t,b,GS(b,!0))}},u9=(t,r,a)=>{if(r.clear_child_styles){const u=r.links?"*:not(a)":"*";ti(t.select(u,a),h=>{Nx(h)&&Ip(h)&&ti(r.styles,(b,E)=>{t.setStyle(h,E,"")})})}},mb=(t,r,a)=>{ti(t.childNodes,u=>{Nx(u)&&(r(u)&&a(u),u.hasChildNodes()&&mb(u,r,a))})},iG=(t,r)=>{r.nodeName==="SPAN"&&t.getAttribs(r).length===0&&t.remove(r,!0)},f9=(t,r)=>a=>!!(a&&Pd(t,a,r)),vb=(t,r,a)=>u=>{t.setStyle(u,r,a),u.getAttribute("style")===""&&u.removeAttribute("style"),iG(t,u)},U2=Dd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),bb=/^(src|href|style)$/,VD=nn.each,Cm=p2,Nh=t=>/^(TR|TH|TD)$/.test(t.nodeName),Px=(t,r,a)=>t.isChildOf(r,a)&&r!==a&&!t.isBlock(a),AA=(t,r,a)=>{let u=r[a?"startContainer":"endContainer"],h=r[a?"startOffset":"endOffset"];if(no(u)){const b=u.childNodes.length-1;!a&&h&&h--,u=u.childNodes[h>b?b:h]}return bn(u)&&a&&h>=u.data.length&&(u=new jr(u,t.getBody()).next()||u),bn(u)&&!a&&h===0&&(u=new jr(u,t.getBody()).prev()||u),u},d9=(t,r)=>{const a=r?"firstChild":"lastChild",u=t[a];return Nh(t)&&u?t.nodeName==="TR"&&u[a]||u:t},UD=(t,r,a,u)=>{var h;const b=t.create(a,u);return(h=r.parentNode)===null||h===void 0||h.insertBefore(b,r),b.appendChild(r),b},Fx=(t,r,a,u,h)=>{const b=mt.fromDom(r),E=mt.fromDom(t.create(u,h)),R=a?vd(b):gp(b);return er(E,R),a?($r(b,E),Hi(E,b)):(ea(b,E),La(E,b)),E.dom},lG=(t,r)=>r.links&&t.nodeName==="A",Ld=(t,r,a)=>{const u=r.parentNode;let h;const b=t.dom,E=da(t);Sf(a)&&u===b.getRoot()&&(!a.list_block||!Cm(r,a.list_block))&&Oe(_o(r.childNodes),R=>{Lp(t,E,R.nodeName.toLowerCase())?h?h.appendChild(R):(h=UD(b,R,E),b.setAttribs(h,Ll(t))):h=null}),!(XS(a)&&!Cm(a.inline,r))&&b.remove(r,!0)},Rx=(t,r,a)=>ue(t)?{name:r,value:null}:{name:t,value:Hp(r,a)},WD=(t,r)=>{t.getAttrib(r,"style")===""&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style"))},TA=(t,r,a,u,h)=>{let b=!1;VD(a.styles,(E,R)=>{const{name:H,value:Y}=Rx(R,E,u),ge=Rr(Y,H);(a.remove_similar||j(Y)||!no(h)||Cm(Pd(t,h,H),ge))&&t.setStyle(r,H,""),b=!0}),b&&WD(t,r)},qD=(t,r,a)=>{r==="removeformat"?Oe(EA(t.selection),u=>{Oe(jD,h=>t.dom.setStyle(u,h,"")),WD(t.dom,u)}):a9(t.formatter,r).each(u=>{Oe(EA(t.selection),h=>TA(t.dom,h,u,a,null))})},rv=(t,r,a,u,h)=>{const b=t.dom,E=lA(t);if(!r.ceFalseOverride&&u&&b.getContentEditableParent(u)==="false"||u&&!bA(b,u,r)&&!lG(u,r))return U2.keep();const R=u,H=r.preserve_attributes;if(Ui(r)&&r.remove==="all"&&K(H)){const Y=xe(b.getAttribs(R),ge=>He(H,ge.name.toLowerCase()));if(b.removeAllAttribs(R),Oe(Y,ge=>b.setAttrib(R,ge.name,ge.value)),Y.length>0)return U2.rename("span")}if(r.remove!=="all"){TA(b,R,r,a,h),VD(r.attributes,(ge,Te)=>{const{name:Ae,value:nt}=Rx(Te,ge,a);if(r.remove_similar||j(nt)||!no(h)||Cm(b.getAttrib(h,Ae),nt)){if(Ae==="class"){const st=b.getAttrib(R,Ae);if(st){let Ge="";if(Oe(st.split(/\s+/),ct=>{/mce\-\w+/.test(ct)&&(Ge+=(Ge?" ":"")+ct)}),Ge){b.setAttrib(R,Ae,Ge);return}}}if(bb.test(Ae)&&R.removeAttribute("data-mce-"+Ae),Ae==="style"&&oc(["li"])(R)&&b.getStyle(R,"list-style-type")==="none"){R.removeAttribute(Ae),b.setStyle(R,"list-style-type","none");return}Ae==="class"&&R.removeAttribute("className"),R.removeAttribute(Ae)}}),VD(r.classes,ge=>{ge=Hp(ge,a),(!no(h)||b.hasClass(h,ge))&&b.removeClass(R,ge)});const Y=b.getAttribs(R);for(let ge=0;ge<Y.length;ge++){const Te=Y[ge].nodeName;if(!E.isAttributeInternal(Te))return U2.keep()}}return r.remove!=="none"?(Ld(t,R,r),U2.removed()):U2.keep()},yb=(t,r,a,u,h)=>rv(t,r,a,u,h).fold(Ce,b=>(t.dom.rename(u,b),!0),me),cG=(t,r,a,u,h)=>{let b;return r.parentNode&&Oe(zp(t.dom,r.parentNode).reverse(),E=>{if(!b&&no(E)&&E.id!=="_start"&&E.id!=="_end"){const R=Wp(t,E,a,u,h);R&&R.split!==!1&&(b=E)}}),b},h9=(t,r,a,u)=>rv(t,r,a,u,u).fold(Fe(u),h=>(t.dom.createFragment().appendChild(u),t.dom.rename(u,h)),Fe(null)),uG=(t,r,a,u,h,b,E,R)=>{var H,Y;let ge,Te;const Ae=t.dom;if(a){const nt=a.parentNode;for(let st=u.parentNode;st&&st!==nt;st=st.parentNode){let Ge=Ae.clone(st,!1);for(let ct=0;ct<r.length&&(Ge=h9(t,r[ct],R,Ge),Ge!==null);ct++);Ge&&(ge&&Ge.appendChild(ge),Te||(Te=Ge),ge=Ge)}b&&(!E.mixed||!Ae.isBlock(a))&&(u=(H=Ae.split(a,u))!==null&&H!==void 0?H:u),ge&&Te&&((Y=h.parentNode)===null||Y===void 0||Y.insertBefore(ge,h),Te.appendChild(h),Ui(E)&&c9(t,E,R,ge))}return u},p9=(t,r,a,u,h)=>{const b=t.formatter.get(r),E=b[0],R=t.dom,H=t.selection,Y=Ge=>{const ct=cG(t,Ge,r,a,h);return uG(t,b,ct,Ge,Ge,!0,E,a)},ge=Ge=>Yl(Ge)&&no(Ge)&&(Ge.id==="_start"||Ge.id==="_end"),Te=Ge=>Re(b,ct=>yb(t,ct,a,Ge,Ge)),Ae=Ge=>{const ct=_o(Ge.childNodes),Et=Te(Ge)||Re(b,an=>bA(R,Ge,an)),$t=Ge.parentNode;if(!Et&&Q($t)&&W1(E)&&Te($t),E.deep&&ct.length)for(let an=0;an<ct.length;an++)Ae(ct[an]);Oe(["underline","line-through","overline"],an=>{no(Ge)&&t.dom.getStyle(Ge,"text-decoration")===an&&Ge.parentNode&&jp(R,Ge.parentNode)===an&&yb(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:an}},void 0,Ge)})},nt=Ge=>{const ct=R.get(Ge?"_start":"_end");if(ct){let ht=ct[Ge?"firstChild":"lastChild"];return ge(ht)&&(ht=ht[Ge?"firstChild":"lastChild"]),bn(ht)&&ht.data.length===0&&(ht=Ge?ct.previousSibling||ct.nextSibling:ct.nextSibling||ct.previousSibling),R.remove(ct,!0),ht}else return null},st=Ge=>{let ct,ht,Et=q1(t,Ge,b,Ge.collapsed);if(E.split){if(Et=_2(Et),ct=AA(t,Et,!0),ht=AA(t,Et),ct!==ht){if(ct=d9(ct,!0),ht=d9(ht,!1),Px(R,ct,ht)){const Qt=q.from(ct.firstChild).getOr(ct);Y(Fx(R,Qt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),nt(!0);return}if(Px(R,ht,ct)){const Qt=q.from(ht.lastChild).getOr(ht);Y(Fx(R,Qt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),nt(!1);return}ct=UD(R,ct,"span",{id:"_start","data-mce-type":"bookmark"}),ht=UD(R,ht,"span",{id:"_end","data-mce-type":"bookmark"});const $t=R.createRng();$t.setStartAfter(ct),$t.setEndBefore(ht),X0(R,$t,Qt=>{Oe(Qt,an=>{!Yl(an)&&!Yl(an.parentNode)&&Y(an)})}),Y(ct),Y(ht),ct=nt(!0),ht=nt()}else ct=ht=Y(ct);Et.startContainer=ct.parentNode?ct.parentNode:ct,Et.startOffset=R.nodeIndex(ct),Et.endContainer=ht.parentNode?ht.parentNode:ht,Et.endOffset=R.nodeIndex(ht)+1}X0(R,Et,$t=>{Oe($t,Ae)})};if(u){if(z1(u)){const Ge=R.createRng();Ge.setStartBefore(u),Ge.setEndAfter(u),st(Ge)}else st(u);sm(t,r,u,a);return}!H.isCollapsed()||!Ui(E)||Mp(t).length?(d2(t,()=>ZS(t,st),Ge=>Ui(E)&&FD(t,r,a,Ge)),t.nodeChanged()):o9(t,r,a,h),qD(t,r,a),sm(t,r,u,a)},g9=nn.each,fG=(t,r,a,u)=>{const h=b=>{if(no(b)&&no(b.parentNode)&&Ip(b)){const E=jp(t,b.parentNode);t.getStyle(b,"color")&&E?t.setStyle(b,"text-decoration",E):t.getStyle(b,"text-decoration")===E&&t.setStyle(b,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(nn.walk(u,h,"childNodes"),h(u))},Mx=(t,r,a,u)=>{if(r.styles&&r.styles.backgroundColor){const h=f9(t,"fontSize");mb(u,b=>h(b)&&Ip(b),vb(t,"backgroundColor",Hp(r.styles.backgroundColor,a)))}},dG=(t,r,a,u)=>{if(Ui(r)&&(r.inline==="sub"||r.inline==="sup")){const h=f9(t,"fontSize");mb(u,E=>h(E)&&Ip(E),vb(t,"fontSize",""));const b=xe(t.select(r.inline==="sup"?"sub":"sup",u),Ip);t.remove(b,!0)}},m9=(t,r,a,u)=>{g9(r,h=>{Ui(h)&&g9(t.dom.select(h.inline,u),b=>{Nx(b)&&yb(t,h,a,b,h.exact?b:null)}),u9(t.dom,h,u)})},ZD=(t,r,a,u,h)=>{const b=h.parentNode;Wp(t,b,a,u)&&yb(t,r,u,h)||r.merge_with_parents&&b&&t.dom.getParent(b,E=>Wp(t,E,a,u)?(yb(t,r,u,h),!0):!1)},OA=nn.each,v9=(t,r,a,u)=>{if(T0(t)&&Ui(r)&&a.parentNode){const h=d0(t.schema),b=GZ(mt.fromDom(a),E=>Hu(E.dom));return xs(h,u)&&vi(mt.fromDom(a.parentNode),!1)&&!b}else return!1},GD=(t,r,a,u)=>{if(OA(a.styles,(h,b)=>{t.setStyle(r,b,Hp(h,u))}),a.styles){const h=t.getAttrib(r,"style");h&&t.setAttrib(r,"data-mce-style",h)}},b9=(t,r,a,u)=>{const h=t.formatter.get(r),b=h[0],E=!u&&t.selection.isCollapsed(),R=t.dom,H=t.selection,Y=(st,Ge=b)=>{G(Ge.onformat)&&Ge.onformat(st,Ge,a,u),GD(R,st,Ge,a),OA(Ge.attributes,(ct,ht)=>{R.setAttrib(st,ht,Hp(ct,a))}),OA(Ge.classes,ct=>{const ht=Hp(ct,a);R.hasClass(st,ht)||R.addClass(st,ht)})},ge=(st,Ge)=>{let ct=!1;return OA(st,ht=>dc(ht)?R.getContentEditable(Ge)==="false"&&!ht.ceFalseOverride||Q(ht.collapsed)&&ht.collapsed!==E?!0:R.is(Ge,ht.selector)&&!Hu(Ge)?(Y(Ge,ht),ct=!0,!1):!0:!1),ct},Te=st=>{if(P(st)){const Ge=R.create(st);return Y(Ge),Ge}else return null},Ae=(st,Ge,ct)=>{const ht=[];let Et=!0;const $t=b.inline||b.block,Qt=Te($t),an=Wt=>g2(b)&&Wp(t,Wt,r,a),Bn=(Wt,Kt,Nn)=>{const vo=YS(b)&&G0(t,Wt)&&Lp(t,Kt,$t);return Nn&&vo},un=(Wt,Kt,Nn,vo)=>{const Ao=Wt.nodeName.toLowerCase(),ir=Lp(t,$t,Ao)&&Lp(t,Kt,$t),Zr=!ct&&bn(Wt)&&yt(Wt.data),vs=Hu(Wt),Gs=!Ui(b)||!st.isBlock(Wt);return(Nn||vo)&&ir&&!Zr&&!vs&&Gs};X0(st,Ge,Wt=>{let Kt;const Nn=vo=>{let Ao=!1,ir=Et,Zr=!1;const vs=vo.nodeName.toLowerCase(),Gs=vo.parentNode,xl=Gs.nodeName.toLowerCase(),On=st.getContentEditable(vo);Q(On)&&(ir=Et,Et=On==="true",Ao=!0,Zr=hk(t,vo));const dr=Et&&!Ao;if($a(vo)&&!v9(t,b,vo,xl)){Kt=null,Sf(b)&&st.remove(vo);return}if(an(vo)){Kt=null;return}if(Bn(vs,xl,dr)){const Nr=st.rename(vo,$t);Y(Nr),ht.push(Nr),Kt=null;return}if(dc(b)){let Nr=ge(h,vo);if(!Nr&&Q(Gs)&&W1(b)&&(Nr=ge(h,Gs)),!Ui(b)||Nr){Kt=null;return}}Q(Qt)&&un(vo,xl,dr,Zr)?(Kt||(Kt=st.clone(Qt,!1),Gs.insertBefore(Kt,vo),ht.push(Kt)),Zr&&Ao&&(Et=ir),Kt.appendChild(vo)):(Kt=null,Oe(_o(vo.childNodes),Nn),Ao&&(Et=ir),Kt=null)};Oe(Wt,Nn)}),b.links===!0&&Oe(ht,Wt=>{const Kt=Nn=>{Nn.nodeName==="A"&&Y(Nn,b),Oe(_o(Nn.childNodes),Kt)};Kt(Wt)}),Oe(ht,Wt=>{const Kt=Ao=>{let ir=0;return Oe(Ao.childNodes,Zr=>{!kF(Zr)&&!Yl(Zr)&&ir++}),ir},Nn=Ao=>qt(Ao.childNodes,V1).filter(Zr=>st.getContentEditable(Zr)!=="false"&&bA(st,Zr,b)).map(Zr=>{const vs=st.clone(Zr,!1);return Y(vs),st.replace(vs,Ao,!0),st.remove(Zr,!0),vs}).getOr(Ao),vo=Kt(Wt);if((ht.length>1||!st.isBlock(Wt))&&vo===0){st.remove(Wt,!0);return}(Ui(b)||Sf(b)&&b.wrapper)&&(!b.exact&&vo===1&&(Wt=Nn(Wt)),m9(t,h,a,Wt),ZD(t,b,r,a,Wt),Mx(st,b,a,Wt),fG(st,b,a,Wt),dG(st,b,a,Wt),c9(t,b,a,Wt))})},nt=z1(u)?u:H.getNode();if(R.getContentEditable(nt)==="false"&&!hk(t,nt)){u=nt,ge(h,u),w2(t,r,u,a);return}if(b){if(u)if(z1(u)){if(!ge(h,u)){const st=R.createRng();st.setStartBefore(u),st.setEndAfter(u),Ae(R,q1(t,st,h),!0)}}else Ae(R,u,!0);else!E||!Ui(b)||Mp(t).length?(H.setRng(fA(H.getRng())),d2(t,()=>{ZS(t,(st,Ge)=>{const ct=Ge?st:q1(t,st,h);Ae(R,ct,!1)})},me),t.nodeChanged()):CA(t,r,a),a9(t.formatter,r).each(st=>{Oe(aG(t.selection),Ge=>GD(R,Ge,st,a))});sG(r,t)}w2(t,r,u,a)},y9=t=>To(t,"vars"),hG=(t,r)=>{t.set({}),r.on("NodeChange",a=>{x9(r,a.element,t.get())}),r.on("FormatApply FormatRemove",a=>{const u=q.from(a.node).map(h=>z1(h)?h:h.startContainer).bind(h=>no(h)?q.some(h):q.from(h.parentElement)).getOrThunk(()=>w9(r));x9(r,u,t.get())})},w9=t=>t.selection.getStart(),C9=(t,r,a,u,h)=>jt(r,R=>{const H=t.formatter.matchNode(R,a,h!=null?h:{},u);return!ke(H)},R=>QR(t,R,a)?!0:u?!1:Q(t.formatter.matchNode(R,a,h,!0))),S9=(t,r)=>{const a=r!=null?r:w9(t);return xe(zp(t.dom,a),u=>no(u)&&!Bu(u))},x9=(t,r,a)=>{const u=S9(t,r);xn(a,(h,b)=>{const E=R=>{const H=C9(t,u,b,R.similar,y9(R)?R.vars:void 0),Y=H.isSome();if(R.state.get()!==Y){R.state.set(Y);const ge=H.getOr(r);y9(R)?R.callback(Y,{node:ge,format:b,parents:u}):Oe(R.callbacks,Te=>Te(Y,{node:ge,format:b,parents:u}))}};Oe([h.withSimilar,h.withoutSimilar],E),Oe(h.withVars,E)})},pG=(t,r,a,u,h,b)=>{const E=r.get();Oe(a.split(","),R=>{const H=Jo(E,R).getOrThunk(()=>{const ge={withSimilar:{state:ii(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ii(!1),similar:!1,callbacks:[]},withVars:[]};return E[R]=ge,ge}),Y=()=>{const ge=S9(t);return C9(t,ge,R,h,b).isSome()};if(ke(b)){const ge=h?H.withSimilar:H.withoutSimilar;ge.callbacks.push(u),ge.callbacks.length===1&&ge.state.set(Y())}else H.withVars.push({state:ii(Y()),similar:h,vars:b,callback:u})}),r.set(E)},gG=(t,r,a)=>{const u=t.get();Oe(r.split(","),h=>Jo(u,h).each(b=>{u[h]={withSimilar:{...b.withSimilar,callbacks:xe(b.withSimilar.callbacks,E=>E!==a)},withoutSimilar:{...b.withoutSimilar,callbacks:xe(b.withoutSimilar.callbacks,E=>E!==a)},withVars:xe(b.withVars,E=>E.callback!==a)}})),t.set(u)},mG=(t,r,a,u,h,b)=>(pG(t,r,a,u,h,b),{unbind:()=>gG(r,a,u)}),vG=(t,r,a,u)=>{const h=t.formatter.get(r);h&&(FD(t,r,a,u)&&(!("toggle"in h[0])||h[0].toggle)?p9(t,r,a,u):b9(t,r,a,u))};function wb(t){return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wb(t)}function KD(t,r){return KD=Object.setPrototypeOf||function(u,h){return u.__proto__=h,u},KD(t,r)}function E9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _A(t,r,a){return E9()?_A=Reflect.construct:_A=function(h,b,E){var R=[null];R.push.apply(R,b);var H=Function.bind.apply(h,R),Y=new H;return E&&KD(Y,E.prototype),Y},_A.apply(null,arguments)}function wu(t){return bG(t)||yG(t)||wG(t)||k9()}function bG(t){if(Array.isArray(t))return YD(t)}function yG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wG(t,r){if(!!t){if(typeof t=="string")return YD(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return YD(t,r)}}function YD(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,u=new Array(r);a<r;a++)u[a]=t[a];return u}function k9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var CG=Object.hasOwnProperty,A9=Object.setPrototypeOf,SG=Object.isFrozen,xG=Object.getPrototypeOf,EG=Object.getOwnPropertyDescriptor,Uu=Object.freeze,qp=Object.seal,kG=Object.create,T9=typeof Reflect<"u"&&Reflect,$A=T9.apply,Ix=T9.construct;$A||($A=function(r,a,u){return r.apply(a,u)}),Uu||(Uu=function(r){return r}),qp||(qp=function(r){return r}),Ix||(Ix=function(r,a){return _A(r,wu(a))});var O9=Ph(Array.prototype.forEach),lhe=Ph(Array.prototype.pop),sv=Ph(Array.prototype.push),Lx=Ph(String.prototype.toLowerCase),Hx=Ph(String.prototype.match),Hd=Ph(String.prototype.replace),_9=Ph(String.prototype.indexOf),che=Ph(String.prototype.trim),Wu=Ph(RegExp.prototype.test),$9=AG(TypeError);function Ph(t){return function(r){for(var a=arguments.length,u=new Array(a>1?a-1:0),h=1;h<a;h++)u[h-1]=arguments[h];return $A(t,r,u)}}function AG(t){return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return Ix(t,a)}}function Zs(t,r){A9&&A9(t,null);for(var a=r.length;a--;){var u=r[a];if(typeof u=="string"){var h=Lx(u);h!==u&&(SG(r)||(r[a]=h),u=h)}t[u]=!0}return t}function Cb(t){var r=kG(null),a;for(a in t)$A(CG,t,[a])&&(r[a]=t[a]);return r}function jx(t,r){for(;t!==null;){var a=EG(t,r);if(a){if(a.get)return Ph(a.get);if(typeof a.value=="function")return Ph(a.value)}t=xG(t)}function u(h){return console.warn("fallback value for",h),null}return u}var D9=Uu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zx=Uu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),XD=Uu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),DA=Uu(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),BA=Uu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Wi=Uu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),TG=Uu(["#text"]),OG=Uu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B9=Uu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_G=Uu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qu=Uu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),NA=qp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Vx=qp(/<%[\w\W]*|[\w\W]*%>/gm),Ux=qp(/^data-[\-\w.\u00B7-\uFFFF]/),$G=qp(/^aria-[\-\w]+$/),DG=qp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Wx=qp(/^(?:\w+script|data):/i),W2=qp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q2=qp(/^html$/i),BG=function(){return typeof window>"u"?null:window},JD=function(r,a){if(wb(r)!=="object"||typeof r.createPolicy!="function")return null;var u=null,h="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(h)&&(u=a.currentScript.getAttribute(h));var b="dompurify"+(u?"#"+u:"");try{return r.createPolicy(b,{createHTML:function(R){return R}})}catch{return console.warn("TrustedTypes policy "+b+" could not be created."),null}};function QD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BG(),r=function(Ut){return QD(Ut)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var a=t.document,u=t.document,h=t.DocumentFragment,b=t.HTMLTemplateElement,E=t.Node,R=t.Element,H=t.NodeFilter,Y=t.NamedNodeMap,ge=Y===void 0?t.NamedNodeMap||t.MozNamedAttrMap:Y,Te=t.HTMLFormElement,Ae=t.DOMParser,nt=t.trustedTypes,st=R.prototype,Ge=jx(st,"cloneNode"),ct=jx(st,"nextSibling"),ht=jx(st,"childNodes"),Et=jx(st,"parentNode");if(typeof b=="function"){var $t=u.createElement("template");$t.content&&$t.content.ownerDocument&&(u=$t.content.ownerDocument)}var Qt=JD(nt,a),an=Qt?Qt.createHTML(""):"",Bn=u,un=Bn.implementation,Wt=Bn.createNodeIterator,Kt=Bn.createDocumentFragment,Nn=Bn.getElementsByTagName,vo=a.importNode,Ao={};try{Ao=Cb(u).documentMode?u.documentMode:{}}catch{}var ir={};r.isSupported=typeof Et=="function"&&un&&typeof un.createHTMLDocument<"u"&&Ao!==9;var Zr=NA,vs=Vx,Gs=Ux,xl=$G,On=Wx,dr=W2,Nr=DG,Yo=null,ci=Zs({},[].concat(wu(D9),wu(zx),wu(XD),wu(BA),wu(TG))),io=null,Xo=Zs({},[].concat(wu(OG),wu(B9),wu(_G),wu(qu))),jo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Vn=null,Pr=null,gr=!0,Go=!0,tr=!1,Ps=!1,Hs=!1,Zi=!1,Na=!1,ka=!1,Ni=!1,Wl=!1,Gi=!0,Vh=!0,dd=!1,Uh={},Wh=null,qh=Zs({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Zh=null,za=Zs({},["audio","video","img","source","image","track"]),hd=null,Gh=Zs({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qb="http://www.w3.org/1998/Math/MathML",Gd="http://www.w3.org/2000/svg",Xu="http://www.w3.org/1999/xhtml",ec=Xu,_f=!1,$f,Cv=["application/xhtml+xml","text/html"],TE="text/html",Dm,Jp=null,OE=u.createElement("form"),hO=function(Ut){return Ut instanceof RegExp||Ut instanceof Function},_E=function(Ut){Jp&&Jp===Ut||((!Ut||wb(Ut)!=="object")&&(Ut={}),Ut=Cb(Ut),Yo="ALLOWED_TAGS"in Ut?Zs({},Ut.ALLOWED_TAGS):ci,io="ALLOWED_ATTR"in Ut?Zs({},Ut.ALLOWED_ATTR):Xo,hd="ADD_URI_SAFE_ATTR"in Ut?Zs(Cb(Gh),Ut.ADD_URI_SAFE_ATTR):Gh,Zh="ADD_DATA_URI_TAGS"in Ut?Zs(Cb(za),Ut.ADD_DATA_URI_TAGS):za,Wh="FORBID_CONTENTS"in Ut?Zs({},Ut.FORBID_CONTENTS):qh,Vn="FORBID_TAGS"in Ut?Zs({},Ut.FORBID_TAGS):{},Pr="FORBID_ATTR"in Ut?Zs({},Ut.FORBID_ATTR):{},Uh="USE_PROFILES"in Ut?Ut.USE_PROFILES:!1,gr=Ut.ALLOW_ARIA_ATTR!==!1,Go=Ut.ALLOW_DATA_ATTR!==!1,tr=Ut.ALLOW_UNKNOWN_PROTOCOLS||!1,Ps=Ut.SAFE_FOR_TEMPLATES||!1,Hs=Ut.WHOLE_DOCUMENT||!1,ka=Ut.RETURN_DOM||!1,Ni=Ut.RETURN_DOM_FRAGMENT||!1,Wl=Ut.RETURN_TRUSTED_TYPE||!1,Na=Ut.FORCE_BODY||!1,Gi=Ut.SANITIZE_DOM!==!1,Vh=Ut.KEEP_CONTENT!==!1,dd=Ut.IN_PLACE||!1,Nr=Ut.ALLOWED_URI_REGEXP||Nr,ec=Ut.NAMESPACE||Xu,Ut.CUSTOM_ELEMENT_HANDLING&&hO(Ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(jo.tagNameCheck=Ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ut.CUSTOM_ELEMENT_HANDLING&&hO(Ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(jo.attributeNameCheck=Ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ut.CUSTOM_ELEMENT_HANDLING&&typeof Ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(jo.allowCustomizedBuiltInElements=Ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$f=Cv.indexOf(Ut.PARSER_MEDIA_TYPE)===-1?$f=TE:$f=Ut.PARSER_MEDIA_TYPE,Dm=$f==="application/xhtml+xml"?function(lo){return lo}:Lx,Ps&&(Go=!1),Ni&&(ka=!0),Uh&&(Yo=Zs({},wu(TG)),io=[],Uh.html===!0&&(Zs(Yo,D9),Zs(io,OG)),Uh.svg===!0&&(Zs(Yo,zx),Zs(io,B9),Zs(io,qu)),Uh.svgFilters===!0&&(Zs(Yo,XD),Zs(io,B9),Zs(io,qu)),Uh.mathMl===!0&&(Zs(Yo,BA),Zs(io,_G),Zs(io,qu))),Ut.ADD_TAGS&&(Yo===ci&&(Yo=Cb(Yo)),Zs(Yo,Ut.ADD_TAGS)),Ut.ADD_ATTR&&(io===Xo&&(io=Cb(io)),Zs(io,Ut.ADD_ATTR)),Ut.ADD_URI_SAFE_ATTR&&Zs(hd,Ut.ADD_URI_SAFE_ATTR),Ut.FORBID_CONTENTS&&(Wh===qh&&(Wh=Cb(Wh)),Zs(Wh,Ut.FORBID_CONTENTS)),Vh&&(Yo["#text"]=!0),Hs&&Zs(Yo,["html","head","body"]),Yo.table&&(Zs(Yo,["tbody"]),delete Vn.tbody),Uu&&Uu(Ut),Jp=Ut)},pO=Zs({},["mi","mo","mn","ms","mtext"]),gO=Zs({},["foreignobject","desc","title","annotation-xml"]),Sv=Zs({},["title","style","font","a","script"]),Zb=Zs({},zx);Zs(Zb,XD),Zs(Zb,DA);var Rt=Zs({},BA);Zs(Rt,Wi);var Ht=function(Ut){var lo=Et(Ut);(!lo||!lo.tagName)&&(lo={namespaceURI:Xu,tagName:"template"});var Ko=Lx(Ut.tagName),Va=Lx(lo.tagName);return Ut.namespaceURI===Gd?lo.namespaceURI===Xu?Ko==="svg":lo.namespaceURI===qb?Ko==="svg"&&(Va==="annotation-xml"||pO[Va]):Boolean(Zb[Ko]):Ut.namespaceURI===qb?lo.namespaceURI===Xu?Ko==="math":lo.namespaceURI===Gd?Ko==="math"&&gO[Va]:Boolean(Rt[Ko]):Ut.namespaceURI===Xu?lo.namespaceURI===Gd&&!gO[Va]||lo.namespaceURI===qb&&!pO[Va]?!1:!Rt[Ko]&&(Sv[Ko]||!Zb[Ko]):!1},Sn=function(Ut){sv(r.removed,{element:Ut});try{Ut.parentNode.removeChild(Ut)}catch{try{Ut.outerHTML=an}catch{Ut.remove()}}},mn=function(Ut,lo){try{sv(r.removed,{attribute:lo.getAttributeNode(Ut),from:lo})}catch{sv(r.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Ut),Ut==="is"&&!io[Ut])if(ka||Ni)try{Sn(lo)}catch{}else try{lo.setAttribute(Ut,"")}catch{}},So=function(Ut){var lo,Ko;if(Na)Ut="<remove></remove>"+Ut;else{var Va=Hx(Ut,/^[\r\n\t ]+/);Ko=Va&&Va[0]}$f==="application/xhtml+xml"&&(Ut='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ut+"</body></html>");var Ju=Qt?Qt.createHTML(Ut):Ut;if(ec===Xu)try{lo=new Ae().parseFromString(Ju,$f)}catch{}if(!lo||!lo.documentElement){lo=un.createDocument(ec,"template",null);try{lo.documentElement.innerHTML=_f?"":Ju}catch{}}var nu=lo.body||lo.documentElement;return Ut&&Ko&&nu.insertBefore(u.createTextNode(Ko),nu.childNodes[0]||null),ec===Xu?Nn.call(lo,Hs?"html":"body")[0]:Hs?lo.documentElement:nu},Gr=function(Ut){return Wt.call(Ut.ownerDocument||Ut,Ut,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT,null,!1)},wa=function(Ut){return Ut instanceof Te&&(typeof Ut.nodeName!="string"||typeof Ut.textContent!="string"||typeof Ut.removeChild!="function"||!(Ut.attributes instanceof ge)||typeof Ut.removeAttribute!="function"||typeof Ut.setAttribute!="function"||typeof Ut.namespaceURI!="string"||typeof Ut.insertBefore!="function")},Ca=function(Ut){return wb(E)==="object"?Ut instanceof E:Ut&&wb(Ut)==="object"&&typeof Ut.nodeType=="number"&&typeof Ut.nodeName=="string"},xu=function(Ut,lo,Ko){!ir[Ut]||O9(ir[Ut],function(Va){Va.call(r,lo,Ko,Jp)})},ww=function(Ut){var lo;if(xu("beforeSanitizeElements",Ut,null),wa(Ut)||Wu(/[\u0080-\uFFFF]/,Ut.nodeName))return Sn(Ut),!0;var Ko=Dm(Ut.nodeName);if(xu("uponSanitizeElement",Ut,{tagName:Ko,allowedTags:Yo}),Ut.hasChildNodes()&&!Ca(Ut.firstElementChild)&&(!Ca(Ut.content)||!Ca(Ut.content.firstElementChild))&&Wu(/<[/\w]/g,Ut.innerHTML)&&Wu(/<[/\w]/g,Ut.textContent)||Ko==="select"&&Wu(/<template/i,Ut.innerHTML))return Sn(Ut),!0;if(!Yo[Ko]||Vn[Ko]){if(!Vn[Ko]&&tB(Ko)&&(jo.tagNameCheck instanceof RegExp&&Wu(jo.tagNameCheck,Ko)||jo.tagNameCheck instanceof Function&&jo.tagNameCheck(Ko)))return!1;if(Vh&&!Wh[Ko]){var Va=Et(Ut)||Ut.parentNode,Ju=ht(Ut)||Ut.childNodes;if(Ju&&Va)for(var nu=Ju.length,Eu=nu-1;Eu>=0;--Eu)Va.insertBefore(Ge(Ju[Eu],!0),ct(Ut))}return Sn(Ut),!0}return Ut instanceof R&&!Ht(Ut)||(Ko==="noscript"||Ko==="noembed")&&Wu(/<\/no(script|embed)/i,Ut.innerHTML)?(Sn(Ut),!0):(Ps&&Ut.nodeType===3&&(lo=Ut.textContent,lo=Hd(lo,Zr," "),lo=Hd(lo,vs," "),Ut.textContent!==lo&&(sv(r.removed,{element:Ut.cloneNode()}),Ut.textContent=lo)),xu("afterSanitizeElements",Ut,null),!1)},eB=function(Ut,lo,Ko){if(Gi&&(lo==="id"||lo==="name")&&(Ko in u||Ko in OE))return!1;if(!(Go&&!Pr[lo]&&Wu(Gs,lo))){if(!(gr&&Wu(xl,lo))){if(!io[lo]||Pr[lo]){if(!(tB(Ut)&&(jo.tagNameCheck instanceof RegExp&&Wu(jo.tagNameCheck,Ut)||jo.tagNameCheck instanceof Function&&jo.tagNameCheck(Ut))&&(jo.attributeNameCheck instanceof RegExp&&Wu(jo.attributeNameCheck,lo)||jo.attributeNameCheck instanceof Function&&jo.attributeNameCheck(lo))||lo==="is"&&jo.allowCustomizedBuiltInElements&&(jo.tagNameCheck instanceof RegExp&&Wu(jo.tagNameCheck,Ko)||jo.tagNameCheck instanceof Function&&jo.tagNameCheck(Ko))))return!1}else if(!hd[lo]){if(!Wu(Nr,Hd(Ko,dr,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Ut!=="script"&&_9(Ko,"data:")===0&&Zh[Ut])){if(!(tr&&!Wu(On,Hd(Ko,dr,"")))){if(Ko)return!1}}}}}}return!0},tB=function(Ut){return Ut.indexOf("-")>0},Sz=function(Ut){var lo,Ko,Va,Ju;xu("beforeSanitizeAttributes",Ut,null);var nu=Ut.attributes;if(!!nu){var Eu={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:io};for(Ju=nu.length;Ju--;){lo=nu[Ju];var nB=lo,gc=nB.name,xz=nB.namespaceURI;Ko=gc==="value"?lo.value:che(lo.value),Va=Dm(gc);var vne=Ko;if(Eu.attrName=Va,Eu.attrValue=Ko,Eu.keepAttr=!0,Eu.forceKeepAttr=void 0,xu("uponSanitizeAttribute",Ut,Eu),Ko=Eu.attrValue,!Eu.forceKeepAttr){if(!Eu.keepAttr){mn(gc,Ut);continue}if(Wu(/\/>/i,Ko)){mn(gc,Ut);continue}Ps&&(Ko=Hd(Ko,Zr," "),Ko=Hd(Ko,vs," "));var bne=Dm(Ut.nodeName);if(!eB(bne,Va,Ko)){mn(gc,Ut);continue}if(Ko!==vne)try{xz?Ut.setAttributeNS(xz,gc,Ko):Ut.setAttribute(gc,Ko)}catch{mn(gc,Ut)}}}xu("afterSanitizeAttributes",Ut,null)}},mne=function Ar(Ut){var lo,Ko=Gr(Ut);for(xu("beforeSanitizeShadowDOM",Ut,null);lo=Ko.nextNode();)xu("uponSanitizeShadowNode",lo,null),!ww(lo)&&(lo.content instanceof h&&Ar(lo.content),Sz(lo));xu("afterSanitizeShadowDOM",Ut,null)};return r.sanitize=function(Ar,Ut){var lo,Ko,Va,Ju,nu;if(_f=!Ar,_f&&(Ar="<!-->"),typeof Ar!="string"&&!Ca(Ar)){if(typeof Ar.toString!="function")throw $9("toString is not a function");if(Ar=Ar.toString(),typeof Ar!="string")throw $9("dirty is not a string, aborting")}if(!r.isSupported){if(wb(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Ar=="string")return t.toStaticHTML(Ar);if(Ca(Ar))return t.toStaticHTML(Ar.outerHTML)}return Ar}if(Zi||_E(Ut),r.removed=[],typeof Ar=="string"&&(dd=!1),dd){if(Ar.nodeName){var Eu=Dm(Ar.nodeName);if(!Yo[Eu]||Vn[Eu])throw $9("root node is forbidden and cannot be sanitized in-place")}}else if(Ar instanceof E)lo=So("<!---->"),Ko=lo.ownerDocument.importNode(Ar,!0),Ko.nodeType===1&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?lo=Ko:lo.appendChild(Ko);else{if(!ka&&!Ps&&!Hs&&Ar.indexOf("<")===-1)return Qt&&Wl?Qt.createHTML(Ar):Ar;if(lo=So(Ar),!lo)return ka?null:Wl?an:""}lo&&Na&&Sn(lo.firstChild);for(var nB=Gr(dd?Ar:lo);Va=nB.nextNode();)Va.nodeType===3&&Va===Ju||ww(Va)||(Va.content instanceof h&&mne(Va.content),Sz(Va),Ju=Va);if(Ju=null,dd)return Ar;if(ka){if(Ni)for(nu=Kt.call(lo.ownerDocument);lo.firstChild;)nu.appendChild(lo.firstChild);else nu=lo;return io.shadowroot&&(nu=vo.call(a,nu,!0)),nu}var gc=Hs?lo.outerHTML:lo.innerHTML;return Hs&&Yo["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&Wu(q2,lo.ownerDocument.doctype.name)&&(gc="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+gc),Ps&&(gc=Hd(gc,Zr," "),gc=Hd(gc,vs," ")),Qt&&Wl?Qt.createHTML(gc):gc},r.setConfig=function(Ar){_E(Ar),Zi=!0},r.clearConfig=function(){Jp=null,Zi=!1},r.isValidAttribute=function(Ar,Ut,lo){Jp||_E({});var Ko=Dm(Ar),Va=Dm(Ut);return eB(Ko,Va,lo)},r.addHook=function(Ar,Ut){typeof Ut=="function"&&(ir[Ar]=ir[Ar]||[],sv(ir[Ar],Ut))},r.removeHook=function(Ar){if(ir[Ar])return lhe(ir[Ar])},r.removeHooks=function(Ar){ir[Ar]&&(ir[Ar]=[])},r.removeAllHooks=function(){ir={}},r}var N9=QD();const P9=nn.explode,F9=()=>{const t={};return{addFilter:(h,b)=>{Oe(P9(h),E=>{To(t,E)||(t[E]={name:E,callbacks:[]}),t[E].callbacks.push(b)})},getFilters:()=>wr(t),removeFilter:(h,b)=>{Oe(P9(h),E=>{if(To(t,E))if(Q(b)){const R=t[E],H=xe(R.callbacks,Y=>Y!==b);H.length>0?R.callbacks=H:delete t[E]}else delete t[E]})}}},R9=(t,r)=>{Oe(r,a=>{t.attr(a,null)})},NG=(t,r,a)=>{t.addNodeFilter("font",u=>{Oe(u,h=>{const b=r.parse(h.attr("style")),E=h.attr("color"),R=h.attr("face"),H=h.attr("size");E&&(b.color=E),R&&(b["font-family"]=R),H&&Is(H).each(Y=>{b["font-size"]=a[Y-1]}),h.name="span",h.attr("style",r.serialize(b)),R9(h,["color","face","size"])})})},PG=(t,r,a)=>{t.addNodeFilter("strike",u=>{const h=r.type!=="html4";Oe(u,b=>{if(h)b.name="s";else{const E=a.parse(b.attr("style"));E["text-decoration"]="line-through",b.name="span",b.attr("style",a.serialize(E))}})})},FG=(t,r,a)=>{var u;const h=m1();r.convert_fonts_to_spans&&NG(t,h,nn.explode((u=r.font_size_legacy_values)!==null&&u!==void 0?u:"")),PG(t,a,h)},RG=(t,r,a)=>{r.inline_styles&&FG(t,r,a)},MG=t=>fetch(t).then(r=>r.ok?r.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`)),M9=t=>{const r=/([a-z0-9+\/=\s]+)/i.exec(t);return r?r[1]:""},e6=t=>{const[r,...a]=t.split(","),u=a.join(","),h=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(h){const b=h[2]===";base64",E=b?M9(u):decodeURIComponent(u);return q.some({type:h[1],data:E,base64Encoded:b})}else return q.none()},Z2=(t,r,a=!0)=>{let u=r;if(a)try{u=atob(r)}catch{return q.none()}const h=new Uint8Array(u.length);for(let b=0;b<h.length;b++)h[b]=u.charCodeAt(b);return q.some(new Blob([h],{type:t}))},I9=t=>new Promise((r,a)=>{e6(t).bind(({type:u,data:h,base64Encoded:b})=>Z2(u,h,b)).fold(()=>a("Invalid data URI"),r)}),IG=t=>$o(t,"blob:")?MG(t):$o(t,"data:")?I9(t):Promise.reject("Unknown URI format"),t6=t=>new Promise((r,a)=>{const u=new FileReader;u.onloadend=()=>{r(u.result)},u.onerror=()=>{var h;a((h=u.error)===null||h===void 0?void 0:h.message)},u.readAsDataURL(t)});let LG=0;const L9=t=>(t||"blobid")+LG++,H9=(t,r,a)=>e6(t).bind(({data:u,type:h,base64Encoded:b})=>{if(r&&!b)return q.none();{const E=b?u:btoa(u);return a(E,h)}}),j9=(t,r,a)=>{const u=t.create(L9(),r,a);return t.add(u),u},n6=(t,r,a=!1)=>H9(r,a,(u,h)=>q.from(t.getByData(u,h)).orThunk(()=>Z2(h,u).map(b=>j9(t,b,u)))),z9=(t,r)=>{const a=()=>Promise.reject("Invalid data URI");if($o(r,"blob:")){const u=t.getByUri(r);return Q(u)?Promise.resolve(u):IG(r).then(h=>t6(h).then(b=>H9(b,!1,E=>q.some(j9(t,h,E))).getOrThunk(a)))}else return $o(r,"data:")?n6(t,r).fold(a,u=>Promise.resolve(u)):Promise.reject("Unknown image data format")},V9=t=>Q(t.attr("data-mce-bogus")),U9=t=>t.attr("src")===Hn.transparentSrc||Q(t.attr("data-mce-placeholder")),W9=(t,r)=>{const{blob_cache:a}=r;if(a){const u=h=>{const b=h.attr("src");U9(h)||V9(h)||ae(b)||n6(a,b,!0).each(E=>{h.attr("src",E.blobUri())})};t.addAttributeFilter("src",h=>Oe(h,u))}},HG=(t,r)=>{const a=t.schema;r.remove_trailing_brs&&t.addNodeFilter("br",(h,b,E)=>{const R=nn.extend({},a.getBlockElements()),H=a.getNonEmptyElements(),Y=a.getWhitespaceElements();R.body=1;for(let ge=0,Te=h.length;ge<Te;ge++){let Ae=h[ge],nt=Ae.parent;if(nt&&R[nt.name]&&Ae===nt.lastChild){let st=Ae.prev;for(;st;){const Ge=st.name;if(Ge!=="span"||st.attr("data-mce-type")!=="bookmark"){Ge==="br"&&(Ae=null);break}st=st.prev}if(Ae&&(Ae.remove(),I2(a,H,Y,nt))){const Ge=a.getElementRule(nt.name);Ge&&(Ge.removeEmpty?nt.remove():Ge.paddEmpty&&cA(r,E,R,nt))}}else{let st=Ae;for(;nt&&nt.firstChild===st&&nt.lastChild===st&&(st=nt,!R[nt.name]);)nt=nt.parent;if(st===nt){const Ge=new Qc("#text",3);Ge.value=Ga,Ae.replace(Ge)}}}}),t.addAttributeFilter("href",h=>{let b=h.length;const E=H=>H.split(" ").filter(ge=>ge.length>0).concat(["noopener"]).sort().join(" "),R=H=>{const Y=H?nn.trim(H):"";return/\b(noopener)\b/g.test(Y)?Y:E(Y)};if(!r.allow_unsafe_link_target)for(;b--;){const H=h[b];H.name==="a"&&H.attr("target")==="_blank"&&H.attr("rel",R(H.attr("rel")))}}),r.allow_html_in_named_anchor||t.addAttributeFilter("id,name",h=>{let b=h.length,E,R,H,Y;for(;b--;)if(Y=h[b],Y.name==="a"&&Y.firstChild&&!Y.attr("href"))for(H=Y.parent,E=Y.lastChild;E&&H;)R=E.prev,H.insert(E,Y),E=R}),r.fix_list_elements&&t.addNodeFilter("ul,ol",h=>{let b=h.length,E,R;for(;b--;)if(E=h[b],R=E.parent,R&&(R.name==="ul"||R.name==="ol"))if(E.prev&&E.prev.name==="li")E.prev.append(E);else{const H=new Qc("li",1);H.attr("style","list-style-type: none"),E.wrap(H)}});const u=a.getValidClasses();r.validate&&u&&t.addAttributeFilter("class",h=>{var b;let E=h.length;for(;E--;){const R=h[E],H=(b=R.attr("class"))!==null&&b!==void 0?b:"",Y=nn.explode(H," ");let ge="";for(let Te=0;Te<Y.length;Te++){const Ae=Y[Te];let nt=!1,st=u["*"];st&&st[Ae]&&(nt=!0),st=u[R.name],!nt&&st&&st[Ae]&&(nt=!0),nt&&(ge&&(ge+=" "),ge+=Ae)}ge.length||(ge=null),R.attr("class",ge)}}),W9(t,r)},q9=nn.each,jG=nn.trim,zG=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],o6={ftp:21,http:80,https:443,mailto:25},qx=["img","video"],Z9=(t,r)=>Q(t)?!t:Q(r)?!He(qx,r):!0,G9=t=>{try{return decodeURIComponent(t)}catch{return unescape(t)}},Zx=(t,r,a)=>{const u=G9(r);return t.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(u)?!0:t.allow_html_data_urls?!1:/^data:image\//i.test(u)?Z9(t.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u)};class Fh{constructor(r,a={}){this.path="",this.directory="",r=jG(r),this.settings=a;const u=a.base_uri,h=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){h.source=r;return}const b=r.indexOf("//")===0;if(r.indexOf("/")===0&&!b&&(r=(u&&u.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){const R=u?u.path:new Fh(document.location.href).directory;if((u==null?void 0:u.protocol)==="")r="//mce_host"+h.toAbsPath(R,r);else{const H=/([^#?]*)([#?]?.*)/.exec(r);H&&(r=(u&&u.protocol||"http")+"://mce_host"+h.toAbsPath(R,H[1])+H[2])}}r=r.replace(/@@/g,"(mce_at)");const E=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);E&&q9(zG,(R,H)=>{let Y=E[H];Y&&(Y=Y.replace(/\(mce_at\)/g,"@@")),h[R]=Y}),u&&(h.protocol||(h.protocol=u.protocol),h.userInfo||(h.userInfo=u.userInfo),!h.port&&h.host==="mce_host"&&(h.port=u.port),(!h.host||h.host==="mce_host")&&(h.host=u.host),h.source=""),b&&(h.protocol="")}static parseDataUri(r){let a;const u=decodeURIComponent(r).split(","),h=/data:([^;]+)/.exec(u[0]);return h&&(a=h[1]),{type:a,data:u[1]}}static isDomSafe(r,a,u={}){if(u.allow_script_urls)return!0;{const h=du.decode(r).replace(/[\s\u0000-\u001F]+/g,"");return!Zx(u,h,a)}}static getDocumentBaseUrl(r){var a;let u;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?u=(a=r.href)!==null&&a!==void 0?a:"":u=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/")),u}setPath(r){const a=/^(.*?)\/?(\w+)?$/.exec(r);a&&(this.path=a[0],this.directory=a[1],this.file=a[2]),this.source="",this.getURI()}toRelative(r){if(r==="./")return r;const a=new Fh(r,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();const u=this.getURI(),h=a.getURI();if(u===h||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===h)return u;let b=this.toRelPath(this.path,a.path);return a.query&&(b+="?"+a.query),a.anchor&&(b+="#"+a.anchor),b}toAbsolute(r,a){const u=new Fh(r,{base_uri:this});return u.getURI(a&&this.isSameOrigin(u))}isSameOrigin(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;const a=this.protocol?o6[this.protocol]:null;if(a&&(this.port||a)==(r.port||a))return!0}return!1}toRelPath(r,a){let u=0,h="",b,E;const R=r.substring(0,r.lastIndexOf("/")).split("/"),H=a.split("/");if(R.length>=H.length){for(b=0,E=R.length;b<E;b++)if(b>=H.length||R[b]!==H[b]){u=b+1;break}}if(R.length<H.length){for(b=0,E=H.length;b<E;b++)if(b>=R.length||R[b]!==H[b]){u=b+1;break}}if(u===1)return a;for(b=0,E=R.length-(u-1);b<E;b++)h+="../";for(b=u-1,E=H.length;b<E;b++)b!==u-1?h+="/"+H[b]:h+=H[b];return h}toAbsPath(r,a){let u=0;const h=/\/$/.test(a)?"/":"",b=r.split("/"),E=a.split("/"),R=[];q9(b,Te=>{Te&&R.push(Te)});const H=[];for(let Te=E.length-1;Te>=0;Te--)if(!(E[Te].length===0||E[Te]===".")){if(E[Te]===".."){u++;continue}if(u>0){u--;continue}H.push(E[Te])}const Y=R.length-u;let ge;return Y<=0?ge=oo(H).join("/"):ge=R.slice(0,Y).join("/")+"/"+oo(H).join("/"),ge.indexOf("/")!==0&&(ge="/"+ge),h&&ge.lastIndexOf("/")!==ge.length-1&&(ge+=h),ge}getURI(r=!1){let a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source}}const K9=nn.makeMap,Sm=nn.extend,r6={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},Y9=nn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Sb="data-mce-type",X9=(t,r)=>{const a={...r6};return a.PARSER_MEDIA_TYPE=r,t.allow_script_urls?a.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(a.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),a},J9=(t,r)=>{const a=N9(),u=r.getSpecialElements(),h=t.validate;let b=0;return a.addHook("uponSanitizeElement",(E,R)=>{var H,Y,ge;E.nodeType===Ye&&!t.allow_conditional_comments&&/^\[if/i.test((H=E.nodeValue)!==null&&H!==void 0?H:"")&&(E.nodeValue=" "+E.nodeValue);const Te=R.tagName;if(E.nodeType!==Vt||Te==="body")return;const Ae=mt.fromDom(E),nt=Te.toLowerCase(),st=$u(Ae,Sb),Ge=va(Ae,"data-mce-bogus");if(!st&&P(Ge)){Ge==="all"?ts(Ae):Qi(Ae);return}const ct=r.getElementRule(nt);if(h&&!ct){To(u,nt)?ts(Ae):Qi(Ae);return}else R.allowedTags[Te]=!0;if(h&&ct&&!st){if(Oe((Y=ct.attributesForced)!==null&&Y!==void 0?Y:[],ht=>{Os(Ae,ht.name,ht.value==="{$uid}"?`mce_${b++}`:ht.value)}),Oe((ge=ct.attributesDefault)!==null&&ge!==void 0?ge:[],ht=>{$u(Ae,ht.name)||Os(Ae,ht.name,ht.value==="{$uid}"?`mce_${b++}`:ht.value)}),ct.attributesRequired&&!Re(ct.attributesRequired,ht=>$u(Ae,ht))){Qi(Ae);return}if(ct.removeEmptyAttrs&&af(Ae)){Qi(Ae);return}ct.outputName&&ct.outputName!==nt&&nl(Ae,ct.outputName)}}),a.addHook("uponSanitizeAttribute",(E,R)=>{const H=E.tagName.toLowerCase(),{attrName:Y,attrValue:ge}=R;R.keepAttr=!h||r.isValid(H,Y)||$o(Y,"data-")||$o(Y,"aria-"),Y in Y9&&Zx(t,ge,H)&&(R.keepAttr=!1),R.keepAttr?(R.allowedAttributes[Y]=!0,Y in r.getBoolAttrs()&&(R.attrValue=Y),t.allow_svg_data_urls&&$o(ge,"data:image/svg+xml")&&(R.forceKeepAttr=!0)):E.hasAttribute(Sb)&&(Y==="id"||Y==="class"||Y==="style")&&(R.forceKeepAttr=!0)}),a},s6=(t,r,a)=>{const u=t.name,h=u in a&&u!=="title"&&u!=="textarea",b=r.childNodes;for(let E=0,R=b.length;E<R;E++){const H=b[E],Y=new Qc(H.nodeName.toLowerCase(),H.nodeType);if(no(H)){const ge=H.attributes;for(let Te=0,Ae=ge.length;Te<Ae;Te++){const nt=ge[Te];Y.attr(nt.name,nt.value)}}else bn(H)?(Y.value=H.data,h&&(Y.raw=!0)):(Nu(H)||Yv(H)||Xv(H))&&(Y.value=H.data);s6(Y,H,a),t.append(Y)}},Q9=(t,r,a)=>{const u=[];for(let h=t,b=h;h;b=h,h=h.walk()){const E=h;Oe(r,R=>R(E)),ae(E.parent)&&E!==t?h=b:u.push(E)}for(let h=u.length-1;h>=0;h--){const b=u[h];Oe(a,E=>E(b))}},VG=(t,r,a,u)=>{const h=a.validate,b=r.getNonEmptyElements(),E=r.getWhitespaceElements(),R=Sm(K9("script,style,head,html,body,title,meta,param"),r.getBlockElements()),H=d0(r),Y=/[ \t\r\n]+/g,ge=/^[ \t\r\n]+/,Te=/[ \t\r\n]+$/,Ae=ht=>{let Et=ht.parent;for(;Q(Et);){if(Et.name in E)return!0;Et=Et.parent}return!1},nt=ht=>{let Et=ht;for(;Q(Et);){if(Et.name in H)return I2(r,b,E,Et);Et=Et.parent}return!1},st=(ht,Et)=>{const $t=Et?ht.prev:ht.next;return Q($t)||ae(ht.parent)?!1:ht.parent.name in R&&(ht.parent!==t||u.isRootContent===!0)};return[ht=>{var Et;if(ht.type===3&&!Ae(ht)){let $t=(Et=ht.value)!==null&&Et!==void 0?Et:"";$t=$t.replace(Y," "),(BR(ht.prev,R)||st(ht,!0))&&($t=$t.replace(ge,"")),$t.length===0?ht.remove():ht.value=$t}},ht=>{var Et;if(ht.type===1){const $t=r.getElementRule(ht.name);if(h&&$t){const Qt=I2(r,b,E,ht);$t.paddInEmptyBlock&&Qt&&nt(ht)?cA(a,u,R,ht):$t.removeEmpty&&Qt?R[ht.name]?ht.remove():ht.unwrap():$t.paddEmpty&&(Qt||AD(ht))&&cA(a,u,R,ht)}}else if(ht.type===3&&!Ae(ht)){let $t=(Et=ht.value)!==null&&Et!==void 0?Et:"";(ht.next&&R[ht.next.name]||st(ht,!1))&&($t=$t.replace(Te,"")),$t.length===0?ht.remove():ht.value=$t}}]},UG=(t,r)=>{var a;const u=(a=r.forced_root_block)!==null&&a!==void 0?a:t.forced_root_block;return u===!1?"":u===!0?"p":u},G2=(t={},r=Mu())=>{const a=F9(),u=F9(),h={validate:!0,root_name:"body",...t},b=new DOMParser,E=J9(h,r),R=(Et,$t,Qt="html")=>{const an=Qt==="xhtml"?"application/xhtml+xml":"text/html",Bn=To(r.getSpecialElements(),$t.toLowerCase()),un=Bn?`<${$t}>${Et}</${$t}>`:Et,Wt=Qt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${un}</body></html>`:`<body>${un}</body>`,Kt=b.parseFromString(Wt,an).body;return E.sanitize(Kt,X9(h,an)),E.removed=[],Bn?Kt.firstChild:Kt},H=a.addFilter,Y=a.getFilters,ge=a.removeFilter,Te=u.addFilter,Ae=u.getFilters,nt=u.removeFilter,st=(Et,$t)=>{const Qt=Et.parent;Qt&&r.children[Et.name]&&!r.isValidChild(Qt.name,Et.name)&&$t.push(Et)},Ge=(Et,$t)=>{const Qt=Sm(K9("script,style,head,html,body,title,meta,param"),r.getBlockElements()),an=/^[ \t\r\n]+/,Bn=/[ \t\r\n]+$/;let un=Et.firstChild,Wt=null;const Kt=Nn=>{var vo,Ao;Nn&&(un=Nn.firstChild,un&&un.type===3&&(un.value=(vo=un.value)===null||vo===void 0?void 0:vo.replace(an,"")),un=Nn.lastChild,un&&un.type===3&&(un.value=(Ao=un.value)===null||Ao===void 0?void 0:Ao.replace(Bn,"")))};if(!!r.isValidChild(Et.name,$t.toLowerCase())){for(;un;){const Nn=un.next;un.type===3||un.type===1&&un.name!=="p"&&!Qt[un.name]&&!un.attr(Sb)?(Wt||(Wt=new Qc($t,1),Wt.attr(h.forced_root_block_attrs),Et.insert(Wt,un)),Wt.append(un)):(Kt(Wt),Wt=null),un=Nn}Kt(Wt)}},ht={schema:r,addAttributeFilter:Te,getAttributeFilters:Ae,removeAttributeFilter:nt,addNodeFilter:H,getNodeFilters:Y,removeNodeFilter:ge,parse:(Et,$t={})=>{var Qt;const an=h.validate,Bn=(Qt=$t.context)!==null&&Qt!==void 0?Qt:h.root_name,un=R(Et,Bn,$t.format),Wt=new Qc(Bn,11);s6(Wt,un,r.getSpecialElements());const[Kt,Nn]=VG(Wt,r,h,$t),vo=[],Ao=an?Gs=>st(Gs,vo):be,ir={nodes:{},attributes:{}},Zr=Gs=>ED(Y(),Ae(),Gs,ir);if(Q9(Wt,[Kt,Zr],[Nn,Ao]),vo.reverse(),an&&vo.length>0)if($t.context){const{pass:Gs,fail:xl}=se(vo,On=>On.parent===Wt);L2(xl,r,Zr),$t.invalid=Gs.length>0}else L2(vo,r,Zr);const vs=UG(h,$t);return vs&&(Wt.name==="body"||$t.isRootContent)&&Ge(Wt,vs),$t.invalid||kD(ir,$t),Wt}};return HG(ht,h),RG(ht,h,r),ht},a6=t=>j2(t)?ev({validate:!1}).serialize(t):t,eM=(t,r)=>{const a=a6(t),u=r(a);if(u.isDefaultPrevented())return u;if(j2(t))if(u.content!==a){const h=G2({validate:!1,forced_root_block:!1}).parse(u.content,{context:t.name});return{...u,content:h}}else return{...u,content:t};else return u},tM=(t,r)=>{if(r.no_events)return fa.value(r);{const a=am(t,r);return a.isDefaultPrevented()?fa.error(Q0(t,{content:"",...a}).content):fa.value(a)}},nM=(t,r,a)=>a.no_events?r:eM(r,h=>Q0(t,{...a,content:h})).content,i6=(t,r)=>{if(r.no_events)return fa.value(r);{const a=eM(r.content,u=>ex(t,{...r,content:u}));return a.isDefaultPrevented()?(Tk(t,a),fa.error(void 0)):fa.value(a)}},xb=(t,r,a)=>{a.no_events||Tk(t,{...a,content:r})},Gx=(t,r,a)=>({element:t,width:r,rows:a}),oM=(t,r)=>({element:t,cells:r}),rM=(t,r)=>({x:t,y:r}),sM=(t,r)=>pl(t,r).bind(Is).getOr(1),PA=(t,r,a,u,h)=>{const b=sM(h,"rowspan"),E=sM(h,"colspan"),R=t.rows;for(let H=a;H<a+b;H++){R[H]||(R[H]=oM(JC(u),[]));for(let Y=r;Y<r+E;Y++){const ge=R[H].cells;ge[Y]=H===a&&Y===r?h:Lg(h)}}},aM=(t,r,a)=>{const u=t.rows;return!!(u[a]?u[a].cells:[])[r]},uhe=(t,r,a)=>{for(;aM(t,r,a);)r++;return r},l6=t=>Xe(t,(r,a)=>a.cells.length>r?a.cells.length:r,0),iM=(t,r)=>{const a=t.rows;for(let u=0;u<a.length;u++){const h=a[u].cells;for(let b=0;b<h.length;b++)if(ps(h[b],r))return q.some(rM(b,u))}return q.none()},lM=(t,r,a,u,h)=>{const b=[],E=t.rows;for(let R=a;R<=h;R++){const H=E[R].cells,Y=r<u?H.slice(r,u+1):H.slice(u,r+1);b.push(oM(E[R].element,Y))}return b},c6=(t,r,a)=>{const u=r.x,h=r.y,b=a.x,E=a.y,R=h<E?lM(t,u,h,b,E):lM(t,u,E,b,h);return Gx(t.element,l6(R),R)},WG=(t,r)=>{const a=Lg(t.element),u=mt.fromTag("tbody");return er(u,r),La(a,u),a},cM=t=>Ve(t.rows,r=>{const a=Ve(r.cells,h=>{const b=JC(h);return Ia(b,"colspan"),Ia(b,"rowspan"),b}),u=Lg(r.element);return er(u,a),u}),uM=t=>{const r=Gx(Lg(t),0,[]);return Oe(_t(t,"tr"),(a,u)=>{Oe(_t(a,"td,th"),(h,b)=>{PA(r,uhe(r,b,u),u,a,h)})}),Gx(r.element,l6(r.rows),r.rows)},u6=t=>WG(t,cM(t)),qG=(t,r,a)=>iM(t,r).bind(u=>iM(t,a).map(h=>c6(t,u,h))),fM=t=>qt(t,r=>ko(r)==="ul"||ko(r)==="ol"),f6=(t,r)=>qt(t,a=>ko(a)==="li"&&f2(a,r)).fold(Fe([]),a=>fM(t).map(u=>{const h=mt.fromTag(ko(u)),b=pr(_r(u),(E,R)=>$o(R,"list-style"));return vt(h,b),[mt.fromTag("li"),h]}).getOr([])),ZG=(t,r)=>{const a=Xe(r,(u,h)=>(La(h,u),h),t);return r.length>0?k2([a]):a},GG=t=>kc(t)?Li(t).filter(t0).fold(Fe([]),r=>[t,r]):t0(t)?[t]:[],KG=(t,r)=>{const a=mt.fromDom(r.commonAncestorContainer),u=vm(a,t),h=xe(u,ch),b=f6(u,r),E=h.concat(b.length?b:GG(a));return Ve(E,Lg)},dM=()=>k2([]),YG=(t,r)=>ZG(mt.fromDom(r.cloneContents()),KG(t,r)),hM=(t,r)=>Tg(r,"table",re(ps,t)),d6=(t,r)=>hM(t,r[0]).bind(a=>{const u=r[0],h=r[r.length-1],b=uM(a);return qG(b,u,h).map(E=>k2([u6(E)]))}).getOrThunk(dM),pM=(t,r)=>r.length>0&&r[0].collapsed?dM():YG(t,r[0]),gM=(t,r)=>{const a=u2(r,t);return a.length>0?d6(t,a):pM(t,r)},Kx=(t,r)=>r>=0&&r<t.length&&U0(t.charAt(r)),h6=t=>It(t.innerText),mM=t=>t.map(r=>r.nodeName).getOr("div").toLowerCase(),vM=t=>q.from(t.selection.getRng()).map(r=>{var a;const u=q.from(t.dom.getParent(r.commonAncestorContainer,t.dom.isBlock)),h=t.getBody(),b=mM(u),E=t.dom.add(h,b,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),R=h6(E),H=It((a=E.textContent)!==null&&a!==void 0?a:"");if(t.dom.remove(E),Kx(H,0)||Kx(H,H.length-1)){const Y=u.getOr(h),ge=h6(Y),Te=ge.indexOf(R);if(Te===-1)return R;{const Ae=Kx(ge,Te-1),nt=Kx(ge,Te+R.length);return(Ae?" ":"")+R+(nt?" ":"")}}else return R}).getOr(""),XG=(t,r)=>{const a=t.selection.getRng(),u=t.dom.create("body"),h=t.selection.getSel(),b=Z$(t,l2(h)),E=r.contextual?gM(mt.fromDom(t.getBody()),b).dom:a.cloneContents();return E&&u.appendChild(E),t.selection.serializer.serialize(u,r)},p6=(t,r)=>{if(r.format==="text")return vM(t);{const a=XG(t,r);return r.format==="tree"?a:t.selection.isCollapsed()?"":a}},JG=(t,r)=>({...t,format:r,get:!0,selection:!0,getInner:!0}),FA=(t,r,a={})=>{const u=JG(a,r);return tM(t,u).fold(De,h=>{const b=p6(t,h);return nM(t,b,h)})},g6=0,bM=1,yM=2,wM=(t,r)=>{const a=t.length+r.length+2,u=new Array(a),h=new Array(a),b=(ge,Te,Ae)=>({start:ge,end:Te,diag:Ae}),E=(ge,Te,Ae,nt,st)=>{const Ge=H(ge,Te,Ae,nt);if(Ge===null||Ge.start===Te&&Ge.diag===Te-nt||Ge.end===ge&&Ge.diag===ge-Ae){let ct=ge,ht=Ae;for(;ct<Te||ht<nt;)ct<Te&&ht<nt&&t[ct]===r[ht]?(st.push([g6,t[ct]]),++ct,++ht):Te-ge>nt-Ae?(st.push([yM,t[ct]]),++ct):(st.push([bM,r[ht]]),++ht)}else{E(ge,Ge.start,Ae,Ge.start-Ge.diag,st);for(let ct=Ge.start;ct<Ge.end;++ct)st.push([g6,t[ct]]);E(Ge.end,Te,Ge.end-Ge.diag,nt,st)}},R=(ge,Te,Ae,nt)=>{let st=ge;for(;st-Te<nt&&st<Ae&&t[st]===r[st-Te];)++st;return b(ge,st,Te)},H=(ge,Te,Ae,nt)=>{const st=Te-ge,Ge=nt-Ae;if(st===0||Ge===0)return null;const ct=st-Ge,ht=Ge+st,Et=(ht%2===0?ht:ht+1)/2;u[1+Et]=ge,h[1+Et]=Te+1;let $t,Qt,an,Bn,un;for($t=0;$t<=Et;++$t){for(Qt=-$t;Qt<=$t;Qt+=2){for(an=Qt+Et,Qt===-$t||Qt!==$t&&u[an-1]<u[an+1]?u[an]=u[an+1]:u[an]=u[an-1]+1,Bn=u[an],un=Bn-ge+Ae-Qt;Bn<Te&&un<nt&&t[Bn]===r[un];)u[an]=++Bn,++un;if(ct%2!==0&&ct-$t<=Qt&&Qt<=ct+$t&&h[an-ct]<=u[an])return R(h[an-ct],Qt+ge-Ae,Te,nt)}for(Qt=ct-$t;Qt<=ct+$t;Qt+=2){for(an=Qt+Et-ct,Qt===ct-$t||Qt!==ct+$t&&h[an+1]<=h[an-1]?h[an]=h[an+1]-1:h[an]=h[an-1],Bn=h[an]-1,un=Bn-ge+Ae-Qt;Bn>=ge&&un>=Ae&&t[Bn]===r[un];)h[an]=Bn--,un--;if(ct%2===0&&-$t<=Qt&&Qt<=$t&&h[an]<=u[an+ct])return R(h[an],Qt+ge-Ae,Te,nt)}}return null},Y=[];return E(0,t.length,0,r.length,Y),Y},m6=t=>no(t)?t.outerHTML:bn(t)?du.encodeRaw(t.data,!1):Nu(t)?"<!--"+t.data+"-->":"",QG=t=>{let r;const a=document.createElement("div"),u=document.createDocumentFragment();for(t&&(a.innerHTML=t);r=a.firstChild;)u.appendChild(r);return u},eK=(t,r,a)=>{const u=QG(r);if(t.hasChildNodes()&&a<t.childNodes.length){const h=t.childNodes[a];t.insertBefore(u,h)}else t.appendChild(u)},tK=(t,r)=>{if(t.hasChildNodes()&&r<t.childNodes.length){const a=t.childNodes[r];t.removeChild(a)}},nK=(t,r)=>{let a=0;Oe(t,u=>{u[0]===g6?a++:u[0]===bM?(eK(r,u[1],a),a++):u[0]===yM&&tK(r,a)})},CM=t=>xe(Ve(_o(t.childNodes),m6),r=>r.length>0),fhe=(t,r)=>{const a=Ve(_o(r.childNodes),m6);return nK(wM(a,t),r),r},oK=uo(()=>document.implementation.createHTMLDocument("undo")),rK=t=>t.indexOf("</iframe>")!==-1,sK=t=>({type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}),aK=t=>({type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}),RA=t=>{const r=CM(t.getBody()),a=zn(r,h=>{const b=RF(t.serializer,h);return b.length>0?[b]:[]}),u=a.join("");return rK(u)?sK(a):aK(u)},v6=(t,r,a)=>{const u=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?fhe(r.fragments,t.getBody()):t.setContent(r.content,{format:"raw",no_selection:Q(u)&&IS(u)?!u.isFakeCaret:!0}),u&&t.selection.moveToBookmark(u)},b6=t=>t.type==="fragmented"?t.fragments.join(""):t.content,y6=t=>{const r=mt.fromTag("body",oK());return n1(r,b6(t)),Oe(_t(r,"*[data-mce-bogus]"),Qi),Cg(r)},iK=(t,r)=>b6(t)===b6(r),lK=(t,r)=>y6(t)===y6(r),w6=(t,r)=>!t||!r?!1:iK(t,r)?!0:lK(t,r),C6=t=>t.get()===0,MA=(t,r,a)=>{C6(a)&&(t.typing=r)},cK=(t,r)=>{t.typing&&(MA(t,!1,r),t.add())},dhe=t=>{t.typing&&(t.typing=!1,t.add())},uK=(t,r,a)=>{C6(r)&&a.set(E0(t.selection))},fK=(t,r,a,u,h,b,E)=>{const R=RA(t),H=nn.extend(b||{},R);if(!C6(u)||t.removed)return null;const Y=r.data[a.get()];if(t.dispatch("BeforeAddUndo",{level:H,lastLevel:Y,originalEvent:E}).isDefaultPrevented()||Y&&w6(Y,H))return null;r.data[a.get()]&&h.get().each(Ae=>{r.data[a.get()].beforeBookmark=Ae});const ge=I5(t);if(ge&&r.data.length>ge){for(let Ae=0;Ae<r.data.length-1;Ae++)r.data[Ae]=r.data[Ae+1];r.data.length--,a.set(r.data.length)}H.bookmark=E0(t.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(H),a.set(r.data.length-1);const Te={level:H,lastLevel:Y,originalEvent:E};return a.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",Te),t.dispatch("change",Te)):t.dispatch("AddUndo",Te),H},hhe=(t,r,a)=>{r.data=[],a.set(0),r.typing=!1,t.dispatch("ClearUndos")},dK=(t,r,a,u,h)=>{if(r.transact(u)){const b=r.data[a.get()].bookmark,E=r.data[a.get()-1];v6(t,E,!0),r.transact(h)&&(r.data[a.get()-1].beforeBookmark=b)}},Ha=(t,r,a)=>{let u;return r.get()<a.length-1&&(r.set(r.get()+1),u=a[r.get()],v6(t,u,!1),t.setDirty(!0),t.dispatch("Redo",{level:u})),u},S6=(t,r,a,u)=>{let h;return r.typing&&(r.add(),r.typing=!1,MA(r,!1,a)),u.get()>0&&(u.set(u.get()-1),h=r.data[u.get()],v6(t,h,!0),t.setDirty(!0),t.dispatch("Undo",{level:h})),h},phe=t=>{t.clear(),t.add()},hK=(t,r,a)=>a.get()>0||r.typing&&r.data[0]&&!w6(RA(t),r.data[0]),pK=(t,r)=>r.get()<t.data.length-1&&!t.typing,K2=(t,r,a)=>(cK(t,r),t.beforeChange(),t.ignore(a),t.add()),ghe=(t,r)=>{try{t.set(t.get()+1),r()}finally{t.set(t.get()-1)}},mhe=(t,r)=>{const a=t.dom,u=Q(r)?r:t.getBody();Oe(a.select("table,a",u),h=>{switch(h.nodeName){case"TABLE":const b=Zg(t),E=a.getAttrib(h,"border");(!E||E==="0")&&t.hasVisual?a.addClass(h,b):a.removeClass(h,b);break;case"A":if(!a.getAttrib(h,"href")){const R=a.getAttrib(h,"name")||h.id,H=Gg(t);R&&t.hasVisual?a.addClass(h,H):a.removeClass(h,H)}break}}),t.dispatch("VisualAid",{element:r,hasVisual:t.hasVisual})},Ul=t=>({init:{bindEvents:be},undoManager:{beforeChange:(r,a)=>uK(t,r,a),add:(r,a,u,h,b,E)=>fK(t,r,a,u,h,b,E),undo:(r,a,u)=>S6(t,r,a,u),redo:(r,a)=>Ha(t,r,a),clear:(r,a)=>hhe(t,r,a),reset:r=>phe(r),hasUndo:(r,a)=>hK(t,r,a),hasRedo:(r,a)=>pK(r,a),transact:(r,a,u)=>K2(r,a,u),ignore:(r,a)=>ghe(r,a),extra:(r,a,u,h)=>dK(t,r,a,u,h)},formatter:{match:(r,a,u,h)=>FD(t,r,a,u,h),matchAll:(r,a)=>YZ(t,r,a),matchNode:(r,a,u,h)=>Wp(t,r,a,u,h),canApply:r=>XZ(t,r),closest:r=>t9(t,r),apply:(r,a,u)=>b9(t,r,a,u),remove:(r,a,u,h)=>p9(t,r,a,u,h),toggle:(r,a,u)=>vG(t,r,a,u),formatChanged:(r,a,u,h,b)=>mG(t,r,a,u,h,b)},editor:{getContent:r=>sZ(t,r),setContent:(r,a)=>ND(t,r,a),insertContent:(r,a)=>pA(t,r,a),addVisual:r=>mhe(t,r)},selection:{getContent:(r,a)=>FA(t,r,a)},autocompleter:{addDecoration:r=>BF(t,r),removeDecoration:()=>Xq(t,mt.fromDom(t.getBody()))},raw:{getModel:()=>q.none()}}),SM=t=>{const r=Y=>I(Y)?Y:{},{init:a,undoManager:u,formatter:h,editor:b,selection:E,autocompleter:R,raw:H}=t;return{init:{bindEvents:a.bindEvents},undoManager:{beforeChange:u.beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:(Y,ge,Te)=>u.transact(Te),ignore:(Y,ge)=>u.ignore(ge),extra:(Y,ge,Te,Ae)=>u.extra(Te,Ae)},formatter:{match:(Y,ge,Te,Ae)=>h.match(Y,r(ge),Ae),matchAll:h.matchAll,matchNode:h.matchNode,canApply:Y=>h.canApply(Y),closest:Y=>h.closest(Y),apply:(Y,ge,Te)=>h.apply(Y,r(ge)),remove:(Y,ge,Te,Ae)=>h.remove(Y,r(ge)),toggle:(Y,ge,Te)=>h.toggle(Y,r(ge)),formatChanged:(Y,ge,Te,Ae,nt)=>h.formatChanged(ge,Te,Ae,nt)},editor:{getContent:Y=>b.getContent(Y),setContent:(Y,ge)=>({content:b.setContent(Y,ge),html:""}),insertContent:(Y,ge)=>(b.insertContent(Y),""),addVisual:b.addVisual},selection:{getContent:(Y,ge)=>E.getContent(ge)},autocompleter:{addDecoration:R.addDecoration,removeDecoration:R.removeDecoration},raw:{getModel:()=>q.some(H.getRawModel())}}},xM=()=>{const t=Fe(null),r=Fe("");return{init:{bindEvents:be},undoManager:{beforeChange:be,add:t,undo:t,redo:t,clear:be,reset:be,hasUndo:Ce,hasRedo:Ce,transact:t,ignore:be,extra:be},formatter:{match:Ce,matchAll:Fe([]),matchNode:Fe(void 0),canApply:Ce,closest:r,apply:be,remove:be,toggle:be,formatChanged:Fe({unbind:be})},editor:{getContent:r,setContent:Fe({content:"",html:""}),insertContent:Fe(""),addVisual:be},selection:{getContent:r},autocompleter:{addDecoration:be,removeDecoration:be},raw:{getModel:Fe(q.none())}}},Rh=t=>To(t.plugins,"rtc"),gK=t=>Jo(t.plugins,"rtc").bind(r=>q.from(r.setup)),mK=t=>{const r=t;return gK(t).fold(()=>(r.rtcInstance=Ul(t),q.none()),a=>(r.rtcInstance=xM(),q.some(()=>a().then(u=>(r.rtcInstance=SM(u),u.rtc.isRemote)))))},Y2=t=>t.rtcInstance?t.rtcInstance:Ul(t),Bi=t=>{const r=t.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},x6=(t,r,a)=>{Bi(t).undoManager.beforeChange(r,a)},vK=(t,r,a,u,h,b,E)=>Bi(t).undoManager.add(r,a,u,h,b,E),EM=(t,r,a,u)=>Bi(t).undoManager.undo(r,a,u),kM=(t,r,a)=>Bi(t).undoManager.redo(r,a),E6=(t,r,a)=>{Bi(t).undoManager.clear(r,a)},AM=(t,r)=>{Bi(t).undoManager.reset(r)},k6=(t,r,a)=>Bi(t).undoManager.hasUndo(r,a),bK=(t,r,a)=>Bi(t).undoManager.hasRedo(r,a),yK=(t,r,a,u)=>Bi(t).undoManager.transact(r,a,u),wK=(t,r,a)=>{Bi(t).undoManager.ignore(r,a)},ad=(t,r,a,u,h)=>{Bi(t).undoManager.extra(r,a,u,h)},CK=(t,r,a,u,h)=>Bi(t).formatter.match(r,a,u,h),SK=(t,r,a)=>Bi(t).formatter.matchAll(r,a),xK=(t,r,a,u,h)=>Bi(t).formatter.matchNode(r,a,u,h),EK=(t,r)=>Bi(t).formatter.canApply(r),kK=(t,r)=>Bi(t).formatter.closest(r),TM=(t,r,a,u)=>{Bi(t).formatter.apply(r,a,u)},AK=(t,r,a,u,h)=>{Bi(t).formatter.remove(r,a,u,h)},TK=(t,r,a,u)=>{Bi(t).formatter.toggle(r,a,u)},OK=(t,r,a,u,h,b)=>Bi(t).formatter.formatChanged(r,a,u,h,b),IA=(t,r)=>Y2(t).editor.getContent(r),_K=(t,r,a)=>Y2(t).editor.setContent(r,a),$K=(t,r,a)=>Y2(t).editor.insertContent(r,a),OM=(t,r,a)=>Bi(t).selection.getContent(r,a),A6=(t,r)=>Bi(t).editor.addVisual(r),_M=t=>Bi(t).init.bindEvents(),DK=(t,r)=>Bi(t).autocompleter.addDecoration(r),vhe=t=>Bi(t).autocompleter.removeDecoration(),BK=(t,r={})=>{const a=r.format?r.format:"html";return OM(t,a,r)},X2=t=>t.dom.length===0?(ts(t),q.none()):q.some(t),$M=(t,r)=>t.filter(a=>om.isBookmarkNode(a.dom)).bind(r?rh:Nl),DM=(t,r,a,u)=>{const h=t.dom,b=r.dom,E=u?h.length:b.length;u?(iR(h,b,!1,!u),a.setStart(b,E)):(iR(b,h,!1,!u),a.setEnd(b,E))},NK=(t,r)=>{Li(t).each(a=>{const u=t.dom;r&&Cx(a,Yt(u,0))?xx(u,0):!r&&eA(a,Yt(u,u.length))&&aD(u,u.length)})},T6=(t,r,a,u)=>{t.bind(h=>((u?aD:xx)(h.dom,u?h.dom.length:0),r.filter(Xr).map(E=>DM(h,E,a,u)))).orThunk(()=>$M(r,u).or(r).filter(Xr).map(b=>NK(b,u)))},PK=(t,r)=>{const a=q.from(r.firstChild).map(mt.fromDom),u=q.from(r.lastChild).map(mt.fromDom);t.deleteContents(),t.insertNode(r);const h=a.bind(Nl).filter(Xr).bind(X2),b=u.bind(rh).filter(Xr).bind(X2);T6(h,a,t,!0),T6(b,u,t,!1),t.collapse(!1)},FK=(t,r)=>({format:"html",...t,set:!0,selection:!0,content:r}),RK=(t,r)=>{if(r.format!=="raw"){const a=t.selection.getRng(),u=t.dom.getParent(a.commonAncestorContainer,t.dom.isBlock),h=u?{context:u.nodeName.toLowerCase()}:{},b=t.parser.parse(r.content,{forced_root_block:!1,...h,...r});return ev({validate:!1},t.schema).serialize(b)}else return r.content},MK=(t,r,a={})=>{const u=FK(a,r);i6(t,u).each(h=>{const b=RK(t,h),E=t.selection.getRng();PK(E,E.createContextualFragment(b)),t.selection.setRng(E),sb(t,E),xb(t,b,h)})},O6=(t,r,a)=>{if(To(t,r)){const u=xe(t[r],h=>h!==a);u.length===0?delete t[r]:t[r]=u}};var IK=(t,r)=>{let a,u;const h=(R,H)=>qt(H,Y=>t.is(Y,R)),b=R=>t.getParents(R,void 0,t.getRoot()),E=()=>{a={},u={},r.on("NodeChange",R=>{const H=R.element,Y=b(H),ge={};xn(a,(Te,Ae)=>{h(Ae,Y).each(nt=>{u[Ae]||(Oe(Te,st=>{st(!0,{node:nt,selector:Ae,parents:Y})}),u[Ae]=Te),ge[Ae]=Te})}),xn(u,(Te,Ae)=>{ge[Ae]||(delete u[Ae],Oe(Te,nt=>{nt(!1,{node:H,selector:Ae,parents:Y})}))})})};return{selectorChangedWithUnbind:(R,H)=>(a||E(),a[R]||(a[R]=[]),a[R].push(H),h(R,b(r.selection.getStart())).each(()=>{u[R]=a[R]}),{unbind:()=>{O6(a,R,H),O6(u,R,H)}})}};const BM=t=>!!(t&&t.ownerDocument)&&Ii(mt.fromDom(t.ownerDocument),mt.fromDom(t)),Yx=t=>t?BM(t.startContainer)&&BM(t.endContainer):!1,_6=(t,r,a,u)=>{let h,b;const{selectorChangedWithUnbind:E}=IK(t,u),R=(On,dr)=>{const Nr=t.createRng();Q(On)&&Q(dr)?(Nr.setStart(On,dr),Nr.setEnd(On,dr),$t(Nr),ct(!1)):(qS(t,Nr,u.getBody(),!0),$t(Nr))},H=On=>BK(u,On),Y=(On,dr)=>MK(u,On,dr),ge=On=>gx(u.getBody(),Et(),On),Te=On=>q$(u.getBody(),Et(),On),Ae=(On,dr)=>Gs.getBookmark(On,dr),nt=On=>Gs.moveToBookmark(On),st=(On,dr)=>(Wq(t,On,dr).each($t),On),Ge=()=>{const On=Et(),dr=ht();return!On||On.item?!1:On.compareEndPoints?On.compareEndPoints("StartToEnd",On)===0:!dr||On.collapsed},ct=On=>{const dr=Et();dr.collapse(!!On),$t(dr)},ht=()=>r.getSelection?r.getSelection():r.document.selection,Et=()=>{let On;const dr=(Yo,ci,io)=>{try{return ci.compareBoundaryPoints(Yo,io)}catch{return-1}},Nr=r.document;if(Q(u.bookmark)&&!gm(u)){const Yo=hn(u);if(Yo.isSome())return Yo.map(ci=>Z$(u,[ci])[0]).getOr(Nr.createRange())}try{const Yo=ht();Yo&&!Cd(Yo.anchorNode)&&(Yo.rangeCount>0?On=Yo.getRangeAt(0):On=Nr.createRange(),On=Z$(u,[On])[0])}catch{}if(On||(On=Nr.createRange()),wp(On.startContainer)&&On.collapsed){const Yo=t.getRoot();On.setStart(Yo,0),On.setEnd(Yo,0)}return h&&b&&(dr(On.START_TO_START,On,h)===0&&dr(On.END_TO_END,On,h)===0?On=b:(h=null,b=null)),On},$t=(On,dr)=>{if(!Yx(On))return;const Nr=ht();if(On=u.dispatch("SetSelectionRange",{range:On,forward:dr}).range,Nr){b=On;try{Nr.removeAllRanges(),Nr.addRange(On)}catch{}dr===!1&&Nr.extend&&(Nr.collapse(On.endContainer,On.endOffset),Nr.extend(On.startContainer,On.startOffset)),h=Nr.rangeCount>0?Nr.getRangeAt(0):null}if(!On.collapsed&&On.startContainer===On.endContainer&&(Nr==null?void 0:Nr.setBaseAndExtent)&&On.endOffset-On.startOffset<2&&On.startContainer.hasChildNodes()){const ci=On.startContainer.childNodes[On.startOffset];ci&&ci.nodeName==="IMG"&&(Nr.setBaseAndExtent(On.startContainer,On.startOffset,On.endContainer,On.endOffset),(Nr.anchorNode!==On.startContainer||Nr.focusNode!==On.endContainer)&&Nr.setBaseAndExtent(ci,0,ci,1))}u.dispatch("AfterSetSelectionRange",{range:On,forward:dr})},Qt=On=>(Y(t.getOuterHTML(On)),On),an=()=>_F(u.getBody(),Et()),Bn=(On,dr)=>$F(t,Et(),On,dr),un=()=>{const On=ht(),dr=On==null?void 0:On.anchorNode,Nr=On==null?void 0:On.focusNode;if(!On||!dr||!Nr||Cd(dr)||Cd(Nr))return!0;const Yo=t.createRng(),ci=t.createRng();try{Yo.setStart(dr,On.anchorOffset),Yo.collapse(!0),ci.setStart(Nr,On.focusOffset),ci.collapse(!0)}catch{return!0}return Yo.compareBoundaryPoints(Yo.START_TO_START,ci)<=0},vs={dom:t,win:r,serializer:a,editor:u,collapse:ct,setCursorLocation:R,getContent:H,setContent:Y,getBookmark:Ae,moveToBookmark:nt,select:st,isCollapsed:Ge,isForward:un,setNode:Qt,getNode:an,getSel:ht,setRng:$t,getRng:Et,getStart:ge,getEnd:Te,getSelectedBlocks:Bn,normalize:()=>{const On=Et(),dr=ht();if(!f$(dr)&&Z0(u)){const Nr=cx(t,On);return Nr.each(Yo=>{$t(Yo,un())}),Nr.getOr(On)}return On},selectorChanged:(On,dr)=>(E(On,dr),vs),selectorChangedWithUnbind:E,getScrollContainer:()=>{let On,dr=t.getRoot();for(;dr&&dr.nodeName!=="BODY";){if(dr.scrollHeight>dr.clientHeight){On=dr;break}dr=dr.parentNode}return On},scrollIntoView:(On,dr)=>{Q(On)?H$(u,On,dr):sb(u,Et(),dr)},placeCaretAt:(On,dr)=>$t(N$(On,dr,u.getDoc())),getBoundingClientRect:()=>{const On=Et();return On.collapsed?Yt.fromRangeStart(On).getClientRects()[0]:On.getBoundingClientRect()},destroy:()=>{r=h=b=null,xl.destroy()}},Gs=om(vs),xl=_k(vs,u);return vs.bookmarkManager=Gs,vs.controlSelection=xl,vs},NM=(t,r,a)=>{t.addAttributeFilter("data-mce-tabindex",(u,h)=>{let b=u.length;for(;b--;){const E=u[b];E.attr("tabindex",E.attr("data-mce-tabindex")),E.attr(h,null)}}),t.addAttributeFilter("src,href,style",(u,h)=>{const b="data-mce-"+h,E=r.url_converter,R=r.url_converter_scope;let H=u.length;for(;H--;){const Y=u[H];let ge=Y.attr(b);ge!==void 0?(Y.attr(h,ge.length>0?ge:null),Y.attr(b,null)):(ge=Y.attr(h),h==="style"?ge=a.serializeStyle(a.parseStyle(ge),Y.name):E&&(ge=E.call(R,ge,h,Y.name)),Y.attr(h,ge.length>0?ge:null))}}),t.addAttributeFilter("class",u=>{let h=u.length;for(;h--;){const b=u[h];let E=b.attr("class");E&&(E=E.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),b.attr("class",E.length>0?E:null))}}),t.addAttributeFilter("data-mce-type",(u,h,b)=>{let E=u.length;for(;E--;){const R=u[E];R.attr("data-mce-type")==="bookmark"&&!b.cleanup&&(q.from(R.firstChild).exists(Y=>{var ge;return!yt((ge=Y.value)!==null&&ge!==void 0?ge:"")})?R.unwrap():R.remove())}}),t.addNodeFilter("noscript",u=>{var h;let b=u.length;for(;b--;){const E=u[b].firstChild;E&&(E.value=du.decode((h=E.value)!==null&&h!==void 0?h:""))}}),t.addNodeFilter("script,style",(u,h)=>{var b;const E=H=>H.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let R=u.length;for(;R--;){const H=u[R],Y=H.firstChild,ge=(b=Y==null?void 0:Y.value)!==null&&b!==void 0?b:"";if(h==="script"){const Te=H.attr("type");Te&&H.attr("type",Te==="mce-no/type"?null:Te.replace(/^mce\-/,"")),r.element_format==="xhtml"&&Y&&ge.length>0&&(Y.value=`// <![CDATA[
`+E(ge)+`
// ]]>`)}else r.element_format==="xhtml"&&Y&&ge.length>0&&(Y.value=`<!--
`+E(ge)+`
-->`)}}),t.addNodeFilter("#comment",u=>{let h=u.length;for(;h--;){const b=u[h],E=b.value;r.preserve_cdata&&(E==null?void 0:E.indexOf("[CDATA["))===0?(b.name="#cdata",b.type=4,b.value=a.decode(E.replace(/^\[CDATA\[|\]\]$/g,""))):(E==null?void 0:E.indexOf("mce:protected "))===0&&(b.name="#text",b.type=3,b.raw=!0,b.value=unescape(E).substr(14))}}),t.addNodeFilter("xml:namespace,input",(u,h)=>{let b=u.length;for(;b--;){const E=u[b];E.type===7?E.remove():E.type===1&&h==="input"&&!E.attr("type")&&E.attr("type","text")}}),t.addAttributeFilter("data-mce-type",u=>{Oe(u,h=>{h.attr("data-mce-type")==="format-caret"&&(h.isEmpty(t.schema.getNonEmptyElements())?h.remove():h.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(u,h)=>{let b=u.length;for(;b--;)u[b].attr(h,null)})},LK=t=>{const r=u=>(u==null?void 0:u.name)==="br",a=t.lastChild;if(r(a)){const u=a.prev;r(u)&&(a.remove(),u.remove())}},HK=(t,r,a)=>{let u;const h=t.dom;let b=r.cloneNode(!0);const E=document.implementation;if(E.createHTMLDocument){const R=E.createHTMLDocument("");nn.each(b.nodeName==="BODY"?b.childNodes:[b],H=>{R.body.appendChild(R.importNode(H,!0))}),b.nodeName!=="BODY"?b=R.body.firstChild:b=R.body,u=h.doc,h.doc=R}return b2(t,{...a,node:b}),u&&(h.doc=u),b},jK=(t,r)=>Q(t)&&t.hasEventListeners("PreProcess")&&!r.no_events,PM=(t,r,a)=>jK(t,a)?HK(t,r,a):r,zK=(t,r,a)=>{nn.inArray(r,a)===-1&&(t.addAttributeFilter(a,(u,h)=>{let b=u.length;for(;b--;)u[b].attr(h,null)}),r.push(a))},VK=(t,r,a)=>!r.no_events&&t?C$(t,{...r,content:a}).content:a,UK=(t,r,a)=>{const u=It(a.getInner?r.innerHTML:t.getOuterHTML(r));return a.selection||Kr(mt.fromDom(r))?u:nn.trim(u)},WK=(t,r,a)=>{const u=a.selection?{forced_root_block:!1,...a}:a,h=t.parse(r,u);return LK(h),h},bhe=(t,r,a)=>ev(t,r).serialize(a),xm=(t,r,a,u,h)=>{const b=bhe(r,a,u);return VK(t,h,b)},FM=(t,r)=>{const a=["data-mce-selected"],u=r&&r.dom?r.dom:_s.DOM,h=r&&r.schema?r.schema:Mu(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0;const b=G2(t,h);NM(b,t,u);const E=(R,H={})=>{const Y={format:"html",...H},ge=PM(r,R,Y),Te=UK(u,ge,Y),Ae=WK(b,Te,Y);return Y.format==="tree"?Ae:xm(r,t,h,Ae,Y)};return{schema:h,addNodeFilter:b.addNodeFilter,addAttributeFilter:b.addAttributeFilter,serialize:E,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:re(zK,b,a),getTempAttrs:Fe(a),getNodeFilters:b.getNodeFilters,getAttributeFilters:b.getAttributeFilters,removeNodeFilter:b.removeNodeFilter,removeAttributeFilter:b.removeAttributeFilter}},RM=(t,r)=>{const a=FM(t,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},qK="html",ZK=(t,r)=>({...t,format:r,get:!0,getInner:!0}),GK=(t,r={})=>{const a=r.format?r.format:qK,u=ZK(r,a);return tM(t,u).fold(De,h=>{const b=IA(t,h);return nM(t,b,h)})},fs="html",yhe=(t,r)=>({format:fs,...t,set:!0,content:r}),$6=(t,r,a={})=>{const u=yhe(a,r);return i6(t,u).map(h=>{const b=_K(t,h.content,h);return xb(t,b.html,h),b.content}).getOr(r)},KK="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),li="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),YK=t=>{const r=xe(KK,u=>To(t,u)),a=t.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),sn(r)},Xx=t=>{const r=nn.makeMap(t.plugins," "),u=xe(li,h=>To(r,h));return sn(u)},XK=(t,r)=>{const a=YK(t),u=Xx(r),h=u.length>0,b=a.length>0,E=r.theme==="mobile";if(h||b||E){const R=`
- `,H=E?`

Themes:${R}mobile`:"",Y=h?`

Plugins:${R}${u.join(R)}`:"",ge=b?`

Options:${R}${a.join(R)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+H+Y+ge)}},JK=(t,r)=>{XK(t,r)},LA=_s.DOM,MM=t=>{LA.setStyle(t.id,"display",t.orgDisplay)},Mh=t=>q.from(t).each(r=>r.destroy()),Zu=t=>{const r=t;r.contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null;const a=t.selection;if(a){const u=a.dom;r.selection=a.win=a.dom=u.doc=null}},Jx=t=>{const r=t.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,delete r._mceOldSubmit),LA.unbind(r,"submit reset",t.formEventDelegate))},Eb=t=>{if(!t.removed){const{_selectionOverrides:r,editorUpload:a}=t,u=t.getBody(),h=t.getElement();u&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Q(h==null?void 0:h.nextSibling)&&LA.remove(h.nextSibling),xk(t),t.editorManager.remove(t),!t.inline&&u&&MM(t),Ek(t),LA.remove(t.getContainer()),Mh(r),Mh(a),t.destroy()}},Em=(t,r)=>{const{selection:a,dom:u}=t;if(!t.destroyed){if(!r&&!t.removed){t.remove();return}r||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Mh(a),Mh(u)),Jx(t),Zu(t),t.destroyed=!0}},J2=(()=>{const t={};return{add:(h,b)=>{t[h]=b},get:h=>t[h]?t[h]:{icons:{}},has:h=>To(t,h)}})(),av=Ba.ModelManager,D6=(t,r)=>r.dom[t],B6=(t,r)=>parseInt(At(r,t),10),QK=re(D6,"clientWidth"),eY=re(D6,"clientHeight"),IM=re(B6,"margin-top"),LM=re(B6,"margin-left"),HM=t=>t.dom.getBoundingClientRect(),jM=(t,r,a)=>{const u=QK(t),h=eY(t);return r>=0&&a>=0&&r<=u&&a<=h},N6=(t,r,a,u)=>{const h=HM(r),b=t?h.left+r.dom.clientLeft+LM(r):0,E=t?h.top+r.dom.clientTop+IM(r):0,R=a-b,H=u-E;return{x:R,y:H}},whe=(t,r,a)=>{const u=mt.fromDom(t.getBody()),h=t.inline?u:pp(u),b=N6(t.inline,h,r,a);return jM(h,b.x,b.y)},tY=t=>q.from(t).map(mt.fromDom),Che=t=>{const r=t.inline?t.getBody():t.getContentAreaContainer();return tY(r).map(cu).getOr(!1)};var nY=()=>{const t=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}};const zM=t=>{const r=[],a=()=>{const Ae=t.theme;return Ae&&Ae.getNotificationManagerImpl?Ae.getNotificationManagerImpl():nY()},u=()=>q.from(r[0]),h=(Ae,nt)=>Ae.type===nt.type&&Ae.text===nt.text&&!Ae.progressBar&&!Ae.timeout&&!nt.progressBar&&!nt.timeout,b=()=>{Oe(r,Ae=>{Ae.reposition()})},E=Ae=>{r.push(Ae)},R=Ae=>{vn(r,nt=>nt===Ae).each(nt=>{r.splice(nt,1)})},H=(Ae,nt=!0)=>t.removed||!Che(t)?{}:(nt&&t.dispatch("BeforeOpenNotification",{notification:Ae}),qt(r,st=>h(a().getArgs(st),Ae)).getOrThunk(()=>{t.editorManager.setActive(t);const st=a().open(Ae,()=>{R(st),b(),u().fold(()=>t.focus(),Ge=>Kk(mt.fromDom(Ge.getEl())))});return E(st),b(),t.dispatch("OpenNotification",{notification:{...st}}),st})),Y=()=>{u().each(Ae=>{a().close(Ae),R(Ae),b()})},ge=Fe(r);return(Ae=>{Ae.on("SkinLoaded",()=>{const nt=kh(Ae);nt&&H({text:nt,type:"warning",timeout:0},!1),b()}),Ae.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(b)}),Ae.on("remove",()=>{Oe(r.slice(),nt=>{a().close(nt)})})})(t),{open:H,close:Y,getNotifications:ge}},Gu=Ba.PluginManager,Q2=Ba.ThemeManager;var She=()=>{const t=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}};const VM=t=>{let r=[];const a=()=>{const Ge=t.theme;return Ge&&Ge.getWindowManagerImpl?Ge.getWindowManagerImpl():She()},u=(Ge,ct)=>(...ht)=>ct?ct.apply(Ge,ht):void 0,h=Ge=>{t.dispatch("OpenWindow",{dialog:Ge})},b=Ge=>{t.dispatch("CloseWindow",{dialog:Ge})},E=Ge=>{r.push(Ge),h(Ge)},R=Ge=>{b(Ge),r=xe(r,ct=>ct!==Ge),r.length===0&&t.focus()},H=()=>q.from(r[r.length-1]),Y=Ge=>{t.editorManager.setActive(t),Bt(t),t.ui.show();const ct=Ge();return E(ct),ct},ge=(Ge,ct)=>Y(()=>a().open(Ge,ct,R)),Te=Ge=>Y(()=>a().openUrl(Ge,R)),Ae=(Ge,ct,ht)=>{const Et=a();Et.alert(Ge,u(ht||Et,ct))},nt=(Ge,ct,ht)=>{const Et=a();Et.confirm(Ge,u(ht||Et,ct))},st=()=>{H().each(Ge=>{a().close(Ge),R(Ge)})};return t.on("remove",()=>{Oe(r,Ge=>{a().close(Ge)})}),{open:ge,openUrl:Te,alert:Ae,confirm:nt,close:st}},ew=(t,r)=>{t.notificationManager.open({type:"error",text:r})},jA=(t,r)=>{t._skinLoaded?ew(t,r):t.on("SkinLoaded",()=>{ew(t,r)})},UM=(t,r)=>{jA(t,yf.translate(["Failed to upload image: {0}",r]))},tw=(t,r,a)=>{J0(t,r,{message:a}),console.error(a)},nw=(t,r,a)=>a?`Failed to load ${t}: ${a} from url ${r}`:`Failed to load ${t} url: ${r}`,oY=(t,r,a)=>{tw(t,"PluginLoadError",nw("plugin",r,a))},rY=(t,r,a)=>{tw(t,"IconsLoadError",nw("icons",r,a))},iv=(t,r,a)=>{tw(t,"LanguageLoadError",nw("language",r,a))},sY=(t,r,a)=>{tw(t,"ThemeLoadError",nw("theme",r,a))},aY=(t,r,a)=>{tw(t,"ModelLoadError",nw("model",r,a))},iY=(t,r,a)=>{const u=yf.translate(["Failed to initialize plugin: {0}",r]);J0(t,"PluginLoadError",{message:u}),zA(u,a),jA(t,u)},zA=(t,...r)=>{const a=window.console;a&&(a.error?a.error(t,...r):a.log(t,...r))},lY=t=>/^[a-z0-9\-]+$/i.test(t),cY=t=>WM(t,Mn(t)),uY=t=>WM(t,Vi(t)),WM=(t,r)=>{const a=t.editorManager.baseURL+"/skins/content",h=`content${t.editorManager.suffix}.css`;return Ve(r,b=>lY(b)&&!t.inline?`${a}/${b}/${h}`:t.documentBaseURI.toAbsolute(b))},fY=t=>{t.contentCSS=t.contentCSS.concat(cY(t),uY(t))},dY=me,hY=(t,r,a)=>o1(t,r,dY,a),xhe=t=>t?_o(t.getElementsByTagName("img")):[],Qx=(t,r)=>{const a={};return{findAll:(h,b=me)=>{const E=xe(xhe(h),H=>{const Y=H.src;return H.hasAttribute("data-mce-bogus")||H.hasAttribute("data-mce-placeholder")||!Y||Y===Hn.transparentSrc?!1:$o(Y,"blob:")?!t.isUploaded(Y)&&b(H):$o(Y,"data:")?b(H):!1}),R=Ve(E,H=>{const Y=H.src;if(To(a,Y))return a[Y].then(ge=>P(ge)?ge:{image:H,blobInfo:ge.blobInfo});{const ge=z9(r,Y).then(Te=>(delete a[Y],{image:H,blobInfo:Te})).catch(Te=>(delete a[Y],Te));return a[Y]=ge,ge}});return Promise.all(R)}}},qM=()=>{let a={};const u=(Ae,nt)=>({status:Ae,resultUri:nt}),h=Ae=>Ae in a;return{hasBlobUri:h,getResultUri:Ae=>{const nt=a[Ae];return nt?nt.resultUri:null},isPending:Ae=>h(Ae)?a[Ae].status===1:!1,isUploaded:Ae=>h(Ae)?a[Ae].status===2:!1,markPending:Ae=>{a[Ae]=u(1,null)},markUploaded:(Ae,nt)=>{a[Ae]=u(2,nt)},removeFailed:Ae=>{delete a[Ae]},destroy:()=>{a={}}}};let P6=0;const pY=()=>{const t=()=>Math.round(Math.random()*4294967295).toString(36),r=new Date().getTime();return"s"+r.toString(36)+t()+t()+t()},gY=t=>t+P6+++pY(),mY=()=>{let t=[];const r=Te=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Te.toLowerCase()]||"dat",a=(Te,Ae,nt,st,Ge)=>{if(P(Te))return u({id:Te,name:st,filename:Ge,blob:Ae,base64:nt});if(I(Te))return u(Te);throw new Error("Unknown input type")},u=Te=>{if(!Te.blob||!Te.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Ae=Te.id||gY("blobid"),nt=Te.name||Ae,st=Te.blob;return{id:Fe(Ae),name:Fe(nt),filename:Fe(Te.filename||nt+"."+r(st.type)),blob:Fe(st),base64:Fe(Te.base64),blobUri:Fe(Te.blobUri||URL.createObjectURL(st)),uri:Fe(Te.uri)}},h=Te=>{E(Te.id())||t.push(Te)},b=Te=>qt(t,Te).getOrUndefined(),E=Te=>b(Ae=>Ae.id()===Te);return{create:a,add:h,get:E,getByUri:Te=>b(Ae=>Ae.blobUri()===Te),getByData:(Te,Ae)=>b(nt=>nt.base64()===Te&&nt.blob().type===Ae),findFirst:b,removeByUri:Te=>{t=xe(t,Ae=>Ae.blobUri()===Te?(URL.revokeObjectURL(Ae.blobUri()),!1):!0)},destroy:()=>{Oe(t,Te=>{URL.revokeObjectURL(Te.blobUri())}),t=[]}}},vY=(t,r)=>{const a={},u=(Ge,ct)=>Ge?Ge.replace(/\/$/,"")+"/"+ct.replace(/^\//,""):ct,h=(Ge,ct)=>new Promise((ht,Et)=>{const $t=new XMLHttpRequest;$t.open("POST",r.url),$t.withCredentials=r.credentials,$t.upload.onprogress=an=>{ct(an.loaded/an.total*100)},$t.onerror=()=>{Et("Image upload failed due to a XHR Transport error. Code: "+$t.status)},$t.onload=()=>{if($t.status<200||$t.status>=300){Et("HTTP Error: "+$t.status);return}const an=JSON.parse($t.responseText);if(!an||!P(an.location)){Et("Invalid JSON: "+$t.responseText);return}ht(u(r.basePath,an.location))};const Qt=new FormData;Qt.append("file",Ge.blob(),Ge.filename()),$t.send(Qt)}),b=G(r.handler)?r.handler:h,E=()=>new Promise(Ge=>{Ge([])}),R=(Ge,ct)=>({url:ct,blobInfo:Ge,status:!0}),H=(Ge,ct)=>({url:"",blobInfo:Ge,status:!1,error:ct}),Y=(Ge,ct)=>{nn.each(a[Ge],ht=>{ht(ct)}),delete a[Ge]},ge=(Ge,ct,ht)=>(t.markPending(Ge.blobUri()),new Promise(Et=>{let $t,Qt;try{const an=()=>{$t&&($t.close(),Qt=be)},Bn=Wt=>{an(),t.markUploaded(Ge.blobUri(),Wt),Y(Ge.blobUri(),R(Ge,Wt)),Et(R(Ge,Wt))},un=Wt=>{an(),t.removeFailed(Ge.blobUri()),Y(Ge.blobUri(),H(Ge,Wt)),Et(H(Ge,Wt))};Qt=Wt=>{Wt<0||Wt>100||q.from($t).orThunk(()=>q.from(ht).map(ce)).each(Kt=>{$t=Kt,Kt.progressBar.value(Wt)})},ct(Ge,Qt).then(Bn,Wt=>{un(P(Wt)?{message:Wt}:Wt)})}catch(an){Et(H(Ge,an))}})),Te=Ge=>Ge===h,Ae=Ge=>{const ct=Ge.blobUri();return new Promise(ht=>{a[ct]=a[ct]||[],a[ct].push(ht)})},nt=(Ge,ct)=>(Ge=nn.grep(Ge,ht=>!t.isUploaded(ht.blobUri())),Promise.all(nn.map(Ge,ht=>t.isPending(ht.blobUri())?Ae(ht):ge(ht,b,ct))));return{upload:(Ge,ct)=>!r.url&&Te(b)?E():nt(Ge,ct)}},lv=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),cv=(t,r)=>vY(r,{url:bF(t),basePath:$5(t),credentials:D5(t),handler:B5(t)}),VA=t=>{const r=qM(),a=cv(t,r);return{upload:(u,h=!0)=>a.upload(u,h?lv(t):void 0)}},UA=t=>{const r=mY();let a,u;const h=qM(),b=[],E=$t=>Qt=>t.selection?$t(Qt):[],R=$t=>$t+($t.indexOf("?")===-1?"?":"&")+new Date().getTime(),H=($t,Qt,an)=>{let Bn=0;do Bn=$t.indexOf(Qt,Bn),Bn!==-1&&($t=$t.substring(0,Bn)+an+$t.substr(Bn+Qt.length),Bn+=an.length-Qt.length+1);while(Bn!==-1);return $t},Y=($t,Qt,an)=>{const Bn=`src="${an}"${an===Hn.transparentSrc?' data-mce-placeholder="1"':""}`;return $t=H($t,`src="${Qt}"`,Bn),$t=H($t,'data-mce-src="'+Qt+'"','data-mce-src="'+an+'"'),$t},ge=($t,Qt)=>{Oe(t.undoManager.data,an=>{an.type==="fragmented"?an.fragments=Ve(an.fragments,Bn=>Y(Bn,$t,Qt)):an.content=Y(an.content,$t,Qt)})},Te=($t,Qt)=>{const an=t.convertURL(Qt,"src");ge($t.src,Qt),Jr(mt.fromDom($t),{src:B1(t)?R(Qt):Qt,"data-mce-src":an})},Ae=()=>(a||(a=cv(t,h)),ct().then(E($t=>{const Qt=Ve($t,an=>an.blobInfo);return a.upload(Qt,lv(t)).then(E(an=>{const Bn=[];let un=!1;const Wt=Ve(an,(Kt,Nn)=>{const{blobInfo:vo,image:Ao}=$t[Nn];let ir=!1;return Kt.status&&pS(t)?(Kt.url&&!go(Ao.src,Kt.url)&&(un=!0),r.removeByUri(Ao.src),Rh(t)||Te(Ao,Kt.url)):Kt.error&&(Kt.error.remove&&(ge(Ao.src,Hn.transparentSrc),Bn.push(Ao),ir=!0),UM(t,Kt.error.message)),{element:Ao,status:Kt.status,uploadUri:Kt.url,blobInfo:vo,removed:ir}});return Bn.length>0&&!Rh(t)?t.undoManager.transact(()=>{Oe(Bn,Kt=>{t.dom.remove(Kt),r.removeByUri(Kt.src)})}):un&&t.undoManager.dispatchChange(),Wt}))}))),nt=()=>A0(t)?Ae():Promise.resolve([]),st=$t=>fn(b,Qt=>Qt($t)),Ge=$t=>{b.push($t)},ct=()=>(u||(u=Qx(h,r)),u.findAll(t.getBody(),st).then(E($t=>{const Qt=xe($t,an=>P(an)?(jA(t,an),!1):!0);return Rh(t)||Oe(Qt,an=>{ge(an.image.src,an.blobInfo.blobUri()),an.image.src=an.blobInfo.blobUri(),an.image.removeAttribute("data-mce-src")}),Qt}))),ht=()=>{r.destroy(),h.destroy(),u=a=null},Et=$t=>$t.replace(/src="(blob:[^"]+)"/g,(Qt,an)=>{const Bn=h.getResultUri(an);if(Bn)return'src="'+Bn+'"';let un=r.getByUri(an);if(un||(un=Xe(t.editorManager.get(),(Wt,Kt)=>Wt||Kt.editorUpload&&Kt.editorUpload.blobCache.getByUri(an),void 0)),un){const Wt=un.blob();return'src="data:'+Wt.type+";base64,"+un.base64()+'"'}return Qt});return t.on("SetContent",()=>{A0(t)?nt():ct()}),t.on("RawSaveContent",$t=>{$t.content=Et($t.content)}),t.on("GetContent",$t=>{$t.source_view||$t.format==="raw"||$t.format==="tree"||($t.content=Et($t.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",$t=>{Oe($t,Qt=>{const an=Qt.attr("src");if(!an||r.getByUri(an))return;const Bn=h.getResultUri(an);Bn&&Qt.attr("src",Bn)})})}),{blobCache:r,addFilter:Ge,uploadImages:Ae,uploadImagesAuto:nt,scanForImages:ct,destroy:ht}},kb=t=>{const r=t.dom,a=t.schema.type,u={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:h=>{r.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:h=>{r.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const h={inline:"span",styles:{textDecoration:"line-through"},exact:!0},b={inline:"strike",remove:"all",preserve_attributes:["class","style"]},E={inline:"s",remove:"all",preserve_attributes:["class","style"]};return a!=="html4"?[E,h,b]:[h,E,b]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(h,b,E)=>no(h)&&h.hasAttribute("href"),onformat:(h,b,E)=>{nn.each(E,(R,H)=>{r.setAttrib(h,H,R)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":h=>{var b;return(b=h==null?void 0:h.customValue)!==null&&b!==void 0?b:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return nn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),h=>{u[h]={block:h,remove:"all"}}),u},uv={remove_similar:!0,inherit:!1},km={selector:"td,th",...uv},WA={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...km},tablecellverticalalign:{styles:{"vertical-align":"%value"},...km},tablecellbordercolor:{styles:{borderColor:"%value"},...km},tablecellclass:{classes:["%value"],...km},tableclass:{selector:"table",classes:["%value"],...uv},tablecellborderstyle:{styles:{borderStyle:"%value"},...km},tablecellborderwidth:{styles:{borderWidth:"%value"},...km}},ZM=Fe(WA),F6=t=>{const r={},a=E=>Q(E)?r[E]:r,u=E=>To(r,E),h=(E,R)=>{E&&(P(E)?(K(R)||(R=[R]),Oe(R,H=>{ke(H.deep)&&(H.deep=!dc(H)),ke(H.split)&&(H.split=!dc(H)||Ui(H)),ke(H.remove)&&dc(H)&&!Ui(H)&&(H.remove="none"),dc(H)&&Ui(H)&&(H.mixed=!0,H.block_expand=!0),P(H.classes)&&(H.classes=H.classes.split(/\s+/))}),r[E]=R):xn(E,(H,Y)=>{h(Y,H)}))},b=E=>(E&&r[E]&&delete r[E],r);return h(kb(t)),h(ZM()),h(Jf(t)),{get:a,has:u,register:h,unregister:b}},ow=nn.each,Af=_s.DOM,qA=t=>Q(t)&&I(t),Ab=(t,r)=>{const a=r&&r.schema||Mu({}),u=(H,Y)=>{Y.classes.length>0&&Af.addClass(H,Y.classes.join(" ")),Af.setAttribs(H,Y.attrs)},h=H=>{const Y=P(H)?{name:H,classes:[],attrs:{}}:H,ge=Af.create(Y.name);return u(ge,Y),ge},b=(H,Y)=>{const ge=a.getElementRule(H.nodeName.toLowerCase()),Te=ge==null?void 0:ge.parentsRequired;return Te&&Te.length?Y&&He(Te,Y)?Y:Te[0]:!1},E=(H,Y,ge)=>{let Te;const Ae=Y[0],nt=qA(Ae)?Ae.name:void 0,st=b(H,nt);if(st)nt===st?(Te=Ae,Y=Y.slice(1)):Te=st;else if(Ae)Te=Ae,Y=Y.slice(1);else if(!ge)return H;const Ge=Te?h(Te):Af.create("div");Ge.appendChild(H),ge&&nn.each(ge,ht=>{const Et=h(ht);Ge.insertBefore(Et,H)});const ct=qA(Te)?Te.siblings:void 0;return E(Ge,Y,ct)},R=Af.create("div");if(t.length>0){const H=t[0],Y=h(H),ge=qA(H)?H.siblings:void 0;R.appendChild(E(Y,t.slice(1),ge))}return R},GM=t=>{t=nn.trim(t);let r="div";const a={name:r,classes:[],attrs:{},selector:t};return t!=="*"&&(r=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(u,h,b,E,R)=>{switch(h){case"#":a.attrs.id=b;break;case".":a.classes.push(b);break;case":":nn.inArray("checked disabled enabled read-only required".split(" "),b)!==-1&&(a.attrs[b]=b);break}if(E==="["){const H=R.match(/([\w\-]+)(?:\=\"([^\"]+))?/);H&&(a.attrs[H[1]]=H[2])}return""})),a.name=r||"div",a},KM=t=>P(t)?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),nn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),r=>{const a=nn.map(r.split(/(?:~\+|~|\+)/),GM),u=a.pop();return a.length&&(u.siblings=a),u}).reverse()):[],YM=(t,r)=>{let a="",u=R5(t);if(u==="")return"";const h=Ae=>P(Ae)?Ae.replace(/%(\w+)/g,""):"",b=(Ae,nt)=>Af.getStyle(nt!=null?nt:t.getBody(),Ae,!0);if(P(r)){const Ae=t.formatter.get(r);if(!Ae)return"";r=Ae[0]}if("preview"in r){const Ae=r.preview;if(Ae===!1)return"";u=Ae||u}let E=r.block||r.inline||"span",R;const H=KM(r.selector);H.length>0?(H[0].name||(H[0].name=E),E=r.selector,R=Ab(H,t)):R=Ab([E],t);const Y=Af.select(E,R)[0]||R.firstChild;ow(r.styles,(Ae,nt)=>{const st=h(Ae);st&&Af.setStyle(Y,nt,st)}),ow(r.attributes,(Ae,nt)=>{const st=h(Ae);st&&Af.setAttrib(Y,nt,st)}),ow(r.classes,Ae=>{const nt=h(Ae);Af.hasClass(Y,nt)||Af.addClass(Y,nt)}),t.dispatch("PreviewFormats"),Af.setStyles(R,{position:"absolute",left:-65535}),t.getBody().appendChild(R);const ge=b("fontSize"),Te=/px$/.test(ge)?parseInt(ge,10):0;return ow(u.split(" "),Ae=>{let nt=b(Ae,Y);if(!(Ae==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(nt)&&(nt=b(Ae),tm(nt).toLowerCase()==="#ffffff"))&&!(Ae==="color"&&tm(nt).toLowerCase()==="#000000")){if(Ae==="font-size"&&/em|%$/.test(nt)){if(Te===0)return;nt=parseFloat(nt)/(/%$/.test(nt)?100:1)*Te+"px"}Ae==="border"&&nt&&(a+="padding:0 2px;"),a+=Ae+":"+nt+";"}}),t.dispatch("AfterPreviewFormats"),Af.remove(R),a},ZA=t=>{t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(let r=1;r<=6;r++)t.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},R6=t=>{const r=F6(t),a=ii({});return ZA(t),r9(t),Rh(t)||hG(a,t),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:(u,h,b)=>{TM(t,u,h,b)},remove:(u,h,b,E)=>{AK(t,u,h,b,E)},toggle:(u,h,b)=>{TK(t,u,h,b)},match:(u,h,b,E)=>CK(t,u,h,b,E),closest:u=>kK(t,u),matchAll:(u,h)=>SK(t,u,h),matchNode:(u,h,b,E)=>xK(t,u,h,b,E),canApply:u=>EK(t,u),formatChanged:(u,h,b,E)=>OK(t,a,u,h,b,E),getCssText:re(YM,t)}},M6=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},XM=(t,r,a)=>{const u=ii(!1),h=H=>{MA(r,!1,a),r.add({},H)};t.on("init",()=>{r.add()}),t.on("BeforeExecCommand",H=>{const Y=H.command;M6(Y)||(cK(r,a),r.beforeChange())}),t.on("ExecCommand",H=>{const Y=H.command;M6(Y)||h(H)}),t.on("ObjectResizeStart cut",()=>{r.beforeChange()}),t.on("SaveContent ObjectResized blur",h),t.on("dragend",h),t.on("keyup",H=>{const Y=H.keyCode;H.isDefaultPrevented()||((Y>=33&&Y<=36||Y>=37&&Y<=40||Y===45||H.ctrlKey)&&(h(),t.nodeChanged()),(Y===46||Y===8)&&t.nodeChanged(),u.get()&&r.typing&&!w6(RA(t),r.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),u.set(!1),t.nodeChanged()))}),t.on("keydown",H=>{const Y=H.keyCode;if(H.isDefaultPrevented())return;if(Y>=33&&Y<=36||Y>=37&&Y<=40||Y===45){r.typing&&h(H);return}const ge=H.ctrlKey&&!H.altKey||H.metaKey;(Y<16||Y>20)&&Y!==224&&Y!==91&&!r.typing&&!ge&&(r.beforeChange(),MA(r,!0,a),r.add({},H),u.set(!0))}),t.on("mousedown",H=>{r.typing&&h(H)});const b=H=>H.inputType==="insertReplacementText",E=H=>H.inputType==="insertText"&&H.data===null,R=H=>H.inputType==="insertFromPaste"||H.inputType==="insertFromDrop";t.on("input",H=>{H.inputType&&(b(H)||E(H)||R(H))&&h(H)}),t.on("AddUndo Undo Redo ClearUndos",H=>{H.isDefaultPrevented()||t.nodeChanged()})},JM=t=>{t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},Zp=t=>{const r=yh(),a=ii(0),u=ii(0),h={data:[],typing:!1,beforeChange:()=>{x6(t,a,r)},add:(b,E)=>vK(t,h,u,a,r,b,E),dispatchChange:()=>{t.setDirty(!0);const b=RA(t);b.bookmark=E0(t.selection),t.dispatch("change",{level:b,lastLevel:kn(h.data,u.get()).getOrUndefined()})},undo:()=>EM(t,h,a,u),redo:()=>kM(t,u,h.data),clear:()=>{E6(t,h,u)},reset:()=>{AM(t,h)},hasUndo:()=>k6(t,h,u),hasRedo:()=>bK(t,h,u),transact:b=>yK(t,h,a,b),ignore:b=>{wK(t,a,b)},extra:(b,E)=>{ad(t,h,u,b,E)}};return Rh(t)||XM(t,h,a),JM(t),h},fv=[9,27,wo.HOME,wo.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,wo.DOWN,wo.UP,wo.LEFT,wo.RIGHT].concat(Hn.browser.isFirefox()?[224]:[]),id="data-mce-placeholder",QM=t=>t.type==="keydown"||t.type==="keyup",eI=t=>{const r=t.keyCode;return r===wo.BACKSPACE||r===wo.DELETE},bY=t=>{if(QM(t)){const r=t.keyCode;return!eI(t)&&(wo.metaKeyPressed(t)||t.altKey||r>=112&&r<=123||He(fv,r))}else return!1},yY=t=>QM(t)&&!(eI(t)||t.type==="keyup"&&t.keyCode===229),wY=(t,r,a)=>{if(vi(mt.fromDom(r),!1)){const u=r.firstElementChild;return u?t.getStyle(r.firstElementChild,"padding-left")||t.getStyle(r.firstElementChild,"padding-right")?!1:a===u.nodeName.toLowerCase():!0}else return!1},CY=t=>{var r;const a=t.dom,u=da(t),h=(r=yF(t))!==null&&r!==void 0?r:"",b=(E,R)=>{if(bY(E))return;const H=t.getBody(),Y=yY(E)?!1:wY(a,H,u);(a.getAttrib(H,id)!==""!==Y||R)&&(a.setAttrib(H,id,Y?h:null),a.setAttrib(H,"aria-placeholder",Y?h:null),y2(t,Y),t.on(Y?"keydown":"keyup",b),t.off(Y?"keyup":"keydown",b))};Tr(h)&&t.on("init",E=>{b(E,!0),t.on("change SetContent ExecCommand",b),t.on("paste",R=>Yn.setEditorTimeout(t,()=>b(R)))})},SY=(t,r)=>({block:t,position:r}),xY=(t,r)=>({from:t,to:r}),I6=(t,r)=>{const a=mt.fromDom(t),u=mt.fromDom(r.container());return nA(a,u).map(h=>SY(h,r))},EY=t=>!ps(t.from.block,t.to.block),kY=t=>Li(t.from.block).bind(r=>Li(t.to.block).filter(a=>ps(r,a))).isSome(),AY=t=>xa(t.from.block.dom)===!1&&xa(t.to.block.dom)===!1,L6=(t,r,a)=>$a(a.position.getNode())&&!vi(a.block)?H0(!1,a.block.dom).bind(u=>u.isEqual(a.position)?_c(r,t,u).bind(h=>I6(t,h)):q.some(a)).getOr(a):a,H6=(t,r,a)=>{const u=I6(t,Yt.fromRangeStart(a)),h=u.bind(b=>_c(r,t,b.position).bind(E=>I6(t,E).map(R=>L6(t,r,R))));return Js(u,h,xY).filter(b=>EY(b)&&kY(b)&&AY(b))},tI=(t,r,a)=>a.collapsed?H6(t,r,a):q.none(),TY=t=>{const r=gi(t);return vn(r,Fu).fold(Fe(r),a=>r.slice(0,a))},nI=t=>{const r=TY(t);return Oe(r,ts),r},j6=(t,r)=>{const a=vm(r,t);return qt(a.reverse(),u=>vi(u)).each(ts)},oI=t=>xe(gp(t),r=>!vi(r)).length===0,z6=(t,r,a,u)=>{if(vi(a))return X(a),yi(a.dom);oI(u)&&vi(r)&&$r(u,mt.fromTag("br"));const h=mu(a.dom,Yt.before(u.dom));return Oe(nI(r),b=>{$r(u,b)}),j6(t,r),h},rI=(t,r,a)=>{if(vi(a))return ts(a),vi(r)&&X(r),yi(r.dom);const u=vu(a.dom);return Oe(nI(r),h=>{La(a,h)}),j6(t,r),u},sI=(t,r)=>{const a=vm(r,t);return q.from(a[a.length-1])},V6=(t,r)=>Ii(r,t)?sI(r,t):q.none(),aI=(t,r)=>{H0(t,r.dom).bind(a=>q.from(a.getNode())).map(mt.fromDom).filter(lh).each(ts)},iI=(t,r,a)=>(aI(!0,r),aI(!1,a),V6(r,a).fold(re(rI,t,r,a),re(z6,t,r,a))),Ih=(t,r,a,u)=>r?iI(t,u,a):iI(t,a,u),Tf=(t,r)=>{const a=mt.fromDom(t.getBody());return tI(a.dom,r,t.selection.getRng()).map(h=>()=>{Ih(a,r,h.from.block,h.to.block).each(b=>{t.selection.setRng(b.toRange())})})},GA=(t,r)=>{const a=r.getRng();return Js(nA(t,mt.fromDom(a.startContainer)),nA(t,mt.fromDom(a.endContainer)),(u,h)=>ps(u,h)?q.none():q.some(()=>{a.deleteContents(),Ih(t,!0,u,h).each(b=>{r.setRng(b.toRange())})})).getOr(q.none())},U6=(t,r)=>{const a=mt.fromDom(r),u=re(ps,t);return Da(a,Fl,u).isSome()},KA=(t,r)=>U6(t,r.startContainer)||U6(t,r.endContainer),lI=(t,r)=>{const a=mu(t.dom,Yt.fromRangeStart(r)).isNone(),u=uc(t.dom,Yt.fromRangeEnd(r)).isNone();return!KA(t,r)&&a&&u},cI=t=>q.some(()=>{t.setContent(""),t.selection.setCursorLocation()}),uI=t=>{const r=mt.fromDom(t.getBody()),a=t.selection.getRng();return lI(r,a)?cI(t):GA(r,t.selection)},YA=(t,r)=>t.selection.isCollapsed()?q.none():uI(t),Gp=(t,r,a,u,h)=>q.from(r._selectionOverrides.showCaret(t,a,u,h)),fI=t=>{const r=t.ownerDocument.createRange();return r.selectNode(t),r},dv=(t,r)=>t.dispatch("BeforeObjectSelected",{target:r}).isDefaultPrevented()?q.none():q.some(fI(r)),W6=(t,r,a)=>{const u=F1(1,t.getBody(),r),h=Yt.fromRangeStart(u),b=h.getNode();if(B0(b))return Gp(1,t,b,!h.isAtEnd(),!1);const E=h.getNode(!0);if(B0(E))return Gp(1,t,E,!1,!1);const R=bm(t.dom.getRoot(),h.getNode());return B0(R)?Gp(1,t,R,!1,a):q.none()},q6=(t,r,a)=>r.collapsed?W6(t,r,a).getOr(r):r,OY=t=>tv(t)||bx(t),_Y=t=>nv(t)||yx(t),$Y=(t,r)=>{bn(r)&&r.data.length===0&&t.remove(r)},Z6=(t,r,a,u,h,b)=>{Gp(u,t,b.getNode(!h),h,!0).each(E=>{if(r.collapsed){const R=r.cloneRange();h?R.setEnd(E.startContainer,E.startOffset):R.setStart(E.endContainer,E.endOffset),R.deleteContents()}else r.deleteContents();t.selection.setRng(E)}),$Y(t.dom,a)},DY=(t,r)=>{const a=t.selection.getRng();if(!bn(a.commonAncestorContainer))return q.none();const u=r?Ja.Forwards:Ja.Backwards,h=Nd(t.getBody()),b=re(Hl,r?h.next:h.prev),E=r?OY:_Y,R=M0(u,t.getBody(),a),H=b(R),Y=H&&rd(r,H);if(!Y||!BS(R,Y))return q.none();if(E(Y))return q.some(()=>Z6(t,a,R.getNode(),u,r,Y));const ge=b(Y);return ge&&E(ge)&&BS(Y,ge)?q.some(()=>Z6(t,a,R.getNode(),u,r,ge)):q.none()},G6=(t,r)=>DY(t,r),eE=(t,r)=>{const a=t.getBody();return r?yi(a).filter(tv):vu(a).filter(nv)},K6=t=>{const r=t.selection.getRng();return!r.collapsed&&(eE(t,!0).exists(a=>a.isEqual(Yt.fromRangeStart(r)))||eE(t,!1).exists(a=>a.isEqual(Yt.fromRangeEnd(r))))},BY=t=>Q(t)&&(Fl(mt.fromDom(t))||kc(mt.fromDom(t))),Of=Dd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),NY=(t,r)=>{const a=r.getNode(!t),u=t?"after":"before";return no(a)&&a.getAttribute("data-mce-caret")===u},PY=(t,r,a,u)=>{const h=b=>xp(mt.fromDom(b))&&!Lu(a,u,t);return ok(!r,a).fold(()=>ok(r,u).fold(Ce,h),h)},dI=(t,r,a,u)=>{const h=u.getNode(!r);return nA(mt.fromDom(t),mt.fromDom(a.getNode())).map(b=>vi(b)?Of.remove(b.dom):Of.moveToElement(h)).orThunk(()=>q.some(Of.moveToElement(h)))},hI=(t,r,a)=>_c(r,t,a).bind(u=>BY(u.getNode())||PY(t,r,a,u)?q.none():r&&xa(u.getNode())||!r&&xa(u.getNode(!0))?dI(t,r,a,u):r&&nv(a)||!r&&tv(a)?q.some(Of.moveToPosition(u)):q.none()),XA=(t,r)=>ae(r)?q.none():t&&xa(r.nextSibling)?q.some(Of.moveToElement(r.nextSibling)):!t&&xa(r.previousSibling)?q.some(Of.moveToElement(r.previousSibling)):q.none(),Y6=(t,r,a)=>a.fold(u=>q.some(Of.remove(u)),u=>q.some(Of.moveToElement(u)),u=>Lu(r,u,t)?q.none():q.some(Of.moveToPosition(u))),FY=(t,r,a)=>NY(r,a)?XA(r,a.getNode(!r)).orThunk(()=>hI(t,r,a)):hI(t,r,a).bind(u=>Y6(t,a,u)),RY=(t,r,a)=>{const u=F1(r?1:-1,t,a),h=Yt.fromRangeStart(u),b=mt.fromDom(t);return!r&&nv(h)?q.some(Of.remove(h.getNode(!0))):r&&tv(h)?q.some(Of.remove(h.getNode())):!r&&tv(h)&&nD(b,h)?oD(b,h).map(E=>Of.remove(E.getNode())):r&&nv(h)&&Xk(b,h)?pZ(b,h).map(E=>Of.remove(E.getNode())):FY(t,r,h)},MY=(t,r)=>a=>(t._selectionOverrides.hideFakeCaret(),cb(t,r,mt.fromDom(a)),!0),IY=(t,r)=>a=>{const u=r?Yt.before(a):Yt.after(a);return t.selection.setRng(u.toRange()),!0},pI=t=>r=>(t.selection.setRng(r.toRange()),!0),gI=(t,r)=>q.from(bm(t.getBody(),r)),LY=(t,r)=>{const a=t.selection.getNode();return gI(t,a).filter(xa).fold(()=>RY(t.getBody(),r,t.selection.getRng()).map(u=>()=>u.fold(MY(t,r),IY(t,r),pI(t))),()=>q.some(be))},X6=t=>{Oe(_t(t,".mce-offscreen-selection"),ts)},HY=(t,r)=>{const a=t.selection.getNode();return xa(a)&&!rc(a)?gI(t,a.parentNode).filter(xa).fold(()=>q.some(()=>{X6(mt.fromDom(t.getBody())),cb(t,r,mt.fromDom(t.selection.getNode())),fD(t)}),()=>q.some(be)):K6(t)?q.some(()=>{dD(t,t.selection.getRng(),mt.fromDom(t.getBody()))}):q.none()},mI=t=>{const r=t.dom,a=t.selection,u=bm(t.getBody(),a.getNode());if(uu(u)&&r.isBlock(u)&&r.isEmpty(u)){const h=r.create("br",{"data-mce-bogus":"1"});r.setHTML(u,""),u.appendChild(h),a.setRng(Yt.before(h).toRange())}return!0},J6=(t,r)=>t.selection.isCollapsed()?LY(t,r):HY(t,r),jY=(t,r)=>{const a=Yt.fromRangeStart(t.selection.getRng());return _c(r,t.getBody(),a).filter(u=>r?WF(u):cZ(u)).bind(u=>DS(r?0:-1,u)).map(u=>()=>t.selection.select(u))},Q6=(t,r)=>t.selection.isCollapsed()?jY(t,r):q.none(),rw=bn,vI=t=>rw(t)&&t.data[0]===$e,tE=t=>rw(t)&&t.data[t.data.length-1]===$e,nE=t=>{var r;return((r=t.ownerDocument)!==null&&r!==void 0?r:document).createTextNode($e)},zY=t=>{var r;if(rw(t.previousSibling))return tE(t.previousSibling)||t.previousSibling.appendData($e),t.previousSibling;if(rw(t))return vI(t)||t.insertData(0,$e),t;{const a=nE(t);return(r=t.parentNode)===null||r===void 0||r.insertBefore(a,t),a}},VY=t=>{var r,a;if(rw(t.nextSibling))return vI(t.nextSibling)||t.nextSibling.insertData(0,$e),t.nextSibling;if(rw(t))return tE(t)||t.appendData($e),t;{const u=nE(t);return t.nextSibling?(r=t.parentNode)===null||r===void 0||r.insertBefore(u,t.nextSibling):(a=t.parentNode)===null||a===void 0||a.appendChild(u),u}},Tb=(t,r)=>t?zY(r):VY(r),UY=re(Tb,!0),WY=re(Tb,!1),bI=(t,r)=>bn(t.container())?Tb(r,t.container()):Tb(r,t.getNode()),yI=(t,r)=>{const a=r.get();return a&&t.container()===a&&ur(a)},e8=(t,r)=>r.fold(a=>{Oh(t.get());const u=UY(a);return t.set(u),q.some(Yt(u,u.length-1))},a=>yi(a).map(u=>{if(yI(u,t)){const h=t.get();return Yt(h,1)}else{Oh(t.get());const h=bI(u,!0);return t.set(h),Yt(h,1)}}),a=>vu(a).map(u=>{if(yI(u,t)){const h=t.get();return Yt(h,h.length-1)}else{Oh(t.get());const h=bI(u,!1);return t.set(h),Yt(h,h.length-1)}}),a=>{Oh(t.get());const u=WY(a);return t.set(u),q.some(Yt(u,1))}),wI=(t,r)=>{for(let a=0;a<t.length;a++){const u=t[a].apply(null,r);if(u.isSome())return u}return q.none()},tu=Dd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),CI=(t,r)=>{const a=Qf(r,t);return a||t},qY=(t,r,a)=>{const u=gR(a),h=CI(r,u.container());return ov(t,h,u).fold(()=>uc(h,u).bind(re(ov,t,h)).map(b=>tu.before(b)),q.none)},ZY=(t,r)=>L1(t,r)===null,SI=(t,r,a)=>ov(t,r,a).filter(re(ZY,r)),Ehe=(t,r,a)=>{const u=mR(a);return SI(t,r,u).bind(h=>mu(h,u).isNone()?q.some(tu.start(h)):q.none())},jd=(t,r,a)=>{const u=gR(a);return SI(t,r,u).bind(h=>uc(h,u).isNone()?q.some(tu.end(h)):q.none())},t8=(t,r,a)=>{const u=mR(a),h=CI(r,u.container());return ov(t,h,u).fold(()=>mu(h,u).bind(re(ov,t,h)).map(b=>tu.after(b)),q.none)},n8=t=>!_Z(o8(t)),Lh=(t,r,a)=>wI([qY,Ehe,jd,t8],[t,r,a]).filter(n8),o8=t=>t.fold(De,De,De,De),r8=t=>t.fold(Fe("before"),Fe("start"),Fe("end"),Fe("after")),JA=t=>t.fold(tu.before,tu.before,tu.after,tu.after),QA=t=>t.fold(tu.start,tu.start,tu.end,tu.end),GY=(t,r)=>r8(t)===r8(r)&&o8(t)===o8(r),KY=(t,r,a,u,h,b)=>Js(ov(r,a,u),ov(r,a,h),(E,R)=>E!==R&&cD(a,E,R)?tu.after(t?E:R):b).getOr(b),YY=(t,r)=>t.fold(me,a=>!GY(a,r)),sw=(t,r,a,u,h)=>{const b=rd(t,h);return _c(t,a,b).map(re(rd,t)).fold(()=>u.map(JA),H=>Lh(r,a,H).map(re(KY,t,r,a,b,H)).filter(re(YY,u))).filter(n8)},xI=(t,r)=>t?r.fold(qe(q.some,tu.start),q.none,qe(q.some,tu.after),q.none):r.fold(q.none,qe(q.some,tu.before),q.none,qe(q.some,tu.end)),EI=(t,r,a,u)=>{const h=rd(t,u),b=Lh(r,a,h);return Lh(r,a,h).bind(re(xI,t)).orThunk(()=>sw(t,r,a,b,u))},kI=t=>G(t.selection.getSel().modify),eT=(t,r,a)=>{const u=t?1:-1;return r.setRng(Yt(a.container(),a.offset()+u).toRange()),r.getSel().modify("move",t?"forward":"backward","word"),!0},XY=(t,r)=>{const a=r.selection.getRng(),u=t?Yt.fromRangeEnd(a):Yt.fromRangeStart(a);return kI(r)?t&&Ml(u)?eT(!0,r.selection,u):!t&&Zc(u)?eT(!1,r.selection,u):!1:!1};var Kp;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Kp||(Kp={}));const tT=(t,r)=>t===Ja.Backwards?oo(r):r,khe=(t,r,a)=>t===Ja.Forwards?r.next(a):r.prev(a),Ahe=(t,r,a,u)=>$a(u.getNode(r===Ja.Forwards))?Kp.Br:Lu(a,u)===!1?Kp.Block:Kp.Wrap,JY=(t,r,a,u)=>{const h=Nd(a);let b=u;const E=[];for(;b;){const R=khe(r,h,b);if(!R)break;if($a(R.getNode(!1)))return r===Ja.Forwards?{positions:tT(r,E).concat([R]),breakType:Kp.Br,breakAt:q.some(R)}:{positions:tT(r,E),breakType:Kp.Br,breakAt:q.some(R)};if(!R.isVisible()){b=R;continue}if(t(b,R)){const H=Ahe(a,r,b,R);return{positions:tT(r,E),breakType:H,breakAt:q.some(R)}}E.push(R),b=R}return{positions:tT(r,E),breakType:Kp.Eol,breakAt:q.none()}},ld=(t,r,a,u)=>r(a,u).breakAt.map(h=>{const b=r(a,h).positions;return t===Ja.Backwards?b.concat(h):[h].concat(b)}).getOr([]),s8=(t,r)=>Xe(t,(a,u)=>a.fold(()=>q.some(u),h=>Js(Pn(h.getClientRects()),Pn(u.getClientRects()),(b,E)=>{const R=Math.abs(r-b.left);return Math.abs(r-E.left)<=R?u:h}).or(a)),q.none()),nT=(t,r)=>Pn(r.getClientRects()).bind(a=>s8(t,a.left)),aw=re(JY,Yt.isAbove,-1),Ob=re(JY,Yt.isBelow,1),QY=re(ld,-1,aw),eX=re(ld,1,Ob),The=(t,r)=>aw(t,r).breakAt.isNone(),cd=(t,r)=>Ob(t,r).breakAt.isNone(),tX=t=>yi(t).map(r=>[r].concat(Ob(t,r).positions)).getOr([]),nX=t=>vu(t).map(r=>aw(t,r).positions.concat(r)).getOr([]),oX=(t,r)=>nT(QY(t,r),r),rX=(t,r)=>nT(eX(t,r),r),sX=xa,AI=(t,r)=>Math.abs(t.left-r),hv=(t,r)=>Math.abs(t.right-r),aX=t=>xs(t,"node"),TI=(t,r)=>Pt(t,(a,u)=>{const h=Math.min(AI(a,r),hv(a,r)),b=Math.min(AI(u,r),hv(u,r));return b===h&&aX(u)&&sX(u.node)||b<h?u:a}),iX=t=>{const r=a=>Ve(a,u=>{const h=pu(u);return h.node=t,h});if(no(t))return r(t.getClientRects());if(bn(t)){const a=t.ownerDocument.createRange();return a.setStart(t,0),a.setEnd(t,t.data.length),r(a.getClientRects())}else return[]},oT=t=>zn(t,iX);var _b;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(_b||(_b={}));const OI=(t,r,a,u)=>{let h=u;for(;h=P1(h,t,Ad,r);)if(a(h))return},a8=(t,r,a,u,h,b)=>{let E=0;const R=[],H=Te=>{let Ae=oT([Te]);t===-1&&(Ae=Ae.reverse());for(let nt=0;nt<Ae.length;nt++){const st=Ae[nt];if(!a(st,Y)){if(R.length>0&&r(st,to(R))&&E++,st.line=E,h(st))return!0;R.push(st)}}return!1},Y=to(b.getClientRects());if(!Y)return R;const ge=b.getNode();return ge&&(H(ge),OI(t,u,H,ge)),R},_I=(t,r)=>r.line>t,lX=(t,r)=>r.line===t,oE=re(a8,_b.Up,v0,Zl),cX=re(a8,_b.Down,Zl,v0),$I=t=>to(t.getClientRects()),uX=(t,r,a,u)=>{const h=Nd(r);let b,E,R,H;const Y=[];let ge=0;t===1?(b=h.next,E=Zl,R=v0,H=Yt.after(u)):(b=h.prev,E=v0,R=Zl,H=Yt.before(u));const Te=$I(H);do{if(!H.isVisible())continue;const Ae=$I(H);if(R(Ae,Te))continue;Y.length>0&&E(Ae,to(Y))&&ge++;const nt=pu(Ae);if(nt.position=H,nt.line=ge,a(nt))return Y;Y.push(nt)}while(H=b(H));return Y},DI=t=>r=>_I(t,r),i8=t=>r=>lX(t,r),Am=(t,r)=>{t.selection.setRng(r),sb(t,t.selection.getRng())},l8=(t,r,a)=>q.some(q6(t,r,a)),c8=(t,r,a,u,h,b)=>{const E=r===Ja.Forwards,R=Nd(t.getBody()),H=re(Hl,E?R.next:R.prev),Y=E?u:h;if(!a.collapsed){const st=b0(a);if(b(st))return Gp(r,t,st,r===Ja.Backwards,!1);if(K6(t)){const Ge=a.cloneRange();return Ge.collapse(r===Ja.Backwards),q.from(Ge)}}const ge=M0(r,t.getBody(),a);if(Y(ge))return dv(t,ge.getNode(!E));let Te=H(ge);const Ae=dh(a);if(Te)Te=rd(E,Te);else return Ae?q.some(a):q.none();if(Y(Te))return Gp(r,t,Te.getNode(!E),E,!1);const nt=H(Te);return nt&&Y(nt)&&BS(Te,nt)?Gp(r,t,nt.getNode(!E),E,!1):Ae?l8(t,Te.toRange(),!1):q.none()},BI=(t,r,a,u,h,b)=>{const E=M0(r,t.getBody(),a),R=to(E.getClientRects()),H=r===_b.Down,Y=t.getBody();if(!R)return q.none();if(K6(t)){const ct=H?Yt.fromRangeEnd(a):Yt.fromRangeStart(a);return(H?rX:oX)(Y,ct).orThunk(()=>q.from(ct)).map(Et=>Et.toRange())}const Te=(H?cX:oE)(Y,DI(1),E),Ae=xe(Te,i8(1)),nt=R.left,st=TI(Ae,nt);if(st&&b(st.node)){const ct=Math.abs(nt-st.left),ht=Math.abs(nt-st.right);return Gp(r,t,st.node,ct<ht,!1)}let Ge;if(u(E)?Ge=E.getNode():h(E)?Ge=E.getNode(!0):Ge=b0(a),Ge){const ct=uX(r,Y,DI(1),Ge);let ht=TI(xe(ct,i8(1)),nt);if(ht||(ht=to(xe(ct,i8(0))),ht))return l8(t,ht.position.toRange(),!1)}return Ae.length===0?rT(t,H).filter(H?h:u).map(ct=>q6(t,ct.toRange(),!1)):q.none()},rT=(t,r)=>{const a=t.selection.getRng(),u=r?Yt.fromRangeEnd(a):Yt.fromRangeStart(a),h=CF(u.container(),t.getBody());if(r){const b=Ob(h,u);return $n(b.positions)}else{const b=aw(h,u);return Pn(b.positions)}},u8=(t,r,a)=>rT(t,r).filter(a).exists(u=>(t.selection.setRng(u.toRange()),!0)),$b=(t,r)=>{const a=t.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),t.selection.setRng(a)},f8=(t,r)=>{t?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},sT=(t,r,a)=>e8(r,a).map(u=>($b(t,u),a)),iw=(t,r,a)=>{const u=Yt.fromRangeStart(t);if(t.collapsed)return u;{const h=Yt.fromRangeEnd(t);return a?mu(r,h).getOr(h):uc(r,u).getOr(u)}},NI=(t,r,a)=>{const u=t.getBody(),h=iw(t.selection.getRng(),u,a),b=re(ub,t);return EI(a,b,u,h).bind(R=>sT(t,r,R))},d8=(t,r,a)=>{const u=Ve(_t(mt.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),E=>E.dom),h=xe(u,t),b=xe(a,t);Oe(ft(h,b),re(f8,!1)),Oe(ft(b,h),re(f8,!0))},fX=(t,r)=>{const a=r.get();if(t.selection.isCollapsed()&&!t.composing&&a){const u=Yt.fromRangeStart(t.selection.getRng());Yt.isTextPosition(u)&&!uD(u)&&($b(t,Th(a,u)),r.set(null))}},PI=(t,r,a,u)=>{if(r.selection.isCollapsed()){const h=xe(u,t);Oe(h,b=>{const E=Yt.fromRangeStart(r.selection.getRng());Lh(t,r.getBody(),E).bind(R=>sT(r,a,R))})}},FI=(t,r,a)=>qg(t)?NI(t,r,a).isSome():!1,RI=(t,r,a)=>qg(r)?XY(t,r):!1,dX=t=>{const r=ii(null),a=re(ub,t);return t.on("NodeChange",u=>{qg(t)&&(d8(a,t.dom,u.parents),fX(t,r),PI(a,t,r,u.parents))}),r},hX=re(RI,!0),pX=re(RI,!1),rE=(t,r,a)=>{if(qg(t)){const u=rT(t,r).getOrThunk(()=>{const h=t.selection.getRng();return r?Yt.fromRangeEnd(h):Yt.fromRangeStart(h)});return Lh(re(ub,t),t.getBody(),u).exists(h=>{const b=JA(h);return e8(a,b).exists(E=>($b(t,E),!0))})}else return!1},gX=(t,r)=>{const a=document.createRange();return a.setStart(t.container(),t.offset()),a.setEnd(r.container(),r.offset()),a},mX=t=>Js(yi(t),vu(t),(r,a)=>{const u=rd(!0,r),h=rd(!1,a);return uc(t,u).forall(b=>b.isEqual(h))}).getOr(!0),Db=(t,r)=>a=>e8(r,a).map(u=>()=>$b(t,u)),aT=(t,r,a,u)=>{const h=t.getBody(),b=re(ub,t);t.undoManager.ignore(()=>{t.selection.setRng(gX(a,u)),bR(t),Lh(b,h,Yt.fromRangeStart(t.selection.getRng())).map(QA).bind(Db(t,r)).each(Be)}),t.nodeChanged()},MI=(t,r)=>{const a=Qf(r,t);return a||t},II=(t,r,a,u)=>{const h=MI(t.getBody(),u.container()),b=re(ub,t),E=Lh(b,h,u);return E.bind(H=>a?H.fold(Fe(q.some(QA(H))),q.none,Fe(q.some(JA(H))),q.none):H.fold(q.none,Fe(q.some(JA(H))),q.none,Fe(q.some(QA(H))))).map(Db(t,r)).getOrThunk(()=>{const H=L0(a,h,u),Y=H.bind(ge=>Lh(b,h,ge));return Js(E,Y,()=>ov(b,h,u).bind(ge=>mX(ge)?q.some(()=>{cb(t,a,mt.fromDom(ge))}):q.none())).getOrThunk(()=>Y.bind(()=>H.map(ge=>()=>{a?aT(t,r,u,ge):aT(t,r,ge,u)})))})},sE=(t,r,a)=>{if(t.selection.isCollapsed()&&qg(t)){const u=Yt.fromRangeStart(t.selection.getRng());return II(t,r,a,u)}return q.none()},vX=(t,r)=>{const a=vm(r,t);return vn(a,Fu).fold(Fe(a),u=>a.slice(0,u))},bX=t=>jf(t)===1,yX=(t,r,a,u)=>{const h=re(oG,r),b=Ve(xe(u,h),E=>E.dom);if(b.length===0)cb(r,t,a);else{const E=nG(a.dom,b);r.selection.setRng(E.toRange())}},wX=(t,r)=>{const a=mt.fromDom(t.getBody()),u=mt.fromDom(t.selection.getStart()),h=xe(vX(a,u),bX);return $n(h).bind(b=>{const E=Yt.fromRangeStart(t.selection.getRng());return fb(r,E,b.dom)&&!SA(b)?q.some(()=>yX(r,t,b,h)):q.none()})},h8=(t,r)=>t.selection.isCollapsed()?wX(t,r):q.none(),p8=(t,r,a)=>Q(a)?q.some(()=>{t._selectionOverrides.hideFakeCaret(),cb(t,r,mt.fromDom(a))}):q.none(),CX=(t,r)=>{const a=r?bx:yx,u=r?Ja.Forwards:Ja.Backwards,h=M0(u,t.getBody(),t.selection.getRng());return a(h)?p8(t,r,h.getNode(!r)):q.from(rd(r,h)).filter(b=>a(b)&&BS(h,b)).bind(b=>p8(t,r,b.getNode(!r)))},LI=(t,r)=>{const a=t.selection.getNode();return ai(a)?p8(t,r,a):q.none()},g8=(t,r)=>t.selection.isCollapsed()?CX(t,r):LI(t,r),SX=t=>Pu(t,r=>uu(r.dom)||xa(r.dom)).exists(r=>uu(r.dom)),Cu=t=>Is(t!=null?t:"").getOr(0),HI=(t,r)=>{const a=t||Za(r)?"margin":"padding",u=At(r,"direction")==="rtl"?"-right":"-left";return a+u},m8=(t,r,a,u,h,b)=>{const E=HI(a,mt.fromDom(b)),R=Cu(t.getStyle(b,E));if(r==="outdent"){const H=Math.max(0,R-u);t.setStyle(b,E,H?H+h:"")}else{const H=R+u+h;t.setStyle(b,E,H)}},jI=(t,r)=>fn(r,a=>{const u=HI(N3(t),a),h=Lo(a,u).map(Cu).getOr(0);return t.dom.getContentEditable(a.dom)!=="false"&&h>0}),iT=t=>{const r=VI(t);return!t.mode.isReadOnly()&&(r.length>1||jI(t,r))},zI=t=>t0(t)||kc(t),xX=t=>Li(t).exists(zI),VI=t=>xe(t1(t.selection.getSelectedBlocks()),r=>!zI(r)&&!xX(r)&&SX(r)),UI=(t,r)=>{var a,u;const{dom:h}=t,b=P3(t),E=(u=(a=/[a-z%]+$/i.exec(b))===null||a===void 0?void 0:a[0])!==null&&u!==void 0?u:"px",R=Cu(b),H=N3(t);Oe(VI(t),Y=>{m8(h,r,H,R,E,Y.dom)})},EX=t=>UI(t,"indent"),v8=t=>UI(t,"outdent"),WI=t=>{if(t.selection.isCollapsed()&&iT(t)){const r=t.dom,a=t.selection.getRng(),u=Yt.fromRangeStart(a),h=r.getParent(a.startContainer,r.isBlock);if(h!==null&&tD(mt.fromDom(h),u))return q.some(()=>v8(t))}return q.none()},qI=(t,r,a)=>mr([WI,J6,G6,(u,h)=>sE(u,r,h),Tf,Ox,Q6,g8,YA,h8],u=>u(t,a)),Ohe=(t,r)=>{qI(t,r,!1).fold(()=>{bR(t),fD(t)},Be)},kX=(t,r)=>{qI(t,r,!0).fold(()=>BZ(t),Be)},AX=(t,r)=>{t.addCommand("delete",()=>{Ohe(t,r)}),t.addCommand("forwardDelete",()=>{kX(t,r)})},b8=5,ZI=400,TX=t=>t.touches===void 0||t.touches.length!==1?q.none():q.some(t.touches[0]),OX=(t,r)=>{const a=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return a>b8||u>b8},_X=t=>{const r=yh(),a=ii(!1),u=XC(h=>{t.dispatch("longpress",{...h,type:"longpress"}),a.set(!0)},ZI);t.on("touchstart",h=>{TX(h).each(b=>{u.cancel();const E={x:b.clientX,y:b.clientY,target:h.target};u.throttle(h),a.set(!1),r.set(E)})},!0),t.on("touchmove",h=>{u.cancel(),TX(h).each(b=>{r.on(E=>{OX(b,E)&&(r.clear(),a.set(!1),t.dispatch("longpresscancel"))})})},!0),t.on("touchend touchcancel",h=>{u.cancel(),h.type!=="touchcancel"&&r.get().filter(b=>b.target.isEqualNode(h.target)).each(()=>{a.get()?h.preventDefault():t.dispatch("tap",{...h,type:"tap"})})},!0)},y8=(t,r)=>To(t,r.nodeName),w8=(t,r)=>bn(r)?!0:no(r)?!y8(t,r)&&!Yl(r):!1,lT=(t,r,a)=>Re(GF(mt.fromDom(a),mt.fromDom(r)),u=>y8(t,u.dom)),GI=(t,r)=>{if(bn(r)){if(r.data.length===0)return!0;if(/^\s+$/.test(r.data)&&(!r.nextSibling||y8(t,r.nextSibling)))return!0}return!1},C8=t=>t.dom.create(da(t),Ll(t)),$X=t=>{const r=t.dom,a=t.selection,u=t.schema,h=u.getBlockElements(),b=a.getStart(),E=t.getBody();let R,H,Y=!1;const ge=da(t);if(!b||!no(b))return;const Te=E.nodeName.toLowerCase();if(!u.isValidChild(Te,ge.toLowerCase())||lT(h,E,b))return;const Ae=a.getRng(),{startContainer:nt,startOffset:st,endContainer:Ge,endOffset:ct}=Ae,ht=gm(t);let Et=E.firstChild;for(;Et;)if(w8(h,Et)){if(GI(h,Et)){H=Et,Et=Et.nextSibling,r.remove(H);continue}R||(R=C8(t),E.insertBefore(R,Et),Y=!0),H=Et,Et=Et.nextSibling,R.appendChild(H)}else R=null,Et=Et.nextSibling;Y&&ht&&(Ae.setStart(nt,st),Ae.setEnd(Ge,ct),a.setRng(Ae),t.nodeChanged())},KI=(t,r,a)=>{const u=mt.fromDom(C8(t)),h=W();La(u,h),a(r,u);const b=document.createRange();return b.setStartBefore(h.dom),b.setEndBefore(h.dom),b},S8=t=>{t.on("NodeChange",re($X,t))},YI=t=>r=>(" "+r.attr("class")+" ").indexOf(t)!==-1,DX=(t,r,a)=>function(u){const h=arguments,b=h[h.length-2],E=b>0?r.charAt(b-1):"";if(E==='"')return u;if(E===">"){const R=r.lastIndexOf("<",b);if(R!==-1&&r.substring(R,b).indexOf('contenteditable="false"')!==-1)return u}return'<span class="'+a+'" data-mce-content="'+t.dom.encode(h[0])+'">'+t.dom.encode(typeof h[1]=="string"?h[1]:h[0])+"</span>"},BX=(t,r,a)=>{let u=r.length,h=a.content;if(a.format!=="raw"){for(;u--;)h=h.replace(r[u],DX(t,h,Y3(t)));a.content=h}},NX=t=>{const r="contenteditable",a=" "+nn.trim(U5(t))+" ",u=" "+nn.trim(Y3(t))+" ",h=YI(a),b=YI(u),E=X3(t);E.length>0&&t.on("BeforeSetContent",R=>{BX(t,E,R)}),t.parser.addAttributeFilter("class",R=>{let H=R.length;for(;H--;){const Y=R[H];h(Y)?Y.attr(r,"true"):b(Y)&&Y.attr(r,"false")}}),t.serializer.addAttributeFilter(r,R=>{let H=R.length;for(;H--;){const Y=R[H];!h(Y)&&!b(Y)||(E.length>0&&Y.attr("data-mce-content")?(Y.name="#text",Y.type=3,Y.raw=!0,Y.value=Y.attr("data-mce-content")):Y.attr(r,null))}})},zd=t=>xd(mt.fromDom(t.getBody()),"*[data-mce-caret]").map(r=>r.dom).getOrNull(),x8=(t,r)=>{r.hasAttribute("data-mce-caret")&&(mf(r),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(r))},XI=(t,r)=>{const a=zd(t);if(!!a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),x8(t,a);return}us(a)&&(x8(t,a),t.undoManager.add())}},_he=t=>{t.on("keyup compositionstart",re(XI,t))},PX=xa,$he=(t,r,a)=>c8(r,t,a,tv,nv,PX),Dhe=(t,r,a)=>BI(r,t,a,b=>tv(b)||qF(b),b=>nv(b)||ZF(b),PX),FX=t=>{const r=t.dom.create(da(t));return r.innerHTML='<br data-mce-bogus="1">',r},JI=(t,r,a)=>{const u=Nd(t.getBody()),h=re(Hl,r===1?u.next:u.prev);if(a.collapsed){const b=t.dom.getParent(a.startContainer,"PRE");if(!b)return;if(!h(Yt.fromRangeStart(a))){const R=mt.fromDom(FX(t));r===1?ea(mt.fromDom(b),R):$r(mt.fromDom(b),R),t.selection.select(R.dom,!0),t.selection.collapse()}}},E8=(t,r)=>{const a=r?Ja.Forwards:Ja.Backwards,u=t.selection.getRng();return $he(a,t,u).orThunk(()=>(JI(t,a,u),q.none()))},RX=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return Dhe(a,t,u).orThunk(()=>(JI(t,a,u),q.none()))},k8=(t,r)=>E8(t,r).exists(a=>(Am(t,a),!0)),QI=(t,r)=>RX(t,r).exists(a=>(Am(t,a),!0)),eL=(t,r)=>u8(t,r,r?nv:tv),aE=(t,r)=>eE(t,!r).map(a=>{const u=a.toRange(),h=t.selection.getRng();return r?u.setStart(h.startContainer,h.startOffset):u.setEnd(h.endContainer,h.endOffset),u}).exists(a=>(Am(t,a),!0)),tL=t=>He(["figcaption"],ko(t)),nL=(t,r)=>{const a=re(ps,r);return Pu(mt.fromDom(t.container()),Fu,a).filter(tL)},MX=(t,r,a)=>r?cd(t.dom,a):The(t.dom,a),IX=(t,r)=>{const a=mt.fromDom(t.getBody()),u=Yt.fromRangeStart(t.selection.getRng());return nL(u,a).exists(()=>{if(MX(a,r,u)){const b=KI(t,a,r?La:Hi);return t.selection.setRng(b),!0}else return!1})},iE=(t,r)=>t.selection.isCollapsed()?IX(t,r):!1,oL={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},LX=t=>Ve(t,r=>({...oL,...r})),HX=t=>Ve(t,r=>({...oL,...r})),cT=(t,r)=>r.keyCode===t.keyCode&&r.shiftKey===t.shiftKey&&r.altKey===t.altKey&&r.ctrlKey===t.ctrlKey&&r.metaKey===t.metaKey,jX=(t,r)=>zn(LX(t),a=>cT(a,r)?[a]:[]),zX=(t,r)=>zn(HX(t),a=>cT(a,r)?[a]:[]),Br=(t,...r)=>()=>t.apply(null,r),lE=(t,r)=>qt(jX(t,r),a=>a.action()),rL=(t,r)=>mr(zX(t,r),a=>a.action()),sL=(t,r)=>{const a=r?Ja.Forwards:Ja.Backwards,u=t.selection.getRng();return c8(t,a,u,bx,yx,ai).exists(h=>(Am(t,h),!0))},aL=(t,r)=>{const a=r?1:-1,u=t.selection.getRng();return BI(t,a,u,bx,yx,ai).exists(h=>(Am(t,h),!0))},iL=(t,r)=>u8(t,r,r?yx:bx),lL=Dd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),cE={...lL,none:t=>lL.none(t)},uL=(t,r)=>fL(t,r,me),fL=(t,r,a)=>zn(gi(t),u=>xc(u,r)?a(u)?[u]:[]:fL(u,r,a)),VX=(t,r,a=Ce)=>{if(a(r))return q.none();if(He(t,ko(r)))return q.some(r);const u=h=>xc(h,"table")||a(h);return Tg(r,t.join(","),u)},UX=(t,r)=>VX(["td","th"],t,r),WX=t=>uL(t,"th,td"),dL=(t,r)=>ah(t,"table",r),A8=(t,r,a,u,h=me)=>{const b=u===1;if(!b&&a<=0)return cE.first(t[0]);if(b&&a>=t.length-1)return cE.last(t[t.length-1]);{const E=a+u,R=t[E];return h(R)?cE.middle(r,R):A8(t,r,E,u,h)}},qi=(t,r)=>dL(t,r).bind(a=>{const u=WX(a);return vn(u,b=>ps(t,b)).map(b=>({index:b,all:u}))}),qX=(t,r,a)=>qi(t,a).fold(()=>cE.none(t),h=>A8(h.all,t,h.index,1,r)),ZX=(t,r,a)=>qi(t,a).fold(()=>cE.none(),h=>A8(h.all,t,h.index,-1,r)),GX=t=>ah(t,"[contenteditable]"),T8=(t,r=!1)=>cu(t)?t.dom.isContentEditable:GX(t).fold(Fe(r),a=>O8(a)==="true"),O8=t=>t.dom.contentEditable,KX=(t,r)=>({left:t.left-r,top:t.top-r,right:t.right+r*2,bottom:t.bottom+r*2,width:t.width+r,height:t.height+r}),pv=(t,r)=>zn(r,a=>{const u=KX(pu(a.getBoundingClientRect()),-1);return[{x:u.left,y:t(u),cell:a},{x:u.right,y:t(u),cell:a}]}),_8=(t,r,a)=>Xe(t,(u,h)=>u.fold(()=>q.some(h),b=>{const E=Math.sqrt(Math.abs(b.x-r)+Math.abs(b.y-a)),R=Math.sqrt(Math.abs(h.x-r)+Math.abs(h.y-a));return q.some(R<E?h:b)}),q.none()),$8=(t,r,a,u,h)=>{const b=_t(mt.fromDom(a),"td,th,caption").map(R=>R.dom),E=xe(pv(t,b),R=>r(R,h));return _8(E,u,h).map(R=>R.cell)},D8=t=>t.bottom,B8=t=>t.top,N8=(t,r)=>t.y<r,hL=(t,r)=>t.y>r,uT=re($8,D8,N8),fT=re($8,B8,hL),uE=(t,r)=>Pn(r.getClientRects()).bind(a=>uT(t,a.left,a.top)).bind(a=>nT(nX(a),r)),fE=(t,r)=>$n(r.getClientRects()).bind(a=>fT(t,a.left,a.top)).bind(a=>nT(tX(a),r)),Yp=(t,r,a)=>a.breakAt.exists(u=>t(r,u).breakAt.isSome()),dE=t=>t.breakType===Kp.Wrap&&t.positions.length===0,pL=t=>t.breakType===Kp.Br&&t.positions.length===1,P8=(t,r,a)=>{const u=t(r,a);return dE(u)||!$a(a.getNode())&&pL(u)?!Yp(t,r,u):u.breakAt.isNone()},YX=re(P8,aw),gL=re(P8,Ob),XX=(t,r,a)=>{const u=Yt.fromRangeStart(r);return H0(!t,a).exists(h=>h.isEqual(u))},JX=(t,r,a,u)=>{const h=t.selection.getRng(),b=r?1:-1;return TS()&&XX(r,h,a)?(Gp(b,t,a,!r,!1).each(E=>{Am(t,E)}),!0):!1},mL=(t,r,a)=>uE(r,a).orThunk(()=>Pn(a.getClientRects()).bind(u=>s8(QY(t,Yt.before(r)),u.left))).getOr(Yt.before(r)),QX=(t,r,a)=>fE(r,a).orThunk(()=>Pn(a.getClientRects()).bind(u=>s8(eX(t,Yt.after(r)),u.left))).getOr(Yt.after(r)),vL=(t,r)=>{const a=r.getNode(t);return hf(a)?q.some(a):q.none()},eJ=(t,r,a)=>{r.undoManager.transact(()=>{const u=t?ea:$r,h=KI(r,mt.fromDom(a),u);Am(r,h)})},bL=(t,r,a)=>{const u=vL(!!r,a),h=r===!1;u.fold(()=>Am(t,a.toRange()),b=>H0(h,t.getBody()).filter(E=>E.isEqual(a)).fold(()=>Am(t,a.toRange()),E=>eJ(r,t,b)))},tJ=(t,r,a,u)=>{const h=t.selection.getRng(),b=Yt.fromRangeStart(h),E=t.getBody();if(!r&&YX(u,b)){const R=mL(E,a,b);return bL(t,r,R),!0}else if(r&&gL(u,b)){const R=QX(E,a,b);return bL(t,r,R),!0}else return!1},yL=(t,r,a)=>q.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(u=>q.from(t.dom.getParent(u,"table")).map(h=>a(t,r,h,u))).getOr(!1),wL=(t,r)=>yL(t,r,JX),CL=(t,r)=>yL(t,r,tJ),nJ=t=>{const r=nb.exact(t,0,t,0);return ix(r)},SL=(t,r,a)=>a.fold(q.none,q.none,(u,h)=>Kq(h).map(b=>nJ(b)),u=>(t.execCommand("mceTableInsertRowAfter"),xL(t,r,u))),xL=(t,r,a)=>SL(t,r,qX(a,T8)),oJ=(t,r,a)=>SL(t,r,ZX(a,T8)),EL=(t,r)=>{const a=["table","li","dl"],u=mt.fromDom(t.getBody()),h=R=>{const H=ko(R);return ps(R,u)||He(a,H)},b=t.selection.getRng(),E=mt.fromDom(r?b.endContainer:b.startContainer);return UX(E,h).map(R=>(dL(R,h).each(ge=>{t.model.table.clearSelectedCells(ge.dom)}),t.selection.collapse(!r),(r?xL:oJ)(t,h,R).each(ge=>{t.selection.setRng(ge)}),!0)).getOr(!1)},kL=(t,r,a)=>{const u=Hn.os.isMacOS()||Hn.os.isiOS();lE([{keyCode:wo.RIGHT,action:Br(k8,t,!0)},{keyCode:wo.LEFT,action:Br(k8,t,!1)},{keyCode:wo.UP,action:Br(QI,t,!1)},{keyCode:wo.DOWN,action:Br(QI,t,!0)},...u?[{keyCode:wo.UP,action:Br(aE,t,!1),metaKey:!0,shiftKey:!0},{keyCode:wo.DOWN,action:Br(aE,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:wo.RIGHT,action:Br(wL,t,!0)},{keyCode:wo.LEFT,action:Br(wL,t,!1)},{keyCode:wo.UP,action:Br(CL,t,!1)},{keyCode:wo.DOWN,action:Br(CL,t,!0)},{keyCode:wo.RIGHT,action:Br(sL,t,!0)},{keyCode:wo.LEFT,action:Br(sL,t,!1)},{keyCode:wo.UP,action:Br(aL,t,!1)},{keyCode:wo.DOWN,action:Br(aL,t,!0)},{keyCode:wo.RIGHT,action:Br(FI,t,r,!0)},{keyCode:wo.LEFT,action:Br(FI,t,r,!1)},{keyCode:wo.RIGHT,ctrlKey:!u,altKey:u,action:Br(hX,t,r)},{keyCode:wo.LEFT,ctrlKey:!u,altKey:u,action:Br(pX,t,r)},{keyCode:wo.UP,action:Br(iE,t,!1)},{keyCode:wo.DOWN,action:Br(iE,t,!0)}],a).each(h=>{a.preventDefault()})},AL=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||kL(t,r,a)})},Vd=(t,r)=>({container:t,offset:r}),dT=_s.DOM,hT=t=>r=>t===r?-1:0,rJ=t=>r=>t.isBlock(r)||He(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false",F8=(t,r,a)=>{if(bn(t)&&r>=0)return q.some(Vd(t,r));{const u=ua(dT);return q.from(u.backwards(t,r,hT(t),a)).map(h=>Vd(h.container,h.container.data.length))}},TL=(t,r,a)=>{if(bn(t)&&r>=t.length)return q.some(Vd(t,r));{const u=ua(dT);return q.from(u.forwards(t,r,hT(t),a)).map(h=>Vd(h.container,0))}},R8=(t,r,a)=>{if(!bn(t))return q.none();const u=t.data;if(r>=0&&r<=u.length)return q.some(Vd(t,r));{const h=ua(dT);return q.from(h.backwards(t,r,hT(t),a)).bind(b=>{const E=b.container.data;return R8(b.container,r+E.length,a)})}},M8=(t,r,a)=>{if(!bn(t))return q.none();const u=t.data;if(r<=u.length)return q.some(Vd(t,r));{const h=ua(dT);return q.from(h.forwards(t,r,hT(t),a)).bind(b=>M8(b.container,r-u.length,a))}},I8=(t,r,a,u,h)=>{const b=ua(t,rJ(t));return q.from(b.backwards(r,a,u,h))},OL=t=>t.collapsed&&bn(t.startContainer),L8=t=>It(t.toString().replace(/\u00A0/g," ")),_L=t=>t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1,H8=(t,r)=>t.substring(r.length),sJ=(t,r,a)=>{let u;const h=a.charAt(0);for(u=r-1;u>=0;u--){const b=t.charAt(u);if(_L(b))return q.none();if(h===b&&go(t,a,u,r))break}return q.some(u)},$L=(t,r,a,u=0)=>{if(!OL(r))return q.none();const h={text:"",offset:0},b=(R,H,Y)=>(h.text=Y+h.text,h.offset+=H,sJ(h.text,h.offset,a).getOr(H)),E=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return I8(t,r.startContainer,r.startOffset,b,E).bind(R=>{const H=r.cloneRange();if(H.setStart(R.container,R.offset),H.setEnd(r.endContainer,r.endOffset),H.collapsed)return q.none();const Y=L8(H);return Y.lastIndexOf(a)!==0||H8(Y,a).length<u?q.none():q.some({text:H8(Y,a),range:H,trigger:a})})},DL=(t,r,a,u=0)=>NF(mt.fromDom(r.startContainer)).fold(()=>$L(t,r,a,u),h=>{const b=t.createRng();b.selectNode(h.dom);const E=L8(b);return q.some({range:b,text:H8(E,a),trigger:a})}),aJ=t=>t.nodeType===ro,BL=t=>t.nodeType===Vt,NL=t=>{if(aJ(t))return Vd(t,t.data.length);{const r=t.childNodes;return r.length>0?NL(r[r.length-1]):Vd(t,r.length)}},PL=(t,r)=>{const a=t.childNodes;return a.length>0&&r<a.length?PL(a[r],0):a.length>0&&BL(t)&&a.length===r?NL(a[a.length-1]):Vd(t,r)},FL=(t,r)=>{var a;const u=(a=t.getParent(r.container,t.isBlock))!==null&&a!==void 0?a:t.getRoot();return I8(t,r.container,r.offset,(h,b)=>b===0?-1:b,u).filter(h=>{const b=h.container.data.charAt(h.offset-1);return!_L(b)}).isSome()},iJ=t=>r=>{const a=PL(r.startContainer,r.startOffset);return!FL(t,a)},lJ=(t,r,a)=>mr(a.triggers,u=>DL(t,r,u)),cJ=(t,r)=>{const a=r(),u=t.selection.getRng();return lJ(t.dom,u,a).bind(h=>j8(t,r,h))},j8=(t,r,a,u={})=>{var h;const b=r(),R=(h=t.selection.getRng().startContainer.nodeValue)!==null&&h!==void 0?h:"",H=xe(b.lookupByTrigger(a.trigger),ge=>a.text.length>=ge.minChars&&ge.matches.getOrThunk(()=>iJ(t.dom))(a.range,R,a.text));if(H.length===0)return q.none();const Y=Promise.all(Ve(H,ge=>ge.fetch(a.text,ge.maxResults,u).then(Ae=>({matchText:a.text,items:Ae,columns:ge.columns,onAction:ge.onAction,highlightOn:ge.highlightOn}))));return q.some({lookupData:Y,context:a})};var Ud;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Ud||(Ud={}));const z8=(t,r,a)=>t.stype===Ud.Error?r(t.serror):a(t.svalue),uJ=t=>{const r=[],a=[];return Oe(t,u=>{z8(u,h=>a.push(h),h=>r.push(h))}),{values:r,errors:a}},fJ=(t,r)=>t.stype===Ud.Error?{stype:Ud.Error,serror:r(t.serror)}:t,dJ=(t,r)=>t.stype===Ud.Value?{stype:Ud.Value,svalue:r(t.svalue)}:t,hJ=(t,r)=>t.stype===Ud.Value?r(t.svalue):t,pJ=(t,r)=>t.stype===Ud.Error?r(t.serror):t,RL=t=>({stype:Ud.Value,svalue:t}),ML=t=>({stype:Ud.Error,serror:t}),ll={fromResult:t=>t.fold(ML,RL),toResult:t=>z8(t,fa.error,fa.value),svalue:RL,partition:uJ,serror:ML,bind:hJ,bindError:pJ,map:dJ,mapError:fJ,fold:z8},pT=t=>I(t)&&wt(t).length>100?" removed due to size":JSON.stringify(t,null,2),IL=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Fe("... (only showing first ten failures)")}]):t;return Ve(r,a=>"Failed path: ("+a.path.join(" > ")+`)
`+a.getErrorInfo())},gT=(t,r)=>ll.serror([{path:t,getErrorInfo:r}]),LL=(t,r,a)=>gT(t,()=>'Could not find valid *required* value for "'+r+'" in '+pT(a)),HL=(t,r)=>gT(t,()=>'Choice schema did not contain choice key: "'+r+'"'),gJ=(t,r,a)=>gT(t,()=>'The chosen schema: "'+a+'" did not exist in branches: '+pT(r)),mJ=(t,r)=>gT(t,Fe(r)),vJ=(t,r,a,u)=>Jo(a,u).fold(()=>gJ(t,a,u),b=>b.extract(t.concat(["branch: "+u]),r)),jL=(t,r)=>({extract:(h,b)=>Jo(b,t).fold(()=>HL(h,t),R=>vJ(h,b,r,R)),toString:()=>"chooseOn("+t+"). Possible values: "+wt(r)}),bJ=(t,r)=>r,V8=(t,r)=>z(t)&&z(r)?mT(t,r):r,zL=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const a={};for(let u=0;u<r.length;u++){const h=r[u];for(const b in h)To(h,b)&&(a[b]=t(a[b],h[b]))}return a},mT=zL(V8),yJ=zL(bJ),U8=()=>({tag:"required",process:{}}),wJ=t=>({tag:"defaultedThunk",process:t}),VL=t=>wJ(Fe(t)),CJ=()=>({tag:"option",process:{}}),SJ=(t,r)=>t.length>0?ll.svalue(mT(r,yJ.apply(void 0,t))):ll.svalue(r),UL=t=>qe(ll.serror,Kn)(t),xJ={consolidateObj:(t,r)=>{const a=ll.partition(t);return a.errors.length>0?UL(a.errors):SJ(a.values,r)},consolidateArr:t=>{const r=ll.partition(t);return r.errors.length>0?UL(r.errors):ll.svalue(r.values)}},Nhe=(t,r,a,u)=>({tag:"field",key:t,newKey:r,presence:a,prop:u}),EJ=(t,r)=>({tag:"custom",newKey:t,instantiator:r}),WL=(t,r,a)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return a(t.newKey,t.instantiator)}},W8=t=>{const r=(u,h)=>ll.bindError(t(h),b=>mJ(u,b)),a=Fe("val");return{extract:r,toString:a}},kJ=W8(ll.svalue),qL=(t,r,a,u)=>Jo(r,a).fold(()=>LL(t,a,r),u),Nb=(t,r,a,u)=>{const h=Jo(t,r).getOrThunk(()=>a(t));return u(h)},Phe=(t,r,a)=>a(Jo(t,r)),AJ=(t,r,a,u)=>{const h=Jo(t,r).map(b=>b===!0?a(t):b);return u(h)},TJ=(t,r,a,u,h)=>{const b=R=>h.extract(r.concat([u]),R),E=R=>R.fold(()=>ll.svalue(q.none()),H=>{const Y=h.extract(r.concat([u]),H);return ll.map(Y,q.some)});switch(t.tag){case"required":return qL(r,a,u,b);case"defaultedThunk":return Nb(a,u,t.process,b);case"option":return Phe(a,u,E);case"defaultedOptionThunk":return AJ(a,u,t.process,E);case"mergeWithThunk":return Nb(a,u,Fe({}),R=>{const H=mT(t.process(a),R);return b(H)})}},Hh=(t,r,a)=>{const u={},h=[];for(const b of a)WL(b,(E,R,H,Y)=>{const ge=TJ(H,t,r,E,Y);ll.fold(ge,Te=>{h.push(...Te)},Te=>{u[R]=Te})},(E,R)=>{u[E]=R(r)});return h.length>0?ll.serror(h):ll.svalue(u)},q8=t=>({extract:(u,h)=>Hh(u,h,t),toString:()=>{const u=Ve(t,h=>WL(h,(b,E,R,H)=>b+" -> "+H.toString(),(b,E)=>"state("+b+")"));return`obj{
`+u.join(`
`)+"}"}}),ZL=t=>({extract:(u,h)=>{const b=Ve(h,(E,R)=>t.extract(u.concat(["["+R+"]"]),E));return xJ.consolidateArr(b)},toString:()=>"array("+t.toString()+")"}),GL=t=>W8(r=>t(r).fold(ll.serror,ll.svalue)),OJ=(t,r,a)=>{const u=r.extract([t],a);return ll.mapError(u,h=>({input:a,errors:h}))},KL=(t,r,a)=>ll.toResult(OJ(t,r,a)),YL=t=>`Errors: 
`+IL(t.errors).join(`
`)+`

Input object: `+pT(t.input),vT=(t,r)=>jL(t,pn(r,q8)),_J=Fe(kJ),bT=(t,r)=>W8(a=>{const u=typeof a;return t(a)?ll.svalue(a):ll.serror(`Expected type: ${r} but got: ${u}`)}),$J=bT(ue,"number"),yT=bT(P,"string"),DJ=bT(oe,"boolean"),wT=bT(G,"function"),lw=Nhe,XL=EJ,JL=t=>GL(r=>He(t,r)?fa.value(r):fa.error(`Unsupported value: "${r}", choose one of "${t.join(", ")}".`)),QL=(t,r)=>lw(t,t,U8(),r),eH=t=>QL(t,yT),tH=t=>QL(t,wT),BJ=(t,r)=>lw(t,t,U8(),ZL(r)),CT=(t,r)=>lw(t,t,CJ(),r),cw=t=>CT(t,yT),nH=t=>CT(t,wT),NJ=(t,r)=>lw(t,t,VL(r),_J()),uw=(t,r,a)=>lw(t,t,VL(r),a),ST=(t,r)=>uw(t,r,$J),oH=(t,r)=>uw(t,r,yT),PJ=(t,r,a)=>uw(t,r,JL(a)),rH=(t,r)=>uw(t,r,DJ),sH=(t,r)=>uw(t,r,wT),FJ=(t,r,a)=>uw(t,r,ZL(a)),Fhe=eH("type"),RJ=tH("fetch"),Z8=tH("onAction"),Rhe=sH("onSetup",()=>be),MJ=cw("text"),$c=cw("icon"),G8=cw("tooltip"),Xp=cw("label"),aH=rH("active",!1),iH=rH("enabled",!0),lH=rH("primary",!1),K8=t=>NJ("columns",t),Pb=t=>oH("type",t),cH=q8([Fhe,eH("trigger"),ST("minChars",1),K8(1),ST("maxResults",10),nH("matches"),RJ,Z8,FJ("highlightOn",[],yT)]),uH=t=>KL("Autocompleter",cH,{trigger:t.ch,...t}),Y8=[iH,G8,$c,MJ,Rhe],fH=[aH].concat(Y8),IJ=[sH("predicate",Ce),PJ("scope","node",["node","editor"]),PJ("position","selection",["node","selection","line"])],LJ=Y8.concat([Pb("contextformbutton"),lH,Z8,XL("original",De)]),HJ=fH.concat([Pb("contextformbutton"),lH,Z8,XL("original",De)]),dH=Y8.concat([Pb("contextformbutton")]),jJ=fH.concat([Pb("contextformtogglebutton")]),zJ=vT("type",{contextformbutton:LJ,contextformtogglebutton:HJ});q8([Pb("contextform"),sH("initValue",Fe("")),Xp,BJ("commands",zJ),CT("launch",vT("type",{contextformbutton:dH,contextformtogglebutton:jJ}))].concat(IJ));const VJ=t=>{const r=t.ui.registry.getAll().popups,a=pn(r,E=>uH(E).fold(R=>{throw new Error(YL(R))},De)),u=Vr(Sa(a,E=>E.trigger)),h=wr(a);return{dataset:a,triggers:u,lookupByTrigger:E=>xe(h,R=>R.trigger===E)}},UJ=(t,r)=>{const a=XC(r.load,50);t.on("keypress compositionend",u=>{u.which!==27&&a.throttle()}),t.on("keydown",u=>{const h=u.which;h===8?a.throttle():h===27&&r.cancelIfNecessary()}),t.on("remove",a.cancel)},WJ=t=>{const r=yh(),a=ii(!1),u=r.isSet,h=()=>{u()&&(vhe(t),$h(t),a.set(!1),r.clear())},b=Y=>{u()||(DK(t,Y.range),r.set({trigger:Y.trigger,matchLength:Y.text.length}))},E=uo(()=>VJ(t)),R=Y=>r.get().map(ge=>DL(t.dom,t.selection.getRng(),ge.trigger).bind(Te=>j8(t,E,Te,Y))).getOrThunk(()=>cJ(t,E)),H=Y=>{R(Y).fold(h,ge=>{b(ge.context),ge.lookupData.then(Te=>{r.get().map(Ae=>{const nt=ge.context;Ae.trigger===nt.trigger&&(nt.text.length-Ae.matchLength>=10?h():(r.set({...Ae,matchLength:nt.text.length}),a.get()?k$(t,{lookupData:Te}):(a.set(!0),E$(t,{lookupData:Te}))))})})})};t.addCommand("mceAutocompleterReload",(Y,ge)=>{const Te=I(ge)?ge.fetchOptions:{};H(Te)}),t.addCommand("mceAutocompleterClose",h),UJ(t,{cancelIfNecessary:h,load:H})},hH=t=>(r,a,u={})=>{const h=r.getBody(),b={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:h,currentTarget:h,eventPhase:Event.AT_TARGET,originalTarget:h,explicitOriginalTarget:h,isTrusted:!1,srcElement:h,cancelable:!1,preventDefault:be,inputType:a},E=Gf(new InputEvent(t));return r.dispatch(t,{...E,...b,...u})},xT=hH("input"),X8=hH("beforeinput"),qJ=(t,r,a)=>{const u=a.keyCode===wo.BACKSPACE?"deleteContentBackward":"deleteContentForward";rL([{keyCode:wo.BACKSPACE,action:Br(WI,t)},{keyCode:wo.BACKSPACE,action:Br(J6,t,!1)},{keyCode:wo.DELETE,action:Br(J6,t,!0)},{keyCode:wo.BACKSPACE,action:Br(G6,t,!1)},{keyCode:wo.DELETE,action:Br(G6,t,!0)},{keyCode:wo.BACKSPACE,action:Br(sE,t,r,!1)},{keyCode:wo.DELETE,action:Br(sE,t,r,!0)},{keyCode:wo.BACKSPACE,action:Br(Ox,t,!1)},{keyCode:wo.DELETE,action:Br(Ox,t,!0)},{keyCode:wo.BACKSPACE,action:Br(Q6,t,!1)},{keyCode:wo.DELETE,action:Br(Q6,t,!0)},{keyCode:wo.BACKSPACE,action:Br(g8,t,!1)},{keyCode:wo.DELETE,action:Br(g8,t,!0)},{keyCode:wo.BACKSPACE,action:Br(YA,t,!1)},{keyCode:wo.DELETE,action:Br(YA,t,!0)},{keyCode:wo.BACKSPACE,action:Br(Tf,t,!1)},{keyCode:wo.DELETE,action:Br(Tf,t,!0)},{keyCode:wo.BACKSPACE,action:Br(h8,t,!1)},{keyCode:wo.DELETE,action:Br(h8,t,!0)}],a).each(h=>{a.preventDefault(),X8(t,u).isDefaultPrevented()||(h(),xT(t,u))})},Mhe=(t,r)=>{lE([{keyCode:wo.BACKSPACE,action:Br(mI,t)},{keyCode:wo.DELETE,action:Br(mI,t)}],r)},J8=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||qJ(t,r,a)}),t.on("keyup",a=>{a.isDefaultPrevented()||Mhe(t,a)})},ZJ=t=>{for(;t;){if(no(t)||bn(t)&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}return null},hE=(t,r)=>{const a=t.dom,u=t.schema.getMoveCaretBeforeOnEnterElements();if(!r)return;if(/^(LI|DT|DD)$/.test(r.nodeName)){const b=ZJ(r.firstChild);b&&/^(UL|OL|DL)$/.test(b.nodeName)&&r.insertBefore(a.doc.createTextNode(Ga),r.firstChild)}const h=a.createRng();if(r.normalize(),r.hasChildNodes()){const b=new jr(r,r);let E=r,R;for(;R=b.current();){if(bn(R)){h.setStart(R,0),h.setEnd(R,0);break}if(u[R.nodeName.toLowerCase()]){h.setStartBefore(R),h.setEndBefore(R);break}E=R,R=b.next()}R||(h.setStart(E,0),h.setEnd(E,0))}else $a(r)?r.nextSibling&&a.isBlock(r.nextSibling)?(h.setStartBefore(r),h.setEndBefore(r)):(h.setStartAfter(r),h.setEndAfter(r)):(h.setStart(r,0),h.setEnd(r,0));t.selection.setRng(h),sb(t,h)},ET=(t,r)=>{const a=t.getRoot();let u,h=r;for(;h!==a&&h&&t.getContentEditable(h)!=="false";)t.getContentEditable(h)==="true"&&(u=h),h=h.parentNode;return h!==a?u:a},Fb=t=>q.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),Tm=t=>Fb(t).fold(Fe(""),r=>r.nodeName.toUpperCase()),Rb=t=>Fb(t).filter(r=>kc(mt.fromDom(r))).isSome(),kT=(t,r)=>t.firstChild&&t.firstChild.nodeName===r,Q8=t=>{var r;return((r=t.parentNode)===null||r===void 0?void 0:r.firstChild)===t},AT=(t,r)=>{const a=t==null?void 0:t.parentNode;return Q(a)&&a.nodeName===r},e7=t=>Q(t)&&/^(OL|UL|LI)$/.test(t.nodeName),GJ=t=>Q(t)&&/^(LI|DT|DD)$/.test(t.nodeName),pH=t=>e7(t)&&e7(t.parentNode),pE=t=>{const r=t.parentNode;return GJ(r)?r:t},TT=(t,r,a)=>{let u=t[a?"firstChild":"lastChild"];for(;u&&!no(u);)u=u[a?"nextSibling":"previousSibling"];return u===r},KJ=(t,r,a,u,h)=>{const b=t.dom,E=t.selection.getRng(),R=a.parentNode;if(a===t.getBody()||!R)return;pH(a)&&(h="LI");let H=r(h);if(TT(a,u,!0)&&TT(a,u,!1))if(AT(a,"LI")){const Y=pE(a);b.insertAfter(H,Y),Q8(a)?b.remove(Y):b.remove(a)}else b.replace(H,a);else if(TT(a,u,!0))AT(a,"LI")?(b.insertAfter(H,pE(a)),H.appendChild(b.doc.createTextNode(" ")),H.appendChild(a)):R.insertBefore(H,a),b.remove(u);else if(TT(a,u,!1))b.insertAfter(H,pE(a)),b.remove(u);else{a=pE(a);const Y=E.cloneRange();Y.setStartAfter(u),Y.setEndAfter(a);const ge=Y.extractContents();h==="LI"&&kT(ge,"LI")?(H=ge.firstChild,b.insertAfter(ge,a)):(b.insertAfter(ge,a),b.insertAfter(H,a)),b.remove(u)}hE(t,H)},YJ=t=>{Oe(u1(mt.fromDom(t),Xr),r=>{const a=r.dom;a.nodeValue=It(a.data)})},XJ=(t,r)=>{const a=t.dom.getParent(r,"ol,ul,dl");return a!==null&&t.dom.getContentEditableParent(a)==="false"},JJ=(t,r)=>r&&r.nodeName==="A"&&t.isEmpty(r),t7=t=>{t.innerHTML='<br data-mce-bogus="1">'},OT=(t,r)=>t.nodeName===r||t.previousSibling&&t.previousSibling.nodeName===r,n7=(t,r)=>Q(r)&&t.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&t.getContentEditable(r)!=="true",Ihe=(t,r,a)=>{var u;const h=[];if(!a)return;let b=a;for(;b=b.firstChild;){if(t.isBlock(b))return;no(b)&&!r[b.nodeName.toLowerCase()]&&h.push(b)}let E=h.length;for(;E--;)b=h[E],(!b.hasChildNodes()||b.firstChild===b.lastChild&&((u=b.firstChild)===null||u===void 0?void 0:u.nodeValue)===""||JJ(t,b))&&t.remove(b)},gH=(t,r,a)=>bn(r)?t?a===1&&r.data.charAt(a-1)===$e?0:a:a===r.data.length-1&&r.data.charAt(a)===$e?r.data.length:a:a,Lhe=t=>{const r=t.cloneRange();return r.setStart(t.startContainer,gH(!0,t.startContainer,t.startOffset)),r.setEnd(t.endContainer,gH(!1,t.endContainer,t.endOffset)),r},QJ=t=>{let r=t;do bn(r)&&(r.data=r.data.replace(/^[\r\n]+/,"")),r=r.firstChild;while(r)},Hhe=(t,r,a)=>{const u=t.dom;q.from(a.style).map(u.parseStyle).each(H=>{const ge={..._r(mt.fromDom(r)),...H};u.setStyles(r,ge)});const h=q.from(a.class).map(H=>H.split(/\s+/)),b=q.from(r.className).map(H=>xe(H.split(/\s+/),Y=>Y!==""));Js(h,b,(H,Y)=>{const ge=xe(Y,Ae=>!He(H,Ae)),Te=[...H,...ge];u.setAttrib(r,"class",Te.join(" "))});const E=["style","class"],R=pr(a,(H,Y)=>!He(E,Y));u.setAttribs(r,R)},_T=(t,r)=>{if(da(t).toLowerCase()===r.tagName.toLowerCase()){const u=Ll(t);Hhe(t,r,u)}},eQ=(t,r,a,u,h)=>{var b;const E=t.dom,R=(b=ET(E,u))!==null&&b!==void 0?b:E.getRoot();let H=E.getParent(u,E.isBlock);if(!H||!n7(E,H)){H=H||R;let Y;if(H===t.getBody()||Oo(H)?Y=H.nodeName.toLowerCase():H.parentNode?Y=H.parentNode.nodeName.toLowerCase():Y="",!H.hasChildNodes()){const Ae=E.create(r);return _T(t,Ae),H.appendChild(Ae),a.setStart(Ae,0),a.setEnd(Ae,0),Ae}let ge=u;for(;ge&&ge.parentNode!==H;)ge=ge.parentNode;let Te;for(;ge&&!E.isBlock(ge);)Te=ge,ge=ge.previousSibling;if(Te&&t.schema.isValidChild(Y,r.toLowerCase())){const Ae=Te.parentNode,nt=E.create(r);for(_T(t,nt),Ae.insertBefore(nt,Te),ge=Te;ge&&!E.isBlock(ge);){const st=ge.nextSibling;nt.appendChild(ge),ge=st}a.setStart(u,h),a.setEnd(u,h)}}return u},tQ=(t,r)=>{r.normalize();const a=r.lastChild;(!a||no(a)&&/^(left|right)$/gi.test(t.getStyle(a,"float",!0)))&&t.add(r,"br")},jhe=(t,r)=>{const a=hS(t);return ae(r)?!1:P(a)?He(nn.explode(a),r.nodeName.toLowerCase()):a},o7={insert:(t,r)=>{let a,u,h,b,E=!1;const R=t.dom,H=t.schema,Y=H.getNonEmptyElements(),ge=t.selection.getRng(),Te=da(t),Ae=Bn=>{let un=a;const Wt=H.getTextInlineElements();let Kt;Bn||h==="TABLE"||h==="HR"?Kt=R.create(Bn||Te):Kt=Et.cloneNode(!1);let Nn=Kt;if(D3(t)===!1)R.setAttrib(Kt,"style",null),R.setAttrib(Kt,"class",null);else do if(Wt[un.nodeName]){if(Hu(un)||Yl(un))continue;const vo=un.cloneNode(!1);R.setAttrib(vo,"id",""),Kt.hasChildNodes()?(vo.appendChild(Kt.firstChild),Kt.appendChild(vo)):(Nn=vo,Kt.appendChild(vo))}while((un=un.parentNode)&&un!==ht);return _T(t,Kt),t7(Nn),Kt},nt=Bn=>{const un=gH(Bn,a,u);if(bn(a)&&(Bn?un>0:un<a.data.length))return!1;if(a.parentNode===Et&&E&&!Bn||Bn&&no(a)&&a===Et.firstChild)return!0;if(OT(a,"TABLE")||OT(a,"HR"))return E&&!Bn||!E&&Bn;const Wt=new jr(a,Et);bn(a)&&(Bn&&un===0?Wt.prev():!Bn&&un===a.data.length&&Wt.next());let Kt;for(;Kt=Wt.current();){if(no(Kt)){if(!Kt.getAttribute("data-mce-bogus")){const Nn=Kt.nodeName.toLowerCase();if(Y[Nn]&&Nn!=="br")return!1}}else if(bn(Kt)&&!_g(Kt.data))return!1;Bn?Wt.prev():Wt.next()}return!0},st=()=>{let Bn;return/^(H[1-6]|PRE|FIGURE)$/.test(h)&&$t!=="HGROUP"?Bn=Ae(Te):Bn=Ae(),jhe(t,b)&&n7(R,b)&&R.isEmpty(Et)?Bn=R.split(b,Et):R.insertAfter(Bn,Et),hE(t,Bn),Bn};cx(R,ge).each(Bn=>{ge.setStart(Bn.startContainer,Bn.startOffset),ge.setEnd(Bn.endContainer,Bn.endOffset)}),a=ge.startContainer,u=ge.startOffset;const Ge=!!(r&&r.shiftKey),ct=!!(r&&r.ctrlKey);no(a)&&a.hasChildNodes()&&(E=u>a.childNodes.length-1,a=a.childNodes[Math.min(u,a.childNodes.length-1)]||a,E&&bn(a)?u=a.data.length:u=0);const ht=ET(R,a);if(!ht||XJ(t,a))return;Ge||(a=eQ(t,Te,ge,a,u));let Et=R.getParent(a,R.isBlock)||R.getRoot();b=Q(Et==null?void 0:Et.parentNode)?R.getParent(Et.parentNode,R.isBlock):null,h=Et?Et.nodeName.toUpperCase():"";const $t=b?b.nodeName.toUpperCase():"";if($t==="LI"&&!ct){const Bn=b;Et=Bn,b=Bn.parentNode,h=$t}if(/^(LI|DT|DD)$/.test(h)&&no(b)&&R.isEmpty(Et)){KJ(t,Ae,b,Et,Te);return}if(Et===t.getBody())return;const Qt=Et.parentNode;let an;if(Zo(Et))an=mf(Et),R.isEmpty(Et)&&t7(Et),_T(t,an),hE(t,an);else if(nt(!1))an=st();else if(nt(!0)&&Qt)an=Qt.insertBefore(Ae(),Et),hE(t,OT(Et,"HR")?an:Et);else{const Bn=Lhe(ge).cloneRange();Bn.setEndAfter(Et);const un=Bn.extractContents();YJ(un),QJ(un),an=un.firstChild,R.insertAfter(un,Et),Ihe(R,Y,an),tQ(R,Et),R.isEmpty(Et)&&t7(Et),an.normalize(),R.isEmpty(an)?(R.remove(an),st()):(_T(t,an),hE(t,an))}R.setAttrib(an,"id",""),t.dispatch("NewBlock",{newBlock:an})},fakeEventName:"insertParagraph"},nQ=(t,r,a)=>{const u=new jr(r,a);let h;const b=t.getNonEmptyElements();for(;h=u.next();)if(b[h.nodeName.toLowerCase()]||bn(h)&&h.length>0)return!0;return!1},r7=(t,r,a)=>{const u=t.dom.createRng();a?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),t.selection.setRng(u),sb(t,u)},oQ=(t,r)=>{const a=t.selection,u=t.dom,h=a.getRng();let b,E=!1;cx(u,h).each(nt=>{h.setStart(nt.startContainer,nt.startOffset),h.setEnd(nt.endContainer,nt.endOffset)});let R=h.startOffset,H=h.startContainer;if(no(H)&&H.hasChildNodes()){const nt=R>H.childNodes.length-1;H=H.childNodes[Math.min(R,H.childNodes.length-1)]||H,nt&&bn(H)?R=H.data.length:R=0}let Y=u.getParent(H,u.isBlock);const ge=Y&&Y.parentNode?u.getParent(Y.parentNode,u.isBlock):null,Te=ge?ge.nodeName.toUpperCase():"",Ae=!!(r&&r.ctrlKey);Te==="LI"&&!Ae&&(Y=ge),bn(H)&&R>=H.data.length&&(nQ(t.schema,H,Y||u.getRoot())||(b=u.create("br"),h.insertNode(b),h.setStartAfter(b),h.setEndAfter(b),E=!0)),b=u.create("br"),$i(u,h,b),r7(t,b,E),t.undoManager.add()},rQ=(t,r)=>{const a=mt.fromTag("br");$r(mt.fromDom(r),a),t.undoManager.add()},Vhe=(t,r)=>{sQ(t.getBody(),r)||ea(mt.fromDom(r),mt.fromTag("br"));const a=mt.fromTag("br");ea(mt.fromDom(r),a),r7(t,a.dom,!1),t.undoManager.add()},zh=t=>$a(t.getNode()),sQ=(t,r)=>zh(Yt.after(r))?!0:uc(t,Yt.after(r)).map(a=>$a(a.getNode())).getOr(!1),mH=t=>t&&t.nodeName==="A"&&"href"in t,aQ=t=>t.fold(Ce,mH,mH,Ce),iQ=t=>{const r=re(ub,t),a=Yt.fromRangeStart(t.selection.getRng());return Lh(r,t.getBody(),a).filter(aQ)},lQ=(t,r)=>{r.fold(be,re(rQ,t),re(Vhe,t),be)},vH={insert:(t,r)=>{const a=iQ(t);a.isSome()?a.each(re(lQ,t)):oQ(t,r)},fakeEventName:"insertLineBreak"},bH=(t,r)=>Fb(t).filter(a=>r.length>0&&xc(mt.fromDom(a),r)).isSome(),s7=t=>bH(t,Uy(t)),a7=t=>bH(t,Wy(t)),ud=Dd.generate([{br:[]},{block:[]},{none:[]}]),qhe=(t,r)=>a7(t),cQ=t=>(r,a)=>Rb(r)===t,yH=(t,r)=>(a,u)=>Tm(a)===t.toUpperCase()===r,uQ=t=>{const r=ET(t.dom,t.selection.getStart());return ae(r)},$T=t=>yH("pre",t),fQ=()=>yH("summary",!0),Wd=t=>(r,a)=>Gl(r)===t,dQ=(t,r)=>s7(t),DT=(t,r)=>r,gv=t=>{const r=da(t),a=ET(t.dom,t.selection.getStart());return Q(a)&&t.schema.isValidChild(a.nodeName,r)},qd=(t,r)=>(a,u)=>Xe(t,(b,E)=>b&&E(a,u),!0)?q.some(r):q.none(),wH=(t,r)=>wI([qd([qhe],ud.none()),qd([$T(!0),uQ],ud.none()),qd([fQ()],ud.br()),qd([$T(!0),Wd(!1),DT],ud.br()),qd([$T(!0),Wd(!1)],ud.block()),qd([$T(!0),Wd(!0),DT],ud.block()),qd([$T(!0),Wd(!0)],ud.br()),qd([cQ(!0),DT],ud.br()),qd([cQ(!0)],ud.block()),qd([dQ],ud.br()),qd([DT],ud.br()),qd([gv],ud.block())],[t,!!(r&&r.shiftKey)]).getOr(ud.none()),BT=(t,r,a)=>{r.selection.isCollapsed()||DZ(r),!(Q(a)&&X8(r,t.fakeEventName).isDefaultPrevented())&&(t.insert(r,a),Q(a)&&xT(r,t.fakeEventName))},CH=(t,r)=>{const a=()=>BT(vH,t,r),u=()=>BT(o7,t,r),h=wH(t,r);switch(sl(t)){case"linebreak":h.fold(a,a,be);break;case"block":h.fold(u,u,be);break;case"invert":h.fold(u,a,be);break;default:h.fold(a,u,be);break}},hQ=(t,r)=>{r.isDefaultPrevented()||(r.preventDefault(),dhe(t.undoManager),t.undoManager.transact(()=>{CH(t,r)}))},pQ=t=>{t.on("keydown",r=>{r.keyCode===wo.ENTER&&hQ(t,r)})},gQ=(t,r,a)=>{const u=Hn.os.isMacOS()||Hn.os.isiOS();lE([{keyCode:wo.END,action:Br(eL,t,!0)},{keyCode:wo.HOME,action:Br(eL,t,!1)},...u?[]:[{keyCode:wo.HOME,action:Br(aE,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:wo.END,action:Br(aE,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:wo.END,action:Br(iL,t,!0)},{keyCode:wo.HOME,action:Br(iL,t,!1)},{keyCode:wo.END,action:Br(rE,t,!0,r)},{keyCode:wo.HOME,action:Br(rE,t,!1,r)}],a).each(h=>{a.preventDefault()})},mQ=(t,r)=>{t.on("keydown",a=>{a.isDefaultPrevented()||gQ(t,r,a)})},vQ=t=>{t.on("input",r=>{r.isComposing||wZ(t)})},i7=Ls(),SH=(t,r,a)=>{lE([{keyCode:wo.PAGE_UP,action:Br(rE,t,!1,r)},{keyCode:wo.PAGE_DOWN,action:Br(rE,t,!0,r)}],a)},gE=t=>t.stopImmediatePropagation(),xH=t=>t.keyCode===wo.PAGE_UP||t.keyCode===wo.PAGE_DOWN,EH=(t,r,a)=>{a&&!t.get()?r.on("NodeChange",gE,!0):!a&&t.get()&&r.off("NodeChange",gE),t.set(a)},bQ=(t,r)=>{if(i7.os.isMacOS())return;const a=ii(!1);t.on("keydown",u=>{xH(u)&&EH(a,t,!0)}),t.on("keyup",u=>{u.isDefaultPrevented()||SH(t,r,u),xH(u)&&a.get()&&(EH(a,t,!1),t.nodeChanged())})},kH=(t,r)=>{const a=r.container(),u=r.offset();return bn(a)?(a.insertData(u,t),q.some(Yt(a,u+t.length))):e2(r).map(h=>{const b=mt.fromText(t);return r.isAtEnd()?ea(h,b):$r(h,b),Yt(b.dom,t.length)})},yQ=re(kH,Ga),AH=re(kH," "),wQ=t=>r=>r.fold(a=>mu(t.dom,Yt.before(a)),a=>yi(a),a=>vu(a),a=>uc(t.dom,Yt.after(a))),TH=(t,r)=>a=>nhe(t,a)?yQ(r):AH(r),OH=t=>r=>(t.selection.setRng(r.toRange()),t.nodeChanged(),!0),CQ=t=>{const r=Yt.fromRangeStart(t.selection.getRng()),a=mt.fromDom(t.getBody());if(t.selection.isCollapsed()){const u=re(ub,t),h=Yt.fromRangeStart(t.selection.getRng());return Lh(u,t.getBody(),h).bind(wQ(a)).map(b=>()=>TH(a,r)(b).each(OH(t)))}else return q.none()},SQ=(t,r)=>{rL([{keyCode:wo.SPACEBAR,action:Br(CQ,t)}],r).each(a=>{r.preventDefault(),X8(t,"insertText",{data:" "}).isDefaultPrevented()||(a(),xT(t,"insertText",{data:" "}))})},l7=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||SQ(t,r)})},xQ=t=>K5(t)?[{keyCode:wo.TAB,action:Br(EL,t,!0)},{keyCode:wo.TAB,shiftKey:!0,action:Br(EL,t,!1)}]:[],EQ=(t,r)=>{lE([...xQ(t)],r).each(a=>{r.preventDefault()})},_H=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||EQ(t,r)})},c7=t=>{if(t.addShortcut("Meta+P","","mcePrint"),WJ(t),Rh(t))return ii(null);{const r=dX(t);return _he(t),AL(t,r),J8(t,r),pQ(t),l7(t),vQ(t),_H(t),mQ(t,r),bQ(t,r),r}};class $H{constructor(r){this.lastPath=[],this.editor=r;let a;const u=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",h=>{const b=r.selection.getRng(),E={startContainer:b.startContainer,startOffset:b.startOffset,endContainer:b.endContainer,endOffset:b.endOffset};(h.type==="nodechange"||!A2(E,a))&&r.dispatch("SelectionChange"),a=E}),r.on("contextmenu",()=>{r.dispatch("SelectionChange")}),r.on("SelectionChange",()=>{const h=r.selection.getStart(!0);!h||Z0(r)&&!u.isSameElementPath(h)&&r.dom.isChildOf(h,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",h=>{!h.isDefaultPrevented()&&Z0(r)&&(r.selection.getNode().nodeName==="IMG"?Yn.setEditorTimeout(r,()=>{r.nodeChanged()}):r.nodeChanged())})}nodeChanged(r={}){const a=this.editor.selection;let u;if(this.editor.initialized&&a&&!j3(this.editor)&&!this.editor.mode.isReadOnly()){const h=this.editor.getBody();u=a.getStart(!0)||h,(u.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(u,h))&&(u=h);const b=[];this.editor.dom.getParent(u,E=>E===h?!0:(b.push(E),!1)),this.editor.dispatch("NodeChange",{...r,element:u,parents:b})}}isSameElementPath(r){let a;const u=this.editor,h=oo(u.dom.getParents(r,me,u.getBody()));if(h.length===this.lastPath.length){for(a=h.length;a>=0&&h[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=h,!0}return this.lastPath=h,!1}}const DH="x-tinymce/html",u7=Fe(DH),Om="<!-- "+DH+" -->",kQ=t=>Om+t,AQ=t=>t.replace(Om,""),BH=t=>t.indexOf(Om)!==-1,NT=t=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t),NH=(t,r)=>{let a="<"+t;const u=Sa(r,(h,b)=>b+'="'+du.encodeAllRaw(h)+'"');return u.length&&(a+=" "+u.join(" ")),a+">"},PH=(t,r,a)=>{const u=t.split(/\n\n/),h=NH(r,a),b="</"+r+">",E=Ve(u,H=>H.split(/\n/).join("<br />")),R=H=>h+H+b;return E.length===1?E[0]:Ve(E,R).join("")},FH="%MCEPASTEBIN%",RH=(t,r)=>{const{dom:a,selection:u}=t,h=t.getBody();r.set(u.getRng());const b=a.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},FH);Hn.browser.isFirefox()&&a.setStyle(b,"left",a.getStyle(h,"direction",!0)==="rtl"?65535:-65535),a.bind(b,"beforedeactivate focusin focusout",E=>{E.stopPropagation()}),b.focus(),u.select(b,!0)},TQ=(t,r)=>{const a=t.dom;if(f7(t)){let u;const h=r.get();for(;u=f7(t);)a.remove(u),a.unbind(u);h&&t.selection.setRng(h)}r.set(null)},f7=t=>t.dom.get("mcepastebin"),OQ=t=>Q(t)&&t.id==="mcepastebin",MH=t=>{const r=t.dom,a=(E,R)=>{E.appendChild(R),r.remove(R,!0)},[u,...h]=xe(t.getBody().childNodes,OQ);Oe(h,E=>{a(u,E)});const b=r.select("div[id=mcepastebin]",u);for(let E=b.length-1;E>=0;E--){const R=r.create("div");u.insertBefore(R,b[E]),a(R,b[E])}return u?u.innerHTML:""},PT=t=>t===FH,_Q=t=>{const r=ii(null);return{create:()=>RH(t,r),remove:()=>TQ(t,r),getEl:()=>f7(t),getHtml:()=>MH(t),getLastRng:r.get}},FT=(t,r)=>(nn.each(r,a=>{O(a,RegExp)?t=t.replace(a,""):t=t.replace(a[0],a[1])}),t),IH=t=>{const r=Mu(),a=G2({},r);let u="";const h=r.getVoidElements(),b=nn.makeMap("script noscript style textarea video audio iframe object"," "),E=r.getBlockElements(),R=H=>{const Y=H.name,ge=H;if(Y==="br"){u+=`
`;return}if(Y!=="wbr"){if(h[Y]&&(u+=" "),b[Y]){u+=" ";return}if(H.type===3&&(u+=H.value),!(H.name in r.getVoidElements())){let Te=H.firstChild;if(Te)do R(Te);while(Te=Te.next)}E[Y]&&ge.next&&(u+=`
`,Y==="p"&&(u+=`
`))}};return t=FT(t,[/<!\[[^\]]+\]>/g]),R(a.parse(t)),u},mE=t=>(t=FT(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(a,u,h)=>!u&&!h?" ":Ga],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t),LH=t=>{let r=0;return()=>t+r++},HH=t=>{const r=t.toLowerCase(),a={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return nn.hasOwn(a,r)?"image/"+a[r]:"image/"+r},$Q=(t,r)=>{const a=G2({},t.schema);a.addNodeFilter("meta",h=>{nn.each(h,b=>{b.remove()})});const u=a.parse(r,{forced_root_block:!1,isRootContent:!0});return ev({validate:!0},t.schema).serialize(u)},jH=(t,r)=>({content:t,cancelled:r}),RT=(t,r,a)=>{const u=t.dom.create("div",{style:"display:none"},r),h=Ok(t,u,a);return jH(h.node.innerHTML,h.isDefaultPrevented())},DQ=(t,r,a)=>{const u=A$(t,r,a),h=$Q(t,u.content);return t.hasEventListeners("PastePostProcess")&&!u.isDefaultPrevented()?RT(t,h,a):jH(h,u.isDefaultPrevented())},BQ=(t,r,a)=>DQ(t,r,a),d7=(t,r)=>(t.insertContent(r,{merge:Gy(t),paste:!0}),!0),h7=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),NQ=(t,r)=>h7(r)&&Re(SS(t),a=>Hr(r.toLowerCase(),`.${a.toLowerCase()}`)),PQ=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.insertContent('<img src="'+r+'">')}),!0),FQ=(t,r,a)=>(t.undoManager.extra(()=>{a(t,r)},()=>{t.execCommand("mceInsertLink",!1,r)}),!0),RQ=(t,r,a)=>!t.selection.isCollapsed()&&h7(r)?FQ(t,r,a):!1,MQ=(t,r,a)=>NQ(t,r)?PQ(t,r,a):!1,IQ=(t,r)=>{nn.each([RQ,MQ,d7],a=>!a(t,r,d7))},ja=(t,r,a)=>{a||!_0(t)?d7(t,r):IQ(t,r)},LQ=LH("mceclip"),p7=(t,r,a,u)=>{const h=BQ(t,r,a);h.cancelled||ja(t,h.content,u)},MT=(t,r,a)=>{const u=a||BH(r);p7(t,AQ(r),u,!1)},vE=(t,r)=>{const a=t.dom.encode(r).replace(/\r\n/g,`
`),u=h1(a,wF(t)),h=PH(u,da(t),Ll(t));p7(t,h,!1,!0)},g7=t=>{const r={};if(t&&t.types)for(let a=0;a<t.types.length;a++){const u=t.types[a];try{r[u]=t.getData(u)}catch{r[u]=""}}return r},Mb=(t,r)=>r in t&&t[r].length>0,zH=t=>Mb(t,"text/html")||Mb(t,"text/plain"),VH=(t,r)=>{const a=r.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Q(a)?t.dom.encode(a[1]):void 0},HQ=(t,r,a,u)=>{const h=LQ(),b=B1(t)&&Q(a.name),E=b?VH(t,a.name):h,R=b?a.name:void 0,H=r.create(h,a,u,E,R);return r.add(H),H},jQ=(t,r)=>{e6(r.uri).each(({data:a,type:u,base64Encoded:h})=>{const b=h?a:btoa(a),E=r.file,R=t.editorUpload.blobCache,H=R.getByData(b,u),Y=H!=null?H:HQ(t,R,E,b);MT(t,`<img src="${Y.blobUri()}">`,!1)})},UH=t=>t.type==="paste",zQ=t=>Promise.all(Ve(t,r=>t6(r).then(a=>({file:r,uri:a})))),VQ=t=>{const r=SS(t);return a=>$o(a.type,"image/")&&Re(r,u=>HH(u)===a.type)},IT=(t,r)=>{const a=r.items?zn(_o(r.items),h=>h.kind==="file"?[h.getAsFile()]:[]):[],u=r.files?_o(r.files):[];return xe(a.length>0?a:u,VQ(t))},bE=(t,r,a)=>{const u=UH(r)?r.clipboardData:r.dataTransfer;if(N1(t)&&u){const h=IT(t,u);if(h.length>0)return r.preventDefault(),zQ(h).then(b=>{a&&t.selection.setRng(a),Oe(b,E=>{jQ(t,E)})}),!0}return!1},WH=t=>{var r,a;return Hn.os.isAndroid()&&((a=(r=t.clipboardData)===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.length)===0},fd=t=>wo.metaKeyPressed(t)&&t.keyCode===86||t.shiftKey&&t.keyCode===45,qH=(t,r,a,u)=>{let h=mE(a);const b=Mb(r,u7())||BH(a),E=!b&&NT(h),R=h7(h);(PT(h)||!h.length||E&&!R)&&(u=!0),(u||R)&&(Mb(r,"text/plain")&&E?h=r["text/plain"]:h=IH(h)),!PT(h)&&(u?vE(t,h):MT(t,h,b))},fw=(t,r,a)=>{let u;const h=()=>r.getLastRng()||t.selection.getRng();t.on("keydown",b=>{fd(b)&&!b.isDefaultPrevented()&&(u=b.shiftKey&&b.keyCode===86)}),t.on("paste",b=>{if(b.isDefaultPrevented()||WH(b))return;const E=a.get()==="text"||u;u=!1;const R=g7(b.clipboardData);!zH(R)&&bE(t,b,h())||(Mb(R,"text/html")?(b.preventDefault(),qH(t,R,R["text/html"],E)):(r.create(),Yn.setEditorTimeout(t,()=>{const H=r.getHtml();r.remove(),qH(t,R,H,E)},0)))})},yE=t=>{const r=h=>$o(h,"webkit-fake-url"),a=h=>$o(h,"data:"),u=h=>{var b;return((b=h.data)===null||b===void 0?void 0:b.paste)===!0};t.parser.addNodeFilter("img",(h,b,E)=>{if(!N1(t)&&u(E))for(const R of h){const H=R.attr("src");P(H)&&!R.attr("data-mce-object")&&H!==Hn.transparentSrc&&(r(H)||!Yg(t)&&a(H))&&R.remove()}})},UQ=(t,r,a)=>{fw(t,r,a),yE(t)},WQ=(t,r)=>{r.get()==="text"?(r.set("html"),eb(t,!1)):(r.set("text"),eb(t,!0)),t.focus()},dw=(t,r)=>{t.addCommand("mceTogglePlainTextPaste",()=>{WQ(t,r)}),t.addCommand("mceInsertClipboardContent",(a,u)=>{u.html&&MT(t,u.html,u.internal),u.text&&vE(t,u.text)})},qQ=(t,r,a)=>{if(t)try{return t.clearData(),t.setData("text/html",r),t.setData("text/plain",a),t.setData(u7(),r),!0}catch{return!1}else return!1},LT=(t,r,a,u)=>{qQ(t.clipboardData,r.html,r.text)?(t.preventDefault(),u()):a(r.html,u)},HT=t=>(r,a)=>{const{dom:u,selection:h}=t,b=u.create("div",{contenteditable:"false","data-mce-bogus":"all"}),E=u.create("div",{contenteditable:"true"},r);u.setStyles(b,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),b.appendChild(E),u.add(t.getBody(),b);const R=h.getRng();E.focus();const H=u.createRng();H.selectNodeContents(E),h.setRng(H),Yn.setEditorTimeout(t,()=>{h.setRng(R),u.remove(b),a()},0)},m7=t=>({html:kQ(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),ZQ=t=>!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody()),ZH=t=>!t.selection.isCollapsed()||ZQ(t),GH=t=>r=>{!r.isDefaultPrevented()&&ZH(t)&&LT(r,m7(t),HT(t),()=>{if(Hn.browser.isChromium()||Hn.browser.isFirefox()){const a=t.selection.getRng();Yn.setEditorTimeout(t,()=>{t.selection.setRng(a),t.execCommand("Delete")},0)}else t.execCommand("Delete")})},KH=t=>r=>{!r.isDefaultPrevented()&&ZH(t)&&LT(r,m7(t),HT(t),be)},GQ=t=>{t.on("cut",GH(t)),t.on("copy",KH(t))},YH=(t,r)=>{var a,u;return Bo.getCaretRangeFromPoint((a=r.clientX)!==null&&a!==void 0?a:0,(u=r.clientY)!==null&&u!==void 0?u:0,t.getDoc())},KQ=t=>{const r=t["text/plain"];return r?r.indexOf("file://")===0:!1},v7=(t,r)=>{t.focus(),r&&t.selection.setRng(r)},YQ=t=>Re(t.files,r=>/^image\//.test(r.type)),XH=(t,r)=>{Ea(t)&&t.on("dragend dragover draggesture dragdrop drop drag",a=>{a.preventDefault(),a.stopPropagation()}),N1(t)||t.on("drop",a=>{const u=a.dataTransfer;u&&YQ(u)&&a.preventDefault()}),t.on("drop",a=>{if(a.isDefaultPrevented()||r.get())return;const u=YH(t,a);if(ae(u))return;const h=g7(a.dataTransfer),b=Mb(h,u7());if((!zH(h)||KQ(h))&&bE(t,a,u))return;const E=h[u7()],R=E||h["text/html"]||h["text/plain"];R&&(a.preventDefault(),Yn.setEditorTimeout(t,()=>{t.undoManager.transact(()=>{E&&t.execCommand("Delete"),v7(t,u);const H=mE(R);h["text/html"]?MT(t,H,b):vE(t,H)})}))}),t.on("dragstart",a=>{r.set(!0)}),t.on("dragover dragend",a=>{N1(t)&&!r.get()&&(a.preventDefault(),v7(t,YH(t,a))),a.type==="dragend"&&r.set(!1)})},XQ=t=>{const r=h=>b=>{h(t,b)},a=Kl(t);G(a)&&t.on("PastePreProcess",r(a));const u=q3(t);G(u)&&t.on("PastePostProcess",r(u))},JQ=(t,r)=>{t.on("PastePreProcess",a=>{a.content=r(t,a.content,a.internal)})},QQ=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,JH=t=>nn.trim(t).replace(QQ,tm).toLowerCase(),eee=(t,r,a)=>{const u=Z3(t);if(a||u==="all"||!G3(t))return r;const h=u?u.split(/[, ]/):[];if(h&&u!=="none"){const b=t.dom,E=t.selection.getNode();r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(R,H,Y,ge)=>{const Te=b.parseStyle(b.decode(Y)),Ae={};for(let st=0;st<h.length;st++){const Ge=Te[h[st]];let ct=Ge,ht=b.getStyle(E,h[st],!0);/color/.test(h[st])&&(ct=JH(ct),ht=JH(ht)),ht!==ct&&(Ae[h[st]]=Ge)}const nt=b.serializeStyle(Ae,"span");return nt?H+' style="'+nt+'"'+ge:H+ge})}else r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return r=r.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(b,E,R,H)=>E+' style="'+R+'"'+H),r},tee=t=>{(Hn.browser.isChromium()||Hn.browser.isSafari())&&JQ(t,eee)},nee=t=>{const r=ii(!1),a=ii(K3(t)?"text":"html"),u=_Q(t);tee(t),dw(t,a),XQ(t),t.on("PreInit",()=>{GQ(t),XH(t,r),UQ(t,u,a)})},QH=t=>{t.on("click",r=>{t.dom.getParent(r.target,"details")&&r.preventDefault()})},oee=t=>{t.parser.addNodeFilter("details",r=>{Oe(r,a=>{a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),t.serializer.addNodeFilter("details",r=>{Oe(r,a=>{const u=a.attr("data-mce-open");a.attr("open",P(u)?u:null),a.attr("data-mce-open",null)})})},ree=t=>{QH(t),oee(t)},ej=$a,tj=bn,see=t=>xa(t.dom),Zhe=t=>uu(t.dom),nj=t=>r=>ps(mt.fromDom(t),r),Ghe=(t,r)=>Pu(mt.fromDom(t),a=>Zhe(a)||Fu(a),nj(r)).getOr(mt.fromDom(r)).dom,oj=(t,r)=>Pu(mt.fromDom(t),see,nj(r)),rj=(t,r,a)=>{const u=new jr(t,r),h=a?u.next.bind(u):u.prev.bind(u);let b=t;for(let E=a?t:h();E&&!ej(E);E=h())ya(E)&&(b=E);return b},Khe=(t,r)=>{const u=Yt.fromRangeStart(t).getNode(),h=Ghe(u,r),b=rj(u,h,!1),E=rj(u,h,!0),R=document.createRange();return oj(b,h).fold(()=>{tj(b)?R.setStart(b,0):R.setStartBefore(b)},H=>R.setStartBefore(H.dom)),oj(E,h).fold(()=>{tj(E)?R.setEnd(E,E.data.length):R.setEndAfter(E)},H=>R.setEndAfter(H.dom)),R},aee=t=>{const r=Khe(t.selection.getRng(),t.getBody());t.selection.setRng(fA(r))},Yu=t=>{t.on("mousedown",r=>{r.detail>=3&&(r.preventDefault(),aee(t))})};var wE;(function(t){t.Before="before",t.After="after"})(wE||(wE={}));const iee=(t,r)=>Math.abs(t.left-r),lee=(t,r)=>Math.abs(t.right-r),cee=(t,r)=>t>=r.top&&t<=r.bottom,uee=(t,r)=>t.top<r.bottom&&t.bottom>r.top,jT=(t,r)=>{const a=eS(t,r)/Math.min(t.height,r.height);return uee(t,r)&&a>.5},fee=(t,r)=>{const a=xe(t,u=>cee(r,u));return w5(a).fold(()=>[[],t],u=>{const{pass:h,fail:b}=se(t,E=>jT(E,u));return[h,b]})},dee=(t,r)=>({node:t.node,position:iee(t,r)<lee(t,r)?wE.Before:wE.After}),sj=(t,r,a)=>r>t.left&&r<t.right?0:Math.min(Math.abs(t.left-r),Math.abs(t.right-r)),zT=(t,r,a)=>{const u=ge=>ya(ge.node)?q.some(ge):no(ge.node)?zT(_o(ge.node.childNodes),r,a):q.none(),h=(ge,Te)=>{if(ge.length>=2){const Ae=u(ge[0]).getOr(ge[0]),nt=u(ge[1]).getOr(ge[1]);if(Math.abs(Te(Ae,r,a)-Te(nt,r,a))<2){if(bn(Ae.node))return q.some(Ae);if(bn(nt.node))return q.some(nt)}}return q.none()},b=(ge,Te)=>{const Ae=sn(ge,(nt,st)=>Te(nt,r,a)-Te(st,r,a));return h(Ae,Te).orThunk(()=>mr(Ae,u))},[E,R]=fee(oT(t),a),{pass:H,fail:Y}=se(R,ge=>ge.top<a);return b(E,sj).orThunk(()=>b(Y,QC)).orThunk(()=>b(H,QC))},b7=(t,r,a,u)=>{const h=(b,E)=>E.fold(()=>zT(_o(b.dom.childNodes),a,u),R=>{const H=xe(_o(b.dom.childNodes),Y=>Y!==R.dom);return zT(H,a,u)}).orThunk(()=>(ps(b,t)?q.none():Km(b)).bind(H=>h(H,q.some(b))));return h(r,q.none())},hee=(t,r,a)=>{const u=mt.fromDom(t),h=Vc(u),E=mt.fromPoint(h,r,a).filter(R=>Ii(u,R)).getOr(u);return b7(u,E,r,a)},aj=(t,r,a)=>hee(t,r,a).filter(u=>N0(u.node)).map(u=>dee(u,r)),ij=t=>{var r,a;const u=t.getBoundingClientRect(),h=t.ownerDocument,b=h.documentElement,E=h.defaultView;return{top:u.top+((r=E==null?void 0:E.scrollY)!==null&&r!==void 0?r:0)-b.clientTop,left:u.left+((a=E==null?void 0:E.scrollX)!==null&&a!==void 0?a:0)-b.clientLeft}},lj=t=>t.inline?ij(t.getBody()):{left:0,top:0},pee=t=>{const r=t.getBody();return t.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},cj=t=>{const r=t.getBody(),a=t.getDoc().documentElement,u={left:r.scrollLeft,top:r.scrollTop},h={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return t.inline?u:h},gee=(t,r)=>{if(r.target.ownerDocument!==t.getDoc()){const a=ij(t.getContentAreaContainer()),u=cj(t);return{left:r.pageX-a.left+u.left,top:r.pageY-a.top+u.top}}return{left:r.pageX,top:r.pageY}},mee=(t,r,a)=>({pageX:a.left-t.left+r.left,pageY:a.top-t.top+r.top}),vee=(t,r)=>mee(lj(t),pee(t),gee(t,r)),mv=32,bee=100,VT=8,CE=16,y7=xa,yee=p3(y7,uu),wee=(t,r)=>y7(r)&&r!==t,Cee=(t,r,a)=>ae(r)||r===a||t.dom.isChildOf(r,a)?!1:!y7(r),See=t=>{const r=t.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},UT=(t,r,a,u)=>{const h=t.dom,b=r.cloneNode(!0);h.setStyles(b,{width:a,height:u}),h.setAttrib(b,"data-mce-selected",null);const E=h.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return h.setStyles(E,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:u}),h.setStyles(b,{margin:0,boxSizing:"border-box"}),E.appendChild(b),E},uj=(t,r)=>{t.parentNode!==r&&r.appendChild(t)},SE=(t,r)=>a=>()=>{const u=t==="left"?a.scrollX:a.scrollY;a.scroll({[t]:u+r,behavior:"smooth"})},fj=SE("left",-mv),dj=SE("left",mv),xee=SE("top",-mv),hj=SE("top",mv),w7=(t,r,a,u,h,b,E,R,H,Y,ge)=>{let Te=0,Ae=0;t.style.left=r.pageX+"px",t.style.top=r.pageY+"px",r.pageX+a>h&&(Te=r.pageX+a-h),r.pageY+u>b&&(Ae=r.pageY+u-b),t.style.width=a-Te+"px",t.style.height=u-Ae+"px";const nt=H.clientHeight,st=H.clientWidth,Ge=E+H.getBoundingClientRect().top,ct=R+H.getBoundingClientRect().left;ge.on(ht=>{ht.intervalId.clear(),ht.dragging&&(E+VT>=nt?ht.intervalId.set(hj(Y)):E-VT<=0?ht.intervalId.set(xee(Y)):R+VT>=st?ht.intervalId.set(dj(Y)):R-VT<=0?ht.intervalId.set(fj(Y)):Ge+CE>=window.innerHeight?ht.intervalId.set(hj(window)):Ge-CE<=0?ht.intervalId.set(xee(window)):ct+CE>=window.innerWidth?ht.intervalId.set(dj(window)):ct-CE<=0&&ht.intervalId.set(fj(window)))})},WT=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},qT=t=>t.button===0,Eee=(t,r)=>({pageX:r.pageX-t.relX,pageY:r.pageY+5}),kee=(t,r)=>a=>{if(qT(a)){const u=qt(r.dom.getParents(a.target),yee).getOr(null);if(Q(u)&&wee(r.getBody(),u)){const h=r.dom.getPos(u),b=r.getBody(),E=r.getDoc().documentElement;t.set({element:u,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?b.scrollWidth:E.offsetWidth)-2,maxY:(r.inline?b.scrollHeight:E.offsetHeight)-2,relX:a.pageX-h.x,relY:a.pageY-h.y,width:u.offsetWidth,height:u.offsetHeight,ghost:UT(r,u,u.offsetWidth,u.offsetHeight),intervalId:p5(bee)})}}},pj=(t,r)=>{const a=Fy((h,b)=>{r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(h,b)},0);r.on("remove",a.cancel);const u=t;return h=>t.on(b=>{const E=Math.max(Math.abs(h.screenX-b.screenX),Math.abs(h.screenY-b.screenY));if(!b.dragging&&E>10){if(r.dispatch("dragstart",{target:b.element}).isDefaultPrevented())return;b.dragging=!0,r.focus()}if(b.dragging){const R=Eee(b,vee(r,h));uj(b.ghost,r.getBody()),w7(b.ghost,R,b.width,b.height,b.maxX,b.maxY,h.clientY,h.clientX,r.getContentAreaContainer(),r.getWin(),u),a.throttle(h.clientX,h.clientY)}})},Aee=t=>{const r=t.getSel();if(Q(r)){const u=r.getRangeAt(0).startContainer;return bn(u)?u.parentNode:u}else return null},C7=(t,r)=>a=>{t.on(u=>{if(u.intervalId.clear(),u.dragging){if(Cee(r,Aee(r.selection),u.element)){const h=See(u.element);r.dispatch("drop",{clientX:a.clientX,clientY:a.clientY}).isDefaultPrevented()||r.undoManager.transact(()=>{WT(u.element),r.insertContent(r.dom.getOuterHTML(h)),r._selectionOverrides.hideFakeCaret()})}r.dispatch("dragend")}}),mj(t)},gj=(t,r)=>()=>{t.on(a=>{a.intervalId.clear(),a.dragging&&r.dispatch("dragend")}),mj(t)},mj=t=>{t.on(r=>{r.intervalId.clear(),WT(r.ghost)}),t.clear()},vj=t=>{const r=yh(),a=_s.DOM,u=document,h=kee(r,t),b=pj(r,t),E=C7(r,t),R=gj(r,t);t.on("mousedown",h),t.on("mousemove",b),t.on("mouseup",E),a.bind(u,"mousemove",b),a.bind(u,"mouseup",R),t.on("remove",()=>{a.unbind(u,"mousemove",b),a.unbind(u,"mouseup",R)}),t.on("keydown",H=>{H.keyCode===wo.ESC&&R()})},Tee=t=>{const r=h=>{if(!h.isDefaultPrevented()){const b=h.dataTransfer;b&&(He(b.types,"Files")||b.files.length>0)&&(h.preventDefault(),h.type==="drop"&&jA(t,"Dropped file type is not supported"))}},a=h=>{pm(t,h.target)&&r(h)},u=()=>{const h=_s.DOM,b=t.dom,E=document,R=t.inline?t.getBody():t.getDoc(),H=["drop","dragover"];Oe(H,Y=>{h.bind(E,Y,a),b.bind(R,Y,r)}),t.on("remove",()=>{Oe(H,Y=>{h.unbind(E,Y,a),b.unbind(R,Y,r)})})};t.on("init",()=>{Yn.setEditorTimeout(t,u,0)})},Yhe=t=>{vj(t),bS(t)&&Tee(t)},Oee=t=>{const r=Fy(()=>{if(!t.removed&&t.getBody().contains(document.activeElement)){const a=t.selection.getRng();if(a.collapsed){const u=q6(t,a,!1);t.selection.setRng(u)}}},0);t.on("focus",()=>{r.throttle()}),t.on("blur",()=>{r.cancel()})},_ee=t=>{t.on("init",()=>{t.on("focusin",r=>{const a=r.target;if(ai(a)){const u=bm(t.getBody(),a),h=xa(u)?u:a;t.selection.getNode()!==h&&dv(t,h).each(b=>t.selection.setRng(b))}})})},Ib=xa,S7=(t,r)=>bm(t.getBody(),r),bj=t=>{const r=t.selection,a=t.dom,u=t.getBody(),h=Q5(t,u,a.isBlock,()=>gm(t)),b="sel-"+a.uniqueId(),E="data-mce-selected";let R;const H=un=>Q(un)&&a.hasClass(un,"mce-offscreen-selection"),Y=un=>un!==u&&(Ib(un)||ai(un))&&a.isChildOf(un,u),ge=un=>{un&&r.setRng(un)},Te=(un,Wt,Kt,Nn=!0)=>t.dispatch("ShowCaret",{target:Wt,direction:un,before:Kt}).isDefaultPrevented()?null:(Nn&&r.scrollIntoView(Wt,un===-1),h.show(Kt,Wt)),Ae=un=>{un.hasAttribute("data-mce-caret")&&(mf(un),r.scrollIntoView(un))},nt=()=>{t.on("click",Wt=>{const Kt=S7(t,Wt.target);Kt&&Ib(Kt)&&(Wt.preventDefault(),t.focus())}),t.on("blur NewBlock",Qt),t.on("ResizeWindow FullscreenStateChanged",h.reposition),t.on("tap",Wt=>{const Kt=Wt.target,Nn=S7(t,Kt);Ib(Nn)?(Wt.preventDefault(),dv(t,Nn).each($t)):Y(Kt)&&dv(t,Kt).each($t)},!0),t.on("mousedown",Wt=>{const Kt=Wt.target;if(Kt!==u&&Kt.nodeName!=="HTML"&&!a.isChildOf(Kt,u)||!whe(t,Wt.clientX,Wt.clientY))return;Qt(),Bn();const Nn=S7(t,Kt);Ib(Nn)?(Wt.preventDefault(),dv(t,Nn).each($t)):aj(u,Wt.clientX,Wt.clientY).each(vo=>{Wt.preventDefault();const Ao=Te(1,vo.node,vo.position===wE.Before,!1);ge(Ao),no(Nn)?Nn.focus():t.getBody().focus()})}),t.on("keypress",Wt=>{wo.modifierPressed(Wt)||Ib(r.getNode())&&Wt.preventDefault()}),t.on("GetSelectionRange",Wt=>{let Kt=Wt.range;if(R){if(!R.parentNode){R=null;return}Kt=Kt.cloneRange(),Kt.selectNode(R),Wt.range=Kt}}),t.on("SetSelectionRange",Wt=>{Wt.range=ct(Wt.range);const Kt=$t(Wt.range,Wt.forward);Kt&&(Wt.range=Kt)});const un=Wt=>no(Wt)&&Wt.id==="mcepastebin";t.on("AfterSetSelectionRange",Wt=>{const Kt=Wt.range,Nn=Kt.startContainer.parentElement;!Ge(Kt)&&!un(Nn)&&Bn(),H(Nn)||Qt()}),Yhe(t),Oee(t),_ee(t)},st=un=>ns(un)||Ru(un)||fh(un),Ge=un=>st(un.startContainer)||st(un.endContainer),ct=un=>{const Wt=t.schema.getVoidElements(),Kt=a.createRng(),Nn=un.startContainer,vo=un.startOffset,Ao=un.endContainer,ir=un.endOffset;return To(Wt,Nn.nodeName.toLowerCase())?vo===0?Kt.setStartBefore(Nn):Kt.setStartAfter(Nn):Kt.setStart(Nn,vo),To(Wt,Ao.nodeName.toLowerCase())?ir===0?Kt.setEndBefore(Ao):Kt.setEndAfter(Ao):Kt.setEnd(Ao,ir),Kt},ht=(un,Wt)=>{const Kt=mt.fromDom(t.getBody()),Nn=t.getDoc(),vo=xd(Kt,"#"+b).getOrThunk(()=>{const Zr=mt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nn);return Os(Zr,"id",b),La(Kt,Zr),Zr}),Ao=a.createRng();ba(vo),er(vo,[mt.fromText(Ga,Nn),mt.fromDom(Wt),mt.fromText(Ga,Nn)]),Ao.setStart(vo.dom.firstChild,1),Ao.setEnd(vo.dom.lastChild,0),vt(vo,{top:a.getPos(un,t.getBody()).y+"px"}),Kk(vo);const ir=r.getSel();return ir&&(ir.removeAllRanges(),ir.addRange(Ao)),Ao},Et=un=>{const Wt=un.cloneNode(!0),Kt=t.dispatch("ObjectSelected",{target:un,targetClone:Wt});if(Kt.isDefaultPrevented())return null;const Nn=ht(un,Kt.targetClone),vo=mt.fromDom(un);return Oe(_t(mt.fromDom(t.getBody()),`*[${E}]`),Ao=>{ps(vo,Ao)||Ia(Ao,E)}),a.getAttrib(un,E)||un.setAttribute(E,"1"),R=un,Bn(),Nn},$t=(un,Wt)=>{if(!un)return null;if(un.collapsed){if(!Ge(un)){const Ao=Wt?1:-1,ir=M0(Ao,u,un),Zr=ir.getNode(!Wt);if(N0(Zr))return Te(Ao,Zr,Wt?!ir.isAtEnd():!1,!1);const vs=ir.getNode(Wt);if(N0(vs))return Te(Ao,vs,Wt?!1:!ir.isAtEnd(),!1)}return null}let Kt=un.startContainer,Nn=un.startOffset;const vo=un.endOffset;if(bn(Kt)&&Nn===0&&Ib(Kt.parentNode)&&(Kt=Kt.parentNode,Nn=a.nodeIndex(Kt),Kt=Kt.parentNode),!no(Kt))return null;if(vo===Nn+1&&Kt===un.endContainer){const Ao=Kt.childNodes[Nn];if(Y(Ao))return Et(Ao)}return null},Qt=()=>{R&&R.removeAttribute(E),xd(mt.fromDom(t.getBody()),"#"+b).each(ts),R=null},an=()=>{h.destroy(),R=null},Bn=()=>{h.hide()};return Rh(t)||nt(),{showCaret:Te,showBlockCaretContainer:Ae,hideFakeCaret:Bn,destroy:an}},$ee=(t,r)=>{let a=r;for(let u=t.previousSibling;bn(u);u=u.previousSibling)a+=u.data.length;return a},yj=(t,r,a,u,h)=>{if(bn(a)&&(u<0||u>a.data.length))return[];const b=h&&bn(a)?[$ee(a,u)]:[u];let E=a;for(;E!==r&&E.parentNode;)b.push(t.nodeIndex(E,h)),E=E.parentNode;return E===r?b.reverse():[]},x7=(t,r,a,u,h,b,E=!1)=>{const R=yj(t,r,a,u,E),H=yj(t,r,h,b,E);return{start:R,end:H}},wj=(t,r)=>{const a=r.slice(),u=a.pop();return ue(u)?Xe(a,(b,E)=>b.bind(R=>q.from(R.childNodes[E])),q.some(t)).bind(b=>bn(b)&&(u<0||u>b.data.length)?q.none():q.some({node:b,offset:u})):q.none()},Cj=(t,r)=>wj(t,r.start).bind(({node:a,offset:u})=>wj(t,r.end).map(({node:h,offset:b})=>{const E=document.createRange();return E.setStart(a,u),E.setEnd(h,b),E})),Sj=(t,r,a,u=!1)=>x7(t,r,a.startContainer,a.startOffset,a.endContainer,a.endOffset,u),xE=(t,r,a)=>{if(r&&t.isEmpty(r)&&!a(r)){const u=r.parentNode;t.remove(r),xE(t,u,a)}},ZT=(t,r,a,u=!0)=>{const h=r.startContainer.parentNode,b=r.endContainer.parentNode;r.deleteContents(),u&&!a(r.startContainer)&&(bn(r.startContainer)&&r.startContainer.data.length===0&&t.remove(r.startContainer),bn(r.endContainer)&&r.endContainer.data.length===0&&t.remove(r.endContainer),xE(t,h,a),h!==b&&xE(t,b,a))},GT=(t,r)=>q.from(t.dom.getParent(r.startContainer,t.dom.isBlock)),xj=(t,r,a)=>{const u=t.dynamicPatternsLookup({text:a,block:r});return{...t,blockPatterns:cS(u).concat(t.blockPatterns),inlinePatterns:uS(u).concat(t.inlinePatterns)}},KT=(t,r,a,u)=>{const h=t.createRng();return h.setStart(r,0),h.setEnd(a,u),h.toString()},Ej=(t,r,a)=>{TL(r,0,r).each(h=>{const b=h.container;M8(b,a.start.length,r).each(E=>{const R=t.createRng();R.setStart(b,0),R.setEnd(E.container,E.offset),ZT(t,R,H=>H===r)})})},Dee=(t,r)=>{const a=t.dom,u=r.pattern,h=Cj(a.getRoot(),r.range).getOrDie("Unable to resolve path range"),b=(E,R)=>{const H=R.get(E);return K(H)&&Pn(H).exists(Y=>To(Y,"block"))};return GT(t,h).each(E=>{u.type==="block-format"?b(u.format,t.formatter)&&t.undoManager.transact(()=>{Ej(t.dom,E,u),t.formatter.apply(u.format)}):u.type==="block-command"&&t.undoManager.transact(()=>{Ej(t.dom,E,u),t.execCommand(u.cmd,!1,u.value)})}),!0},Bee=t=>sn(t,(r,a)=>a.start.length-r.start.length),kj=(t,r)=>{const a=Bee(t),u=r.replace(Ga," ");return qt(a,h=>r.indexOf(h.start)===0||u.indexOf(h.start)===0)},YT=(t,r,a,u)=>{var h;const b=t.dom,E=da(t);if(!b.is(r,E))return[];const R=(h=r.textContent)!==null&&h!==void 0?h:"";return kj(a.blockPatterns,R).map(H=>nn.trim(R).length===H.start.length?[]:[{pattern:H,range:x7(b,b.getRoot(),r,0,r,0,u)}]).getOr([])},Aj=(t,r)=>{if(r.length===0)return;const a=t.selection.getBookmark();Oe(r,u=>Dee(t,u)),t.selection.moveToBookmark(a)},E7=(t,r)=>t.create("span",{"data-mce-type":"bookmark",id:r}),XT=(t,r)=>{const a=t.createRng();return a.setStartAfter(r.start),a.setEndBefore(r.end),a},Tj=(t,r,a)=>{const u=Cj(t.getRoot(),a).getOrDie("Unable to resolve path range"),h=u.startContainer,b=u.endContainer,E=u.endOffset===0?b:b.splitText(u.endOffset),R=u.startOffset===0?h:h.splitText(u.startOffset),H=R.parentNode,Y=E.parentNode;return{prefix:r,end:Y.insertBefore(E7(t,r+"-end"),E),start:H.insertBefore(E7(t,r+"-start"),R)}},k7=(t,r,a)=>{xE(t,t.get(r.prefix+"-end"),a),xE(t,t.get(r.prefix+"-start"),a)},A7=t=>t.start.length===0,Nee=t=>(r,a)=>{const h=r.data.substring(0,a),b=h.lastIndexOf(t.charAt(t.length-1)),E=h.lastIndexOf(t);return E!==-1?E+t.length:b!==-1?b+1:-1},Oj=(t,r,a,u)=>{const h=r.start;return I8(t,u.container,u.offset,Nee(h),a).bind(E=>{if(E.offset>=h.length){const R=t.createRng();return R.setStart(E.container,E.offset-h.length),R.setEnd(E.container,E.offset),q.some(R)}else{const R=E.offset-h.length;return R8(E.container,R,a).map(H=>{const Y=t.createRng();return Y.setStart(H.container,H.offset),Y.setEnd(E.container,E.offset),Y}).filter(H=>H.toString()===h).orThunk(()=>Oj(t,r,a,Vd(E.container,0)))}})},T7=(t,r,a,u,h,b=!1)=>{if(r.start.length===0&&!b){const E=t.createRng();return E.setStart(a,u),E.setEnd(a,u),q.some(E)}return F8(a,u,h).bind(E=>Oj(t,r,h,E).bind(H=>{var Y;if(b){if(H.endContainer===E.container&&H.endOffset===E.offset)return q.none();if(E.offset===0&&((Y=H.endContainer.textContent)===null||Y===void 0?void 0:Y.length)===H.endOffset)return q.none()}return q.some(H)}))},Pee=(t,r,a,u)=>{const h=t.dom,b=h.getRoot(),E=a.pattern,R=a.position.container,H=a.position.offset;return R8(R,H-a.pattern.end.length,r).bind(Y=>{const ge=x7(h,b,Y.container,Y.offset,R,H,u);if(A7(E))return q.some({matches:[{pattern:E,startRng:ge,endRng:ge}],position:Y});{const Te=_j(t,a.remainingPatterns,Y.container,Y.offset,r,u),Ae=Te.getOr({matches:[],position:Y}),nt=Ae.position;return T7(h,E,nt.container,nt.offset,r,Te.isNone()).map(Ge=>{const ct=Sj(h,b,Ge,u);return{matches:Ae.matches.concat([{pattern:E,startRng:ct,endRng:ge}]),position:Vd(Ge.startContainer,Ge.startOffset)}})}})},_j=(t,r,a,u,h,b)=>{const E=t.dom;return F8(a,u,E.getRoot()).bind(R=>{const H=KT(E,h,a,u);for(let Y=0;Y<r.length;Y++){const ge=r[Y];if(!Hr(H,ge.end))continue;const Te=r.slice();Te.splice(Y,1);const Ae=Pee(t,h,{pattern:ge,remainingPatterns:Te,position:R},b);if(Ae.isSome())return Ae}return q.none()})},$j=(t,r,a)=>{t.selection.setRng(a),r.type==="inline-format"?Oe(r.format,u=>{t.formatter.apply(u)}):t.execCommand(r.cmd,!1,r.value)},Fee=(t,r,a,u)=>{const h=XT(t.dom,a);ZT(t.dom,h,u),$j(t,r,h)},Ree=(t,r,a,u,h)=>{const b=t.dom,E=XT(b,u),R=XT(b,a);ZT(b,R,h),ZT(b,E,h);const H={prefix:a.prefix,start:a.end,end:u.start},Y=XT(b,H);$j(t,r,Y)},Mee=(t,r)=>{const a=My("mce_textpattern"),u=ot(r,(h,b)=>{const E=Tj(t,a+`_end${h.length}`,b.endRng);return h.concat([{...b,endMarker:E}])},[]);return ot(u,(h,b)=>{const E=u.length-h.length-1,R=A7(b.pattern)?b.endMarker:Tj(t,a+`_start${E}`,b.startRng);return h.concat([{...b,startMarker:R}])},[])},O7=(t,r,a,u,h,b)=>_j(t,h.inlinePatterns,a,u,r,b).fold(()=>[],E=>E.matches),_7=(t,r)=>{if(r.length===0)return;const a=t.dom,u=t.selection.getBookmark(),h=Mee(a,r);Oe(h,b=>{const E=a.getParent(b.startMarker.start,a.isBlock),R=H=>H===E;A7(b.pattern)?Fee(t,b.pattern,b.endMarker,R):Ree(t,b.pattern,b.startMarker,b.endMarker,R),k7(a,b.endMarker,R),k7(a,b.startMarker,R)}),t.selection.moveToBookmark(u)},$7=(t,r)=>{const a=t.selection.getRng();return GT(t,a).map(u=>{var h;const b=Math.max(0,a.startOffset),E=xj(r,u,(h=u.textContent)!==null&&h!==void 0?h:""),R=O7(t,u,a.startContainer,b,E,!0),H=YT(t,u,E,!0);return H.length>0||R.length>0?(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{t.insertContent(uh),_7(t,R),Aj(t,H);const Y=t.selection.getRng(),ge=F8(Y.startContainer,Y.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),ge.each(Te=>{const Ae=Te.container;Ae.data.charAt(Te.offset-1)===uh&&(Ae.deleteData(Te.offset-1,1),xE(t.dom,Ae.parentNode,nt=>nt===t.dom.getRoot()))})}),!0):!1}).getOr(!1)},D7=(t,r)=>{const a=t.selection.getRng();GT(t,a).map(u=>{const h=Math.max(0,a.startOffset-1),b=KT(t.dom,u,a.startContainer,h),E=xj(r,u,b),R=O7(t,u,a.startContainer,h,E,!1);R.length>0&&t.undoManager.transact(()=>{_7(t,R)})})},Dj=(t,r,a)=>{for(let u=0;u<t.length;u++)if(a(t[u],r))return!0;return!1},B7=(t,r)=>Dj(t,r,(a,u)=>a===u.keyCode&&!wo.modifierPressed(u)),Iee=(t,r)=>Dj(t,r,(a,u)=>a.charCodeAt(0)===u.charCode),Lee=t=>{const r=[",",".",";",":","!","?"],a=[32],u=()=>O3(z5(t),V5(t)),h=()=>W5(t);t.on("keydown",E=>{if(E.keyCode===13&&!wo.modifierPressed(E)&&t.selection.isCollapsed()){const R=u();(R.inlinePatterns.length>0||R.blockPatterns.length>0||h())&&$7(t,R)&&E.preventDefault()}},!0);const b=()=>{if(t.selection.isCollapsed()){const E=u();(E.inlinePatterns.length>0||h())&&D7(t,E)}};t.on("keyup",E=>{B7(a,E)&&b()}),t.on("keypress",E=>{Iee(r,E)&&Yn.setEditorTimeout(t,b)})},Hee=t=>{Lee(t)},jee=t=>{const r=nn.each,a=wo.BACKSPACE,u=wo.DELETE,h=t.dom,b=t.selection,E=t.parser,R=Hn.browser,H=R.isFirefox(),Y=R.isChromium()||R.isSafari(),ge=Hn.deviceType.isiPhone()||Hn.deviceType.isiPad(),Te=Hn.os.isMacOS()||Hn.os.isiOS(),Ae=(io,Xo)=>{try{t.getDoc().execCommand(io,!1,String(Xo))}catch{}},nt=io=>io.isDefaultPrevented(),st=()=>{const io=jo=>{const Vn=h.create("body"),Pr=jo.cloneContents();return Vn.appendChild(Pr),b.serializer.serialize(Vn,{format:"html"})},Xo=jo=>{const Vn=io(jo),Pr=h.createRng();Pr.selectNode(t.getBody());const gr=io(Pr);return Vn===gr};t.on("keydown",jo=>{const Vn=jo.keyCode;if(!nt(jo)&&(Vn===u||Vn===a)){const Pr=t.selection.isCollapsed(),gr=t.getBody();if(Pr&&!h.isEmpty(gr)||!Pr&&!Xo(t.selection.getRng()))return;jo.preventDefault(),t.setContent(""),gr.firstChild&&h.isBlock(gr.firstChild)?t.selection.setCursorLocation(gr.firstChild,0):t.selection.setCursorLocation(gr,0),t.nodeChanged()}})},Ge=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},ct=()=>{t.inline||h.bind(t.getDoc(),"mousedown mouseup",io=>{let Xo;if(io.target===t.getDoc().documentElement)if(Xo=b.getRng(),t.getBody().focus(),io.type==="mousedown"){if(ns(Xo.startContainer))return;b.placeCaretAt(io.clientX,io.clientY)}else b.setRng(Xo)})},ht=()=>{t.on("keydown",io=>{if(!nt(io)&&io.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(b.isCollapsed()&&b.getRng().startOffset===0){const Xo=b.getNode(),jo=Xo.previousSibling;if(Xo.nodeName==="HR"){h.remove(Xo),io.preventDefault();return}jo&&jo.nodeName&&jo.nodeName.toLowerCase()==="hr"&&(h.remove(jo),io.preventDefault())}}})},Et=()=>{Range.prototype.getClientRects||t.on("mousedown",io=>{if(!nt(io)&&io.target.nodeName==="HTML"){const Xo=t.getBody();Xo.blur(),Yn.setEditorTimeout(t,()=>{Xo.focus()})}})},$t=()=>{const io=Gg(t);t.on("click",Xo=>{const jo=Xo.target;/^(IMG|HR)$/.test(jo.nodeName)&&h.getContentEditableParent(jo)!=="false"&&(Xo.preventDefault(),t.selection.select(jo),t.nodeChanged()),jo.nodeName==="A"&&h.hasClass(jo,io)&&jo.childNodes.length===0&&(Xo.preventDefault(),b.select(jo))})},Qt=()=>{const io=()=>{const jo=h.getAttribs(b.getStart().cloneNode(!1));return()=>{const Vn=b.getStart();Vn!==t.getBody()&&(h.setAttrib(Vn,"style",null),r(jo,Pr=>{Vn.setAttributeNode(Pr.cloneNode(!0))}))}},Xo=()=>!b.isCollapsed()&&h.getParent(b.getStart(),h.isBlock)!==h.getParent(b.getEnd(),h.isBlock);t.on("keypress",jo=>{let Vn;return!nt(jo)&&(jo.keyCode===8||jo.keyCode===46)&&Xo()?(Vn=io(),t.getDoc().execCommand("delete",!1),Vn(),jo.preventDefault(),!1):!0}),h.bind(t.getDoc(),"cut",jo=>{if(!nt(jo)&&Xo()){const Vn=io();Yn.setEditorTimeout(t,()=>{Vn()})}})},an=()=>{t.on("keydown",io=>{if(!nt(io)&&io.keyCode===a&&b.isCollapsed()&&b.getRng().startOffset===0){const Xo=b.getNode().previousSibling;if(Xo&&Xo.nodeName&&Xo.nodeName.toLowerCase()==="table")return io.preventDefault(),!1}return!0})},Bn=()=>{t.on("keydown",io=>{if(nt(io)||io.keyCode!==wo.BACKSPACE)return;let Xo=b.getRng();const jo=Xo.startContainer,Vn=Xo.startOffset,Pr=h.getRoot();let gr=jo;if(!(!Xo.collapsed||Vn!==0)){for(;gr.parentNode&&gr.parentNode.firstChild===gr&&gr.parentNode!==Pr;)gr=gr.parentNode;gr.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,gr),Xo=h.createRng(),Xo.setStart(jo,0),Xo.setEnd(jo,0),b.setRng(Xo))}})},un=()=>{const io=()=>{Ae("StyleWithCSS",!1),Ae("enableInlineTableEditing",!1),R3(t)||Ae("enableObjectResizing",!1)};z3(t)||t.on("BeforeExecCommand mousedown",io)},Wt=()=>{const io=()=>{r(h.select("a"),Xo=>{var jo;let Vn=Xo.parentNode;const Pr=h.getRoot();if((Vn==null?void 0:Vn.lastChild)===Xo){for(;Vn&&!h.isBlock(Vn);){if(((jo=Vn.parentNode)===null||jo===void 0?void 0:jo.lastChild)!==Vn||Vn===Pr)return;Vn=Vn.parentNode}h.add(Vn,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",Xo=>{(Xo.type==="setcontent"||Xo.command==="mceInsertLink")&&io()})},Kt=()=>{t.on("init",()=>{Ae("DefaultParagraphSeparator",da(t))})},Nn=io=>{const Xo=io.getBody(),jo=io.selection.getRng();return jo.startContainer===jo.endContainer&&jo.startContainer===Xo&&jo.startOffset===0&&jo.endOffset===Xo.childNodes.length},vo=()=>{t.on("keyup focusin mouseup",io=>{!wo.modifierPressed(io)&&!Nn(t)&&b.normalize()},!0)},Ao=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ir=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},Zr=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",io=>{let Xo;io.target.nodeName==="HTML"&&(Xo=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Xo),t.selection.normalize(),t.nodeChanged())}))},vs=()=>{Te&&t.on("keydown",io=>{wo.metaKeyPressed(io)&&!io.shiftKey&&(io.keyCode===37||io.keyCode===39)&&(io.preventDefault(),t.selection.getSel().modify("move",io.keyCode===37?"backward":"forward","lineboundary"))})},Gs=()=>{t.on("click",io=>{let Xo=io.target;do if(Xo.tagName==="A"){io.preventDefault();return}while(Xo=Xo.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},xl=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",io=>{io.preventDefault()})})},On=()=>{E.addNodeFilter("br",io=>{let Xo=io.length;for(;Xo--;)io[Xo].attr("class")==="Apple-interchange-newline"&&io[Xo].remove()})},dr=be,Nr=()=>{if(!H||t.removed)return!1;const io=t.selection.getSel();return!io||!io.rangeCount||io.rangeCount===0},Yo=()=>{Y&&(ct(),$t(),xl(),Ge(),ge&&(ir(),Zr(),Gs())),H&&(Et(),un(),Ao(),vs())},ci=()=>{Bn(),st(),Hn.windowsPhone||vo(),Y&&(ct(),$t(),Kt(),xl(),an(),On(),ge?(ir(),Zr(),Gs()):Ge()),H&&(ht(),Et(),Qt(),un(),Wt(),Ao(),vs(),an())};return Rh(t)?Yo():ci(),{refreshContentEditable:dr,isHidden:Nr}},N7=_s.DOM,zee=(t,r)=>{const a=mt.fromDom(t.getBody()),u=bd(lu(a)),h=mt.fromTag("style");Os(h,"type","text/css"),La(h,mt.fromText(r)),La(u,h),t.on("remove",()=>{ts(h)})},Vee=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,JT=t=>pr(t,r=>ke(r)===!1),Bj=t=>{const r=t.options.get,a=t.editorUpload.blobCache;return JT({allow_conditional_comments:r("allow_conditional_comments"),allow_html_data_urls:r("allow_html_data_urls"),allow_svg_data_urls:r("allow_svg_data_urls"),allow_html_in_named_anchor:r("allow_html_in_named_anchor"),allow_script_urls:r("allow_script_urls"),allow_unsafe_link_target:r("allow_unsafe_link_target"),convert_fonts_to_spans:r("convert_fonts_to_spans"),fix_list_elements:r("fix_list_elements"),font_size_legacy_values:r("font_size_legacy_values"),forced_root_block:r("forced_root_block"),forced_root_block_attrs:r("forced_root_block_attrs"),preserve_cdata:r("preserve_cdata"),remove_trailing_brs:r("remove_trailing_brs"),inline_styles:r("inline_styles"),root_name:Vee(t),validate:!0,blob_cache:a,document:t.getDoc()})},Nj=t=>{const r=t.options.get;return JT({custom_elements:r("custom_elements"),extended_valid_elements:r("extended_valid_elements"),invalid_elements:r("invalid_elements"),invalid_styles:r("invalid_styles"),schema:r("schema"),valid_children:r("valid_children"),valid_classes:r("valid_classes"),valid_elements:r("valid_elements"),valid_styles:r("valid_styles"),verify_html:r("verify_html"),padd_empty_block_inline_children:r("format_empty_lines")})},Uee=t=>{const r=t.options.get;return{...Bj(t),...Nj(t),...JT({url_converter:r("url_converter"),url_converter_scope:r("url_converter_scope"),element_format:r("element_format"),entities:r("entities"),entity_encoding:r("entity_encoding"),indent:r("indent"),indent_after:r("indent_after"),indent_before:r("indent_before")})}},Wee=t=>{const r=G2(Bj(t),t.schema);return r.addAttributeFilter("src,href,style,tabindex",(a,u)=>{const h=t.dom,b="data-mce-"+u;let E=a.length;for(;E--;){const R=a[E];let H=R.attr(u);if(H&&!R.attr(b)){if(H.indexOf("data:")===0||H.indexOf("blob:")===0)continue;u==="style"?(H=h.serializeStyle(h.parseStyle(H),R.name),H.length||(H=null),R.attr(b,H),R.attr(u,H)):u==="tabindex"?(R.attr(b,H),R.attr(u,null)):R.attr(b,t.convertURL(H,u,R.name))}}}),r.addNodeFilter("script",a=>{let u=a.length;for(;u--;){const h=a[u],b=h.attr("type")||"no/type";b.indexOf("mce-")!==0&&h.attr("type","mce-"+b)}}),CS(t)&&r.addNodeFilter("#cdata",a=>{var u;let h=a.length;for(;h--;){const b=a[h];b.type=8,b.name="#comment",b.value="[CDATA["+t.dom.encode((u=b.value)!==null&&u!==void 0?u:"")+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",a=>{let u=a.length;const h=t.schema.getNonEmptyElements();for(;u--;){const b=a[u];b.isEmpty(h)&&b.getAll("br").length===0&&b.append(new Qc("br",1))}}),r},qee=t=>{const r=wS(t);r&&Yn.setEditorTimeout(t,()=>{let a;r===!0?a=t:a=t.editorManager.get(r),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)},Zee=t=>{const r=t.dom.getRoot();!t.inline&&(!Z0(t)||t.selection.getStart(!0)===r)&&yi(r).each(a=>{const u=a.getNode(),h=hf(u)?yi(u).getOr(a):a;t.selection.setRng(h.toRange())})},Gee=t=>{t.bindPendingEventDelegates(),t.initialized=!0,rm(t),t.focus(!0),Zee(t),t.nodeChanged({initial:!0});const r=W3(t);G(r)&&r.call(t,t),qee(t)},P7=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,Kee=(t,r,a)=>{const u=[P7(t).loadAll(r)];return t.inline?u:u.concat([t.ui.styleSheetLoader.loadAll(a)])},QT=t=>{const r=P7(t),a=Vi(t),u=t.contentCSS,h=()=>{r.unloadAll(u),t.inline||t.ui.styleSheetLoader.unloadAll(a)},b=()=>{t.removed?h():t.on("remove",h)};if(t.contentStyles.length>0){let H="";nn.each(t.contentStyles,Y=>{H+=Y+`\r
`}),t.dom.addStyle(H)}const E=Promise.all(Kee(t,u,a)).then(b).catch(b),R=P5(t);return R&&zee(t,R),E},Yee=t=>{const r=t.getDoc(),a=t.getBody();Ak(t),j5(t)||(r.body.spellcheck=!1,N7.setAttrib(a,"spellcheck","false")),t.quirks=jee(t),QS(t);const u=F5(t);u!==void 0&&(a.dir=u);const h=Kg(t);h&&t.on("BeforeSetContent",b=>{nn.each(h,E=>{b.content=b.content.replace(E,R=>"<!--mce:protected "+escape(R)+"-->")})}),t.on("SetContent",()=>{t.addVisual(t.getBody())}),t.on("compositionstart compositionend",b=>{t.composing=b.type==="compositionstart"})},Xee=t=>{Rh(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},F7=t=>{t.removed!==!0&&(Xee(t),Gee(t))},Pj=t=>{const r=t.getElement();let a=t.getDoc();t.inline&&(N7.addClass(r,"mce-content-body"),t.contentDocument=a=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);const u=t.getBody();u.disabled=!0,t.readonly=z3(t),t.readonly||(t.inline&&N7.getStyle(u,"position",!0)==="static"&&(u.style.position="relative"),u.contentEditable="true"),u.disabled=!1,t.editorUpload=UA(t),t.schema=Mu(Nj(t)),t.dom=_s(a,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:gS(t),referrerPolicy:mS(t),onSetAttrib:E=>{t.dispatch("SetAttrib",E)}}),t.parser=Wee(t),t.serializer=RM(Uee(t),t),t.selection=_6(t.dom,t.getWin(),t.serializer,t),t.annotator=bu(t),t.formatter=R6(t),t.undoManager=Zp(t),t._nodeChangeDispatcher=new $H(t),t._selectionOverrides=bj(t),_X(t),ree(t),NX(t),Rh(t)||(Yu(t),Hee(t));const h=c7(t);AX(t,h),S8(t),CY(t),nee(t);const b=mK(t);Yee(t),b.fold(()=>{QT(t).then(()=>F7(t))},E=>{t.setProgressState(!0),QT(t).then(()=>{E().then(R=>{t.setProgressState(!1),F7(t),_M(t)},R=>{t.notificationManager.open({type:"error",text:String(R)}),F7(t),_M(t)})})})},Fj=(t,r)=>{if(t.inline||(t.getElement().style.visibility=t.orgVisibility),!r&&!t.inline){const a=t.iframeElement,u=hY(mt.fromDom(a),"load",()=>{u.unbind(),t.contentDocument=a.contentDocument,Pj(t)});if(Hn.browser.isFirefox()){const h=t.getDoc();h.open(),h.write(t.iframeHTML),h.close()}else a.srcdoc=t.iframeHTML}else Pj(t)},R7=_s.DOM,eO=(t,r,a,u)=>{const h=mt.fromTag("iframe");return u.each(b=>Os(h,"tabindex",b)),Jr(h,a),Jr(h,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),If(h,"tox-edit-area__iframe"),h},Jee=t=>{let r=_3(t)+"<html><head>";$3(t)!==t.documentBaseUrl&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const a=O5(t),u=Il(t),h=t.translate(O0(t));return yl(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+yl(t)+'" />'),r+=`</head><body id="${a}" class="mce-content-body ${u}" data-id="${t.id}" aria-label="${h}"><br></body></html>`,r},Qee=(t,r)=>{const a=t.translate("Rich Text Area"),u=pl(mt.fromDom(t.getElement()),"tabindex").bind(Is),h=eO(t.id,a,dS(t),u).dom;h.onload=()=>{h.onload=null,t.dispatch("load")},t.contentAreaContainer=r.iframeContainer,t.iframeElement=h,t.iframeHTML=Jee(t),R7.add(r.iframeContainer,h)},ete=(t,r)=>{Qee(t,r),r.editorContainer&&(r.editorContainer.style.display=t.orgDisplay,t.hidden=R7.isHidden(r.editorContainer)),t.getElement().style.display="none",R7.setAttrib(t.id,"aria-hidden","true"),Fj(t)},Rj=_s.DOM,tte=(t,r,a)=>{const u=Gu.get(a),h=Gu.urls[a]||t.documentBaseUrl.replace(/\/$/,"");if(a=nn.trim(a),u&&nn.inArray(r,a)===-1){if(t.plugins[a])return;try{const b=u(t,h)||{};t.plugins[a]=b,G(b.init)&&(b.init(t,h),r.push(a))}catch(b){iY(t,a,b)}}},nte=t=>t.replace(/^\-/,""),ote=t=>{const r=[];Oe($p(t),a=>{tte(t,r,nte(a))})},rte=t=>{const r=nn.trim(qy(t)),a=t.ui.registry.getAll().icons,u={...J2.get("default").icons,...J2.get(r).icons};xn(u,(h,b)=>{To(a,b)||t.ui.registry.addIcon(b,h)})},ste=t=>{const r=Wg(t);if(P(r)){const a=Q2.get(r);t.theme=a(t,Q2.urls[r])||{},G(t.theme.init)&&t.theme.init(t,Q2.urls[r]||t.documentBaseUrl.replace(/\/$/,""))}else t.theme={}},Mj=t=>{const r=cc(t),a=av.get(r);t.model=a(t,av.urls[r])},ate=t=>{const r=t.theme.renderUI;return r?r():M7(t)},Ij=t=>{const r=t.getElement(),u=Wg(t)(t,r);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||t.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||t.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:r.offsetHeight,u},Lj=(t,r)=>({editorContainer:t,iframeContainer:r,api:{}}),ite=t=>{const r=Rj.create("div");return Rj.insertAfter(r,t),Lj(r,r)},M7=t=>{const r=t.getElement();return t.inline?Lj(null):ite(r)},EE=t=>{const r=t.getElement();return t.orgDisplay=r.style.display,P(Wg(t))?ate(t):G(Wg(t))?Ij(t):M7(t)},lte=(t,r)=>{const a={show:q.from(r.show).getOr(be),hide:q.from(r.hide).getOr(be),isEnabled:q.from(r.isEnabled).getOr(me),setEnabled:u=>{t.mode.isReadOnly()||q.from(r.setEnabled).each(h=>h(u))}};t.ui={...t.ui,...a}},Hj=t=>{t.dispatch("ScriptsLoaded"),rte(t),ste(t),Mj(t),ote(t);const r=EE(t);lte(t,q.from(r.api).getOr({})),t.editorContainer=r.editorContainer,fY(t),t.inline?Fj(t):ete(t,{editorContainer:r.editorContainer,iframeContainer:r.iframeContainer})},Lb=_s.DOM,jj=t=>t.charAt(0)==="-",cte=(t,r)=>{const a=B3(r),u=N5(r);if(!yf.hasCode(a)&&a!=="en"){const h=Tr(u)?u:`${r.editorManager.baseURL}/langs/${a}.js`;t.add(h).catch(()=>{iv(r,h,a)})}},ute=(t,r)=>{const a=Wg(t);if(P(a)&&!jj(a)&&!To(Q2.urls,a)){const u=vS(t),h=u?t.documentBaseURI.toAbsolute(u):`themes/${a}/theme${r}.js`;Q2.load(a,h).catch(()=>{sY(t,h,a)})}},zj=(t,r)=>{const a=cc(t);if(a!=="plugin"&&!To(av.urls,a)){const u=Xf(t),h=P(u)?t.documentBaseURI.toAbsolute(u):`models/${a}/model${r}.js`;av.load(a,h).catch(()=>{aY(t,h,a)})}},fte=t=>q.from(_5(t)).filter(Tr).map(r=>({url:r,name:q.none()})),I7=(t,r,a)=>q.from(r).filter(u=>Tr(u)&&!J2.has(u)).map(u=>({url:`${t.editorManager.baseURL}/icons/${u}/icons${a}.js`,name:q.some(u)})),dte=(t,r,a)=>{const u=I7(r,"default",a),h=fte(r).orThunk(()=>I7(r,qy(r),""));Oe(hs([u,h]),b=>{t.add(b.url).catch(()=>{rY(r,b.url,b.name.getOrUndefined())})})},hte=(t,r)=>{const a=(u,h)=>{Gu.load(u,h).catch(()=>{oY(t,h,u)})};xn(U3(t),(u,h)=>{a(h,u),t.options.set("plugins",$p(t).concat(h))}),Oe($p(t),u=>{u=nn.trim(u),u&&!Gu.urls[u]&&!jj(u)&&a(u,`plugins/${u}/plugin${r}.js`)})},pte=t=>{const r=Wg(t);return!P(r)||Q(Q2.get(r))},gte=t=>{const r=cc(t);return Q(av.get(r))},mte=(t,r)=>{const a=Kf.ScriptLoader,u=()=>{!t.removed&&pte(t)&&gte(t)&&Hj(t)};ute(t,r),zj(t,r),cte(a,t),dte(a,t,r),hte(t,r),a.loadQueue().then(u,u)},vte=(t,r)=>ih.forElement(t,{contentCssCors:V3(r),referrerPolicy:mS(r)}),bte=t=>{const r=t.id;yf.setCode(B3(t));const a=()=>{Lb.unbind(window,"ready",a),t.render()};if(!Ng.Event.domLoaded){Lb.bind(window,"ready",a);return}if(!t.getElement())return;const u=mt.fromDom(t.getElement()),h=Rf(u);t.on("remove",()=>{ve(u.dom.attributes,E=>Ia(u,E.name)),Jr(u,h)}),t.ui.styleSheetLoader=vte(u,t),Ah(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const b=t.getElement().form||Lb.getParent(r,"form");b&&(t.formElement=b,Zy(t)&&!a1(t.getElement())&&(Lb.insertAfter(Lb.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=E=>{t.dispatch(E.type,E)},Lb.bind(b,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),L3(t)&&!b.submit.nodeType&&!b.submit.length&&!b._mceOldSubmit&&(b._mceOldSubmit=b.submit,b.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),b._mceOldSubmit(b)))),t.windowManager=VM(t),t.notificationManager=zM(t),G5(t)&&t.on("GetContent",E=>{E.save&&(E.content=Lb.encode(E.content))}),H3(t)&&t.on("submit",()=>{t.initialized&&t.save()}),M5(t)&&(t._beforeUnload=()=>{t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),mte(t,t.suffix)},yte=(t,r)=>({sections:Fe(t),options:Fe(r)}),Vj=Ls().deviceType,L7=Vj.isPhone(),H7=Vj.isTablet(),hw=t=>{if(ae(t))return[];{const r=K(t)?t:t.split(/[ ,]/),a=Ve(r,Qo);return xe(a,Tr)}},Uj=(t,r)=>{const a=la(r,(u,h)=>He(t,h));return yte(a.t,a.f)},wte=(t,r,a={})=>{const u=t.sections(),h=Jo(u,r).getOr({});return nn.extend({},a,h)},j7=(t,r)=>To(t.sections(),r),Cte=(t,r)=>j7(t,r)?t.sections()[r]:{},Wj=(t,r)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Jo(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...r?{menubar:!1}:{}}),qj=(t,r)=>{var a;const u=(a=r.external_plugins)!==null&&a!==void 0?a:{};return t&&t.external_plugins?nn.extend({},t.external_plugins,u):u},Ste=(t,r)=>[...hw(t),...hw(r)],xte=(t,r,a,u)=>t&&j7(r,"mobile")?u:a,z7=(t,r,a,u)=>{const h=hw(a.forced_plugins),b=hw(u.plugins),E=Cte(r,"mobile"),R=E.plugins?hw(E.plugins):b,H=xte(t,r,b,R),Y=Ste(h,H);return nn.extend(u,{forced_plugins:h,plugins:Y})},tO=(t,r)=>t&&j7(r,"mobile"),nO=(t,r,a,u,h)=>{var b;const E=t?{mobile:Wj((b=h.mobile)!==null&&b!==void 0?b:{},r)}:{},R=Uj(["mobile"],mT(E,h)),H=nn.extend(a,u,R.options(),tO(t,R)?wte(R,"mobile"):{},{external_plugins:qj(u,R.options())});return z7(t,R,u,H)},_m=(t,r)=>nO(L7||H7,L7,r,t,r),oO=(t,r)=>A6(t,r),pw=t=>{const r=(u,h)=>{t.formatter.toggle(u,h),t.nodeChanged()},a=u=>()=>{Oe("left,center,right,justify".split(","),h=>{u!==h&&t.formatter.remove("align"+h)}),u!=="none"&&r("align"+u)};t.editorCommands.addCommands({JustifyLeft:a("left"),JustifyCenter:a("center"),JustifyRight:a("right"),JustifyFull:a("justify"),JustifyNone:a("none")})},Zj=t=>{const r=a=>()=>{const u=t.selection,h=u.isCollapsed()?[t.dom.getParent(u.getNode(),t.dom.isBlock)]:u.getSelectedBlocks();return Re(h,b=>Q(t.formatter.matchNode(b,a)))};t.editorCommands.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify")},"state")},Ete=t=>{pw(t),Zj(t)},kte=t=>{t.editorCommands.addCommands({"Cut,Copy,Paste":r=>{const a=t.getDoc();let u;try{a.execCommand(r)}catch{u=!0}if(r==="paste"&&!a.queryCommandEnabled(r)&&(u=!0),u||!a.queryCommandSupported(r)){let h=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Hn.os.isMacOS()||Hn.os.isiOS())&&(h=h.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:h,type:"error"})}}})},Gj=(t,r,a)=>{const u=mt.fromDom(t.getRoot());return Cx(u,Yt.fromRangeStart(r))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),eA(u,Yt.fromRangeEnd(r))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Ate=t=>{if(typeof t!="string"){const r=nn.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:r}}return{content:t,details:{}}},V7=(t,r)=>{const a=t.selection,u=t.dom;return/^ | $/.test(r)?Gj(u,a.getRng(),r):r},Hb=(t,r)=>{const{content:a,details:u}=Ate(r);i6(t,{...u,content:V7(t,a),format:"html",set:!1,selection:!0}).each(h=>{const b=$K(t,h.content,u);xb(t,b,h),t.addVisual()})},vv=t=>{t.editorCommands.addCommands({mceCleanup:()=>{const r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},insertImage:(r,a,u)=>{Hb(t,t.dom.createHTML("img",{src:u}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(r,a,u)=>{Hb(t,t.dom.encode(u))},insertHTML:(r,a,u)=>{Hb(t,u)},mceInsertContent:(r,a,u)=>{Hb(t,u)},mceSetContent:(r,a,u)=>{t.setContent(u)},mceReplaceContent:(r,a,u)=>{t.execCommand("mceInsertContent",!1,u.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent("")}})},jb={"font-size":"size","font-family":"face"},Kj=zc("font"),Tte=(t,r,a)=>{const u=b=>Lo(b,t).orThunk(()=>Kj(b)?Jo(jb,t).bind(E=>pl(b,E)):q.none()),h=b=>ps(mt.fromDom(r),b);return gb(mt.fromDom(a),b=>u(b),h)},Ote=t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),_te=(t,r)=>q.from(_s.DOM.getStyle(r,t,!0)),Yj=t=>(r,a)=>q.from(a).map(mt.fromDom).filter(Fr).bind(u=>Tte(t,r,u.dom).or(_te(t,u.dom))).getOr(""),$te=Yj("font-size"),Dte=qe(Ote,Yj("font-family")),Xj=t=>yi(t.getBody()).bind(r=>{const a=r.container();return q.from(bn(a)?a.parentNode:a)}),Bte=t=>q.from(t.selection.getRng()).bind(r=>{const a=t.getBody();return r.startContainer===a&&r.startOffset===0?q.none():q.from(t.selection.getStart(!0))}),Nte=(t,r)=>Bte(t).orThunk(re(Xj,t)).map(mt.fromDom).filter(Fr).bind(r),U7=(t,r)=>Nte(t,U(q.some,r)),Pte=(t,r)=>{if(/^[0-9.]+$/.test(r)){const a=parseInt(r,10);if(a>=1&&a<=7){const u=q5(t),h=Z5(t);return h.length>0?h[a-1]||r:u[a-1]||r}else return r}else return r},Fte=t=>{const r=t.split(/\s*,\s*/);return Ve(r,a=>a.indexOf(" ")!==-1&&!($o(a,'"')||$o(a,"'"))?`'${a}'`:a).join(",")},W7=(t,r)=>{const a=Pte(t,r);t.formatter.toggle("fontname",{value:Fte(a)}),t.nodeChanged()},Rte=t=>U7(t,r=>Dte(t.getBody(),r.dom)).getOr(""),Mte=(t,r)=>{t.formatter.toggle("fontsize",{value:Pte(t,r)}),t.nodeChanged()},Jj=t=>U7(t,r=>$te(t.getBody(),r.dom)).getOr(""),Ite=t=>U7(t,r=>{const a=mt.fromDom(t.getBody()),u=gb(r,b=>Lo(b,"line-height"),re(ps,a)),h=()=>{const b=parseFloat(At(r,"line-height")),E=parseFloat(At(r,"font-size"));return String(b/E)};return u.getOrThunk(h)}).getOr(""),Qj=(t,r)=>{t.formatter.toggle("lineheight",{value:String(r)}),t.nodeChanged()},Lte=t=>{const r=(a,u)=>{t.formatter.toggle(a,u),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>{r(a)},"ForeColor,HiliteColor":(a,u,h)=>{r(a,{value:h})},BackColor:(a,u,h)=>{r("hilitecolor",{value:h})},FontName:(a,u,h)=>{W7(t,h)},FontSize:(a,u,h)=>{Mte(t,h)},LineHeight:(a,u,h)=>{Qj(t,h)},Lang:(a,u,h)=>{var b;r(a,{value:h.code,customValue:(b=h.customCode)!==null&&b!==void 0?b:null})},RemoveFormat:a=>{t.formatter.remove(a)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(a,u,h)=>{r(P(h)?h:"p")},mceToggleFormat:(a,u,h)=>{r(h)}})},q7=t=>{const r=a=>t.formatter.match(a);t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":a=>r(a),mceBlockQuote:()=>r("blockquote")},"state"),t.editorCommands.addQueryValueHandler("FontName",()=>Rte(t)),t.editorCommands.addQueryValueHandler("FontSize",()=>Jj(t)),t.editorCommands.addQueryValueHandler("LineHeight",()=>Ite(t))},Hte=t=>{Lte(t),q7(t)},jte=t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})},zte=t=>{t.editorCommands.addCommands({Indent:()=>{EX(t)},Outdent:()=>{v8(t)}}),t.editorCommands.addCommands({Outdent:()=>iT(t)},"state")},Vte=t=>{const r=(a,u,h)=>{const b=P(h)?{href:h}:h,E=t.dom.getParent(t.selection.getNode(),"a");I(b)&&P(b.href)&&(b.href=b.href.replace(/ /g,"%20"),(!E||!b.href)&&t.formatter.remove("link"),b.href&&t.formatter.apply("link",b,E))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isCollapsed()){const a=t.dom.getParent(t.selection.getStart(),"a");a&&t.dom.remove(a,!0);return}t.formatter.remove("link")},mceInsertLink:r,createLink:r})},ez=t=>{t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{t.getDoc().execCommand(r);const a=t.dom.getParent(t.selection.getNode(),"ol,ul");if(a){const u=a.parentNode;if(u&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(u.nodeName)){const h=t.selection.getBookmark();t.dom.split(u,a),t.selection.moveToBookmark(h)}}}})},Z7=t=>{t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{const a=t.dom.getParent(t.selection.getNode(),"ul,ol");return a&&(r==="insertunorderedlist"&&a.tagName==="UL"||r==="insertorderedlist"&&a.tagName==="OL")}},"state")},tz=t=>{ez(t),Z7(t)},G7=t=>{t.editorCommands.addCommands({insertParagraph:()=>{BT(o7,t)},mceInsertNewLine:(r,a,u)=>{CH(t,u)},InsertLineBreak:(r,a,u)=>{BT(vH,t)}})},Ute=t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(r,a,u)=>{let h=0;t.dom.getParent(t.selection.getNode(),b=>no(b)&&h++===u?(t.selection.select(b),!1):!0,t.getBody())},mceSelectNode:(r,a,u)=>{t.selection.select(u)},selectAll:()=>{const r=t.dom.getParent(t.selection.getStart(),uu);if(r){const a=t.dom.createRng();a.selectNodeContents(r),t.selection.setRng(a)}}})},Xhe=t=>{t.editorCommands.addCommands({mceRemoveNode:(r,a,u)=>{const h=u!=null?u:t.selection.getNode();if(h!==t.getBody()){const b=t.selection.getBookmark();t.dom.remove(h,!0),t.selection.moveToBookmark(b)}},mcePrint:()=>{t.getWin().print()},mceFocus:(r,a,u)=>{W$(t,u===!0)},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})},Jhe=t=>{Ete(t),kte(t),jte(t),Ute(t),vv(t),Vte(t),zte(t),G7(t),tz(t),Hte(t),Xhe(t)};class nz{constructor(r){this.commands={state:{},exec:{},value:{}},this.editor=r}execCommand(r,a=!1,u,h){const b=this.editor,E=r.toLowerCase(),R=h==null?void 0:h.skip_focus;if(b.removed||(E!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(E)&&!R?b.focus():Rn(b)),b.dispatch("BeforeExecCommand",{command:r,ui:a,value:u}).isDefaultPrevented()))return!1;const Y=this.commands.exec[E];return G(Y)?(Y(E,a,u),b.dispatch("ExecCommand",{command:r,ui:a,value:u}),!0):!1}queryCommandState(r){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;const a=r.toLowerCase(),u=this.commands.state[a];return G(u)?u(a):!1}queryCommandValue(r){if(this.editor.quirks.isHidden()||this.editor.removed)return"";const a=r.toLowerCase(),u=this.commands.value[a];return G(u)?u(a):""}addCommands(r,a="exec"){const u=this.commands;xn(r,(h,b)=>{Oe(b.toLowerCase().split(","),E=>{u[a][E]=h})})}addCommand(r,a,u){const h=r.toLowerCase();this.commands.exec[h]=(b,E,R)=>a.call(u!=null?u:this.editor,E,R)}queryCommandSupported(r){const a=r.toLowerCase();return!!this.commands.exec[a]}addQueryStateHandler(r,a,u){this.commands.state[r.toLowerCase()]=()=>a.call(u!=null?u:this.editor)}addQueryValueHandler(r,a,u){this.commands.value[r.toLowerCase()]=()=>a.call(u!=null?u:this.editor)}}const bv="data-mce-contenteditable",Wte=(t,r,a)=>{th(t,r)&&!a?lf(t,r):a&&If(t,r)},K7=(t,r,a)=>{try{t.getDoc().execCommand(r,!1,String(a))}catch{}},rO=(t,r)=>{t.dom.contentEditable=r?"true":"false"},Qhe=t=>{Oe(_t(t,'*[contenteditable="true"]'),r=>{Os(r,bv,"true"),rO(r,!1)})},epe=t=>{Oe(_t(t,`*[${bv}="true"]`),r=>{Ia(r,bv),rO(r,!0)})},oz=t=>{q.from(t.selection.getNode()).each(r=>{r.removeAttribute("data-mce-selected")})},rz=t=>{t.selection.setRng(t.selection.getRng())},qte=(t,r)=>{const a=mt.fromDom(t.getBody());Wte(a,"mce-content-readonly",r),r?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),oz(t),t.readonly=!0,rO(a,!1),Qhe(a)):(t.readonly=!1,rO(a,!0),epe(a),K7(t,"StyleWithCSS",!1),K7(t,"enableInlineTableEditing",!1),K7(t,"enableObjectResizing",!1),V$(t)&&t.focus(),rz(t),t.nodeChanged())},zb=t=>t.readonly,sz=t=>{t.parser.addAttributeFilter("contenteditable",r=>{zb(t)&&Oe(r,a=>{a.attr(bv,a.attr("contenteditable")),a.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(bv,r=>{zb(t)&&Oe(r,a=>{a.attr("contenteditable",a.attr(bv))})}),t.serializer.addTempAttr(bv)},tpe=t=>{t.serializer?sz(t):t.on("PreInit",()=>{sz(t)})},npe=t=>t.type==="click",ope=["copy"],Zte=t=>He(ope,t.type),rpe=(t,r)=>ah(r,"a",u=>ps(u,mt.fromDom(t.getBody()))).bind(u=>pl(u,"href")),Gte=(t,r)=>{if(npe(r)&&!wo.metaKeyPressed(r)){const a=mt.fromDom(r.target);rpe(t,a).each(u=>{if(r.preventDefault(),/^#/.test(u)){const h=t.dom.select(`${u},[name="${Jn(u,"#")}"]`);h.length&&t.selection.scrollIntoView(h[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Zte(r)&&t.dispatch(r.type,r)},Vb=t=>{t.on("ShowCaret",r=>{zb(t)&&r.preventDefault()}),t.on("ObjectSelected",r=>{zb(t)&&r.preventDefault()})},Y7=nn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class gw{constructor(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ce}static isNative(r){return!!Y7[r.toLowerCase()]}fire(r,a){return this.dispatch(r,a)}dispatch(r,a){const u=r.toLowerCase(),h=qC(u,a!=null?a:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(h);const b=this.bindings[u];if(b)for(let E=0,R=b.length;E<R;E++){const H=b[E];if(!H.removed){if(H.once&&this.off(u,H.func),h.isImmediatePropagationStopped())return h;if(H.func.call(this.scope,h)===!1)return h.preventDefault(),h}}return h}on(r,a,u,h){if(a===!1&&(a=Ce),a){const b={func:a,removed:!1};h&&nn.extend(b,h);const E=r.toLowerCase().split(" ");let R=E.length;for(;R--;){const H=E[R];let Y=this.bindings[H];Y||(Y=[],this.toggleEvent(H,!0)),u?Y=[b,...Y]:Y=[...Y,b],this.bindings[H]=Y}}return this}off(r,a){if(r){const u=r.toLowerCase().split(" ");let h=u.length;for(;h--;){const b=u[h];let E=this.bindings[b];if(!b)return xn(this.bindings,(R,H)=>{this.toggleEvent(H,!1),delete this.bindings[H]}),this;if(E){if(!a)E.length=0;else{const R=se(E,H=>H.func===a);E=R.fail,this.bindings[b]=E,Oe(R.pass,H=>{H.removed=!0})}E.length||(this.toggleEvent(r,!1),delete this.bindings[b])}}}else xn(this.bindings,(u,h)=>{this.toggleEvent(h,!1)}),this.bindings={};return this}once(r,a,u){return this.on(r,a,u,{once:!0})}has(r){r=r.toLowerCase();const a=this.bindings[r];return!(!a||a.length===0)}}const mw=t=>(t._eventDispatcher||(t._eventDispatcher=new gw({scope:t,toggleEvent:(r,a)=>{gw.isNative(r)&&t.toggleNativeEvent&&t.toggleNativeEvent(r,a)}})),t._eventDispatcher),sO={fire(t,r,a){return this.dispatch(t,r,a)},dispatch(t,r,a){const u=this;if(u.removed&&t!=="remove"&&t!=="detach")return qC(t.toLowerCase(),r!=null?r:{},u);const h=mw(u).dispatch(t,r);if(a!==!1&&u.parent){let b=u.parent();for(;b&&!h.isPropagationStopped();)b.dispatch(t,h,!1),b=b.parent?b.parent():void 0}return h},on(t,r,a){return mw(this).on(t,r,a)},off(t,r){return mw(this).off(t,r)},once(t,r){return mw(this).once(t,r)},hasEventListeners(t){return mw(this).has(t)}},kE=_s.DOM;let Ub;const aO=(t,r)=>{if(r==="selectionchange")return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return t.getDoc().documentElement;const a=M3(t);return a?(t.eventRoot||(t.eventRoot=kE.select(a)[0]),t.eventRoot):t.getBody()},Kte=t=>!t.hidden&&!zb(t),az=(t,r,a)=>{Kte(t)?t.dispatch(r,a):zb(t)&&Gte(t,a)},yv=(t,r)=>{if(t.delegates||(t.delegates={}),t.delegates[r]||t.removed)return;const a=aO(t,r);if(M3(t)){if(Ub||(Ub={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Ub&&(xn(Ub,(h,b)=>{t.dom.unbind(aO(t,b))}),Ub=null)})),Ub[r])return;const u=h=>{const b=h.target,E=t.editorManager.get();let R=E.length;for(;R--;){const H=E[R].getBody();(H===b||kE.isChildOf(b,H))&&az(E[R],r,h)}};Ub[r]=u,kE.bind(a,r,u)}else{const u=h=>{az(t,r,h)};kE.bind(a,r,u),t.delegates[r]=u}},iz={...sO,bindPendingEventDelegates(){const t=this;nn.each(t._pendingNativeEvents,r=>{yv(t,r)})},toggleNativeEvent(t,r){const a=this;t==="focus"||t==="blur"||a.removed||(r?a.initialized?yv(a,t):a._pendingNativeEvents?a._pendingNativeEvents.push(t):a._pendingNativeEvents=[t]:a.initialized&&a.delegates&&(a.dom.unbind(aO(a,t),t,a.delegates[t]),delete a.delegates[t]))},unbindAllNativeEvents(){const t=this,r=t.getBody(),a=t.dom;t.delegates&&(xn(t.delegates,(u,h)=>{t.dom.unbind(aO(t,h),h,u)}),delete t.delegates),!t.inline&&r&&a&&(r.onload=null,a.unbind(t.getWin()),a.unbind(t.getDoc())),a&&(a.unbind(r),a.unbind(t.getContainer()))}},lz=t=>P(t)?{value:t.split(/[ ,]/),valid:!0}:pe(t,P)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Yte=t=>{const r=(()=>{switch(t){case"array":return K;case"boolean":return oe;case"function":return G;case"number":return ue;case"object":return I;case"string":return P;case"string[]":return lz;case"object[]":return a=>pe(a,I);case"regexp":return a=>O(a,RegExp);default:return me}})();return a=>X7(a,r,`The value must be a ${t}.`)},iO=t=>P(t.processor),cz=(t,r)=>{const a=Or(r.message)?"":`. ${r.message}`;return t+a},uz=t=>t.valid,X7=(t,r,a="")=>{const u=r(t);return oe(u)?u?{value:t,valid:!0}:{valid:!1,message:a}:u},fz=(t,r,a)=>{if(!ke(r)){const u=X7(r,a);if(uz(u))return u.value;console.error(cz(`Invalid default value passed for the "${t}" option`,u))}},Xte=(t,r)=>{const a={},u={},h=(Te,Ae,nt)=>{const st=X7(Ae,nt);return uz(st)?(u[Te]=st.value,!0):(console.warn(cz(`Invalid value passed for the ${Te} option`,st)),!1)},b=(Te,Ae)=>{const nt=iO(Ae)?Yte(Ae.processor):Ae.processor,st=fz(Te,Ae.default,nt);a[Te]={...Ae,default:st,processor:nt},Jo(u,Te).orThunk(()=>Jo(r,Te)).each(ct=>h(Te,ct,nt))},E=Te=>To(a,Te);return{register:b,isRegistered:E,get:Te=>Jo(u,Te).orThunk(()=>Jo(a,Te).map(Ae=>Ae.default)).getOrUndefined(),set:(Te,Ae)=>{if(E(Te)){const nt=a[Te];return nt.immutable?(console.error(`"${Te}" is an immutable option and cannot be updated`),!1):h(Te,Ae,nt.processor)}else return console.warn(`"${Te}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Te=>{const Ae=E(Te);return Ae&&delete u[Te],Ae},isSet:Te=>To(u,Te)}},Jte=["design","readonly"],dz=(t,r,a,u)=>{const h=a[r.get()],b=a[u];try{b.activate()}catch(E){console.error(`problem while activating editor mode ${u}:`,E);return}h.deactivate(),h.editorReadOnly!==b.editorReadOnly&&qte(t,b.editorReadOnly),r.set(u),kk(t,u)},Qte=(t,r,a,u)=>{if(u!==a.get()){if(!To(r,u))throw new Error(`Editor mode '${u}' is invalid`);t.initialized?dz(t,a,r,u):t.on("init",()=>dz(t,a,r,u))}},J7=(t,r,a)=>{if(He(Jte,r))throw new Error(`Cannot override default mode ${r}`);return{...t,[r]:{...a,deactivate:()=>{try{a.deactivate()}catch(u){console.error(`problem while deactivating editor mode ${r}:`,u)}}}}},ene=t=>{const r=ii("design"),a=ii({design:{activate:be,deactivate:be,editorReadOnly:!1},readonly:{activate:be,deactivate:be,editorReadOnly:!0}});return tpe(t),Vb(t),{isReadOnly:()=>zb(t),set:u=>Qte(t,a.get(),r,u),get:()=>r.get(),register:(u,h)=>{a.set(J7(a.get(),u,h))}}},Q7=nn.each,Ci=nn.explode,tne={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},hz=nn.makeMap("alt,ctrl,shift,meta,access"),pz=t=>t in hz,gz=t=>{const r={},a=Hn.os.isMacOS()||Hn.os.isiOS();Q7(Ci(t.toLowerCase(),"+"),b=>{pz(b)?r[b]=!0:/^[0-9]{2,}$/.test(b)?r.keyCode=parseInt(b,10):(r.charCode=b.charCodeAt(0),r.keyCode=tne[b]||b.toUpperCase().charCodeAt(0))});const u=[r.keyCode];let h;for(h in hz)r[h]?u.push(h):r[h]=!1;return r.id=u.join(","),r.access&&(r.alt=!0,a?r.ctrl=!0:r.shift=!0),r.meta&&(a?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class lO{constructor(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;const a=this;r.on("keyup keypress keydown",u=>{(a.hasModifier(u)||a.isFunctionKey(u))&&!u.isDefaultPrevented()&&(Q7(a.shortcuts,h=>{a.matchShortcut(u,h)&&(a.pendingPatterns=h.subpatterns.slice(0),u.type==="keydown"&&a.executeShortcutAction(h))}),a.matchShortcut(u,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&u.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}add(r,a,u,h){const b=this,E=b.normalizeCommandFunc(u);return Q7(Ci(nn.trim(r)),R=>{const H=b.createShortcut(R,a,E,h);b.shortcuts[H.id]=H}),!0}remove(r){const a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1}normalizeCommandFunc(r){const a=this,u=r;return typeof u=="string"?()=>{a.editor.execCommand(u,!1,null)}:nn.isArray(u)?()=>{a.editor.execCommand(u[0],u[1],u[2])}:u}createShortcut(r,a,u,h){const b=nn.map(Ci(r,">"),gz);return b[b.length-1]=nn.extend(b[b.length-1],{func:u,scope:h||this.editor}),nn.extend(b[0],{desc:this.editor.translate(a),subpatterns:b.slice(1)})}hasModifier(r){return r.altKey||r.ctrlKey||r.metaKey}isFunctionKey(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123}matchShortcut(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1}executeShortcutAction(r){return r.func?r.func.call(r.scope):null}}const nne=()=>{const t={},r={},a={},u={},h={},b={},E={},R=(Y,ge)=>(Te,Ae)=>{Y[Te.toLowerCase()]={...Ae,type:ge}},H=(Y,ge)=>u[Y.toLowerCase()]=ge;return{addButton:R(t,"button"),addGroupToolbarButton:R(t,"grouptoolbarbutton"),addToggleButton:R(t,"togglebutton"),addMenuButton:R(t,"menubutton"),addSplitButton:R(t,"splitbutton"),addMenuItem:R(r,"menuitem"),addNestedMenuItem:R(r,"nestedmenuitem"),addToggleMenuItem:R(r,"togglemenuitem"),addAutocompleter:R(a,"autocompleter"),addContextMenu:R(h,"contextmenu"),addContextToolbar:R(b,"contexttoolbar"),addContextForm:R(b,"contextform"),addSidebar:R(E,"sidebar"),addIcon:H,getAll:()=>({buttons:t,menuItems:r,icons:u,popups:a,contextMenus:h,contextToolbars:b,sidebars:E})}},one=()=>{const t=nne();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},Wb=_s.DOM,mz=nn.extend,rne=nn.each;class cO{constructor(r,a,u){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=u,this.documentBaseUrl=u.documentBaseURL,mz(this,iz);const h=this;this.id=r,this.hidden=!1;const b=_m(u.defaultOptions,a);this.options=Xte(h,b),fS(h);const E=this.options.get;E("deprecation_warnings")&&JK(a,b);const R=E("suffix");R&&(u.suffix=R),this.suffix=u.suffix;const H=E("base_url");H&&u._setBaseUrl(H),this.baseUri=u.baseURI;const Y=mS(h);Y&&(Kf.ScriptLoader._setReferrerPolicy(Y),_s.DOM.styleSheetLoader._setReferrerPolicy(Y)),Ba.languageLoad=E("language_load"),Ba.baseURL=u.baseURL,this.setDirty(!1),this.documentBaseURI=new Fh($3(h),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ah(h),this.hasVisual=yS(h),this.shortcuts=new lO(this),this.editorCommands=new nz(this),Jhe(this);const ge=E("cache_suffix");ge&&(Hn.cacheSuffix=ge.replace(/^[\?\&]+/,"")),this.ui={registry:one(),styleSheetLoader:void 0,show:be,hide:be,setEnabled:be,isEnabled:me},this.mode=ene(h),u.dispatch("SetupEditor",{editor:this});const Te=L5(h);G(Te)&&Te.call(h,h)}render(){bte(this)}focus(r){this.execCommand("mceFocus",!1,r)}hasFocus(){return gm(this)}translate(r){return yf.translate(r)}getParam(r,a,u){const h=this.options;return h.isRegistered(r)||(Q(u)?h.register(r,{processor:u,default:a}):h.register(r,{processor:me,default:a})),!h.isSet(r)&&!ke(a)?a:h.get(r)}hasPlugin(r,a){return He($p(this),r)?a?Gu.get(r)!==void 0:!0:!1}nodeChanged(r){this._nodeChangeDispatcher.nodeChanged(r)}addCommand(r,a,u){this.editorCommands.addCommand(r,a,u)}addQueryStateHandler(r,a,u){this.editorCommands.addQueryStateHandler(r,a,u)}addQueryValueHandler(r,a,u){this.editorCommands.addQueryValueHandler(r,a,u)}addShortcut(r,a,u,h){this.shortcuts.add(r,a,u,h)}execCommand(r,a,u,h){return this.editorCommands.execCommand(r,a,u,h)}queryCommandState(r){return this.editorCommands.queryCommandState(r)}queryCommandValue(r){return this.editorCommands.queryCommandValue(r)}queryCommandSupported(r){return this.editorCommands.queryCommandSupported(r)}show(){const r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(Wb.show(r.getContainer()),Wb.hide(r.id)),r.load(),r.dispatch("show"))}hide(){const r=this;r.hidden||(r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(Wb.hide(r.getContainer()),Wb.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(r,a){this.dispatch("ProgressState",{state:r,time:a})}load(r={}){const a=this,u=a.getElement();if(a.removed)return"";if(u){const h={...r,load:!0},b=a1(u)?u.value:u.innerHTML,E=a.setContent(b,h);return h.no_events||a.dispatch("LoadContent",{...h,element:u}),E}else return""}save(r={}){const a=this;let u=a.getElement();if(!u||!a.initialized||a.removed)return"";const h={...r,save:!0,element:u};let b=a.getContent(h);const E={...h,content:b};if(E.no_events||a.dispatch("SaveContent",E),E.format==="raw"&&a.dispatch("RawSaveContent",E),b=E.content,a1(u))u.value=b;else{(r.is_removing||!a.inline)&&(u.innerHTML=b);const R=Wb.getParent(a.id,"form");R&&rne(R.elements,H=>H.name===a.id?(H.value=b,!1):!0)}return E.element=h.element=u=null,E.set_dirty!==!1&&a.setDirty(!1),b}setContent(r,a){return $6(this,r,a)}getContent(r){return GK(this,r)}insertContent(r,a){a&&(r=mz({content:r},a)),this.execCommand("mceInsertContent",!1,r)}resetContent(r){r===void 0?$6(this,this.startContent,{format:"raw"}):$6(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(r){const a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.dispatch("dirty")}getContainer(){const r=this;return r.container||(r.container=r.editorContainer||Wb.get(r.id+"_parent")),r.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Wb.get(this.id)),this.targetElm}getWin(){const r=this;if(!r.contentWindow){const a=r.iframeElement;a&&(r.contentWindow=a.contentWindow)}return r.contentWindow}getDoc(){const r=this;if(!r.contentDocument){const a=r.getWin();a&&(r.contentDocument=a.document)}return r.contentDocument}getBody(){var r,a;const u=this.getDoc();return(a=(r=this.bodyElement)!==null&&r!==void 0?r:u==null?void 0:u.body)!==null&&a!==void 0?a:null}convertURL(r,a,u){const h=this,b=h.options.get,E=H5(h);return G(E)?E.call(h,r,u,!0,a):!b("convert_urls")||u==="link"||I(u)&&u.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:b("relative_urls")?h.documentBaseURI.toRelative(r):(r=h.documentBaseURI.toAbsolute(r,b("remove_script_host")),r)}addVisual(r){oO(this,r)}remove(){Eb(this)}destroy(r){Em(this,r)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const vw=_s.DOM,$m=nn.each;let Zd=!1,uO,Su=[];const fO=t=>{const r=t.type;$m(wv.get(),a=>{switch(r){case"scroll":a.dispatch("ScrollWindow",t);break;case"resize":a.dispatch("ResizeWindow",t);break}})},vz=t=>{if(t!==Zd){const r=_s.DOM;t?(r.bind(window,"resize",fO),r.bind(window,"scroll",fO)):(r.unbind(window,"resize",fO),r.unbind(window,"scroll",fO)),Zd=t}},bz=t=>{const r=Su;return Su=xe(Su,a=>t!==a),wv.activeEditor===t&&(wv.activeEditor=Su.length>0?Su[0]:null),wv.focusedEditor===t&&(wv.focusedEditor=null),r.length!==Su.length},sne=t=>{t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(bz(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)},spe=document.compatMode!=="CSS1Compat",wv={...sO,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"2.0",releaseDate:"2022-09-08",i18n:yf,activeEditor:null,focusedEditor:null,setup(){const t=this;let r="",a="",u=Fh.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"));const h=window.tinymce||window.tinyMCEPreInit;if(h)r=h.base||h.baseURL,a=h.suffix;else{const b=document.getElementsByTagName("script");for(let E=0;E<b.length;E++){const R=b[E].src||"";if(R==="")continue;const H=R.substring(R.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(R)){H.indexOf(".min")!==-1&&(a=".min"),r=R.substring(0,R.lastIndexOf("/"));break}}if(!r&&document.currentScript){const E=document.currentScript.src;E.indexOf(".min")!==-1&&(a=".min"),r=E.substring(0,E.lastIndexOf("/"))}}t.baseURL=new Fh(u).toAbsolute(r),t.documentBaseURL=u,t.baseURI=new Fh(t.baseURL),t.suffix=a,kf(t)},overrideDefaults(t){const r=t.base_url;r&&this._setBaseUrl(r);const a=t.suffix;a&&(this.suffix=a),this.defaultOptions=t;const u=t.plugin_base_urls;u!==void 0&&xn(u,(h,b)=>{Ba.PluginManager.urls[b]=h})},init(t){const r=this;let a;const u=nn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),h=(ge,Te)=>ge.inline&&Te.tagName.toLowerCase()in u,b=ge=>{let Te=ge.id;return Te||(Te=Jo(ge,"name").filter(Ae=>!vw.get(Ae)).getOrThunk(vw.uniqueId),ge.setAttribute("id",Te)),Te},E=ge=>{const Te=t[ge];if(!!Te)return Te.apply(r,[])},R=ge=>Hn.browser.isIE()||Hn.browser.isEdge()?(zA("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):spe?(zA("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):P(ge.selector)?vw.select(ge.selector):Q(ge.target)?[ge.target]:[];let H=ge=>{a=ge};const Y=()=>{let ge=0;const Te=[];let Ae;const nt=(st,Ge,ct)=>{const ht=new cO(st,Ge,r);Te.push(ht),ht.on("init",()=>{++ge===Ae.length&&H(Te)}),ht.targetElm=ht.targetElm||ct,ht.render()};vw.unbind(window,"ready",Y),E("onpageload"),Ae=Ot(R(t)),nn.each(Ae,st=>{sne(r.get(st.id))}),Ae=nn.grep(Ae,st=>!r.get(st.id)),Ae.length===0?H([]):$m(Ae,st=>{h(t,st)?zA("Could not initialize inline editor on invalid inline target element",st):nt(b(st),t,st)})};return vw.bind(window,"ready",Y),new Promise(ge=>{a?ge(a):H=Te=>{ge(Te)}})},get(t){return arguments.length===0?Su.slice(0):P(t)?qt(Su,r=>r.id===t).getOr(null):ue(t)&&Su[t]?Su[t]:null},add(t){const r=this,a=r.get(t.id);return a===t||(a===null&&Su.push(t),vz(!0),r.activeEditor=t,r.dispatch("AddEditor",{editor:t}),uO||(uO=u=>{const h=r.dispatch("BeforeUnload");if(h.returnValue)return u.preventDefault(),u.returnValue=h.returnValue,h.returnValue},window.addEventListener("beforeunload",uO))),t},createEditor(t,r){return this.add(new cO(t,r,this))},remove(t){const r=this;let a;if(!t){for(let u=Su.length-1;u>=0;u--)r.remove(Su[u]);return}if(P(t)){$m(vw.select(t),u=>{a=r.get(u.id),a&&r.remove(a)});return}return a=t,j(r.get(a.id))?null:(bz(a)&&r.dispatch("RemoveEditor",{editor:a}),Su.length===0&&window.removeEventListener("beforeunload",uO),a.remove(),vz(Su.length>0),a)},execCommand(t,r,a){var u;const h=this,b=I(a)?(u=a.id)!==null&&u!==void 0?u:a.index:a;switch(t){case"mceAddEditor":{if(!h.get(b)){const E=a.options;new cO(b,E,h).render()}return!0}case"mceRemoveEditor":{const E=h.get(b);return E&&E.remove(),!0}case"mceToggleEditor":{const E=h.get(b);return E?(E.isHidden()?E.show():E.hide(),!0):(h.execCommand("mceAddEditor",!1,a),!0)}}return h.activeEditor?h.activeEditor.execCommand(t,r,a):!1},triggerSave:()=>{$m(Su,t=>{t.save()})},addI18n:(t,r)=>{yf.add(t,r)},translate:t=>yf.translate(t),setActive(t){const r=this.activeEditor;this.activeEditor!==t&&(r&&r.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:r})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new Fh(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Fh(this.baseURL)}};wv.setup();const ipe=(()=>{const t=yh(),r=b=>({items:b,types:wt(b),getType:E=>Jo(b,E).getOrUndefined()}),a=b=>{t.set(b)},u=()=>t.get().getOrUndefined(),h=t.clear;return{FakeClipboardItem:r,write:a,read:u,clear:h}})(),yz=Math.min,bw=Math.max,dO=Math.round,wz=(t,r,a)=>{let u=r.x,h=r.y;const b=t.w,E=t.h,R=r.w,H=r.h,Y=(a||"").split("");return Y[0]==="b"&&(h+=H),Y[1]==="r"&&(u+=R),Y[0]==="c"&&(h+=dO(H/2)),Y[1]==="c"&&(u+=dO(R/2)),Y[3]==="b"&&(h-=E),Y[4]==="r"&&(u-=b),Y[3]==="c"&&(h-=dO(E/2)),Y[4]==="c"&&(u-=dO(b/2)),yw(u,h,b,E)},ane=(t,r,a,u)=>{for(let h=0;h<u.length;h++){const b=wz(t,r,u[h]);if(b.x>=a.x&&b.x+b.w<=a.w+a.x&&b.y>=a.y&&b.y+b.h<=a.h+a.y)return u[h]}return null},ine=(t,r,a)=>yw(t.x-r,t.y-a,t.w+r*2,t.h+a*2),lpe=(t,r)=>{const a=bw(t.x,r.x),u=bw(t.y,r.y),h=yz(t.x+t.w,r.x+r.w),b=yz(t.y+t.h,r.y+r.h);return h-a<0||b-u<0?null:yw(a,u,h-a,b-u)},lne=(t,r,a)=>{let u=t.x,h=t.y,b=t.x+t.w,E=t.y+t.h;const R=r.x+r.w,H=r.y+r.h,Y=bw(0,r.x-u),ge=bw(0,r.y-h),Te=bw(0,b-R),Ae=bw(0,E-H);return u+=Y,h+=ge,a&&(b+=Y,E+=ge,u-=Te,h-=Ae),b-=Te,E-=Ae,yw(u,h,b-u,E-h)},yw=(t,r,a,u)=>({x:t,y:r,w:a,h:u}),cne={inflate:ine,relativePosition:wz,findBestRelativePosition:ane,intersect:lpe,clamp:lne,create:yw,fromClientRect:t=>yw(t.left,t.top,t.width,t.height)},une=(t,r,a=1e3)=>{let u=!1,h=null;const b=Y=>(...ge)=>{u||(u=!0,h!==null&&(clearTimeout(h),h=null),Y.apply(null,ge))},E=b(t),R=b(r);return{start:(...Y)=>{!u&&h===null&&(h=setTimeout(()=>R.apply(null,Y),a))},resolve:E,reject:R}},fne=(()=>{const t={},r={};return{load:(b,E)=>{const R=`Script at URL "${E}" failed to load`,H=`Script at URL "${E}" did not call \`tinymce.Resource.add('${b}', data)\` within 1 second`;if(t[b]!==void 0)return t[b];{const Y=new Promise((ge,Te)=>{const Ae=une(ge,Te);r[b]=Ae.resolve,Kf.ScriptLoader.loadScript(E).then(()=>Ae.start(H),()=>Ae.reject(R))});return t[b]=Y,Y}},add:(b,E)=>{r[b]!==void 0&&(r[b](E),delete r[b]),t[b]=Promise.resolve(E)},unload:b=>{delete t[b]}}})(),dne=()=>(()=>{let t={},r=[];const a={getItem:u=>{const h=t[u];return h||null},setItem:(u,h)=>{r.push(u),t[u]=String(h)},key:u=>r[u],removeItem:u=>{r=r.filter(h=>h===u),delete t[u]},clear:()=>{r=[],t={}},length:0};return Object.defineProperty(a,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),a})();let AE;try{const t="__storage_test__";AE=window.localStorage,AE.setItem(t,t),AE.removeItem(t)}catch{AE=dne()}var hne=AE;const pne={geom:{Rect:cne},util:{Delay:Yn,Tools:nn,VK:wo,URI:Fh,EventDispatcher:gw,Observable:sO,I18n:yf,LocalStorage:hne,ImageUploader:VA},dom:{EventUtils:Ng,TreeWalker:jr,TextSeeker:ua,DOMUtils:_s,ScriptLoader:Kf,RangeUtils:Bo,Serializer:RM,StyleSheetLoader:Sp,ControlSelection:_k,BookmarkManager:om,Selection:_6,Event:Ng.Event},html:{Styles:m1,Entities:du,Node:Qc,Schema:Mu,DomParser:G2,Writer:IF,Serializer:ev},Env:Hn,AddOnManager:Ba,Annotator:bu,Formatter:R6,UndoManager:Zp,EditorCommands:nz,WindowManager:VM,NotificationManager:zM,EditorObservable:iz,Shortcuts:lO,Editor:cO,FocusManager:tn,EditorManager:wv,DOM:_s.DOM,ScriptLoader:Kf.ScriptLoader,PluginManager:Gu,ThemeManager:Q2,ModelManager:av,IconManager:J2,Resource:fne,FakeClipboard:ipe,trim:nn.trim,isArray:nn.isArray,is:nn.is,toArray:nn.toArray,makeMap:nn.makeMap,each:nn.each,map:nn.map,grep:nn.grep,inArray:nn.inArray,extend:nn.extend,walk:nn.walk,resolve:nn.resolve,explode:nn.explode,_addCacheSuffix:nn._addCacheSuffix},Cz=nn.extend(wv,pne),gne=t=>{try{e.exports=t}catch{}};(t=>{window.tinymce=t,window.tinyMCE=t})(Cz),gne(Cz)})()})(iet);(function(){var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const o=(m,C,$)=>{var L;return $(m,C.prototype)?!0:((L=m.constructor)===null||L===void 0?void 0:L.name)===C.name},s=m=>{const C=typeof m;return m===null?"null":C==="object"&&Array.isArray(m)?"array":C==="object"&&o(m,String,($,L)=>L.isPrototypeOf($))?"string":C},l=m=>C=>s(C)===m,c=m=>C=>typeof C===m,d=m=>C=>m===C,p=l("string"),v=l("object"),y=l("array"),S=d(null),x=c("boolean"),T=d(void 0),k=m=>m==null,A=m=>!k(m),F=c("function"),N=c("number"),D=()=>{},B=(m,C)=>(...$)=>m(C.apply(null,$)),O=(m,C)=>$=>m(C($)),P=m=>()=>m,I=m=>m,z=(m,C)=>m===C;function K(m,...C){return(...$)=>{const L=C.concat($);return m.apply(null,L)}}const j=m=>C=>!m(C),oe=m=>()=>{throw new Error(m)},ke=m=>m(),ae=P(!1),Q=P(!0);class G{constructor(C,$){this.tag=C,this.value=$}static some(C){return new G(!0,C)}static none(){return G.singletonNone}fold(C,$){return this.tag?$(this.value):C()}isSome(){return this.tag}isNone(){return!this.tag}map(C){return this.tag?G.some(C(this.value)):G.none()}bind(C){return this.tag?C(this.value):G.none()}exists(C){return this.tag&&C(this.value)}forall(C){return!this.tag||C(this.value)}filter(C){return!this.tag||C(this.value)?this:G.none()}getOr(C){return this.tag?this.value:C}or(C){return this.tag?this:C}getOrThunk(C){return this.tag?this.value:C()}orThunk(C){return this.tag?this:C()}getOrDie(C){if(this.tag)return this.value;throw new Error(C!=null?C:"Called getOrDie on None")}static from(C){return A(C)?G.some(C):G.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(C){this.tag&&C(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}G.singletonNone=new G(!1);const ue=Array.prototype.slice,pe=Array.prototype.indexOf,be=Array.prototype.push,qe=(m,C)=>pe.call(m,C),U=(m,C)=>qe(m,C)>-1,Fe=(m,C)=>{for(let $=0,L=m.length;$<L;$++){const Z=m[$];if(C(Z,$))return!0}return!1},De=(m,C)=>{const $=[];for(let L=0;L<m;L++)$.push(C(L));return $},Se=(m,C)=>{const $=m.length,L=new Array($);for(let Z=0;Z<$;Z++){const te=m[Z];L[Z]=C(te,Z)}return L},re=(m,C)=>{for(let $=0,L=m.length;$<L;$++){const Z=m[$];C(Z,$)}},le=(m,C)=>{for(let $=m.length-1;$>=0;$--){const L=m[$];C(L,$)}},fe=(m,C)=>{const $=[],L=[];for(let Z=0,te=m.length;Z<te;Z++){const Ee=m[Z];(C(Ee,Z)?$:L).push(Ee)}return{pass:$,fail:L}},ce=(m,C)=>{const $=[];for(let L=0,Z=m.length;L<Z;L++){const te=m[L];C(te,L)&&$.push(te)}return $},Be=(m,C,$)=>(le(m,(L,Z)=>{$=C($,L,Z)}),$),Ce=(m,C,$)=>(re(m,(L,Z)=>{$=C($,L,Z)}),$),me=(m,C,$)=>{for(let L=0,Z=m.length;L<Z;L++){const te=m[L];if(C(te,L))return G.some(te);if($(te,L))break}return G.none()},q=(m,C)=>me(m,C,ae),Ze=(m,C)=>{for(let $=0,L=m.length;$<L;$++){const Z=m[$];if(C(Z,$))return G.some($)}return G.none()},We=m=>{const C=[];for(let $=0,L=m.length;$<L;++$){if(!y(m[$]))throw new Error("Arr.flatten item "+$+" was not an array, input: "+m);be.apply(C,m[$])}return C},tt=(m,C)=>We(Se(m,C)),Qe=(m,C)=>{for(let $=0,L=m.length;$<L;++$){const Z=m[$];if(C(Z,$)!==!0)return!1}return!0},at=m=>{const C=ue.call(m,0);return C.reverse(),C},He=(m,C)=>{const $={};for(let L=0,Z=m.length;L<Z;L++){const te=m[L];$[String(te)]=C(te,L)}return $},Re=(m,C)=>{const $=ue.call(m,0);return $.sort(C),$},Ve=(m,C)=>C>=0&&C<m.length?G.some(m[C]):G.none(),Oe=m=>Ve(m,0),ve=m=>Ve(m,m.length-1),se=(m,C)=>{for(let $=0;$<m.length;$++){const L=C(m[$],$);if(L.isSome())return L}return G.none()},xe=Object.keys,ot=Object.hasOwnProperty,Xe=(m,C)=>{const $=xe(m);for(let L=0,Z=$.length;L<Z;L++){const te=$[L],Ee=m[te];C(Ee,te)}},jt=(m,C)=>qt(m,($,L)=>({k:L,v:C($,L)})),qt=(m,C)=>{const $={};return Xe(m,(L,Z)=>{const te=C(L,Z);$[te.k]=te.v}),$},vn=m=>(C,$)=>{m[$]=C},Kn=(m,C,$,L)=>{Xe(m,(Z,te)=>{(C(Z,te)?$:L)(Z,te)})},zn=(m,C)=>{const $={};return Kn(m,C,vn($),D),$},fn=(m,C)=>{const $=[];return Xe(m,(L,Z)=>{$.push(C(L,Z))}),$},oo=m=>fn(m,I),ft=(m,C)=>Tt(m,C)?G.from(m[C]):G.none(),Tt=(m,C)=>ot.call(m,C),sn=(m,C)=>Tt(m,C)&&m[C]!==void 0&&m[C]!==null,kn=m=>{for(const C in m)if(ot.call(m,C))return!1;return!0};typeof window<"u"||Function("return this;")();const Pn=8,$n=9,_o=11,mr=1,Ot=3,wt=m=>m.dom.nodeName.toLowerCase(),wn=m=>m.dom.nodeType,xn=m=>C=>wn(C)===m,pn=m=>wn(m)===Pn||wt(m)==="#comment",eo=xn(mr),yr=xn(Ot),As=xn($n),la=xn(_o),pr=m=>C=>eo(C)&&wt(C)===m,Sa=(m,C,$)=>{if(p($)||x($)||N($))m.setAttribute(C,$+"");else throw console.error("Invalid call to Attribute.set. Key ",C,":: Value ",$,":: Element ",m),new Error("Attribute value was not simple")},wr=(m,C,$)=>{Sa(m.dom,C,$)},Jo=(m,C)=>{const $=m.dom;Xe(C,(L,Z)=>{Sa($,Z,L)})},To=(m,C)=>{Xe(C,($,L)=>{$.fold(()=>{Vr(m,L)},Z=>{Sa(m.dom,L,Z)})})},xs=(m,C)=>{const $=m.dom.getAttribute(C);return $===null?void 0:$},ra=(m,C)=>G.from(xs(m,C)),Vr=(m,C)=>{m.dom.removeAttribute(C)},ca=m=>Ce(m.dom.attributes,(C,$)=>(C[$.name]=$.value,C),{}),Yr=(m,C)=>{const L=(C||document).createElement("div");if(L.innerHTML=m,!L.hasChildNodes()||L.childNodes.length>1){const Z="HTML does not have a single root node";throw console.error(Z,m),new Error(Z)}return Ta(L.childNodes[0])},ri=(m,C)=>{const L=(C||document).createElement(m);return Ta(L)},as=(m,C)=>{const L=(C||document).createTextNode(m);return Ta(L)},Ta=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},Le={fromHtml:Yr,fromTag:ri,fromText:as,fromDom:Ta,fromPoint:(m,C,$)=>G.from(m.dom.elementFromPoint(C,$)).map(Ta)},Pt=(m,C)=>{const $=m.dom;if($.nodeType!==mr)return!1;{const L=$;if(L.matches!==void 0)return L.matches(C);if(L.msMatchesSelector!==void 0)return L.msMatchesSelector(C);if(L.webkitMatchesSelector!==void 0)return L.webkitMatchesSelector(C);if(L.mozMatchesSelector!==void 0)return L.mozMatchesSelector(C);throw new Error("Browser lacks native selectors")}},Zt=m=>m.nodeType!==mr&&m.nodeType!==$n&&m.nodeType!==_o||m.childElementCount===0,to=(m,C)=>{const $=C===void 0?document:C.dom;return Zt($)?[]:Se($.querySelectorAll(m),Le.fromDom)},uo=(m,C)=>{const $=C===void 0?document:C.dom;return Zt($)?G.none():G.from($.querySelector(m)).map(Le.fromDom)},Xn=(m,C)=>m.dom===C.dom,vr=(m,C)=>{const $=m.dom,L=C.dom;return $===L?!1:$.contains(L)},zo=Pt,Fo=m=>Le.fromDom(m.dom.ownerDocument),ws=m=>As(m)?m:Fo(m),dn=m=>Le.fromDom(ws(m).dom.documentElement),lt=m=>Le.fromDom(ws(m).dom.defaultView),ut=m=>G.from(m.dom.parentNode).map(Le.fromDom),en=m=>G.from(m.dom.parentElement).map(Le.fromDom),En=(m,C)=>{const $=F(C)?C:ae;let L=m.dom;const Z=[];for(;L.parentNode!==null&&L.parentNode!==void 0;){const te=L.parentNode,Ee=Le.fromDom(te);if(Z.push(Ee),$(Ee)===!0)break;L=te}return Z},An=m=>G.from(m.dom.previousSibling).map(Le.fromDom),Un=m=>G.from(m.dom.nextSibling).map(Le.fromDom),_n=m=>Se(m.dom.childNodes,Le.fromDom),Jn=(m,C)=>{const $=m.dom.childNodes;return G.from($[C]).map(Le.fromDom)},go=m=>Jn(m,0),$o=(m,C)=>{ut(m).each(L=>{L.dom.insertBefore(C.dom,m.dom)})},Hr=(m,C)=>{Un(m).fold(()=>{ut(m).each(Z=>{Qo(Z,C)})},L=>{$o(L,C)})},Es=(m,C)=>{go(m).fold(()=>{Qo(m,C)},L=>{m.dom.insertBefore(C.dom,L.dom)})},Qo=(m,C)=>{m.dom.appendChild(C.dom)},fi=(m,C,$)=>{Jn(m,$).fold(()=>{Qo(m,C)},L=>{$o(L,C)})},ar=(m,C)=>{$o(m,C),Qo(C,m)},Tr=(m,C)=>{re(C,($,L)=>{const Z=L===0?m:C[L-1];Hr(Z,$)})},Or=(m,C)=>{re(C,$=>{Qo(m,$)})},Ys=m=>{m.dom.textContent="",re(_n(m),C=>{Is(C)})},Is=m=>{const C=m.dom;C.parentNode!==null&&C.parentNode.removeChild(C)},Ei=m=>{const C=_n(m);C.length>0&&Tr(m,C),Is(m)},Fa=(m,C)=>Le.fromDom(m.dom.cloneNode(C)),di=m=>Fa(m,!1),fl=m=>Fa(m,!0),Mi=(m,C)=>{const $=Le.fromTag(C),L=ca(m);return Jo($,L),$},ki=(m,C)=>{const $=Mi(m,C),L=_n(fl(m));return Or($,L),$},Cr=(m,C)=>{const $=Mi(m,C);Hr(m,$);const L=_n(m);return Or($,L),Is(m),$},Ra=["tfoot","thead","tbody","colgroup"],Vs=m=>U(Ra,m),si=(m,C)=>({rows:m,columns:C}),Oa=(m,C)=>({row:m,column:C}),Ai=(m,C,$)=>({element:m,rowspan:C,colspan:$}),ga=(m,C,$,L)=>({element:m,rowspan:C,colspan:$,isNew:L}),dl=(m,C,$,L,Z,te)=>({element:m,rowspan:C,colspan:$,row:L,column:Z,isLocked:te}),hi=(m,C,$)=>({element:m,cells:C,section:$}),hl=(m,C,$,L)=>({element:m,cells:C,section:$,isNew:L}),Sr=(m,C,$)=>({element:m,isNew:C,isLocked:$}),ma=(m,C,$,L)=>({element:m,cells:C,section:$,isNew:L}),Ue=(m,C,$,L)=>({startRow:m,startCol:C,finishRow:$,finishCol:L}),pt=(m,C,$)=>({element:m,colspan:C,column:$}),xt=(m,C)=>({element:m,columns:C}),Gt=m=>la(m)&&A(m.dom.host),gn=F(Element.prototype.attachShadow)&&F(Node.prototype.getRootNode),Do=P(gn),or=gn?m=>Le.fromDom(m.dom.getRootNode()):ws,Ts=m=>{const C=or(m);return Gt(C)?G.some(C):G.none()},xr=m=>Le.fromDom(m.dom.host),Bs=m=>{if(Do()&&A(m.target)){const C=Le.fromDom(m.target);if(eo(C)&&Cs(C)&&m.composed&&m.composedPath){const $=m.composedPath();if($)return Oe($)}}return G.from(m.target)},Cs=m=>A(m.dom.shadowRoot),Ls=m=>{const C=yr(m)?m.dom.parentNode:m.dom;if(C==null||C.ownerDocument===null)return!1;const $=C.ownerDocument;return Ts(Le.fromDom(C)).fold(()=>$.body.contains(C),O(Ls,xr))},Ma=()=>ie(Le.fromDom(document)),ie=m=>{const C=m.dom.body;if(C==null)throw new Error("Body is not available yet");return Le.fromDom(C)},Ke=(m,C,$)=>ce(En(m,$),C),Ct=(m,C)=>ce(_n(m),C),cn=(m,C)=>{let $=[];return re(_n(m),L=>{C(L)&&($=$.concat([L])),$=$.concat(cn(L,C))}),$},Fn=(m,C,$)=>Ke(m,L=>Pt(L,C),$),Hn=(m,C)=>Ct(m,$=>Pt($,C)),Ro=(m,C)=>to(C,m);var he=(m,C,$,L,Z)=>m($,L)?G.some($):F(Z)&&Z($)?G.none():C($,L,Z);const je=(m,C,$)=>{let L=m.dom;const Z=F($)?$:ae;for(;L.parentNode;){L=L.parentNode;const te=Le.fromDom(L);if(C(te))return G.some(te);if(Z(te))break}return G.none()},et=(m,C,$)=>he((Z,te)=>te(Z),je,m,C,$),Nt=(m,C)=>{const $=Z=>C(Le.fromDom(Z));return q(m.dom.childNodes,$).map(Le.fromDom)},Dn=(m,C)=>{const $=L=>{for(let Z=0;Z<L.childNodes.length;Z++){const te=Le.fromDom(L.childNodes[Z]);if(C(te))return G.some(te);const Ee=$(L.childNodes[Z]);if(Ee.isSome())return Ee}return G.none()};return $(m.dom)},mo=(m,C,$)=>je(m,L=>Pt(L,C),$),Wn=(m,C)=>Nt(m,$=>Pt($,C)),Wr=(m,C)=>uo(C,m),is=(m,C,$)=>he((Z,te)=>Pt(Z,te),mo,m,C,$),nn=(m,C,$=z)=>m.exists(L=>$(L,C)),Xs=m=>{const C=[],$=L=>{C.push(L)};for(let L=0;L<m.length;L++)m[L].each($);return C},hs=(m,C)=>m!=null?C(m):G.none(),Js=(m,C)=>m?G.some(C):G.none(),Dl=(m,C,$)=>C===""||m.length>=C.length&&m.substr($,$+C.length)===C,rr=(m,C,$=0,L)=>{const Z=m.indexOf(C,$);return Z!==-1?T(L)?!0:Z+C.length<=L:!1},Ye=(m,C)=>Dl(m,C,0),it=(m,C)=>Dl(m,C,m.length-C.length),Vt=(m=>C=>C.replace(m,""))(/^\s+|\s+$/g),ro=m=>m.length>0,ko=m=>{const C=parseFloat(m);return isNaN(C)?G.none():G.some(C)},Ss=m=>m.style!==void 0&&F(m.style.getPropertyValue),Er=(m,C,$)=>{if(!p($))throw console.error("Invalid call to CSS.set. Property ",C,":: Value ",$,":: Element ",m),new Error("CSS value must be a string: "+$);Ss(m)&&m.style.setProperty(C,$)},jc=(m,C)=>{Ss(m)&&m.style.removeProperty(C)},Fr=(m,C,$)=>{const L=m.dom;Er(L,C,$)},Xr=(m,C)=>{const $=m.dom;Xe(C,(L,Z)=>{Er($,Z,L)})},pi=(m,C)=>{const $=m.dom,Z=window.getComputedStyle($).getPropertyValue(C);return Z===""&&!Ls(m)?Xi($,C):Z},Xi=(m,C)=>Ss(m)?m.style.getPropertyValue(C):"",zc=(m,C)=>{const $=m.dom,L=Xi($,C);return G.from(L).filter(Z=>Z.length>0)},Us=(m,C)=>{const $=m.dom;jc($,C),nn(ra(m,"style").map(Vt),"")&&Vr(m,"style")},Os=(m,C)=>{const $=m.dom,L=C.dom;Ss($)&&Ss(L)&&(L.style.cssText=$.style.cssText)},Jr=(m,C,$=0)=>ra(m,C).map(L=>parseInt(L,10)).getOr($),va=(m,C)=>Jr(m,C,1),pl=m=>pr("col")(m)?Jr(m,"span",1)>1:va(m,"colspan")>1,$u=m=>va(m,"rowspan")>1,Ia=(m,C)=>parseInt(pi(m,C),10),af=P(10),Rf=P(10),Ji=(m,C)=>Mf(m,C,Q),Mf=(m,C,$)=>tt(_n(m),L=>Pt(L,C)?$(L)?[L]:[]:Mf(L,C,$)),qm=(m,C,$=ae)=>{if($(C))return G.none();if(U(m,wt(C)))return G.some(C);const L=Z=>Pt(Z,"table")||$(Z);return mo(C,m.join(","),L)},Bl=(m,C)=>qm(["td","th"],m,C),Du=m=>Ji(m,"th,td"),md=m=>Pt(m,"colgroup")?Hn(m,"col"):tt(If(m),C=>Hn(C,"col")),Ti=(m,C)=>is(m,"table",C),iu=m=>Ji(m,"tr"),If=m=>Ti(m).fold(P([]),C=>Hn(C,"colgroup")),eh=(m,C)=>Se(m,$=>{if(wt($)==="colgroup"){const L=Se(md($),Z=>{const te=Jr(Z,"span",1);return Ai(Z,1,te)});return hi($,L,"colgroup")}else{const L=Se(Du($),Z=>{const te=Jr(Z,"rowspan",1),Ee=Jr(Z,"colspan",1);return Ai(Z,te,Ee)});return hi($,L,C($))}}),lf=m=>ut(m).map(C=>{const $=wt(C);return Vs($)?$:"tbody"}).getOr("tbody"),up=m=>{const C=iu(m),L=[...If(m),...C];return eh(L,lf)},th=(m,C)=>eh(m,()=>C),Cc=m=>{let C=!1,$;return(...L)=>(C||(C=!0,$=m.apply(null,L)),$)},Zm=(m,C,$,L)=>{const Z=m.isiOS()&&/ipad/i.test($)===!0,te=m.isiOS()&&!Z,Ee=m.isiOS()||m.isAndroid(),Ie=Ee||L("(pointer:coarse)"),Je=Z||!te&&Ee&&L("(min-device-width:768px)"),gt=te||Ee&&!Je,Bt=C.isSafari()&&m.isiOS()&&/safari/i.test($)===!1,hn=!gt&&!Je&&!Bt;return{isiPad:P(Z),isiPhone:P(te),isTablet:P(Je),isPhone:P(gt),isTouch:P(Ie),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:P(Bt),isDesktop:P(hn)}},fp=(m,C)=>{for(let $=0;$<m.length;$++){const L=m[$];if(L.test(C))return L}},Lf=(m,C)=>{const $=fp(m,C);if(!$)return{major:0,minor:0};const L=Z=>Number(C.replace($,"$"+Z));return mt(L(1),L(2))},nh=(m,C)=>{const $=String(C).toLowerCase();return m.length===0?Sc():Lf(m,$)},Sc=()=>mt(0,0),mt=(m,C)=>({major:m,minor:C}),cf={nu:mt,detect:nh,unknown:Sc},xc=(m,C)=>se(C.brands,$=>{const L=$.brand.toLowerCase();return q(m,Z=>{var te;return L===((te=Z.brand)===null||te===void 0?void 0:te.toLowerCase())}).map(Z=>({current:Z.name,version:cf.nu(parseInt($.version,10),0)}))}),dp=(m,C)=>{const $=String(C).toLowerCase();return q(m,L=>L.search($))},hp=(m,C)=>dp(m,C).map($=>{const L=cf.detect($.versionRegexes,C);return{current:$.name,version:L}}),Gm=(m,C)=>dp(m,C).map($=>{const L=cf.detect($.versionRegexes,C);return{current:$.name,version:L}}),ps=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ii=m=>C=>rr(C,m),bg=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>rr(m,"edge/")&&rr(m,"chrome")&&rr(m,"safari")&&rr(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ps],search:m=>rr(m,"chrome")&&!rr(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>rr(m,"msie")||rr(m,"trident")},{name:"Opera",versionRegexes:[ps,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ii("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ii("firefox")},{name:"Safari",versionRegexes:[ps,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(rr(m,"safari")||rr(m,"mobile/"))&&rr(m,"applewebkit")}],Vc=[{name:"Windows",search:Ii("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>rr(m,"iphone")||rr(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ii("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ii("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ii("linux"),versionRegexes:[]},{name:"Solaris",search:Ii("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ii("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ii("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],pp={browsers:P(bg),oses:P(Vc)},Hf="Edge",Li="Chromium",Km="IE",oh="Opera",Ym="Firefox",Nl="Safari",rh=()=>gp({current:void 0,version:cf.unknown()}),gp=m=>{const C=m.current,$=m.version,L=Z=>()=>C===Z;return{current:C,version:$,isEdge:L(Hf),isChromium:L(Li),isIE:L(Km),isOpera:L(oh),isFirefox:L(Ym),isSafari:L(Nl)}},vd={unknown:rh,nu:gp,edge:P(Hf),chromium:P(Li),ie:P(Km),opera:P(oh),firefox:P(Ym),safari:P(Nl)},gi="Windows",sh="iOS",yg="Android",mp="Linux",jf="macOS",Xm="Solaris",vp="FreeBSD",gl="ChromeOS",Jm=()=>lu({current:void 0,version:cf.unknown()}),lu=m=>{const C=m.current,$=m.version,L=Z=>()=>C===Z;return{current:C,version:$,isWindows:L(gi),isiOS:L(sh),isAndroid:L(yg),isMacOS:L(jf),isLinux:L(mp),isSolaris:L(Xm),isFreeBSD:L(vp),isChromeOS:L(gl)}},bd={unknown:Jm,nu:lu,windows:P(gi),ios:P(sh),android:P(yg),linux:P(mp),macos:P(jf),solaris:P(Xm),freebsd:P(vp),chromeos:P(gl)},Uc={detect:(m,C,$)=>{const L=pp.browsers(),Z=pp.oses(),te=C.bind(Je=>xc(L,Je)).orThunk(()=>hp(L,m)).fold(vd.unknown,vd.nu),Ee=Gm(Z,m).fold(bd.unknown,bd.nu),Ie=Zm(Ee,te,m,$);return{browser:te,os:Ee,deviceType:Ie}}},Qm=m=>window.matchMedia(m).matches;let e1=Cc(()=>Uc.detect(navigator.userAgent,G.from(navigator.userAgentData),Qm));const wg=()=>e1(),cu=(m,C)=>{const $=(Ie,Je)=>{if(!N(Je)&&!Je.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+Je);const gt=Ie.dom;Ss(gt)&&(gt.style[m]=Je+"px")},L=Ie=>{const Je=C(Ie);if(Je<=0||Je===null){const gt=pi(Ie,m);return parseFloat(gt)||0}return Je},Z=L,te=(Ie,Je)=>Ce(Je,(gt,Bt)=>{const hn=pi(Ie,Bt),Rn=hn===void 0?0:parseInt(hn,10);return isNaN(Rn)?gt:gt+Rn},0);return{set:$,get:L,getOuter:Z,aggregate:te,max:(Ie,Je,gt)=>{const Bt=te(Ie,gt);return Je>Bt?Je-Bt:0}}},ee=(m,C)=>ko(m).getOr(C),we=(m,C,$)=>ee(pi(m,C),$),Me=(m,C,$,L)=>{const Z=we(m,`padding-${$}`,0),te=we(m,`padding-${L}`,0),Ee=we(m,`border-${$}-width`,0),Ie=we(m,`border-${L}-width`,0);return C-Z-te-Ee-Ie},vt=(m,C)=>{const $=m.dom,L=$.getBoundingClientRect().width||$.offsetWidth;return C==="border-box"?L:Me(m,L,"left","right")},At=m=>we(m,"height",m.dom.offsetHeight),In=m=>we(m,"width",m.dom.offsetWidth),Lo=m=>vt(m,"content-box"),_r=cu("width",m=>m.dom.offsetWidth),br=m=>_r.get(m),bo=m=>_r.getOuter(m),$r=Lo,ea=In,Hi=(m,C,$)=>{const L=m.cells,Z=L.slice(0,C),te=L.slice(C),Ee=Z.concat($).concat(te);return NC(m,Ee)},La=(m,C,$)=>Hi(m,C,[$]),bp=(m,C,$)=>{const L=m.cells;L[C]=$},NC=(m,C)=>ma(m.element,C,m.section,m.isNew),er=(m,C)=>{const $=m.cells,L=Se($,C);return ma(m.element,L,m.section,m.isNew)},ba=(m,C)=>m.cells[C],ts=(m,C)=>ba(m,C).element,Qi=m=>m.cells.length,Oi=m=>{const C=fe(m,$=>$.section==="colgroup");return{rows:C.fail,cols:C.pass}},t1=(m,C,$)=>{const L=Se(m.cells,$);return ma(C(m.element),L,m.section,!0)},Cg="data-snooker-locked-cols",n1=m=>ra(m,Cg).bind(C=>G.from(C.match(/\d+/g))).map(C=>He(C,Q)),ff=m=>{const C=Ce(Oi(m).rows,(L,Z)=>(re(Z.cells,(te,Ee)=>{te.isLocked&&(L[Ee]=!0)}),L),{}),$=fn(C,(L,Z)=>parseInt(Z,10));return Re($)},Sg=(m,C)=>m+","+C,PC=(m,C,$)=>G.from(m.access[Sg(C,$)]),Z4=(m,C,$)=>{const L=_a(m,Z=>$(C,Z.element));return L.length>0?G.some(L[0]):G.none()},_a=(m,C)=>{const $=tt(m.all,L=>L.cells);return ce($,C)},o1=m=>{const C={};let $=0;return re(m.cells,L=>{const Z=L.colspan;De(Z,te=>{const Ee=$+te;C[Ee]=pt(L.element,Z,Ee)}),$+=Z}),C},py=m=>{const C={},$=[],Z=Oe(m).map(Tn=>Tn.element).bind(Ti).bind(n1).getOr({});let te=0,Ee=0,Ie=0;const{pass:Je,fail:gt}=fe(m,Tn=>Tn.section==="colgroup");re(gt,Tn=>{const tn=[];re(Tn.cells,jn=>{let rn=0;for(;C[Sg(Ie,rn)]!==void 0;)rn++;const Yn=sn(Z,rn.toString()),Wo=dl(jn.element,jn.rowspan,jn.colspan,Ie,rn,Yn);for(let fr=0;fr<jn.colspan;fr++)for(let sa=0;sa<jn.rowspan;sa++){const wl=Ie+sa,Qa=rn+fr,il=Sg(wl,Qa);C[il]=Wo,Ee=Math.max(Ee,Qa+1)}tn.push(Wo)}),te++,$.push(hi(Tn.element,tn,Tn.section)),Ie++});const{columns:Bt,colgroups:hn}=ve(Je).map(Tn=>{const tn=o1(Tn);return{colgroups:[xt(Tn.element,oo(tn))],columns:tn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:si(te,Ee),access:C,all:$,columns:Bt,colgroups:hn}},lr={fromTable:m=>{const C=up(m);return py(C)},generate:py,getAt:PC,findItem:Z4,filterItems:_a,justCells:m=>tt(m.all,C=>C.cells),justColumns:m=>oo(m.columns),hasColumns:m=>xe(m.columns).length>0,getColumnAt:(m,C)=>G.from(m.columns[C])},el=(m,C=Q)=>{const $=m.grid,L=De($.columns,I),Z=De($.rows,I);return Se(L,te=>df(()=>tt(Z,gt=>lr.getAt(m,gt,te).filter(Bt=>Bt.column===te).toArray()),gt=>gt.colspan===1&&C(gt.element),()=>lr.getAt(m,0,te)))},df=(m,C,$)=>{const L=m();return q(L,C).orThunk(()=>G.from(L[0]).orThunk($)).map(Ee=>Ee.element)},zf=m=>{const C=m.grid,$=De(C.rows,I),L=De(C.columns,I);return Se($,Z=>df(()=>tt(L,Je=>lr.getAt(m,Z,Je).filter(gt=>gt.row===Z).fold(P([]),gt=>[gt])),Je=>Je.rowspan===1,()=>lr.getAt(m,Z,0)))},r1=(m,C)=>{if(C<0||C>=m.length-1)return G.none();const $=m[C].fold(()=>{const Z=at(m.slice(0,C));return se(Z,(te,Ee)=>te.map(Ie=>({value:Ie,delta:Ee+1})))},Z=>G.some({value:Z,delta:0})),L=m[C+1].fold(()=>{const Z=m.slice(C+1);return se(Z,(te,Ee)=>te.map(Ie=>({value:Ie,delta:Ee+1})))},Z=>G.some({value:Z,delta:1}));return $.bind(Z=>L.map(te=>{const Ee=te.delta+Z.delta;return Math.abs(te.value-Z.value)/Ee}))},yp=(m,C)=>$=>my($)==="rtl"?C:m,my=m=>pi(m,"direction")==="rtl"?"rtl":"ltr",wd=cu("height",m=>{const C=m.dom;return Ls(m)?C.getBoundingClientRect().height:C.offsetHeight}),Cd=m=>wd.get(m),no=m=>wd.getOuter(m),FC=At,oc=(m,C)=>({left:m,top:C,translate:(L,Z)=>oc(m+L,C+Z)}),Ec=oc,vy=m=>{const C=m.getBoundingClientRect();return Ec(C.left,C.top)},Sd=(m,C)=>m!==void 0?m:C!==void 0?C:0,Bu=m=>{const C=m.dom.ownerDocument,$=C.body,L=C.defaultView,Z=C.documentElement;if($===m.dom)return Ec($.offsetLeft,$.offsetTop);const te=Sd(L==null?void 0:L.pageYOffset,Z.scrollTop),Ee=Sd(L==null?void 0:L.pageXOffset,Z.scrollLeft),Ie=Sd(Z.clientTop,$.clientTop),Je=Sd(Z.clientLeft,$.clientLeft);return RC(m).translate(Ee-Je,te-Ie)},RC=m=>{const C=m.dom,L=C.ownerDocument.body;return L===C?Ec(L.offsetLeft,L.offsetTop):Ls(m)?vy(C):Ec(0,0)},hf=(m,C)=>({row:m,y:C}),s1=(m,C)=>({col:m,x:C}),a1=m=>Bu(m).left+bo(m),bn=m=>Bu(m).left,Yv=(m,C)=>s1(m,bn(C)),Xv=(m,C)=>s1(m,a1(C)),Nu=m=>Bu(m).top,wp=(m,C)=>hf(m,Nu(C)),Jv=(m,C)=>hf(m,Nu(C)+no(C)),$a=(m,C,$)=>{if($.length===0)return[];const L=Se($.slice(1),(te,Ee)=>te.map(Ie=>m(Ee,Ie))),Z=$[$.length-1].map(te=>C($.length-1,te));return L.concat([Z])},MC=m=>-m,uu={delta:I,positions:m=>$a(wp,Jv,m),edge:Nu},Oo=yp({delta:I,edge:bn,positions:m=>$a(Yv,Xv,m)},{delta:MC,edge:a1,positions:m=>$a(Xv,Yv,m)}),ai={delta:(m,C)=>Oo(C).delta(m,C),positions:(m,C)=>Oo(C).positions(m,C),edge:m=>Oo(m).edge(m)},Eg={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},by=(()=>{const m="[0-9]+",C="[+-]?"+m,$="[eE]"+C,L="\\.",Z=Ie=>`(?:${Ie})?`,Ee=`[+-]?(?:${["Infinity",m+L+Z(m)+Z($),L+m+Z($),m+Z($)].join("|")})`;return new RegExp(`^(${Ee})(.*)$`)})(),Qv=(m,C)=>Fe(C,$=>Fe(Eg[$],L=>m===L)),kg=(m,C)=>G.from(by.exec(m)).bind(L=>{const Z=Number(L[1]),te=L[2];return Qv(te,C)?G.some({value:Z,unit:te}):G.none()}),Wc=/(\d+(\.\d+)?)%/,i1=/(\d+(\.\d+)?)px|em/,Ag=pr("col"),Da=(m,C,$)=>{const L=en(m).getOrThunk(()=>ie(Fo(m)));return C(m)/$(L)*100},Pu=(m,C)=>{Fr(m,"width",C+"px")},l1=(m,C)=>{Fr(m,"width",C+"%")},Cp=(m,C)=>{Fr(m,"height",C+"px")},IC=m=>FC(m)+"px",Tg=(m,C,$,L)=>{const Z=Ti(m).map(te=>{const Ee=$(te);return Math.floor(C/100*Ee)}).getOr(C);return L(m,Z),Z},xd=(m,C,$,L)=>{const Z=parseFloat(m);return it(m,"%")&&wt(C)!=="table"?Tg(C,Z,$,L):Z},ah=m=>{const C=IC(m);return C?xd(C,m,Cd,Cp):Cd(m)},Sp=(m,C,$)=>{const L=$(m),Z=va(m,C);return L/Z},yy=(m,C)=>zc(m,C).orThunk(()=>ra(m,C).map($=>$+"px")),ih=m=>yy(m,"width"),jr=m=>yy(m,"height"),pf=m=>Da(m,br,$r),Pl=m=>Ag(m)?br(m):ea(m),Ed=m=>Sp(m,"rowspan",ah),qc=m=>ih(m).bind($=>kg($,["fixed","relative","empty"])),wy=(m,C,$)=>{Fr(m,"width",C+$)},ji=m=>br(m)+"px",ml=m=>Da(m,br,$r)+"%",e0=m=>ih(m).exists(C=>Wc.test(C)),ln=m=>ih(m).exists(C=>i1.test(C)),_i=m=>ih(m).isNone(),Fu=P(Wc),Za=pr("col"),xp=m=>ih(m).getOrThunk(()=>Pl(m)+"px"),lh=m=>jr(m).getOrThunk(()=>Ed(m)+"px"),gf=m=>Se(lr.justColumns(m),C=>G.from(C.element)),t0=m=>{const C=wg().browser,$=C.isChromium()||C.isFirefox();return Za(m)?$:!0},kc=(m,C,$,L,Z,te)=>m.filter(L).fold(()=>te(r1($,C)),Ee=>Z(Ee)),c1=(m,C,$,L)=>{const Z=el(m),te=lr.hasColumns(m)?gf(m):Z,Ee=[G.some(ai.edge(C))].concat(Se(ai.positions(Z,C),Je=>Je.map(gt=>gt.x))),Ie=j(pl);return Se(te,(Je,gt)=>kc(Je,gt,Ee,Ie,Bt=>{if(t0(Bt))return $(Bt);{const hn=hs(Z[gt],I);return kc(hn,gt,Ee,Ie,Rn=>L(G.some(br(Rn))),L)}},L))},Fl=m=>m.map(C=>C+"px").getOr(""),Kr=(m,C)=>c1(m,C,xp,Fl),Vf=(m,C,$)=>c1(m,C,pf,L=>L.fold(()=>$.minCellWidth(),Z=>Z/$.pixelWidth()*100)),ch=(m,C,$)=>c1(m,C,Pl,L=>L.getOrThunk($.minCellWidth)),Rl=(m,C,$,L,Z)=>{const te=zf(m),Ee=[G.some($.edge(C))].concat(Se($.positions(te,C),Ie=>Ie.map(Je=>Je.y)));return Se(te,(Ie,Je)=>kc(Ie,Je,Ee,j($u),L,Z))},uh=(m,C,$)=>Rl(m,C,$,Ed,L=>L.getOrThunk(Rf)),Ga=(m,C,$)=>Rl(m,C,$,lh,Fl),Ep=(m,C)=>()=>Ls(m)?C(m):parseFloat(zc(m,"width").getOr("0")),sc=m=>{const C=Ep(m,br),$=P(0);return{width:C,pixelWidth:C,getWidths:(Z,te)=>ch(Z,m,te),getCellDelta:$,singleColumnWidth:P([0]),minCellWidth:$,setElementWidth:D,adjustTableWidth:D,isRelative:!0,label:"none"}},u1=m=>{const C=Ep(m,Je=>parseFloat(ml(Je))),$=Ep(m,br);return{width:C,pixelWidth:$,getWidths:(Je,gt)=>Vf(Je,m,gt),getCellDelta:Je=>Je/$()*100,singleColumnWidth:(Je,gt)=>[100-Je],minCellWidth:()=>af()/$()*100,setElementWidth:l1,adjustTableWidth:Je=>{const gt=C(),Bt=Je/100*gt,hn=gt+Bt;l1(m,hn)},isRelative:!0,label:"percent"}},_t=m=>{const C=Ep(m,br);return{width:C,pixelWidth:C,getWidths:(Ee,Ie)=>ch(Ee,m,Ie),getCellDelta:I,singleColumnWidth:(Ee,Ie)=>[Math.max(af(),Ee+Ie)-Ee],minCellWidth:af,setElementWidth:Pu,adjustTableWidth:Ee=>{const Ie=C()+Ee;Pu(m,Ie)},isRelative:!1,label:"pixel"}},ac=(m,C)=>Fu().exec(C)!==null?u1(m):_t(m),Ac={getTableSize:m=>ih(m).fold(()=>sc(m),$=>ac(m,$)),pixelSize:_t,percentageSize:u1,noneSize:sc},Uf=(m,C,$,L,Z,te)=>({minRow:m,minCol:C,maxRow:$,maxCol:L,allCells:Z,selectedCells:te}),Tc=(m,C)=>{const $=m.grid.columns;let Z=m.grid.rows,te=$,Ee=0,Ie=0;const Je=[],gt=[];return Xe(m.access,Bt=>{if(Je.push(Bt),C(Bt)){gt.push(Bt);const hn=Bt.row,Rn=hn+Bt.rowspan-1,Tn=Bt.column,tn=Tn+Bt.colspan-1;hn<Z?Z=hn:Rn>Ee&&(Ee=Rn),Tn<te?te=Tn:tn>Ie&&(Ie=tn)}}),Uf(Z,te,Ee,Ie,Je,gt)},mi=(m,C,$)=>{const L=m[$].element,Z=Le.fromTag("td");Qo(Z,Le.fromTag("br")),(C?Qo:Es)(L,Z)},W=(m,C,$,L)=>{const Z=ce(m,Ie=>Ie.section!=="colgroup"),te=C.grid.columns,Ee=C.grid.rows;for(let Ie=0;Ie<Ee;Ie++){let Je=!1;for(let gt=0;gt<te;gt++)Ie<$.minRow||Ie>$.maxRow||gt<$.minCol||gt>$.maxCol||(lr.getAt(C,Ie,gt).filter(L).isNone()?mi(Z,Je,Ie):Je=!0)}},X=(m,C,$,L)=>{Xe($.columns,Ee=>{(Ee.column<C.minCol||Ee.column>C.maxCol)&&Is(Ee.element)});const Z=ce(Ji(m,"tr"),Ee=>Ee.dom.childElementCount===0);re(Z,Is),(C.minCol===C.maxCol||C.minRow===C.maxRow)&&re(Ji(m,"th,td"),Ee=>{Vr(Ee,"rowspan"),Vr(Ee,"colspan")}),Vr(m,Cg),Vr(m,"data-snooker-col-series"),Ac.getTableSize(m).adjustTableWidth(L)},_e=(m,C,$,L)=>{if(L.minCol===0&&C.grid.columns===L.maxCol+1)return 0;const Z=ch(C,m,$),te=Ce(Z,(gt,Bt)=>gt+Bt,0),Je=Ce(Z.slice(L.minCol,L.maxCol+1),(gt,Bt)=>gt+Bt,0)/te*$.pixelWidth()-$.pixelWidth();return $.getCellDelta(Je)},$e=(m,C)=>{const $=Rn=>Pt(Rn.element,C),L=fl(m),Z=up(L),te=Ac.getTableSize(m),Ee=lr.generate(Z),Ie=Tc(Ee,$),Je="th:not("+C+"),td:not("+C+")",gt=Mf(L,"th,td",Rn=>Pt(Rn,Je));re(gt,Is),W(Z,Ee,Ie,$);const Bt=lr.fromTable(m),hn=_e(m,Bt,te,Ie);return X(L,Ie,Ee,hn),L},yt="\xA0",Cn=((m,C)=>{const $=te=>{if(!m(te))throw new Error("Can only get "+C+" value of a "+C+" node");return L(te).getOr("")},L=te=>m(te)?G.from(te.dom.nodeValue):G.none();return{get:$,getOption:L,set:(te,Ee)=>{if(!m(te))throw new Error("Can only set raw "+C+" value of a "+C+" node");te.dom.nodeValue=Ee}}})(yr,"text"),Gn=m=>Cn.get(m),Zo=m=>Cn.getOption(m),ur=(m,C)=>Cn.set(m,C),ns=m=>wt(m)==="img"?1:Zo(m).fold(()=>_n(m).length,C=>C.length),us=m=>Zo(m).filter(C=>C.trim().length!==0||C.indexOf(yt)>-1).isSome(),Ns=["img","br"],Ml=m=>us(m)||U(Ns,wt(m)),Zc=m=>Dn(m,Ml),Wf=m=>Ru(m,Ml),Ru=(m,C)=>{const $=L=>{const Z=_n(L);for(let te=Z.length-1;te>=0;te--){const Ee=Z[te];if(C(Ee))return G.some(Ee);const Ie=$(Ee);if(Ie.isSome())return Ie}return G.none()};return $(m)},fh={scope:["row","col"]},kd=m=>()=>{const C=Le.fromTag("td",m.dom);return Qo(C,Le.fromTag("br",m.dom)),C},mf=m=>()=>Le.fromTag("col",m.dom),dh=m=>()=>Le.fromTag("colgroup",m.dom),vf=m=>()=>Le.fromTag("tr",m.dom),f1=(m,C,$)=>{const L=ki(m,C);return Xe($,(Z,te)=>{Z===null?Vr(L,te):wr(L,te,Z)}),L},d1=m=>m,LC=(m,C,$)=>Zc(m).map(Z=>{const te=$.join(","),Ee=Fn(Z,te,Ie=>Xn(Ie,m));return Be(Ee,(Ie,Je)=>{const gt=di(Je);return Vr(gt,"contenteditable"),Qo(Ie,gt),gt},C)}).getOr(C),HC=(m,C)=>{Xe(fh,($,L)=>ra(m,L).filter(Z=>U($,Z)).each(Z=>wr(C,L,Z)))},Uo=(m,C,$)=>{const L=(Ee,Ie)=>{Os(Ee.element,Ie),Us(Ie,"height"),Ee.colspan!==1&&Us(Ie,"width")},Z=Ee=>{const Ie=Le.fromTag(wt(Ee.element),C.dom),Je=$.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),gt=Je.length>0?LC(Ee.element,Ie,Je):Ie;return Qo(gt,Le.fromTag("br")),L(Ee,Ie),HC(Ee.element,Ie),m(Ee.element,Ie),Ie};return{col:Ee=>{const Ie=Le.fromTag(wt(Ee.element),C.dom);return L(Ee,Ie),m(Ee.element,Ie),Ie},colgroup:dh(C),row:vf(C),cell:Z,replace:f1,colGap:mf(C),gap:kd(C)}},ks=m=>({col:mf(m),colgroup:dh(m),row:vf(m),cell:kd(m),replace:d1,colGap:mf(m),gap:kd(m)}),zi=(m,C)=>{const L=(C||document).createElement("div");return L.innerHTML=m,_n(Le.fromDom(L))},ya=m=>Se(m,Le.fromDom),Og=m=>Le.fromDom(m.getBody()),tl=m=>C=>Xn(C,Og(m)),Gc=m=>{Vr(m,"data-mce-style");const C=$=>Vr($,"data-mce-style");re(Du(m),C),re(md(m),C),re(iu(m),C)},qf=m=>Le.fromDom(m.selection.getStart()),Cy=m=>m.getBoundingClientRect().width,Ad=m=>m.getBoundingClientRect().height,kp=(m,C)=>{const $=m.dom.getStyle(C,"width")||m.dom.getAttrib(C,"width");return G.from($).filter(ro)},_g=m=>/^(\d+(\.\d+)?)%$/.test(m),o0=m=>/^(\d+(\.\d+)?)px$/.test(m),G4=(m,C)=>{const $=C.column,L=C.column+C.colspan-1,Z=C.row,te=C.row+C.rowspan-1;return $<=m.finishCol&&L>=m.startCol&&Z<=m.finishRow&&te>=m.startRow},$g=(m,C)=>C.column>=m.startCol&&C.column+C.colspan-1<=m.finishCol&&C.row>=m.startRow&&C.row+C.rowspan-1<=m.finishRow,h1=(m,C)=>{let $=!0;const L=K($g,C);for(let Z=C.startRow;Z<=C.finishRow;Z++)for(let te=C.startCol;te<=C.finishCol;te++)$=$&&lr.getAt(m,Z,te).exists(L);return $?G.some(C):G.none()},r0=(m,C)=>Ue(Math.min(m.row,C.row),Math.min(m.column,C.column),Math.max(m.row+m.rowspan-1,C.row+C.rowspan-1),Math.max(m.column+m.colspan-1,C.column+C.colspan-1)),K4=(m,C,$)=>{const L=lr.findItem(m,C,Xn),Z=lr.findItem(m,$,Xn);return L.bind(te=>Z.map(Ee=>r0(te,Ee)))},s0=(m,C,$)=>K4(m,C,$).bind(L=>h1(m,L)),Sy=(m,C,$,L)=>lr.findItem(m,C,Xn).bind(Z=>{const te=$>0?Z.row+Z.rowspan-1:Z.row,Ee=L>0?Z.column+Z.colspan-1:Z.column;return lr.getAt(m,te+$,Ee+L).map(Je=>Je.element)}),Y4=(m,C,$)=>K4(m,C,$).map(L=>{const Z=lr.filterItems(m,K(G4,L));return Se(Z,te=>te.element)}),Ka=(m,C)=>{const $=(L,Z)=>vr(Z,L);return lr.findItem(m,C,$).map(L=>L.element)},s5=(m,C,$)=>Ti(m).bind(L=>{const Z=Zf(L);return Sy(Z,m,C,$)}),Ap=(m,C,$)=>{const L=Zf(m);return Y4(L,C,$)},vi=(m,C,$,L,Z)=>{const te=Zf(m),Ee=Xn(m,$)?G.some(C):Ka(te,C),Ie=Xn(m,Z)?G.some(L):Ka(te,L);return Ee.bind(Je=>Ie.bind(gt=>Y4(te,Je,gt)))},jC=(m,C,$)=>{const L=Zf(m);return s0(L,C,$)},Zf=lr.fromTable;var fu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],hh=()=>{const m=gt=>Le.fromDom(gt.dom.cloneNode(!1)),C=gt=>ws(gt).dom,$=gt=>eo(gt)?wt(gt)==="body"?!0:U(fu,wt(gt)):!1,L=gt=>eo(gt)?U(["br","img","hr","input"],wt(gt)):!1,Z=gt=>eo(gt)&&xs(gt,"contenteditable")==="false",te=(gt,Bt)=>gt.dom.compareDocumentPosition(Bt.dom),Ee=(gt,Bt)=>{const hn=ca(gt);Jo(Bt,hn)},Ie=gt=>{const Bt=wt(gt);return U(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Bt)},Je=gt=>eo(gt)?ra(gt,"lang"):G.none();return{up:P({selector:mo,closest:is,predicate:je,all:En}),down:P({selector:Ro,predicate:cn}),styles:P({get:pi,getRaw:zc,set:Fr,remove:Us}),attrs:P({get:xs,set:wr,remove:Vr,copyTo:Ee}),insert:P({before:$o,after:Hr,afterAll:Tr,append:Qo,appendAll:Or,prepend:Es,wrap:ar}),remove:P({unwrap:Ei,remove:Is}),create:P({nu:Le.fromTag,clone:m,text:Le.fromText}),query:P({comparePosition:te,prevSibling:An,nextSibling:Un}),property:P({children:_n,name:wt,parent:ut,document:C,isText:yr,isComment:pn,isElement:eo,isSpecial:Ie,getLanguage:Je,getText:Gn,setText:ur,isBoundary:$,isEmptyTag:L,isNonEditable:Z}),eq:Xn,is:zo}};const a0=(m,C,$,L)=>{const Z=$[0],te=$.slice(1);return L(m,C,Z,te)},a5=(m,C,$)=>$.length>0?a0(m,C,$,xy):G.none(),xy=(m,C,$,L)=>{const Z=C(m,$);return Be(L,(te,Ee)=>{const Ie=C(m,Ee);return i0(m,te,Ie)},Z)},i0=(m,C,$)=>C.bind(L=>$.filter(K(m.eq,L))),Ey=(m,C)=>K(m.eq,C),ky=(m,C,$,L=ae)=>{const Z=[C].concat(m.up().all(C)),te=[$].concat(m.up().all($)),Ee=Bt=>Ze(Bt,L).fold(()=>Bt,Rn=>Bt.slice(0,Rn+1)),Ie=Ee(Z),Je=Ee(te),gt=q(Ie,Bt=>Fe(Je,Ey(m,Bt)));return{firstpath:Ie,secondpath:Je,shared:gt}},Ay=a5,zC=ky,l0=hh(),ph=(m,C)=>Ay(l0,($,L)=>m(L),C),bf=(m,C,$)=>zC(l0,m,C,$),Tp=m=>mo(m,"table"),c0=(m,C,$)=>{const L=Z=>te=>$!==void 0&&$(te)||Xn(te,Z);return Xn(m,C)?G.some({boxes:G.some([m]),start:m,finish:C}):Tp(m).bind(Z=>Tp(C).bind(te=>{if(Xn(Z,te))return G.some({boxes:Ap(Z,m,C),start:m,finish:C});if(vr(Z,te)){const Ee=Fn(C,"td,th",L(Z)),Ie=Ee.length>0?Ee[Ee.length-1]:C;return G.some({boxes:vi(Z,m,Z,C,te),start:m,finish:Ie})}else if(vr(te,Z)){const Ee=Fn(m,"td,th",L(te)),Ie=Ee.length>0?Ee[Ee.length-1]:m;return G.some({boxes:vi(te,m,Z,C,te),start:m,finish:Ie})}else return bf(m,C).shared.bind(Ee=>is(Ee,"table",$).bind(Ie=>{const Je=Fn(C,"td,th",L(Ie)),gt=Je.length>0?Je[Je.length-1]:C,Bt=Fn(m,"td,th",L(Ie)),hn=Bt.length>0?Bt[Bt.length-1]:m;return G.some({boxes:vi(Ie,m,Z,C,te),start:hn,finish:gt})}))}))},u0=(m,C)=>{const $=Ro(m,C);return $.length>0?G.some($):G.none()},f0=(m,C)=>q(m,$=>Pt($,C)),Ty=(m,C,$)=>Wr(m,C).bind(L=>Wr(m,$).bind(Z=>ph(Tp,[L,Z]).map(te=>({first:L,last:Z,table:te})))),X4=(m,C)=>mo(m,"table").bind($=>Wr($,C).bind(L=>c0(L,m).bind(Z=>Z.boxes.map(te=>({boxes:te,start:Z.start,finish:Z.finish}))))),VC=(m,C,$,L,Z)=>f0(m,Z).bind(te=>s5(te,C,$).bind(Ee=>X4(Ee,L))),p1=(m,C)=>u0(m,C),gs=(m,C,$)=>Ty(m,C,$).bind(L=>{const Z=Je=>Xn(m,Je),te="thead,tfoot,tbody,table",Ee=mo(L.first,te,Z),Ie=mo(L.last,te,Z);return Ee.bind(Je=>Ie.bind(gt=>Xn(Je,gt)?jC(L.table,L.first,L.last):G.none()))}),Ho=I,du=m=>{const C=(L,Z)=>ra(L,Z).exists(te=>parseInt(te,10)>1),$=L=>C(L,"rowspan")||C(L,"colspan");return m.length>0&&Qe(m,$)?G.some(m):G.none()},g1=(m,C,$)=>C.length<=1?G.none():gs(m,$.firstSelectedSelector,$.lastSelectedSelector).map(L=>({bounds:L,cells:C})),gh="data-mce-selected",i5="td["+gh+"],th["+gh+"]",Dg="["+gh+"]",Dr="data-mce-first-selected",Oy="td["+Dr+"],th["+Dr+"]",_y="data-mce-last-selected",J4="td["+_y+"],th["+_y+"]",on=Dg,Td={selected:gh,selectedSelector:i5,firstSelected:Dr,firstSelectedSelector:Oy,lastSelected:_y,lastSelectedSelector:J4},d0=(m,C,$)=>({element:$,mergable:g1(C,m,Td),unmergable:du(m),selection:Ho(m)}),$y=(m,C,$)=>({element:m,clipboard:C,generators:$}),UC=(m,C,$,L)=>({selection:Ho(m),clipboard:$,generators:L}),Mu=m=>Ti(m).bind(C=>p1(C,Td.firstSelectedSelector)).fold(P(m),C=>C[0]),m1=m=>(C,$)=>{const L=wt(C),Z=L==="col"||L==="colgroup"?Mu(C):C;return is(Z,m,$)},Bg=m1("th,td,caption"),WC=m1("th,td"),Kc=m=>ya(m.model.table.getSelectedCells()),Ya=m=>ce(Kc(m),C=>Pt(C,Td.selectedSelector)),Gf=m=>Ti(m[0]).map(C=>{const $=$e(C,on);return Gc($),[$]}),qC=(m,C)=>Se(C,$=>m.selection.serializer.serialize($.dom,{})).join(""),mh=m=>Se(m,C=>C.dom.innerText).join(""),l5=(m,C)=>{m.on("BeforeGetContent",$=>{const L=Z=>{$.preventDefault(),Gf(Z).each(te=>{$.content=$.format==="text"?mh(te):qC(m,te)})};if($.selection===!0){const Z=Ya(m);Z.length>=1&&L(Z)}}),m.on("BeforeSetContent",$=>{if($.selection===!0&&$.paste===!0){const L=Kc(m);Oe(L).each(Z=>{Ti(Z).each(te=>{const Ee=ce(zi($.content),Je=>wt(Je)!=="meta"),Ie=pr("table");if(Ee.length===1&&Ie(Ee[0])){$.preventDefault();const Je=Le.fromDom(m.getDoc()),gt=ks(Je),Bt=$y(Z,Ee[0],gt);C.pasteCells(te,Bt).each(()=>{m.focus()})}})})}})},vh=(m,C)=>({element:m,offset:C}),Od=(m,C,$)=>m.property().isText(C)&&m.property().getText(C).trim().length===0||m.property().isComment(C)?$(C).bind(L=>Od(m,L,$).orThunk(()=>G.some(L))):G.none(),Q4=(m,C)=>m.property().isText(C)?m.property().getText(C).length:m.property().children(C).length,v1=(m,C)=>{const $=Od(m,C,m.query().prevSibling).getOr(C);if(m.property().isText($))return vh($,Q4(m,$));const L=m.property().children($);return L.length>0?v1(m,L[L.length-1]):vh($,Q4(m,$))},c5=v1,Ng=hh(),_d=m=>c5(Ng,m),u5=(m,C)=>{pl(m)||qc(m).each(L=>{const Z=L.value/2;wy(m,Z,L.unit),wy(C,Z,L.unit)})},b1=m=>Se(m,P(0)),e3=(m,C,$,L,Z)=>Z(m.slice(0,C)).concat(L).concat(Z(m.slice($))),Pg=m=>(C,$,L,Z)=>{if(m(L)){const te=Math.max(Z,C[$]-Math.abs(L)),Ee=Math.abs(te-C[$]);return L>=0?Ee:-Ee}else return L},fo=Pg(m=>m<0),y1=Pg(Q),ZC=()=>{const m=(Ie,Je,gt,Bt,hn)=>{const Rn=fo(Ie,Je,Bt,hn);return e3(Ie,Je,gt+1,[Rn,0],b1)},C=(Ie,Je,gt,Bt)=>{const hn=(100+gt)/100,Rn=Math.max(Bt,(Ie[Je]+gt)/hn);return Se(Ie,(Tn,tn)=>(tn===Je?Rn:Tn/hn)-Tn)},$=(Ie,Je,gt,Bt,hn,Rn)=>Rn?C(Ie,Je,Bt,hn):m(Ie,Je,gt,Bt,hn);return{resizeTable:(Ie,Je)=>Ie(Je),clampTableDelta:fo,calcLeftEdgeDeltas:$,calcMiddleDeltas:(Ie,Je,gt,Bt,hn,Rn,Tn)=>$(Ie,gt,Bt,hn,Rn,Tn),calcRightEdgeDeltas:(Ie,Je,gt,Bt,hn,Rn)=>{if(Rn)return C(Ie,gt,Bt,hn);{const Tn=fo(Ie,gt,Bt,hn);return b1(Ie.slice(0,gt)).concat([Tn])}},calcRedestributedWidths:(Ie,Je,gt,Bt)=>{if(Bt){const Rn=(Je+gt)/Je,Tn=Se(Ie,tn=>tn/Rn);return{delta:Rn*100-100,newSizes:Tn}}else return{delta:gt,newSizes:Ie}}}},GC=()=>{const m=(Ee,Ie,Je,gt,Bt)=>{const hn=gt>=0?Je:Ie,Rn=y1(Ee,hn,gt,Bt);return e3(Ee,Ie,Je+1,[Rn,-Rn],b1)};return{resizeTable:(Ee,Ie,Je)=>{Je&&Ee(Ie)},clampTableDelta:(Ee,Ie,Je,gt,Bt)=>{if(Bt){if(Je>=0)return Je;{const hn=Ce(Ee,(Rn,Tn)=>Rn+Tn-gt,0);return Math.max(-hn,Je)}}else return fo(Ee,Ie,Je,gt)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(Ee,Ie,Je,gt,Bt,hn)=>m(Ee,Je,gt,Bt,hn),calcRightEdgeDeltas:(Ee,Ie,Je,gt,Bt,hn)=>{if(hn)return b1(Ee);{const Rn=gt/Ee.length;return Se(Ee,P(Rn))}},calcRedestributedWidths:(Ee,Ie,Je,gt)=>({delta:0,newSizes:Ee})}},h0=m=>lr.fromTable(m).grid,Dy=pr("th"),_s=m=>Qe(m,C=>Dy(C.element)),p0=(m,C)=>m&&C?"sectionCells":m?"section":"cells",Fg=m=>{const C=m.section==="thead",$=nn(KC(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:C||$?{type:"header",subType:p0(C,$)}:{type:"body"}},KC=m=>{const C=ce(m,$=>Dy($.element));return C.length===0?G.some("td"):C.length===m.length?G.some("th"):G.none()},Rg=m=>{const C=Se(m,Z=>Fg(Z).type),$=U(C,"header"),L=U(C,"footer");if(!$&&!L)return G.some("body");{const Z=U(C,"body");return $&&!Z&&!L?G.some("header"):!$&&!Z&&L?G.some("footer"):G.none()}},t3=m=>se(m.all,C=>{const $=Fg(C);return $.type==="header"?G.from($.subType):G.none()}),Kf=(m,C,$)=>Sr($(m.element,C),!0,m.isLocked),ii=(m,C)=>m.section!==C?ma(m.element,m.cells,C,m.isNew):m,By=()=>({transformRow:ii,transformCell:(m,C,$)=>{const L=$(m.element,C),Z=wt(L)!=="td"?Cr(L,"td"):L;return Sr(Z,m.isNew,m.isLocked)}}),n3=()=>({transformRow:ii,transformCell:Kf}),bh=()=>({transformRow:(m,C)=>ii(m,C==="thead"?"tbody":C),transformCell:Kf}),g0={getTableSectionType:(m,C)=>{const $=lr.fromTable(m);switch(t3($).getOr(C)){case"section":return By();case"sectionCells":return n3();case"cells":return bh()}},section:By,sectionCells:n3,cells:bh,fallback:()=>({transformRow:I,transformCell:Kf})},Ny=m=>is(m,"[contenteditable]"),Yf=(m,C=!1)=>Ls(m)?m.dom.isContentEditable:Ny(m).fold(P(C),$=>hu($)==="true"),hu=m=>m.dom.contentEditable,Py=(m,C,$,L)=>{$===L?Vr(m,C):wr(m,C,$)},d5=(m,C,$)=>{ve(Hn(m,C)).fold(()=>Es(m,$),L=>Hr(L,$))},vF=(m,C)=>{const $=Wn(m,C).getOrThunk(()=>{const L=Le.fromTag(C,Fo(m).dom);return C==="thead"?d5(m,"caption,colgroup",L):C==="colgroup"?d5(m,"caption",L):Qo(m,L),L});return Ys($),$},yf=(m,C)=>{const $=[],L=[],Z=Tn=>Se(Tn,tn=>{tn.isNew&&$.push(tn.element);const jn=tn.element;return Ys(jn),re(tn.cells,rn=>{rn.isNew&&L.push(rn.element),Py(rn.element,"colspan",rn.colspan,1),Py(rn.element,"rowspan",rn.rowspan,1),Qo(jn,rn.element)}),jn}),te=Tn=>tt(Tn,tn=>Se(tn.cells,jn=>(Py(jn.element,"span",jn.colspan,1),jn.element))),Ee=(Tn,tn)=>{const jn=vF(m,tn),Yn=(tn==="colgroup"?te:Z)(Tn);Or(jn,Yn)},Ie=Tn=>{Wn(m,Tn).each(Is)},Je=(Tn,tn)=>{Tn.length>0?Ee(Tn,tn):Ie(tn)},gt=[],Bt=[],hn=[],Rn=[];return re(C,Tn=>{switch(Tn.section){case"thead":gt.push(Tn);break;case"tbody":Bt.push(Tn);break;case"tfoot":hn.push(Tn);break;case"colgroup":Rn.push(Tn);break}}),Je(Rn,"colgroup"),Je(gt,"thead"),Je(Bt,"tbody"),Je(hn,"tfoot"),{newRows:$,newCells:L}},Ba=m=>Se(m,C=>{const $=di(C.element);return re(C.cells,L=>{const Z=fl(L.element);Py(Z,"colspan",L.colspan,1),Py(Z,"rowspan",L.rowspan,1),Qo($,Z)}),$}),h5=(m,C)=>Se(m,$=>ba($,C)),p5=(m,C)=>m[C],yh=(m,C)=>{if(m.length===0)return 0;const $=m[0];return Ze(m,Z=>!C($.element,Z.element)).getOr(m.length)},Fy=(m,C,$,L)=>{const Z=p5(m,C),te=Z.section==="colgroup",Ee=yh(Z.cells.slice($),L),Ie=te?1:yh(h5(m.slice(C),$),L);return{colspan:Ee,rowspan:Ie}},XC=(m,C)=>{const $=Se(m,Z=>Se(Z.cells,ae)),L=(Z,te,Ee,Ie)=>{for(let Je=Z;Je<Z+Ee;Je++)for(let gt=te;gt<te+Ie;gt++)$[Je][gt]=!0};return Se(m,(Z,te)=>{const Ee=tt(Z.cells,(Ie,Je)=>{if($[te][Je]===!1){const gt=Fy(m,te,Je,C);return L(te,Je,gt.rowspan,gt.colspan),[ga(Ie.element,gt.rowspan,gt.colspan,Ie.isNew)]}else return[]});return hl(Z.element,Ee,Z.section,Z.isNew)})},wh=(m,C,$)=>{const L=[];re(m.colgroups,Z=>{const te=[];for(let Ee=0;Ee<m.grid.columns;Ee++){const Ie=lr.getColumnAt(m,Ee).map(Je=>Sr(Je.element,$,!1)).getOrThunk(()=>Sr(C.colGap(),!0,!1));te.push(Ie)}L.push(ma(Z.element,te,"colgroup",$))});for(let Z=0;Z<m.grid.rows;Z++){const te=[];for(let Je=0;Je<m.grid.columns;Je++){const gt=lr.getAt(m,Z,Je).map(Bt=>Sr(Bt.element,$,Bt.isLocked)).getOrThunk(()=>Sr(C.gap(),!0,!1));te.push(gt)}const Ee=m.all[Z],Ie=ma(Ee.element,te,Ee.section,$);L.push(Ie)}return L},Ch=(m,C)=>wh(m,C,!1),Sh=m=>XC(m,Xn),Mg=(m,C)=>se(m.all,$=>q($.cells,L=>Xn(C,L.element))),Ig=(m,C,$)=>{const L=Se(C.selection,te=>Bl(te).bind(Ee=>Mg(m,Ee)).filter($)),Z=Xs(L);return Js(Z.length>0,Z)},bi=(m,C,$,L,Z)=>(te,Ee,Ie,Je)=>{const gt=lr.fromTable(te),Bt=G.from(Je==null?void 0:Je.section).getOrThunk(g0.fallback);return C(gt,Ee).map(Rn=>{const Tn=Ch(gt,Ie),tn=m(Tn,Rn,Xn,Z(Ie),Bt),jn=ff(tn.grid),rn=Sh(tn.grid);return{info:Rn,grid:rn,cursor:tn.cursor,lockedColumns:jn}}).bind(Rn=>{const Tn=yf(te,Rn.grid),tn=G.from(Je==null?void 0:Je.sizing).getOrThunk(()=>Ac.getTableSize(te)),jn=G.from(Je==null?void 0:Je.resize).getOrThunk(GC);return $(te,Rn.grid,Rn.info,{sizing:tn,resize:jn,section:Bt}),L(te),Vr(te,Cg),Rn.lockedColumns.length>0&&wr(te,Cg,Rn.lockedColumns.join(",")),G.some({cursor:Rn.cursor,newRows:Tn.newRows,newCells:Tn.newCells})})},o3=(m,C)=>Bl(C.element).bind($=>Mg(m,$).map(L=>({...L,generators:C.generators,clipboard:C.clipboard}))),Ry=(m,C)=>Ig(m,C,Q).map($=>({cells:$,generators:C.generators,clipboard:C.clipboard})),g5=(m,C)=>C.mergable,r3=(m,C)=>C.unmergable,Oc=(m,C)=>Ig(m,C,Q),$d=(m,C)=>Ig(m,C,$=>!$.isLocked),m5=(m,C)=>Mg(m,C).exists($=>!$.isLocked),s3=(m,C)=>Qe(C,$=>m5(m,$)),v5=(m,C)=>g5(m,C).filter($=>s3(m,$.cells)),a3=(m,C)=>r3(m,C).filter($=>s3(m,$)),My=(m,C,$,L)=>{const Z=Oi(m).rows;if(Z.length===0)return m;for(let te=C.startRow;te<=C.finishRow;te++)for(let Ee=C.startCol;Ee<=C.finishCol;Ee++){const Ie=Z[te],Je=ba(Ie,Ee).isLocked;bp(Ie,Ee,Sr(L(),!1,Je))}return m},i3=(m,C,$,L)=>{const Z=Oi(m).rows;let te=!0;for(let Ee=0;Ee<Z.length;Ee++)for(let Ie=0;Ie<Qi(Z[0]);Ie++){const Je=Z[Ee],gt=ba(Je,Ie),Bt=gt.element,hn=$(Bt,C);hn&&!te?bp(Je,Ie,Sr(L(),!0,gt.isLocked)):hn&&(te=!1)}return m},b5=(m,C)=>Ce(m,($,L)=>Fe($,Z=>C(Z.element,L.element))?$:$.concat([L]),[]),w1=(m,C,$,L)=>(C>0&&C<m[0].cells.length&&re(m,Z=>{const te=Z.cells[C-1];let Ee=0;const Ie=L();for(;Z.cells.length>C+Ee&&$(te.element,Z.cells[C+Ee].element);)bp(Z,C+Ee,Sr(Ie,!0,Z.cells[C+Ee].isLocked)),Ee++}),m),Lg=(m,C,$,L)=>{const Z=Oi(m).rows;if(C>0&&C<Z.length){const te=Z[C-1].cells,Ee=b5(te,$);re(Ee,Ie=>{let Je=G.none();for(let gt=C;gt<Z.length;gt++)for(let Bt=0;Bt<Qi(Z[0]);Bt++){const hn=Z[gt],Rn=ba(hn,Bt);$(Rn.element,Ie.element)&&(Je.isNone()&&(Je=G.some(L())),Je.each(tn=>{bp(hn,Bt,Sr(tn,!0,Rn.isLocked))}))}})}return m},JC=m=>{const C=te=>te(m),$=P(m),L=()=>Z,Z={tag:!0,inner:m,fold:(te,Ee)=>Ee(m),isValue:Q,isError:ae,map:te=>m0.value(te(m)),mapError:L,bind:C,exists:C,forall:C,getOr:$,or:L,getOrThunk:$,orThunk:L,getOrDie:$,each:te=>{te(m)},toOptional:()=>G.some(m)};return Z},l3=m=>{const C=()=>$,$={tag:!1,inner:m,fold:(L,Z)=>L(m),isValue:ae,isError:Q,map:C,mapError:L=>m0.error(L(m)),bind:C,exists:ae,forall:Q,getOr:I,or:I,getOrThunk:ke,orThunk:ke,getOrDie:oe(String(m)),each:D,toOptional:G.none};return $},m0={value:JC,error:l3,fromOption:(m,C)=>m.fold(()=>l3(C),JC)},ua=(m,C,$)=>{if(m.row>=C.length||m.column>Qi(C[0]))return m0.error("invalid start address out of table bounds, row: "+m.row+", column: "+m.column);const L=C.slice(m.row),Z=L[0].cells.slice(m.column),te=Qi($[0]),Ee=$.length;return m0.value({rowDelta:L.length-Ee,colDelta:Z.length-te})},vl=(m,C)=>{const $=Qi(m[0]),L=Qi(C[0]);return{rowDelta:0,colDelta:$-L}},pu=(m,C)=>{const $=m.length,L=C.length;return{rowDelta:$-L,colDelta:0}},gu=(m,C,$,L)=>{const Z=C.section==="colgroup"?$.col:$.cell;return De(m,te=>Sr(Z(),!0,L(te)))},y5=(m,C,$,L)=>{const Z=m[m.length-1];return m.concat(De(C,()=>{const te=Z.section==="colgroup"?$.colgroup:$.row,Ee=t1(Z,te,I),Ie=gu(Ee.cells.length,Ee,$,Je=>Tt(L,Je.toString()));return NC(Ee,Ie)}))},c3=(m,C,$,L)=>Se(m,Z=>{const te=gu(C,Z,$,ae);return Hi(Z,L,te)}),v0=(m,C,$)=>Se(m,L=>Ce($,(Z,te)=>{const Ee=gu(1,L,C,Q)[0];return La(Z,te,Ee)},L)),Zl=(m,C,$)=>{const L=C.colDelta<0?c3:I,Z=C.rowDelta<0?y5:I,te=ff(m),Ee=Qi(m[0]),Ie=Fe(te,Bt=>Bt===Ee-1),Je=L(m,Math.abs(C.colDelta),$,Ie?Ee-1:Ee),gt=ff(Je);return Z(Je,Math.abs(C.rowDelta),$,He(gt,Q))},Hg=(m,C,$,L)=>{const Z=ba(m[C],$),te=K(L,Z.element),Ee=m[C];return m.length>1&&Qi(Ee)>1&&($>0&&te(ts(Ee,$-1))||$<Ee.cells.length-1&&te(ts(Ee,$+1))||C>0&&te(ts(m[C-1],$))||C<m.length-1&&te(ts(m[C+1],$)))},w5=(m,C,$,L,Z,te)=>{const Ee=m.row,Ie=m.column,Je=$.length,gt=Qi($[0]),Bt=Ee+Je,hn=Ie+gt+te.length,Rn=He(te,Q);for(let Tn=Ee;Tn<Bt;Tn++){let tn=0;for(let jn=Ie;jn<hn;jn++){if(Rn[jn]){tn++;continue}Hg(C,Tn,jn,Z)&&i3(C,ts(C[Tn],jn),Z,L.cell);const rn=jn-Ie-tn,Yn=ba($[Tn-Ee],rn),Wo=Yn.element,fr=L.replace(Wo);bp(C[Tn],jn,Sr(fr,!0,Yn.isLocked))}}return C},QC=(m,C,$)=>{const L=Qi(C[0]),Z=Oi(C).cols.length+m.row,te=De(L-m.column,Ie=>Ie+m.column),Ee=q(te,Ie=>Qe($,Je=>Je!==Ie)).getOr(L-1);return{row:Z,column:Ee}},eS=(m,C,$)=>ce($,L=>L>=m.column&&L<=Qi(C[0])+m.column),u3=(m,C,$,L,Z)=>{const te=ff(C),Ee=QC(m,C,te),Ie=Oi($).rows,Je=eS(Ee,Ie,te);return ua(Ee,C,Ie).map(Bt=>{const hn={...Bt,colDelta:Bt.colDelta-Je.length},Rn=Zl(C,hn,L),Tn=ff(Rn),tn=eS(Ee,Ie,Tn);return w5(Ee,Rn,Ie,L,Z,tn)})},b0=(m,C,$,L,Z)=>{w1(C,m,Z,L.cell);const te=pu($,C),Ee=Zl($,te,L),Ie=pu(C,Ee),Je=Zl(C,Ie,L);return Se(Je,(gt,Bt)=>Hi(gt,m,Ee[Bt].cells))},xh=(m,C,$,L,Z)=>{Lg(C,m,Z,L.cell);const te=ff(C),Ee=vl(C,$),Ie={...Ee,colDelta:Ee.colDelta-te.length},Je=Zl(C,Ie,L),{cols:gt,rows:Bt}=Oi(Je),hn=ff(Je),Rn=vl($,C),Tn={...Rn,colDelta:Rn.colDelta+hn.length},tn=v0($,L,hn),jn=Zl(tn,Tn,L);return[...gt,...Bt.slice(0,m),...jn,...Bt.slice(m,Bt.length)]},f3=(m,C,$,L)=>t1(m,Z=>L(Z,$),C),d3=(m,C,$,L,Z)=>{const{rows:te,cols:Ee}=Oi(m),Ie=te.slice(0,C),Je=te.slice(C),gt=f3(te[$],(Bt,hn)=>C>0&&C<te.length&&L(ts(te[C-1],hn),ts(te[C],hn))?ba(te[C],hn):Sr(Z(Bt.element,L),!0,Bt.isLocked),L,Z);return[...Ee,...Ie,gt,...Je]},h3=(m,C,$,L,Z,te,Ee)=>{if($==="colgroup"||!L){const Ie=ba(m,Z);return Sr(Ee(Ie.element,te),!0,!1)}else return ba(m,C)},p3=(m,C,$,L,Z)=>Se(m,te=>{const Ee=C>0&&C<Qi(te)&&L(ts(te,C-1),ts(te,C)),Ie=h3(te,C,te.section,Ee,$,L,Z);return La(te,C,Ie)}),C5=(m,C)=>tt(m,$=>{const L=$.cells,Z=Be(C,(te,Ee)=>Ee>=0&&Ee<te.length?te.slice(0,Ee).concat(te.slice(Ee+1)):te,L);return Z.length>0?[ma($.element,Z,$.section,$.isNew)]:[]}),g3=(m,C,$)=>{const{rows:L,cols:Z}=Oi(m);return[...Z,...L.slice(0,C),...L.slice($+1)]},S5=(m,C,$,L)=>ts(m[C],$)!==void 0&&C>0&&L(ts(m[C-1],$),ts(m[C],$)),m3=(m,C,$)=>C>0&&$(ts(m,C-1),ts(m,C)),v3=(m,C,$,L)=>S5(m,C,$,L)||m3(m[C],$,L),y0=(m,C)=>Qe(C,I)&&_s(m.cells)?Q:(L,Z,te)=>!(wt(L.element)==="th"&&C[te]),x5=(m,C)=>Qe(C,I)&&_s(m)?Q:(L,Z,te)=>!(wt(L.element)==="th"&&C[Z]),C1=(m,C,$,L)=>{const Z=Ee=>Ee==="row"?$u(C):pl(C),te=Ee=>Z(Ee)?`${Ee}group`:Ee;return m?Dy(C)?te($):null:L&&Dy(C)?te($==="row"?"col":"row"):null},tS=(m,C)=>($,L,Z)=>G.some(C1(m,$.element,"col",C[Z])),b3=(m,C)=>($,L)=>G.some(C1(m,$.element,"row",C[L])),Xa=(m,C,$)=>Sr($(m.element,C),!0,m.isLocked),S1=(m,C,$,L,Z,te,Ee)=>{const Ie=Je=>Fe(C,gt=>$(Je.element,gt.element));return Se(m,(Je,gt)=>er(Je,(Bt,hn)=>{if(Ie(Bt)){const Rn=Ee(Bt,gt,hn)?Z(Bt,$,L):Bt;return te(Rn,gt,hn).each(Tn=>{To(Rn.element,{scope:G.from(Tn)})}),Rn}else return Bt}))},Iy=(m,C,$)=>tt(m,(L,Z)=>v3(m,Z,C,$)?[]:[ba(L,C)]),y3=(m,C,$)=>{const L=m[C];return tt(L.cells,(Z,te)=>v3(m,C,te,$)?[]:[Z])},x1=(m,C,$,L,Z)=>{const te=Oi(m).rows,Ee=tt(C,Bt=>Iy(te,Bt,L)),Ie=Se(te,Bt=>_s(Bt.cells)),Je=x5(Ee,Ie),gt=b3($,Ie);return S1(m,Ee,L,Z,Xa,gt,Je)},ic=(m,C,$,L,Z,te,Ee)=>{const{cols:Ie,rows:Je}=Oi(m),gt=Je[C[0]],Bt=tt(C,rn=>y3(Je,rn,Z)),hn=Se(gt.cells,(rn,Yn)=>_s(Iy(Je,Yn,Z))),Rn=[...Je];re(C,rn=>{Rn[rn]=Ee.transformRow(Je[rn],$)});const Tn=[...Ie,...Rn],tn=y0(gt,hn),jn=tS(L,hn);return S1(Tn,Bt,Z,te,Ee.transformCell,jn,tn)},Iu=(m,C,$,L)=>{const Z=Oi(m).rows,te=Se(C,Ee=>ba(Z[Ee.row],Ee.column));return S1(m,te,$,L,Xa,G.none,Q)},Yc={generate:m=>{if(!y(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const C=[],$={};return re(m,(L,Z)=>{const te=xe(L);if(te.length!==1)throw new Error("one and only one name per case");const Ee=te[0],Ie=L[Ee];if($[Ee]!==void 0)throw new Error("duplicate key detected:"+Ee);if(Ee==="cata")throw new Error("cannot have a case named cata (sorry)");if(!y(Ie))throw new Error("case arguments must be an array");C.push(Ee),$[Ee]=(...Je)=>{const gt=Je.length;if(gt!==Ie.length)throw new Error("Wrong number of arguments to case "+Ee+". Expected "+Ie.length+" ("+Ie+"), got "+gt);return{fold:(...hn)=>{if(hn.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+hn.length);return hn[Z].apply(null,Je)},match:hn=>{const Rn=xe(hn);if(C.length!==Rn.length)throw new Error("Wrong number of arguments to match. Expected: "+C.join(",")+`
Actual: `+Rn.join(","));if(!Qe(C,tn=>U(Rn,tn)))throw new Error("Not all branches were specified when using match. Specified: "+Rn.join(", ")+`
Required: `+C.join(", "));return hn[Ee].apply(null,Je)},log:hn=>{console.log(hn,{constructors:C,constructor:Ee,params:Je})}}}}),$}},E1={...Yc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Yt=(m,C)=>m.length===0?E1.none():m.length===1?E1.only(0):C===0?E1.left(0,1):C===m.length-1?E1.right(C-1,C):C>0&&C<m.length-1?E1.middle(C-1,C,C+1):E1.none(),w0=(m,C,$,L,Z)=>{const te=m.slice(0),Ee=Yt(m,C),Ie=P(Se(te,P(0))),Je=Rn=>L.singleColumnWidth(te[Rn],$),gt=(Rn,Tn)=>Z.calcLeftEdgeDeltas(te,Rn,Tn,$,L.minCellWidth(),L.isRelative),Bt=(Rn,Tn,tn)=>Z.calcMiddleDeltas(te,Rn,Tn,tn,$,L.minCellWidth(),L.isRelative),hn=(Rn,Tn)=>Z.calcRightEdgeDeltas(te,Rn,Tn,$,L.minCellWidth(),L.isRelative);return Ee.fold(Ie,Je,gt,Bt,hn)},C0=(m,C,$)=>{let L=0;for(let Z=m;Z<C;Z++)L+=$[Z]!==void 0?$[Z]:0;return L},E5=(m,C)=>{const $=lr.justCells(m);return Se($,L=>{const Z=C0(L.column,L.column+L.colspan,C);return{element:L.element,width:Z,colspan:L.colspan}})},$i=(m,C)=>{const $=lr.justColumns(m);return Se($,(L,Z)=>({element:L.element,width:C[Z],colspan:L.colspan}))},ol=(m,C)=>{const $=lr.justCells(m);return Se($,L=>{const Z=C0(L.row,L.row+L.rowspan,C);return{element:L.element,height:Z,rowspan:L.rowspan}})},k1=(m,C)=>Se(m.all,($,L)=>({element:$.element,height:C[L]})),C3=m=>Be(m,(C,$)=>C+$,0),nS=(m,C)=>lr.hasColumns(m)?$i(m,C):E5(m,C),S0=(m,C,$)=>{const L=nS(m,C);re(L,Z=>{$.setElementWidth(Z.element,Z.width)})},Op=(m,C,$,L,Z)=>{const te=lr.fromTable(m),Ee=Z.getCellDelta(C),Ie=Z.getWidths(te,Z),Je=$===te.grid.columns-1,gt=L.clampTableDelta(Ie,$,Ee,Z.minCellWidth(),Je),Bt=w0(Ie,$,gt,Z,L),hn=Se(Bt,(Rn,Tn)=>Rn+Ie[Tn]);S0(te,hn,Z),L.resizeTable(Z.adjustTableWidth,gt,Je)},oS=(m,C,$,L)=>{const Z=lr.fromTable(m),te=uh(Z,m,L),Ee=Se(te,(Bt,hn)=>$===hn?Math.max(C+Bt,Rf()):Bt),Ie=ol(Z,Ee),Je=k1(Z,Ee);re(Je,Bt=>{Cp(Bt.element,Bt.height)}),re(Ie,Bt=>{Cp(Bt.element,Bt.height)});const gt=C3(Ee);Cp(m,gt)},A1=(m,C,$,L,Z)=>{const te=lr.generate(C),Ee=L.getWidths(te,L),Ie=L.pixelWidth(),{newSizes:Je,delta:gt}=Z.calcRedestributedWidths(Ee,Ie,$.pixelDelta,L.isRelative);S0(te,Je,L),L.adjustTableWidth(gt)},Ly=(m,C,$,L)=>{const Z=lr.generate(C),te=L.getWidths(Z,L);S0(Z,te,L)},T1=m=>Ce(m,($,L)=>Fe($,te=>te.column===L.column)?$:$.concat([L]),[]).sort(($,L)=>$.column-L.column),rS=pr("col"),S3=pr("colgroup"),x3=m=>wt(m)==="tr"||S3(m),E3=m=>{const C=Jr(m,"colspan",1),$=Jr(m,"rowspan",1);return{element:m,colspan:C,rowspan:$}},O1=(m,C=E3)=>{const $=Ie=>rS(Ie.element)?m.col(Ie):m.cell(Ie),L=Ie=>S3(Ie.element)?m.colgroup(Ie):m.row(Ie),Z=Ie=>{if(x3(Ie))return L({element:Ie});{const Je=Ie,gt=$(C(Je));return te=G.some({item:Je,replacement:gt}),gt}};let te=G.none();return{getOrInit:(Ie,Je)=>te.fold(()=>Z(Ie),gt=>Je(Ie,gt.item)?gt.replacement:Z(Ie))}},k5=m=>C=>{const $=[],L=(Ee,Ie)=>q($,Je=>Ie(Je.item,Ee)),Z=Ee=>{const Ie=m==="td"?{scope:null}:{},Je=C.replace(Ee,m,Ie);return $.push({item:Ee,sub:Je}),Je};return{replaceOrInit:(Ee,Ie)=>{if(x3(Ee)||rS(Ee))return Ee;{const Je=Ee;return L(Je,Ie).fold(()=>Z(Je),gt=>Ie(Ee,gt.item)?gt.sub:Z(Je))}}}},Hy=m=>ra(m,"scope").map(C=>C.substr(0,3)),lc={modification:O1,transform:k5,merging:m=>({unmerge:L=>{const Z=Hy(L);return Z.each(te=>wr(L,"scope",te)),()=>{const te=m.cell({element:L,colspan:1,rowspan:1});return Us(te,"width"),Us(L,"width"),Z.each(Ee=>wr(te,"scope",Ee)),te}},merge:L=>{const Z=()=>{const te=Xs(Se(L,Hy));if(te.length===0)return G.none();{const Ee=te[0],Ie=["row","col"];return Fe(te,gt=>gt!==Ee&&U(Ie,gt))?G.none():G.from(Ee)}};return Us(L[0],"width"),Z().fold(()=>Vr(L[0],"scope"),te=>wr(L[0],"scope",te+"group")),P(L[0])}})},A3=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],T3=(m,C)=>{const $=m.property().name(C);return U(["ol","ul"],$)},x0=(m,C)=>{const $=m.property().name(C);return U(A3,$)},zg=(m,C)=>U(["br","img","hr","input"],m.property().name(C)),Vg=hh(),qr=m=>x0(Vg,m),Xc=m=>T3(Vg,m),_p=m=>zg(Vg,m),jy=m=>{const C=pr("br"),$=Je=>Qe(Je,gt=>C(gt)||yr(gt)&&Gn(gt).trim().length===0),L=Je=>wt(Je)==="li"||je(Je,Xc).isSome(),Z=Je=>Un(Je).map(gt=>qr(gt)?!0:_p(gt)?wt(gt)!=="img":!1).getOr(!1),te=Je=>Wf(Je).bind(gt=>{const Bt=Z(gt);return ut(gt).map(hn=>Bt===!0||L(hn)||C(gt)||qr(hn)&&!Xn(Je,hn)?[]:[Le.fromTag("br")])}).getOr([]),Ie=(()=>{const Je=tt(m,gt=>{const Bt=_n(gt);return $(Bt)?[]:Bt.concat(te(gt))});return Je.length===0?[Le.fromTag("br")]:Je})();Ys(m[0]),Or(m[0],Ie)},Qs=m=>Yf(m,!0),E0=m=>{Du(m).length===0&&Is(m)},_1=(m,C)=>({grid:m,cursor:C}),rl=m=>se(m,C=>se(C.cells,$=>{const L=$.element;return Js(Qs(L),L)})),Ug=(m,C,$)=>{var L,Z;const te=Oi(m).rows;return G.from((Z=(L=te[C])===null||L===void 0?void 0:L.cells[$])===null||Z===void 0?void 0:Z.element).filter(Qs).orThunk(()=>rl(te))},fa=(m,C,$)=>{const L=Ug(m,C,$);return _1(m,L)},sS=m=>Ce(m,($,L)=>Fe($,te=>te.row===L.row)?$:$.concat([L]),[]).sort(($,L)=>$.row-L.row),Dd=(m,C,$,L)=>{const Z=C[0].row,te=sS(C),Ee=Be(te,(Ie,Je)=>({grid:d3(Ie.grid,Z,Je.row+Ie.delta,$,L.getOrInit),delta:Ie.delta+1}),{grid:m,delta:0}).grid;return fa(Ee,Z,C[0].column)},zy=(m,C,$,L)=>{const Z=sS(C),te=Z[Z.length-1],Ee=te.row+te.rowspan,Ie=Be(Z,(Je,gt)=>d3(Je,Ee,gt.row,$,L.getOrInit),m);return fa(Ie,Ee,C[0].column)},aS=(m,C,$,L)=>{const Z=C.details,te=T1(Z),Ee=te[0].column,Ie=Be(te,(Je,gt)=>({grid:p3(Je.grid,Ee,gt.column+Je.delta,$,L.getOrInit),delta:Je.delta+1}),{grid:m,delta:0}).grid;return fa(Ie,Z[0].row,Ee)},iS=(m,C,$,L)=>{const Z=C.details,te=Z[Z.length-1],Ee=te.column+te.colspan,Ie=T1(Z),Je=Be(Ie,(gt,Bt)=>p3(gt,Ee,Bt.column,$,L.getOrInit),m);return fa(Je,Z[0].row,Ee)},lS=(m,C,$,L)=>{const Z=T1(C),te=Se(Z,Ie=>Ie.column),Ee=x1(m,te,!0,$,L.replaceOrInit);return fa(Ee,C[0].row,C[0].column)},cS=(m,C,$,L)=>{const Z=Iu(m,C,$,L.replaceOrInit);return fa(Z,C[0].row,C[0].column)},uS=(m,C,$,L)=>{const Z=T1(C),te=Se(Z,Ie=>Ie.column),Ee=x1(m,te,!1,$,L.replaceOrInit);return fa(Ee,C[0].row,C[0].column)},O3=(m,C,$,L)=>{const Z=Iu(m,C,$,L.replaceOrInit);return fa(Z,C[0].row,C[0].column)},k0=(m,C)=>($,L,Z,te,Ee)=>{const Ie=sS(L),Je=Se(Ie,Bt=>Bt.row),gt=ic($,Je,m,C,Z,te.replaceOrInit,Ee);return fa(gt,L[0].row,L[0].column)},$1=k0("thead",!0),Jc=k0("tbody",!1),A5=k0("tfoot",!1),bl=(m,C,$,L)=>{const Z=T1(C.details),te=C5(m,Se(Z,Ie=>Ie.column)),Ee=te.length>0?te[0].cells.length-1:0;return fa(te,Z[0].row,Math.min(Z[0].column,Ee))},T5=(m,C,$,L)=>{const Z=sS(C),te=g3(m,Z[0].row,Z[Z.length-1].row),Ee=te.length>0?te.length-1:0;return fa(te,Math.min(C[0].row,Ee),C[0].column)},Eh=(m,C,$,L)=>{const Z=C.cells;jy(Z);const te=My(m,C.bounds,$,L.merge(Z));return _1(te,G.from(Z[0]))},ao=(m,C,$,L)=>{const te=Be(C,(Ee,Ie)=>i3(Ee,Ie,$,L.unmerge(Ie)),m);return _1(te,G.from(C[0]))},Vy=(m,C,$,L)=>{const te=((Je,gt)=>{const Bt=lr.fromTable(Je);return wh(Bt,gt,!0)})(C.clipboard,C.generators),Ee=Oa(C.row,C.column);return u3(Ee,m,te,C.generators,$).fold(()=>_1(m,G.some(C.element)),Je=>fa(Je,C.row,C.column))},D1=(m,C,$)=>{const L=th(m,$.section),Z=lr.generate(L);return wh(Z,C,!0)},fS=(m,C,$,L)=>{const Z=Oi(m).rows,te=C.cells[0].column,Ee=Z[C.cells[0].row],Ie=D1(C.clipboard,C.generators,Ee),Je=b0(te,m,Ie,C.generators,$);return fa(Je,C.cells[0].row,C.cells[0].column)},dS=(m,C,$,L)=>{const Z=Oi(m).rows,te=C.cells[C.cells.length-1].column+C.cells[C.cells.length-1].colspan,Ee=Z[C.cells[0].row],Ie=D1(C.clipboard,C.generators,Ee),Je=b0(te,m,Ie,C.generators,$);return fa(Je,C.cells[0].row,C.cells[0].column)},_3=(m,C,$,L)=>{const Z=Oi(m).rows,te=C.cells[0].row,Ee=Z[te],Ie=D1(C.clipboard,C.generators,Ee),Je=xh(te,m,Ie,C.generators,$);return fa(Je,C.cells[0].row,C.cells[0].column)},$3=(m,C,$,L)=>{const Z=Oi(m).rows,te=C.cells[C.cells.length-1].row+C.cells[C.cells.length-1].rowspan,Ee=Z[C.cells[0].row],Ie=D1(C.clipboard,C.generators,Ee),Je=xh(te,m,Ie,C.generators,$);return fa(Je,C.cells[0].row,C.cells[0].column)},O5=(m,C)=>{const $=lr.fromTable(m);return Oc($,C).bind(Z=>{const te=Z[Z.length-1],Ee=Z[0].column,Ie=te.column+te.colspan,Je=We(Se($.all,gt=>ce(gt.cells,Bt=>Bt.column>=Ee&&Bt.column<Ie)));return KC(Je)}).getOr("")},Il=(m,C)=>{const $=lr.fromTable(m);return Oc($,C).bind(KC).getOr("")},yl=(m,C)=>{const $=lr.fromTable(m);return Oc($,C).bind(Z=>{const te=Z[Z.length-1],Ee=Z[0].row,Ie=te.row+te.rowspan,Je=$.all.slice(Ee,Ie);return Rg(Je)}).getOr("")},Gl=(m,C,$,L)=>Ly(m,C,$,L.sizing),da=(m,C,$,L)=>A1(m,C,$,L.sizing,L.resize),Ll=(m,C)=>Fe(C,$=>$.column===0&&$.isLocked),sl=(m,C)=>Fe(C,$=>$.column+$.colspan>=m.grid.columns&&$.isLocked),Uy=(m,C)=>{const $=el(m),L=T1(C);return Ce(L,(Z,te)=>{const Ie=$[te.column].map(bo).getOr(0);return Z+Ie},0)},Wy=m=>(C,$)=>Oc(C,$).filter(L=>!(m?Ll:sl)(C,L)).map(L=>({details:L,pixelDelta:Uy(C,L)})),D3=(m,C)=>$d(m,C).map($=>({details:$,pixelDelta:-Uy(m,$)})),hS=m=>(C,$)=>Ry(C,$).filter(L=>!(m?Ll:sl)(C,L.cells)),A0=lc.transform("th"),B1=lc.transform("td"),pS=bi(Dd,Oc,D,D,lc.modification),qy=bi(zy,Oc,D,D,lc.modification),_5=bi(aS,Wy(!0),da,D,lc.modification),bF=bi(iS,Wy(!1),da,D,lc.modification),$5=bi(bl,D3,da,E0,lc.modification),D5=bi(T5,Oc,D,E0,lc.modification),B5=bi(lS,$d,D,D,A0),gS=bi(uS,$d,D,D,B1),mS=bi($1,$d,D,D,A0),B3=bi(Jc,$d,D,D,B1),N5=bi(A5,$d,D,D,B1),N3=bi(cS,$d,D,D,A0),P3=bi(O3,$d,D,D,B1),Mn=bi(Eh,v5,Gl,D,lc.merging),P5=bi(ao,a3,Gl,D,lc.merging),Vi=bi(Vy,o3,Gl,D,lc.modification),F5=bi(fS,hS(!0),D,D,lc.modification),F3=bi(dS,hS(!1),D,D,lc.modification),R3=bi(_3,Ry,D,D,lc.modification),wf=bi($3,Ry,D,D,lc.modification),yF=O5,M3=Il,kh=yl,Wg=(m,C)=>m.dispatch("NewRow",{node:C}),vS=(m,C)=>m.dispatch("NewCell",{node:C}),cc=(m,C,$)=>{m.dispatch("TableModified",{...$,table:C})},Xf=(m,C,$,L,Z)=>{m.dispatch("TableSelectionChange",{cells:C,start:$,finish:L,otherCells:Z})},qg=m=>{m.dispatch("TableSelectionClear")},Jf=(m,C,$,L,Z)=>{m.dispatch("ObjectResizeStart",{target:C,width:$,height:L,origin:Z})},R5=(m,C,$,L,Z)=>{m.dispatch("ObjectResized",{target:C,width:$,height:L,origin:Z})},T0={structure:!1,style:!0},Di={structure:!0,style:!1},I3={structure:!0,style:!0},Ah=m=>C=>C.options.get(m),Zy="100%",L3=m=>{var C;const $=m.dom,L=(C=$.getParent(m.selection.getStart(),$.isBlock))!==null&&C!==void 0?C:m.getBody();return $r(Le.fromDom(L))+"px"},H3=(m,C)=>O0(m)||!W3(m)?C:Gg(m)?{...C,width:L3(m)}:{...C,width:Zy},M5=(m,C)=>O0(m)||W3(m)?C:Gg(m)?{...C,width:L3(m)}:{...C,width:Zy},I5=m=>{const C=m.options.register;C("table_clone_elements",{processor:"string[]"}),C("table_use_colgroups",{processor:"boolean",default:!0}),C("table_header_type",{processor:$=>{const L=U(["section","cells","sectionCells","auto"],$);return L?{value:$,valid:L}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),C("table_sizing_mode",{processor:"string",default:"auto"}),C("table_default_attributes",{processor:"object",default:{border:"1"}}),C("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),C("table_column_resizing",{processor:$=>{const L=U(["preservetable","resizetable"],$);return L?{value:$,valid:L}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),C("table_resize_bars",{processor:"boolean",default:!0}),C("table_style_by_css",{processor:"boolean",default:!0})},j3=m=>G.from(m.options.get("table_clone_elements")),z3=m=>{const C=m.options.get("object_resizing");return U(C.split(","),"table")},V3=Ah("table_header_type"),$p=Ah("table_column_resizing"),U3=m=>$p(m)==="preservetable",bS=m=>$p(m)==="resizetable",yS=Ah("table_sizing_mode"),Zg=m=>yS(m)==="relative",Gg=m=>yS(m)==="fixed",O0=m=>yS(m)==="responsive",L5=Ah("table_resize_bars"),W3=Ah("table_style_by_css"),H5=m=>{const C=m.options,$=C.get("table_default_attributes");return C.isSet("table_default_attributes")?$:M5(m,$)},wS=m=>{const C=m.options,$=C.get("table_default_styles");return C.isSet("table_default_styles")?$:H3(m,$)},j5=Ah("table_use_colgroups"),Kg=(m,C)=>Zg(m)?Ac.percentageSize(C):Gg(m)?Ac.pixelSize(C):Ac.getTableSize(C),Ea=(m,C,$)=>{const L=Jl=>wt(Og(Jl))==="table",Z=Jl=>!L(m)||h0(Jl).rows>1,te=Jl=>!L(m)||h0(Jl).columns>1,Ee=j3(m),Ie=bS(m)?D:u5,Je=Jl=>{switch(V3(m)){case"section":return g0.section();case"sectionCells":return g0.sectionCells();case"cells":return g0.cells();default:return g0.getTableSectionType(Jl,"section")}},gt=(Jl,ib)=>ib.cursor.fold(()=>{const Up=Du(Jl);return Oe(Up).filter(Ls).map(od=>{$.clearSelectedCells(Jl.dom);const Sl=m.dom.createRng();return Sl.selectNode(od.dom),m.selection.setRng(Sl),wr(od,"data-mce-selected","1"),Sl})},Up=>{const od=_d(Up),Sl=m.dom.createRng();return Sl.setStart(od.element.dom,od.offset),Sl.setEnd(od.element.dom,od.offset),m.selection.setRng(Sl),$.clearSelectedCells(Jl.dom),G.some(Sl)}),Bt=(Jl,ib,Up,od)=>(Sl,j$,z$=!1)=>{Gc(Sl);const gm=Le.fromDom(m.getDoc()),V$=Uo(Up,gm,Ee),U$={sizing:Kg(m,Sl),resize:bS(m)?ZC():GC(),section:Je(Sl)};return ib(Sl)?Jl(Sl,j$,V$,U$).bind(lb=>{C.refresh(Sl.dom),re(lb.newRows,Q1=>{Wg(m,Q1.dom)}),re(lb.newCells,Q1=>{vS(m,Q1.dom)});const W$=gt(Sl,lb);return Ls(Sl)&&(Gc(Sl),z$||cc(m,Sl.dom,od)),W$.map(Q1=>({rng:Q1,effect:od}))}):G.none()},hn=Bt(D5,Z,D,Di),Rn=Bt($5,te,D,Di),Tn=Bt(pS,Q,D,Di),tn=Bt(qy,Q,D,Di),jn=Bt(_5,Q,Ie,Di),rn=Bt(bF,Q,Ie,Di),Yn=Bt(Mn,Q,D,Di),Wo=Bt(P5,Q,D,Di),fr=Bt(F5,Q,D,Di),sa=Bt(F3,Q,D,Di),wl=Bt(R3,Q,D,Di),Qa=Bt(wf,Q,D,Di),il=Bt(Vi,Q,D,I3),Rd=Bt(N3,Q,D,Di),ab=Bt(P3,Q,D,Di),N2=Bt(B5,Q,D,Di),pm=Bt(gS,Q,D,Di),$s=Bt(mS,Q,D,Di),Xl=Bt(B3,Q,D,Di),Cl=Bt(N5,Q,D,Di);return{deleteRow:hn,deleteColumn:Rn,insertRowsBefore:Tn,insertRowsAfter:tn,insertColumnsBefore:jn,insertColumnsAfter:rn,mergeCells:Yn,unmergeCells:Wo,pasteColsBefore:fr,pasteColsAfter:sa,pasteRowsBefore:wl,pasteRowsAfter:Qa,pasteCells:il,makeCellsHeader:Rd,unmakeCellsHeader:ab,makeColumnsHeader:N2,unmakeColumnsHeader:pm,makeRowsHeader:$s,makeRowsBody:Xl,makeRowsFooter:Cl,getTableRowType:kh,getTableCellType:M3,getTableColType:yF}},N1=(m,C,$)=>{const L=Jr(m,C,1);$===1||L<=1?Vr(m,C):wr(m,C,Math.min($,L))},Kl=(m,C)=>$=>{const L=$.column+$.colspan-1,Z=$.column;return L>=m&&Z<C},q3=(m,C,$)=>{if(lr.hasColumns(m)){const L=ce(lr.justColumns(m),Kl(C,$)),Z=Se(L,Ee=>{const Ie=fl(Ee.element);return N1(Ie,"span",$-C),Ie}),te=Le.fromTag("colgroup");return Or(te,Z),[te]}else return[]},Z3=(m,C,$)=>Se(m.all,L=>{const Z=ce(L.cells,Kl(C,$)),te=Se(Z,Ie=>{const Je=fl(Ie.element);return N1(Je,"colspan",$-C),Je}),Ee=Le.fromTag("tr");return Or(Ee,te),Ee}),G3=(m,C)=>{const $=lr.fromTable(m);return $d($,C).map(Z=>{const te=Z[Z.length-1],Ee=Z[0].column,Ie=te.column+te.colspan,Je=q3($,Ee,Ie),gt=Z3($,Ee,Ie);return[...Je,...gt]})},Gy=(m,C,$)=>{const L=lr.fromTable(m);return Oc(L,C).bind(te=>{const Ee=wh(L,$,!1),Je=Oi(Ee).rows.slice(te[0].row,te[te.length-1].row+te[te.length-1].rowspan),gt=tt(Je,hn=>{const Rn=ce(hn.cells,Tn=>!Tn.isLocked);return Rn.length>0?[{...hn,cells:Rn}]:[]}),Bt=Sh(gt);return Js(Bt.length>0,Bt)}).map(te=>Ba(te))},_0=Yc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),K3=(m,C,$)=>{const L=$.substring(0,$.length-m.length),Z=parseFloat(L);return L===Z.toString()?C(Z):_0.invalid($)},Yg={..._0,from:m=>it(m,"%")?K3("%",_0.percent,m):it(m,"px")?K3("px",_0.pixels,m):_0.invalid(m)},z5=(m,C)=>Se(m,$=>Yg.from($).fold(()=>$,Z=>Z/C*100+"%",Z=>Z+"%")),V5=(m,C,$)=>{const L=$/C;return Se(m,Z=>Yg.from(Z).fold(()=>Z,Ee=>Ee*L+"px",Ee=>Ee/100*$+"px"))},Y3=(m,C)=>{const $=m.fold(()=>P(""),L=>{const Z=L/C;return P(Z+"px")},()=>{const L=100/C;return P(L+"%")});return De(C,$)},U5=(m,C,$)=>m.fold(()=>C,L=>V5(C,$,L),L=>z5(C,$)),X3=(m,C,$)=>{const L=Yg.from($),Z=Qe(m,te=>te==="0px")?Y3(L,m.length):U5(L,m,C);return Z5(Z)},CS=(m,C)=>m.length===0?C:Be(m,($,L)=>Yg.from(L).fold(P(0),I,I)+$,0),W5=(m,C)=>{const $=Math.floor(m);return{value:$+C,remainder:m-$}},q5=(m,C)=>Yg.from(m).fold(P(m),$=>$+C+"px",$=>$+C+"%"),Z5=m=>{if(m.length===0)return m;const C=Be(m,(L,Z)=>{const te=Yg.from(Z).fold(()=>({value:Z,remainder:0}),Ee=>W5(Ee,"px"),Ee=>({value:Ee+"%",remainder:0}));return{output:[te.value].concat(L.output),remainder:L.remainder+te.remainder}},{output:[],remainder:0}),$=C.output;return $.slice(0,$.length-1).concat([q5($[$.length-1],Math.round(C.remainder))])},G5=Yg.from,SS=(m,C,$)=>{re(C,L=>{const Z=m.slice(L.column,L.colspan+L.column),te=CS(Z,af());Fr(L.element,"width",te+$)})},K5=(m,C,$)=>{re(C,(L,Z)=>{const te=CS([m[Z]],af());Fr(L.element,"width",te+$)})},$0=(m,C,$,L)=>{re($,Z=>{const te=m.slice(Z.row,Z.rowspan+Z.row),Ee=CS(te,Rf());Fr(Z.element,"height",Ee+L)}),re(C,(Z,te)=>{Fr(Z.element,"height",m[te])})},Ky=m=>G5(m).fold(P("px"),P("px"),P("%")),xS=(m,C,$)=>{const L=lr.fromTable(m),Z=L.all,te=lr.justCells(L),Ee=lr.justColumns(L);C.each(Ie=>{const Je=Ky(Ie),gt=br(m),Bt=Kr(L,m),hn=X3(Bt,gt,Ie);lr.hasColumns(L)?K5(hn,Ee,Je):SS(hn,te,Je),Fr(m,"width",Ie)}),$.each(Ie=>{const Je=Ky(Ie),gt=Cd(m),Bt=Ga(L,m,uu),hn=X3(Bt,gt,Ie);$0(hn,Z,te,Je),Fr(m,"height",Ie)})},ES=e0,kS=ln,Dp=_i,Xg=m=>{Vr(m,"width")},Bp=m=>{const C=ml(m);xS(m,G.some(C),G.none()),Xg(m)},D0=m=>{const C=ji(m);xS(m,G.some(C),G.none()),Xg(m)},J3=m=>{Us(m,"width");const C=md(m),$=C.length>0?C:Du(m);re($,L=>{Us(L,"width"),Xg(L)}),Xg(m)},Th={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Oh=()=>Le.fromTag("th"),Y5=()=>Le.fromTag("td"),Np=()=>Le.fromTag("col"),Yy=(m,C,$,L)=>{const Z=Le.fromTag("tr");for(let te=0;te<m;te++){const Ee=L<C||te<$?Oh():Y5();te<$&&wr(Ee,"scope","row"),L<C&&wr(Ee,"scope","col"),Qo(Ee,Le.fromTag("br")),Qo(Z,Ee)}return Z},X5=m=>{const C=Le.fromTag("colgroup");return De(m,()=>Qo(C,Np())),C},AS=(m,C,$,L)=>De(m,Z=>Yy(C,$,L,Z)),J5=(m,C,$,L,Z,te=Th)=>{const Ee=Le.fromTag("table"),Ie=Z!=="cells";Xr(Ee,te.styles),Jo(Ee,te.attributes),te.colGroups&&Qo(Ee,X5(C));const Je=Math.min(m,$);if(Ie&&$>0){const Tn=Le.fromTag("thead");Qo(Ee,Tn);const jn=AS($,C,Z==="sectionCells"?Je:0,L);Or(Tn,jn)}const gt=Le.fromTag("tbody");Qo(Ee,gt);const Bt=Ie?m-Je:m,Rn=AS(Bt,C,Ie?0:$,L);return Or(gt,Rn),Ee},Q5=m=>m.dom.innerHTML,TS=m=>{const C=Le.fromTag("div"),$=Le.fromDom(m.dom.cloneNode(!0));return Qo(C,$),Q5(C)},B0=(m,C)=>{m.selection.select(C.dom,!0),m.selection.collapse(!0)},N0=(m,C)=>{Wr(C,"td,th").each(K(B0,m))},Q3=(m,C)=>{re(Ro(C,"tr"),$=>{Wg(m,$.dom),re(Ro($,"th,td"),L=>{vS(m,L.dom)})})},OS=m=>p(m)&&m.indexOf("%")!==-1,ek=(m,C,$,L,Z)=>{const te=wS(m),Ee={styles:te,attributes:H5(m),colGroups:j5(m)};return m.undoManager.ignore(()=>{const Ie=J5($,C,Z,L,V3(m),Ee);wr(Ie,"data-mce-id","__mce");const Je=TS(Ie);m.insertContent(Je),m.addVisual()}),Wr(Og(m),'table[data-mce-id="__mce"]').map(Ie=>(Gg(m)?D0(Ie):O0(m)?J3(Ie):(Zg(m)||OS(te.width))&&Bp(Ie),Gc(Ie),Vr(Ie,"data-mce-id"),Q3(m,Ie),N0(m,Ie),Ie.dom)).getOrNull()},tk=(m,C,$,L={})=>{const Z=te=>N(te)&&te>0;if(Z(C)&&Z($)){const te=L.headerRows||0,Ee=L.headerColumns||0;return ek(m,$,C,Ee,te)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var P0=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const _S="x-tinymce/dom-table-",Xy=_S+"rows",Jy=_S+"columns",$S=m=>{const C=P0.FakeClipboardItem(m);P0.write([C])},Pp=m=>{var C;const $=(C=P0.read())!==null&&C!==void 0?C:[];return se($,L=>G.from(L.getType(m)))},Fp=m=>{Pp(m).isSome()&&P0.clear()},F0=m=>{m.fold(CF,C=>$S({[Xy]:C}))},P1=()=>Pp(Xy),CF=()=>Fp(Xy),Qf=m=>{m.fold(DS,C=>$S({[Jy]:C}))},Lu=()=>Pp(Jy),DS=()=>Fp(Jy),Qy=m=>Bg(qf(m),tl(m)),e$=m=>WC(qf(m),tl(m)),nk=(m,C)=>{const $=tl(m),L=()=>Qy(m).each(rn=>{Ti(rn,$).filter(j($)).each(Yn=>{const Wo=Le.fromText("");if(Hr(Yn,Wo),Is(Yn),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const fr=m.dom.createRng();fr.setStart(Wo.dom,0),fr.setEnd(Wo.dom,0),m.selection.setRng(fr),m.nodeChanged()}})}),Z=rn=>Qy(m).each(Yn=>{O0(m)||Gg(m)||Zg(m)||Ti(Yn,$).each(fr=>{rn==="relative"&&!ES(fr)?Bp(fr):rn==="fixed"&&!kS(fr)?D0(fr):rn==="responsive"&&!Dp(fr)&&J3(fr),Gc(fr),cc(m,fr.dom,Di)})}),te=rn=>Ti(rn,$),Ee=rn=>e$(m).bind(Yn=>te(Yn).map(Wo=>rn(Wo,Yn))),Ie=(rn,Yn)=>{Ee(Wo=>{m.formatter.toggle("tableclass",{value:Yn},Wo.dom),cc(m,Wo.dom,T0)})},Je=(rn,Yn)=>{Ee(Wo=>{const fr=Kc(m),wl=Qe(fr,Qa=>m.formatter.match("tablecellclass",{value:Yn},Qa.dom))?m.formatter.remove:m.formatter.apply;re(fr,Qa=>wl("tablecellclass",{value:Yn},Qa.dom)),cc(m,Wo.dom,T0)})},gt=()=>{Qy(m).each(rn=>{Ti(rn,$).each(Yn=>{Wn(Yn,"caption").fold(()=>{const Wo=Le.fromTag("caption");Qo(Wo,Le.fromText("Caption")),fi(Yn,Wo,0),m.selection.setCursorLocation(Wo.dom,0)},Wo=>{pr("caption")(rn)&&uo("td",Yn).each(fr=>m.selection.setCursorLocation(fr.dom,0)),Is(Wo)}),cc(m,Yn.dom,Di)})})},Bt=rn=>{m.focus()},hn=(rn,Yn=!1)=>Ee((Wo,fr)=>{const sa=d0(Kc(m),Wo,fr);rn(Wo,sa,Yn).each(Bt)}),Rn=()=>Ee((rn,Yn)=>{const Wo=d0(Kc(m),rn,Yn),fr=Uo(D,Le.fromDom(m.getDoc()),G.none());return Gy(rn,Wo,fr)}),Tn=()=>Ee((rn,Yn)=>{const Wo=d0(Kc(m),rn,Yn);return G3(rn,Wo)}),tn=(rn,Yn)=>Yn().each(Wo=>{const fr=Se(Wo,sa=>fl(sa));Ee((sa,wl)=>{const Qa=ks(Le.fromDom(m.getDoc())),il=UC(Kc(m),wl,fr,Qa);rn(sa,il).each(Bt)})}),jn=rn=>(Yn,Wo)=>ft(Wo,"type").each(fr=>{hn(rn(fr),Wo.no_events)});Xe({mceTableSplitCells:()=>hn(C.unmergeCells),mceTableMergeCells:()=>hn(C.mergeCells),mceTableInsertRowBefore:()=>hn(C.insertRowsBefore),mceTableInsertRowAfter:()=>hn(C.insertRowsAfter),mceTableInsertColBefore:()=>hn(C.insertColumnsBefore),mceTableInsertColAfter:()=>hn(C.insertColumnsAfter),mceTableDeleteCol:()=>hn(C.deleteColumn),mceTableDeleteRow:()=>hn(C.deleteRow),mceTableCutCol:()=>Tn().each(rn=>{Qf(rn),hn(C.deleteColumn)}),mceTableCutRow:()=>Rn().each(rn=>{F0(rn),hn(C.deleteRow)}),mceTableCopyCol:()=>Tn().each(rn=>Qf(rn)),mceTableCopyRow:()=>Rn().each(rn=>F0(rn)),mceTablePasteColBefore:()=>tn(C.pasteColsBefore,Lu),mceTablePasteColAfter:()=>tn(C.pasteColsAfter,Lu),mceTablePasteRowBefore:()=>tn(C.pasteRowsBefore,P1),mceTablePasteRowAfter:()=>tn(C.pasteRowsAfter,P1),mceTableDelete:L,mceTableCellToggleClass:Je,mceTableToggleClass:Ie,mceTableToggleCaption:gt,mceTableSizingMode:(rn,Yn)=>Z(Yn),mceTableCellType:jn(rn=>rn==="th"?C.makeCellsHeader:C.unmakeCellsHeader),mceTableColType:jn(rn=>rn==="th"?C.makeColumnsHeader:C.unmakeColumnsHeader),mceTableRowType:jn(rn=>{switch(rn){case"header":return C.makeRowsHeader;case"footer":return C.makeRowsFooter;default:return C.makeRowsBody}})},(rn,Yn)=>m.addCommand(Yn,rn)),m.addCommand("mceInsertTable",(rn,Yn)=>{tk(m,Yn.rows,Yn.columns,Yn.options)}),m.addCommand("mceTableApplyCellStyle",(rn,Yn)=>{const Wo=wl=>"tablecell"+wl.toLowerCase().replace("-","");if(!v(Yn))return;const fr=Kc(m);if(fr.length===0)return;const sa=zn(Yn,(wl,Qa)=>m.formatter.has(Wo(Qa))&&p(wl));kn(sa)||(Xe(sa,(wl,Qa)=>{const il=Wo(Qa);re(fr,Rd=>{wl===""?m.formatter.remove(il,{value:null},Rd.dom,!0):m.formatter.apply(il,{value:wl},Rd.dom)})}),te(fr[0]).each(wl=>cc(m,wl.dom,T0)))})},R0=(m,C)=>{const $=tl(m),L=Z=>WC(qf(m)).bind(te=>Ti(te,$).map(Ee=>{const Ie=d0(Kc(m),Ee,te);return Z(Ee,Ie)})).getOr("");Xe({mceTableRowType:()=>L(C.getTableRowType),mceTableCellType:()=>L(C.getTableCellType),mceTableColType:()=>L(C.getTableColType)},(Z,te)=>m.addQueryValueHandler(te,Z))},Jg=Yc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),F1=(m,C,$,L)=>m.fold(C,$,L),ok=m=>m.fold(I,I,I),M0=Jg.before,e2=Jg.on,t$=Jg.after,Hl={before:M0,on:e2,after:t$,cata:F1,getStart:ok},Ja={create:(m,C)=>({selection:m,kill:C})},I0=(m,C)=>{const $=m.document.createRange();return $.selectNode(C.dom),$},Bd=(m,C)=>{const $=m.document.createRange();return rk($,C),$},rk=(m,C)=>m.selectNodeContents(C.dom),t2=(m,C)=>{C.fold($=>{m.setStartBefore($.dom)},($,L)=>{m.setStart($.dom,L)},$=>{m.setStartAfter($.dom)})},Qg=(m,C)=>{C.fold($=>{m.setEndBefore($.dom)},($,L)=>{m.setEnd($.dom,L)},$=>{m.setEndAfter($.dom)})},n2=(m,C,$)=>{const L=m.document.createRange();return t2(L,C),Qg(L,$),L},R1=(m,C,$,L,Z)=>{const te=m.document.createRange();return te.setStart(C.dom,$),te.setEnd(L.dom,Z),te},n$=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),M1=m=>{const C=m.getClientRects(),$=C.length>0?C[0]:m.getBoundingClientRect();return $.width>0||$.height>0?G.some($).map(n$):G.none()},em=Yc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sk=(m,C,$)=>C(Le.fromDom($.startContainer),$.startOffset,Le.fromDom($.endContainer),$.endOffset),NS=(m,C)=>C.match({domRange:$=>({ltr:P($),rtl:G.none}),relative:($,L)=>({ltr:Cc(()=>n2(m,$,L)),rtl:Cc(()=>G.some(n2(m,L,$)))}),exact:($,L,Z,te)=>({ltr:Cc(()=>R1(m,$,L,Z,te)),rtl:Cc(()=>G.some(R1(m,Z,te,$,L)))})}),Nd=(m,C)=>{const $=C.ltr();return $.collapsed?C.rtl().filter(Z=>Z.collapsed===!1).map(Z=>em.rtl(Le.fromDom(Z.endContainer),Z.endOffset,Le.fromDom(Z.startContainer),Z.startOffset)).getOrThunk(()=>sk(m,em.ltr,$)):sk(m,em.ltr,$)},PS=(m,C)=>{const $=NS(m,C);return Nd(m,$)},jl=(m,C)=>PS(m,C).match({ltr:(L,Z,te,Ee)=>{const Ie=m.document.createRange();return Ie.setStart(L.dom,Z),Ie.setEnd(te.dom,Ee),Ie},rtl:(L,Z,te,Ee)=>{const Ie=m.document.createRange();return Ie.setStart(te.dom,Ee),Ie.setEnd(L.dom,Z),Ie}});em.ltr,em.rtl;const I1={create:(m,C,$,L)=>({start:m,soffset:C,finish:$,foffset:L})},FS={create:(m,C,$,L)=>({start:Hl.on(m,C),finish:Hl.on($,L)})},ak=(m,C)=>{const $=jl(m,C);return I1.create(Le.fromDom($.startContainer),$.startOffset,Le.fromDom($.endContainer),$.endOffset)},_c=FS.create,L0=(m,C,$,L,Z,te,Ee)=>Xn($,Z)&&L===te?G.none():is($,"td,th",C).bind(Ie=>is(Z,"td,th",C).bind(Je=>RS(m,C,Ie,Je,Ee))),RS=(m,C,$,L,Z)=>Xn($,L)?G.none():c0($,L,C).bind(te=>{const Ee=te.boxes.getOr([]);return Ee.length>1?(Z(m,Ee,te.start,te.finish),G.some(Ja.create(G.some(_c($,0,$,ns($))),!0))):G.none()}),H0=(m,C,$,L,Z)=>{const te=Ee=>(Z.clearBeforeUpdate($),Z.selectRange($,Ee.boxes,Ee.start,Ee.finish),Ee.boxes);return VC(L,m,C,Z.firstSelectedSelector,Z.lastSelectedSelector).map(te)},uc=(m,C)=>({item:m,mode:C}),mu=(m,C,$,L=yi)=>m.property().parent(C).map(Z=>uc(Z,L)),yi=(m,C,$,L=vu)=>$.sibling(m,C).map(Z=>uc(Z,L)),vu=(m,C,$,L=vu)=>{const Z=m.property().children(C);return $.first(Z).map(Ee=>uc(Ee,L))},o2=[{current:mu,next:yi,fallback:G.none()},{current:yi,next:vu,fallback:G.some(mu)},{current:vu,next:vu,fallback:G.some(yi)}],Hu=(m,C,$,L,Z=o2)=>q(Z,Ee=>Ee.current===$).bind(Ee=>Ee.current(m,C,L,Ee.next).orThunk(()=>Ee.fallback.bind(Ie=>Hu(m,C,Ie,L)))),j0={left:()=>({sibling:($,L)=>$.query().prevSibling(L),first:$=>$.length>0?G.some($[$.length-1]):G.none()}),right:()=>({sibling:($,L)=>$.query().nextSibling(L),first:$=>$.length>0?G.some($[0]):G.none()})},r2=(m,C,$,L,Z,te)=>Hu(m,C,L,Z).bind(Ie=>te(Ie.item)?G.none():$(Ie.item)?G.some(Ie.item):r2(m,Ie.item,$,Ie.mode,Z,te)),MS=(m,C,$,L)=>r2(m,C,$,yi,j0.left(),L),IS=(m,C,$,L)=>r2(m,C,$,yi,j0.right(),L),H1=m=>C=>m.property().children(C).length===0,LS=(m,C,$)=>HS(m,C,H1(m),$),ik=(m,C,$)=>jS(m,C,H1(m),$),HS=MS,jS=IS,z0=hh(),s2=(m,C)=>LS(z0,m,C),zS=(m,C)=>ik(z0,m,C),VS=(m,C,$)=>HS(z0,m,C,$),lk=(m,C,$)=>jS(z0,m,C,$),s$=(m,C,$)=>je(m,C,$).isSome(),a2=Yc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),a$=(m,C,$)=>{const L=m.getRect(C),Z=m.getRect($);return Z.right>L.left&&Z.left<L.right},i$=m=>is(m,"tr"),Yl={...a2,verify:(m,C,$,L,Z,te,Ee)=>is(L,"td,th",Ee).bind(Ie=>is(C,"td,th",Ee).map(Je=>Xn(Ie,Je)?Xn(L,Ie)&&ns(Ie)===Z?te(Je):a2.none("in same cell"):ph(i$,[Ie,Je]).fold(()=>a$(m,Je,Ie)?a2.success():te(Je),gt=>te(Je)))).getOr(a2.none("default")),cata:(m,C,$,L,Z)=>m.fold(C,$,L,Z)},l$=(m,C,$,L)=>({parent:m,children:C,element:$,index:L}),V0=m=>ut(m).bind(C=>{const $=_n(C);return U0($,m).map(L=>l$(C,$,m,L))}),U0=(m,C)=>Ze(m,K(Xn,C)),i2=pr("br"),US=(m,C,$)=>C(m,$).bind(L=>yr(L)&&Gn(L).trim().length===0?US(L,C,$):G.some(L)),ck=(m,C,$)=>$.traverse(C).orThunk(()=>US(C,$.gather,m)).map($.relative),c$=(m,C)=>Jn(m,C).filter(i2).orThunk(()=>Jn(m,C-1).filter(i2)),fc=(m,C,$,L)=>c$(C,$).bind(Z=>L.traverse(Z).fold(()=>US(Z,L.gather,m).map(L.relative),te=>V0(te).map(Ee=>Hl.on(Ee.parent,Ee.index)))),WS=(m,C,$,L)=>(i2(C)?ck(m,C,L):fc(m,C,$,L)).map(te=>({start:te,finish:te})),j1=m=>Yl.cata(m,C=>G.none(),()=>G.none(),C=>G.some(vh(C,0)),C=>G.some(vh(C,ns(C)))),_h=(m,C)=>({left:m.left,top:m.top+C,right:m.right,bottom:m.bottom+C}),W0=(m,C)=>({left:m.left,top:m.top-C,right:m.right,bottom:m.bottom-C}),tm=(m,C,$)=>({left:m.left+C,top:m.top+$,right:m.right+C,bottom:m.bottom+$}),l2=m=>m.top,u$=m=>m.bottom,f$=(m,C,$)=>$>=0&&$<ns(C)?m.getRangedRect(C,$,C,$+1):$>0?m.getRangedRect(C,$-1,C,$):G.none(),c2=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),Rp=(m,C)=>G.some(m.getRect(C)),u2=(m,C,$)=>eo(C)?Rp(m,C).map(c2):yr(C)?f$(m,C,$).map(c2):G.none(),Mp=(m,C)=>eo(C)?Rp(m,C).map(c2):yr(C)?m.getRangedRect(C,0,C,ns(C)).map(c2):G.none(),zl=5,uk=100,Cf=Yc.generate([{none:[]},{retry:["caret"]}]),fk=(m,C)=>m.left<C.left||Math.abs(C.right-m.left)<1||m.left>C.right,q0=(m,C,$)=>et(C,qr).fold(ae,L=>Mp(m,L).exists(Z=>fk($,Z))),f2=(m,C,$,L,Z)=>{const te=_h(Z,zl);return Math.abs($.bottom-L.bottom)<1||$.top>Z.bottom?Cf.retry(te):$.top===Z.bottom?Cf.retry(_h(Z,1)):q0(m,C,Z)?Cf.retry(tm(te,zl,0)):Cf.none()},Z0={point:l2,adjuster:(m,C,$,L,Z)=>{const te=W0(Z,zl);return Math.abs($.top-L.top)<1||$.bottom<Z.top?Cf.retry(te):$.bottom===Z.top?Cf.retry(W0(Z,1)):q0(m,C,Z)?Cf.retry(tm(te,zl,0)):Cf.none()},move:W0,gather:s2},ZS={point:u$,adjuster:f2,move:_h,gather:zS},dk=(m,C,$)=>m.elementFromPoint(C,$).filter(L=>wt(L)==="table").isSome(),z1=(m,C,$,L,Z)=>V1(m,C,$,C.move(L,zl),Z),V1=(m,C,$,L,Z)=>Z===0?G.some(L):dk(m,L.left,C.point(L))?z1(m,C,$,L,Z-1):m.situsFromPoint(L.left,C.point(L)).bind(te=>te.start.fold(G.none,Ee=>Mp(m,Ee).bind(Ie=>C.adjuster(m,Ee,Ie,$,L).fold(G.none,Je=>V1(m,C,$,Je,Z-1))).orThunk(()=>G.some(L)),G.none)),d$=(m,C,$)=>m.point(C)>$.getInnerHeight()?G.some(m.point(C)-$.getInnerHeight()):m.point(C)<0?G.some(-m.point(C)):G.none(),Ip=(m,C,$)=>{const L=m.move($,zl),Z=V1(C,m,$,L,uk).getOr(L);return d$(m,Z,C).fold(()=>C.situsFromPoint(Z.left,m.point(Z)),te=>(C.scrollBy(0,te),C.situsFromPoint(Z.left,m.point(Z)-te)))},d2={tryUp:K(Ip,Z0),tryDown:K(Ip,ZS),getJumpSize:P(zl)},h$=20,GS=(m,C,$)=>m.getSelection().bind(L=>WS(C,L.finish,L.foffset,$).fold(()=>G.some(vh(L.finish,L.foffset)),Z=>{const te=m.fromSitus(Z),Ee=Yl.verify(m,L.finish,L.foffset,te.finish,te.foffset,$.failure,C);return j1(Ee)})),G0=(m,C,$,L,Z,te)=>te===0?G.none():kF(m,C,$,L,Z).bind(Ee=>{const Ie=m.fromSitus(Ee),Je=Yl.verify(m,$,L,Ie.finish,Ie.foffset,Z.failure,C);return Yl.cata(Je,()=>G.none(),()=>G.some(Ee),gt=>Xn($,gt)&&L===0?Lp(m,$,L,W0,Z):G0(m,C,gt,0,Z,te-1),gt=>Xn($,gt)&&L===ns(gt)?Lp(m,$,L,_h,Z):G0(m,C,gt,ns(gt),Z,te-1))}),Lp=(m,C,$,L,Z)=>u2(m,C,$).bind(te=>h2(m,Z,L(te,d2.getJumpSize()))),h2=(m,C,$)=>{const L=wg().browser;return L.isChromium()||L.isSafari()||L.isFirefox()?C.retry(m,$):G.none()},kF=(m,C,$,L,Z)=>u2(m,$,L).bind(te=>h2(m,Z,te)),p$=(m,C,$)=>GS(m,C,$).bind(L=>G0(m,C,L.element,L.offset,$,h$).map(m.fromSitus)),hk=(m,C)=>s$(m,$=>ut($).exists(L=>Xn(L,C))),Hp=(m,C,$,L,Z)=>is(L,"td,th",C).bind(te=>is(te,"table",C).bind(Ee=>hk(Z,Ee)?p$(m,C,$).bind(Ie=>is(Ie.finish,"td,th",C).map(Je=>({start:te,finish:Je,range:Ie}))):G.none())),p2=(m,C,$,L,Z,te)=>te(L,C).orThunk(()=>Hp(m,C,$,L,Z).map(Ee=>{const Ie=Ee.range;return Ja.create(G.some(_c(Ie.start,Ie.soffset,Ie.finish,Ie.foffset)),!0)})),Rr=(m,C)=>is(m,"tr",C).bind($=>is($,"table",C).bind(L=>{const Z=Ro(L,"tr");return Xn($,Z[0])?VS(L,te=>Wf(te).isSome(),C).map(te=>{const Ee=ns(te);return Ja.create(G.some(_c(te,Ee,te,Ee)),!0)}):G.none()})),Pd=(m,C)=>is(m,"tr",C).bind($=>is($,"table",C).bind(L=>{const Z=Ro(L,"tr");return Xn($,Z[Z.length-1])?lk(L,te=>Zc(te).isSome(),C).map(te=>Ja.create(G.some(_c(te,0,te,0)),!0)):G.none()})),jp=(m,C,$,L,Z,te,Ee)=>Hp(m,$,L,Z,te).bind(Ie=>RS(C,$,Ie.start,Ie.finish,Ee)),zp=m=>{let C=m;return{get:()=>C,set:Z=>{C=Z}}},KS=m=>{const C=zp(G.none()),$=()=>C.get().each(m);return{clear:()=>{$(),C.set(G.none())},isSet:()=>C.get().isSome(),get:()=>C.get(),set:Ie=>{$(),C.set(G.some(Ie))}}},U1=()=>{const m=KS(D);return{...m,on:$=>m.get().each($)}},pk=(m,C)=>is(m,"td,th",C),Sf=(m,C,$,L)=>{const Z=U1(),te=Z.clear,Ee=Bt=>{Z.on(hn=>{L.clearBeforeUpdate(C),pk(Bt.target,$).each(Rn=>{c0(hn,Rn,$).each(Tn=>{const tn=Tn.boxes.getOr([]);if(tn.length===1){const jn=tn[0],rn=hu(jn)==="false",Yn=nn(Ny(Bt.target),jn,Xn);rn&&Yn&&(L.selectRange(C,tn,jn,jn),m.selectContents(jn))}else tn.length>1&&(L.selectRange(C,tn,Tn.start,Tn.finish),m.selectContents(Rn))})})})};return{clearstate:te,mousedown:Bt=>{L.clear(C),pk(Bt.target,$).each(Z.set)},mouseover:Bt=>{Ee(Bt)},mouseup:Bt=>{Ee(Bt),te()}}},g2={traverse:Un,gather:zS,relative:Hl.before,retry:d2.tryDown,failure:Yl.failedDown},YS={traverse:An,gather:s2,relative:Hl.before,retry:d2.tryUp,failure:Yl.failedUp},dc=m=>C=>C===m,Ui=dc(38),XS=dc(40),W1=m=>m>=37&&m<=40,K0={isBackward:dc(37),isForward:dc(39)},gk={isBackward:dc(39),isForward:dc(37)},JS=m=>{const C=m!==void 0?m.dom:document,$=C.body.scrollLeft||C.documentElement.scrollLeft,L=C.body.scrollTop||C.documentElement.scrollTop;return Ec($,L)},g$=(m,C,$)=>{const Z=($!==void 0?$.dom:document).defaultView;Z&&Z.scrollBy(m,C)},Y0=Yc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),m$=m=>Y0.exact(m.start,m.soffset,m.finish,m.foffset),mk=m=>m.match({domRange:C=>Le.fromDom(C.startContainer),relative:(C,$)=>Hl.getStart(C),exact:(C,$,L,Z)=>C}),vk=Y0.domRange,v$=Y0.relative,bk=Y0.exact,yk=m=>{const C=mk(m);return lt(C)},wk=I1.create,nm={domRange:vk,relative:v$,exact:bk,exactFromRange:m$,getWin:yk,range:wk},m2=(m,C,$)=>{var L,Z;return G.from((Z=(L=m.dom).caretPositionFromPoint)===null||Z===void 0?void 0:Z.call(L,C,$)).bind(te=>{if(te.offsetNode===null)return G.none();const Ee=m.dom.createRange();return Ee.setStart(te.offsetNode,te.offset),Ee.collapse(),G.some(Ee)})},Ck=(m,C,$)=>{var L,Z;return G.from((Z=(L=m.dom).caretRangeFromPoint)===null||Z===void 0?void 0:Z.call(L,C,$))},q1=(()=>document.caretPositionFromPoint?m2:document.caretRangeFromPoint?Ck:G.none)(),X0=(m,C,$)=>{const L=Le.fromDom(m.document);return q1(L,C,$).map(Z=>I1.create(Le.fromDom(Z.startContainer),Z.startOffset,Le.fromDom(Z.endContainer),Z.endOffset))},v2=(m,C)=>{const $=wt(m);return $==="input"?Hl.after(m):U(["br","img"],$)?C===0?Hl.before(m):Hl.after(m):Hl.on(m,C)},b$=(m,C)=>{const $=m.fold(Hl.before,v2,Hl.after),L=C.fold(Hl.before,v2,Hl.after);return nm.relative($,L)},y$=(m,C,$,L)=>{const Z=v2(m,C),te=v2($,L);return nm.relative(Z,te)},w$=(m,C,$,L)=>{const te=Fo(m).dom.createRange();return te.setStart(m.dom,C),te.setEnd($.dom,L),te},Sk=(m,C,$,L)=>{const Z=w$(m,C,$,L),te=Xn(m,$)&&C===L;return Z.collapsed&&!te},qn=m=>G.from(m.getSelection()),wi=(m,C)=>{qn(m).each($=>{$.removeAllRanges(),$.addRange(C)})},Z1=(m,C,$,L,Z)=>{const te=R1(m,C,$,L,Z);wi(m,te)},al=(m,C,$,L,Z,te)=>{C.collapse($.dom,L),C.extend(Z.dom,te)},bu=(m,C)=>PS(m,C).match({ltr:($,L,Z,te)=>{Z1(m,$,L,Z,te)},rtl:($,L,Z,te)=>{qn(m).each(Ee=>{if(Ee.setBaseAndExtent)Ee.setBaseAndExtent($.dom,L,Z.dom,te);else if(Ee.extend)try{al(m,Ee,$,L,Z,te)}catch{Z1(m,Z,te,$,L)}else Z1(m,Z,te,$,L)})}}),om=(m,C,$,L,Z)=>{const te=y$(C,$,L,Z);bu(m,te)},G1=(m,C,$)=>{const L=b$(C,$);bu(m,L)},b2=m=>{if(m.rangeCount>0){const C=m.getRangeAt(0),$=m.getRangeAt(m.rangeCount-1);return G.some(I1.create(Le.fromDom(C.startContainer),C.startOffset,Le.fromDom($.endContainer),$.endOffset))}else return G.none()},C$=m=>{if(m.anchorNode===null||m.focusNode===null)return b2(m);{const C=Le.fromDom(m.anchorNode),$=Le.fromDom(m.focusNode);return Sk(C,m.anchorOffset,$,m.focusOffset)?G.some(I1.create(C,m.anchorOffset,$,m.focusOffset)):b2(m)}},xk=(m,C,$=!0)=>{const Z=($?Bd:I0)(m,C);wi(m,Z)},Ek=m=>qn(m).filter(C=>C.rangeCount>0).bind(C$),kk=m=>Ek(m).map(C=>nm.exact(C.start,C.soffset,C.finish,C.foffset)),S$=(m,C)=>{const $=jl(m,C);return M1($)},x$=(m,C,$)=>X0(m,C,$),Ak=m=>{qn(m).each(C=>C.removeAllRanges())},QS=m=>({elementFromPoint:(rn,Yn)=>Le.fromPoint(Le.fromDom(m.document),rn,Yn),getRect:rn=>rn.dom.getBoundingClientRect(),getRangedRect:(rn,Yn,Wo,fr)=>{const sa=nm.exact(rn,Yn,Wo,fr);return S$(m,sa)},getSelection:()=>kk(m).map(rn=>ak(m,rn)),fromSitus:rn=>{const Yn=nm.relative(rn.start,rn.finish);return ak(m,Yn)},situsFromPoint:(rn,Yn)=>x$(m,rn,Yn).map(Wo=>FS.create(Wo.start,Wo.soffset,Wo.finish,Wo.foffset)),clearSelection:()=>{Ak(m)},collapseSelection:(rn=!1)=>{kk(m).each(Yn=>Yn.fold(Wo=>Wo.collapse(rn),(Wo,fr)=>{const sa=rn?Wo:fr;G1(m,sa,sa)},(Wo,fr,sa,wl)=>{const Qa=rn?Wo:sa,il=rn?fr:wl;om(m,Qa,il,Qa,il)}))},setSelection:rn=>{om(m,rn.start,rn.soffset,rn.finish,rn.foffset)},setRelativeSelection:(rn,Yn)=>{G1(m,rn,Yn)},selectNode:rn=>{xk(m,rn,!1)},selectContents:rn=>{xk(m,rn)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>JS(Le.fromDom(m.document)).top,scrollBy:(rn,Yn)=>{g$(rn,Yn,Le.fromDom(m.document))}}),rm=(m,C)=>({rows:m,cols:C}),y2=(m,C,$,L)=>{const Z=QS(m),te=Sf(Z,C,$,L);return{clearstate:te.clearstate,mousedown:te.mousedown,mouseover:te.mouseover,mouseup:te.mouseup}},J0=(m,C,$,L)=>{const Z=QS(m),te=()=>(L.clear(C),G.none());return{keydown:(Je,gt,Bt,hn,Rn,Tn)=>{const tn=Je.raw,jn=tn.which,rn=tn.shiftKey===!0;return u0(C,L.selectedSelector).fold(()=>(W1(jn)&&!rn&&L.clearBeforeUpdate(C),XS(jn)&&rn?K(jp,Z,C,$,g2,hn,gt,L.selectRange):Ui(jn)&&rn?K(jp,Z,C,$,YS,hn,gt,L.selectRange):XS(jn)?K(p2,Z,$,g2,hn,gt,Pd):Ui(jn)?K(p2,Z,$,YS,hn,gt,Rr):G.none),Wo=>{const fr=sa=>()=>se(sa,Qa=>H0(Qa.rows,Qa.cols,C,Wo,L)).fold(()=>Ty(C,L.firstSelectedSelector,L.lastSelectedSelector).map(Qa=>{const il=XS(jn)||Tn.isForward(jn)?Hl.after:Hl.before;return Z.setRelativeSelection(Hl.on(Qa.first,0),il(Qa.table)),L.clear(C),Ja.create(G.none(),!0)}),Qa=>G.some(Ja.create(G.none(),!0)));return XS(jn)&&rn?fr([rm(1,0)]):Ui(jn)&&rn?fr([rm(-1,0)]):Tn.isBackward(jn)&&rn?fr([rm(0,-1),rm(-1,0)]):Tn.isForward(jn)&&rn?fr([rm(0,1),rm(1,0)]):W1(jn)&&!rn?te:G.none})()},keyup:(Je,gt,Bt,hn,Rn)=>u0(C,L.selectedSelector).fold(()=>{const Tn=Je.raw,tn=Tn.which;return Tn.shiftKey===!0&&W1(tn)?L0(C,$,gt,Bt,hn,Rn,L.selectRange):G.none()},G.none)}},w2=(m,C,$,L)=>{const Z=QS(m);return(te,Ee)=>{L.clearBeforeUpdate(C),c0(te,Ee,$).each(Ie=>{const Je=Ie.boxes.getOr([]);L.selectRange(C,Je,Ie.start,Ie.finish),Z.selectContents(Ee),Z.collapseSelection()})}},sm=(m,C)=>{const $=xs(m,C);return $===void 0||$===""?[]:$.split(" ")},ex=(m,C,$)=>{const Z=sm(m,C).concat([$]);return wr(m,C,Z.join(" ")),!0},Tk=(m,C,$)=>{const L=ce(sm(m,C),Z=>Z!==$);return L.length>0?wr(m,C,L.join(" ")):Vr(m,C),!1},am=m=>m.dom.classList!==void 0,Q0=m=>sm(m,"class"),E$=(m,C)=>ex(m,"class",C),k$=(m,C)=>Tk(m,"class",C),$h=(m,C)=>{am(m)?m.dom.classList.add(C):E$(m,C)},A$=m=>{(am(m)?m.dom.classList:Q0(m)).length===0&&Vr(m,"class")},Ok=(m,C)=>{am(m)?m.dom.classList.remove(C):k$(m,C),A$(m)},eb=(m,C)=>am(m)&&m.dom.classList.contains(C),wo=(m,C)=>{re(C,$=>{Ok(m,$)})},Fd=m=>C=>{$h(C,m)},Vl=m=>C=>{wo(C,m)},K1={byClass:m=>{const C=Fd(m.selected),$=Vl([m.selected,m.lastSelected,m.firstSelected]),L=te=>{const Ee=Ro(te,m.selectedSelector);re(Ee,$)};return{clearBeforeUpdate:L,clear:L,selectRange:(te,Ee,Ie,Je)=>{L(te),re(Ee,C),$h(Ie,m.firstSelected),$h(Je,m.lastSelected)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}},byAttr:(m,C,$)=>{const L=Je=>{Vr(Je,m.selected),Vr(Je,m.firstSelected),Vr(Je,m.lastSelected)},Z=Je=>{wr(Je,m.selected,"1")},te=Je=>{Ee(Je),$()},Ee=Je=>{const gt=Ro(Je,`${m.selectedSelector},${m.firstSelectedSelector},${m.lastSelectedSelector}`);re(gt,L)};return{clearBeforeUpdate:Ee,clear:te,selectRange:(Je,gt,Bt,hn)=>{te(Je),re(gt,Z),wr(Bt,m.firstSelected,"1"),wr(hn,m.lastSelected,"1"),C(gt,Bt,hn)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}}},tx=(m,C,$,L)=>{switch(m.tag){case"none":return C();case"single":return L(m.element);case"multiple":return $(m.elements)}},_k=()=>({tag:"none"}),nx=m=>({tag:"multiple",elements:m}),T$=m=>({tag:"single",element:m}),C2=(m,C,$)=>({get:()=>p1(m(),$).fold(()=>C().fold(_k,T$),nx)}),ox=(m,C)=>{const $=m.slice(0,C[C.length-1].row+1),L=Sh($);return tt(L,Z=>{const te=Z.cells.slice(0,C[C.length-1].column+1);return Se(te,Ee=>Ee.element)})},im=(m,C)=>{const $=m.slice(C[0].row+C[0].rowspan-1,m.length),L=Sh($);return tt(L,Z=>{const te=Z.cells.slice(C[0].column+C[0].colspan-1,Z.cells.length);return Se(te,Ee=>Ee.element)})},rx=(m,C,$)=>{const L=lr.fromTable(m);return Oc(L,C).map(te=>{const Ee=wh(L,$,!1),{rows:Ie}=Oi(Ee),Je=ox(Ie,te),gt=im(Ie,te);return{upOrLeftCells:Je,downOrRightCells:gt}})},$k=(m,C,$,L,Z,te,Ee)=>({target:m,x:C,y:$,stop:L,prevent:Z,kill:te,raw:Ee}),S2=m=>{const C=Le.fromDom(Bs(m).getOr(m.target)),$=()=>m.stopPropagation(),L=()=>m.preventDefault(),Z=B(L,$);return $k(C,m.clientX,m.clientY,$,L,Z,m)},sx=(m,C)=>$=>{m($)&&C(S2($))},qs=(m,C,$,L,Z)=>{const te=sx($,L);return m.dom.addEventListener(C,te,Z),{unbind:K(Dk,m,C,te,Z)}},ed=(m,C,$,L)=>qs(m,C,$,L,!1),Dk=(m,C,$,L)=>{m.dom.removeEventListener(C,$,L)},Bk=Q,lm=(m,C,$)=>ed(m,C,Bk,$),cm=S2,Y1=m=>!eb(Le.fromDom(m.target),"ephox-snooker-resizer-bar"),ax=(m,C)=>{const $=C2(()=>Le.fromDom(m.getBody()),()=>WC(qf(m),tl(m)),Td.selectedSelector),L=(Je,gt,Bt)=>{Ti(gt).each(Rn=>{const Tn=j3(m),tn=Uo(D,Le.fromDom(m.getDoc()),Tn),jn=Kc(m),rn=rx(Rn,{selection:jn},tn);Xf(m,Je,gt,Bt,rn)})},Z=()=>qg(m),te=K1.byAttr(Td,L,Z);return m.on("init",Je=>{const gt=m.getWin(),Bt=Og(m),hn=tl(m),Rn=()=>{const $s=m.selection,Xl=Le.fromDom($s.getStart()),Cl=Le.fromDom($s.getEnd());ph(Ti,[Xl,Cl]).fold(()=>te.clear(Bt),D)},Tn=y2(gt,Bt,hn,te),tn=J0(gt,Bt,hn,te),jn=w2(gt,Bt,hn,te),rn=$s=>$s.raw.shiftKey===!0;m.on("TableSelectorChange",$s=>jn($s.start,$s.finish));const Yn=($s,Xl)=>{!rn($s)||(Xl.kill&&$s.kill(),Xl.selection.each(Cl=>{const kf=nm.relative(Cl.start,Cl.finish),yu=jl(gt,kf);m.selection.setRng(yu)}))},Wo=$s=>{const Xl=cm($s);if(Xl.raw.shiftKey&&W1(Xl.raw.which)){const Cl=m.selection.getRng(),kf=Le.fromDom(Cl.startContainer),yu=Le.fromDom(Cl.endContainer);tn.keyup(Xl,kf,Cl.startOffset,yu,Cl.endOffset).each(J1=>{Yn(Xl,J1)})}},fr=$s=>{const Xl=cm($s);C.hide();const Cl=m.selection.getRng(),kf=Le.fromDom(Cl.startContainer),yu=Le.fromDom(Cl.endContainer),J1=yp(K0,gk)(Le.fromDom(m.selection.getStart()));tn.keydown(Xl,kf,Cl.startOffset,yu,Cl.endOffset,J1).each(Jl=>{Yn(Xl,Jl)}),C.show()},sa=$s=>$s.button===0,wl=$s=>$s.buttons===void 0?!0:($s.buttons&1)!==0,Qa=$s=>{Tn.clearstate()},il=$s=>{sa($s)&&Y1($s)&&Tn.mousedown(cm($s))},Rd=$s=>{wl($s)&&Y1($s)&&Tn.mouseover(cm($s))},ab=$s=>{sa($s)&&Y1($s)&&Tn.mouseup(cm($s))},pm=(()=>{const $s=zp(Le.fromDom(Bt)),Xl=zp(0);return{touchEnd:kf=>{const yu=Le.fromDom(kf.target);if(pr("td")(yu)||pr("th")(yu)){const J1=$s.get(),Jl=Xl.get();Xn(J1,yu)&&kf.timeStamp-Jl<300&&(kf.preventDefault(),jn(yu,yu))}$s.set(yu),Xl.set(kf.timeStamp)}}})();m.on("dragstart",Qa),m.on("mousedown",il),m.on("mouseover",Rd),m.on("mouseup",ab),m.on("touchend",pm.touchEnd),m.on("keyup",Wo),m.on("keydown",fr),m.on("NodeChange",Rn)}),m.on("PreInit",()=>{m.serializer.addTempAttr(Td.firstSelected),m.serializer.addTempAttr(Td.lastSelected)}),{getSelectedCells:()=>tx($.get(),P([]),Je=>Se(Je,gt=>gt.dom),Je=>[Je.dom]),clearSelectedCells:Je=>te.clear(Le.fromDom(Je))}},Ef=m=>{let C=[];return{bind:te=>{if(te===void 0)throw new Error("Event bind error: undefined handler");C.push(te)},unbind:te=>{C=ce(C,Ee=>Ee!==te)},trigger:(...te)=>{const Ee={};re(m,(Ie,Je)=>{Ee[Ie]=te[Je]}),re(C,Ie=>{Ie(Ee)})}}},um=m=>{const C=jt(m,L=>({bind:L.bind,unbind:L.unbind})),$=jt(m,L=>L.trigger);return{registry:C,trigger:$}},Nk=(m,C)=>{let $=null;const L=()=>{S($)||(clearTimeout($),$=null)};return{cancel:L,throttle:(...te)=>{L(),$=setTimeout(()=>{$=null,m.apply(null,te)},C)}}},tb=m=>m.slice(0).sort(),td=(m,C)=>{throw new Error("All required keys ("+tb(m).join(", ")+") were not specified. Specified keys were: "+tb(C).join(", ")+".")},x2=m=>{throw new Error("Unsupported keys for object: "+tb(m).join(", "))},Pk=(m,C)=>{if(!y(C))throw new Error("The "+m+" fields must be an array. Was: "+C+".");re(C,$=>{if(!p($))throw new Error("The value "+$+" in the "+m+" fields was not a string.")})},O$=(m,C)=>{throw new Error("All values need to be of type: "+C+". Keys ("+tb(m).join(", ")+") were not.")},_$=m=>{const C=tb(m);q(C,(L,Z)=>Z<C.length-1&&L===C[Z+1]).each(L=>{throw new Error("The field: "+L+" occurs more than once in the combined fields: ["+C.join(", ")+"].")})},$$=(m,C)=>zu(m,C,{validate:F,label:"function"}),zu=(m,C,$)=>{if(C.length===0)throw new Error("You must specify at least one required field.");return Pk("required",C),_$(C),L=>{const Z=xe(L);Qe(C,Ie=>U(Z,Ie))||td(C,Z),m(C,Z);const Ee=ce(C,Ie=>!$.validate(L[Ie],Ie));return Ee.length>0&&O$(Ee,$.label),L}},hc=(m,C)=>{const $=ce(C,L=>!U(m,L));$.length>0&&x2($)},Vp=m=>$$(hc,m),nb=Vp(["compare","extract","mutate","sink"]),E2=Vp(["element","start","stop","destroy"]),D$=Vp(["forceDrop","drop","move","delayDrop"]),Ur=()=>{let m=G.none();const C=()=>{m=G.none()},$=(te,Ee)=>{const Ie=m.map(Je=>te.compare(Je,Ee));return m=G.some(Ee),Ie},L=(te,Ee)=>{Ee.extract(te).each(Je=>{$(Ee,Je).each(Bt=>{Z.trigger.move(Bt)})})},Z=um({move:Ef(["info"])});return{onEvent:L,reset:C,events:Z.registry}},B$=()=>{const m=um({move:Ef(["info"])});return{onEvent:D,reset:D,events:m.registry}},k2=()=>{const m=B$(),C=Ur();let $=m;return{on:()=>{$.reset(),$=C},off:()=>{$.reset(),$=m},isOn:()=>$===C,onEvent:(Ie,Je)=>{$.onEvent(Ie,Je)},events:C.events}},ix=(m,C,$)=>{let L=!1;const Z=um({start:Ef([]),stop:Ef([])}),te=k2(),Ee=()=>{Tn.stop(),te.isOn()&&(te.off(),Z.trigger.stop())},Ie=Nk(Ee,200),Je=jn=>{Tn.start(jn),te.on(),Z.trigger.start()},gt=jn=>{Ie.cancel(),te.onEvent(jn,C)};te.events.move.bind(jn=>{C.mutate(m,jn.info)});const Bt=()=>{L=!0},hn=()=>{L=!1},Rn=jn=>(...rn)=>{L&&jn.apply(null,rn)},Tn=C.sink(D$({forceDrop:Ee,drop:Rn(Ee),move:Rn(gt),delayDrop:Rn(Ie.throttle)}),$),tn=()=>{Tn.destroy()};return{element:Tn.element,go:Je,on:Bt,off:hn,destroy:tn,events:Z.registry}},Fk=m=>{const C=m.replace(/\./g,"-");return{resolve:L=>C+"-"+L}},A2=Fk("ephox-dragster").resolve,P$=m=>{const C={layerClass:A2("blocker"),...m},$=Le.fromTag("div");return wr($,"role","presentation"),Xr($,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),$h($,A2("blocker")),$h($,C.layerClass),{element:P($),destroy:()=>{Is($)}}};var Mk=nb({compare:(m,C)=>Ec(C.left-m.left,C.top-m.top),extract:m=>G.some(Ec(m.x,m.y)),sink:(m,C)=>{const $=P$(C),L=lm($.element(),"mousedown",m.forceDrop),Z=lm($.element(),"mouseup",m.drop),te=lm($.element(),"mousemove",m.move),Ee=lm($.element(),"mouseout",m.delayDrop),Ie=()=>{$.destroy(),Z.unbind(),te.unbind(),Ee.unbind(),L.unbind()},Je=Bt=>{Qo(Bt,$.element())},gt=()=>{Is($.element())};return E2({element:$.element,start:Je,stop:gt,destroy:Ie})},mutate:(m,C)=>{m.mutate(C.left,C.top)}});const TF=(m,C={})=>{var $;const L=($=C.mode)!==null&&$!==void 0?$:Mk;return ix(m,L,C)},T2=Fk("ephox-snooker").resolve,cx=()=>{const m=um({drag:Ef(["xDelta","yDelta"])});return{mutate:($,L)=>{m.trigger.drag($,L)},events:m.registry}},O2=()=>{const m=um({drag:Ef(["xDelta","yDelta","target"])});let C=G.none();const $=cx();return $.events.drag.bind(te=>{C.each(Ee=>{m.trigger.drag(te.xDelta,te.yDelta,Ee)})}),{assign:te=>{C=G.some(te)},get:()=>C,mutate:$.mutate,events:m.registry}},_2=(m,C,$,L,Z)=>{const te=Le.fromTag("div");return Xr(te,{position:"absolute",left:C-L/2+"px",top:$+"px",height:Z+"px",width:L+"px"}),Jo(te,{"data-column":m,role:"presentation"}),te},Bo=(m,C,$,L,Z)=>{const te=Le.fromTag("div");return Xr(te,{position:"absolute",left:C+"px",top:$-Z/2+"px",height:Z+"px",width:L+"px"}),Jo(te,{"data-row":m,role:"presentation"}),te},ux=T2("resizer-bar"),Lk=T2("resizer-rows"),Hk=T2("resizer-cols"),fm=7,jk=(m,C)=>tt(m.all,($,L)=>C($.element)?[L]:[]),R$=(m,C)=>{const $=[];return De(m.grid.columns,L=>{lr.getColumnAt(m,L).map(te=>te.element).forall(C)&&$.push(L)}),ce($,L=>{const Z=lr.filterItems(m,te=>te.column===L);return Qe(Z,te=>C(te.element))})},zk=m=>{const C=Ro(m.parent(),"."+ux);re(C,Is)},M$=(m,C,$)=>{const L=m.origin();re(C,Z=>{Z.each(te=>{const Ee=$(L,te);$h(Ee,ux),Qo(m.parent(),Ee)})})},fx=(m,C,$,L)=>{M$(m,C,(Z,te)=>{const Ee=_2(te.col,te.x-Z.left,$.top-Z.top,fm,L);return $h(Ee,Hk),Ee})},I$=(m,C,$,L)=>{M$(m,C,(Z,te)=>{const Ee=Bo(te.row,$.left-Z.left,te.y-Z.top,L,fm);return $h(Ee,Lk),Ee})},dx=(m,C,$,L,Z)=>{const te=Bu($),Ee=C.isResizable,Ie=L.length>0?uu.positions(L,$):[],Je=Ie.length>0?jk(m,Ee):[],gt=ce(Ie,(Tn,tn)=>Fe(Je,jn=>tn===jn));I$(C,gt,te,bo($));const Bt=Z.length>0?ai.positions(Z,$):[],hn=Bt.length>0?R$(m,Ee):[],Rn=ce(Bt,(Tn,tn)=>Fe(hn,jn=>tn===jn));fx(C,Rn,te,no($))},$2=(m,C)=>{if(zk(m),m.isResizable(C)){const $=lr.fromTable(C),L=zf($),Z=el($);dx($,m,C,L,Z)}},hx=(m,C)=>{const $=Ro(m.parent(),"."+ux);re($,C)},Vk=m=>{hx(m,C=>{Fr(C,"display","none")})},Uk=m=>{hx(m,C=>{Fr(C,"display","block")})},L$=m=>eb(m,Lk),Wk=m=>eb(m,Hk),qk=T2("resizer-bar-dragging"),Zk=m=>{const C=O2(),$=TF(C,{});let L=G.none();const Z=(tn,jn)=>G.from(xs(tn,jn));C.events.drag.bind(tn=>{Z(tn.target,"data-row").each(jn=>{const rn=Ia(tn.target,"top");Fr(tn.target,"top",rn+tn.yDelta+"px")}),Z(tn.target,"data-column").each(jn=>{const rn=Ia(tn.target,"left");Fr(tn.target,"left",rn+tn.xDelta+"px")})});const te=(tn,jn)=>{const rn=Ia(tn,jn),Yn=Jr(tn,"data-initial-"+jn,0);return rn-Yn};$.events.stop.bind(()=>{C.get().each(tn=>{L.each(jn=>{Z(tn,"data-row").each(rn=>{const Yn=te(tn,"top");Vr(tn,"data-initial-top"),Tn.trigger.adjustHeight(jn,Yn,parseInt(rn,10))}),Z(tn,"data-column").each(rn=>{const Yn=te(tn,"left");Vr(tn,"data-initial-left"),Tn.trigger.adjustWidth(jn,Yn,parseInt(rn,10))}),$2(m,jn)})})});const Ee=(tn,jn)=>{Tn.trigger.startAdjust(),C.assign(tn),wr(tn,"data-initial-"+jn,Ia(tn,jn)),$h(tn,qk),Fr(tn,"opacity","0.2"),$.go(m.parent())},Ie=lm(m.parent(),"mousedown",tn=>{L$(tn.target)&&Ee(tn.target,"top"),Wk(tn.target)&&Ee(tn.target,"left")}),Je=tn=>Xn(tn,m.view()),gt=tn=>is(tn,"table",Je).filter(Yf),Bt=lm(m.view(),"mouseover",tn=>{gt(tn.target).fold(()=>{Ls(tn.target)&&zk(m)},jn=>{L=G.some(jn),$2(m,jn)})}),hn=()=>{Ie.unbind(),Bt.unbind(),$.destroy(),zk(m)},Rn=tn=>{$2(m,tn)},Tn=um({adjustHeight:Ef(["table","delta","row"]),adjustWidth:Ef(["table","delta","column"]),startAdjust:Ef([])});return{destroy:hn,refresh:Rn,on:$.on,off:$.off,hideBars:K(Vk,m),showBars:K(Uk,m),events:Tn.registry}},Gk={create:(m,C,$)=>{const L=uu,Z=ai,te=Zk(m),Ee=um({beforeResize:Ef(["table","type"]),afterResize:Ef(["table","type"]),startDrag:Ef([])});return te.events.adjustHeight.bind(Ie=>{const Je=Ie.table;Ee.trigger.beforeResize(Je,"row");const gt=L.delta(Ie.delta,Je);oS(Je,gt,Ie.row,L),Ee.trigger.afterResize(Je,"row")}),te.events.startAdjust.bind(Ie=>{Ee.trigger.startDrag()}),te.events.adjustWidth.bind(Ie=>{const Je=Ie.table;Ee.trigger.beforeResize(Je,"col");const gt=Z.delta(Ie.delta,Je),Bt=$(Je);Op(Je,gt,Ie.column,C,Bt),Ee.trigger.afterResize(Je,"col")}),{on:te.on,off:te.off,refreshBars:te.refresh,hideBars:te.hideBars,showBars:te.showBars,destroy:te.destroy,events:Ee.registry}}},pc={only:(m,C)=>{const $=As(m)?dn(m):m;return{parent:P($),view:P(m),origin:P(Ec(0,0)),isResizable:C}},detached:(m,C,$)=>{const L=()=>Bu(C);return{parent:P(C),view:P(m),origin:L,isResizable:$}},body:(m,C,$)=>({parent:P(C),view:P(m),origin:P(Ec(0,0)),isResizable:$})},ob=()=>{const m=Le.fromTag("div");return Xr(m,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Qo(Ma(),m),m},rb=(m,C)=>m.inline?pc.body(Le.fromDom(m.getBody()),ob(),C):pc.only(Le.fromDom(m.getDoc()),C),B2=(m,C)=>{m.inline&&Is(C.parent())},hm=m=>A(m)&&m.nodeName==="TABLE",px="bar-",H$=m=>xs(m,"data-mce-resize")!=="false",sb=m=>{const C=lr.fromTable(m);lr.hasColumns(C)||re(Du(m),$=>{const L=pi($,"width");Fr($,"width",L),Vr($,"width")})},Kk=m=>{const C=U1(),$=U1(),L=U1();let Z,te;const Ee=tn=>Kg(m,tn),Ie=()=>U3(m)?GC():ZC(),Je=tn=>h0(tn).columns,gt=(tn,jn,rn)=>{const Yn=it(jn,"e");if(te===""&&Bp(tn),rn!==Z&&te!==""){Fr(tn,"width",te);const Wo=Ie(),fr=Ee(tn),sa=U3(m)||Yn?Je(tn)-1:0;Op(tn,rn-Z,sa,Wo,fr)}else if(_g(te)){const Wo=parseFloat(te.replace("%","")),fr=rn*Wo/Z;Fr(tn,"width",fr+"%")}o0(te)&&sb(tn)},Bt=()=>{$.on(tn=>{tn.destroy()}),L.on(tn=>{B2(m,tn)})};return m.on("init",()=>{const tn=rb(m,H$);if(L.set(tn),z3(m)&&L5(m)){const jn=Ie(),rn=Gk.create(tn,jn,Ee);rn.on(),rn.events.startDrag.bind(Yn=>{C.set(m.selection.getRng())}),rn.events.beforeResize.bind(Yn=>{const Wo=Yn.table.dom;Jf(m,Wo,Cy(Wo),Ad(Wo),px+Yn.type)}),rn.events.afterResize.bind(Yn=>{const Wo=Yn.table,fr=Wo.dom;Gc(Wo),C.on(sa=>{m.selection.setRng(sa),m.focus()}),R5(m,fr,Cy(fr),Ad(fr),px+Yn.type),m.undoManager.add()}),$.set(rn)}}),m.on("ObjectResizeStart",tn=>{const jn=tn.target;if(hm(jn)){const rn=Le.fromDom(jn);re(m.dom.select(".mce-clonedresizable"),Yn=>{m.dom.addClass(Yn,"mce-"+$p(m)+"-columns")}),!kS(rn)&&Gg(m)?D0(rn):!ES(rn)&&Zg(m)&&Bp(rn),Dp(rn)&&Ye(tn.origin,px)&&Bp(rn),Z=tn.width,te=O0(m)?"":kp(m,jn).getOr("")}}),m.on("ObjectResized",tn=>{const jn=tn.target;if(hm(jn)){const rn=Le.fromDom(jn),Yn=tn.origin;Ye(Yn,"corner-")&&gt(rn,Yn,tn.width),Gc(rn),cc(m,rn.dom,T0)}}),m.on("SwitchMode",()=>{$.on(tn=>{m.mode.isReadOnly()?tn.hideBars():tn.showBars()})}),m.on("remove",()=>{Bt()}),{refresh:tn=>{$.on(jn=>jn.refreshBars(Le.fromDom(tn)))},hide:()=>{$.on(tn=>tn.hideBars())},show:()=>{$.on(tn=>tn.showBars())}}},zr=m=>{I5(m);const C=Kk(m),$=ax(m,C),L=Ea(m,C,$);return nk(m,L),R0(m,L),l5(m,L),{getSelectedCells:$.getSelectedCells,clearSelectedCells:$.clearSelectedCells}},Vu=m=>({table:zr(m)});var X1=()=>{e.add("dom",Vu)};X1()})();(function(){const e=Object.getPrototypeOf,o=(n,i,f)=>{var g;return f(n,i.prototype)?!0:((g=n.constructor)===null||g===void 0?void 0:g.name)===i.name},s=n=>{const i=typeof n;return n===null?"null":i==="object"&&Array.isArray(n)?"array":i==="object"&&o(n,String,(f,g)=>g.isPrototypeOf(f))?"string":i},l=n=>i=>s(i)===n,c=n=>i=>typeof i===n,d=n=>i=>n===i,p=(n,i)=>y(n)&&o(n,i,(f,g)=>e(f)===g),v=l("string"),y=l("object"),S=n=>p(n,Object),x=l("array"),T=d(null),k=c("boolean"),A=d(void 0),F=n=>n==null,N=n=>!F(n),D=c("function"),B=c("number"),O=(n,i)=>{if(x(n)){for(let f=0,g=n.length;f<g;++f)if(!i(n[f]))return!1;return!0}return!1},P=()=>{},I=n=>()=>n(),z=(n,i)=>(...f)=>n(i.apply(null,f)),K=(n,i)=>f=>n(i(f)),j=n=>()=>n,oe=n=>n,ke=(n,i)=>n===i;function ae(n,...i){return(...f)=>{const g=i.concat(f);return n.apply(null,g)}}const Q=n=>i=>!n(i),G=n=>()=>{throw new Error(n)},ue=n=>n(),pe=j(!1),be=j(!0);var qe=tinymce.util.Tools.resolve("tinymce.ThemeManager");class U{constructor(i,f){this.tag=i,this.value=f}static some(i){return new U(!0,i)}static none(){return U.singletonNone}fold(i,f){return this.tag?f(this.value):i()}isSome(){return this.tag}isNone(){return!this.tag}map(i){return this.tag?U.some(i(this.value)):U.none()}bind(i){return this.tag?i(this.value):U.none()}exists(i){return this.tag&&i(this.value)}forall(i){return!this.tag||i(this.value)}filter(i){return!this.tag||i(this.value)?this:U.none()}getOr(i){return this.tag?this.value:i}or(i){return this.tag?this:i}getOrThunk(i){return this.tag?this.value:i()}orThunk(i){return this.tag?this:i()}getOrDie(i){if(this.tag)return this.value;throw new Error(i!=null?i:"Called getOrDie on None")}static from(i){return N(i)?U.some(i):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(i){this.tag&&i(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const Fe=Array.prototype.slice,De=Array.prototype.indexOf,Se=Array.prototype.push,re=(n,i)=>De.call(n,i),le=(n,i)=>{const f=re(n,i);return f===-1?U.none():U.some(f)},fe=(n,i)=>re(n,i)>-1,ce=(n,i)=>{for(let f=0,g=n.length;f<g;f++){const w=n[f];if(i(w,f))return!0}return!1},Be=(n,i)=>{const f=[];for(let g=0;g<n;g++)f.push(i(g));return f},Ce=(n,i)=>{const f=[];for(let g=0;g<n.length;g+=i){const w=Fe.call(n,g,g+i);f.push(w)}return f},me=(n,i)=>{const f=n.length,g=new Array(f);for(let w=0;w<f;w++){const _=n[w];g[w]=i(_,w)}return g},q=(n,i)=>{for(let f=0,g=n.length;f<g;f++){const w=n[f];i(w,f)}},Ze=(n,i)=>{for(let f=n.length-1;f>=0;f--){const g=n[f];i(g,f)}},We=(n,i)=>{const f=[],g=[];for(let w=0,_=n.length;w<_;w++){const M=n[w];(i(M,w)?f:g).push(M)}return{pass:f,fail:g}},tt=(n,i)=>{const f=[];for(let g=0,w=n.length;g<w;g++){const _=n[g];i(_,g)&&f.push(_)}return f},Qe=(n,i,f)=>(Ze(n,(g,w)=>{f=i(f,g,w)}),f),at=(n,i,f)=>(q(n,(g,w)=>{f=i(f,g,w)}),f),He=(n,i,f)=>{for(let g=0,w=n.length;g<w;g++){const _=n[g];if(i(_,g))return U.some(_);if(f(_,g))break}return U.none()},Re=(n,i)=>He(n,i,pe),Ve=(n,i)=>{for(let f=0,g=n.length;f<g;f++){const w=n[f];if(i(w,f))return U.some(f)}return U.none()},Oe=n=>{const i=[];for(let f=0,g=n.length;f<g;++f){if(!x(n[f]))throw new Error("Arr.flatten item "+f+" was not an array, input: "+n);Se.apply(i,n[f])}return i},ve=(n,i)=>Oe(me(n,i)),se=(n,i)=>{for(let f=0,g=n.length;f<g;++f){const w=n[f];if(i(w,f)!==!0)return!1}return!0},xe=n=>{const i=Fe.call(n,0);return i.reverse(),i},ot=(n,i)=>tt(n,f=>!fe(i,f)),Xe=(n,i)=>{const f={};for(let g=0,w=n.length;g<w;g++){const _=n[g];f[String(_)]=i(_,g)}return f},jt=n=>[n],qt=(n,i)=>{const f=Fe.call(n,0);return f.sort(i),f},vn=(n,i)=>i>=0&&i<n.length?U.some(n[i]):U.none(),Kn=n=>vn(n,0),zn=n=>vn(n,n.length-1),fn=D(Array.from)?Array.from:n=>Fe.call(n),oo=(n,i)=>{for(let f=0;f<n.length;f++){const g=i(n[f],f);if(g.isSome())return g}return U.none()},ft=Object.keys,Tt=Object.hasOwnProperty,sn=(n,i)=>{const f=ft(n);for(let g=0,w=f.length;g<w;g++){const _=f[g],M=n[_];i(M,_)}},kn=(n,i)=>Pn(n,(f,g)=>({k:g,v:i(f,g)})),Pn=(n,i)=>{const f={};return sn(n,(g,w)=>{const _=i(g,w);f[_.k]=_.v}),f},$n=n=>(i,f)=>{n[f]=i},_o=(n,i,f,g)=>{sn(n,(w,_)=>{(i(w,_)?f:g)(w,_)})},mr=(n,i)=>{const f={},g={};return _o(n,i,$n(f),$n(g)),{t:f,f:g}},Ot=(n,i)=>{const f={};return _o(n,i,$n(f),P),f},wt=(n,i)=>{const f=[];return sn(n,(g,w)=>{f.push(i(g,w))}),f},wn=(n,i)=>{const f=ft(n);for(let g=0,w=f.length;g<w;g++){const _=f[g],M=n[_];if(i(M,_,n))return U.some(M)}return U.none()},xn=n=>wt(n,oe),pn=(n,i)=>eo(n,i)?U.from(n[i]):U.none(),eo=(n,i)=>Tt.call(n,i),yr=(n,i)=>eo(n,i)&&n[i]!==void 0&&n[i]!==null,As=(n,i,f=ke)=>n.exists(g=>f(g,i)),la=(n,i,f=ke)=>wr(n,i,f).getOr(n.isNone()&&i.isNone()),pr=n=>{const i=[],f=g=>{i.push(g)};for(let g=0;g<n.length;g++)n[g].each(f);return i},Sa=n=>{const i=[];for(let f=0;f<n.length;f++){const g=n[f];if(g.isSome())i.push(g.getOrDie());else return U.none()}return U.some(i)},wr=(n,i,f)=>n.isSome()&&i.isSome()?U.some(f(n.getOrDie(),i.getOrDie())):U.none(),Jo=(n,i,f,g)=>n.isSome()&&i.isSome()&&f.isSome()?U.some(g(n.getOrDie(),i.getOrDie(),f.getOrDie())):U.none(),To=(n,i)=>n!=null?U.some(i(n)):U.none(),xs=(n,i)=>n?U.some(i):U.none(),ra=(n,i)=>n+i,Vr=(n,i)=>n.substring(i),ca=(n,i,f)=>i===""||n.length>=i.length&&n.substr(f,f+i.length)===i,Yr=(n,i)=>Ta(n,i)?Vr(n,i.length):n,ri=(n,i)=>dt(n,i)?n:ra(n,i),as=(n,i,f=0,g)=>{const w=n.indexOf(i,f);return w!==-1?A(g)?!0:w+i.length<=g:!1},Ta=(n,i)=>ca(n,i,0),dt=(n,i)=>ca(n,i,n.length-i.length),Pt=(n=>i=>i.replace(n,""))(/^\s+|\s+$/g),Zt=n=>n.length>0,to=n=>!Zt(n),uo=n=>n.style!==void 0&&D(n.style.getPropertyValue),Xn=(n,i)=>{const g=(i||document).createElement("div");if(g.innerHTML=n,!g.hasChildNodes()||g.childNodes.length>1){const w="HTML does not have a single root node";throw console.error(w,n),new Error(w)}return Fo(g.childNodes[0])},vr=(n,i)=>{const g=(i||document).createElement(n);return Fo(g)},zo=(n,i)=>{const g=(i||document).createTextNode(n);return Fo(g)},Fo=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},dn={fromHtml:Xn,fromTag:vr,fromText:zo,fromDom:Fo,fromPoint:(n,i,f)=>U.from(n.dom.elementFromPoint(i,f)).map(Fo)},lt=typeof window<"u"?window:Function("return this;")(),ut=(n,i)=>{let f=i!=null?i:lt;for(let g=0;g<n.length&&f!==void 0&&f!==null;++g)f=f[n[g]];return f},en=(n,i)=>{const f=n.split(".");return ut(f,i)},En=(n,i)=>en(n,i),An=(n,i)=>{const f=En(n,i);if(f==null)throw new Error(n+" not available on this browser");return f},Un=Object.getPrototypeOf,_n=n=>An("HTMLElement",n),Jn=n=>{const i=en("ownerDocument.defaultView",n);return y(n)&&(_n(i).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(Un(n).constructor.name))},go=9,$o=11,Hr=1,Es=3,Qo=n=>n.dom.nodeName.toLowerCase(),fi=n=>n.dom.nodeType,ar=n=>i=>fi(i)===n,Tr=n=>Or(n)&&Jn(n.dom),Or=ar(Hr),Ys=ar(Es),Is=ar(go),Ei=ar($o),Fa=n=>i=>Or(i)&&Qo(i)===n,di=(n,i)=>{const f=n.dom;if(f.nodeType!==Hr)return!1;{const g=f;if(g.matches!==void 0)return g.matches(i);if(g.msMatchesSelector!==void 0)return g.msMatchesSelector(i);if(g.webkitMatchesSelector!==void 0)return g.webkitMatchesSelector(i);if(g.mozMatchesSelector!==void 0)return g.mozMatchesSelector(i);throw new Error("Browser lacks native selectors")}},fl=n=>n.nodeType!==Hr&&n.nodeType!==go&&n.nodeType!==$o||n.childElementCount===0,Mi=(n,i)=>{const f=i===void 0?document:i.dom;return fl(f)?[]:me(f.querySelectorAll(n),dn.fromDom)},ki=(n,i)=>{const f=i===void 0?document:i.dom;return fl(f)?U.none():U.from(f.querySelector(n)).map(dn.fromDom)},Cr=(n,i)=>n.dom===i.dom,Ra=(n,i)=>{const f=n.dom,g=i.dom;return f===g?!1:f.contains(g)},Vs=n=>dn.fromDom(n.dom.ownerDocument),si=n=>Is(n)?n:Vs(n),Oa=n=>dn.fromDom(si(n).dom.documentElement),Ai=n=>dn.fromDom(si(n).dom.defaultView),ga=n=>U.from(n.dom.parentNode).map(dn.fromDom),dl=n=>U.from(n.dom.parentElement).map(dn.fromDom),hi=n=>U.from(n.dom.offsetParent).map(dn.fromDom),hl=n=>U.from(n.dom.nextSibling).map(dn.fromDom),Sr=n=>me(n.dom.childNodes,dn.fromDom),ma=(n,i)=>{const f=n.dom.childNodes;return U.from(f[i]).map(dn.fromDom)},Ue=n=>ma(n,0),pt=(n,i)=>({element:n,offset:i}),xt=(n,i)=>{const f=Sr(n);return f.length>0&&i<f.length?pt(f[i],0):pt(n,i)},Gt=n=>Ei(n)&&N(n.dom.host),gn=D(Element.prototype.attachShadow)&&D(Node.prototype.getRootNode),Do=j(gn),or=gn?n=>dn.fromDom(n.dom.getRootNode()):si,Ts=n=>Gt(n)?n:dn.fromDom(si(n).dom.body),xr=n=>Bs(n).isSome(),Bs=n=>{const i=or(n);return Gt(i)?U.some(i):U.none()},Cs=n=>dn.fromDom(n.dom.host),Ls=n=>{if(Do()&&N(n.target)){const i=dn.fromDom(n.target);if(Or(i)&&Ma(i)&&n.composed&&n.composedPath){const f=n.composedPath();if(f)return Kn(f)}}return U.from(n.target)},Ma=n=>N(n.dom.shadowRoot),ie=n=>{const i=Ys(n)?n.dom.parentNode:n.dom;if(i==null||i.ownerDocument===null)return!1;const f=i.ownerDocument;return Bs(dn.fromDom(i)).fold(()=>f.body.contains(i),K(ie,Cs))},Ke=()=>Ct(dn.fromDom(document)),Ct=n=>{const i=n.dom.body;if(i==null)throw new Error("Body is not available yet");return dn.fromDom(i)},cn=(n,i,f)=>{if(v(f)||k(f)||B(f))n.setAttribute(i,f+"");else throw console.error("Invalid call to Attribute.set. Key ",i,":: Value ",f,":: Element ",n),new Error("Attribute value was not simple")},Fn=(n,i,f)=>{cn(n.dom,i,f)},Hn=(n,i)=>{const f=n.dom;sn(i,(g,w)=>{cn(f,w,g)})},Ro=(n,i)=>{const f=n.dom.getAttribute(i);return f===null?void 0:f},he=(n,i)=>U.from(Ro(n,i)),je=(n,i)=>{const f=n.dom;return f&&f.hasAttribute?f.hasAttribute(i):!1},et=(n,i)=>{n.dom.removeAttribute(i)},Nt=n=>at(n.dom.attributes,(i,f)=>(i[f.name]=f.value,i),{}),Dn=(n,i,f)=>{if(!v(f))throw console.error("Invalid call to CSS.set. Property ",i,":: Value ",f,":: Element ",n),new Error("CSS value must be a string: "+f);uo(n)&&n.style.setProperty(i,f)},mo=(n,i)=>{uo(n)&&n.style.removeProperty(i)},Wn=(n,i,f)=>{const g=n.dom;Dn(g,i,f)},Wr=(n,i)=>{const f=n.dom;sn(i,(g,w)=>{Dn(f,w,g)})},is=(n,i)=>{const f=n.dom;sn(i,(g,w)=>{g.fold(()=>{mo(f,w)},_=>{Dn(f,w,_)})})},nn=(n,i)=>{const f=n.dom,w=window.getComputedStyle(f).getPropertyValue(i);return w===""&&!ie(n)?Xs(f,i):w},Xs=(n,i)=>uo(n)?n.style.getPropertyValue(i):"",hs=(n,i)=>{const f=n.dom,g=Xs(f,i);return U.from(g).filter(w=>w.length>0)},Js=n=>{const i={},f=n.dom;if(uo(f))for(let g=0;g<f.style.length;g++){const w=f.style.item(g);i[w]=f.style[w]}return i},Dl=(n,i,f)=>{const g=dn.fromTag(n);return Wn(g,i,f),hs(g,i).isSome()},rr=(n,i)=>{const f=n.dom;mo(f,i),As(he(n,"style").map(Pt),"")&&et(n,"style")},Ye=n=>n.dom.offsetWidth,it=(n,i)=>{const f=(V,J)=>{if(!B(J)&&!J.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+J);const ne=V.dom;uo(ne)&&(ne.style[n]=J+"px")},g=V=>{const J=i(V);if(J<=0||J===null){const ne=nn(V,n);return parseFloat(ne)||0}return J},w=g,_=(V,J)=>at(J,(ne,de)=>{const ye=nn(V,de),Ne=ye===void 0?0:parseInt(ye,10);return isNaN(Ne)?ne:ne+Ne},0);return{set:f,get:g,getOuter:w,aggregate:_,max:(V,J,ne)=>{const de=_(V,ne);return J>de?J-de:0}}},Ft=it("height",n=>{const i=n.dom;return ie(n)?i.getBoundingClientRect().height:i.offsetHeight}),Vt=n=>Ft.get(n),ro=n=>Ft.getOuter(n),ko=(n,i)=>{const f=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],g=Ft.max(n,i,f);Wn(n,"max-height",g+"px")},Ss=(n,i)=>({left:n,top:i,translate:(g,w)=>Ss(n+g,i+w)}),Er=Ss,jc=n=>{const i=n.getBoundingClientRect();return Er(i.left,i.top)},Fr=(n,i)=>n!==void 0?n:i!==void 0?i:0,Xr=n=>{const i=n.dom.ownerDocument,f=i.body,g=i.defaultView,w=i.documentElement;if(f===n.dom)return Er(f.offsetLeft,f.offsetTop);const _=Fr(g==null?void 0:g.pageYOffset,w.scrollTop),M=Fr(g==null?void 0:g.pageXOffset,w.scrollLeft),V=Fr(w.clientTop,f.clientTop),J=Fr(w.clientLeft,f.clientLeft);return pi(n).translate(M-J,_-V)},pi=n=>{const i=n.dom,g=i.ownerDocument.body;return g===i?Er(g.offsetLeft,g.offsetTop):ie(n)?jc(i):Er(0,0)},Xi=it("width",n=>n.dom.offsetWidth),zc=(n,i)=>Xi.set(n,i),Us=n=>Xi.get(n),Os=n=>Xi.getOuter(n),Jr=(n,i)=>{const f=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],g=Xi.max(n,i,f);Wn(n,"max-width",g+"px")},va=n=>{let i=!1,f;return(...g)=>(i||(i=!0,f=n.apply(null,g)),f)},pl=(n,i,f,g)=>{const w=n.isiOS()&&/ipad/i.test(f)===!0,_=n.isiOS()&&!w,M=n.isiOS()||n.isAndroid(),V=M||g("(pointer:coarse)"),J=w||!_&&M&&g("(min-device-width:768px)"),ne=_||M&&!J,de=i.isSafari()&&n.isiOS()&&/safari/i.test(f)===!1,ye=!ne&&!J&&!de;return{isiPad:j(w),isiPhone:j(_),isTablet:j(J),isPhone:j(ne),isTouch:j(V),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:j(de),isDesktop:j(ye)}},$u=(n,i)=>{for(let f=0;f<n.length;f++){const g=n[f];if(g.test(i))return g}},Ia=(n,i)=>{const f=$u(n,i);if(!f)return{major:0,minor:0};const g=w=>Number(i.replace(f,"$"+w));return Ji(g(1),g(2))},af=(n,i)=>{const f=String(i).toLowerCase();return n.length===0?Rf():Ia(n,f)},Rf=()=>Ji(0,0),Ji=(n,i)=>({major:n,minor:i}),Mf={nu:Ji,detect:af,unknown:Rf},qm=(n,i)=>oo(i.brands,f=>{const g=f.brand.toLowerCase();return Re(n,w=>{var _;return g===((_=w.brand)===null||_===void 0?void 0:_.toLowerCase())}).map(w=>({current:w.name,version:Mf.nu(parseInt(f.version,10),0)}))}),Bl=(n,i)=>{const f=String(i).toLowerCase();return Re(n,g=>g.search(f))},Du=(n,i)=>Bl(n,i).map(f=>{const g=Mf.detect(f.versionRegexes,i);return{current:f.name,version:g}}),md=(n,i)=>Bl(n,i).map(f=>{const g=Mf.detect(f.versionRegexes,i);return{current:f.name,version:g}}),Ti=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,iu=n=>i=>as(i,n),If=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>as(n,"edge/")&&as(n,"chrome")&&as(n,"safari")&&as(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ti],search:n=>as(n,"chrome")&&!as(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>as(n,"msie")||as(n,"trident")},{name:"Opera",versionRegexes:[Ti,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:iu("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:iu("firefox")},{name:"Safari",versionRegexes:[Ti,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(as(n,"safari")||as(n,"mobile/"))&&as(n,"applewebkit")}],eh=[{name:"Windows",search:iu("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>as(n,"iphone")||as(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:iu("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:iu("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:iu("linux"),versionRegexes:[]},{name:"Solaris",search:iu("sunos"),versionRegexes:[]},{name:"FreeBSD",search:iu("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:iu("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],lf={browsers:j(If),oses:j(eh)},up="Edge",th="Chromium",Cc="IE",Zm="Opera",fp="Firefox",Lf="Safari",nh=()=>Sc({current:void 0,version:Mf.unknown()}),Sc=n=>{const i=n.current,f=n.version,g=w=>()=>i===w;return{current:i,version:f,isEdge:g(up),isChromium:g(th),isIE:g(Cc),isOpera:g(Zm),isFirefox:g(fp),isSafari:g(Lf)}},mt={unknown:nh,nu:Sc,edge:j(up),chromium:j(th),ie:j(Cc),opera:j(Zm),firefox:j(fp),safari:j(Lf)},cf="Windows",xc="iOS",dp="Android",hp="Linux",Gm="macOS",ps="Solaris",Ii="FreeBSD",bg="ChromeOS",Vc=()=>pp({current:void 0,version:Mf.unknown()}),pp=n=>{const i=n.current,f=n.version,g=w=>()=>i===w;return{current:i,version:f,isWindows:g(cf),isiOS:g(xc),isAndroid:g(dp),isMacOS:g(Gm),isLinux:g(hp),isSolaris:g(ps),isFreeBSD:g(Ii),isChromeOS:g(bg)}},Hf={unknown:Vc,nu:pp,windows:j(cf),ios:j(xc),android:j(dp),linux:j(hp),macos:j(Gm),solaris:j(ps),freebsd:j(Ii),chromeos:j(bg)},Km={detect:(n,i,f)=>{const g=lf.browsers(),w=lf.oses(),_=i.bind(J=>qm(g,J)).orThunk(()=>Du(g,n)).fold(mt.unknown,mt.nu),M=md(w,n).fold(Hf.unknown,Hf.nu),V=pl(M,_,n,f);return{browser:_,os:M,deviceType:V}}},oh=n=>window.matchMedia(n).matches;let Ym=va(()=>Km.detect(navigator.userAgent,U.from(navigator.userAgentData),oh));const Nl=()=>Ym(),rh=(n,i,f,g,w,_,M)=>({target:n,x:i,y:f,stop:g,prevent:w,kill:_,raw:M}),gp=n=>{const i=dn.fromDom(Ls(n).getOr(n.target)),f=()=>n.stopPropagation(),g=()=>n.preventDefault(),w=z(g,f);return rh(i,n.clientX,n.clientY,f,g,w,n)},vd=(n,i)=>f=>{n(f)&&i(gp(f))},gi=(n,i,f,g,w)=>{const _=vd(f,g);return n.dom.addEventListener(i,_,w),{unbind:ae(mp,n,i,_,w)}},sh=(n,i,f,g)=>gi(n,i,f,g,!1),yg=(n,i,f,g)=>gi(n,i,f,g,!0),mp=(n,i,f,g)=>{n.dom.removeEventListener(i,f,g)},jf=(n,i)=>{ga(n).each(g=>{g.dom.insertBefore(i.dom,n.dom)})},Xm=(n,i)=>{hl(n).fold(()=>{ga(n).each(w=>{gl(w,i)})},g=>{jf(g,i)})},vp=(n,i)=>{Ue(n).fold(()=>{gl(n,i)},g=>{n.dom.insertBefore(i.dom,g.dom)})},gl=(n,i)=>{n.dom.appendChild(i.dom)},Jm=(n,i,f)=>{ma(n,f).fold(()=>{gl(n,i)},g=>{jf(g,i)})},lu=(n,i)=>{q(i,f=>{gl(n,f)})},bd=n=>{n.dom.textContent="",q(Sr(n),i=>{uf(i)})},uf=n=>{const i=n.dom;i.parentNode!==null&&i.parentNode.removeChild(i)},Uc=n=>{const i=n!==void 0?n.dom:document,f=i.body.scrollLeft||i.documentElement.scrollLeft,g=i.body.scrollTop||i.documentElement.scrollTop;return Er(f,g)},Qm=(n,i,f)=>{const w=(f!==void 0?f.dom:document).defaultView;w&&w.scrollTo(n,i)},e1=n=>{const i=n===void 0?window:n;return Nl().browser.isFirefox()?U.none():U.from(i.visualViewport)},wg=(n,i,f,g)=>({x:n,y:i,width:f,height:g,right:n+f,bottom:i+g}),cu=n=>{const i=n===void 0?window:n,f=i.document,g=Uc(dn.fromDom(f));return e1(i).fold(()=>{const w=i.document.documentElement,_=w.clientWidth,M=w.clientHeight;return wg(g.left,g.top,_,M)},w=>wg(Math.max(w.pageLeft,g.left),Math.max(w.pageTop,g.top),w.width,w.height))},ee=()=>dn.fromDom(document),we=(n,i)=>n.view(i).fold(j([]),g=>{const w=n.owner(g),_=we(n,w);return[g].concat(_)}),Me=(n,i)=>{const f=i.owner(n),g=we(i,f);return U.some(g)};var In=Object.freeze({__proto__:null,view:n=>{var i;return(n.dom===document?U.none():U.from((i=n.dom.defaultView)===null||i===void 0?void 0:i.frameElement)).map(dn.fromDom)},owner:n=>Vs(n)});const Lo=n=>{const i=ee(),f=Uc(i);return Me(n,In).fold(ae(Xr,n),w=>{const _=pi(n),M=Qe(w,(V,J)=>{const ne=pi(J);return{left:V.left+ne.left,top:V.top+ne.top}},{left:0,top:0});return Er(M.left+_.left+f.left,M.top+_.top+f.top)})},_r=(n,i,f)=>({point:n,width:i,height:f}),br=(n,i,f,g)=>({x:n,y:i,width:f,height:g}),bo=(n,i,f,g)=>({x:n,y:i,width:f,height:g,right:n+f,bottom:i+g}),$r=n=>{const i=Xr(n),f=Os(n),g=ro(n);return bo(i.left,i.top,f,g)},ea=n=>{const i=Lo(n),f=Os(n),g=ro(n);return bo(i.left,i.top,f,g)},Hi=()=>cu(window),La=n=>{const i=_=>_(n),f=j(n),g=()=>w,w={tag:!0,inner:n,fold:(_,M)=>M(n),isValue:be,isError:pe,map:_=>er.value(_(n)),mapError:g,bind:i,exists:i,forall:i,getOr:f,or:g,getOrThunk:f,orThunk:g,getOrDie:f,each:_=>{_(n)},toOptional:()=>U.some(n)};return w},bp=n=>{const i=()=>f,f={tag:!1,inner:n,fold:(g,w)=>g(n),isValue:pe,isError:be,map:i,mapError:g=>er.error(g(n)),bind:i,exists:pe,forall:be,getOr:oe,or:oe,getOrThunk:ue,orThunk:ue,getOrDie:G(String(n)),each:P,toOptional:U.none};return f},er={value:La,error:bp,fromOption:(n,i)=>n.fold(()=>bp(i),La)};var ba;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(ba||(ba={}));const ts=(n,i,f)=>n.stype===ba.Error?i(n.serror):f(n.svalue),Qi=n=>{const i=[],f=[];return q(n,g=>{ts(g,w=>f.push(w),w=>i.push(w))}),{values:i,errors:f}},Oi=(n,i)=>n.stype===ba.Error?{stype:ba.Error,serror:i(n.serror)}:n,t1=(n,i)=>n.stype===ba.Value?{stype:ba.Value,svalue:i(n.svalue)}:n,Cg=(n,i)=>n.stype===ba.Value?i(n.svalue):n,n1=(n,i)=>n.stype===ba.Error?i(n.serror):n,ff=n=>({stype:ba.Value,svalue:n}),Sg=n=>({stype:ba.Error,serror:n}),_a={fromResult:n=>n.fold(Sg,ff),toResult:n=>ts(n,er.error,er.value),svalue:ff,partition:Qi,serror:Sg,bind:Cg,bindError:n1,map:t1,mapError:Oi,fold:ts},o1=(n,i,f,g)=>({tag:"field",key:n,newKey:i,presence:f,prop:g}),py=(n,i)=>({tag:"custom",newKey:n,instantiator:i}),Kv=(n,i,f)=>{switch(n.tag){case"field":return i(n.key,n.newKey,n.presence,n.prop);case"custom":return f(n.newKey,n.instantiator)}},xg=(n,i)=>i,gy=(n,i)=>S(n)&&S(i)?Ws(n,i):i,yd=n=>(...i)=>{if(i.length===0)throw new Error("Can't merge zero objects");const f={};for(let g=0;g<i.length;g++){const w=i[g];for(const _ in w)eo(w,_)&&(f[_]=n(f[_],w[_]))}return f},Ws=yd(gy),lr=yd(xg),el=()=>({tag:"required",process:{}}),df=n=>({tag:"defaultedThunk",process:n}),zf=n=>df(j(n)),r1=()=>({tag:"option",process:{}}),yp=n=>({tag:"mergeWithThunk",process:n}),my=n=>yp(j(n)),wd=(n,i)=>n.length>0?_a.svalue(Ws(i,lr.apply(void 0,n))):_a.svalue(i),Cd=n=>z(_a.serror,Oe)(n),oc={consolidateObj:(n,i)=>{const f=_a.partition(n);return f.errors.length>0?Cd(f.errors):wd(f.values,i)},consolidateArr:n=>{const i=_a.partition(n);return i.errors.length>0?Cd(i.errors):_a.svalue(i.values)}},Ec=n=>y(n)&&ft(n).length>100?" removed due to size":JSON.stringify(n,null,2),vy=n=>{const i=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):n;return me(i,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())},Sd=(n,i)=>_a.serror([{path:n,getErrorInfo:i}]),Bu=(n,i,f)=>Sd(n,()=>'Could not find valid *required* value for "'+i+'" in '+Ec(f)),RC=(n,i)=>Sd(n,()=>'Choice schema did not contain choice key: "'+i+'"'),hf=(n,i,f)=>Sd(n,()=>'The chosen schema: "'+f+'" did not exist in branches: '+Ec(i)),s1=(n,i)=>Sd(n,()=>"There are unsupported fields: ["+i.join(", ")+"] specified"),a1=(n,i)=>Sd(n,j(i)),bn=n=>{const i=(g,w)=>_a.bindError(n(w),_=>a1(g,_)),f=j("val");return{extract:i,toString:f}},Yv=bn(_a.svalue),Xv=(n,i,f,g)=>pn(i,f).fold(()=>Bu(n,f,i),g),Nu=(n,i,f,g)=>{const w=pn(n,i).getOrThunk(()=>f(n));return g(w)},wp=(n,i,f)=>f(pn(n,i)),Jv=(n,i,f,g)=>{const w=pn(n,i).map(_=>_===!0?f(n):_);return g(w)},$a=(n,i,f,g,w)=>{const _=V=>w.extract(i.concat([g]),V),M=V=>V.fold(()=>_a.svalue(U.none()),J=>{const ne=w.extract(i.concat([g]),J);return _a.map(ne,U.some)});switch(n.tag){case"required":return Xv(i,f,g,_);case"defaultedThunk":return Nu(f,g,n.process,_);case"option":return wp(f,g,M);case"defaultedOptionThunk":return Jv(f,g,n.process,M);case"mergeWithThunk":return Nu(f,g,j({}),V=>{const J=Ws(n.process(f),V);return _(J)})}},MC=(n,i,f)=>{const g={},w=[];for(const _ of f)Kv(_,(M,V,J,ne)=>{const de=$a(J,n,i,M,ne);_a.fold(de,ye=>{w.push(...ye)},ye=>{g[V]=ye})},(M,V)=>{g[M]=V(i)});return w.length>0?_a.serror(w):_a.svalue(g)},uu=n=>({extract:(g,w)=>n().extract(g,w),toString:()=>n().toString()}),xa=n=>ft(Ot(n,N)),rc=n=>{const i=Oo(n),f=Qe(n,(w,_)=>Kv(_,M=>Ws(w,{[M]:!0}),j(w)),{});return{extract:(w,_)=>{const M=k(_)?[]:xa(_),V=tt(M,J=>!yr(f,J));return V.length===0?i.extract(w,_):s1(w,V)},toString:i.toString}},Oo=n=>({extract:(g,w)=>MC(g,w,n),toString:()=>{const g=me(n,w=>Kv(w,(_,M,V,J)=>_+" -> "+J.toString(),(_,M)=>"state("+_+")"));return`obj{
`+g.join(`
`)+"}"}}),ai=n=>({extract:(g,w)=>{const _=me(w,(M,V)=>n.extract(g.concat(["["+V+"]"]),M));return oc.consolidateArr(_)},toString:()=>"array("+n.toString()+")"}),Eg=(n,i)=>{const f=i!==void 0?i:oe;return{extract:(_,M)=>{const V=[];for(const J of n){const ne=J.extract(_,M);if(ne.stype===ba.Value)return{stype:ba.Value,svalue:f(ne.svalue)};V.push(ne)}return oc.consolidateArr(V)},toString:()=>"oneOf("+me(n,_=>_.toString()).join(", ")+")"}},by=(n,i)=>{const f=(_,M)=>ai(bn(n)).extract(_,M);return{extract:(_,M)=>{const V=ft(M),J=f(_,V);return _a.bind(J,ne=>{const de=me(ne,ye=>o1(ye,ye,el(),i));return Oo(de).extract(_,M)})},toString:()=>"setOf("+i.toString()+")"}},Qv=(n,i)=>{const f=va(i);return{extract:(_,M)=>f().extract(_,M),toString:()=>f().toString()}},kg=z(ai,Oo),Wc=j(Yv),i1=(n,i)=>bn(f=>{const g=typeof f;return n(f)?_a.svalue(f):_a.serror(`Expected type: ${i} but got: ${g}`)}),Ag=i1(B,"number"),Da=i1(v,"string"),Pu=i1(k,"boolean"),l1=i1(D,"function"),Cp=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(i=>Cp(n[i]));default:return!1}},IC=bn(n=>Cp(n)?_a.svalue(n):_a.serror("Expected value to be acceptable for sending via postMessage")),Tg=(n,i,f,g)=>pn(f,g).fold(()=>hf(n,f,g),_=>_.extract(n.concat(["branch: "+g]),i)),xd=(n,i)=>({extract:(w,_)=>pn(_,n).fold(()=>RC(w,n),V=>Tg(w,_,i,V)),toString:()=>"chooseOn("+n+"). Possible values: "+ft(i)}),ah=()=>ai(Yv),Sp=n=>bn(i=>n(i).fold(_a.serror,_a.svalue)),yy=(n,i)=>by(f=>_a.fromResult(n(f)),i),ih=(n,i,f)=>{const g=i.extract([n],f);return _a.mapError(g,w=>({input:f,errors:w}))},jr=(n,i,f)=>_a.toResult(ih(n,i,f)),pf=n=>n.fold(i=>{throw new Error(Ed(i))},oe),Pl=(n,i,f)=>pf(jr(n,i,f)),Ed=n=>`Errors: 
`+vy(n.errors).join(`
`)+`

Input object: `+Ec(n.input),qc=(n,i)=>xd(n,kn(i,Oo)),wy=(n,i)=>Qv(n,i),ji=o1,ml=py,e0=n=>Sp(i=>fe(n,i)?er.value(i):er.error(`Unsupported value: "${i}", choose one of "${n.join(", ")}".`)),ln=n=>ji(n,n,el(),Wc()),_i=(n,i)=>ji(n,n,el(),i),Fu=n=>_i(n,Ag),Za=n=>_i(n,Da),xp=(n,i)=>ji(n,n,el(),e0(i)),lh=n=>_i(n,Pu),gf=n=>_i(n,l1),t0=(n,i)=>ji(n,n,r1(),bn(f=>_a.serror("The field: "+n+" is forbidden. "+i))),kc=(n,i)=>ji(n,n,el(),Oo(i)),c1=(n,i)=>ji(n,n,el(),kg(i)),Fl=(n,i)=>ji(n,n,el(),ai(i)),Kr=n=>ji(n,n,r1(),Wc()),Vf=(n,i)=>ji(n,n,r1(),i),ch=n=>Vf(n,Ag),Rl=n=>Vf(n,Da),uh=(n,i)=>Vf(n,e0(i)),Ga=n=>Vf(n,l1),Ep=(n,i)=>Vf(n,ai(i)),sc=(n,i)=>Vf(n,Oo(i)),u1=(n,i)=>Vf(n,rc(i)),_t=(n,i)=>ji(n,n,zf(i),Wc()),ac=(n,i,f)=>ji(n,n,zf(i),f),n0=(n,i)=>ac(n,i,Ag),Ac=(n,i)=>ac(n,i,Da),Uf=(n,i,f)=>ac(n,i,e0(f)),Tc=(n,i)=>ac(n,i,Pu),mi=(n,i)=>ac(n,i,l1),W=(n,i)=>ac(n,i,IC),X=(n,i,f)=>ac(n,i,ai(f)),_e=(n,i,f)=>ac(n,i,Oo(f)),$e=n=>{let i=n;return{get:()=>i,set:w=>{i=w}}},It={generate:n=>{if(!x(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const i=[],f={};return q(n,(g,w)=>{const _=ft(g);if(_.length!==1)throw new Error("one and only one name per case");const M=_[0],V=g[M];if(f[M]!==void 0)throw new Error("duplicate key detected:"+M);if(M==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(V))throw new Error("case arguments must be an array");i.push(M),f[M]=(...J)=>{const ne=J.length;if(ne!==V.length)throw new Error("Wrong number of arguments to case "+M+". Expected "+V.length+" ("+V+"), got "+ne);return{fold:(...ye)=>{if(ye.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+ye.length);return ye[w].apply(null,J)},match:ye=>{const Ne=ft(ye);if(i.length!==Ne.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+`
Actual: `+Ne.join(","));if(!se(i,rt=>fe(Ne,rt)))throw new Error("Not all branches were specified when using match. Specified: "+Ne.join(", ")+`
Required: `+i.join(", "));return ye[M].apply(null,J)},log:ye=>{console.log(ye,{constructors:i,constructor:M,params:J})}}}}),f}};It.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Cn=n=>{const i=[],f=[];return q(n,g=>{g.fold(w=>{i.push(w)},w=>{f.push(w)})}),{errors:i,values:f}},Gn=(n,i)=>{const f={};return sn(n,(g,w)=>{fe(i,w)||(f[w]=g)}),f},Zo=(n,i)=>({[n]:i}),ur=n=>{const i={};return q(n,f=>{i[f.key]=f.value}),i},ns=(n,i)=>Gn(n,i),us=(n,i)=>Zo(n,i),Ns=n=>ur(n),Ml=(n,i)=>n.length===0?er.value(i):er.value(Ws(i,lr.apply(void 0,n))),Zc=n=>er.error(Oe(n)),Wf=(n,i)=>{const f=Cn(n);return f.errors.length>0?Zc(f.errors):Ml(f.values,i)},Ru=n=>D(n)?n:pe,fh=(n,i,f)=>{let g=n.dom;const w=Ru(f);for(;g.parentNode;){g=g.parentNode;const _=dn.fromDom(g),M=i(_);if(M.isSome())return M;if(w(_))break}return U.none()},kd=(n,i,f)=>{const g=i(n),w=Ru(f);return g.orThunk(()=>w(n)?U.none():fh(n,i,w))},mf=(n,i)=>Cr(n.element,i.event.target),dh={can:be,abort:pe,run:P},vf=n=>{if(!yr(n,"can")&&!yr(n,"abort")&&!yr(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...dh,...n}},f1=(n,i)=>(...f)=>at(n,(g,w)=>g&&i(w).apply(void 0,f),!0),d1=(n,i)=>(...f)=>at(n,(g,w)=>g||i(w).apply(void 0,f),!1),LC=n=>D(n)?{can:be,abort:pe,run:n}:n,HC=n=>{const i=f1(n,w=>w.can),f=d1(n,w=>w.abort);return{can:i,abort:f,run:(...w)=>{q(n,_=>{_.run.apply(void 0,w)})}}},Uo=j,ks=Uo("touchstart"),zi=Uo("touchmove"),ya=Uo("touchend"),Og=Uo("touchcancel"),tl=Uo("mousedown"),Gc=Uo("mousemove"),qf=Uo("mouseout"),Cy=Uo("mouseup"),Ad=Uo("mouseover"),kp=Uo("focusin"),_g=Uo("focusout"),o0=Uo("keydown"),G4=Uo("keyup"),$g=Uo("input"),h1=Uo("change"),r0=Uo("click"),K4=Uo("transitioncancel"),s0=Uo("transitionend"),Sy=Uo("transitionstart"),Y4=Uo("selectstart"),Ka=n=>j("alloy."+n),s5={tap:Ka("tap")},Ap=Ka("focus"),vi=Ka("blur.post"),jC=Ka("paste.post"),Zf=Ka("receive"),fu=Ka("execute"),hh=Ka("focus.item"),a0=s5.tap,a5=Ka("longpress"),xy=Ka("sandbox.close"),i0=Ka("typeahead.cancel"),Ey=Ka("system.init"),ky=Ka("system.touchmove"),Ay=Ka("system.touchend"),zC=Ka("system.scroll"),l0=Ka("system.resize"),ph=Ka("system.attached"),bf=Ka("system.detached"),Tp=Ka("system.dismissRequested"),c0=Ka("system.repositionRequested"),u0=Ka("focusmanager.shifted"),f0=Ka("slotcontainer.visibility"),Ty=Ka("change.tab"),X4=Ka("dismiss.tab"),VC=Ka("highlight"),p1=Ka("dehighlight"),gs=(n,i)=>{gh(n,n.element,i,{})},Ho=(n,i,f)=>{gh(n,n.element,i,f)},du=n=>{gs(n,fu())},g1=(n,i,f)=>{gh(n,i,f,{})},gh=(n,i,f,g)=>{const w={target:i,...g};n.getSystem().triggerEvent(f,i,w)},i5=(n,i,f,g)=>{const w={...g,target:i};n.getSystem().triggerEvent(f,i,w)},Dg=(n,i,f,g)=>{n.getSystem().triggerEvent(f,i,g.event)},Dr=n=>Ns(n),Oy=(n,i)=>({key:n,value:vf({abort:i})}),_y=(n,i)=>({key:n,value:vf({can:i})}),J4=n=>({key:n,value:vf({run:(i,f)=>{f.event.prevent()}})}),on=(n,i)=>({key:n,value:vf({run:i})}),Td=(n,i,f)=>({key:n,value:vf({run:(g,w)=>{i.apply(void 0,[g,w].concat(f))}})}),d0=n=>i=>on(n,i),$y=n=>i=>({key:n,value:vf({run:(f,g)=>{mf(f,g)&&i(f,g)}})}),UC=(n,i)=>on(n,(f,g)=>{f.getSystem().getByUid(i).each(w=>{Dg(w,w.element,n,g)})}),Mu=(n,i,f)=>{const g=i.partUids[f];return UC(n,g)},m1=(n,i)=>on(n,(f,g)=>{const w=g.event,_=f.getSystem().getByDom(w.target).getOrThunk(()=>kd(w.target,V=>f.getSystem().getByDom(V).toOptional(),pe).getOr(f));i(f,_,g)}),Bg=n=>on(n,(i,f)=>{f.cut()}),WC=n=>on(n,(i,f)=>{f.stop()}),Kc=(n,i)=>$y(n)(i),Ya=$y(ph()),Gf=$y(bf()),qC=$y(Ey()),mh=d0(fu()),l5=(n,i)=>{const g=(i||document).createElement("div");return g.innerHTML=n,Sr(dn.fromDom(g))},vh=n=>n.dom.innerHTML,Od=(n,i)=>{const g=Vs(n).dom,w=dn.fromDom(g.createDocumentFragment()),_=l5(i,g);lu(w,_),bd(n),gl(n,w)},Q4=n=>{const i=dn.fromTag("div"),f=dn.fromDom(n.dom.cloneNode(!0));return gl(i,f),vh(i)},v1=(n,i)=>dn.fromDom(n.dom.cloneNode(i)),c5=n=>v1(n,!1),Ng=n=>{if(Gt(n))return"#shadow-root";{const i=c5(n);return Q4(i)}},_d=n=>Ng(n),u5=(n,i,f)=>Cr(i,n.element)&&!Cr(i,f),b1=Dr([_y(Ap(),(n,i)=>{const f=i.event,g=f.originator,w=f.target;return u5(n,g,w)?(console.warn(Ap()+` did not get interpreted by the desired target. 
Originator: `+_d(g)+`
Target: `+_d(w)+`
Check the `+Ap()+" event handlers"),!1):!0})]);var e3=Object.freeze({__proto__:null,events:b1});let Pg=0;const fo=n=>{const f=new Date().getTime(),g=Math.floor(Math.random()*1e9);return Pg++,n+"_"+g+Pg+String(f)},y1=j("alloy-id-"),ZC=j("data-alloy-id"),GC=y1(),h0=ZC(),Dy=(n,i)=>{const f=fo(GC+n);return _s(i,f),f},_s=(n,i)=>{Object.defineProperty(n.dom,h0,{value:i,writable:!0})},p0=n=>{const i=Or(n)?n.dom[h0]:null;return U.from(i)},Fg=n=>fo(n),KC=oe,Rg=n=>{const i=w=>`The component must be in a context to execute: ${w}`+(n?`
`+_d(n().element)+" is not in context.":""),f=w=>()=>{throw new Error(i(w))},g=w=>()=>{console.warn(i(w))};return{debugInfo:j("fake"),triggerEvent:g("triggerEvent"),triggerFocus:g("triggerFocus"),triggerEscape:g("triggerEscape"),broadcast:g("broadcast"),broadcastOn:g("broadcastOn"),broadcastEvent:g("broadcastEvent"),build:f("build"),buildOrPatch:f("buildOrPatch"),addToWorld:f("addToWorld"),removeFromWorld:f("removeFromWorld"),addToGui:f("addToGui"),removeFromGui:f("removeFromGui"),getByUid:f("getByUid"),getByDom:f("getByDom"),isConnected:pe}},t3=Rg(),Kf=(n,i,f)=>{const g=f.toString(),w=g.indexOf(")")+1,_=g.indexOf("("),M=g.substring(_+1,w-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:i,parameters:ii(M.slice(0,1).concat(M.slice(3)))}),n},ii=n=>me(n,i=>dt(i,"/*")?i.substring(0,i.length-2):i),By=(n,i)=>{const f=n.toString(),g=f.indexOf(")")+1,w=f.indexOf("("),_=f.substring(w+1,g-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:i,parameters:ii(_)}),n},n3=(n,i)=>{const f=i.toString(),g=f.indexOf(")")+1,w=f.indexOf("("),_=f.substring(w+1,g-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ii(_.slice(1))}),n},bh=fo("alloy-premade"),YC=n=>(Object.defineProperty(n.element.dom,bh,{value:n.uid,writable:!0}),us(bh,n)),f5=n=>eo(n.dom,bh),g0=n=>pn(n,bh),Ny=n=>n3((i,...f)=>n(i.getApis(),i,...f),n),Yf={init:()=>hu({readState:j("No State required")})},hu=n=>n,Py=(n,i)=>{const f=me(i,w=>sc(w.name(),[ln("config"),_t("state",Yf)])),g=jr("component.behaviours",Oo(f),n.behaviours).fold(w=>{throw new Error(Ed(w)+`
Complete spec:
`+JSON.stringify(n,null,2))},oe);return{list:i,data:kn(g,w=>{const _=w.map(M=>({config:M.config,state:M.state.init(M.config)}));return j(_)})}},d5=n=>n.list,vF=n=>n.data,yf=(n,i)=>{const f={};return sn(n,(g,w)=>{sn(g,(_,M)=>{const V=pn(f,M).getOr([]);f[M]=V.concat([i(w,_)])})}),f},Ba=n=>({classes:A(n.classes)?[]:n.classes,attributes:A(n.attributes)?{}:n.attributes,styles:A(n.styles)?{}:n.styles}),h5=(n,i)=>({...n,attributes:{...n.attributes,...i.attributes},styles:{...n.styles,...i.styles},classes:n.classes.concat(i.classes)}),p5=(n,i,f,g)=>{const w={...i};q(f,de=>{w[de.name()]=de.exhibit(n,g)});const _=yf(w,(de,ye)=>({name:de,modification:ye})),M=de=>Qe(de,(ye,Ne)=>({...Ne.modification,...ye}),{}),V=Qe(_.classes,(de,ye)=>ye.modification.concat(de),[]),J=M(_.attributes),ne=M(_.styles);return Ba({classes:V,attributes:J,styles:ne})},yh=(n,i,f,g)=>{try{const w=qt(f,(_,M)=>{const V=_[i],J=M[i],ne=g.indexOf(V),de=g.indexOf(J);if(ne===-1)throw new Error("The ordering for "+n+" does not have an entry for "+V+`.
Order specified: `+JSON.stringify(g,null,2));if(de===-1)throw new Error("The ordering for "+n+" does not have an entry for "+J+`.
Order specified: `+JSON.stringify(g,null,2));return ne<de?-1:de<ne?1:0});return er.value(w)}catch(w){return er.error([w])}},Fy=(n,i)=>({handler:n,purpose:i}),XC=(n,i)=>({cHandler:n,purpose:i}),wh=(n,i)=>XC(ae.apply(void 0,[n.handler].concat(i)),n.purpose),Ch=n=>n.cHandler,Sh=(n,i)=>({name:n,handler:i}),Mg=(n,i)=>{const f={};return q(n,g=>{f[g.name()]=g.handlers(i)}),f},Ig=(n,i,f)=>{const g={...f,...Mg(i,n)};return yf(g,Sh)},bi=(n,i,f,g)=>{const w=Ig(n,f,g);return r3(w,i)},o3=n=>{const i=LC(n);return(f,g,...w)=>{const _=[f,g].concat(w);i.abort.apply(void 0,_)?g.stop():i.can.apply(void 0,_)&&i.run.apply(void 0,_)}},Ry=(n,i)=>er.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(me(i,f=>f.name),null,2)]),g5=(n,i,f)=>{const g=i[f];return g?yh("Event: "+f,"name",n,g).map(w=>{const _=me(w,M=>M.handler);return HC(_)}):Ry(f,n)},r3=(n,i)=>{const f=wt(n,(g,w)=>(g.length===1?er.value(g[0].handler):g5(g,i,w)).map(M=>{const V=o3(M),J=g.length>1?tt(i[w],ne=>ce(g,de=>de.name===ne)).join(" > "):g[0].name;return us(w,Fy(V,J))}));return Wf(f,{})},Oc="alloy.base.behaviour",$d=Oo([ji("dom","dom",el(),Oo([ln("tag"),_t("styles",{}),_t("classes",[]),_t("attributes",{}),Kr("value"),Kr("innerHtml")])),ln("components"),ln("uid"),_t("events",{}),_t("apis",{}),ji("eventOrder","eventOrder",my({[fu()]:["disabling",Oc,"toggling","typeaheadevents"],[Ap()]:[Oc,"focusing","keying"],[Ey()]:[Oc,"disabling","toggling","representing"],[$g()]:[Oc,"representing","streaming","invalidating"],[bf()]:[Oc,"representing","item-events","tooltipping"],[tl()]:["focusing",Oc,"item-type-events"],[ks()]:["focusing",Oc,"item-type-events"],[Ad()]:["item-type-events","tooltipping"],[Zf()]:["receiving","reflecting","tooltipping"]}),Wc()),Kr("domModification")]),m5=n=>jr("custom.definition",$d,n),s3=n=>({...n.dom,uid:n.uid,domChildren:me(n.components,i=>i.element)}),v5=n=>n.domModification.fold(()=>Ba({}),Ba),a3=n=>n.events,My=(n,i)=>{const f=Ro(n,i);return f===void 0||f===""?[]:f.split(" ")},i3=(n,i,f)=>{const w=My(n,i).concat([f]);return Fn(n,i,w.join(" ")),!0},b5=(n,i,f)=>{const g=tt(My(n,i),w=>w!==f);return g.length>0?Fn(n,i,g.join(" ")):et(n,i),!1},w1=n=>n.dom.classList!==void 0,Lg=n=>My(n,"class"),JC=(n,i)=>i3(n,"class",i),l3=(n,i)=>b5(n,"class",i),nl=(n,i)=>{w1(n)?n.dom.classList.add(i):JC(n,i)},m0=n=>{(w1(n)?n.dom.classList:Lg(n)).length===0&&et(n,"class")},ua=(n,i)=>{w1(n)?n.dom.classList.remove(i):l3(n,i),m0(n)},vl=(n,i)=>w1(n)&&n.dom.classList.contains(i),pu=(n,i)=>{q(i,f=>{nl(n,f)})},gu=(n,i)=>{q(i,f=>{ua(n,f)})},y5=(n,i)=>se(i,f=>vl(n,f)),c3=n=>{const i=n.dom.classList,f=new Array(i.length);for(let g=0;g<i.length;g++){const w=i.item(g);w!==null&&(f[g]=w)}return f},v0=n=>w1(n)?c3(n):Lg(n),Zl=n=>n.dom.value,Hg=(n,i)=>{if(i===void 0)throw new Error("Value.set was undefined");n.dom.value=i},w5=(n,i,f)=>ma(n,i).map(w=>{if(f.exists(M=>!Cr(M,w))){const M=f.map(Qo).getOr("span"),V=dn.fromTag(M);return jf(w,V),V}else return w}),QC=(n,i,f)=>{f.fold(()=>gl(n,i),g=>{Cr(g,i)||(jf(g,i),uf(g))})},eS=(n,i,f)=>{const g=me(i,f),w=Sr(n);return q(w.slice(g.length),uf),g},u3=(n,i,f,g)=>{const w=ma(n,i),_=g(f,w),M=w5(n,i,w);return QC(n,_.element,M),_},b0=(n,i,f)=>eS(n,i,(g,w)=>u3(n,w,g,f)),xh=(n,i)=>eS(n,i,(f,g)=>{const w=ma(n,g);return QC(n,f,w),f}),f3=(n,i)=>{const f=ft(n),g=ft(i),w=ot(g,f),_=mr(n,(M,V)=>!eo(i,V)||M!==i[V]).t;return{toRemove:w,toSet:_}},d3=(n,i)=>{const{class:f,style:g,...w}=Nt(i),{toSet:_,toRemove:M}=f3(n.attributes,w),V=()=>{q(M,Zn=>et(i,Zn)),Hn(i,_)},J=Js(i),{toSet:ne,toRemove:de}=f3(n.styles,J),ye=()=>{q(de,Zn=>rr(i,Zn)),Wr(i,ne)},Ne=v0(i),Pe=ot(Ne,n.classes),rt=ot(n.classes,Ne),bt=()=>{pu(i,rt),gu(i,Pe)},Mt=Zn=>{Od(i,Zn)},kt=()=>{const Zn=n.domChildren;xh(i,Zn)},Lt=()=>{const Zn=i,Xt=n.value.getOrUndefined();Xt!==Zl(Zn)&&Hg(Zn,Xt!=null?Xt:"")};return V(),bt(),ye(),n.innerHtml.fold(kt,Mt),Lt(),i},h3=n=>{const i=dn.fromTag(n.tag);Hn(i,n.attributes),pu(i,n.classes),Wr(i,n.styles),n.innerHtml.each(g=>Od(i,g));const f=n.domChildren;return lu(i,f),n.value.each(g=>{Hg(i,g)}),i},p3=(n,i)=>{try{const f=d3(n,i);return U.some(f)}catch{return U.none()}},C5=n=>n.innerHtml.isSome()&&n.domChildren.length>0,g3=(n,i)=>{const f=w=>Qo(w)===n.tag&&!C5(n)&&!f5(w),g=i.filter(f).bind(w=>p3(n,w)).getOrThunk(()=>h3(n));return _s(g,n.uid),g},S5=n=>{const i=pn(n,"behaviours").getOr({});return ve(ft(i),f=>{const g=i[f];return N(g)?[g.me]:[]})},m3=(n,i)=>Py(n,i),v3=n=>{const i=S5(n);return m3(n,i)},y0=(n,i,f)=>{const g=s3(n),w=v5(n),_={"alloy.base.modification":w},M=i.length>0?p5(f,_,i,g):w;return h5(g,M)},x5=(n,i,f)=>{const g={"alloy.base.behaviour":a3(n)};return bi(f,n.eventOrder,i,g).getOrDie()},C1=(n,i)=>{const f=()=>Zn,g=$e(t3),w=pf(m5(n)),_=v3(n),M=d5(_),V=vF(_),J=y0(w,M,V),ne=g3(J,i),de=x5(w,M,V),ye=$e(w.components),Ne=Xt=>{g.set(Xt)},Pe=()=>{g.set(Rg(f))},rt=()=>{const Xt=Sr(ne),Qn=ve(Xt,ho=>g.get().getByDom(ho).fold(()=>[],jt));ye.set(Qn)},bt=Xt=>{const Qn=V;return(D(Qn[Xt.name()])?Qn[Xt.name()]:()=>{throw new Error("Could not find "+Xt.name()+" in "+JSON.stringify(n,null,2))})()},Mt=Xt=>D(V[Xt.name()]),kt=()=>w.apis,Lt=Xt=>V[Xt]().map(Qn=>Qn.state.readState()).getOr("not enabled"),Zn={uid:n.uid,getSystem:g.get,config:bt,hasConfigured:Mt,spec:n,readState:Lt,getApis:kt,connect:Ne,disconnect:Pe,element:ne,syncComponents:rt,components:ye.get,events:de};return Zn},tS=(n,i)=>{const f=pn(n,"components").getOr([]);return i.fold(()=>me(f,ic),g=>me(f,(w,_)=>x1(w,ma(g,_))))},b3=(n,i)=>{const{events:f,...g}=KC(n),w=tS(g,i),_={...g,events:{...e3,...f},components:w};return er.value(C1(_,i))},Xa=n=>{const i=dn.fromText(n);return S1({element:i})},S1=n=>{const i=Pl("external.component",rc([ln("element"),Kr("uid")]),n),f=$e(Rg()),g=V=>{f.set(V)},w=()=>{f.set(Rg(()=>M))},_=i.uid.getOrThunk(()=>Fg("external"));_s(i.element,_);const M={uid:_,getSystem:f.get,config:U.none,hasConfigured:pe,connect:g,disconnect:w,getApis:()=>({}),element:i.element,spec:n,readState:j("No state"),syncComponents:P,components:j([]),events:{}};return YC(M)},Iy=Fg,y3=n=>eo(n,"uid"),x1=(n,i)=>g0(n).getOrThunk(()=>{const f=y3(n)?n:{uid:Iy(""),...n};return b3(f,i).getOrDie()}),ic=n=>x1(n,U.none()),Iu=YC;var w3=(n,i,f,g,w)=>n(f,g)?U.some(f):D(w)&&w(f)?U.none():i(f,g,w);const Yc=(n,i,f)=>{let g=n.dom;const w=D(f)?f:pe;for(;g.parentNode;){g=g.parentNode;const _=dn.fromDom(g);if(i(_))return U.some(_);if(w(_))break}return U.none()},jg=(n,i,f)=>w3((w,_)=>_(w),Yc,n,i,f),E1=(n,i)=>{const f=w=>i(dn.fromDom(w));return Re(n.dom.childNodes,f).map(dn.fromDom)},Yt=(n,i)=>{const f=g=>{for(let w=0;w<g.childNodes.length;w++){const _=dn.fromDom(g.childNodes[w]);if(i(_))return U.some(_);const M=f(g.childNodes[w]);if(M.isSome())return M}return U.none()};return f(n.dom)},w0=(n,i,f)=>jg(n,i,f).isSome(),C0=(n,i,f)=>Yc(n,g=>di(g,i),f),E5=(n,i)=>E1(n,f=>di(f,i)),$i=(n,i)=>ki(i,n),ol=(n,i,f)=>w3((w,_)=>di(w,_),C0,n,i,f),k1="aria-controls",C3=n=>jg(n,f=>{if(!Or(f))return!1;const g=Ro(f,"id");return g!==void 0&&g.indexOf(k1)>-1}).bind(f=>{const g=Ro(f,"id"),w=or(f);return $i(w,`[${k1}="${g}"]`)}),nS=()=>{const n=fo(k1);return{id:n,link:g=>{Fn(g,k1,n)},unlink:g=>{et(g,k1)}}},S0=(n,i)=>C3(i).exists(f=>Op(n,f)),Op=(n,i)=>w0(i,f=>Cr(f,n.element),pe)||S0(n,i),oS="unknown";var A1;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(A1||(A1={}));const Ly=$e({}),T1=(n,i)=>{const f=[],g=new Date().getTime();return{logEventCut:(w,_,M)=>{f.push({outcome:"cut",target:_,purpose:M})},logEventStopped:(w,_,M)=>{f.push({outcome:"stopped",target:_,purpose:M})},logNoParent:(w,_,M)=>{f.push({outcome:"no-parent",target:_,purpose:M})},logEventNoHandlers:(w,_)=>{f.push({outcome:"no-handlers-left",target:_})},logEventResponse:(w,_,M)=>{f.push({outcome:"response",purpose:M,target:_})},write:()=>{const w=new Date().getTime();fe(["mousemove","mouseover","mouseout",Ey()],n)||console.log(n,{event:n,time:w-g,target:i.dom,sequence:me(f,_=>fe(["cut","stopped","response"],_.outcome)?"{"+_.purpose+"} "+_.outcome+" at ("+_d(_.target)+")":_.outcome)})}}},rS=(n,i,f)=>{switch(pn(Ly.get(),n).orThunk(()=>{const w=ft(Ly.get());return oo(w,_=>n.indexOf(_)>-1?U.some(Ly.get()[_]):U.none())}).getOr(A1.NORMAL)){case A1.NORMAL:return f(k5());case A1.LOGGING:{const w=T1(n,i),_=f(w);return w.write(),_}case A1.STOP:return!0}},S3=["alloy/data/Fields","alloy/debugging/Debugging"],x3=()=>{const n=new Error;if(n.stack!==void 0){const i=n.stack.split(`
`);return Re(i,f=>f.indexOf("alloy")>0&&!ce(S3,g=>f.indexOf(g)>-1)).getOr(oS)}else return oS},E3={logEventCut:P,logEventStopped:P,logNoParent:P,logEventNoHandlers:P,logEventResponse:P,write:P},O1=(n,i,f)=>rS(n,i,f),k5=j(E3),Hy=j([ln("menu"),ln("selectedMenu")]),k3=j([ln("item"),ln("selectedItem")]);j(Oo(k3().concat(Hy())));const lc=j(Oo(k3())),A3=kc("initSize",[ln("numColumns"),ln("numRows")]),T3=()=>_i("markers",lc()),x0=()=>kc("markers",[ln("backgroundMenu")].concat(Hy()).concat(k3())),zg=n=>kc("markers",me(n,ln)),Vg=(n,i,f)=>(x3(),ji(i,i,f,Sp(g=>er.value((...w)=>g.apply(void 0,w))))),qr=n=>Vg("onHandler",n,zf(P)),Xc=n=>Vg("onKeyboardHandler",n,zf(U.none)),_p=n=>Vg("onHandler",n,el()),jy=n=>Vg("onKeyboardHandler",n,el()),Qs=(n,i)=>ml(n,j(i)),E0=n=>ml(n,oe),_1=j(A3),rl=(n,i,f,g,w,_,M,V=!1)=>({x:n,y:i,bubble:f,direction:g,placement:w,restriction:_,label:`${M}-${w}`,alwaysFit:V}),Ug=It.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),fa=(n,i,f,g,w,_,M,V,J)=>n.fold(i,f,g,w,_,M,V,J),sS=(n,i,f,g)=>n.fold(i,i,g,g,i,g,f,f),Dd=(n,i,f,g)=>n.fold(i,g,i,g,f,f,i,g),zy=Ug.southeast,aS=Ug.southwest,iS=Ug.northeast,lS=Ug.northwest,cS=Ug.south,uS=Ug.north,O3=Ug.east,k0=Ug.west,$1=(n,i,f,g)=>{const w=n+i;return w>g?f:w<f?g:w},Jc=(n,i,f)=>Math.min(Math.max(n,i),f),A5=(n,i)=>{switch(i){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},bl=(n,i)=>Xe(["left","right","top","bottom"],f=>pn(i,f).map(g=>A5(n,g))),T5=(n,i,f)=>{const g=(J,ne)=>i[J].map(de=>{const ye=J==="top"||J==="bottom",Ne=ye?f.top:f.left,rt=(J==="left"||J==="top"?Math.max:Math.min)(de,ne)+Ne;return ye?Jc(rt,n.y,n.bottom):Jc(rt,n.x,n.right)}).getOr(ne),w=g("left",n.x),_=g("top",n.y),M=g("right",n.right),V=g("bottom",n.bottom);return bo(w,_,M-w,V-_)},Eh="layout",ao=n=>n.x,Vy=(n,i)=>n.x+n.width/2-i.width/2,D1=(n,i)=>n.x+n.width-i.width,fS=(n,i)=>n.y-i.height,dS=n=>n.y+n.height,_3=(n,i)=>n.y+n.height/2-i.height/2,$3=n=>n.x+n.width,O5=(n,i)=>n.x-i.width,Il=(n,i,f)=>rl(ao(n),dS(n),f.southeast(),zy(),"southeast",bl(n,{left:1,top:3}),Eh),yl=(n,i,f)=>rl(D1(n,i),dS(n),f.southwest(),aS(),"southwest",bl(n,{right:0,top:3}),Eh),Gl=(n,i,f)=>rl(ao(n),fS(n,i),f.northeast(),iS(),"northeast",bl(n,{left:1,bottom:2}),Eh),da=(n,i,f)=>rl(D1(n,i),fS(n,i),f.northwest(),lS(),"northwest",bl(n,{right:0,bottom:2}),Eh),Ll=(n,i,f)=>rl(Vy(n,i),fS(n,i),f.north(),uS(),"north",bl(n,{bottom:2}),Eh),sl=(n,i,f)=>rl(Vy(n,i),dS(n),f.south(),cS(),"south",bl(n,{top:3}),Eh),Uy=(n,i,f)=>rl($3(n),_3(n,i),f.east(),O3(),"east",bl(n,{left:0}),Eh),Wy=(n,i,f)=>rl(O5(n,i),_3(n,i),f.west(),k0(),"west",bl(n,{right:1}),Eh),D3=()=>[Il,yl,Gl,da,sl,Ll,Uy,Wy],hS=()=>[yl,Il,da,Gl,sl,Ll,Uy,Wy],A0=()=>[Gl,da,Il,yl,Ll,sl],B1=()=>[da,Gl,yl,Il,Ll,sl],pS=()=>[Il,yl,Gl,da,sl,Ll],qy=()=>[yl,Il,da,Gl,sl,Ll],_5=(n,i)=>i.universal?n:tt(n,f=>fe(i.channels,f));var $5=Object.freeze({__proto__:null,events:n=>Dr([on(Zf(),(i,f)=>{const g=n.channels,w=ft(g),_=f,M=_5(w,_);q(M,V=>{const J=g[V],ne=J.schema,de=Pl("channel["+V+`] data
Receiver: `+_d(i.element),ne,_.data);J.onReceive(i,de)})})])}),D5=[_i("channels",yy(er.value,rc([_p("onReceive"),_t("schema",Wc())])))];const B5=(n,i,f)=>mh(g=>{f(g,n,i)}),gS=(n,i,f)=>qC((g,w)=>{f(g,n,i)}),mS=(n,i,f,g,w,_)=>{const M=rc(n),V=sc(i,[u1("config",n)]);return P3(M,V,i,f,g,w,_)},B3=(n,i,f,g,w,_)=>{const M=n,V=sc(i,[Vf("config",n)]);return P3(M,V,i,f,g,w,_)},N5=(n,i,f)=>Kf((w,..._)=>{const M=[w].concat(_);return w.config({name:j(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+f)},V=>{const J=Array.prototype.slice.call(M,1);return i.apply(void 0,[w,V.config,V.state].concat(J))})},f,i),N3=n=>({key:n,value:void 0}),P3=(n,i,f,g,w,_,M)=>{const V=ye=>yr(ye,f)?ye[f]():U.none(),J=kn(w,(ye,Ne)=>N5(f,ye,Ne)),de={...kn(_,(ye,Ne)=>By(ye,Ne)),...J,revoke:ae(N3,f),config:ye=>{const Ne=Pl(f+"-config",n,ye);return{key:f,value:{config:Ne,me:de,configAsRaw:va(()=>Pl(f+"-config",n,ye)),initialConfig:ye,state:M}}},schema:j(i),exhibit:(ye,Ne)=>wr(V(ye),pn(g,"exhibit"),(Pe,rt)=>rt(Ne,Pe.config,Pe.state)).getOrThunk(()=>Ba({})),name:j(f),handlers:ye=>V(ye).map(Ne=>pn(g,"events").getOr(()=>({}))(Ne.config,Ne.state)).getOr({})};return de},Mn=n=>Ns(n),P5=rc([ln("fields"),ln("name"),_t("active",{}),_t("apis",{}),_t("state",Yf),_t("extra",{})]),Vi=n=>{const i=Pl("Creating behaviour: "+n.name,P5,n);return mS(i.fields,i.name,i.active,i.apis,i.extra,i.state)},F5=rc([ln("branchKey"),ln("branches"),ln("name"),_t("active",{}),_t("apis",{}),_t("state",Yf),_t("extra",{})]),F3=n=>{const i=Pl("Creating behaviour: "+n.name,F5,n);return B3(qc(i.branchKey,i.branches),i.name,i.active,i.apis,i.extra,i.state)},R3=j(void 0),wf=Vi({fields:D5,name:"receiving",active:$5});var M3=Object.freeze({__proto__:null,exhibit:(n,i)=>Ba({classes:[],styles:i.useFixed()?{}:{position:"relative"}})});const kh=n=>n.dom.focus(),Wg=n=>n.dom.blur(),vS=n=>{const i=or(n).dom;return n.dom===i.activeElement},cc=(n=ee())=>U.from(n.dom.activeElement).map(dn.fromDom),Xf=n=>cc(or(n)).filter(i=>n.dom.contains(i.dom)),qg=(n,i)=>{const f=or(i),g=cc(f).bind(_=>{const M=V=>Cr(_,V);return M(i)?U.some(i):Yt(i,M)}),w=n(i);return g.each(_=>{cc(f).filter(M=>Cr(M,_)).fold(()=>{kh(_)},P)}),w},Jf=(n,i,f,g,w)=>{const _=M=>M+"px";return{position:n,left:i.map(_),top:f.map(_),right:g.map(_),bottom:w.map(_)}},R5=n=>({...n,position:U.some(n.position)}),T0=(n,i)=>{is(n,R5(i))},Di=It.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),I3=(n,i,f,g,w,_)=>{const M=i.rect,V=M.x-f,J=M.y-g,ne=M.width,de=M.height,ye=w-(V+ne),Ne=_-(J+de),Pe=U.some(V),rt=U.some(J),bt=U.some(ye),Mt=U.some(Ne),kt=U.none();return fa(i.direction,()=>Jf(n,Pe,rt,kt,kt),()=>Jf(n,kt,rt,bt,kt),()=>Jf(n,Pe,kt,kt,Mt),()=>Jf(n,kt,kt,bt,Mt),()=>Jf(n,Pe,rt,kt,kt),()=>Jf(n,Pe,kt,kt,Mt),()=>Jf(n,Pe,rt,kt,kt),()=>Jf(n,kt,rt,bt,kt))},Ah=(n,i)=>n.fold(()=>{const f=i.rect;return Jf("absolute",U.some(f.x),U.some(f.y),U.none(),U.none())},(f,g,w,_)=>I3("absolute",i,f,g,w,_),(f,g,w,_)=>I3("fixed",i,f,g,w,_)),Zy=(n,i)=>{const f=ae(Lo,i),g=n.fold(f,f,()=>{const M=Uc();return Lo(i).translate(-M.left,-M.top)}),w=Os(i),_=ro(i);return bo(g.left,g.top,w,_)},L3=(n,i)=>i.fold(()=>n.fold(Hi,Hi,bo),f=>n.fold(f,f,()=>{const g=f(),w=H3(n,g.x,g.y);return bo(w.left,w.top,g.width,g.height)})),H3=(n,i,f)=>{const g=Er(i,f),w=()=>{const _=Uc();return g.translate(-_.left,-_.top)};return n.fold(j(g),j(g),w)},M5=(n,i,f,g)=>n.fold(i,f,g);Di.none;const I5=Di.relative,j3=Di.fixed,z3=(n,i)=>({anchorBox:n,origin:i}),V3=(n,i)=>z3(n,i),$p="data-alloy-placement",U3=(n,i)=>{Fn(n,$p,i)},bS=n=>he(n,$p),yS=n=>et(n,$p),Zg=It.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Gg=(n,i)=>{const{x:f,y:g,right:w,bottom:_}=i,{x:M,y:V,right:J,bottom:ne,width:de,height:ye}=n,Ne=M>=f&&M<=w,Pe=V>=g&&V<=_,rt=Ne&&Pe,bt=J<=w&&J>=f,Mt=ne<=_&&ne>=g,kt=bt&&Mt,Lt=Math.min(de,M>=f?w-M:J-f),Zn=Math.min(ye,V>=g?_-V:ne-g);return{originInBounds:rt,sizeInBounds:kt,visibleW:Lt,visibleH:Zn}},O0=(n,i)=>{const{x:f,y:g,right:w,bottom:_}=i,{x:M,y:V,width:J,height:ne}=n,de=Math.max(f,w-J),ye=Math.max(g,_-ne),Ne=Jc(M,f,de),Pe=Jc(V,g,ye),rt=Math.min(Ne+J,w)-Ne,bt=Math.min(Pe+ne,_)-Pe;return bo(Ne,Pe,rt,bt)},L5=(n,i,f)=>{const g=j(i.bottom-f.y),w=j(f.bottom-i.y),_=sS(n,w,w,g),M=j(i.right-f.x),V=j(f.right-i.x);return{maxWidth:Dd(n,V,V,M),maxHeight:_}},W3=(n,i,f,g)=>{const w=n.bubble,_=w.offset,M=T5(g,n.restriction,_),V=n.x+_.left,J=n.y+_.top,ne=bo(V,J,i,f),{originInBounds:de,sizeInBounds:ye,visibleW:Ne,visibleH:Pe}=Gg(ne,M),rt=de&&ye,bt=rt?ne:O0(ne,M),Mt=bt.width>0&&bt.height>0,{maxWidth:kt,maxHeight:Lt}=L5(n.direction,bt,g),Zn={rect:bt,maxHeight:Lt,maxWidth:kt,direction:n.direction,placement:n.placement,classes:{on:w.classesOn,off:w.classesOff},layout:n.label,testY:J};return rt||n.alwaysFit?Zg.fit(Zn):Zg.nofit(Zn,Ne,Pe,Mt)},H5=(n,i,f,g,w,_)=>{const M=g.width,V=g.height,J=(de,ye,Ne,Pe,rt)=>{const bt=de(f,g,w,n,_),Mt=W3(bt,M,V,_);return Mt.fold(j(Mt),(kt,Lt,Zn,Xt)=>(rt===Xt?Zn>Pe||Lt>Ne:!rt&&Xt)?Mt:Zg.nofit(ye,Ne,Pe,rt))};return at(i,(de,ye)=>{const Ne=ae(J,ye);return de.fold(j(de),Ne)},Zg.nofit({rect:f,maxHeight:g.height,maxWidth:g.width,direction:zy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:f.y},-1,-1,!1)).fold(oe,oe)},wS=n=>{const i=$e(U.none()),f=()=>i.get().each(n);return{clear:()=>{f(),i.set(U.none())},isSet:()=>i.get().isSome(),get:()=>i.get(),set:V=>{f(),i.set(U.some(V))}}},j5=()=>wS(n=>n.destroy()),Kg=()=>wS(n=>n.unbind()),Ea=()=>{const n=wS(P);return{...n,on:f=>n.get().each(f)}},N1=be,Kl=(n,i,f)=>sh(n,i,N1,f),q3=(n,i,f)=>yg(n,i,N1,f),Z3=gp,G3=["top","bottom","right","left"],Gy="data-alloy-transition-timer",_0=(n,i)=>y5(n,i.classes),K3=(n,i,f)=>f.exists(g=>{const w=n.mode;return w==="all"?!0:g[w]!==i[w]}),wF=(n,i)=>{const f=g=>parseFloat(g).toFixed(3);return wn(i,(g,w)=>{const _=n[w].map(f),M=g.map(f);return!la(_,M)}).isSome()},Yg=n=>{const i=_=>{const V=nn(n,_).split(/\s*,\s*/);return tt(V,Zt)},f=_=>{if(v(_)&&/^[\d.]+/.test(_)){const M=parseFloat(_);return dt(_,"ms")?M:M*1e3}else return 0},g=i("transition-delay"),w=i("transition-duration");return at(w,(_,M,V)=>{const J=f(g[V])+f(M);return Math.max(_,J)},0)},z5=(n,i)=>{const f=Kg(),g=Kg();let w;const _=ne=>{var de;const ye=(de=ne.raw.pseudoElement)!==null&&de!==void 0?de:"";return Cr(ne.target,n)&&to(ye)&&fe(G3,ne.raw.propertyName)},M=ne=>{if(F(ne)||_(ne)){f.clear(),g.clear();const de=ne==null?void 0:ne.raw.type;(F(de)||de===s0())&&(clearTimeout(w),et(n,Gy),gu(n,i.classes))}},V=Kl(n,Sy(),ne=>{_(ne)&&(V.unbind(),f.set(Kl(n,s0(),M)),g.set(Kl(n,K4(),M)))}),J=Yg(n);requestAnimationFrame(()=>{w=setTimeout(M,J+17),Fn(n,Gy,w)})},V5=(n,i)=>{pu(n,i.classes),he(n,Gy).each(f=>{clearTimeout(parseInt(f,10)),et(n,Gy)}),z5(n,i)},Y3=(n,i,f,g,w,_)=>{const M=K3(g,w,_);if(M||_0(n,g)){Wn(n,"position",f.position);const V=Zy(i,n),J=Ah(i,{...w,rect:V}),ne=Xe(G3,de=>J[de]);wF(f,ne)&&(is(n,ne),M&&V5(n,g),Ye(n))}else gu(n,g.classes)},U5=n=>({width:Os(n),height:ro(n)}),X3=(n,i,f,g)=>{rr(i,"max-height"),rr(i,"max-width");const w=U5(i);return H5(i,g.preference,n,w,f,g.bounds)},CS=(n,i)=>{const f=i.classes;gu(n,f.off),pu(n,f.on)},W5=(n,i,f)=>{const g=f.maxHeightFunction;g(n,i.maxHeight)},q5=(n,i,f)=>{const g=f.maxWidthFunction;g(n,i.maxWidth)},Z5=(n,i,f)=>{const g=Ah(f.origin,i);f.transition.each(w=>{Y3(n,f.origin,g,w,i,f.lastPlacement)}),T0(n,g)},G5=(n,i)=>{U3(n,i.placement)},SS=(n,i)=>{ko(n,Math.floor(i))},K5=j((n,i)=>{SS(n,i),Wr(n,{"overflow-x":"hidden","overflow-y":"auto"})}),$0=j((n,i)=>{SS(n,i)}),Ky=(n,i,f)=>n[i]===void 0?f:n[i],xS=(n,i,f,g,w,_,M,V)=>{const J=Ky(M,"maxHeightFunction",K5()),ne=Ky(M,"maxWidthFunction",P),de=n.anchorBox,ye=n.origin,Ne={bounds:L3(ye,_),origin:ye,preference:g,maxHeightFunction:J,maxWidthFunction:ne,lastPlacement:w,transition:V};return ES(de,i,f,Ne)},ES=(n,i,f,g)=>{const w=X3(n,i,f,g);return Z5(i,w,g),G5(i,w),CS(i,w),W5(i,w,g),q5(i,w,g),{layout:w.layout,placement:w.placement}},kS=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Dp=(n,i,f,g=1)=>{const w=n*g,_=i*g,M=J=>pn(f,J).getOr([]),V=(J,ne,de)=>{const ye=ot(kS,de);return{offset:Er(J,ne),classesOn:ve(de,M),classesOff:ve(ye,M)}};return{southeast:()=>V(-n,i,["top","alignLeft"]),southwest:()=>V(n,i,["top","alignRight"]),south:()=>V(-n/2,i,["top","alignCentre"]),northeast:()=>V(-n,-i,["bottom","alignLeft"]),northwest:()=>V(n,-i,["bottom","alignRight"]),north:()=>V(-n/2,-i,["bottom","alignCentre"]),east:()=>V(n,-i/2,["valignCentre","left"]),west:()=>V(-n,-i/2,["valignCentre","right"]),insetNortheast:()=>V(w,_,["top","alignLeft","inset"]),insetNorthwest:()=>V(-w,_,["top","alignRight","inset"]),insetNorth:()=>V(-w/2,_,["top","alignCentre","inset"]),insetSoutheast:()=>V(w,-_,["bottom","alignLeft","inset"]),insetSouthwest:()=>V(-w,-_,["bottom","alignRight","inset"]),insetSouth:()=>V(-w/2,-_,["bottom","alignCentre","inset"]),insetEast:()=>V(-w,-_/2,["valignCentre","right","inset"]),insetWest:()=>V(w,-_/2,["valignCentre","left","inset"])}},Xg=()=>Dp(0,0,{}),Bp=oe,D0=(n,i)=>f=>J3(f)==="rtl"?i:n,J3=n=>nn(n,"direction")==="rtl"?"rtl":"ltr";var Th;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Th||(Th={}));const Oh="data-alloy-vertical-dir",Y5=n=>w0(n,i=>Or(i)&&Ro(i,"data-alloy-vertical-dir")===Th.BottomToTop),Np=()=>sc("layouts",[ln("onLtr"),ln("onRtl"),Kr("onBottomLtr"),Kr("onBottomRtl")]),Yy=(n,i,f,g,w,_,M)=>{const V=M.map(Y5).getOr(!1),J=i.layouts.map(Pe=>Pe.onLtr(n)),ne=i.layouts.map(Pe=>Pe.onRtl(n)),de=V?i.layouts.bind(Pe=>Pe.onBottomLtr.map(rt=>rt(n))).or(J).getOr(w):J.getOr(f),ye=V?i.layouts.bind(Pe=>Pe.onBottomRtl.map(rt=>rt(n))).or(ne).getOr(_):ne.getOr(g);return D0(de,ye)(n)},X5=(n,i,f)=>{const g=i.hotspot,w=Zy(f,g.element),_=Yy(n.element,i,pS(),qy(),A0(),B1(),U.some(i.hotspot.element));return U.some(Bp({anchorBox:w,bubble:i.bubble.getOr(Xg()),overrides:i.overrides,layouts:_,placer:U.none()}))};var AS=[ln("hotspot"),Kr("bubble"),_t("overrides",{}),Np(),Qs("placement",X5)];const J5=(n,i,f)=>{const g=H3(f,i.x,i.y),w=bo(g.left,g.top,i.width,i.height),_=Yy(n.element,i,D3(),hS(),D3(),hS(),U.none());return U.some(Bp({anchorBox:w,bubble:i.bubble,overrides:i.overrides,layouts:_,placer:U.none()}))};var Q5=[ln("x"),ln("y"),_t("height",0),_t("width",0),_t("bubble",Xg()),_t("overrides",{}),Np(),Qs("placement",J5)];const TS=It.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),B0=n=>n.fold(oe,(i,f,g)=>i.translate(-f,-g)),N0=n=>n.fold(oe,oe),Q3=n=>at(n,(i,f)=>i.translate(f.left,f.top),Er(0,0)),OS=n=>{const i=me(n,B0);return Q3(i)},ek=n=>{const i=me(n,N0);return Q3(i)},tk=TS.screen,P0=TS.absolute,_S=(n,i,f)=>{const g=Ai(f.root).dom,w=_=>{const M=Vs(_),V=Vs(n.element);return Cr(M,V)};return U.from(g.frameElement).map(dn.fromDom).filter(w).map(Xr)},Xy=(n,i,f)=>{const g=Vs(n.element),w=Uc(g),_=_S(n,i,f).getOr(w);return P0(_,w.left,w.top)},Jy=(n,i,f,g)=>{const w=tk(Er(n,i));return U.some(_r(w,f,g))},$S=(n,i,f,g,w)=>n.map(_=>{const M=[i,_.point],V=M5(g,()=>ek(M),()=>ek(M),()=>OS(M)),J=br(V.left,V.top,_.width,_.height),ne=f.showAbove?A0():pS(),de=f.showAbove?B1():qy(),ye=Yy(w,f,ne,de,ne,de,U.none());return Bp({anchorBox:J,bubble:f.bubble.getOr(Xg()),overrides:f.overrides,layouts:ye,placer:U.none()})}),Pp=(n,i,f)=>{const g=Xy(n,f,i);return i.node.filter(ie).bind(w=>{const _=w.dom.getBoundingClientRect(),M=Jy(_.left,_.top,_.width,_.height),V=i.node.getOr(n.element);return $S(M,g,i,f,V)})};var Fp=[ln("node"),ln("root"),Kr("bubble"),Np(),_t("overrides",{}),_t("showAbove",!1),Qs("placement",Pp)];const F0="\uFEFF",P1="\xA0",Qf={create:(n,i,f,g)=>({start:n,soffset:i,finish:f,foffset:g})},Lu=It.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),DS=(n,i,f,g)=>n.fold(i,f,g),Qy=n=>n.fold(oe,oe,oe),e$=Lu.before,nk=Lu.on,R0=Lu.after,Jg={before:e$,on:nk,after:R0,cata:DS,getStart:Qy},F1=It.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ok=n=>F1.exact(n.start,n.soffset,n.finish,n.foffset),M0=n=>n.match({domRange:i=>dn.fromDom(i.startContainer),relative:(i,f)=>Jg.getStart(i),exact:(i,f,g,w)=>i}),e2=F1.domRange,t$=F1.relative,Hl=F1.exact,BS=n=>{const i=M0(n);return Ai(i)},Ja=Qf.create,I0={domRange:e2,relative:t$,exact:Hl,exactFromRange:ok,getWin:BS,range:Ja},Bd=(n,i)=>{i.fold(f=>{n.setStartBefore(f.dom)},(f,g)=>{n.setStart(f.dom,g)},f=>{n.setStartAfter(f.dom)})},rk=(n,i)=>{i.fold(f=>{n.setEndBefore(f.dom)},(f,g)=>{n.setEnd(f.dom,g)},f=>{n.setEndAfter(f.dom)})},t2=(n,i,f)=>{const g=n.document.createRange();return Bd(g,i),rk(g,f),g},Qg=(n,i,f,g,w)=>{const _=n.document.createRange();return _.setStart(i.dom,f),_.setEnd(g.dom,w),_},n2=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),R1=n=>{const i=n.getClientRects(),f=i.length>0?i[0]:n.getBoundingClientRect();return f.width>0||f.height>0?U.some(f).map(n2):U.none()},n$=n=>{const i=n.getBoundingClientRect();return i.width>0||i.height>0?U.some(i).map(n2):U.none()},M1=It.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),em=(n,i,f)=>i(dn.fromDom(f.startContainer),f.startOffset,dn.fromDom(f.endContainer),f.endOffset),sk=(n,i)=>i.match({domRange:f=>({ltr:j(f),rtl:U.none}),relative:(f,g)=>({ltr:va(()=>t2(n,f,g)),rtl:va(()=>U.some(t2(n,g,f)))}),exact:(f,g,w,_)=>({ltr:va(()=>Qg(n,f,g,w,_)),rtl:va(()=>U.some(Qg(n,w,_,f,g)))})}),NS=(n,i)=>{const f=i.ltr();return f.collapsed?i.rtl().filter(w=>w.collapsed===!1).map(w=>M1.rtl(dn.fromDom(w.endContainer),w.endOffset,dn.fromDom(w.startContainer),w.startOffset)).getOrThunk(()=>em(n,M1.ltr,f)):em(n,M1.ltr,f)},Nd=(n,i)=>{const f=sk(n,i);return NS(n,f)},PS=(n,i)=>Nd(n,i).match({ltr:(g,w,_,M)=>{const V=n.document.createRange();return V.setStart(g.dom,w),V.setEnd(_.dom,M),V},rtl:(g,w,_,M)=>{const V=n.document.createRange();return V.setStart(_.dom,M),V.setEnd(g.dom,w),V}});M1.ltr,M1.rtl;const jl=(n,i)=>Mi(i,n),o$=(n,i,f,g)=>{const _=Vs(n).dom.createRange();return _.setStart(n.dom,i),_.setEnd(f.dom,g),_},I1=(n,i,f,g)=>{const w=o$(n,i,f,g),_=Cr(n,f)&&i===g;return w.collapsed&&!_},r$=n=>U.from(n.getSelection()),FS=n=>{if(n.rangeCount>0){const i=n.getRangeAt(0),f=n.getRangeAt(n.rangeCount-1);return U.some(Qf.create(dn.fromDom(i.startContainer),i.startOffset,dn.fromDom(f.endContainer),f.endOffset))}else return U.none()},ak=n=>{if(n.anchorNode===null||n.focusNode===null)return FS(n);{const i=dn.fromDom(n.anchorNode),f=dn.fromDom(n.focusNode);return I1(i,n.anchorOffset,f,n.focusOffset)?U.some(Qf.create(i,n.anchorOffset,f,n.focusOffset)):FS(n)}},_c=n=>r$(n).filter(i=>i.rangeCount>0).bind(ak),L0=(n,i)=>{const f=PS(n,i);return R1(f)},RS=(n,i)=>{const f=PS(n,i);return n$(f)},uc=((n,i)=>{const f=_=>{if(!n(_))throw new Error("Can only get "+i+" value of a "+i+" node");return g(_).getOr("")},g=_=>n(_)?U.from(_.dom.nodeValue):U.none();return{get:f,getOption:g,set:(_,M)=>{if(!n(_))throw new Error("Can only set raw "+i+" value of a "+i+" node");_.dom.nodeValue=M}}})(Ys,"text"),mu=n=>uc.get(n),yi=(n,i)=>({element:n,offset:i}),vu=(n,i)=>{const f=Sr(n);if(f.length===0)return yi(n,i);if(i<f.length)return yi(f[i],0);{const g=f[f.length-1],w=Ys(g)?mu(g).length:Sr(g).length;return yi(g,w)}},o2=(n,i)=>Ys(n)?yi(n,i):vu(n,i),Hu=(n,i)=>i.getSelection.getOrThunk(()=>()=>_c(n))().map(g=>{const w=o2(g.start,g.soffset),_=o2(g.finish,g.foffset);return I0.range(w.element,w.offset,_.element,_.offset)}),L1=(n,i,f)=>{const g=Ai(i.root).dom,w=Xy(n,f,i),_=Hu(g,i).bind(J=>RS(g,I0.exactFromRange(J)).orThunk(()=>{const de=dn.fromText(F0);jf(J.start,de);const ye=L0(g,I0.exact(de,0,de,1));return uf(de),ye}).bind(de=>Jy(de.left,de.top,de.width,de.height))),V=Hu(g,i).bind(J=>Or(J.start)?U.some(J.start):dl(J.start)).getOr(n.element);return $S(_,w,i,f,V)};var SF=[Kr("getSelection"),ln("root"),Kr("bubble"),Np(),_t("overrides",{}),_t("showAbove",!1),Qs("placement",L1)];const j0="link-layout",r2=n=>n.x+n.width,MS=(n,i)=>n.x-i.width,IS=(n,i)=>n.y-i.height+n.height,H1=n=>n.y,LS=(n,i,f)=>rl(r2(n),H1(n),f.southeast(),zy(),"southeast",bl(n,{left:0,top:2}),j0),ik=(n,i,f)=>rl(MS(n,i),H1(n),f.southwest(),aS(),"southwest",bl(n,{right:1,top:2}),j0),HS=(n,i,f)=>rl(r2(n),IS(n,i),f.northeast(),iS(),"northeast",bl(n,{left:0,bottom:3}),j0),jS=(n,i,f)=>rl(MS(n,i),IS(n,i),f.northwest(),lS(),"northwest",bl(n,{right:1,bottom:3}),j0),z0=()=>[LS,ik,HS,jS],s2=()=>[ik,LS,jS,HS],zS=(n,i,f)=>{const g=Zy(f,i.item.element),w=Yy(n.element,i,z0(),s2(),z0(),s2(),U.none());return U.some(Bp({anchorBox:g,bubble:Xg(),overrides:i.overrides,layouts:w,placer:U.none()}))};var VS=[ln("item"),Np(),_t("overrides",{}),Qs("placement",zS)],lk=qc("type",{selection:SF,node:Fp,hotspot:AS,submenu:VS,makeshift:Q5});const s$=[Fl("classes",Da),Uf("mode","all",["all","layout","placement"])],a2=[_t("useFixed",pe),Kr("getBounds")],a$=[_i("anchor",lk),sc("transition",s$)],i$=()=>{const n=document.documentElement;return j3(0,0,n.clientWidth,n.clientHeight)},xF=n=>{const i=Xr(n.element),f=n.element.dom.getBoundingClientRect();return I5(i.left,i.top,f.width,f.height)},EF=(n,i,f,g,w,_,M)=>{const V=V3(f.anchorBox,i);return xS(V,w.element,f.bubble,f.layouts,_,g,f.overrides,M)},Yl=(n,i,f,g,w)=>{l$(n,i,f,g,w,U.none())},l$=(n,i,f,g,w,_)=>{const M=_.map($r);return V0(n,i,f,g,w,M)},V0=(n,i,f,g,w,_)=>{const M=Pl("placement.info",Oo(a$),w),V=M.anchor,J=g.element,ne=f.get(g.uid);qg(()=>{Wn(J,"position","fixed");const de=hs(J,"visibility");Wn(J,"visibility","hidden");const ye=i.useFixed()?i$():xF(n),Ne=V.placement,Pe=_.map(j).or(i.getBounds);Ne(n,V,ye).each(rt=>{const Mt=rt.placer.getOr(EF)(n,ye,rt,Pe,g,ne,M.transition);f.set(g.uid,Mt)}),de.fold(()=>{rr(J,"visibility")},rt=>{Wn(J,"visibility",rt)}),hs(J,"left").isNone()&&hs(J,"top").isNone()&&hs(J,"right").isNone()&&hs(J,"bottom").isNone()&&As(hs(J,"position"),"fixed")&&rr(J,"position")},J)};var US=Object.freeze({__proto__:null,position:Yl,positionWithin:l$,positionWithinBounds:V0,getMode:(n,i,f)=>i.useFixed()?"fixed":"absolute",reset:(n,i,f,g)=>{const w=g.element;q(["position","left","right","top","bottom"],_=>rr(w,_)),yS(w),f.clear(g.uid)}}),c$=Object.freeze({__proto__:null,init:()=>{let n={};return hu({readState:()=>n,clear:w=>{N(w)?delete n[w]:n={}},set:(w,_)=>{n[w]=_},get:w=>pn(n,w)})}});const fc=Vi({fields:a2,name:"positioning",active:M3,apis:US,state:c$}),WS=n=>n.getSystem().isConnected(),j1=n=>{gs(n,bf());const i=n.components();q(i,j1)},_h=n=>{const i=n.components();q(i,_h),gs(n,ph())},W0=(n,i)=>{n.getSystem().addToWorld(i),ie(n.element)&&_h(i)},tm=n=>{j1(n),n.getSystem().removeFromWorld(n)},l2=(n,i)=>{gl(n.element,i.element)},u$=n=>{q(n.components(),i=>uf(i.element)),bd(n.element),n.syncComponents()},f$=(n,i,f)=>{const g=n.components();u$(n);const w=f(i),_=ot(g,w);q(_,M=>{j1(M),n.getSystem().removeFromWorld(M)}),q(w,M=>{WS(M)?l2(n,M):(n.getSystem().addToWorld(M),l2(n,M),ie(n.element)&&_h(M))}),n.syncComponents()},c2=(n,i,f)=>{const g=n.components(),w=ve(i,V=>g0(V).toArray());q(g,V=>{fe(w,V)||tm(V)});const _=f(i),M=ot(g,_);q(M,V=>{WS(V)&&tm(V)}),q(_,V=>{WS(V)||W0(n,V)}),n.syncComponents()},Rp=(n,i)=>{u2(n,i,gl)},u2=(n,i,f)=>{n.getSystem().addToWorld(i),f(n.element,i.element),ie(n.element)&&_h(i),n.syncComponents()},Mp=n=>{j1(n),uf(n.element),n.getSystem().removeFromWorld(n)},zl=n=>{const i=ga(n.element).bind(f=>n.getSystem().getByDom(f).toOptional());Mp(n),i.each(f=>{f.syncComponents()})},uk=n=>{const i=n.components();q(i,Mp),bd(n.element),n.syncComponents()},Cf=(n,i)=>{q0(n,i,gl)},fk=(n,i)=>{q0(n,i,Xm)},q0=(n,i,f)=>{f(n,i.element);const g=Sr(i.element);q(g,w=>{i.getByDom(w).each(_h)})},f2=n=>{const i=Sr(n.element);q(i,f=>{n.getByDom(f).each(j1)}),uf(n.element)},qS=(n,i,f,g)=>{f.get().each(M=>{uk(n)});const w=i.getAttachPoint(n);Rp(w,n);const _=n.getSystem().build(g);return Rp(n,_),f.set(_),_},Z0=(n,i,f,g)=>{const w=qS(n,i,f,g);return i.onOpen(n,w),w},ZS=(n,i,f,g)=>f.get().map(()=>qS(n,i,f,g)),dk=(n,i,f,g,w)=>{GS(n,i),Z0(n,i,f,g),w(),Lp(n,i)},z1=(n,i,f)=>{f.get().each(g=>{uk(n),zl(n),i.onClose(n,g),f.clear()})},V1=(n,i,f)=>f.isOpen(),d$=(n,i,f,g)=>V1(n,i,f)&&f.get().exists(w=>i.isPartOf(n,w,g)),Ip=(n,i,f)=>f.get(),d2=(n,i,f,g)=>{hs(n.element,i).fold(()=>{et(n.element,f)},w=>{Fn(n.element,f,w)}),Wn(n.element,i,g)},h$=(n,i,f)=>{he(n.element,f).fold(()=>rr(n.element,i),g=>Wn(n.element,i,g))},GS=(n,i,f)=>{const g=i.getAttachPoint(n);Wn(n.element,"position",fc.getMode(g)),d2(n,"visibility",i.cloakVisibilityAttr,"hidden")},G0=n=>ce(["top","left","right","bottom"],i=>hs(n,i).isSome()),Lp=(n,i,f)=>{G0(n.element)||rr(n.element,"position"),h$(n,"visibility",i.cloakVisibilityAttr)};var h2=Object.freeze({__proto__:null,cloak:GS,decloak:Lp,open:Z0,openWhileCloaked:dk,close:z1,isOpen:V1,isPartOf:d$,getState:Ip,setContent:ZS}),p$=Object.freeze({__proto__:null,events:(n,i)=>Dr([on(xy(),(f,g)=>{z1(f,n,i)})])}),hk=[qr("onOpen"),qr("onClose"),ln("isPartOf"),ln("getAttachPoint"),_t("cloakVisibilityAttr","data-precloak-visibility")],p2=Object.freeze({__proto__:null,init:()=>{const n=Ea(),i=j("not-implemented");return hu({readState:i,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const Rr=Vi({fields:hk,name:"sandboxing",active:p$,apis:h2,state:p2}),Pd=j("dismiss.popups"),jp=j("reposition.popups"),zp=j("mouse.released"),KS=rc([_t("isExtraPart",pe),sc("fireEventInstead",[_t("event",Tp())])]),U1=n=>{const i=Pl("Dismissal",KS,n);return{[Pd()]:{schema:rc([ln("target")]),onReceive:(f,g)=>{Rr.isOpen(f)&&(Rr.isPartOf(f,g.target)||i.isExtraPart(f,g.target)||i.fireEventInstead.fold(()=>Rr.close(f),_=>gs(f,_.event)))}}}},pk=rc([sc("fireEventInstead",[_t("event",c0())]),gf("doReposition")]),Sf=n=>{const i=Pl("Reposition",pk,n);return{[jp()]:{onReceive:f=>{Rr.isOpen(f)&&i.fireEventInstead.fold(()=>i.doReposition(f),g=>gs(f,g.event))}}}},g2=(n,i,f)=>{i.store.manager.onLoad(n,i,f)},YS=(n,i,f)=>{i.store.manager.onUnload(n,i,f)};var W1=Object.freeze({__proto__:null,onLoad:g2,onUnload:YS,setValue:(n,i,f,g)=>{i.store.manager.setValue(n,i,f,g)},getValue:(n,i,f)=>i.store.manager.getValue(n,i,f),getState:(n,i,f)=>f}),gk=Object.freeze({__proto__:null,events:(n,i)=>{const f=n.resetOnDom?[Ya((g,w)=>{g2(g,n,i)}),Gf((g,w)=>{YS(g,n,i)})]:[gS(n,i,g2)];return Dr(f)}});const JS=()=>{const n=$e(null),i=()=>({mode:"memory",value:n.get()}),f=()=>n.get()===null,g=()=>{n.set(null)};return hu({set:n.set,get:n.get,isNotSet:f,clear:g,readState:i})},g$=()=>hu({readState:P}),Y0=()=>{const n=$e({}),i=$e({});return hu({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:i.get()}),lookup:M=>pn(n.get(),M).orThunk(()=>pn(i.get(),M)),update:M=>{const V=n.get(),J=i.get(),ne={},de={};q(M,ye=>{ne[ye.value]=ye,pn(ye,"meta").each(Ne=>{pn(Ne,"text").each(Pe=>{de[Pe]=ye})})}),n.set({...V,...ne}),i.set({...J,...de})},clear:()=>{n.set({}),i.set({})}})};var mk=Object.freeze({__proto__:null,memory:JS,dataset:Y0,manual:g$,init:n=>n.store.manager.state(n)});const vk=(n,i,f,g)=>{const w=i.store;f.update([g]),w.setValue(n,g),i.onSetValue(n,g)},v$=(n,i,f)=>{const g=i.store,w=g.getDataKey(n);return f.lookup(w).getOrThunk(()=>g.getFallbackEntry(w))},bk=(n,i,f)=>{i.store.initialValue.each(w=>{vk(n,i,f,w)})},yk=(n,i,f)=>{f.clear()};var wk=[Kr("initialValue"),ln("getFallbackEntry"),ln("getDataKey"),ln("setValue"),Qs("manager",{setValue:vk,getValue:v$,onLoad:bk,onUnload:yk,state:Y0})];const nm=(n,i,f)=>i.store.getValue(n),m2=(n,i,f,g)=>{i.store.setValue(n,g),i.onSetValue(n,g)},Ck=(n,i,f)=>{i.store.initialValue.each(g=>{i.store.setValue(n,g)})};var q1=[ln("getValue"),_t("setValue",P),Kr("initialValue"),Qs("manager",{setValue:m2,getValue:nm,onLoad:Ck,onUnload:P,state:Yf.init})];const X0=(n,i,f,g)=>{f.set(g),i.onSetValue(n,g)},v2=(n,i,f)=>f.get(),b$=(n,i,f)=>{i.store.initialValue.each(g=>{f.isNotSet()&&f.set(g)})},y$=(n,i,f)=>{f.clear()};var w$=[Kr("initialValue"),Qs("manager",{setValue:X0,getValue:v2,onLoad:b$,onUnload:y$,state:JS})],Sk=[ac("store",{mode:"memory"},qc("mode",{memory:w$,manual:q1,dataset:wk})),qr("onSetValue"),_t("resetOnDom",!1)];const qn=Vi({fields:Sk,name:"representing",active:gk,apis:W1,extra:{setValueFrom:(n,i)=>{const f=qn.getValue(i);qn.setValue(n,f)}},state:mk}),wi=(n,i)=>_e(n,{},me(i,f=>t0(f.name(),"Cannot configure "+f.name()+" for "+n)).concat([ml("dump",oe)])),Z1=n=>n.dump,al=(n,i)=>({...Mn(i),...n.dump}),bu={field:wi,augment:al,get:Z1},om="placeholder",G1=It.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),b2=n=>eo(n,"uiType"),C$=(n,i,f,g)=>n.exists(w=>w!==f.owner)?G1.single(!0,j(f)):pn(g,f.name).fold(()=>{throw new Error("Unknown placeholder component: "+f.name+`
Known: [`+ft(g)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(f,null,2))},w=>w.replace()),xk=(n,i,f,g)=>b2(f)&&f.uiType===om?C$(n,i,f,g):G1.single(!1,j(f)),Ek=(n,i,f,g)=>xk(n,i,f,g).fold((_,M)=>{const V=b2(f)?M(i,f.config,f.validated):M(i),J=pn(V,"components").getOr([]),ne=ve(J,de=>Ek(n,i,de,g));return[{...V,components:ne}]},(_,M)=>{if(b2(f)){const V=M(i,f.config,f.validated);return f.validated.preprocess.getOr(oe)(V)}else return M(i)}),kk=(n,i,f,g)=>ve(f,w=>Ek(n,i,w,g)),S$=(n,i)=>{let f=!1;const g=()=>f,w=()=>{if(f)throw new Error("Trying to use the same placeholder more than once: "+n);return f=!0,i},_=()=>i.fold((M,V)=>M,(M,V)=>M);return{name:j(n),required:_,used:g,replace:w}},x$=(n,i,f,g)=>{const w=kn(g,(M,V)=>S$(V,M)),_=kk(n,i,f,w);return sn(w,M=>{if(M.used()===!1&&M.required())throw new Error("Placeholder: "+M.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(i.components,null,2))}),_},Ak=G1.single,QS=G1.multiple,rm=j(om),y2=It.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),J0=_t("factory",{sketch:oe}),w2=_t("schema",[]),sm=ln("name"),ex=ji("pname","pname",df(n=>"<alloy."+fo(n.name)+">"),Wc()),Tk=ml("schema",()=>[Kr("preprocess")]),am=_t("defaults",j({})),Q0=_t("overrides",j({})),E$=Oo([J0,w2,sm,ex,am,Q0]),k$=Oo([J0,w2,sm,am,Q0]),$h=Oo([J0,w2,sm,ex,am,Q0]),A$=Oo([J0,Tk,sm,ln("unit"),ex,am,Q0]),Ok=n=>n.fold(U.some,U.none,U.some,U.some),eb=n=>{const i=f=>f.name;return n.fold(i,i,i,i)},wo=n=>n.fold(oe,oe,oe,oe),Fd=(n,i)=>f=>{const g=Pl("Converting part type",i,f);return n(g)},Vl=Fd(y2.required,E$),xf=Fd(y2.external,k$),ju=Fd(y2.optional,$h),K1=Fd(y2.group,A$),tx=j("entirety");var _k=Object.freeze({__proto__:null,required:Vl,external:xf,optional:ju,group:K1,asNamedPart:Ok,name:eb,asCommon:wo,original:tx});const nx=(n,i,f,g)=>Ws(i.defaults(n,f,g),f,{uid:n.partUids[i.name]},i.overrides(n,f,g)),T$=(n,i,f)=>{const g={},w={};return q(f,_=>{_.fold(M=>{g[M.pname]=Ak(!0,(V,J,ne)=>M.factory.sketch(nx(V,M,J,ne)))},M=>{const V=i.parts[M.name];w[M.name]=j(M.factory.sketch(nx(i,M,V[tx()]),V))},M=>{g[M.pname]=Ak(!1,(V,J,ne)=>M.factory.sketch(nx(V,M,J,ne)))},M=>{g[M.pname]=QS(!0,(V,J,ne)=>{const de=V[M.name];return me(de,ye=>M.factory.sketch(Ws(M.defaults(V,ye,ne),ye,M.overrides(V,ye))))})})}),{internals:j(g),externals:j(w)}},C2=(n,i)=>{const f={};return q(i,g=>{Ok(g).each(w=>{const _=ox(n,w.pname);f[w.name]=M=>{const V=Pl("Part: "+w.name+" in "+n,Oo(w.schema),M);return{..._,config:M,validated:V}}})}),f},ox=(n,i)=>({uiType:rm(),owner:n,name:i}),im=(n,i,f)=>({uiType:rm(),owner:n,name:i,config:f,validated:{}}),rx=n=>ve(n,i=>i.fold(U.none,U.some,U.none,U.none).map(f=>kc(f.name,f.schema.concat([E0(tx())]))).toArray()),$k=n=>me(n,eb),S2=(n,i,f)=>T$(n,i,f),sx=(n,i,f)=>x$(U.some(n),i,i.components,f),qs=(n,i,f)=>{const g=i.partUids[f];return n.getSystem().getByUid(g).toOptional()},ed=(n,i,f)=>qs(n,i,f).getOrDie("Could not find part: "+f),Dk=(n,i,f)=>{const g={},w=i.partUids,_=n.getSystem();return q(f,M=>{g[M]=j(_.getByUid(w[M]))}),g},Bk=(n,i)=>{const f=n.getSystem();return kn(i.partUids,(g,w)=>j(f.getByUid(g)))},lm=n=>ft(n.partUids),cm=(n,i,f)=>{const g={},w=i.partUids,_=n.getSystem();return q(f,M=>{g[M]=j(_.getByUid(w[M]).getOrDie())}),g},Y1=(n,i)=>{const f=$k(i);return Ns(me(f,g=>({key:g,value:n+"-"+g})))},ax=n=>ji("partUids","partUids",yp(i=>Y1(i.uid,n)),Wc());var Ef=Object.freeze({__proto__:null,generate:C2,generateOne:im,schemas:rx,names:$k,substitutes:S2,components:sx,defaultUids:Y1,defaultUidsSchema:ax,getAllParts:Bk,getAllPartNames:lm,getPart:qs,getPartOrDie:ed,getParts:Dk,getPartsOrDie:cm});const um=(n,i)=>(n.length>0?[kc("parts",n)]:[]).concat([ln("uid"),_t("dom",{}),_t("components",[]),E0("originalSpec"),_t("debug.sketcher",{})]).concat(i),Nk=(n,i,f,g,w)=>{const _=um(g,w);return Pl(n+" [SpecSchema]",rc(_.concat(i)),f)},tb=(n,i,f,g)=>{const w=Pk(g),_=Nk(n,i,w,[],[]);return f(_,w)},td=(n,i,f,g,w)=>{const _=Pk(w),M=rx(f),V=ax(f),J=Nk(n,i,_,M,[V]),ne=S2(n,J,f),de=sx(n,J,ne.internals());return g(J,de,_,ne.externals())},x2=n=>eo(n,"uid"),Pk=n=>x2(n)?n:{...n,uid:Fg("uid")},O$=n=>n.uid!==void 0,_$=rc([ln("name"),ln("factory"),ln("configFields"),_t("apis",{}),_t("extraApis",{})]),$$=rc([ln("name"),ln("factory"),ln("configFields"),ln("partFields"),_t("apis",{}),_t("extraApis",{})]),zu=n=>{const i=Pl("Sketcher for "+n.name,_$,n),f=_=>tb(i.name,i.configFields,i.factory,_),g=kn(i.apis,Ny),w=kn(i.extraApis,(_,M)=>By(_,M));return{name:i.name,configFields:i.configFields,sketch:f,...g,...w}},hc=n=>{const i=Pl("Sketcher for "+n.name,$$,n),f=M=>td(i.name,i.configFields,i.partFields,i.factory,M),g=C2(i.name,i.partFields),w=kn(i.apis,Ny),_=kn(i.extraApis,(M,V)=>By(M,V));return{name:i.name,partFields:i.partFields,configFields:i.configFields,sketch:f,parts:g,...w,..._}},Vp=n=>Fa("input")(n)&&Ro(n,"type")!=="radio"||Fa("textarea")(n);var E2=Object.freeze({__proto__:null,getCurrent:(n,i,f)=>i.find(n)});const D$=[ln("find")],Ur=Vi({fields:D$,name:"composing",apis:E2}),B$=["input","button","textarea","select"],k2=(n,i,f)=>{(i.disabled()?Rk:lx)(n,i)},ix=(n,i)=>i.useNative===!0&&fe(B$,Qo(n.element)),Fk=n=>je(n.element,"disabled"),N$=n=>{Fn(n.element,"disabled","disabled")},A2=n=>{et(n.element,"disabled")},P$=n=>Ro(n.element,"aria-disabled")==="true",F$=n=>{Fn(n.element,"aria-disabled","true")},AF=n=>{Fn(n.element,"aria-disabled","false")},Rk=(n,i,f)=>{i.disableClass.each(w=>{nl(n.element,w)}),(ix(n,i)?N$:F$)(n),i.onDisabled(n)},lx=(n,i,f)=>{i.disableClass.each(w=>{ua(n.element,w)}),(ix(n,i)?A2:AF)(n),i.onEnabled(n)},Mk=(n,i)=>ix(n,i)?Fk(n):P$(n);var Ik=Object.freeze({__proto__:null,enable:lx,disable:Rk,isDisabled:Mk,onLoad:k2,set:(n,i,f,g)=>{(g?Rk:lx)(n,i)}}),O2=Object.freeze({__proto__:null,exhibit:(n,i)=>Ba({classes:i.disabled()?i.disableClass.toArray():[]}),events:(n,i)=>Dr([Oy(fu(),(f,g)=>Mk(f,n)),gS(n,i,k2)])}),_2=[mi("disabled",pe),_t("useNative",!0),Kr("disableClass"),qr("onDisabled"),qr("onEnabled")];const Bo=Vi({fields:_2,name:"disabling",active:O2,apis:Ik}),ux=(n,i,f,g)=>{const w=jl(n.element,"."+i.highlightClass);q(w,_=>{ce(g,V=>Cr(V.element,_))||(ua(_,i.highlightClass),n.getSystem().getByDom(_).each(V=>{i.onDehighlight(n,V),gs(V,p1())}))})},Lk=(n,i,f)=>ux(n,i,f,[]),Hk=(n,i,f,g)=>{fx(n,i,f,g)&&(ua(g.element,i.highlightClass),i.onDehighlight(n,g),gs(g,p1()))},fm=(n,i,f,g)=>{ux(n,i,f,[g]),fx(n,i,f,g)||(nl(g.element,i.highlightClass),i.onHighlight(n,g),gs(g,VC()))},jk=(n,i,f)=>{$2(n,i).each(g=>{fm(n,i,f,g)})},R$=(n,i,f)=>{hx(n,i).each(g=>{fm(n,i,f,g)})},zk=(n,i,f,g)=>{dx(n,i,f,g).fold(w=>{throw w},w=>{fm(n,i,f,w)})},M$=(n,i,f,g)=>{const w=Wk(n,i);Re(w,g).each(M=>{fm(n,i,f,M)})},fx=(n,i,f,g)=>vl(g.element,i.highlightClass),I$=(n,i,f)=>$i(n.element,"."+i.highlightClass).bind(g=>n.getSystem().getByDom(g).toOptional()),dx=(n,i,f,g)=>{const w=jl(n.element,"."+i.itemClass);return U.from(w[g]).fold(()=>er.error(new Error("No element found with index "+g)),n.getSystem().getByDom)},$2=(n,i,f)=>$i(n.element,"."+i.itemClass).bind(g=>n.getSystem().getByDom(g).toOptional()),hx=(n,i,f)=>{const g=jl(n.element,"."+i.itemClass);return(g.length>0?U.some(g[g.length-1]):U.none()).bind(_=>n.getSystem().getByDom(_).toOptional())},Vk=(n,i,f,g)=>{const w=jl(n.element,"."+i.itemClass);return Ve(w,M=>vl(M,i.highlightClass)).bind(M=>{const V=$1(M,g,0,w.length-1);return n.getSystem().getByDom(w[V]).toOptional()})},Uk=(n,i,f)=>Vk(n,i,f,-1),L$=(n,i,f)=>Vk(n,i,f,1),Wk=(n,i,f)=>{const g=jl(n.element,"."+i.itemClass);return pr(me(g,w=>n.getSystem().getByDom(w).toOptional()))};var qk=Object.freeze({__proto__:null,dehighlightAll:Lk,dehighlight:Hk,highlight:fm,highlightFirst:jk,highlightLast:R$,highlightAt:zk,highlightBy:M$,isHighlighted:fx,getHighlighted:I$,getFirst:$2,getLast:hx,getPrevious:Uk,getNext:L$,getCandidates:Wk}),Zk=[ln("highlightClass"),ln("itemClass"),qr("onHighlight"),qr("onDehighlight")];const ls=Vi({fields:Zk,name:"highlighting",apis:qk}),Gk=[8],dm=[9],nd=[13],D2=[27],pc=[32],ob=[37],rb=[38],B2=[39],hm=[40],px=(n,i,f)=>{const g=xe(n.slice(0,i)),w=xe(n.slice(i+1));return Re(g.concat(w),f)},H$=(n,i,f)=>{const g=xe(n.slice(0,i));return Re(g,f)},sb=(n,i,f)=>{const g=n.slice(0,i),w=n.slice(i+1);return Re(w.concat(g),f)},Kk=(n,i,f)=>{const g=n.slice(i+1);return Re(g,f)},zr=n=>i=>{const f=i.raw;return fe(n,f.which)},Vu=n=>i=>se(n,f=>f(i)),X1=n=>n.raw.shiftKey===!0,m=n=>n.raw.ctrlKey===!0,C=Q(X1),$=(n,i)=>({matches:n,classification:i}),L=(n,i)=>Re(n,g=>g.matches(i)).map(g=>g.classification),Z=(n,i,f)=>{i.exists(w=>f.exists(_=>Cr(_,w)))||Ho(n,u0(),{prevFocus:i,newFocus:f})},te=()=>{const n=f=>Xf(f.element);return{get:n,set:(f,g)=>{const w=n(f);f.getSystem().triggerFocus(g,f.element);const _=n(f);Z(f,w,_)}}},Ee=()=>{const n=f=>ls.getHighlighted(f).map(g=>g.element);return{get:n,set:(f,g)=>{const w=n(f);f.getSystem().getByDom(g).fold(P,M=>{ls.highlight(f,M)});const _=n(f);Z(f,w,_)}}};var Ie;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Ie||(Ie={}));const Je=(n,i,f,g,w)=>{const _=()=>n.concat([_t("focusManager",te()),ac("focusInside","onFocus",Sp(ne=>fe(["onFocus","onEnterOrSpace","onApi"],ne)?er.value(ne):er.error("Invalid value for focusInside"))),Qs("handler",J),Qs("state",i),Qs("sendFocusIn",w)]),M=(ne,de,ye,Ne,Pe)=>{const rt=ye(ne,de,Ne,Pe);return L(rt,de.event).bind(bt=>bt(ne,de,Ne,Pe))},J={schema:_,processKey:M,toEvents:(ne,de)=>{const ye=ne.focusInside!==Ie.OnFocusMode?U.none():w(ne).map(rt=>on(Ap(),(bt,Mt)=>{rt(bt,ne,de),Mt.stop()})),Ne=(rt,bt)=>{const Mt=zr(pc.concat(nd))(bt.event);ne.focusInside===Ie.OnEnterOrSpaceMode&&Mt&&mf(rt,bt)&&w(ne).each(kt=>{kt(rt,ne,de),bt.stop()})},Pe=[on(o0(),(rt,bt)=>{M(rt,bt,f,ne,de).fold(()=>{Ne(rt,bt)},Mt=>{bt.stop()})}),on(G4(),(rt,bt)=>{M(rt,bt,g,ne,de).each(Mt=>{bt.stop()})})];return Dr(ye.toArray().concat(Pe))}};return J},gt=n=>{const i=[Kr("onEscape"),Kr("onEnter"),_t("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),_t("firstTabstop",0),_t("useTabstopAt",be),Kr("visibilitySelector")].concat([n]),f=(bt,Mt)=>{const kt=bt.visibilitySelector.bind(Lt=>ol(Mt,Lt)).getOr(Mt);return Vt(kt)>0},g=(bt,Mt)=>{const kt=jl(bt.element,Mt.selector),Lt=tt(kt,Zn=>f(Mt,Zn));return U.from(Lt[Mt.firstTabstop])},w=(bt,Mt)=>Mt.focusManager.get(bt).bind(kt=>ol(kt,Mt.selector)),_=(bt,Mt)=>f(bt,Mt)&&bt.useTabstopAt(Mt),M=(bt,Mt,kt)=>{g(bt,Mt).each(Lt=>{Mt.focusManager.set(bt,Lt)})},V=(bt,Mt,kt,Lt,Zn)=>Zn(Mt,kt,Xt=>_(Lt,Xt)).fold(()=>Lt.cyclic?U.some(!0):U.none(),Xt=>(Lt.focusManager.set(bt,Xt),U.some(!0))),J=(bt,Mt,kt,Lt)=>{const Zn=jl(bt.element,kt.selector);return w(bt,kt).bind(Xt=>Ve(Zn,ae(Cr,Xt)).bind(ho=>V(bt,Zn,ho,kt,Lt)))},ne=(bt,Mt,kt)=>{const Lt=kt.cyclic?px:H$;return J(bt,Mt,kt,Lt)},de=(bt,Mt,kt)=>{const Lt=kt.cyclic?sb:Kk;return J(bt,Mt,kt,Lt)},ye=(bt,Mt,kt)=>kt.onEnter.bind(Lt=>Lt(bt,Mt)),Ne=(bt,Mt,kt)=>kt.onEscape.bind(Lt=>Lt(bt,Mt)),Pe=j([$(Vu([X1,zr(dm)]),ne),$(zr(dm),de),$(Vu([C,zr(nd)]),ye)]),rt=j([$(zr(D2),Ne)]);return Je(i,Yf.init,Pe,rt,()=>U.some(M))};var Bt=gt(ml("cyclic",pe)),hn=gt(ml("cyclic",be));const Rn=(n,i,f)=>(g1(n,f,fu()),U.some(!0)),Tn=(n,i,f)=>Vp(f)&&zr(pc)(i.event)?U.none():Rn(n,i,f),tn=(n,i)=>U.some(!0),jn=[_t("execute",Tn),_t("useSpace",!1),_t("useEnter",!0),_t("useControlEnter",!1),_t("useDown",!1)],rn=(n,i,f)=>f.execute(n,i,n.element),Yn=(n,i,f,g)=>{const w=f.useSpace&&!Vp(n.element)?pc:[],_=f.useEnter?nd:[],M=f.useDown?hm:[],V=w.concat(_).concat(M);return[$(zr(V),rn)].concat(f.useControlEnter?[$(Vu([m,zr(nd)]),rn)]:[])},Wo=(n,i,f,g)=>f.useSpace&&!Vp(n.element)?[$(zr(pc),tn)]:[];var fr=Je(jn,Yf.init,Yn,Wo,()=>U.none());const sa=()=>{const n=Ea();return hu({readState:()=>n.get().map(w=>({numRows:String(w.numRows),numColumns:String(w.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(w,_)=>{n.set({numRows:w,numColumns:_})},getNumRows:()=>n.get().map(w=>w.numRows),getNumColumns:()=>n.get().map(w=>w.numColumns)})};var Qa=Object.freeze({__proto__:null,flatgrid:sa,init:n=>n.state(n)});const il=n=>(i,f,g,w)=>{const _=n(i.element);return pm(_,i,f,g,w)},Rd=(n,i)=>{const f=D0(n,i);return il(f)},ab=(n,i)=>{const f=D0(i,n);return il(f)},N2=n=>(i,f,g,w)=>pm(n,i,f,g,w),pm=(n,i,f,g,w)=>g.focusManager.get(i).bind(M=>n(i.element,M,g,w)).map(M=>(g.focusManager.set(i,M),!0)),$s=N2,Xl=N2,Cl=N2,kf=n=>n.offsetWidth<=0&&n.offsetHeight<=0,yu=n=>!kf(n.dom),J1=(n,i)=>Ve(n,i).map(f=>({index:f,candidates:n})),Jl=(n,i,f)=>{const g=M=>Cr(M,i),w=jl(n,f),_=tt(w,yu);return J1(_,g)},ib=(n,i)=>Ve(n,f=>Cr(i,f)),Up=(n,i,f,g)=>{const w=Math.floor(i/f),_=i%f;return g(w,_).bind(M=>{const V=M.row*f+M.column;return V>=0&&V<n.length?U.some(n[V]):U.none()})},od=(n,i,f,g,w)=>Up(n,i,g,(_,M)=>{const J=_===f-1?n.length-_*g:g,ne=$1(M,w,0,J-1);return U.some({row:_,column:ne})}),Sl=(n,i,f,g,w)=>Up(n,i,g,(_,M)=>{const V=$1(_,w,0,f-1),ne=V===f-1?n.length-V*g:g,de=Jc(M,0,ne-1);return U.some({row:V,column:de})}),j$=(n,i,f,g)=>od(n,i,f,g,1),z$=(n,i,f,g)=>od(n,i,f,g,-1),gm=(n,i,f,g)=>Sl(n,i,f,g,-1),V$=(n,i,f,g)=>Sl(n,i,f,g,1),U$=[ln("selector"),_t("execute",Tn),Xc("onEscape"),_t("captureTab",!1),_1()],lb=(n,i,f)=>{$i(n.element,i.selector).each(g=>{i.focusManager.set(n,g)})},W$=(n,i)=>i.focusManager.get(n).bind(f=>ol(f,i.selector)),Q1=(n,i,f,g)=>W$(n,f).bind(w=>f.execute(n,i,w)),gx=n=>(i,f,g,w)=>Jl(i,f,g.selector).bind(_=>n(_.candidates,_.index,w.getNumRows().getOr(g.initSize.numRows),w.getNumColumns().getOr(g.initSize.numColumns))),q$=(n,i,f)=>f.captureTab?U.some(!0):U.none(),OF=(n,i,f)=>f.onEscape(n,i),_F=gx(z$),$F=gx(j$),Wq=gx(gm),Z$=gx(V$),qq=j([$(zr(ob),Rd(_F,$F)),$(zr(B2),ab(_F,$F)),$(zr(rb),$s(Wq)),$(zr(hm),Xl(Z$)),$(Vu([X1,zr(dm)]),q$),$(Vu([C,zr(dm)]),q$),$(zr(pc.concat(nd)),Q1)]),Zq=j([$(zr(D2),OF),$(zr(pc),tn)]);var Gq=Je(U$,sa,qq,Zq,()=>U.some(lb));const mx=(n,i,f,g)=>{const w=M=>Qo(M)==="button"&&Ro(M,"disabled")==="disabled",_=(M,V,J)=>{const ne=$1(V,g,0,J.length-1);return ne===M?U.none():w(J[ne])?_(M,ne,J):U.from(J[ne])};return Jl(n,f,i).bind(M=>{const V=M.index,J=M.candidates;return _(V,V,J)})},Kq=[ln("selector"),_t("getInitial",U.none),_t("execute",Tn),Xc("onEscape"),_t("executeOnMove",!1),_t("allowVertical",!0)],Yq=(n,i)=>i.focusManager.get(n).bind(f=>ol(f,i.selector)),G$=(n,i,f)=>Yq(n,f).bind(g=>f.execute(n,i,g)),DF=(n,i,f)=>{i.getInitial(n).orThunk(()=>$i(n.element,i.selector)).each(g=>{i.focusManager.set(n,g)})},BF=(n,i,f)=>mx(n,f.selector,i,-1),NF=(n,i,f)=>mx(n,f.selector,i,1),K$=n=>(i,f,g,w)=>n(i,f,g,w).bind(()=>g.executeOnMove?G$(i,f,g):U.some(!0)),Xq=(n,i,f)=>f.onEscape(n,i),Jq=(n,i,f,g)=>{const w=ob.concat(f.allowVertical?rb:[]),_=B2.concat(f.allowVertical?hm:[]);return[$(zr(w),K$(Rd(BF,NF))),$(zr(_),K$(ab(BF,NF))),$(zr(nd),G$),$(zr(pc),G$)]},Yk=j([$(zr(pc),tn),$(zr(D2),Xq)]);var Qq=Je(Kq,Yf.init,Jq,Yk,()=>U.some(DF));const vx=(n,i,f)=>U.from(n[i]).bind(g=>U.from(g[f]).map(w=>({rowIndex:i,columnIndex:f,cell:w}))),Qc=(n,i,f,g)=>{const _=n[i].length,M=$1(f,g,0,_-1);return vx(n,i,M)},PF=(n,i,f,g)=>{const w=$1(f,g,0,n.length-1),_=n[w].length,M=Jc(i,0,_-1);return vx(n,w,M)},Y$=(n,i,f,g)=>{const _=n[i].length,M=Jc(f+g,0,_-1);return vx(n,i,M)},FF=(n,i,f,g)=>{const w=Jc(f+g,0,n.length-1),_=n[w].length,M=Jc(i,0,_-1);return vx(n,w,M)},eZ=(n,i,f)=>Qc(n,i,f,1),RF=(n,i,f)=>Qc(n,i,f,-1),tZ=(n,i,f)=>PF(n,f,i,-1),nZ=(n,i,f)=>PF(n,f,i,1),oZ=(n,i,f)=>Y$(n,i,f,-1),rZ=(n,i,f)=>Y$(n,i,f,1),sZ=(n,i,f)=>FF(n,f,i,-1),MF=(n,i,f)=>FF(n,f,i,1),IF=[kc("selectors",[ln("row"),ln("cell")]),_t("cycles",!0),_t("previousSelector",U.none),_t("execute",Tn)],ev=(n,i,f)=>{i.previousSelector(n).orThunk(()=>{const w=i.selectors;return $i(n.element,w.cell)}).each(w=>{i.focusManager.set(n,w)})},LF=(n,i,f)=>Xf(n.element).bind(g=>f.execute(n,i,g)),HF=(n,i)=>me(n,f=>jl(f,i.selectors.cell)),P2=(n,i)=>(f,g,w)=>{const _=w.cycles?n:i;return ol(g,w.selectors.row).bind(M=>{const V=jl(M,w.selectors.cell);return ib(V,g).bind(J=>{const ne=jl(f,w.selectors.row);return ib(ne,M).bind(de=>{const ye=HF(ne,w);return _(ye,de,J).map(Ne=>Ne.cell)})})})},jF=P2(RF,oZ),zF=P2(eZ,rZ),aZ=P2(tZ,sZ),iZ=P2(nZ,MF),VF=j([$(zr(ob),Rd(jF,zF)),$(zr(B2),ab(jF,zF)),$(zr(rb),$s(aZ)),$(zr(hm),Xl(iZ)),$(zr(pc.concat(nd)),LF)]),X$=j([$(zr(pc),tn)]);var J$=Je(IF,Yf.init,VF,X$,()=>U.some(ev));const lZ=[ln("selector"),_t("execute",Tn),_t("moveOnTab",!1)],mm=(n,i,f)=>f.focusManager.get(n).bind(g=>f.execute(n,i,g)),UF=(n,i,f)=>{$i(n.element,i.selector).each(g=>{i.focusManager.set(n,g)})},Q$=(n,i,f)=>mx(n,f.selector,i,-1),WF=(n,i,f)=>mx(n,f.selector,i,1),cZ=(n,i,f,g)=>f.moveOnTab?Cl(Q$)(n,i,f,g):U.none(),bx=(n,i,f,g)=>f.moveOnTab?Cl(WF)(n,i,f,g):U.none(),yx=j([$(zr(rb),Cl(Q$)),$(zr(hm),Cl(WF)),$(Vu([X1,zr(dm)]),cZ),$(Vu([C,zr(dm)]),bx),$(zr(nd),mm),$(zr(pc),mm)]),qF=j([$(zr(pc),tn)]);var ZF=Je(lZ,Yf.init,yx,qF,()=>U.some(UF));const tv=[Xc("onSpace"),Xc("onEnter"),Xc("onShiftEnter"),Xc("onLeft"),Xc("onRight"),Xc("onTab"),Xc("onShiftTab"),Xc("onUp"),Xc("onDown"),Xc("onEscape"),_t("stopSpaceKeyup",!1),Kr("focusIn")],nv=(n,i,f)=>[$(zr(pc),f.onSpace),$(Vu([C,zr(nd)]),f.onEnter),$(Vu([X1,zr(nd)]),f.onShiftEnter),$(Vu([X1,zr(dm)]),f.onShiftTab),$(Vu([C,zr(dm)]),f.onTab),$(zr(rb),f.onUp),$(zr(hm),f.onDown),$(zr(ob),f.onLeft),$(zr(B2),f.onRight),$(zr(pc),f.onSpace)],uZ=(n,i,f)=>[...f.stopSpaceKeyup?[$(zr(pc),tn)]:[],$(zr(D2),f.onEscape)];var fZ=Je(tv,Yf.init,nv,uZ,n=>n.focusIn);const GF=Bt.schema(),vm=hn.schema(),eD=Qq.schema(),KF=Gq.schema(),YF=J$.schema(),XF=fr.schema(),tD=ZF.schema(),JF=fZ.schema();var dZ=Object.freeze({__proto__:null,acyclic:GF,cyclic:vm,flow:eD,flatgrid:KF,matrix:YF,execution:XF,menu:tD,special:JF});const hZ=n=>yr(n,"setGridSize"),No=F3({branchKey:"mode",branches:dZ,name:"keying",active:{events:(n,i)=>n.handler.toEvents(n,i)},apis:{focusIn:(n,i,f)=>{i.sendFocusIn(i).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},g=>{g(n,i,f)})},setGridSize:(n,i,f,g,w)=>{hZ(f)?f.setGridSize(g,w):console.error("Layout does not support setGridSize")}},state:Qa}),wx=(n,i)=>{qg(()=>{f$(n,i,()=>me(i,n.getSystem().build))},n.element)},Xk=(n,i)=>{qg(()=>{c2(n,i,()=>b0(n.element,i,n.getSystem().buildOrPatch))},n.element)},nD=(n,i,f,g)=>{tm(i);const w=u3(n.element,f,g,n.getSystem().buildOrPatch);W0(n,w),n.syncComponents()},oD=(n,i,f)=>{const g=n.getSystem().build(f);u2(n,g,i)},pZ=(n,i,f,g)=>{zl(i),oD(n,(w,_)=>Jm(w,_,f),g)},QF=(n,i,f,g)=>(i.reuseDom?Xk:wx)(n,g),eR=(n,i,f,g)=>{oD(n,gl,g)},tR=(n,i,f,g)=>{oD(n,vp,g)},nR=(n,i,f,g)=>{const w=Jk(n);Re(w,M=>Cr(g.element,M.element)).each(zl)},Jk=(n,i)=>n.components(),Qk=(n,i,f,g,w)=>{const _=Jk(n);return U.from(_[g]).map(M=>(w.fold(()=>zl(M),V=>{(i.reuseDom?nD:pZ)(n,M,g,V)}),M))};var gZ=Object.freeze({__proto__:null,append:eR,prepend:tR,remove:nR,replaceAt:Qk,replaceBy:(n,i,f,g,w)=>{const _=Jk(n);return Ve(_,g).bind(M=>Qk(n,i,f,M,w))},set:QF,contents:Jk});const kr=Vi({fields:[Tc("reuseDom",!0)],name:"replacing",apis:gZ}),mZ=(n,i)=>{const f=Dr(i);return Vi({fields:[ln("enabled")],name:n,active:{events:j(f)}})},Mr=(n,i)=>{const f=mZ(n,i);return{key:n,value:{config:{},me:f,configAsRaw:j({}),initialConfig:{},state:Yf}}},oR=(n,i)=>{i.ignore||(kh(n.element),i.onFocus(n))};var Cx=Object.freeze({__proto__:null,focus:oR,blur:(n,i)=>{i.ignore||Wg(n.element)},isFocused:n=>vS(n.element)}),rD=Object.freeze({__proto__:null,exhibit:(n,i)=>{const f=i.ignore?{}:{attributes:{tabindex:"-1"}};return Ba(f)},events:n=>Dr([on(Ap(),(i,f)=>{oR(i,n),f.stop()})].concat(n.stopMousedown?[on(tl(),(i,f)=>{f.event.prevent()})]:[]))}),rR=[qr("onFocus"),_t("stopMousedown",!1),_t("ignore",!1)];const qo=Vi({fields:rR,name:"focusing",active:rD,apis:Cx}),vZ=n=>({init:()=>{const f=$e(n);return{get:()=>f.get(),set:V=>f.set(V),clear:()=>f.set(n),readState:()=>f.get()}}}),bZ=(n,i,f)=>{const g=i.aria;g.update(n,g,f.get())},sR=(n,i,f)=>{i.toggleClass.each(g=>{f.get()?nl(n.element,g):ua(n.element,g)})},Sx=(n,i,f,g)=>{const w=f.get();f.set(g),sR(n,i,f),bZ(n,i,f),w!==g&&i.onToggled(n,g)},sD=(n,i,f)=>{Sx(n,i,f,!f.get())},yZ=(n,i,f)=>{Sx(n,i,f,!0)},wZ=(n,i,f)=>{Sx(n,i,f,!1)},aR=(n,i,f)=>f.get(),xx=(n,i,f)=>{Sx(n,i,f,i.selected)};var aD=Object.freeze({__proto__:null,onLoad:xx,toggle:sD,isOn:aR,on:yZ,off:wZ,set:Sx}),CZ=Object.freeze({__proto__:null,exhibit:()=>Ba({}),events:(n,i)=>{const f=B5(n,i,sD),g=gS(n,i,xx);return Dr(Oe([n.toggleOnExecute?[f]:[],[g]]))}});const SZ=(n,i,f)=>{Fn(n.element,"aria-pressed",f),i.syncWithExpanded&&iD(n,i,f)},xZ=(n,i,f)=>{Fn(n.element,"aria-selected",f)},lR=(n,i,f)=>{Fn(n.element,"aria-checked",f)},iD=(n,i,f)=>{Fn(n.element,"aria-expanded",f)};var EZ=[_t("selected",!1),Kr("toggleClass"),_t("toggleOnExecute",!0),qr("onToggled"),ac("aria",{mode:"none"},qc("mode",{pressed:[_t("syncWithExpanded",!1),Qs("update",SZ)],checked:[Qs("update",lR)],expanded:[Qs("update",iD)],selected:[Qs("update",xZ)],none:[Qs("update",P)]}))];const Qr=Vi({fields:EZ,name:"toggling",active:CZ,apis:aD,state:vZ(!1)}),cR=()=>{const n=(i,f)=>{f.stop(),du(i)};return[on(r0(),n),on(a0(),n),Bg(ks()),Bg(tl())]},tA=n=>{const i=f=>mh((g,w)=>{f(g),w.stop()});return Dr(Oe([n.map(i).toArray(),cR()]))},uR="alloy.item-hover",fR="alloy.item-focus",lD="alloy.item-toggled",dR=n=>{(Xf(n.element).isNone()||qo.isFocused(n))&&(qo.isFocused(n)||qo.focus(n),Ho(n,uR,{item:n}))},hR=n=>{Ho(n,fR,{item:n})},kZ=(n,i)=>{Ho(n,lD,{item:n,state:i})},pR=j(uR),AZ=j(fR),cb=j(lD),TZ=n=>n.toggling.map(i=>i.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),OZ=n=>({aria:{mode:"checked"},...Ot(n,(i,f)=>f!=="exclusive"),onToggled:(i,f)=>{D(n.onToggled)&&n.onToggled(i,f),kZ(i,f)}}),ub=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:TZ(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:bu.augment(n.itemBehaviours,[n.toggling.fold(Qr.revoke,i=>Qr.config(OZ(i))),qo.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:i=>{hR(i)}}),No.config({mode:"execution"}),qn.config({store:{mode:"memory",initialValue:n.data}}),Mr("item-type-events",[...cR(),on(Ad(),dR),on(hh(),qo.focus)])]),components:n.components,eventOrder:n.eventOrder}),_Z=[ln("data"),ln("components"),ln("dom"),_t("hasSubmenu",!1),Kr("toggling"),bu.field("itemBehaviours",[Qr,qo,No,qn]),_t("ignoreFocus",!1),_t("domModification",{}),Qs("builder",ub),_t("eventOrder",{})],$Z=n=>({dom:n.dom,components:n.components,events:Dr([WC(hh())])}),ov=[ln("dom"),ln("components"),Qs("builder",$Z)],cD=j("item-widget"),uD=j([Vl({name:"widget",overrides:n=>({behaviours:Mn([qn.config({store:{mode:"manual",getValue:i=>n.data,setValue:P}})])})})]),rd=n=>{const i=S2(cD(),n,uD()),f=sx(cD(),n,i.internals()),g=_=>qs(_,n,"widget").map(M=>(No.focusIn(M),M)),w=(_,M)=>Vp(M.event.target)?U.none():(()=>(n.autofocus&&M.setSource(_.element),U.none()))();return{dom:n.dom,components:f,domModification:n.domModification,events:Dr([mh((_,M)=>{g(_).each(V=>{M.stop()})}),on(Ad(),dR),on(hh(),(_,M)=>{n.autofocus?g(_):qo.focus(_)})]),behaviours:bu.augment(n.widgetBehaviours,[qn.config({store:{mode:"memory",initialValue:n.data}}),qo.config({ignore:n.ignoreFocus,onFocus:_=>{hR(_)}}),No.config({mode:"special",focusIn:n.autofocus?_=>{g(_)}:R3(),onLeft:w,onRight:w,onEscape:(_,M)=>!qo.isFocused(_)&&!n.autofocus?(qo.focus(_),U.some(!0)):(n.autofocus&&M.setSource(_.element),U.none())})])}},gR=[ln("uid"),ln("data"),ln("components"),ln("dom"),_t("autofocus",!1),_t("ignoreFocus",!1),bu.field("widgetBehaviours",[qn,qo,No]),_t("domModification",{}),ax(uD()),Qs("builder",rd)],mR=qc("type",{widget:gR,item:_Z,separator:ov}),vR=(n,i)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:i.initSize.numColumns,numRows:i.initSize.numRows},focusManager:n.focusManager}),DZ=(n,i)=>({mode:"matrix",selectors:{row:i.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}),bR=(n,i)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:i.moveOnTab,focusManager:n.focusManager}),BZ=j([K1({factory:{sketch:n=>{const i=Pl("menu.spec item",mR,n);return i.builder(i)}},name:"items",unit:"item",defaults:(n,i)=>eo(i,"uid")?i:{...i,uid:Fg("item")},overrides:(n,i)=>({type:i.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),NZ=j([ln("value"),ln("items"),ln("dom"),ln("components"),_t("eventOrder",{}),wi("menuBehaviours",[ls,qn,Ur,No]),ac("movement",{mode:"menu",moveOnTab:!0},qc("mode",{grid:[_1(),Qs("config",vR)],matrix:[Qs("config",DZ),ln("rowSelector")],menu:[_t("moveOnTab",!0),Qs("config",bR)]})),T3(),_t("fakeFocus",!1),_t("focusManager",te()),qr("onHighlight"),qr("onDehighlight")]),yR=j("alloy.menu-focus"),nA=(n,i)=>{const f=jl(n.element,'[role="menuitemradio"][aria-checked="true"]');q(f,g=>{Cr(g,i.element)||n.getSystem().getByDom(g).each(w=>{Qr.off(w)})})},fD=(n,i,f,g)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:al(n.menuBehaviours,[ls.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),qn.config({store:{mode:"memory",initialValue:n.value}}),Ur.config({find:U.some}),No.config(n.movement.config(n,n.movement))]),events:Dr([on(AZ(),(w,_)=>{const M=_.event;w.getSystem().getByDom(M.target).each(V=>{ls.highlight(w,V),_.stop(),Ho(w,yR(),{menu:w,item:V})})}),on(pR(),(w,_)=>{const M=_.event.item;ls.highlight(w,M)}),on(cb(),(w,_)=>{const{item:M,state:V}=_.event;V&&Ro(M.element,"role")==="menuitemradio"&&nA(w,M)})]),components:i,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}),fb=hc({name:"Menu",configFields:NZ(),partFields:BZ(),factory:fD}),wR=n=>Pn(n,(i,f)=>({k:i,v:f})),dD=(n,i,f,g)=>pn(f,g).bind(w=>pn(n,w).bind(_=>{const M=dD(n,i,f,_);return U.some([_].concat(M))})).getOr([]),PZ=(n,i)=>{const f={};sn(n,(M,V)=>{q(M,J=>{f[J]=V})});const g=i,w=wR(i),_=kn(w,(M,V)=>[V].concat(dD(f,g,w,V)));return kn(f,M=>pn(_,M).getOr([M]))},hD=()=>{const n=$e({}),i=$e({}),f=$e({}),g=Ea(),w=$e({}),_=()=>{n.set({}),i.set({}),f.set({}),g.clear()},M=()=>g.get().isNone(),V=(Qn,ho)=>{i.set({...i.get(),[Qn]:{type:"prepared",menu:ho}})},J=(Qn,ho,so,Mo)=>{g.set(Qn),n.set(so),i.set(ho),w.set(Mo);const Vo=PZ(Mo,so);f.set(Vo)},ne=Qn=>wn(n.get(),(ho,so)=>ho===Qn),de=(Qn,ho,so)=>bt(Qn).bind(Mo=>ne(Qn).bind(Vo=>ho(Vo).map(Ir=>({triggeredMenu:Mo,triggeringItem:Ir,triggeringPath:so})))),ye=(Qn,ho)=>{const so=tt(kt(Qn).toArray(),Mo=>bt(Mo).isSome());return pn(f.get(),Qn).bind(Mo=>{const Vo=xe(so.concat(Mo)),Ir=ve(Vo,(os,Po)=>de(os,ho,Vo.slice(0,Po+1)).fold(()=>As(g.get(),os)?[]:[U.none()],rs=>[U.some(rs)]));return Sa(Ir)})},Ne=Qn=>pn(n.get(),Qn).map(ho=>{const so=pn(f.get(),Qn).getOr([]);return[ho].concat(so)}),Pe=Qn=>pn(f.get(),Qn).bind(ho=>ho.length>1?U.some(ho.slice(1)):U.none()),rt=Qn=>pn(f.get(),Qn),bt=Qn=>Mt(Qn).bind(CR),Mt=Qn=>pn(i.get(),Qn),kt=Qn=>pn(n.get(),Qn);return{setMenuBuilt:V,setContents:J,expand:Ne,refresh:rt,collapse:Pe,lookupMenu:Mt,lookupItem:kt,otherMenus:Qn=>{const ho=w.get();return ot(ft(ho),Qn)},getPrimary:()=>g.get().bind(bt),getMenus:()=>i.get(),clear:_,isClear:M,getTriggeringPath:ye}},CR=n=>n.type==="prepared"?U.some(n.menu):U.none(),oA={init:hD,extractPreparedMenu:CR},SR=fo("tiered-menu-item-highlight"),F2=fo("tiered-menu-item-dehighlight");var Ql;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(Ql||(Ql={}));const xR=(n,i)=>{const f=Ea(),g=(Ln,co,nr)=>kn(nr,(Lr,js)=>{const Ua=()=>fb.sketch({...Lr,value:js,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Dc,ou)=>{Ho(Dc,SR,{menuComp:Dc,itemComp:ou})},onDehighlight:(Dc,ou)=>{Ho(Dc,F2,{menuComp:Dc,itemComp:ou})},focusManager:n.fakeFocus?Ee():te()});return js===co?{type:"prepared",menu:Ln.getSystem().build(Ua())}:{type:"notbuilt",nbMenu:Ua}}),w=oA.init(),_=Ln=>{const co=g(Ln,n.data.primary,n.data.menus),nr=J();return w.setContents(n.data.primary,co,n.data.expansions,nr),w.getPrimary()},M=Ln=>qn.getValue(Ln).value,V=(Ln,co,nr)=>oo(co,Lr=>{if(!Lr.getSystem().isConnected())return U.none();const js=ls.getCandidates(Lr);return Re(js,Ua=>M(Ua)===nr)}),J=Ln=>kn(n.data.menus,(co,nr)=>ve(co.items,Lr=>Lr.type==="separator"?[]:[Lr.data.value])),ne=ls.highlight,de=(Ln,co)=>{ne(Ln,co),ls.getHighlighted(co).orThunk(()=>ls.getFirst(co)).each(nr=>{n.fakeFocus?ls.highlight(co,nr):g1(Ln,nr.element,hh())})},ye=(Ln,co)=>pr(me(co,nr=>Ln.lookupMenu(nr).bind(Lr=>Lr.type==="prepared"?U.some(Lr.menu):U.none()))),Ne=(Ln,co,nr)=>{const Lr=ye(co,co.otherMenus(nr));q(Lr,js=>{gu(js.element,[n.markers.backgroundMenu]),n.stayInDom||kr.remove(Ln,js)})},Pe=Ln=>f.get().getOrThunk(()=>{const co={},nr=jl(Ln.element,`.${n.markers.item}`),Lr=tt(nr,js=>Ro(js,"aria-haspopup")==="true");return q(Lr,js=>{Ln.getSystem().getByDom(js).each(Ua=>{const Dc=M(Ua);co[Dc]=Ua})}),f.set(co),co}),rt=(Ln,co)=>{const nr=Pe(Ln);sn(nr,(Lr,js)=>{const Ua=fe(co,js);Fn(Lr.element,"aria-expanded",Ua)})},bt=(Ln,co,nr)=>U.from(nr[0]).bind(Lr=>co.lookupMenu(Lr).bind(js=>{if(js.type==="notbuilt")return U.none();{const Ua=js.menu,Dc=ye(co,nr.slice(1));return q(Dc,ou=>{nl(ou.element,n.markers.backgroundMenu)}),ie(Ua.element)||kr.append(Ln,Iu(Ua)),gu(Ua.element,[n.markers.backgroundMenu]),de(Ln,Ua),Ne(Ln,co,nr),U.some(Ua)}}));let Mt;(function(Ln){Ln[Ln.HighlightSubmenu=0]="HighlightSubmenu",Ln[Ln.HighlightParent=1]="HighlightParent"})(Mt||(Mt={}));const kt=(Ln,co,nr)=>{if(nr.type==="notbuilt"){const Lr=Ln.getSystem().build(nr.nbMenu());return w.setMenuBuilt(co,Lr),Lr}else return nr.menu},Lt=(Ln,co,nr=Mt.HighlightSubmenu)=>{if(co.hasConfigured(Bo)&&Bo.isDisabled(co))return U.some(co);{const Lr=M(co);return w.expand(Lr).bind(js=>(rt(Ln,js),U.from(js[0]).bind(Ua=>w.lookupMenu(Ua).bind(Dc=>{const ou=kt(Ln,Ua,Dc);return ie(ou.element)||kr.append(Ln,Iu(ou)),n.onOpenSubmenu(Ln,co,ou,xe(js)),nr===Mt.HighlightSubmenu?(ls.highlightFirst(ou),bt(Ln,w,js)):(ls.dehighlightAll(ou),U.some(co))}))))}},Zn=(Ln,co)=>{const nr=M(co);return w.collapse(nr).bind(Lr=>(rt(Ln,Lr),bt(Ln,w,Lr).map(js=>(n.onCollapseMenu(Ln,co,js),js))))},Xt=(Ln,co)=>{const nr=M(co);return w.refresh(nr).bind(Lr=>(rt(Ln,Lr),bt(Ln,w,Lr)))},Qn=(Ln,co)=>Vp(co.element)?U.none():Lt(Ln,co,Mt.HighlightSubmenu),ho=(Ln,co)=>Vp(co.element)?U.none():Zn(Ln,co),so=(Ln,co)=>Zn(Ln,co).orThunk(()=>n.onEscape(Ln,co).map(()=>Ln)),Mo=Ln=>(co,nr)=>ol(nr.getSource(),`.${n.markers.item}`).bind(Lr=>co.getSystem().getByDom(Lr).toOptional().bind(js=>Ln(co,js).map(be))),Vo=Dr([on(yR(),(Ln,co)=>{const nr=co.event.item;w.lookupItem(M(nr)).each(()=>{const Lr=co.event.menu;ls.highlight(Ln,Lr);const js=M(co.event.item);w.refresh(js).each(Ua=>Ne(Ln,w,Ua))})}),mh((Ln,co)=>{const nr=co.event.target;Ln.getSystem().getByDom(nr).each(Lr=>{M(Lr).indexOf("collapse-item")===0&&Zn(Ln,Lr),Lt(Ln,Lr,Mt.HighlightSubmenu).fold(()=>{n.onExecute(Ln,Lr)},P)})}),Ya((Ln,co)=>{_(Ln).each(nr=>{kr.append(Ln,Iu(nr)),n.onOpenMenu(Ln,nr),n.highlightOnOpen===Ql.HighlightMenuAndItem?de(Ln,nr):n.highlightOnOpen===Ql.HighlightJustMenu&&ne(Ln,nr)})}),on(SR,(Ln,co)=>{n.onHighlightItem(Ln,co.event.menuComp,co.event.itemComp)}),on(F2,(Ln,co)=>{n.onDehighlightItem(Ln,co.event.menuComp,co.event.itemComp)}),...n.navigateOnHover?[on(pR(),(Ln,co)=>{const nr=co.event.item;Xt(Ln,nr),Lt(Ln,nr,Mt.HighlightParent),n.onHover(Ln,nr)})]:[]]),Ir=Ln=>ls.getHighlighted(Ln).bind(ls.getHighlighted),os=Ln=>{Ir(Ln).each(co=>{Zn(Ln,co)})},Po=Ln=>{w.getPrimary().each(co=>{de(Ln,co)})},rs=Ln=>U.from(Ln.components()[0]).filter(co=>Ro(co.element,"role")==="menu"),ss={collapseMenu:os,highlightPrimary:Po,repositionMenus:Ln=>{w.getPrimary().bind(nr=>Ir(Ln).bind(Lr=>{const js=M(Lr),Ua=xn(w.getMenus()),Dc=pr(me(Ua,oA.extractPreparedMenu));return w.getTriggeringPath(js,ou=>V(Ln,Dc,ou))}).map(Lr=>({primary:nr,triggeringPath:Lr}))).fold(()=>{rs(Ln).each(nr=>{n.onRepositionMenu(Ln,nr,[])})},({primary:nr,triggeringPath:Lr})=>{n.onRepositionMenu(Ln,nr,Lr)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:al(n.tmenuBehaviours,[No.config({mode:"special",onRight:Mo(Qn),onLeft:Mo(ho),onEscape:Mo(so),focusIn:(Ln,co)=>{w.getPrimary().each(nr=>{g1(Ln,nr.element,hh())})}}),ls.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),Ur.config({find:Ln=>ls.getHighlighted(Ln)}),kr.config({})]),eventOrder:n.eventOrder,apis:ss,events:Vo}},ER=j("collapse-item"),FZ=(n,i,f)=>({primary:n,menus:i,expansions:f}),RZ=(n,i)=>({primary:n,menus:us(n,i),expansions:{}}),MZ=n=>({value:fo(ER()),meta:{text:n}}),db=zu({name:"TieredMenu",configFields:[jy("onExecute"),jy("onEscape"),_p("onOpenMenu"),_p("onOpenSubmenu"),qr("onRepositionMenu"),qr("onCollapseMenu"),_t("highlightOnOpen",Ql.HighlightMenuAndItem),kc("data",[ln("primary"),ln("menus"),ln("expansions")]),_t("fakeFocus",!1),qr("onHighlightItem"),qr("onDehighlightItem"),qr("onHover"),x0(),ln("dom"),_t("navigateOnHover",!0),_t("stayInDom",!1),wi("tmenuBehaviours",[No,ls,Ur,kr]),_t("eventOrder",{})],apis:{collapseMenu:(n,i)=>{n.collapseMenu(i)},highlightPrimary:(n,i)=>{n.highlightPrimary(i)},repositionMenus:(n,i)=>{n.repositionMenus(i)}},factory:xR,extraApis:{tieredData:FZ,singleData:RZ,collapseItem:MZ}}),pD=(n,i,f,g,w)=>{const _=()=>n.lazySink(i),M=g.type==="horizontal"?{layouts:{onLtr:()=>pS(),onRtl:()=>qy()}}:{},V=ne=>ne.length===2,J=ne=>V(ne)?M:{};return db.sketch({dom:{tag:"div"},data:g.data,markers:g.menu.markers,highlightOnOpen:g.menu.highlightOnOpen,fakeFocus:g.menu.fakeFocus,onEscape:()=>(Rr.close(i),n.onEscape.map(ne=>ne(i)),U.some(!0)),onExecute:()=>U.some(!0),onOpenMenu:(ne,de)=>{fc.positionWithinBounds(_().getOrDie(),de,f,w())},onOpenSubmenu:(ne,de,ye,Ne)=>{const Pe=_().getOrDie();fc.position(Pe,ye,{anchor:{type:"submenu",item:de,...J(Ne)}})},onRepositionMenu:(ne,de,ye)=>{const Ne=_().getOrDie();fc.positionWithinBounds(Ne,de,f,w()),q(ye,Pe=>{const rt=J(Pe.triggeringPath);fc.position(Ne,Pe.triggeredMenu,{anchor:{type:"submenu",item:Pe.triggeringItem,...rt}})})}})},kR=(n,i)=>{const f=(Pe,rt)=>n.getRelated(Pe).exists(Mt=>Op(Mt,rt)),g=(Pe,rt)=>{Rr.setContent(Pe,rt)},w=(Pe,rt,bt)=>{_(Pe,rt,bt,U.none())},_=(Pe,rt,bt,Mt)=>{M(Pe,rt,bt,()=>Mt.map(kt=>$r(kt)))},M=(Pe,rt,bt,Mt)=>{const kt=n.lazySink(Pe).getOrDie();Rr.openWhileCloaked(Pe,rt,()=>fc.positionWithinBounds(kt,Pe,bt,Mt())),qn.setValue(Pe,U.some({mode:"position",config:bt,getBounds:Mt}))},V=(Pe,rt,bt)=>{J(Pe,rt,bt,U.none)},J=(Pe,rt,bt,Mt)=>{const kt=pD(n,Pe,rt,bt,Mt);Rr.open(Pe,kt),qn.setValue(Pe,U.some({mode:"menu",menu:kt}))},ne=Pe=>{Rr.isOpen(Pe)&&(qn.setValue(Pe,U.none()),Rr.close(Pe))},de=Pe=>Rr.getState(Pe),ye=Pe=>{Rr.isOpen(Pe)&&qn.getValue(Pe).each(rt=>{switch(rt.mode){case"menu":Rr.getState(Pe).each(db.repositionMenus);break;case"position":const bt=n.lazySink(Pe).getOrDie();fc.positionWithinBounds(bt,Pe,rt.config,rt.getBounds());break}})},Ne={setContent:g,showAt:w,showWithin:_,showWithinBounds:M,showMenuAt:V,showMenuWithinBounds:J,hide:ne,getContent:de,reposition:ye,isOpen:Rr.isOpen};return{uid:n.uid,dom:n.dom,behaviours:al(n.inlineBehaviours,[Rr.config({isPartOf:(Pe,rt,bt)=>Op(rt,bt)||f(Pe,bt),getAttachPoint:Pe=>n.lazySink(Pe).getOrDie(),onOpen:Pe=>{n.onShow(Pe)},onClose:Pe=>{n.onHide(Pe)}}),qn.config({store:{mode:"memory",initialValue:U.none()}}),wf.config({channels:{...U1({isExtraPart:i.isExtraPart,...n.fireDismissalEventInstead.map(Pe=>({fireEventInstead:{event:Pe.event}})).getOr({})}),...Sf({...n.fireRepositionEventInstead.map(Pe=>({fireEventInstead:{event:Pe.event}})).getOr({}),doReposition:ye})}})]),eventOrder:n.eventOrder,apis:Ne}},ei=zu({name:"InlineView",configFields:[ln("lazySink"),qr("onShow"),qr("onHide"),Ga("onEscape"),wi("inlineBehaviours",[Rr,qn,wf]),sc("fireDismissalEventInstead",[_t("event",Tp())]),sc("fireRepositionEventInstead",[_t("event",c0())]),_t("getRelated",U.none),_t("isExtraPart",pe),_t("eventOrder",U.none)],factory:kR,apis:{showAt:(n,i,f,g)=>{n.showAt(i,f,g)},showWithin:(n,i,f,g,w)=>{n.showWithin(i,f,g,w)},showWithinBounds:(n,i,f,g,w)=>{n.showWithinBounds(i,f,g,w)},showMenuAt:(n,i,f,g)=>{n.showMenuAt(i,f,g)},showMenuWithinBounds:(n,i,f,g,w)=>{n.showMenuWithinBounds(i,f,g,w)},hide:(n,i)=>{n.hide(i)},isOpen:(n,i)=>n.isOpen(i),getContent:(n,i)=>n.getContent(i),setContent:(n,i,f)=>{n.setContent(i,f)},reposition:(n,i)=>{n.reposition(i)}}});var R2=tinymce.util.Tools.resolve("tinymce.util.Delay");const eu=zu({name:"Button",factory:n=>{const i=tA(n.action),f=n.dom.tag,g=_=>pn(n.dom,"attributes").bind(M=>pn(M,_)),w=()=>{if(f==="button"){const _=g("type").getOr("button"),M=g("role").map(V=>({role:V})).getOr({});return{type:_,...M}}else return{role:g("role").getOr("button")}};return{uid:n.uid,dom:n.dom,components:n.components,events:i,behaviours:bu.augment(n.buttonBehaviours,[qo.config({}),No.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:w()},eventOrder:n.eventOrder}},configFields:[_t("uid",void 0),ln("dom"),_t("components",[]),bu.field("buttonBehaviours",[qo,No]),Kr("action"),Kr("role"),_t("eventOrder",{})]}),ta=n=>{const i=O$(n)&&yr(n,"uid")?n.uid:Fg("memento");return{get:_=>_.getSystem().getByUid(i).getOrDie(),getOpt:_=>_.getSystem().getByUid(i).toOptional(),asSpec:()=>({...n,uid:i})}};var Md=tinymce.util.Tools.resolve("tinymce.util.I18n");const IZ={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},gD="temporary-placeholder",mD=n=>()=>pn(n,gD).getOr("!not found!"),vD=(n,i)=>{const f=n.toLowerCase();if(Md.isRtl()){const g=ri(f,"-rtl");return eo(i,g)?g:f}else return f},rA=(n,i)=>pn(i,vD(n,i)),bD=(n,i)=>{const f=i();return rA(n,f).getOrThunk(mD(f))},AR=(n,i,f)=>{const g=i();return rA(n,g).or(f).getOrThunk(mD(g))},LZ=n=>Md.isRtl()?eo(IZ,n):!1,Ex=()=>Mr("add-focusable",[Ya(n=>{E5(n.element,"svg").each(i=>Fn(i,"focusable","false"))})]),TR=(n,i,f,g)=>{var w,_;const M=LZ(i)?["tox-icon--flip"]:[],V=pn(f,vD(i,f)).or(g).getOrThunk(mD(f));return{dom:{tag:n.tag,attributes:(w=n.attributes)!==null&&w!==void 0?w:{},classes:n.classes.concat(M),innerHtml:V},behaviours:Mn([...(_=n.behaviours)!==null&&_!==void 0?_:[],Ex()])}},Dh=(n,i,f,g=U.none())=>TR(i,n,f(),g),HZ=(n,i,f)=>{const g=f(),w=Re(n,_=>eo(g,vD(_,g)));return TR(i,w.getOr(gD),g,U.none())},jZ={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},sA=zu({name:"Notification",factory:n=>{const i=ta({dom:{tag:"p",innerHtml:n.translationProvider(n.text)},behaviours:Mn([kr.config({})])}),f=Pe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Pe}%`}}}),g=Pe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Pe}%`}}),w=ta({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},g(0)],behaviours:Mn([kr.config({})])}),V={updateProgress:(Pe,rt)=>{Pe.getSystem().isConnected()&&w.getOpt(Pe).each(bt=>{kr.set(bt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(rt)]},g(rt)])})},updateText:(Pe,rt)=>{if(Pe.getSystem().isConnected()){const bt=i.get(Pe);kr.set(bt,[Xa(rt)])}}},J=Oe([n.icon.toArray(),n.level.toArray(),n.level.bind(Pe=>U.from(jZ[Pe])).toArray()]),ne=ta(eu.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Dh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:Pe=>{n.onAction(Pe)}})),de=HZ(J,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),ye={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:Mn([kr.config({})])},Ne=[de,ye];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(Pe=>["tox-notification","tox-notification--in",`tox-notification--${Pe}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Mn([qo.config({}),Mr("notification-events",[on(kp(),Pe=>{ne.getOpt(Pe).each(qo.focus)})])]),components:Ne.concat(n.progress?[w.asSpec()]:[]).concat(n.closeButton?[ne.asSpec()]:[]),apis:V}},configFields:[Kr("level"),ln("progress"),Kr("icon"),ln("onAction"),ln("text"),ln("iconProvider"),ln("translationProvider"),Tc("closeButton",!0)],apis:{updateProgress:(n,i,f)=>{n.updateProgress(i,f)},updateText:(n,i,f)=>{n.updateText(i,f)}}});var yD=(n,i,f)=>{const g=i.backstage.shared,w=()=>{const J=$r(dn.fromDom(n.getContentAreaContainer())),ne=Hi(),de=Jc(ne.x,J.x,J.right),ye=Jc(ne.y,J.y,J.bottom),Ne=Math.max(J.right,ne.right),Pe=Math.max(J.bottom,ne.bottom);return U.some(bo(de,ye,Ne-de,Pe-ye))};return{open:(J,ne)=>{const de=()=>{ne(),ei.hide(Ne)},ye=ic(sA.sketch({text:J.text,level:fe(["success","error","warning","warn","info"],J.type)?J.type:void 0,progress:J.progressBar===!0,icon:J.icon,closeButton:J.closeButton,onAction:de,iconProvider:g.providers.icons,translationProvider:g.providers.translate})),Ne=ic(ei.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:g.getSink,fireDismissalEventInstead:{},...g.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));f.add(Ne),B(J.timeout)&&J.timeout>0&&R2.setEditorTimeout(n,()=>{de()},J.timeout);const rt={close:de,reposition:()=>{const bt=Iu(ye),Mt={maxHeightFunction:$0()},kt=n.notificationManager.getNotifications();if(kt[0]===rt){const Lt={...g.anchors.banner(),overrides:Mt};ei.showWithinBounds(Ne,bt,{anchor:Lt},w)}else le(kt,rt).each(Lt=>{const Zn=kt[Lt-1].getEl(),Xt={type:"node",root:Ke(),node:U.some(dn.fromDom(Zn)),overrides:Mt,layouts:{onRtl:()=>[sl],onLtr:()=>[sl]}};ei.showWithinBounds(Ne,bt,{anchor:Xt},w)})},text:bt=>{sA.updateText(ye,bt)},settings:J,getEl:()=>ye.element.dom,progressBar:{value:bt=>{sA.updateProgress(ye,bt)}}};return rt},close:J=>{J.close()},getArgs:J=>J.settings}},kx=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),aA=tinymce.util.Tools.resolve("tinymce.EditorManager"),M2=tinymce.util.Tools.resolve("tinymce.Env"),sd;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(sd||(sd={}));var Ax;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(Ax||(Ax={}));const na=n=>i=>i.options.get(n),Tx=n=>i=>U.from(n(i)),OR=n=>{const i=M2.deviceType.isPhone(),f=M2.deviceType.isTablet()||i,g=n.options.register,w=M=>v(M)||M===!1,_=M=>v(M)||B(M);g("skin",{processor:M=>v(M)||M===!1,default:"oxide"}),g("skin_url",{processor:"string"}),g("height",{processor:_,default:Math.max(n.getElement().offsetHeight,400)}),g("width",{processor:_,default:kx.DOM.getStyle(n.getElement(),"width")}),g("min_height",{processor:"number",default:100}),g("min_width",{processor:"number"}),g("max_height",{processor:"number"}),g("max_width",{processor:"number"}),g("style_formats",{processor:"object[]"}),g("style_formats_merge",{processor:"boolean",default:!1}),g("style_formats_autohide",{processor:"boolean",default:!1}),g("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),g("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),g("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),g("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),g("content_langs",{processor:"object[]"}),g("removed_menuitems",{processor:"string",default:""}),g("menubar",{processor:M=>v(M)||k(M),default:!i}),g("menu",{processor:"object",default:{}}),g("toolbar",{processor:M=>k(M)||v(M)||x(M)?{value:M,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Be(9,M=>{g("toolbar"+(M+1),{processor:"string"})}),g("toolbar_mode",{processor:"string",default:f?"scrolling":"floating"}),g("toolbar_groups",{processor:"object",default:{}}),g("toolbar_location",{processor:"string",default:Ax.auto}),g("toolbar_persist",{processor:"boolean",default:!1}),g("toolbar_sticky",{processor:"boolean",default:n.inline}),g("toolbar_sticky_offset",{processor:"number",default:0}),g("fixed_toolbar_container",{processor:"string",default:""}),g("fixed_toolbar_container_target",{processor:"object"}),g("file_picker_callback",{processor:"function"}),g("file_picker_validator_handler",{processor:"function"}),g("file_picker_types",{processor:"string"}),g("typeahead_urls",{processor:"boolean",default:!0}),g("anchor_top",{processor:w,default:"#top"}),g("anchor_bottom",{processor:w,default:"#bottom"}),g("draggable_modal",{processor:"boolean",default:!1}),g("statusbar",{processor:"boolean",default:!0}),g("elementpath",{processor:"boolean",default:!0}),g("branding",{processor:"boolean",default:!0}),g("promotion",{processor:"boolean",default:!0}),g("resize",{processor:M=>M==="both"||k(M),default:!M2.deviceType.isTouch()}),g("sidebar_show",{processor:"string"})},wD=na("readonly"),CD=na("height"),SD=na("width"),Ox=Tx(na("min_width")),bm=Tx(na("min_height")),iA=Tx(na("max_width")),xD=Tx(na("max_height")),lA=Tx(na("style_formats")),_R=na("style_formats_merge"),ED=na("style_formats_autohide"),$R=na("content_langs"),kD=na("removed_menuitems"),hb=na("toolbar_mode"),cA=na("toolbar_groups"),AD=na("toolbar_location"),DR=na("fixed_toolbar_container"),zZ=na("fixed_toolbar_container_target"),I2=na("toolbar_persist"),BR=na("toolbar_sticky_offset"),uA=na("menubar"),L2=na("toolbar"),NR=na("file_picker_callback"),PR=na("file_picker_validator_handler"),fA=na("file_picker_types"),FR=na("typeahead_urls"),RR=na("anchor_top"),MR=na("anchor_bottom"),IR=na("draggable_modal"),LR=na("statusbar"),HR=na("elementpath"),jR=na("branding"),zR=na("resize"),VR=na("paste_as_text"),UR=na("sidebar_show"),WR=na("promotion"),TD=n=>n.options.get("skin")===!1,H2=n=>n.options.get("menubar")!==!1,qR=n=>{const i=n.options.get("skin_url");if(TD(n))return i;if(i)return n.documentBaseURI.toAbsolute(i);{const f=n.options.get("skin");return aA.baseURL+"/skins/ui/"+f}},ZR=n=>n.options.get("line_height_formats").split(" "),dA=n=>{const i=L2(n),f=v(i),g=x(i)&&i.length>0;return!_x(n)&&(g||f||i===!0)},hA=n=>{const i=Be(9,g=>n.options.get("toolbar"+(g+1))),f=tt(i,v);return xs(f.length>0,f)},_x=n=>hA(n).fold(()=>{const i=L2(n);return O(i,v)&&i.length>0},be),OD=n=>AD(n)===Ax.bottom,GR=n=>{var i;if(!n.inline)return U.none();const f=(i=DR(n))!==null&&i!==void 0?i:"";if(f.length>0)return $i(Ke(),f);const g=zZ(n);return N(g)?U.some(dn.fromDom(g)):U.none()},$x=n=>n.inline&&GR(n).isSome(),_D=n=>GR(n).getOrThunk(()=>Ts(or(dn.fromDom(n.getElement())))),$D=n=>n.inline&&!H2(n)&&!dA(n)&&!_x(n),pb=n=>(n.options.get("toolbar_sticky")||n.inline)&&!$x(n)&&!$D(n),KR=n=>{const i=n.options.get("menu");return kn(i,f=>({...f,items:f.items}))};var VZ=Object.freeze({__proto__:null,get ToolbarMode(){return sd},get ToolbarLocation(){return Ax},register:OR,getSkinUrl:qR,isReadOnly:wD,isSkinDisabled:TD,getHeightOption:CD,getWidthOption:SD,getMinWidthOption:Ox,getMinHeightOption:bm,getMaxWidthOption:iA,getMaxHeightOption:xD,getUserStyleFormats:lA,shouldMergeStyleFormats:_R,shouldAutoHideStyleFormats:ED,getLineHeightFormats:ZR,getContentLanguages:$R,getRemovedMenuItems:kD,isMenubarEnabled:H2,isMultipleToolbars:_x,isToolbarEnabled:dA,isToolbarPersist:I2,getMultipleToolbarsOption:hA,getUiContainer:_D,useFixedContainer:$x,getToolbarMode:hb,isDraggableModal:IR,isDistractionFree:$D,isStickyToolbar:pb,getStickyToolbarOffset:BR,getToolbarLocation:AD,isToolbarLocationBottom:OD,getToolbarGroups:cA,getMenus:KR,getMenubar:uA,getToolbar:L2,getFilePickerCallback:NR,getFilePickerTypes:fA,useTypeaheadUrls:FR,getAnchorTop:RR,getAnchorBottom:MR,getFilePickerValidatorHandler:PR,useStatusBar:LR,useElementPath:HR,promotionEnabled:WR,useBranding:jR,getResize:zR,getPasteAsText:VR,getSidebarShow:UR});const YR="[data-mce-autocompleter]",XR=n=>ol(n,YR),UZ=n=>$i(n,YR),WZ={setup:(n,i)=>{const f=(w,_)=>{Ho(w,o0(),{raw:_})},g=()=>n.getMenu().bind(ls.getHighlighted);i.on("keydown",w=>{const _=w.which;!n.isActive()||(n.isMenuOpen()?_===13?(g().each(du),w.preventDefault()):_===40?(g().fold(()=>{n.getMenu().each(ls.highlightFirst)},M=>{f(M,w)}),w.preventDefault(),w.stopImmediatePropagation()):(_===37||_===38||_===39)&&g().each(M=>{f(M,w),w.preventDefault(),w.stopImmediatePropagation()}):(_===13||_===38||_===40)&&n.cancelIfNecessary())}),i.on("NodeChange",w=>{n.isActive()&&!n.isProcessingAction()&&XR(dn.fromDom(w.element)).isNone()&&n.cancelIfNecessary()})}};var DD;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(DD||(DD={}));var Bh=DD;const BD="tox-menu-nav__js",pA="tox-collection__item",j2="tox-swatch",qZ={normal:BD,color:j2},gA="tox-collection__item--enabled",ZZ="tox-collection__group-heading",JR="tox-collection__item-icon",ND="tox-collection__item-label",GZ="tox-collection__item-accessory",PD="tox-collection__item-caret",KZ="tox-collection__item-checkmark",gb="tox-collection__item--active",mA="tox-collection__item-container",QR="tox-collection__item-container--column",vA="tox-collection__item-container--row",bA="tox-collection__item-container--align-right",e9="tox-collection__item-container--align-left",Wp="tox-collection__item-container--valign-top",FD="tox-collection__item-container--valign-middle",YZ="tox-collection__item-container--valign-bottom",t9=n=>pn(qZ,n).getOr(BD),XZ=n=>n==="color"?"tox-swatches":"tox-menu",RD=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:XZ(n),tieredMenu:"tox-tiered-menu"}),Id=n=>{const i=RD(n);return{backgroundMenu:i.backgroundMenu,selectedMenu:i.selectedMenu,menu:i.menu,selectedItem:i.selectedItem,item:t9(n)}},JZ=(n,i,f)=>{const g=RD(f);return{tag:"div",classes:Oe([[g.menu,`tox-menu-${i}-column`],n?[g.hasIcons]:[]])}},QZ=[fb.parts.items({})],Dx=(n,i,f)=>{const g=RD(f);return{dom:{tag:"div",classes:Oe([[g.tieredMenu]])},markers:Id(f)}},MD=j([Kr("data"),_t("inputAttributes",{}),_t("inputStyles",{}),_t("tag","input"),_t("inputClasses",[]),qr("onSetValue"),_t("styles",{}),_t("eventOrder",{}),wi("inputBehaviours",[qn,qo]),_t("selectOnFocus",!0)]),yA=n=>Mn([qo.config({onFocus:n.selectOnFocus?i=>{const f=i.element,g=Zl(f);f.dom.setSelectionRange(0,g.length)}:P})]),eG=n=>({...yA(n),...al(n.inputBehaviours,[qn.config({store:{mode:"manual",...n.data.map(i=>({initialValue:i})).getOr({}),getValue:i=>Zl(i.element),setValue:(i,f)=>{Zl(i.element)!==f&&Hg(i.element,f)}},onSetValue:n.onSetValue})])}),wA=n=>({tag:n.tag,attributes:{type:"text",...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),ID=(n,i)=>({uid:n.uid,dom:wA(n),components:[],behaviours:eG(n),eventOrder:n.eventOrder}),z2=zu({name:"Input",configFields:MD(),factory:ID}),LD=fo("refetch-trigger-event"),HD=fo("redirect-menu-item-interaction"),n9="tox-menu__searcher",CA=n=>$i(n.element,`.${n9}`).bind(i=>n.getSystem().getByDom(i).toOptional()),o9=CA,tG=(n,i)=>{qn.setValue(n,i.fetchPattern),n.element.dom.selectionStart=i.selectionStart,n.element.dom.selectionEnd=i.selectionEnd},r9=n=>{const i=qn.getValue(n),f=n.element.dom.selectionStart,g=n.element.dom.selectionEnd;return{fetchPattern:i,selectionStart:f,selectionEnd:g}},nG=(n,i)=>{he(i.element,"id").each(f=>Fn(n.element,"aria-activedescendant",f))},oG=n=>{const i=(w,_)=>(_.cut(),U.none()),f=(w,_)=>{const M={interactionEvent:_.event,eventType:_.event.raw.type};return Ho(w,HD,M),U.some(!0)},g="searcher-events";return{dom:{tag:"div",classes:[pA]},components:[z2.sketch({inputClasses:[n9,"tox-textfield"],inputAttributes:{...n.placeholder.map(w=>({placeholder:n.i18n(w)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Mn([Mr(g,[on($g(),w=>{gs(w,LD)}),on(o0(),(w,_)=>{_.event.raw.key==="Escape"&&_.stop()})]),No.config({mode:"special",onLeft:i,onRight:i,onSpace:i,onEnter:f,onEscape:f,onUp:f,onDown:f})]),eventOrder:{keydown:[g,No.name()]}})]}},SA="tox-collection--results__js",V2=n=>{var i;return n.dom?{...n,dom:{...n.dom,attributes:{...(i=n.dom.attributes)!==null&&i!==void 0?i:{},id:fo("aria-item-search-result-id"),"aria-selected":"false"}}}:n},xA=(n,i)=>f=>{const g=Ce(f,i);return me(g,w=>({dom:n,components:w}))},rG=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[fb.parts.items({preprocess:n!=="auto"?xA({tag:"div",classes:["tox-swatches__row"]},n):oe})]}]}),sG=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[fb.parts.items({preprocess:xA({tag:"div",classes:["tox-collection__group"]},n)})]}),jD=(n,i)=>{const f=[];let g=[];return q(n,(w,_)=>{i(w,_)?(g.length>0&&f.push(g),g=[],(eo(w.dom,"innerHtml")||w.components&&w.components.length>0)&&g.push(w)):g.push(w)}),g.length>0&&f.push(g),me(f,w=>({dom:{tag:"div",classes:["tox-collection__group"]},components:w}))},zD=(n,i,f)=>fb.parts.items({preprocess:g=>{const w=me(g,f);return n!=="auto"&&n>1?xA({tag:"div",classes:["tox-collection__group"]},n)(w):jD(w,(_,M)=>i[M].type==="separator")}}),s9=(n,i,f=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[zD(n,i,oe)]}),a9=(n,i,f=!0)=>{const g=fo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",SA].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:g}},components:[zD(n,i,V2)]}},i9=(n,i,f)=>{const g=fo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[oG({i18n:Md.translate,placeholder:f.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],SA],attributes:{id:g}},components:[zD(n,i,V2)]}]}},l9=(n,i=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[fb.parts.items({preprocess:f=>jD(f,(g,w)=>n[w].type==="separator")})]}),Bx=n=>ce(n,i=>"icon"in i&&i.icon!==void 0),ym=n=>(console.error(Ed(n)),console.log(n),U.none()),aG=(n,i,f,g,w)=>{const _=l9(f);return{value:n,dom:_.dom,components:_.components,items:f}},EA=(n,i,f,g,w)=>{const _=()=>w.menuType!=="searchable"?s9(g,f):w.searchMode.searchMode==="search-with-field"?i9(g,f,w.searchMode):a9(g,f);if(w.menuType==="color"){const M=rG(g);return{value:n,dom:M.dom,components:M.components,items:f}}else if(w.menuType==="normal"&&g==="auto"){const M=s9(g,f);return{value:n,dom:M.dom,components:M.components,items:f}}else if(w.menuType==="normal"||w.menuType==="searchable"){const M=_();return{value:n,dom:M.dom,components:M.components,items:f}}else if(w.menuType==="listpreview"&&g!=="auto"){const M=sG(g);return{value:n,dom:M.dom,components:M.components,items:f}}else return{value:n,dom:JZ(i,g,w.menuType),components:QZ,items:f}},ti=Za("type"),Nx=Za("name"),kA=Za("label"),wm=Za("text"),c9=Za("title"),u9=Za("icon"),mb=Za("value"),iG=gf("fetch"),f9=gf("getSubmenuItems"),vb=gf("onAction"),U2=gf("onItemAction"),bb=mi("onSetup",()=>P),VD=Rl("name"),Cm=Rl("text"),Nh=Rl("icon"),Px=Rl("tooltip"),AA=Rl("label"),d9=Rl("shortcut"),UD=Ga("select"),Fx=Tc("active",!1),lG=Tc("borderless",!1),Ld=Tc("enabled",!0),Rx=Tc("primary",!1),WD=n=>_t("columns",n),TA=_t("meta",{}),qD=mi("onAction",P),rv=n=>Ac("type",n),yb=n=>ji("name","name",df(()=>fo(`${n}-name`)),Da),cG=n=>ji("value","value",df(()=>fo(`${n}-value`)),Wc()),h9=Oo([ti,Cm]),uG=n=>jr("separatormenuitem",h9,n),p9=Oo([rv("autocompleteitem"),Fx,Ld,TA,mb,Cm,Nh]),g9=n=>jr("Autocompleter.Separator",h9,n),fG=n=>jr("Autocompleter.Item",p9,n),Mx=[Ld,Px,Nh,Cm,bb],dG=Oo([ti,vb].concat(Mx)),m9=n=>jr("toolbarbutton",dG,n),ZD=[Fx].concat(Mx),OA=Oo(ZD.concat([ti,vb])),v9=n=>jr("ToggleButton",OA,n),GD=[mi("predicate",pe),Uf("scope","node",["node","editor"]),Uf("position","selection",["node","selection","line"])],b9=Mx.concat([rv("contextformbutton"),Rx,vb,ml("original",oe)]),y9=ZD.concat([rv("contextformbutton"),Rx,vb,ml("original",oe)]),hG=Mx.concat([rv("contextformbutton")]),w9=ZD.concat([rv("contextformtogglebutton")]),C9=qc("type",{contextformbutton:b9,contextformtogglebutton:y9}),S9=Oo([rv("contextform"),mi("initValue",j("")),AA,Fl("commands",C9),Vf("launch",qc("type",{contextformbutton:hG,contextformtogglebutton:w9}))].concat(GD)),x9=n=>jr("ContextForm",S9,n),pG=Oo([rv("contexttoolbar"),Za("items")].concat(GD)),gG=n=>jr("ContextToolbar",pG,n),mG=[ti,Za("src"),Rl("alt"),X("classes",[],Da)],vG=Oo(mG),wb=[ti,wm,VD,X("classes",["tox-collection__item-label"],Da)],KD=Oo(wb),E9=uu(()=>xd("type",{cardimage:vG,cardtext:KD,cardcontainer:_A})),_A=Oo([ti,Ac("direction","horizontal"),Ac("align","left"),Ac("valign","middle"),Fl("items",E9)]),wu=[Ld,Cm,d9,cG("menuitem"),TA],bG=Oo([ti,AA,Fl("items",E9),bb,qD].concat(wu)),yG=n=>jr("cardmenuitem",bG,n),wG=Oo([ti,Fx,Nh].concat(wu)),YD=n=>jr("choicemenuitem",wG,n),k9=[ti,Za("fancytype"),qD],CG=[_t("initData",{})].concat(k9),A9=[_e("initData",{},[Tc("allowCustomColors",!0),Ep("colors",Wc())])].concat(k9),SG=qc("fancytype",{inserttable:CG,colorswatch:A9}),xG=n=>jr("fancymenuitem",SG,n),EG=Oo([ti,bb,qD,Nh].concat(wu)),Uu=n=>jr("menuitem",EG,n),qp=Oo([ti,f9,bb,Nh].concat(wu)),kG=n=>jr("nestedmenuitem",qp,n),T9=Oo([ti,Nh,Fx,bb,vb].concat(wu)),$A=n=>jr("togglemenuitem",T9,n),Ix=(n,i,f)=>{const g=jl(n.element,"."+f);if(g.length>0){const w=Ve(g,_=>{const M=_.dom.getBoundingClientRect().top,V=g[0].dom.getBoundingClientRect().top;return Math.abs(M-V)>i}).getOr(g.length);return U.some({numColumns:w,numRows:Math.ceil(g.length/w)})}else return U.none()},O9=(n,i)=>Mn([Mr(n,i)]),sv={namedEvents:O9,unnamedEvents:n=>O9(fo("unnamed-events"),n)},Lx=fo("tooltip.exclusive"),Hx=fo("tooltip.show"),Hd=fo("tooltip.hide"),_9=(n,i,f)=>{n.getSystem().broadcastOn([Lx],{})};var Wu=Object.freeze({__proto__:null,hideAllExclusive:_9,setComponents:(n,i,f,g)=>{f.getTooltip().each(w=>{w.getSystem().isConnected()&&kr.set(w,g)})}}),Ph=Object.freeze({__proto__:null,events:(n,i)=>{const f=w=>{i.getTooltip().each(_=>{zl(_),n.onHide(w,_),i.clearTooltip()}),i.clearTimer()},g=w=>{if(!i.isShowing()){_9(w);const _=n.lazySink(w).getOrDie(),M=w.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Dr(n.mode==="normal"?[on(Ad(),V=>{gs(w,Hx)}),on(qf(),V=>{gs(w,Hd)})]:[]),behaviours:Mn([kr.config({})])});i.setTooltip(M),Rp(_,M),n.onShow(w,M),fc.position(_,M,{anchor:n.anchor(w)})}};return Dr(Oe([[on(Hx,w=>{i.resetTimer(()=>{g(w)},n.delay)}),on(Hd,w=>{i.resetTimer(()=>{f(w)},n.delay)}),on(Zf(),(w,_)=>{const M=_;M.universal||fe(M.channels,Lx)&&f(w)}),Gf(w=>{f(w)})],n.mode==="normal"?[on(kp(),w=>{gs(w,Hx)}),on(vi(),w=>{gs(w,Hd)}),on(Ad(),w=>{gs(w,Hx)}),on(qf(),w=>{gs(w,Hd)})]:[on(VC(),(w,_)=>{gs(w,Hx)}),on(p1(),w=>{gs(w,Hd)})]]))}}),AG=[ln("lazySink"),ln("tooltipDom"),_t("exclusive",!0),_t("tooltipComponents",[]),_t("delay",300),Uf("mode","normal",["normal","follow-highlight"]),_t("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:j([sl,Ll,Il,Gl,yl,da]),onRtl:j([sl,Ll,Il,Gl,yl,da])}})),qr("onHide"),qr("onShow")],Cb=Object.freeze({__proto__:null,init:()=>{const n=Ea(),i=Ea(),f=()=>{n.on(clearTimeout)},g=(_,M)=>{f(),n.set(setTimeout(_,M))},w=j("not-implemented");return hu({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:f,resetTimer:g,readState:w})}});const jx=Vi({fields:AG,name:"tooltipping",active:Ph,state:Cb,apis:Wu}),D9=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),zx="silver.readonly",XD=Oo([lh("readonly")]),DA=(n,i)=>{const g=n.outerContainer.element;i&&(n.mothership.broadcastOn([Pd()],{target:g}),n.uiMothership.broadcastOn([Pd()],{target:g})),n.mothership.broadcastOn([zx],{readonly:i}),n.uiMothership.broadcastOn([zx],{readonly:i})},BA=(n,i)=>{n.on("init",()=>{n.mode.isReadOnly()&&DA(i,!0)}),n.on("SwitchMode",()=>DA(i,n.mode.isReadOnly())),wD(n)&&n.mode.set("readonly")},Wi=()=>wf.config({channels:{[zx]:{schema:XD,onReceive:(n,i)=>{Bo.set(n,i.readonly)}}}}),qu={item:n=>Bo.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>Bo.config({disabled:n}),splitButton:n=>Bo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>Bo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},NA=(n,i)=>{const f=n.getApi(i);return g=>{g(f)}},Vx=(n,i)=>Ya(f=>{NA(n,f)(w=>{const _=n.onSetup(w);D(_)&&i.set(_)})}),Ux=(n,i)=>Gf(f=>NA(n,f)(i.get())),$G=(n,i)=>mh((f,g)=>{NA(n,f)(n.onAction),!n.triggersSubmenu&&i===Bh.CLOSE_ON_EXECUTE&&(f.getSystem().isConnected()&&gs(f,xy()),g.stop())}),DG={[fu()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Wx=pr,W2=(n,i,f,g)=>{const w=$e(P);return{type:"item",dom:i.dom,components:Wx(i.optComponents),data:n.data,eventOrder:DG,hasSubmenu:n.triggersSubmenu,itemBehaviours:Mn([Mr("item-events",[$G(n,f),Vx(n,w),Ux(n,w)]),qu.item(()=>!n.enabled||g.isDisabled()),Wi(),kr.config({})].concat(n.itemBehaviours))}},q2=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),BG=n=>{const i=M2.os.isMacOS()||M2.os.isiOS(),w=i?{alt:"\u2325",ctrl:"\u2303",shift:"\u21E7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},_=n.split("+"),M=me(_,V=>{const J=V.toLowerCase().trim();return eo(w,J)?w[J]:V});return i?M.join(""):M.join("+")},JD=(n,i,f=[JR])=>Dh(n,{tag:"div",classes:f},i),QD=n=>({dom:{tag:"div",classes:[ND]},components:[Xa(Md.translate(n))]}),N9=(n,i)=>({dom:{tag:"div",classes:i,innerHtml:n}}),P9=(n,i)=>({dom:{tag:"div",classes:[ND]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Xa(Md.translate(i))]}]}),F9=n=>({dom:{tag:"div",classes:[GZ]},components:[Xa(BG(n))]}),R9=n=>JD("checkmark",n,[KZ]),NG=n=>JD("chevron-right",n,[PD]),PG=n=>JD("chevron-down",n,[PD]),FG=(n,i)=>{const f=n.direction==="vertical"?QR:vA,g=n.align==="left"?e9:bA;return{dom:{tag:"div",classes:[mA,f,g,(()=>{switch(n.valign){case"top":return Wp;case"middle":return FD;case"bottom":return YZ}})()]},components:i}},RG=(n,i,f)=>({dom:{tag:"img",classes:i,attributes:{src:n,alt:f.getOr("")}}}),MG=(n,i,f)=>{const g="custom",w="remove",_=n.ariaLabel,M=n.value,V=n.iconContent.map(ne=>AR(ne,i.icons,f));return{dom:(()=>{const ne=j2,de=V.getOr(""),ye=_.map(Pe=>({title:i.translate(Pe)})).getOr({}),Ne={tag:"div",attributes:ye,classes:[ne]};return M===g?{...Ne,tag:"button",classes:[...Ne.classes,"tox-swatches__picker-btn"],innerHtml:de}:M===w?{...Ne,classes:[...Ne.classes,"tox-swatch--remove"],innerHtml:de}:N(M)?{...Ne,attributes:{...Ne.attributes,"data-mce-color":M},styles:{"background-color":M}}:Ne})(),optComponents:[]}},M9=n=>{const i=n.map(f=>({attributes:{title:Md.translate(f)}})).getOr({});return{tag:"div",classes:[BD,pA],...i}},e6=(n,i,f,g)=>{const w={tag:"div",classes:[JR]},_=Ne=>Dh(Ne,w,i.icons,g),M=()=>U.some({dom:w}),V=f?n.iconContent.map(_).orThunk(M):U.none(),J=n.checkMark,ne=U.from(n.meta).fold(()=>QD,Ne=>eo(Ne,"style")?ae(P9,Ne.style):QD),de=n.htmlContent.fold(()=>n.textContent.map(ne),Ne=>U.some(N9(Ne,[ND])));return{dom:M9(n.ariaLabel),optComponents:[V,de,n.shortcutContent.map(F9),J,n.caret]}},Z2=(n,i,f,g=U.none())=>n.presets==="color"?MG(n,i,g):e6(n,i,f,g),I9=(n,i)=>pn(n,"tooltipWorker").map(f=>[jx.config({lazySink:i.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:g=>({type:"submenu",item:g,overrides:{maxHeightFunction:$0}}),mode:"follow-highlight",onShow:(g,w)=>{f(_=>{jx.setComponents(g,[S1({element:dn.fromDom(_)})])})}})]).getOr([]),IG=n=>kx.DOM.encode(n),t6=(n,i)=>{const f=Md.translate(n),g=IG(f);if(i.length>0){const w=new RegExp(D9(i),"gi");return g.replace(w,_=>`<span class="tox-autocompleter-highlight">${_}</span>`)}else return g},LG=(n,i,f,g,w,_,M,V=!0)=>{const J=Z2({presets:g,textContent:U.none(),htmlContent:f?n.text.map(ne=>t6(ne,i)):U.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:U.none(),checkMark:U.none(),caret:U.none(),value:n.value},M.providers,V,n.icon);return W2({data:q2(n),enabled:n.enabled,getApi:j({}),onAction:ne=>w(n.value,n.meta),onSetup:j(P),triggersSubmenu:!1,itemBehaviours:I9(n.meta,M)},J,_,M.providers)},L9=(n,i)=>me(n,f=>{switch(f.type){case"cardcontainer":return FG(f,L9(f.items,i));case"cardimage":return RG(f.src,f.classes,f.alt);case"cardtext":const w=f.name.exists(_=>fe(i.cardText.highlightOn,_))?U.from(i.cardText.matchText).getOr(""):"";return N9(t6(f.text,w),f.classes)}}),H9=(n,i,f,g)=>{const w=M=>({isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>{Bo.set(M,!V),q(jl(M.element,"*"),J=>{M.getSystem().getByDom(J).each(ne=>{ne.hasConfigured(Bo)&&Bo.set(ne,!V)})})}}),_={dom:M9(n.label),optComponents:[U.some({dom:{tag:"div",classes:[mA,vA]},components:L9(n.items,g)})]};return W2({data:q2({text:U.none(),...n}),enabled:n.enabled,getApi:w,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:U.from(g.itemBehaviours).getOr([])},_,i,f.providers)},j9=(n,i,f,g,w,_,M,V=!0)=>{const J=de=>({setActive:ye=>{Qr.set(de,ye)},isActive:()=>Qr.isOn(de),isEnabled:()=>!Bo.isDisabled(de),setEnabled:ye=>Bo.set(de,!ye)}),ne=Z2({presets:f,textContent:i?n.text:U.none(),htmlContent:U.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:i?n.shortcut:U.none(),checkMark:i?U.some(R9(M.icons)):U.none(),caret:U.none(),value:n.value},M,V);return Ws(W2({data:q2(n),enabled:n.enabled,getApi:J,onAction:de=>g(n.value),onSetup:de=>(de.setActive(w),P),triggersSubmenu:!1,itemBehaviours:[]},ne,_,M),{toggling:{toggleClass:gA,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},n6=C2(cD(),uD()),z9=n=>({value:n}),V9=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,U9=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,W9=n=>V9.test(n)||U9.test(n),HG=n=>Yr(n,"#").toUpperCase(),q9=n=>W9(n)?U.some({value:HG(n)}):U.none(),jG=n=>({value:n.value.replace(V9,(f,g,w,_)=>g+g+w+w+_+_)}),zG=n=>{const i=jG(n),f=U9.exec(i.value);return f===null?["FFFFFF","FF","FF","FF"]:f},o6=n=>{const i=n.toString(16);return(i.length===1?"0"+i:i).toUpperCase()},qx=n=>{const i=o6(n.red)+o6(n.green)+o6(n.blue);return z9(i)},Z9=Math.min,G9=Math.max,Zx=Math.round,Fh=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,K9=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Sm=(n,i,f,g)=>({red:n,green:i,blue:f,alpha:g}),r6=n=>{const i=parseInt(n,10);return i.toString()===n&&i>=0&&i<=255},Y9=n=>{let i,f,g;const w=(n.hue||0)%360;let _=n.saturation/100,M=n.value/100;if(_=G9(0,Z9(_,1)),M=G9(0,Z9(M,1)),_===0)return i=f=g=Zx(255*M),Sm(i,f,g,1);const V=w/60,J=M*_,ne=J*(1-Math.abs(V%2-1)),de=M-J;switch(Math.floor(V)){case 0:i=J,f=ne,g=0;break;case 1:i=ne,f=J,g=0;break;case 2:i=0,f=J,g=ne;break;case 3:i=0,f=ne,g=J;break;case 4:i=ne,f=0,g=J;break;case 5:i=J,f=0,g=ne;break;default:i=f=g=0}return i=Zx(255*(i+de)),f=Zx(255*(f+de)),g=Zx(255*(g+de)),Sm(i,f,g,1)},Sb=n=>{const i=zG(n),f=parseInt(i[1],16),g=parseInt(i[2],16),w=parseInt(i[3],16);return Sm(f,g,w,1)},X9=(n,i,f,g)=>{const w=parseInt(n,10),_=parseInt(i,10),M=parseInt(f,10),V=parseFloat(g);return Sm(w,_,M,V)},J9=n=>{if(n==="transparent")return U.some(Sm(0,0,0,0));const i=Fh.exec(n);if(i!==null)return U.some(X9(i[1],i[2],i[3],"1"));const f=K9.exec(n);return f!==null?U.some(X9(f[1],f[2],f[3],f[4])):U.none()},s6=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,Q9=Sm(255,0,0,1),VG=n=>{n.dispatch("SkinLoaded")},UG=(n,i)=>{n.dispatch("SkinLoadError",i)},G2=n=>{n.dispatch("ResizeEditor")},a6=(n,i)=>{n.dispatch("ResizeContent",i)},eM=(n,i)=>{n.dispatch("ScrollContent",i)},tM=(n,i)=>{n.dispatch("TextColorChange",i)},nM=(n,i)=>{n.dispatch("AfterProgressState",{state:i})},i6=(n,i)=>n.dispatch("ResolveName",{name:i.nodeName.toLowerCase(),target:i}),xb=(n,i,f)=>({hue:n,saturation:i,value:f}),Gx=n=>{let i=0,f=0,g=0;const w=n.red/255,_=n.green/255,M=n.blue/255,V=Math.min(w,Math.min(_,M)),J=Math.max(w,Math.max(_,M));if(V===J)return g=V,xb(0,0,g*100);const ne=w===V?_-M:M===V?w-_:M-w;return i=w===V?3:M===V?1:5,i=60*(i-ne/(J-V)),f=(J-V)/J,g=J,xb(Math.round(i),Math.round(f*100),Math.round(g*100))},oM=n=>Gx(Sb(n)),rM=n=>qx(Y9(n)),sM=n=>q9(n).orThunk(()=>J9(n).map(qx)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const f=i.getContext("2d");f.clearRect(0,0,i.width,i.height),f.fillStyle="#FFFFFF",f.fillStyle=n,f.fillRect(0,0,1,1);const g=f.getImageData(0,0,1,1).data,w=g[0],_=g[1],M=g[2],V=g[3];return qx(Sm(w,_,M,V))});var PA=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const aM="tinymce-custom-colors",l6=((n=10)=>{const i=PA.getItem(aM),f=v(i)?JSON.parse(i):[],w=(J=>n-J.length<0?J.slice(0,n):J)(f),_=J=>{le(w,J).each(M),w.unshift(J),w.length>n&&w.pop(),PA.setItem(aM,JSON.stringify(w))},M=J=>{w.splice(J,1)};return{add:_,state:()=>w.slice(0)}})(10),iM=n=>Math.max(5,Math.ceil(Math.sqrt(n))),lM=n=>{const i=[];for(let f=0;f<n.length;f+=2)i.push({text:n[f+1],value:"#"+sM(n[f]).value,type:"choiceitem"});return i},c6=n=>i=>i.options.get(n),WG=n=>{const i=n.options.register;i("color_map",{processor:f=>O(f,v)?{value:lM(f),valid:!0}:{valid:!1,message:"Must be an array of strings."},default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),i("color_cols",{processor:"number",default:iM(u6(n).length)}),i("custom_colors",{processor:"boolean",default:!0})},cM=c6("color_cols"),uM=c6("custom_colors"),u6=c6("color_map"),qG=()=>me(l6.state(),n=>({type:"choiceitem",text:n,value:n})),fM=n=>{l6.add(n)},f6="#000000",ZG=n=>N(n.style),GG=(n,i)=>{let f;return n.dom.getParents(n.selection.getStart(),g=>{const w=ZG(g)?g.style[i==="forecolor"?"color":"backgroundColor"]:null;w&&(f=f||w)}),U.from(f)},KG=(n,i,f)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(i,{value:f}),n.nodeChanged()})},dM=(n,i)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(i,{value:null},void 0,!0),n.nodeChanged()})},YG=n=>{n.addCommand("mceApplyTextcolor",(i,f)=>{KG(n,i,f)}),n.addCommand("mceRemoveTextcolor",i=>{dM(n,i)})},hM=n=>{const i="choiceitem",f={type:i,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[f,{type:i,text:"Custom color",icon:"color-picker",value:"custom"}]:[f]},d6=(n,i,f,g)=>{f==="custom"?vM(n)(_=>{_.each(M=>{fM(M),n.execCommand("mceApplyTextcolor",i,M),g(M)})},f6):f==="remove"?(g(""),n.execCommand("mceRemoveTextcolor",i)):(g(f),n.execCommand("mceApplyTextcolor",i,f))},pM=(n,i)=>n.concat(qG().concat(hM(i))),gM=(n,i)=>f=>{f(pM(n,i))},Kx=(n,i,f)=>{const g=i==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(g,f)},h6=(n,i,f,g,w)=>{n.ui.registry.addSplitButton(i,{tooltip:g,presets:"color",icon:i==="forecolor"?"text-color":"highlight-bg-color",select:_=>GG(n,f).bind(V=>J9(V).map(J=>{const ne=qx(J).value;return as(_.toLowerCase(),ne)})).getOr(!1),columns:cM(n),fetch:gM(u6(n),uM(n)),onAction:_=>{d6(n,f,w.get(),P)},onItemAction:(_,M)=>{d6(n,f,M,V=>{w.set(V),tM(n,{name:i,color:V})})},onSetup:_=>{Kx(_,i,w.get());const M=V=>{V.name===i&&Kx(_,V.name,V.color)};return n.on("TextColorChange",M),()=>{n.off("TextColorChange",M)}}})},mM=(n,i,f,g)=>{n.ui.registry.addNestedMenuItem(i,{text:g,icon:i==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",onAction:w=>{d6(n,f,w.value,P)}}]})},vM=n=>(i,f)=>{let g=!1;const w=V=>{const ne=V.getData().colorpicker;g?(i(U.from(ne)),V.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",ne]))},_=(V,J)=>{J.name==="hex-valid"&&(g=J.value)},M={colorpicker:f};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:M,onAction:_,onSubmit:w,onClose:P,onCancel:()=>{i(U.none())}})},XG=n=>{YG(n);const i=$e(f6),f=$e(f6);h6(n,"forecolor","forecolor","Text color",i),h6(n,"backcolor","hilitecolor","Background color",f),mM(n,"forecolor","forecolor","Text color"),mM(n,"backcolor","hilitecolor","Background color")},p6=(n,i,f,g,w,_,M,V)=>{const J=Bx(i),de=JG(i,f,g,w!=="color"?"normal":"color",_,M,V);return EA(n,J,de,g,{menuType:w})},JG=(n,i,f,g,w,_,M)=>pr(me(n,V=>V.type==="choiceitem"?YD(V).fold(ym,J=>U.some(j9(J,f===1,g,i,_(J.value),w,M,Bx(n)))):U.none())),FA=(n,i)=>{const f=Id(i);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+f.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(i==="color"?"tox-swatches__row":"tox-collection__group")}},g6=(n,i)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:i==="color"?".tox-swatches__row":".tox-collection__group",cell:i==="color"?`.${j2}`:`.${pA}`}},bM=(n,i)=>{const f=yM(n,i),g=i.colorinput.getColorCols(),w="color",M={...p6(fo("menu-value"),f,V=>{n.onAction({value:V})},g,w,Bh.CLOSE_ON_EXECUTE,pe,i.shared.providers),markers:Id(w),movement:FA(g,w)};return{type:"widget",data:{value:fo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[n6.widget(fb.sketch(M))]}},yM=(n,i)=>{const f=n.initData.allowCustomColors&&i.colorinput.hasCustomColors();return n.initData.colors.fold(()=>pM(i.colorinput.getColors(),f),g=>g.concat(hM(f)))},wM=fo("cell-over"),m6=fo("cell-execute"),QG=(n,i,f)=>{const g=M=>Ho(M,wM,{row:n,col:i}),w=M=>Ho(M,m6,{row:n,col:i}),_=(M,V)=>{V.stop(),w(M)};return ic({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:f}},behaviours:Mn([Mr("insert-table-picker-cell",[on(Ad(),qo.focus),on(fu(),w),on(r0(),_),on(a0(),_)]),Qr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),qo.config({onFocus:g})])})},eK=(n,i,f)=>{const g=[];for(let w=0;w<i;w++){const _=[];for(let M=0;M<f;M++)_.push(QG(w,M,n));g.push(_)}return g},tK=(n,i,f,g,w)=>{for(let _=0;_<g;_++)for(let M=0;M<w;M++)Qr.set(n[_][M],_<=i&&M<=f)},nK=n=>ve(n,i=>me(i,Iu)),CM=(n,i)=>Xa(`${i}x${n}`),oK={inserttable:n=>{const g=fo("size-label"),w=eK(g,10,10),_=CM(0,0),M=ta({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:g}},components:[_],behaviours:Mn([kr.config({})])});return{type:"widget",data:{value:fo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[n6.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:nK(w).concat(M.asSpec()),behaviours:Mn([Mr("insert-table-picker",[Ya(V=>{kr.set(M.get(V),[_])}),m1(wM,(V,J,ne)=>{const{row:de,col:ye}=ne.event;tK(w,de,ye,10,10),kr.set(M.get(V),[CM(de+1,ye+1)])}),m1(m6,(V,J,ne)=>{const{row:de,col:ye}=ne.event;n.onAction({numRows:de+1,numColumns:ye+1}),gs(V,xy())})]),No.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:bM},rK=(n,i)=>pn(oK,n.fancytype).map(f=>f(n,i)),sK=(n,i,f,g=!0,w=!1)=>{const _=w?PG(f.icons):NG(f.icons),M=J=>({isEnabled:()=>!Bo.isDisabled(J),setEnabled:ne=>Bo.set(J,!ne)}),V=Z2({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:U.none(),ariaLabel:n.text,caret:U.some(_),checkMark:U.none(),shortcutContent:n.shortcut},f,g);return W2({data:q2(n),getApi:M,enabled:n.enabled,onAction:P,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},V,i,f)},aK=(n,i,f,g=!0)=>{const w=M=>({isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>Bo.set(M,!V)}),_=Z2({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:U.none(),ariaLabel:n.text,caret:U.none(),checkMark:U.none(),shortcutContent:n.shortcut},f,g);return W2({data:q2(n),getApi:w,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,i,f)},RA=n=>({type:"separator",dom:{tag:"div",classes:[pA,ZZ]},components:n.text.map(Xa).toArray()}),v6=(n,i,f,g=!0)=>{const w=M=>({setActive:V=>{Qr.set(M,V)},isActive:()=>Qr.isOn(M),isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>Bo.set(M,!V)}),_=Z2({iconContent:n.icon,textContent:n.text,htmlContent:U.none(),ariaLabel:n.text,checkMark:U.some(R9(f.icons)),caret:U.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},f,g);return Ws(W2({data:q2(n),enabled:n.enabled,getApi:w,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,i,f),{toggling:{toggleClass:gA,toggleOnExecute:!1,selected:n.active}})},b6=LG,y6=RA,iK=aK,lK=sK,w6=v6,C6=rK,MA=H9;var uK=Object.freeze({__proto__:null,getCoupled:(n,i,f,g)=>f.getOrCreate(n,i,g),getExistingCoupled:(n,i,f,g)=>f.getExisting(n,i,g)}),fK=[_i("others",yy(er.value,Wc()))],dK=Object.freeze({__proto__:null,init:()=>{const n={},i=(_,M)=>{if(ft(_.others).length===0)throw new Error("Cannot find any known coupled components");return pn(n,M)},f=(_,M,V)=>i(M,V).getOrThunk(()=>{const ne=pn(M.others,V).getOrDie("No information found for coupled component: "+V)(_),de=_.getSystem().build(ne);return n[V]=de,de}),g=(_,M,V)=>i(M,V).orThunk(()=>(pn(M.others,V).getOrDie("No information found for coupled component: "+V),U.none())),w=j({});return hu({readState:w,getExisting:g,getOrCreate:f})}});const Ha=Vi({fields:fK,name:"coupling",apis:uK,state:dK}),S6=n=>{let i=U.none(),f=[];const g=ne=>S6(de=>{w(ye=>{de(ne(ye))})}),w=ne=>{M()?J(ne):f.push(ne)},_=ne=>{M()||(i=U.some(ne),V(f),f=[])},M=()=>i.isSome(),V=ne=>{q(ne,J)},J=ne=>{i.each(de=>{setTimeout(()=>{ne(de)},0)})};return n(_),{get:w,map:g,isReady:M}},hK={nu:S6,pure:n=>S6(i=>{i(n)})},pK=n=>{setTimeout(()=>{throw n},0)},K2=n=>{const i=J=>{n().then(J,pK)};return{map:J=>K2(()=>n().then(J)),bind:J=>K2(()=>n().then(ne=>J(ne).toPromise())),anonBind:J=>K2(()=>n().then(()=>J.toPromise())),toLazy:()=>hK.nu(i),toCached:()=>{let J=null;return K2(()=>(J===null&&(J=n()),J))},toPromise:n,get:i}},Ul={nu:n=>K2(()=>new Promise(n)),pure:n=>K2(()=>Promise.resolve(n))},SM=j("sink"),xM=j(ju({name:SM(),overrides:j({dom:{tag:"div"},behaviours:Mn([fc.config({useFixed:be})]),events:Dr([Bg(o0()),Bg(tl()),Bg(r0())])})})),Rh=(n,i)=>{const f=n.getHotspot(i).getOr(i),g="hotspot",w=n.getAnchorOverrides();return n.layouts.fold(()=>({type:g,hotspot:f,overrides:w}),_=>({type:g,hotspot:f,overrides:w,layouts:_}))},gK=(n,i,f)=>{const g=n.fetch;return g(f).map(i)},mK=(n,i,f,g,w,_,M)=>{const V=gK(n,i,g),J=EM(g,n);return V.map(ne=>ne.bind(de=>U.from(db.sketch({..._.menu(),uid:Fg(""),data:de,highlightOnOpen:M,onOpenMenu:(ye,Ne)=>{const Pe=J().getOrDie();fc.position(Pe,Ne,{anchor:f}),Rr.decloak(w)},onOpenSubmenu:(ye,Ne,Pe)=>{const rt=J().getOrDie();fc.position(rt,Pe,{anchor:{type:"submenu",item:Ne}}),Rr.decloak(w)},onRepositionMenu:(ye,Ne,Pe)=>{const rt=J().getOrDie();fc.position(rt,Ne,{anchor:f}),q(Pe,bt=>{fc.position(rt,bt.triggeredMenu,{anchor:{type:"submenu",item:bt.triggeringItem}})})},onEscape:()=>(qo.focus(g),Rr.close(w),U.some(!0))}))))},Y2=(n,i,f,g,w,_,M)=>{const V=Rh(n,f);return mK(n,i,V,f,g,w,M).map(ne=>(ne.fold(()=>{Rr.isOpen(g)&&Rr.close(g)},de=>{Rr.cloak(g),Rr.open(g,de),_(g)}),g))},Bi=(n,i,f,g,w,_,M)=>(Rr.close(g),Ul.pure(g)),x6=(n,i,f,g,w,_)=>{const M=Ha.getCoupled(f,"sandbox");return(Rr.isOpen(M)?Bi:Y2)(n,i,f,M,g,w,_)},vK=(n,i,f)=>{const g=Ur.getCurrent(i).getOr(i),w=Us(n.element);f?Wn(g.element,"min-width",w+"px"):zc(g.element,w)},EM=(n,i)=>n.getSystem().getByUid(i.uid+"-"+SM()).map(f=>()=>er.value(f)).getOrThunk(()=>i.lazySink.fold(()=>()=>er.error(new Error("No internal sink is specified, nor could an external sink be found")),f=>()=>f(n))),kM=n=>{Rr.getState(n).each(i=>{db.repositionMenus(i)})},E6=(n,i,f)=>{const g=nS(),w=(V,J)=>{const ne=Rh(n,i);g.link(i.element),n.matchWidth&&vK(ne.hotspot,J,n.useMinWidth),n.onOpen(ne,V,J),f!==void 0&&f.onOpen!==void 0&&f.onOpen(V,J)},_=(V,J)=>{g.unlink(i.element),f!==void 0&&f.onClose!==void 0&&f.onClose(V,J)},M=EM(i,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:g.id,role:"listbox"}},behaviours:bu.augment(n.sandboxBehaviours,[qn.config({store:{mode:"memory",initialValue:i}}),Rr.config({onOpen:w,onClose:_,isPartOf:(V,J,ne)=>Op(J,ne)||Op(i,ne),getAttachPoint:()=>M().getOrDie()}),Ur.config({find:V=>Rr.getState(V).bind(J=>Ur.getCurrent(J))}),wf.config({channels:{...U1({isExtraPart:pe}),...Sf({doReposition:kM})}})])}},AM=n=>{const i=Ha.getCoupled(n,"sandbox");kM(i)},k6=()=>[_t("sandboxClasses",[]),bu.field("sandboxBehaviours",[Ur,wf,Rr,qn])],bK=j([ln("dom"),ln("fetch"),qr("onOpen"),Xc("onExecute"),_t("getHotspot",U.some),_t("getAnchorOverrides",j({})),Np(),wi("dropdownBehaviours",[Qr,Ha,No,qo]),ln("toggleClass"),_t("eventOrder",{}),Kr("lazySink"),_t("matchWidth",!1),_t("useMinWidth",!1),Kr("role")].concat(k6())),yK=j([xf({schema:[x0(),_t("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),xM()]),wK=(n,i,f,g)=>{const w=de=>pn(n.dom,"attributes").bind(ye=>pn(ye,de)),_=de=>{Rr.getState(de).each(ye=>{db.highlightPrimary(ye)})},M=(de,ye,Ne)=>x6(n,oe,de,g,ye,Ne),V=de=>{M(de,_,Ql.HighlightMenuAndItem).get(P)},J={expand:de=>{Qr.isOn(de)||M(de,P,Ql.HighlightNone).get(P)},open:de=>{Qr.isOn(de)||M(de,P,Ql.HighlightMenuAndItem).get(P)},refetch:de=>Ha.getExistingCoupled(de,"sandbox").fold(()=>M(de,P,Ql.HighlightMenuAndItem).map(P),Ne=>Y2(n,oe,de,Ne,g,P,Ql.HighlightMenuAndItem).map(P)),isOpen:Qr.isOn,close:de=>{Qr.isOn(de)&&M(de,P,Ql.HighlightMenuAndItem).get(P)},repositionMenus:de=>{Qr.isOn(de)&&AM(de)}},ne=(de,ye)=>(du(de),U.some(!0));return{uid:n.uid,dom:n.dom,components:i,behaviours:al(n.dropdownBehaviours,[Qr.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Ha.config({others:{sandbox:de=>E6(n,de,{onOpen:()=>Qr.on(de),onClose:()=>Qr.off(de)})}}),No.config({mode:"special",onSpace:ne,onEnter:ne,onDown:(de,ye)=>{if(ad.isOpen(de)){const Ne=Ha.getCoupled(de,"sandbox");_(Ne)}else ad.open(de);return U.some(!0)},onEscape:(de,ye)=>ad.isOpen(de)?(ad.close(de),U.some(!0)):U.none()}),qo.config({})]),events:tA(U.some(V)),eventOrder:{...n.eventOrder,[fu()]:["disabling","toggling","alloy.base.behaviour"]},apis:J,domModification:{attributes:{"aria-haspopup":"true",...n.role.fold(()=>({}),de=>({role:de})),...n.dom.tag==="button"?{type:w("type").getOr("button")}:{}}}}},ad=hc({name:"Dropdown",configFields:bK(),partFields:yK(),factory:wK,apis:{open:(n,i)=>n.open(i),refetch:(n,i)=>n.refetch(i),expand:(n,i)=>n.expand(i),close:(n,i)=>n.close(i),isOpen:(n,i)=>n.isOpen(i),repositionMenus:(n,i)=>n.repositionMenus(i)}}),CK=n=>{switch(n.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:n}}},SK=n=>{const i=qn.getValue(n),f=CA(n).map(r9);ad.refetch(i).get(()=>{const g=Ha.getCoupled(i,"sandbox");f.each(w=>CA(g).each(_=>tG(_,w)))})},xK=(n,i)=>{EK(n).each(f=>{i5(n,f.element,i.event.eventType,i.event.interactionEvent)})},EK=n=>Rr.getState(n).bind(ls.getHighlighted).bind(ls.getHighlighted),kK=n=>vl(n.element,SA)?U.some(n.element):$i(n.element,"."+SA),TM=(n,i,f)=>{o9(n).each(g=>{nG(g,f),kK(i).each(_=>{he(_,"id").each(M=>Fn(g.element,"aria-controls",M))})}),Fn(f.element,"aria-selected","true")},AK=(n,i,f)=>{Fn(f.element,"aria-selected","false")},TK=n=>{o9(n).each(i=>qo.focus(i))},OK=n=>Ha.getExistingCoupled(n,"sandbox").bind(CA).map(r9).map(f=>f.fetchPattern).getOr("");var IA;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(IA||(IA={}));const _K=(n,i,f,g,w)=>{const _=f.shared.providers,M=V=>w?{...V,shortcut:U.none(),icon:V.text.isSome()?U.none():V.icon}:V;switch(n.type){case"menuitem":return Uu(n).fold(ym,V=>U.some(iK(M(V),i,_,g)));case"nestedmenuitem":return kG(n).fold(ym,V=>U.some(lK(M(V),i,_,g,w)));case"togglemenuitem":return $A(n).fold(ym,V=>U.some(w6(M(V),i,_,g)));case"separator":return uG(n).fold(ym,V=>U.some(y6(V)));case"fancymenuitem":return xG(n).fold(ym,V=>C6(V,f));default:return console.error("Unknown item in general menu",n),U.none()}},$K=(n,i,f,g,w,_,M)=>{const V=g===1,J=!V||Bx(n);return pr(me(n,ne=>{switch(ne.type){case"separator":return g9(ne).fold(ym,de=>U.some(y6(de)));case"cardmenuitem":return yG(ne).fold(ym,de=>U.some(MA({...de,onAction:ye=>{de.onAction(ye),f(de.value,de.meta)}},w,_,{itemBehaviours:I9(de.meta,_),cardText:{matchText:i,highlightOn:M}})));case"autocompleteitem":default:return fG(ne).fold(ym,de=>U.some(b6(de,i,V,"normal",f,w,_,J)))}}))},OM=(n,i,f,g,w,_)=>{const M=Bx(i),V=pr(me(i,de=>{const ye=Pe=>w?!eo(Pe,"text"):M,Ne=Pe=>_K(Pe,f,g,ye(Pe),w);return de.type==="nestedmenuitem"&&de.getSubmenuItems().length<=0?Ne({...de,enabled:!1}):Ne(de)})),J=CK(_);return(w?aG:EA)(n,M,V,1,J)},A6=n=>db.singleData(n.value,n),_M=(n,i,f,g)=>{const w=FA(i,g),_=Id(g);return{data:A6({...n,movement:w,menuBehaviours:sv.unnamedEvents(i!=="auto"?[]:[Ya((M,V)=>{Ix(M,4,_.item).each(({numColumns:J,numRows:ne})=>{No.setGridSize(M,ne,J)})})])}),menu:{markers:Id(g),fakeFocus:f===IA.ContentFocus}}},DK=(n,i)=>XR(dn.fromDom(i.startContainer)).map(f=>{const g=n.createRng();return g.selectNode(f.dom),g}),BK={register:(n,i)=>{const f=$e(!1),g=$e(!1),w=ic(ei.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Mn([Mr("dismissAutocompleter",[on(Tp(),()=>ne())])]),lazySink:i.getSink})),_=()=>ei.isOpen(w),M=g.get,V=()=>{_()&&ei.hide(w)},J=()=>ei.getContent(w).bind(rt=>vn(rt.components(),0)),ne=()=>n.execCommand("mceAutocompleterClose"),de=rt=>{const bt=oo(rt,Mt=>U.from(Mt.columns)).getOr(1);return ve(rt,Mt=>{const kt=Mt.items;return $K(kt,Mt.matchText,(Lt,Zn)=>{const Xt=n.selection.getRng();DK(n.dom,Xt).each(Qn=>{const ho={hide:()=>ne(),reload:so=>{V(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:so})}};f.set(!0),Mt.onAction(ho,Qn,Lt,Zn),f.set(!1)})},bt,Bh.BUBBLE_TO_SANDBOX,i,Mt.highlightOn)})},ye=(rt,bt)=>{UZ(dn.fromDom(n.getBody())).each(Mt=>{const kt=oo(rt,Lt=>U.from(Lt.columns)).getOr(1);ei.showMenuAt(w,{anchor:{type:"node",root:dn.fromDom(n.getBody()),node:U.from(Mt)}},_M(EA("autocompleter-value",!0,bt,kt,{menuType:"normal"}),kt,IA.ContentFocus,"normal"))}),J().each(ls.highlightFirst)},Ne=rt=>{const bt=de(rt);bt.length>0?ye(rt,bt):V()};n.on("AutocompleterStart",({lookupData:rt})=>{g.set(!0),f.set(!1),Ne(rt)}),n.on("AutocompleterUpdate",({lookupData:rt})=>Ne(rt)),n.on("AutocompleterEnd",()=>{V(),g.set(!1),f.set(!1)});const Pe={cancelIfNecessary:ne,isMenuOpen:_,isActive:M,isProcessingAction:f.get,getMenu:J};WZ.setup(Pe,n)}},X2=(n,i,f)=>ol(n,i,f).isSome(),$M=(n,i)=>{let f=null;return{cancel:()=>{f!==null&&(clearTimeout(f),f=null)},schedule:(..._)=>{f=setTimeout(()=>{n.apply(null,_),f=null},i)}}},DM=5,NK=400,T6=n=>{const i=n.raw;return i.touches===void 0||i.touches.length!==1?U.none():U.some(i.touches[0])},PK=(n,i)=>{const f=Math.abs(n.clientX-i.x),g=Math.abs(n.clientY-i.y);return f>DM||g>DM},FK=n=>{const i=Ea(),f=$e(!1),g=$M(ne=>{n.triggerEvent(a5(),ne),f.set(!0)},NK),w=ne=>(T6(ne).each(de=>{g.cancel();const ye={x:de.clientX,y:de.clientY,target:ne.target};g.schedule(ne),f.set(!1),i.set(ye)}),U.none()),_=ne=>(g.cancel(),T6(ne).each(de=>{i.on(ye=>{PK(de,ye)&&i.clear()})}),U.none()),M=ne=>{g.cancel();const de=ye=>Cr(ye.target,ne.target);return i.get().filter(de).map(ye=>f.get()?(ne.prevent(),!1):n.triggerEvent(a0(),ne))},V=Ns([{key:ks(),value:w},{key:zi(),value:_},{key:ya(),value:M}]);return{fireIfReady:(ne,de)=>pn(V,de).bind(ye=>ye(ne))}},RK=n=>n.raw.which===Gk[0]&&!fe(["input","textarea"],Qo(n.target))&&!X2(n.target,'[contenteditable="true"]'),MK=(n,i)=>{const f={stopBackspace:!0,...i},g=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],w=FK(f),_=me(g.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Pe=>Kl(n,Pe,rt=>{w.fireIfReady(rt,Pe).each(Mt=>{Mt&&rt.kill()}),f.triggerEvent(Pe,rt)&&rt.kill()})),M=Ea(),V=Kl(n,"paste",Pe=>{w.fireIfReady(Pe,"paste").each(bt=>{bt&&Pe.kill()}),f.triggerEvent("paste",Pe)&&Pe.kill(),M.set(setTimeout(()=>{f.triggerEvent(jC(),Pe)},0))}),J=Kl(n,"keydown",Pe=>{f.triggerEvent("keydown",Pe)?Pe.kill():f.stopBackspace&&RK(Pe)&&Pe.prevent()}),ne=Kl(n,"focusin",Pe=>{f.triggerEvent("focusin",Pe)&&Pe.kill()}),de=Ea(),ye=Kl(n,"focusout",Pe=>{f.triggerEvent("focusout",Pe)&&Pe.kill(),de.set(setTimeout(()=>{f.triggerEvent(vi(),Pe)},0))});return{unbind:()=>{q(_,Pe=>{Pe.unbind()}),J.unbind(),ne.unbind(),ye.unbind(),V.unbind(),M.on(clearTimeout),de.on(clearTimeout)}}},O6=(n,i)=>{const f=pn(n,"target").getOr(i);return $e(f)},IK=(n,i)=>{const f=$e(!1),g=$e(!1);return{stop:()=>{f.set(!0)},cut:()=>{g.set(!0)},isStopped:f.get,isCut:g.get,event:n,setSource:i.set,getSource:i.get}},BM=n=>{const i=$e(!1);return{stop:()=>{i.set(!0)},cut:P,isStopped:i.get,isCut:pe,event:n,setSource:G("Cannot set source of a broadcasted event"),getSource:G("Cannot get source of a broadcasted event")}},Yx=It.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),_6=(n,i,f,g,w,_)=>{const M=n(i,g),V=IK(f,w);return M.fold(()=>(_.logEventNoHandlers(i,g),Yx.complete()),J=>{const ne=J.descHandler;return Ch(ne)(V),V.isStopped()?(_.logEventStopped(i,J.element,ne.purpose),Yx.stopped()):V.isCut()?(_.logEventCut(i,J.element,ne.purpose),Yx.complete()):ga(J.element).fold(()=>(_.logNoParent(i,J.element,ne.purpose),Yx.complete()),ye=>(_.logEventResponse(i,J.element,ne.purpose),Yx.resume(ye)))})},NM=(n,i,f,g,w,_)=>_6(n,i,f,g,w,_).fold(be,M=>NM(n,i,f,M,w,_),pe),LK=(n,i,f,g,w)=>{const _=O6(f,g);return _6(n,i,f,g,_,w)},HK=(n,i,f)=>{const g=BM(i);return q(n,w=>{const _=w.descHandler;Ch(_)(g)}),g.isStopped()},jK=(n,i,f,g)=>PM(n,i,f,f.target,g),PM=(n,i,f,g,w)=>{const _=O6(f,g);return NM(n,i,f,g,_,w)},zK=(n,i)=>({element:n,descHandler:i}),VK=(n,i)=>({id:n,descHandler:i}),UK=()=>{const n={},i=(M,V,J)=>{sn(J,(ne,de)=>{const ye=n[de]!==void 0?n[de]:{};ye[V]=wh(ne,M),n[de]=ye})},f=(M,V)=>p0(V).bind(J=>pn(M,J)).map(J=>zK(V,J));return{registerId:i,unregisterId:M=>{sn(n,(V,J)=>{eo(V,M)&&delete V[M]})},filterByType:M=>pn(n,M).map(V=>wt(V,(J,ne)=>VK(ne,J))).getOr([]),find:(M,V,J)=>pn(n,V).bind(ne=>kd(J,de=>f(ne,de),M))}},WK=()=>{const n=UK(),i={},f=ne=>{const de=ne.element;return p0(de).getOrThunk(()=>Dy("uid-",ne.element))},g=(ne,de)=>{const ye=i[de];if(ye===ne)_(ne);else throw new Error('The tagId "'+de+'" is already used by: '+_d(ye.element)+`
Cannot use it for: `+_d(ne.element)+`
The conflicting element is`+(ie(ye.element)?" ":" not ")+"already in the DOM")},w=ne=>{const de=f(ne);yr(i,de)&&g(ne,de);const ye=[ne];n.registerId(ye,de,ne.events),i[de]=ne},_=ne=>{p0(ne.element).each(de=>{delete i[de],n.unregisterId(de)})};return{find:(ne,de,ye)=>n.find(ne,de,ye),filter:ne=>n.filterByType(ne),register:w,unregister:_,getById:ne=>pn(i,ne)}},xm=zu({name:"Container",factory:n=>{const{attributes:i,...f}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...i},...f},components:n.components,behaviours:Z1(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[_t("components",[]),wi("containerBehaviours",[]),_t("events",{}),_t("domModification",{}),_t("eventOrder",{})]}),FM=n=>{const i=kt=>ga(n.element).fold(be,Lt=>Cr(kt,Lt)),f=WK(),g=(kt,Lt)=>f.find(i,kt,Lt),w=MK(n.element,{triggerEvent:(kt,Lt)=>O1(kt,Lt.target,Zn=>jK(g,kt,Lt,Zn))}),_={debugInfo:j("real"),triggerEvent:(kt,Lt,Zn)=>{O1(kt,Lt,Xt=>PM(g,kt,Zn,Lt,Xt))},triggerFocus:(kt,Lt)=>{p0(kt).fold(()=>{kh(kt)},Zn=>{O1(Ap(),kt,Xt=>(LK(g,Ap(),{originator:Lt,kill:P,prevent:P,target:kt},kt,Xt),!1))})},triggerEscape:(kt,Lt)=>{_.triggerEvent("keydown",kt.element,Lt.event)},getByUid:kt=>bt(kt),getByDom:kt=>Mt(kt),build:ic,buildOrPatch:x1,addToGui:kt=>{J(kt)},removeFromGui:kt=>{ne(kt)},addToWorld:kt=>{M(kt)},removeFromWorld:kt=>{V(kt)},broadcast:kt=>{Ne(kt)},broadcastOn:(kt,Lt)=>{Pe(kt,Lt)},broadcastEvent:(kt,Lt)=>{rt(kt,Lt)},isConnected:be},M=kt=>{kt.connect(_),Ys(kt.element)||(f.register(kt),q(kt.components(),M),_.triggerEvent(Ey(),kt.element,{target:kt.element}))},V=kt=>{Ys(kt.element)||(q(kt.components(),V),f.unregister(kt)),kt.disconnect()},J=kt=>{Rp(n,kt)},ne=kt=>{zl(kt)},de=()=>{w.unbind(),uf(n.element)},ye=kt=>{const Lt=f.filter(Zf());q(Lt,Zn=>{const Xt=Zn.descHandler;Ch(Xt)(kt)})},Ne=kt=>{ye({universal:!0,data:kt})},Pe=(kt,Lt)=>{ye({universal:!1,channels:kt,data:Lt})},rt=(kt,Lt)=>{const Zn=f.filter(kt);return HK(Zn,Lt)},bt=kt=>f.getById(kt).fold(()=>er.error(new Error('Could not find component with uid: "'+kt+'" in system.')),er.value),Mt=kt=>{const Lt=p0(kt).getOr("not found");return bt(Lt)};return M(n),{root:n,element:n.element,destroy:de,add:J,remove:ne,getByUid:bt,getByDom:Mt,addToWorld:M,removeFromWorld:V,broadcast:Ne,broadcastOn:Pe,broadcastEvent:rt}},RM=(n,i)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:me(n.items,i.interpreter)}),qK=j([_t("prefix","form-field"),wi("fieldBehaviours",[Ur,qn])]),ZK=j([ju({schema:[ln("dom")],name:"label"}),ju({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[ln("text")],name:"aria-descriptor"}),Vl({factory:{sketch:n=>{const i=ns(n,["factory"]);return n.factory.sketch(i)}},schema:[ln("factory")],name:"field"})]),GK=(n,i,f,g)=>{const w=al(n.fieldBehaviours,[Ur.config({find:V=>qs(V,n,"field")}),qn.config({store:{mode:"manual",getValue:V=>Ur.getCurrent(V).bind(qn.getValue),setValue:(V,J)=>{Ur.getCurrent(V).each(ne=>{qn.setValue(ne,J)})}}})]),_=Dr([Ya((V,J)=>{const ne=Dk(V,n,["label","field","aria-descriptor"]);ne.field().each(de=>{const ye=fo(n.prefix);ne.label().each(Ne=>{Fn(Ne.element,"for",ye),Fn(de.element,"id",ye)}),ne["aria-descriptor"]().each(Ne=>{const Pe=fo(n.prefix);Fn(Ne.element,"id",Pe),Fn(de.element,"aria-describedby",Pe)})})})]),M={getField:V=>qs(V,n,"field"),getLabel:V=>qs(V,n,"label")};return{uid:n.uid,dom:n.dom,components:i,behaviours:w,events:_,apis:M}},fs=hc({name:"FormField",configFields:qK(),partFields:ZK(),factory:GK,apis:{getField:(n,i)=>n.getField(i),getLabel:(n,i)=>n.getLabel(i)}});var $6=Object.freeze({__proto__:null,exhibit:(n,i)=>Ba({attributes:Ns([{key:i.tabAttr,value:"true"}])})}),KK=[_t("tabAttr","data-alloy-tabstop")];const li=Vi({fields:KK,name:"tabstopping",active:$6});var YK=tinymce.util.Tools.resolve("tinymce.html.Entities");const Xx=(n,i,f,g)=>{const w=JK(n,i,f,g);return fs.sketch(w)},XK=(n,i)=>Xx(n,i,[],[]),JK=(n,i,f,g)=>({dom:MM(f),components:n.toArray().concat([i]),fieldBehaviours:Mn(g)}),LA=()=>MM([]),MM=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),Mh=(n,i)=>fs.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xa(i.translate(n))]}),Zu=fo("form-component-change"),Jx=fo("form-close"),Eb=fo("form-cancel"),Em=fo("form-action"),HA=fo("form-submit"),J2=fo("form-block"),av=fo("form-unblock"),D6=fo("form-tabchange"),B6=fo("form-resize"),QK=(n,i,f)=>{const g=n.label.map(ye=>Mh(ye,i)),w=ye=>(Ne,Pe)=>{ol(Pe.event.target,"[data-collection-item-value]").each(rt=>{ye(Ne,Pe,rt,Ro(rt,"data-collection-item-value"))})},_=(ye,Ne)=>{const Pe=me(Ne,Mt=>{const kt=Md.translate(Mt.text),Lt=n.columns===1?`<div class="tox-collection__item-label">${kt}</div>`:"",Zn=`<div class="tox-collection__item-icon">${Mt.icon}</div>`,Xt={_:" "," - ":" ","-":" "},Qn=kt.replace(/\_| \- |\-/g,so=>Xt[so]);return`<div class="tox-collection__item${i.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${YK.encodeAllRaw(Mt.value)}" title="${Qn}" aria-label="${Qn}">${Zn}${Lt}</div>`}),rt=n.columns!=="auto"&&n.columns>1?Ce(Pe,n.columns):[Pe],bt=me(rt,Mt=>`<div class="tox-collection__group">${Mt.join("")}</div>`);Od(ye.element,bt.join(""))},M=w((ye,Ne,Pe,rt)=>{Ne.stop(),i.isDisabled()||Ho(ye,Em,{name:n.name,value:rt})}),V=[on(Ad(),w((ye,Ne,Pe)=>{kh(Pe)})),on(r0(),M),on(a0(),M),on(kp(),w((ye,Ne,Pe)=>{$i(ye.element,"."+gb).each(rt=>{ua(rt,gb)}),nl(Pe,gb)})),on(_g(),w(ye=>{$i(ye.element,"."+gb).each(Ne=>{ua(Ne,gb)})})),mh(w((ye,Ne,Pe,rt)=>{Ho(ye,Em,{name:n.name,value:rt})}))],J=(ye,Ne)=>me(jl(ye.element,".tox-collection__item"),Ne),ne=fs.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:oe},behaviours:Mn([Bo.config({disabled:i.isDisabled,onDisabled:ye=>{J(ye,Ne=>{nl(Ne,"tox-collection__item--state-disabled"),Fn(Ne,"aria-disabled",!0)})},onEnabled:ye=>{J(ye,Ne=>{ua(Ne,"tox-collection__item--state-disabled"),et(Ne,"aria-disabled")})}}),Wi(),kr.config({}),qn.config({store:{mode:"memory",initialValue:f.getOr([])},onSetValue:(ye,Ne)=>{_(ye,Ne),n.columns==="auto"&&Ix(ye,5,"tox-collection__item").each(({numRows:Pe,numColumns:rt})=>{No.setGridSize(ye,Pe,rt)}),gs(ye,B6)}}),li.config({}),No.config(g6(n.columns,"normal")),Mr("collection-events",V)]),eventOrder:{[fu()]:["disabling","alloy.base.behaviour","collection-events"]}});return Xx(g,ne,["tox-form__group--collection"],[])},eY=["input","textarea"],IM=n=>{const i=Qo(n);return fe(eY,i)},LM=(n,i)=>{const f=i.getRoot(n).getOr(n.element);ua(f,i.invalidClass),i.notify.each(g=>{IM(n.element)&&Fn(n.element,"aria-invalid",!1),g.getContainer(n).each(w=>{Od(w,g.validHtml)}),g.onValid(n)})},HM=(n,i,f,g)=>{const w=i.getRoot(n).getOr(n.element);nl(w,i.invalidClass),i.notify.each(_=>{IM(n.element)&&Fn(n.element,"aria-invalid",!0),_.getContainer(n).each(M=>{Od(M,g)}),_.onInvalid(n,g)})},jM=(n,i,f)=>i.validator.fold(()=>Ul.pure(er.value(!0)),g=>g.validate(n)),N6=(n,i,f)=>(i.notify.each(g=>{g.onValidate(n)}),jM(n,i).map(g=>n.getSystem().isConnected()?g.fold(w=>(HM(n,i,f,w),er.error(w)),w=>(LM(n,i),er.value(w))):er.error("No longer in system")));var tY=Object.freeze({__proto__:null,markValid:LM,markInvalid:HM,query:jM,run:N6,isInvalid:(n,i)=>{const f=i.getRoot(n).getOr(n.element);return vl(f,i.invalidClass)}}),nY=Object.freeze({__proto__:null,events:(n,i)=>n.validator.map(f=>Dr([on(f.onEvent,g=>{N6(g,n,i).get(oe)})].concat(f.validateOnLoad?[Ya(g=>{N6(g,n,i).get(P)})]:[]))).getOr({})}),zM=[ln("invalidClass"),_t("getRoot",U.none),sc("notify",[_t("aria","alert"),_t("getContainer",U.none),_t("validHtml",""),qr("onValid"),qr("onInvalid"),qr("onValidate")]),sc("validator",[ln("validate"),_t("onEvent","input"),_t("validateOnLoad",!0)])];const Gu=Vi({fields:zM,name:"invalidating",active:nY,apis:tY,extra:{validation:n=>i=>{const f=qn.getValue(i);return Ul.pure(n(f))}}});var VM=Object.freeze({__proto__:null,events:()=>Dr([Oy(Y4(),be)]),exhibit:()=>Ba({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const ew=Vi({fields:[],name:"unselecting",active:VM}),jA=(n,i)=>ad.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:Mn([qu.button(i.providers.isDisabled),Wi(),ew.config({}),li.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:i.getSink,fetch:f=>Ul.nu(g=>n.fetch(g)).map(g=>U.from(A6(Ws(p6(fo("menu-value"),g,w=>{n.onItemAction(f,w)},n.columns,n.presets,Bh.CLOSE_ON_EXECUTE,pe,i.providers),{movement:FA(n.columns,n.presets)})))),parts:{menu:Dx(!1,1,n.presets)}}),UM=fo("color-input-change"),tw=fo("color-swatch-change"),nw=fo("color-picker-cancel"),oY=(n,i,f,g)=>{const w=fs.parts.field({factory:z2,inputClasses:["tox-textfield"],data:g,onSetValue:ne=>Gu.run(ne).get(P),inputBehaviours:Mn([Bo.config({disabled:i.providers.isDisabled}),Wi(),li.config({}),Gu.config({invalidClass:"tox-textbox-field-invalid",getRoot:ne=>dl(ne.element),notify:{onValid:ne=>{const de=qn.getValue(ne);Ho(ne,UM,{color:de})}},validator:{validateOnLoad:!1,validate:ne=>{const de=qn.getValue(ne);if(de.length===0)return Ul.pure(er.value(!0));{const ye=dn.fromTag("span");Wn(ye,"background-color",de);const Ne=hs(ye,"background-color").fold(()=>er.error("blah"),Pe=>er.value(de));return Ul.pure(Ne)}}}})]),selectOnFocus:!1}),_=n.label.map(ne=>Mh(ne,i.providers)),M=(ne,de)=>{Ho(ne,tw,{value:de})},V=(ne,de)=>{J.getOpt(ne).each(ye=>{de==="custom"?f.colorPicker(Ne=>{Ne.fold(()=>gs(ye,nw),Pe=>{M(ye,Pe),fM(Pe)})},"#ffffff"):de==="remove"?M(ye,""):M(ye,de)})},J=ta(jA({dom:{tag:"span",attributes:{"aria-label":i.providers.translate("Color swatch")}},layouts:{onRtl:()=>[yl,Il,sl],onLtr:()=>[Il,yl,sl]},components:[],fetch:gM(f.getColors(),f.hasCustomColors()),columns:f.getColorCols(),presets:"color",onItemAction:V},i));return fs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[w,J.asSpec()]}]),fieldBehaviours:Mn([Mr("form-field-events",[on(UM,(ne,de)=>{J.getOpt(ne).each(ye=>{Wn(ye.element,"background-color",de.event.color)}),Ho(ne,Zu,{name:n.name})}),on(tw,(ne,de)=>{fs.getField(ne).each(ye=>{qn.setValue(ye,de.event.value),Ur.getCurrent(ne).each(qo.focus)})}),on(nw,(ne,de)=>{fs.getField(ne).each(ye=>{Ur.getCurrent(ne).each(qo.focus)})})])])})},rY=ju({schema:[ln("dom")],name:"label"}),iv=n=>ju({name:""+n+"-edge",overrides:i=>i.model.manager.edgeActions[n].fold(()=>({}),g=>({events:Dr([Td(ks(),(w,_,M)=>g(w,M),[i]),Td(tl(),(w,_,M)=>g(w,M),[i]),Td(Gc(),(w,_,M)=>{M.mouseIsDown.get()&&g(w,M)},[i])])}))}),sY=iv("top-left"),aY=iv("top"),iY=iv("top-right"),zA=iv("right"),lY=iv("bottom-right"),cY=iv("bottom"),uY=iv("bottom-left"),WM=iv("left"),fY=Vl({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:Dr([Mu(ks(),n,"spectrum"),Mu(zi(),n,"spectrum"),Mu(ya(),n,"spectrum"),Mu(tl(),n,"spectrum"),Mu(Gc(),n,"spectrum"),Mu(Cy(),n,"spectrum")])})}),dY=Vl({schema:[ml("mouseIsDown",()=>$e(!1))],name:"spectrum",overrides:n=>{const f=n.model.manager,g=(w,_)=>f.getValueFromEvent(_).map(M=>f.setValueFrom(w,n,M));return{behaviours:Mn([No.config({mode:"special",onLeft:w=>f.onLeft(w,n),onRight:w=>f.onRight(w,n),onUp:w=>f.onUp(w,n),onDown:w=>f.onDown(w,n)}),qo.config({})]),events:Dr([on(ks(),g),on(zi(),g),on(tl(),g),on(Gc(),(w,_)=>{n.mouseIsDown.get()&&g(w,_)})])}}});var hY=[rY,WM,zA,aY,cY,sY,iY,uY,lY,fY,dY];const Qx=j("slider.change.value"),qM=n=>n.type.indexOf("touch")!==-1,P6=n=>{const i=n.event.raw;if(qM(i)){const f=i;return f.touches!==void 0&&f.touches.length===1?U.some(f.touches[0]).map(g=>Er(g.clientX,g.clientY)):U.none()}else{const f=i;return f.clientX!==void 0?U.some(f).map(g=>Er(g.clientX,g.clientY)):U.none()}},pY="top",gY="right",mY="bottom",vY="left",lv=n=>n.model.minX,cv=n=>n.model.minY,VA=n=>n.model.minX-1,UA=n=>n.model.minY-1,kb=n=>n.model.maxX,uv=n=>n.model.maxY,km=n=>n.model.maxX+1,WA=n=>n.model.maxY+1,ZM=(n,i,f)=>i(n)-f(n),F6=n=>ZM(n,kb,lv),ow=n=>ZM(n,uv,cv),Af=n=>F6(n)/2,qA=n=>ow(n)/2,Ab=n=>n.stepSize,GM=n=>n.snapToGrid,KM=n=>n.snapStart,YM=n=>n.rounded,ZA=(n,i)=>n[i+"-edge"]!==void 0,R6=n=>ZA(n,vY),M6=n=>ZA(n,gY),XM=n=>ZA(n,pY),JM=n=>ZA(n,mY),Zp=n=>n.model.value.get(),fv=(n,i)=>({x:n,y:i}),id=(n,i)=>{Ho(n,Qx(),{value:i})},QM=(n,i)=>{id(n,fv(VA(i),UA(i)))},eI=(n,i)=>{id(n,UA(i))},bY=(n,i)=>{id(n,fv(Af(i),UA(i)))},yY=(n,i)=>{id(n,fv(km(i),UA(i)))},wY=(n,i)=>{id(n,km(i))},CY=(n,i)=>{id(n,fv(km(i),qA(i)))},SY=(n,i)=>{id(n,fv(km(i),WA(i)))},xY=(n,i)=>{id(n,WA(i))},I6=(n,i)=>{id(n,fv(Af(i),WA(i)))},EY=(n,i)=>{id(n,fv(VA(i),WA(i)))},kY=(n,i)=>{id(n,VA(i))},AY=(n,i)=>{id(n,fv(VA(i),qA(i)))},L6=(n,i,f,g)=>n<i?n:n>f?f:n===i?i-1:Math.max(i,n-g),H6=(n,i,f,g)=>n>f?n:n<i?i:n===f?f+1:Math.min(f,n+g),tI=(n,i,f)=>Math.max(i,Math.min(f,n)),TY=(n,i,f,g,w)=>w.fold(()=>{const _=n-i,M=Math.round(_/g)*g;return tI(i+M,i-1,f+1)},_=>{const M=(n-_)%g,V=Math.round(M/g),J=Math.floor((n-_)/g),ne=Math.floor((f-_)/g),de=Math.min(ne,J+V),ye=_+de*g;return Math.max(_,ye)}),nI=(n,i,f)=>Math.min(f,Math.max(n,i))-i,j6=n=>{const{min:i,max:f,range:g,value:w,step:_,snap:M,snapStart:V,rounded:J,hasMinEdge:ne,hasMaxEdge:de,minBound:ye,maxBound:Ne,screenRange:Pe}=n,rt=ne?i-1:i,bt=de?f+1:f;if(w<ye)return rt;if(w>Ne)return bt;{const Mt=nI(w,ye,Ne),kt=tI(Mt/Pe*g+i,rt,bt);return M&&kt>=i&&kt<=f?TY(kt,i,f,_,V):J?Math.round(kt):kt}},oI=n=>{const{min:i,max:f,range:g,value:w,hasMinEdge:_,hasMaxEdge:M,maxBound:V,maxOffset:J,centerMinEdge:ne,centerMaxEdge:de}=n;return w<i?_?0:ne:w>f?M?V:de:(w-i)/g*J},z6="top",rI="right",sI="bottom",V6="left",aI="width",iI="height",Ih=n=>n.element.dom.getBoundingClientRect(),Tf=(n,i)=>n[i],GA=n=>{const i=Ih(n);return Tf(i,V6)},U6=n=>{const i=Ih(n);return Tf(i,rI)},KA=n=>{const i=Ih(n);return Tf(i,z6)},lI=n=>{const i=Ih(n);return Tf(i,sI)},cI=n=>{const i=Ih(n);return Tf(i,aI)},uI=n=>{const i=Ih(n);return Tf(i,iI)},YA=(n,i,f)=>(n+i)/2-f,Gp=(n,i)=>{const f=Ih(n),g=Ih(i),w=Tf(f,V6),_=Tf(f,rI),M=Tf(g,V6);return YA(w,_,M)},fI=(n,i)=>{const f=Ih(n),g=Ih(i),w=Tf(f,z6),_=Tf(f,sI),M=Tf(g,z6);return YA(w,_,M)},dv=(n,i)=>{Ho(n,Qx(),{value:i})},W6=(n,i,f)=>{const g={min:lv(i),max:kb(i),range:F6(i),value:f,step:Ab(i),snap:GM(i),snapStart:KM(i),rounded:YM(i),hasMinEdge:R6(i),hasMaxEdge:M6(i),minBound:GA(n),maxBound:U6(n),screenRange:cI(n)};return j6(g)},q6=(n,i,f)=>{const g=W6(n,i,f);return dv(n,g),g},OY=(n,i)=>{const f=lv(i);dv(n,f)},_Y=(n,i)=>{const f=kb(i);dv(n,f)},$Y=(n,i,f)=>{const w=(n>0?H6:L6)(Zp(f),lv(f),kb(f),Ab(f));return dv(i,w),U.some(w)},Z6=n=>(i,f)=>$Y(n,i,f).map(be),DY=n=>P6(n).map(f=>f.left),G6=(n,i,f,g,w)=>{const M=cI(n),V=g.bind(de=>U.some(Gp(de,n))).getOr(0),J=w.bind(de=>U.some(Gp(de,n))).getOr(M),ne={min:lv(i),max:kb(i),range:F6(i),value:f,hasMinEdge:R6(i),hasMaxEdge:M6(i),minBound:GA(n),minOffset:0,maxBound:U6(n),maxOffset:M,centerMinEdge:V,centerMaxEdge:J};return oI(ne)},eE=(n,i,f,g,w,_)=>{const M=G6(i,_,f,g,w);return GA(i)-GA(n)+M},K6=(n,i,f,g)=>{const w=Zp(f),_=eE(n,g.getSpectrum(n),w,g.getLeftEdge(n),g.getRightEdge(n),f),M=Us(i.element)/2;Wn(i.element,"left",_-M+"px")},BY=Z6(-1),Of=Z6(1),NY=U.none,PY=U.none,dI={"top-left":U.none(),top:U.none(),"top-right":U.none(),right:U.some(wY),"bottom-right":U.none(),bottom:U.none(),"bottom-left":U.none(),left:U.some(kY)};var hI=Object.freeze({__proto__:null,setValueFrom:q6,setToMin:OY,setToMax:_Y,findValueOfOffset:W6,getValueFromEvent:DY,findPositionOfValue:eE,setPositionFromValue:K6,onLeft:BY,onRight:Of,onUp:NY,onDown:PY,edgeActions:dI});const XA=(n,i)=>{Ho(n,Qx(),{value:i})},Y6=(n,i,f)=>{const g={min:cv(i),max:uv(i),range:ow(i),value:f,step:Ab(i),snap:GM(i),snapStart:KM(i),rounded:YM(i),hasMinEdge:XM(i),hasMaxEdge:JM(i),minBound:KA(n),maxBound:lI(n),screenRange:uI(n)};return j6(g)},FY=(n,i,f)=>{const g=Y6(n,i,f);return XA(n,g),g},RY=(n,i)=>{const f=cv(i);XA(n,f)},MY=(n,i)=>{const f=uv(i);XA(n,f)},IY=(n,i,f)=>{const w=(n>0?H6:L6)(Zp(f),cv(f),uv(f),Ab(f));return XA(i,w),U.some(w)},pI=n=>(i,f)=>IY(n,i,f).map(be),gI=n=>P6(n).map(f=>f.top),LY=(n,i,f,g,w)=>{const M=uI(n),V=g.bind(de=>U.some(fI(de,n))).getOr(0),J=w.bind(de=>U.some(fI(de,n))).getOr(M),ne={min:cv(i),max:uv(i),range:ow(i),value:f,hasMinEdge:XM(i),hasMaxEdge:JM(i),minBound:KA(n),minOffset:0,maxBound:lI(n),maxOffset:M,centerMinEdge:V,centerMaxEdge:J};return oI(ne)},X6=(n,i,f,g,w,_)=>{const M=LY(i,_,f,g,w);return KA(i)-KA(n)+M},HY=(n,i,f,g)=>{const w=Zp(f),_=X6(n,g.getSpectrum(n),w,g.getTopEdge(n),g.getBottomEdge(n),f),M=Vt(i.element)/2;Wn(i.element,"top",_-M+"px")},mI=U.none,J6=U.none,jY=pI(-1),Q6=pI(1),rw={"top-left":U.none(),top:U.some(eI),"top-right":U.none(),right:U.none(),"bottom-right":U.none(),bottom:U.some(xY),"bottom-left":U.none(),left:U.none()};var vI=Object.freeze({__proto__:null,setValueFrom:FY,setToMin:RY,setToMax:MY,findValueOfOffset:Y6,getValueFromEvent:gI,findPositionOfValue:X6,setPositionFromValue:HY,onLeft:mI,onRight:J6,onUp:jY,onDown:Q6,edgeActions:rw});const tE=(n,i)=>{Ho(n,Qx(),{value:i})},nE=(n,i)=>({x:n,y:i}),zY=(n,i,f)=>{const g=W6(n,i,f.left),w=Y6(n,i,f.top),_=nE(g,w);return tE(n,_),_},VY=(n,i,f,g)=>{const w=n>0?H6:L6,_=i?Zp(g).x:w(Zp(g).x,lv(g),kb(g),Ab(g)),M=i?w(Zp(g).y,cv(g),uv(g),Ab(g)):Zp(g).y;return tE(f,nE(_,M)),U.some(_)},Tb=(n,i)=>(f,g)=>VY(n,i,f,g).map(be),UY=(n,i)=>{const f=lv(i),g=cv(i);tE(n,nE(f,g))},WY=(n,i)=>{const f=kb(i),g=uv(i);tE(n,nE(f,g))},bI=n=>P6(n),yI=(n,i,f,g)=>{const w=Zp(f),_=eE(n,g.getSpectrum(n),w.x,g.getLeftEdge(n),g.getRightEdge(n),f),M=X6(n,g.getSpectrum(n),w.y,g.getTopEdge(n),g.getBottomEdge(n),f),V=Us(i.element)/2,J=Vt(i.element)/2;Wn(i.element,"left",_-V+"px"),Wn(i.element,"top",M-J+"px")},e8=Tb(-1,!1),wI=Tb(1,!1),tu=Tb(-1,!0),CI=Tb(1,!0),qY={"top-left":U.some(QM),top:U.some(bY),"top-right":U.some(yY),right:U.some(CY),"bottom-right":U.some(SY),bottom:U.some(I6),"bottom-left":U.some(EY),left:U.some(AY)};var ZY=Object.freeze({__proto__:null,setValueFrom:zY,setToMin:UY,setToMax:WY,getValueFromEvent:bI,setPositionFromValue:yI,onLeft:e8,onRight:wI,onUp:tu,onDown:CI,edgeActions:qY});const SI=[_t("stepSize",1),_t("onChange",P),_t("onChoose",P),_t("onInit",P),_t("onDragStart",P),_t("onDragEnd",P),_t("snapToGrid",!1),_t("rounded",!0),Kr("snapStart"),_i("model",qc("mode",{x:[_t("minX",0),_t("maxX",100),ml("value",n=>$e(n.mode.minX)),ln("getInitialValue"),Qs("manager",hI)],y:[_t("minY",0),_t("maxY",100),ml("value",n=>$e(n.mode.minY)),ln("getInitialValue"),Qs("manager",vI)],xy:[_t("minX",0),_t("maxX",100),_t("minY",0),_t("maxY",100),ml("value",n=>$e({x:n.mode.minX,y:n.mode.minY})),ln("getInitialValue"),Qs("manager",ZY)]})),wi("sliderBehaviours",[No,qn]),ml("mouseIsDown",()=>$e(!1))],jd=hc({name:"Slider",configFields:SI,partFields:hY,factory:(n,i,f,g)=>{const w=Xt=>ed(Xt,n,"thumb"),_=Xt=>ed(Xt,n,"spectrum"),M=Xt=>qs(Xt,n,"left-edge"),V=Xt=>qs(Xt,n,"right-edge"),J=Xt=>qs(Xt,n,"top-edge"),ne=Xt=>qs(Xt,n,"bottom-edge"),de=n.model,ye=de.manager,Ne=(Xt,Qn)=>{ye.setPositionFromValue(Xt,Qn,n,{getLeftEdge:M,getRightEdge:V,getTopEdge:J,getBottomEdge:ne,getSpectrum:_})},Pe=(Xt,Qn)=>{de.value.set(Qn);const ho=w(Xt);Ne(Xt,ho)},rt=(Xt,Qn)=>{Pe(Xt,Qn);const ho=w(Xt);return n.onChange(Xt,ho,Qn),U.some(!0)},bt=Xt=>{ye.setToMin(Xt,n)},Mt=Xt=>{ye.setToMax(Xt,n)},kt=Xt=>{const Qn=()=>{qs(Xt,n,"thumb").each(so=>{const Mo=de.value.get();n.onChoose(Xt,so,Mo)})},ho=n.mouseIsDown.get();n.mouseIsDown.set(!1),ho&&Qn()},Lt=(Xt,Qn)=>{Qn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Xt,w(Xt))},Zn=(Xt,Qn)=>{Qn.stop(),n.onDragEnd(Xt,w(Xt)),kt(Xt)};return{uid:n.uid,dom:n.dom,components:i,behaviours:al(n.sliderBehaviours,[No.config({mode:"special",focusIn:Xt=>qs(Xt,n,"spectrum").map(No.focusIn).map(be)}),qn.config({store:{mode:"manual",getValue:Xt=>de.value.get(),setValue:Pe}}),wf.config({channels:{[zp()]:{onReceive:kt}}})]),events:Dr([on(Qx(),(Xt,Qn)=>{rt(Xt,Qn.event.value)}),Ya((Xt,Qn)=>{const ho=de.getInitialValue();de.value.set(ho);const so=w(Xt);Ne(Xt,so);const Mo=_(Xt);n.onInit(Xt,so,Mo,de.value.get())}),on(ks(),Lt),on(ya(),Zn),on(tl(),Lt),on(Cy(),Zn)]),apis:{resetToMin:bt,resetToMax:Mt,setValue:Pe,refresh:Ne},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,i,f)=>{n.setValue(i,f)},resetToMin:(n,i)=>{n.resetToMin(i)},resetToMax:(n,i)=>{n.resetToMax(i)},refresh:(n,i)=>{n.refresh(i)}}}),t8=fo("rgb-hex-update"),n8=fo("slider-update"),Lh=fo("palette-update"),o8=(n,i)=>{const f=jd.parts.spectrum({dom:{tag:"div",classes:[i("hue-slider-spectrum")],attributes:{role:"presentation"}}}),g=jd.parts.thumb({dom:{tag:"div",classes:[i("hue-slider-thumb")],attributes:{role:"presentation"}}});return jd.sketch({dom:{tag:"div",classes:[i("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:j(0)},components:[f,g],sliderBehaviours:Mn([qo.config({})]),onChange:(w,_,M)=>{Ho(w,n8,{value:M})}})},r8="form",JA=[wi("formBehaviours",[qn])],QA=n=>"<alloy.field."+n+">",GY=n=>{const i=(()=>{const _=[];return{field:(V,J)=>(_.push(V),im(r8,QA(V),J)),record:j(_)}})(),f=n(i),g=i.record(),w=me(g,_=>Vl({name:_,pname:QA(_)}));return td(r8,JA,w,YY,f)},KY=(n,i)=>n.fold(()=>er.error(i),er.value),YY=(n,i)=>({uid:n.uid,dom:n.dom,components:i,behaviours:al(n.formBehaviours,[qn.config({store:{mode:"manual",getValue:f=>{const g=Bk(f,n);return kn(g,(w,_)=>w().bind(M=>{const V=Ur.getCurrent(M);return KY(V,new Error(`Cannot find a current component to extract the value from for form part '${_}': `+_d(M.element)))}).map(qn.getValue))},setValue:(f,g)=>{sn(g,(w,_)=>{qs(f,n,_).each(M=>{Ur.getCurrent(M).each(V=>{qn.setValue(V,w)})})})}}})]),apis:{getField:(f,g)=>qs(f,n,g).bind(Ur.getCurrent)}}),sw={getField:Ny((n,i,f)=>n.getField(i,f)),sketch:GY},xI=fo("valid-input"),EI=fo("invalid-input"),kI=fo("validating-input"),eT="colorcustom.rgb.",XY=(n,i,f,g)=>{const w=(Ne,Pe)=>Gu.config({invalidClass:i("invalid"),notify:{onValidate:rt=>{Ho(rt,kI,{type:Ne})},onValid:rt=>{Ho(rt,xI,{type:Ne,value:qn.getValue(rt)})},onInvalid:rt=>{Ho(rt,EI,{type:Ne,value:qn.getValue(rt)})}},validator:{validate:rt=>{const bt=qn.getValue(rt),Mt=Pe(bt)?er.value(!0):er.error(n("aria.input.invalid"));return Ul.pure(Mt)},validateOnLoad:!1}}),_=(Ne,Pe,rt,bt,Mt)=>{const kt=n(eT+"range"),Lt=fs.parts.label({dom:{tag:"label",attributes:{"aria-label":bt}},components:[Xa(rt)]}),Zn=fs.parts.field({data:Mt,factory:z2,inputAttributes:{type:"text",...Pe==="hex"?{"aria-live":"polite"}:{}},inputClasses:[i("textfield")],inputBehaviours:Mn([w(Pe,Ne),li.config({})]),onSetValue:so=>{Gu.isInvalid(so)&&Gu.run(so).get(P)}}),Xt=[Lt,Zn],Qn=Pe!=="hex"?[fs.parts["aria-descriptor"]({text:kt})]:[],ho=Xt.concat(Qn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ho}},M=(Ne,Pe)=>{const rt=qx(Pe);return sw.getField(Ne,"hex").each(bt=>{qo.isFocused(bt)||qn.setValue(Ne,{hex:rt.value})}),rt},V=(Ne,Pe)=>{const rt=Pe.red,bt=Pe.green,Mt=Pe.blue;qn.setValue(Ne,{red:rt,green:bt,blue:Mt})},J=ta({dom:{tag:"div",classes:[i("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),ne=(Ne,Pe)=>{J.getOpt(Ne).each(rt=>{Wn(rt.element,"background-color","#"+Pe.value)})};return zu({factory:()=>{const Ne={red:$e(U.some(255)),green:$e(U.some(255)),blue:$e(U.some(255)),hex:$e(U.some("ffffff"))},Pe=(Po,rs)=>{const cs=Sb(rs);V(Po,cs),kt(cs)},rt=Po=>Ne[Po].get(),bt=(Po,rs)=>{Ne[Po].set(rs)},Mt=()=>rt("red").bind(Po=>rt("green").bind(rs=>rt("blue").map(cs=>Sm(Po,rs,cs,1)))),kt=Po=>{const rs=Po.red,cs=Po.green,ss=Po.blue;bt("red",U.some(rs)),bt("green",U.some(cs)),bt("blue",U.some(ss))},Lt=(Po,rs)=>{const cs=rs.event;cs.type!=="hex"?bt(cs.type,U.none()):g(Po)},Zn=(Po,rs)=>{f(Po);const cs=z9(rs);bt("hex",U.some(rs));const ss=Sb(cs);V(Po,ss),kt(ss),Ho(Po,t8,{hex:cs}),ne(Po,cs)},Xt=(Po,rs,cs)=>{const ss=parseInt(cs,10);bt(rs,U.some(ss)),Mt().each(Ln=>{const co=M(Po,Ln);Ho(Po,t8,{hex:co}),ne(Po,co)})},Qn=Po=>Po.type==="hex",ho=(Po,rs)=>{const cs=rs.event;Qn(cs)?Zn(Po,cs.value):Xt(Po,cs.type,cs.value)},so=Po=>({label:n(eT+Po+".label"),description:n(eT+Po+".description")}),Mo=so("red"),Vo=so("green"),Ir=so("blue"),os=so("hex");return Ws(sw.sketch(Po=>({dom:{tag:"form",classes:[i("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[Po.field("red",fs.sketch(_(r6,"red",Mo.label,Mo.description,255))),Po.field("green",fs.sketch(_(r6,"green",Vo.label,Vo.description,255))),Po.field("blue",fs.sketch(_(r6,"blue",Ir.label,Ir.description,255))),Po.field("hex",fs.sketch(_(W9,"hex",os.label,os.description,"ffffff"))),J.asSpec()],formBehaviours:Mn([Gu.config({invalidClass:i("form-invalid")}),Mr("rgb-form-events",[on(xI,ho),on(EI,Lt),on(kI,Lt)])])})),{apis:{updateHex:(Po,rs)=>{qn.setValue(Po,{hex:rs.value}),Pe(Po,rs),ne(Po,rs)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Ne,Pe,rt)=>{Ne.updateHex(Pe,rt)}},extraApis:{}})},Kp=(n,i)=>{const f=jd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[i("sv-palette-spectrum")]}}),g=jd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[i("sv-palette-thumb")],innerHtml:`<div class=${i("sv-palette-inner-thumb")} role="presentation"></div>`}}),w=(ne,de)=>{const{width:ye,height:Ne}=ne,Pe=ne.getContext("2d");if(Pe===null)return;Pe.fillStyle=de,Pe.fillRect(0,0,ye,Ne);const rt=Pe.createLinearGradient(0,0,ye,0);rt.addColorStop(0,"rgba(255,255,255,1)"),rt.addColorStop(1,"rgba(255,255,255,0)"),Pe.fillStyle=rt,Pe.fillRect(0,0,ye,Ne);const bt=Pe.createLinearGradient(0,0,0,Ne);bt.addColorStop(0,"rgba(0,0,0,0)"),bt.addColorStop(1,"rgba(0,0,0,1)"),Pe.fillStyle=bt,Pe.fillRect(0,0,ye,Ne)},_=(ne,de)=>{const ye=ne.components()[0].element.dom,Ne=xb(de,100,100),Pe=Y9(Ne);w(ye,s6(Pe))},M=(ne,de)=>{const ye=Gx(Sb(de));jd.setValue(ne,{x:ye.saturation,y:100-ye.value})};return zu({factory:ne=>{const de=j({x:0,y:0}),ye=(rt,bt,Mt)=>{Ho(rt,Lh,{value:Mt})},Ne=(rt,bt,Mt,kt)=>{w(Mt.element.dom,s6(Q9))},Pe=Mn([Ur.config({find:U.some}),qo.config({})]);return jd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[i("sv-palette")]},model:{mode:"xy",getInitialValue:de},rounded:!1,components:[f,g],onChange:ye,onInit:Ne,sliderBehaviours:Pe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ne,de,ye)=>{_(de,ye)},setThumb:(ne,de,ye)=>{M(de,ye)}},extraApis:{}})},tT=(n,i)=>{const f=w=>{const _=XY(n,i,w.onValidHex,w.onInvalidHex),M=Kp(n,i),V=ho=>(100-ho)/100*360,J=ho=>100-ho/360*100,ne={paletteRgba:$e(Q9),paletteHue:$e(0)},de=ta(o8(n,i)),ye=ta(M.sketch({})),Ne=ta(_.sketch({})),Pe=(ho,so,Mo)=>{ye.getOpt(ho).each(Vo=>{M.setHue(Vo,Mo)})},rt=(ho,so)=>{Ne.getOpt(ho).each(Mo=>{_.updateHex(Mo,so)})},bt=(ho,so,Mo)=>{de.getOpt(ho).each(Vo=>{jd.setValue(Vo,J(Mo))})},Mt=(ho,so)=>{ye.getOpt(ho).each(Mo=>{M.setThumb(Mo,so)})},kt=(ho,so)=>{const Mo=Sb(ho);ne.paletteRgba.set(Mo),ne.paletteHue.set(so)},Lt=(ho,so,Mo,Vo)=>{kt(so,Mo),q(Vo,Ir=>{Ir(ho,so,Mo)})},Zn=()=>{const ho=[rt];return(so,Mo)=>{const Vo=Mo.event.value,Ir=ne.paletteHue.get(),os=xb(Ir,Vo.x,100-Vo.y),Po=rM(os);Lt(so,Po,Ir,ho)}},Xt=()=>{const ho=[Pe,rt];return(so,Mo)=>{const Vo=V(Mo.event.value),Ir=ne.paletteRgba.get(),os=Gx(Ir),Po=xb(Vo,os.saturation,os.value),rs=rM(Po);Lt(so,rs,Vo,ho)}},Qn=()=>{const ho=[Pe,bt,Mt];return(so,Mo)=>{const Vo=Mo.event.hex,Ir=oM(Vo);Lt(so,Vo,Ir.hue,ho)}};return{uid:w.uid,dom:w.dom,components:[ye.asSpec(),de.asSpec(),Ne.asSpec()],behaviours:Mn([Mr("colour-picker-events",[on(t8,Qn()),on(Lh,Zn()),on(n8,Xt())]),Ur.config({find:ho=>Ne.getOpt(ho)}),No.config({mode:"acyclic"})])}};return zu({name:"ColourPicker",configFields:[ln("dom"),_t("onValidHex",P),_t("onInvalidHex",P)],factory:f})},ld={self:()=>Ur.config({find:U.some}),memento:n=>Ur.config({find:n.getOpt}),childAt:n=>Ur.config({find:i=>ma(i.element,n).bind(f=>i.getSystem().getByDom(f).toOptional())})},s8=Oo([_t("preprocess",oe),_t("postprocess",oe)]),nT=(n,i)=>{const f=Pl("RepresentingConfigs.memento processors",s8,i);return qn.config({store:{mode:"manual",getValue:g=>{const w=n.get(g),_=qn.getValue(w);return f.postprocess(_)},setValue:(g,w)=>{const _=f.preprocess(w),M=n.get(g);qn.setValue(M,_)}}})},aw=(n,i,f)=>qn.config({store:{mode:"manual",...n.map(g=>({initialValue:g})).getOr({}),getValue:i,setValue:f}}),Ob=(n,i,f)=>aw(n,g=>i(g.element),(g,w)=>f(g.element,w)),cd={memento:nT,withElement:Ob,withComp:aw,domValue:n=>Ob(n,Zl,Hg),domHtml:n=>Ob(n,vh,Od),memory:n=>qn.config({store:{mode:"memory",initialValue:n}})},tX={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},nX=n=>i=>n.translate(tX[i]),oX=(n,i,f)=>{const g=J=>"tox-"+J,w=tT(nX(i),g),_=J=>{Ho(J,Em,{name:"hex-valid",value:!0})},M=J=>{Ho(J,Em,{name:"hex-valid",value:!1})},V=ta(w.sketch({dom:{tag:"div",classes:[g("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_,onInvalidHex:M}));return{dom:{tag:"div"},components:[V.asSpec()],behaviours:Mn([cd.withComp(f,J=>{const ne=V.get(J);return Ur.getCurrent(ne).bind(Ne=>qn.getValue(Ne).hex).map(Ne=>"#"+Ne).getOr("")},(J,ne)=>{const de=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ye=U.from(de.exec(ne)).bind(rt=>vn(rt,1)),Ne=V.get(J);Ur.getCurrent(Ne).fold(()=>{console.log("Can not find form")},rt=>{qn.setValue(rt,{hex:ye.getOr("")}),sw.getField(rt,"hex").each(bt=>{gs(bt,$g())})})}),ld.self()])}};var rX=tinymce.util.Tools.resolve("tinymce.Resource");const sX=n=>eo(n,"init"),AI=n=>{const i=Ea(),f=ta({dom:{tag:n.tag}}),g=Ea();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Mn([Mr("custom-editor-events",[Ya(w=>{f.getOpt(w).each(_=>{(sX(n)?n.init(_.element.dom):rX.load(n.scriptId,n.scriptUrl).then(M=>M(_.element.dom,n.settings))).then(M=>{g.on(V=>{M.setValue(V)}),g.clear(),i.set(M)})})})]),cd.withComp(U.none(),()=>i.get().fold(()=>g.get().getOr(""),w=>w.getValue()),(w,_)=>{i.get().fold(()=>g.set(_),M=>M.setValue(_))}),ld.self()]),components:[f.asSpec()]}};var hv=tinymce.util.Tools.resolve("tinymce.util.Tools");const aX=(n,i)=>{const f=hv.explode(i.getOption("images_file_types")),g=w=>ce(f,_=>dt(w.name.toLowerCase(),`.${_.toLowerCase()}`));return tt(fn(n),g)},TI=(n,i,f)=>{const g=(Ne,Pe)=>{Pe.stop()},w=Ne=>(Pe,rt)=>{q(Ne,bt=>{bt(Pe,rt)})},_=(Ne,Pe)=>{var rt;if(!Bo.isDisabled(Ne)){const bt=Pe.event.raw;V(Ne,(rt=bt.dataTransfer)===null||rt===void 0?void 0:rt.files)}},M=(Ne,Pe)=>{const rt=Pe.event.raw.target;V(Ne,rt.files)},V=(Ne,Pe)=>{Pe&&(qn.setValue(Ne,aX(Pe,i)),Ho(Ne,Zu,{name:n.name}))},J=ta({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Mn([Mr("input-file-events",[Bg(r0()),Bg(a0())])])}),ne=Ne=>({uid:Ne.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Mn([cd.memory(f.getOr([])),ld.self(),Bo.config({}),Qr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Mr("dropzone-events",[on("dragenter",w([g,Qr.toggle])),on("dragleave",w([g,Qr.toggle])),on("dragover",g),on("drop",w([g,_])),on(h1(),M)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Xa(i.translate("Drop an image here"))]},eu.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Xa(i.translate("Browse for an image")),J.asSpec()],action:Pe=>{J.get(Pe).element.dom.click()},buttonBehaviours:Mn([li.config({}),qu.button(i.isDisabled),Wi()])})]}]}),de=n.label.map(Ne=>Mh(Ne,i)),ye=fs.parts.field({factory:{sketch:ne}});return Xx(de,ye,["tox-form__group--stretched"],[])},iX=(n,i)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:me(n.items,i.interpreter)}),oT=fo("alloy-fake-before-tabstop"),_b=fo("alloy-fake-after-tabstop"),OI=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:Mn([qo.config({ignore:!0}),li.config({})])}),a8=n=>({dom:{tag:"div",classes:["tox-navobj"]},components:[OI([oT]),n,OI([_b])],behaviours:Mn([ld.childAt(1)])}),_I=(n,i)=>{Ho(n,o0(),{raw:{which:9,shiftKey:i}})},lX=(n,i)=>{const f=i.element;vl(f,oT)?_I(n,!0):vl(f,_b)&&_I(n,!1)},oE=n=>X2(n,["."+oT,"."+_b].join(","),pe),cX=n=>{const i=$e(n.getOr(""));return{getValue:f=>i.get(),setValue:(f,g)=>{i.get()!==g&&Fn(f.element,"srcdoc",g),i.set(g)}}},$I=(n,i,f)=>{const g=n.sandboxed,w=n.transparent,_="tox-dialog__iframe",M={...n.label.map(ye=>({title:ye})).getOr({}),...f.map(ye=>({srcdoc:ye})).getOr({}),...g?{sandbox:"allow-scripts allow-same-origin"}:{}},V=cX(f),J=n.label.map(ye=>Mh(ye,i)),ne=ye=>a8({uid:ye.uid,dom:{tag:"iframe",attributes:M,classes:w?[_]:[_,`${_}--opaque`]},behaviours:Mn([li.config({}),qo.config({}),cd.withComp(f,V.getValue,V.setValue)])}),de=fs.parts.field({factory:{sketch:ne}});return Xx(J,de,["tox-form__group--stretched"],[])},uX=n=>new Promise((i,f)=>{const g=()=>{_(),i(n)},w=[Kl(n,"load",g),Kl(n,"error",()=>{_(),f("Unable to load data from image: "+n.dom.src)})],_=()=>q(w,M=>M.unbind());n.dom.complete&&g()}),DI=(n,i,f,g,w)=>{const _=f*w,M=g*w,V=Math.max(0,n/2-_/2),J=Math.max(0,i/2-M/2);return{left:V.toString()+"px",top:J.toString()+"px",width:_.toString()+"px",height:M.toString()+"px"}},i8=(n,i,f)=>{const g=Us(n),w=Vt(n);return Math.min(g/i,w/f,1)},Am=(n,i)=>{const f=$e(i.getOr({url:""})),g=ta({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:i.map(J=>({src:J.url})).getOr({})}}),w=ta({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[g.asSpec()]}),_=(J,ne)=>{const de={url:ne.url};ne.zoom.each(Ne=>de.zoom=Ne),ne.cachedWidth.each(Ne=>de.cachedWidth=Ne),ne.cachedHeight.each(Ne=>de.cachedHeight=Ne),f.set(de);const ye=()=>{const{cachedWidth:Ne,cachedHeight:Pe,zoom:rt}=de;if(!A(Ne)&&!A(Pe)){if(A(rt)){const Mt=i8(J.element,Ne,Pe);de.zoom=Mt}const bt=DI(Us(J.element),Vt(J.element),Ne,Pe,de.zoom);w.getOpt(J).each(Mt=>{Wr(Mt.element,bt)})}};g.getOpt(J).each(Ne=>{const Pe=Ne.element;ne.url!==Ro(Pe,"src")&&(Fn(Pe,"src",ne.url),ua(J.element,"tox-imagepreview__loaded")),ye(),uX(Pe).then(rt=>{J.getSystem().isConnected()&&(nl(J.element,"tox-imagepreview__loaded"),de.cachedWidth=rt.dom.naturalWidth,de.cachedHeight=rt.dom.naturalHeight,ye())})})},M={};n.height.each(J=>M.height=J);const V=i.map(J=>({url:J.url,zoom:U.from(J.zoom),cachedWidth:U.from(J.cachedWidth),cachedHeight:U.from(J.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:M,attributes:{role:"presentation"}},components:[w.asSpec()],behaviours:Mn([ld.self(),cd.withComp(V,()=>f.get(),_)])}},l8=(n,i)=>{const f={dom:{tag:"label",classes:["tox-label"]},components:[Xa(i.providers.translate(n.label))]},g=me(n.items,i.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[f,...g],behaviours:Mn([ld.self(),kr.config({}),cd.domHtml(U.none()),No.config({mode:"acyclic"})])}},c8=fo("toolbar.button.execute"),BI=n=>mh((i,f)=>{NA(n,i)(g=>{Ho(i,c8,{buttonApi:g}),n.onAction(g)})}),rT={[fu()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},u8=(n,i,f)=>Dh(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:f},i),$b=(n,i)=>u8(n,i,[]),f8=(n,i)=>u8(n,i,[kr.config({})]),sT=(n,i,f)=>({dom:{tag:"span",classes:[`${i}__select-label`]},components:[Xa(f.translate(n))],behaviours:Mn([kr.config({})])}),iw=fo("update-menu-text"),NI=fo("update-menu-icon"),d8=(n,i,f)=>{const g=$e(P),w=n.text.map(ye=>ta(sT(ye,i,f.providers))),_=n.icon.map(ye=>ta(f8(ye,f.providers.icons))),M=(ye,Ne)=>{const Pe=qn.getValue(ye);return qo.focus(Pe),Ho(Pe,"keydown",{raw:Ne.event.raw}),ad.close(Pe),U.some(!0)},V=n.role.fold(()=>({}),ye=>({role:ye})),J=n.tooltip.fold(()=>({}),ye=>{const Ne=f.providers.translate(ye);return{title:Ne,"aria-label":Ne}}),ne=Dh("chevron-down",{tag:"div",classes:[`${i}__select-chevron`]},f.providers.icons);return ta(ad.sketch({...n.uid?{uid:n.uid}:{},...V,dom:{tag:"button",classes:[i,`${i}--select`].concat(me(n.classes,ye=>`${i}--${ye}`)),attributes:{...J}},components:Wx([_.map(ye=>ye.asSpec()),w.map(ye=>ye.asSpec()),U.some(ne)]),matchWidth:!0,useMinWidth:!0,onOpen:(ye,Ne,Pe)=>{n.searchable&&TK(Pe)},dropdownBehaviours:Mn([...n.dropdownBehaviours,qu.button(()=>n.disabled||f.providers.isDisabled()),Wi(),ew.config({}),kr.config({}),Mr("dropdown-events",[Vx(n,g),Ux(n,g)]),Mr("menubutton-update-display-text",[on(iw,(ye,Ne)=>{w.bind(Pe=>Pe.getOpt(ye)).each(Pe=>{kr.set(Pe,[Xa(f.providers.translate(Ne.event.text))])})}),on(NI,(ye,Ne)=>{_.bind(Pe=>Pe.getOpt(ye)).each(Pe=>{kr.set(Pe,[f8(Ne.event.icon,f.providers.icons)])})})])]),eventOrder:Ws(rT,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Mn([No.config({mode:"special",onLeft:M,onRight:M}),Mr("dropdown-sandbox-events",[on(LD,(ye,Ne)=>{SK(ye),Ne.stop()}),on(HD,(ye,Ne)=>{xK(ye,Ne),Ne.stop()})])]),lazySink:f.getSink,toggleClass:`${i}--active`,parts:{menu:{...Dx(!1,n.columns,n.presets),fakeFocus:n.searchable,onHighlightItem:TM,onCollapseMenu:(ye,Ne,Pe)=>{ls.getHighlighted(Pe).each(rt=>{TM(ye,Pe,rt)})},onDehighlightItem:AK}},fetch:ye=>Ul.nu(ae(n.fetch,ye))})).asSpec()},fX=n=>v(n),PI=n=>n.type==="separator",FI=n=>eo(n,"getSubmenuItems"),RI={type:"separator"},dX=(n,i)=>{const f=at(n,(g,w)=>fX(w)?w===""?g:w==="|"?g.length>0&&!PI(g[g.length-1])?g.concat([RI]):g:eo(i,w.toLowerCase())?g.concat([i[w.toLowerCase()]]):g:g.concat([w]),[]);return f.length>0&&PI(f[f.length-1])&&f.pop(),f},hX=(n,i)=>{const f=n.getSubmenuItems(),g=rE(f,i),w=Ws(g.menus,{[n.value]:g.items}),_=Ws(g.expansions,{[n.value]:n.value});return{item:n,menus:w,expansions:_}},pX=n=>{const i=pn(n,"value").getOrThunk(()=>fo("generated-menu-item"));return Ws({value:i},n)},rE=(n,i)=>{const f=dX(v(n)?n.split(" "):n,i);return Qe(f,(g,w)=>{if(FI(w)){const _=pX(w),M=hX(_,i);return{menus:Ws(g.menus,M.menus),items:[M.item,...g.items],expansions:Ws(g.expansions,M.expansions)}}else return{...g,items:[w,...g.items]}},{menus:{},expansions:{},items:[]})},gX=n=>n.search.fold(()=>({searchMode:"no-search"}),i=>({searchMode:"search-with-field",placeholder:i.placeholder})),mX=n=>n.search.fold(()=>({searchMode:"no-search"}),i=>({searchMode:"search-with-results"})),Db=(n,i,f,g)=>{const w=fo("primary-menu"),_=rE(n,f.shared.providers.menuItems());if(_.items.length===0)return U.none();const M=gX(g),V=OM(w,_.items,i,f,g.isHorizontalMenu,M),J=mX(g),ne=kn(_.menus,(ye,Ne)=>OM(Ne,ye,i,f,!1,J)),de=Ws(ne,us(w,V));return U.from(db.tieredData(w,de,_.expansions))},aT=n=>!eo(n,"items"),MI="data-value",II=(n,i,f,g)=>me(f,w=>aT(w)?{type:"togglemenuitem",text:w.text,value:w.value,active:w.value===g,onAction:()=>{qn.setValue(n,w.value),Ho(n,Zu,{name:i}),qo.focus(n)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>II(n,i,w.items,g)}),sE=(n,i)=>oo(n,f=>aT(f)?xs(f.value===i,f):sE(f.items,i)),vX=(n,i,f)=>{const g=i.shared.providers,w=f.bind(J=>sE(n.items,J)).orThunk(()=>Kn(n.items).filter(aT)),_=n.label.map(J=>Mh(J,g)),M=fs.parts.field({dom:{},factory:{sketch:J=>d8({uid:J.uid,text:w.map(ne=>ne.text),icon:U.none(),tooltip:n.label,role:U.none(),fetch:(ne,de)=>{const ye=II(ne,n.name,n.items,qn.getValue(ne));de(Db(ye,Bh.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:U.none()}))},onSetup:j(P),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[li.config({}),cd.withComp(w.map(ne=>ne.value),ne=>Ro(ne.element,MI),(ne,de)=>{sE(n.items,de).each(ye=>{Fn(ne.element,MI,ye.value),Ho(ne,iw,{text:ye.text})})})]},"tox-listbox",i.shared)}}),V={dom:{tag:"div",classes:["tox-listboxfield"]},components:[M]};return fs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([_.toArray(),[V]]),fieldBehaviours:Mn([Bo.config({disabled:j(!n.enabled),onDisabled:J=>{fs.getField(J).each(Bo.disable)},onEnabled:J=>{fs.getField(J).each(Bo.enable)}})])})},bX=(n,i)=>({dom:{tag:"div",classes:n.classes},components:me(n.items,i.shared.interpreter)}),yX=(n,i)=>{const f=me(n.options,w=>({dom:{tag:"option",value:w.value,innerHtml:w.text}})),g=n.data.map(w=>us("initialValue",w)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:f,behaviours:al(n.selectBehaviours,[qo.config({}),qn.config({store:{mode:"manual",getValue:w=>Zl(w.element),setValue:(w,_)=>{Re(n.options,V=>V.value===_).isSome()&&Hg(w.element,_)},...g}})])}},wX=zu({name:"HtmlSelect",configFields:[ln("options"),wi("selectBehaviours",[qo,qn]),_t("selectClasses",[]),_t("selectAttributes",{}),Kr("data")],factory:yX}),h8=(n,i,f)=>{const g=me(n.items,J=>({text:i.translate(J.text),value:J.value})),w=n.label.map(J=>Mh(J,i)),_=fs.parts.field({dom:{},...f.map(J=>({data:J})).getOr({}),selectAttributes:{size:n.size},options:g,factory:wX,selectBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||i.isDisabled()}),li.config({}),Mr("selectbox-change",[on(h1(),(J,ne)=>{Ho(J,Zu,{name:n.name})})])])}),M=n.size>1?U.none():U.some(Dh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},i.icons)),V={dom:{tag:"div",classes:["tox-selectfield"]},components:Oe([[_],M.toArray()])};return fs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([w.toArray(),[V]]),fieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||i.isDisabled(),onDisabled:J=>{fs.getField(J).each(Bo.disable)},onEnabled:J=>{fs.getField(J).each(Bo.enable)}}),Wi()])})},p8=j([_t("field1Name","field1"),_t("field2Name","field2"),_p("onLockedChange"),zg(["lockClass"]),_t("locked",!1),bu.field("coupledFieldBehaviours",[Ur,qn])]),CX=(n,i,f)=>qs(n,i,f).bind(Ur.getCurrent),LI=(n,i)=>Vl({factory:fs,name:n,overrides:f=>({fieldBehaviours:Mn([Mr("coupled-input-behaviour",[on($g(),g=>{CX(g,f,i).each(w=>{qs(g,f,"lock").each(_=>{Qr.isOn(_)&&f.onLockedChange(g,w,_)})})})])])})}),g8=j([LI("field1","field2"),LI("field2","field1"),Vl({factory:eu,schema:[ln("dom")],name:"lock",overrides:n=>({buttonBehaviours:Mn([Qr.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),SX=(n,i,f,g)=>({uid:n.uid,dom:n.dom,components:i,behaviours:bu.augment(n.coupledFieldBehaviours,[Ur.config({find:U.some}),qn.config({store:{mode:"manual",getValue:w=>{const _=cm(w,n,["field1","field2"]);return{[n.field1Name]:qn.getValue(_.field1()),[n.field2Name]:qn.getValue(_.field2())}},setValue:(w,_)=>{const M=cm(w,n,["field1","field2"]);yr(_,n.field1Name)&&qn.setValue(M.field1(),_[n.field1Name]),yr(_,n.field2Name)&&qn.setValue(M.field2(),_[n.field2Name])}}})]),apis:{getField1:w=>qs(w,n,"field1"),getField2:w=>qs(w,n,"field2"),getLock:w=>qs(w,n,"lock")}}),Cu=hc({name:"FormCoupledInputs",configFields:p8(),partFields:g8(),factory:SX,apis:{getField1:(n,i)=>n.getField1(i),getField2:(n,i)=>n.getField2(i),getLock:(n,i)=>n.getLock(i)}}),HI=n=>{const i={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},f=w=>w in i?i[w]:1;let g=n.value.toFixed(f(n.unit));return g.indexOf(".")!==-1&&(g=g.replace(/\.?0*$/,"")),g+n.unit},m8=n=>{const f=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(f!==null){const g=parseFloat(f[1]),w=f[2];return er.value({value:g,unit:w})}else return er.error(n)},jI=(n,i)=>{const f={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},g=w=>eo(f,w);return n.unit===i?U.some(n.value):g(n.unit)&&g(i)?f[n.unit]===f[i]?U.some(n.value):U.some(n.value/f[n.unit]*f[i]):U.none()},iT=n=>U.none(),zI=(n,i)=>f=>jI(f,i).map(g=>({value:g*n,unit:i})),xX=(n,i)=>{const f=m8(n).toOptional(),g=m8(i).toOptional();return wr(f,g,(w,_)=>jI(w,_.unit).map(M=>_.value/M).map(M=>zI(M,_.unit)).getOr(iT)).getOr(iT)},VI=(n,i)=>{let f=iT;const g=fo("ratio-event"),w=ye=>Dh(ye,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ye]},i.icons),_=Cu.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:i.translate(n.label.getOr("Constrain proportions"))}},components:[w("lock"),w("unlock")],buttonBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||i.isDisabled()}),Wi(),li.config({})])}),M=ye=>({dom:{tag:"div",classes:["tox-form__group"]},components:ye}),V=ye=>fs.parts.field({factory:z2,inputClasses:["tox-textfield"],inputBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||i.isDisabled()}),Wi(),li.config({}),Mr("size-input-events",[on(kp(),(Ne,Pe)=>{Ho(Ne,g,{isField1:ye})}),on(h1(),(Ne,Pe)=>{Ho(Ne,Zu,{name:n.name})})])]),selectOnFocus:!1}),J=ye=>({dom:{tag:"label",classes:["tox-label"]},components:[Xa(i.translate(ye))]}),ne=Cu.parts.field1(M([fs.parts.label(J("Width")),V(!0)])),de=Cu.parts.field2(M([fs.parts.label(J("Height")),V(!1)]));return Cu.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[ne,de,M([J(P1),_])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ye,Ne,Pe)=>{m8(qn.getValue(ye)).each(rt=>{f(rt).each(bt=>{qn.setValue(Ne,HI(bt))})})},coupledFieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||i.isDisabled(),onDisabled:ye=>{Cu.getField1(ye).bind(fs.getField).each(Bo.disable),Cu.getField2(ye).bind(fs.getField).each(Bo.disable),Cu.getLock(ye).each(Bo.disable)},onEnabled:ye=>{Cu.getField1(ye).bind(fs.getField).each(Bo.enable),Cu.getField2(ye).bind(fs.getField).each(Bo.enable),Cu.getLock(ye).each(Bo.enable)}}),Wi(),Mr("size-input-events2",[on(g,(ye,Ne)=>{const Pe=Ne.event.isField1,rt=Pe?Cu.getField1(ye):Cu.getField2(ye),bt=Pe?Cu.getField2(ye):Cu.getField1(ye),Mt=rt.map(qn.getValue).getOr(""),kt=bt.map(qn.getValue).getOr("");f=xX(Mt,kt)})])])})},UI=(n,i,f)=>{const g=jd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xa(i.translate(n.label))]}),w=jd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),_=jd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return jd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:j(f.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[g,w,_],sliderBehaviours:Mn([ld.self(),qo.config({})]),onChoose:(M,V,J)=>{Ho(M,Zu,{name:n.name,value:J})}})},EX=(n,i)=>{const f=V=>({dom:{tag:"th",innerHtml:i.translate(V)}}),g=V=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:me(V,f)}]}),w=V=>({dom:{tag:"td",innerHtml:i.translate(V)}}),_=V=>({dom:{tag:"tr"},components:me(V,w)}),M=V=>({dom:{tag:"tbody"},components:me(V,_)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[g(n.header),M(n.cells)],behaviours:Mn([li.config({}),qo.config({})])}},v8=(n,i)=>{const f=n.label.map(Ne=>Mh(Ne,i)),g=[Bo.config({disabled:()=>n.disabled||i.isDisabled()}),Wi(),No.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:Ne=>(gs(Ne,HA),U.some(!0))}),Mr("textfield-change",[on($g(),(Ne,Pe)=>{Ho(Ne,Zu,{name:n.name})}),on(jC(),(Ne,Pe)=>{Ho(Ne,Zu,{name:n.name})})]),li.config({})],w=n.validation.map(Ne=>Gu.config({getRoot:Pe=>dl(Pe.element),invalidClass:"tox-invalid",validator:{validate:Pe=>{const rt=qn.getValue(Pe),bt=Ne.validator(rt);return Ul.pure(bt===!0?er.value(rt):er.error(bt))},validateOnLoad:Ne.validateOnLoad}})).toArray(),_=n.placeholder.fold(j({}),Ne=>({placeholder:i.translate(Ne)})),M=n.inputMode.fold(j({}),Ne=>({inputmode:Ne})),V={..._,...M},J=fs.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(Ne=>({data:Ne})).getOr({}),inputAttributes:V,inputClasses:[n.classname],inputBehaviours:Mn(Oe([g,w])),selectOnFocus:!1,factory:z2}),de=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),ye=[Bo.config({disabled:()=>n.disabled||i.isDisabled(),onDisabled:Ne=>{fs.getField(Ne).each(Bo.disable)},onEnabled:Ne=>{fs.getField(Ne).each(Bo.enable)}}),Wi()];return Xx(f,J,de,ye)},WI=(n,i,f)=>v8({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:U.none(),maximized:n.maximized,data:f},i),qI=(n,i,f)=>v8({name:n.name,multiline:!0,label:n.label,inputMode:U.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:U.none(),maximized:n.maximized,data:f},i);var kX=Object.freeze({__proto__:null,events:(n,i)=>{const g=n.stream.streams.setup(n,i);return Dr([on(n.event,g),Gf(()=>i.cancel())].concat(n.cancelEvent.map(w=>[on(w,()=>i.cancel())]).getOr([])))}});const AX=(n,i)=>{let f=null;return{cancel:()=>{T(f)||(clearTimeout(f),f=null)},throttle:(..._)=>{T(f)&&(f=setTimeout(()=>{f=null,n.apply(null,_)},i))}}},b8=(n,i)=>{let f=null;const g=()=>{T(f)||(clearTimeout(f),f=null)};return{cancel:g,throttle:(..._)=>{g(),f=setTimeout(()=>{f=null,n.apply(null,_)},i)}}},ZI=n=>{const i=$e(null);return hu({readState:()=>({timer:i.get()!==null?"set":"unset"}),setTimer:_=>{i.set(_)},cancel:()=>{const _=i.get();_!==null&&_.cancel()}})};var OX=Object.freeze({__proto__:null,throttle:ZI,init:n=>n.stream.streams.state(n)});const _X=(n,i)=>{const f=n.stream,g=b8(n.onStream,f.delay);return i.setTimer(g),(w,_)=>{g.throttle(w,_),f.stopEvent&&_.stop()}};var y8=[_i("stream",qc("mode",{throttle:[ln("delay"),_t("stopEvent",!0),Qs("streams",{setup:_X,state:ZI})]})),_t("event","input"),Kr("cancelEvent"),_p("onStream")];const w8=Vi({fields:y8,name:"streaming",active:kX,state:OX}),lT=(n,i,f)=>{const g=qn.getValue(f);qn.setValue(i,g),C8(i)},GI=(n,i)=>{const f=n.element,g=Zl(f),w=f.dom;Ro(f,"type")!=="number"&&i(w,g)},C8=n=>{GI(n,(i,f)=>i.setSelectionRange(f.length,f.length))},$X=(n,i)=>{GI(n,(f,g)=>f.setSelectionRange(i,g.length))},KI=(n,i,f)=>{if(n.selectsOver){const g=qn.getValue(i),w=n.getDisplayText(g),_=qn.getValue(f);return n.getDisplayText(_).indexOf(w)===0?U.some(()=>{lT(n,i,f),$X(i,w.length)}):U.none()}else return U.none()},S8=j("alloy.typeahead.itemexecute"),YI=(n,i,f,g)=>{const w=(ye,Ne,Pe)=>{n.previewing.set(!1);const rt=Ha.getCoupled(ye,"sandbox");if(Rr.isOpen(rt))Ur.getCurrent(rt).each(bt=>{ls.getHighlighted(bt).fold(()=>{Pe(bt)},()=>{Dg(rt,bt.element,"keydown",Ne)})});else{const bt=Mt=>{Ur.getCurrent(Mt).each(Pe)};Y2(n,M(ye),ye,rt,g,bt,Ql.HighlightMenuAndItem).get(P)}},_=yA(n),M=ye=>Ne=>Ne.map(Pe=>{const rt=xn(Pe.menus),bt=ve(rt,kt=>tt(kt.items,Lt=>Lt.type==="item"));return qn.getState(ye).update(me(bt,kt=>kt.data)),Pe}),V=ye=>Ur.getCurrent(ye),J="typeaheadevents",ne=[qo.config({}),qn.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:ye=>Zl(ye.element),getFallbackEntry:ye=>({value:ye,meta:{}}),setValue:(ye,Ne)=>{Hg(ye.element,n.model.getDisplayText(Ne))},...n.initialData.map(ye=>us("initialValue",ye)).getOr({})}}),w8.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(ye,Ne)=>{const Pe=Ha.getCoupled(ye,"sandbox");if(qo.isFocused(ye)&&Zl(ye.element).length>=n.minChars){const bt=V(Pe).bind(kt=>ls.getHighlighted(kt).map(qn.getValue));n.previewing.set(!0);const Mt=kt=>{V(Pe).each(Lt=>{bt.fold(()=>{n.model.selectsOver&&ls.highlightFirst(Lt)},Zn=>{ls.highlightBy(Lt,Xt=>qn.getValue(Xt).value===Zn.value),ls.getHighlighted(Lt).orThunk(()=>(ls.highlightFirst(Lt),U.none()))})})};Y2(n,M(ye),ye,Pe,g,Mt,Ql.HighlightJustMenu).get(P)}},cancelEvent:i0()}),No.config({mode:"special",onDown:(ye,Ne)=>(w(ye,Ne,ls.highlightFirst),U.some(!0)),onEscape:ye=>{const Ne=Ha.getCoupled(ye,"sandbox");return Rr.isOpen(Ne)?(Rr.close(Ne),U.some(!0)):U.none()},onUp:(ye,Ne)=>(w(ye,Ne,ls.highlightLast),U.some(!0)),onEnter:ye=>{const Ne=Ha.getCoupled(ye,"sandbox"),Pe=Rr.isOpen(Ne);if(Pe&&!n.previewing.get())return V(Ne).bind(rt=>ls.getHighlighted(rt)).map(rt=>(Ho(ye,S8(),{item:rt}),!0));{const rt=qn.getValue(ye);return gs(ye,i0()),n.onExecute(Ne,ye,rt),Pe&&Rr.close(Ne),U.some(!0)}}}),Qr.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Ha.config({others:{sandbox:ye=>E6(n,ye,{onOpen:()=>Qr.on(ye),onClose:()=>Qr.off(ye)})}}),Mr(J,[Ya(ye=>{n.lazyTypeaheadComp.set(U.some(ye))}),Gf(ye=>{n.lazyTypeaheadComp.set(U.none())}),mh(ye=>{const Ne=P;x6(n,M(ye),ye,g,Ne,Ql.HighlightMenuAndItem).get(P)}),on(S8(),(ye,Ne)=>{const Pe=Ha.getCoupled(ye,"sandbox");lT(n.model,ye,Ne.event.item),gs(ye,i0()),n.onItemExecute(ye,Pe,Ne.event.item,qn.getValue(ye)),Rr.close(Pe),C8(ye)})].concat(n.dismissOnBlur?[on(vi(),ye=>{const Ne=Ha.getCoupled(ye,"sandbox");Xf(Ne.element).isNone()&&Rr.close(Ne)})]:[]))],de={[bf()]:[qn.name(),w8.name(),J],...n.eventOrder};return{uid:n.uid,dom:wA(Ws(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{..._,...al(n.typeaheadBehaviours,ne)},eventOrder:de}},DX=j([Kr("lazySink"),ln("fetch"),_t("minChars",5),_t("responseTime",1e3),qr("onOpen"),_t("getHotspot",U.some),_t("getAnchorOverrides",j({})),_t("layouts",U.none()),_t("eventOrder",{}),_e("model",{},[_t("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),_t("selectsOver",!0),_t("populateFromBrowse",!0)]),qr("onSetValue"),Xc("onExecute"),qr("onItemExecute"),_t("inputClasses",[]),_t("inputAttributes",{}),_t("inputStyles",{}),_t("matchWidth",!0),_t("useMinWidth",!1),_t("dismissOnBlur",!0),zg(["openClass"]),Kr("initialData"),wi("typeaheadBehaviours",[qo,qn,w8,No,Qr,Ha]),ml("lazyTypeaheadComp",()=>$e(U.none)),ml("previewing",()=>$e(!0))].concat(MD()).concat(k6())),BX=j([xf({schema:[x0()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(i,f,g)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(w=>{KI(n.model,w,g).fold(()=>{n.model.selectsOver?(ls.dehighlight(f,g),n.previewing.set(!0)):n.previewing.set(!1)},_=>{_(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(w=>{n.model.populateFromBrowse&&lT(n.model,w,g)})},onExecute:(i,f)=>n.lazyTypeaheadComp.get().map(g=>(Ho(g,S8(),{item:f}),!0)),onHover:(i,f)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(g=>{n.model.populateFromBrowse&&lT(n.model,g,f)})}})})]),NX=hc({name:"Typeahead",configFields:DX(),partFields:BX(),factory:YI}),zd=n=>({...n,toCached:()=>zd(n.toCached()),bindFuture:J=>zd(n.bind(ne=>ne.fold(de=>Ul.pure(er.error(de)),de=>J(de)))),bindResult:J=>zd(n.map(ne=>ne.bind(J))),mapResult:J=>zd(n.map(ne=>ne.map(J))),mapError:J=>zd(n.map(ne=>ne.mapError(J))),foldResult:(J,ne)=>n.map(de=>de.fold(J,ne)),withTimeout:(J,ne)=>zd(Ul.nu(de=>{let ye=!1;const Ne=setTimeout(()=>{ye=!0,de(er.error(ne()))},J);n.get(Pe=>{ye||(clearTimeout(Ne),de(Pe))})}))}),x8=n=>zd(Ul.nu(n)),XI=n=>zd(Ul.pure(er.value(n))),FX={nu:x8,wrap:zd,pure:XI,value:XI,error:n=>zd(Ul.pure(er.error(n))),fromResult:n=>zd(Ul.pure(n)),fromFuture:n=>zd(n.map(er.value)),fromPromise:n=>x8(i=>{n.then(f=>{i(er.value(f))},f=>{i(er.error(f))})})},JI=n=>({isEnabled:()=>!Bo.isDisabled(n),setEnabled:i=>Bo.set(n,!i),setActive:i=>{const f=n.element;i?(nl(f,"tox-tbtn--enabled"),Fn(f,"aria-pressed",!0)):(ua(f,"tox-tbtn--enabled"),et(f,"aria-pressed"))},isActive:()=>vl(n.element,"tox-tbtn--enabled")}),E8=(n,i,f,g)=>d8({text:n.text,icon:n.icon,tooltip:n.tooltip,searchable:n.search.isSome(),role:g,fetch:(w,_)=>{const M={pattern:n.search.isSome()?OK(w):""};n.fetch(V=>{_(Db(V,Bh.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:n.search}))},M)},onSetup:n.onSetup,getApi:JI,columns:1,presets:"normal",classes:[],dropdownBehaviours:[li.config({})]},i,f.shared),RX=(n,i,f)=>{const g=_=>M=>{const V=!M.isActive();M.setActive(V),_.storage.set(V),f.shared.getSink().each(J=>{i().getOpt(J).each(ne=>{kh(ne.element),Ho(ne,Em,{name:_.name,value:_.storage.get()})})})},w=_=>M=>{M.setActive(_.storage.get())};return _=>{_(me(n,M=>{const V=M.text.fold(()=>({}),J=>({text:J}));return{type:M.type,active:!1,...V,onAction:g(M),onSetup:w(M)}}))}},k8=(n,i,f=[],g,w,_)=>{const M=i.fold(()=>({}),ne=>({action:ne})),V={buttonBehaviours:Mn([qu.button(()=>!n.enabled||_.isDisabled()),Wi(),li.config({}),Mr("button press",[J4("click"),J4("mousedown")])].concat(f)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...M},J=Ws(V,{dom:g});return Ws(J,{components:w})},QI=(n,i,f,g=[])=>{const w=n.tooltip.map(J=>({"aria-label":f.translate(J),title:f.translate(J)})).getOr({}),_={tag:"button",classes:["tox-tbtn"],attributes:w},M=n.icon.map(J=>$b(J,f.icons)),V=Wx([M]);return k8(n,i,g,_,V,f)},eL=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},aE=(n,i,f,g=[],w=[])=>{const _=f.translate(n.text),M=n.icon.map(Ne=>$b(Ne,f.icons)),V=[M.getOrThunk(()=>Xa(_))],J=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),de=[...eL(J),...M.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...w];return k8(n,i,g,{tag:"button",classes:de,attributes:{title:_}},V,f)},tL=(n,i,f,g=[],w=[])=>{const _=aE(n,U.some(i),f,g,w);return eu.sketch(_)},nL=(n,i)=>f=>{i==="custom"?Ho(f,Em,{name:n,value:{}}):i==="submit"?gs(f,HA):i==="cancel"?gs(f,Eb):console.error("Unknown button type: ",i)},MX=(n,i)=>i==="menu",IX=(n,i)=>i==="custom"||i==="cancel"||i==="submit",iE=(n,i,f)=>{if(MX(n,i)){const g=()=>M,w=n,_={...n,type:"menubutton",search:U.none(),onSetup:V=>(V.setEnabled(n.enabled),P),fetch:RX(w.items,g,f)},M=ta(E8(_,"tox-tbtn",f,U.none()));return M.asSpec()}else if(IX(n,i)){const g=nL(n.name,i),w={...n,borderless:!1};return tL(w,g,f.shared.providers,[])}else throw console.error("Unknown footer button type: ",i),new Error("Unknown footer button type")},oL=(n,i)=>{const f=nL(n.name,"custom");return XK(U.none(),fs.parts.field({factory:eu,...aE(n,U.some(f),i,[cd.memory(""),ld.self()])}))},LX={type:"separator"},HX=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:P}),cT=(n,i)=>({type:"menuitem",value:i,text:n,meta:{attach:void 0},onAction:P}),jX=n=>me(n,HX),zX=(n,i)=>tt(i,f=>f.type===n),Br=(n,i)=>jX(zX(n,i)),lE=n=>Br("header",n.targets),rL=n=>Br("anchor",n.targets),sL=n=>U.from(n.anchorTop).map(i=>cT("<top>",i)).toArray(),aL=n=>U.from(n.anchorBottom).map(i=>cT("<bottom>",i)).toArray(),iL=n=>me(n,i=>cT(i,i)),lL=n=>at(n,(i,f)=>i.length===0||f.length===0?i.concat(f):i.concat(LX,f),[]),cL=(n,i)=>{const f=n.toLowerCase();return tt(i,g=>{var w;const _=g.meta!==void 0&&g.meta.text!==void 0?g.meta.text:g.text,M=(w=g.value)!==null&&w!==void 0?w:"";return as(_.toLowerCase(),f)||as(M.toLowerCase(),f)})},cE=(n,i,f)=>{const g=qn.getValue(i),w=g.meta.text!==void 0?g.meta.text:g.value;return f.getLinkInformation().fold(()=>[],M=>{const V=cL(w,iL(f.getHistory(n)));return n==="file"?lL([V,cL(w,lE(M)),cL(w,Oe([sL(M),rL(M),aL(M)]))]):V})},uL=fo("aria-invalid"),fL=(n,i,f,g)=>{const w=i.shared.providers,_=Lt=>{const Zn=qn.getValue(Lt);f.addToHistory(Zn.value,n.filetype)},M={...g.map(Lt=>({initialData:Lt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":uL,type:"url"},minChars:0,responseTime:0,fetch:Lt=>{const Zn=cE(n.filetype,Lt,f),Xt=Db(Zn,Bh.BUBBLE_TO_SANDBOX,i,{isHorizontalMenu:!1,search:U.none()});return Ul.pure(Xt)},getHotspot:Lt=>rt.getOpt(Lt),onSetValue:(Lt,Zn)=>{Lt.hasConfigured(Gu)&&Gu.run(Lt).get(P)},typeaheadBehaviours:Mn([...f.getValidationHandler().map(Lt=>Gu.config({getRoot:Zn=>dl(Zn.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Zn,Xt)=>{de.getOpt(Zn).each(Qn=>{Fn(Qn.element,"title",w.translate(Xt))})}},validator:{validate:Zn=>{const Xt=qn.getValue(Zn);return FX.nu(Qn=>{Lt({type:n.filetype,url:Xt.value},ho=>{if(ho.status==="invalid"){const so=er.error(ho.message);Qn(so)}else{const so=er.value(ho.message);Qn(so)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!n.enabled||w.isDisabled()}),li.config({}),Mr("urlinput-events",[on($g(),Lt=>{const Zn=Zl(Lt.element),Xt=Zn.trim();Xt!==Zn&&Hg(Lt.element,Xt),n.filetype==="file"&&Ho(Lt,Zu,{name:n.name})}),on(h1(),Lt=>{Ho(Lt,Zu,{name:n.name}),_(Lt)}),on(jC(),Lt=>{Ho(Lt,Zu,{name:n.name}),_(Lt)})])]),eventOrder:{[$g()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Lt=>Lt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:i.shared.getSink,parts:{menu:Dx(!1,1,"normal")},onExecute:(Lt,Zn,Xt)=>{Ho(Zn,HA,{})},onItemExecute:(Lt,Zn,Xt,Qn)=>{_(Lt),Ho(Lt,Zu,{name:n.name})}},V=fs.parts.field({...M,factory:NX}),J=n.label.map(Lt=>Mh(Lt,w)),de=ta(((Lt,Zn,Xt=Lt,Qn=Lt)=>Dh(Xt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Lt],attributes:{title:w.translate(Qn),"aria-live":"polite",...Zn.fold(()=>({}),ho=>({id:ho}))}},w.icons))("invalid",U.some(uL),"warning")),ye=ta({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[de.asSpec()]}),Ne=f.getUrlPicker(n.filetype),Pe=fo("browser.url.event"),rt=ta({dom:{tag:"div",classes:["tox-control-wrap"]},components:[V,ye.asSpec()],behaviours:Mn([Bo.config({disabled:()=>!n.enabled||w.isDisabled()})])}),bt=ta(tL({name:n.name,icon:U.some("browse"),text:n.label.getOr(""),enabled:n.enabled,primary:!1,buttonType:U.none(),borderless:!0},Lt=>gs(Lt,Pe),w,[],["tox-browse-url"])),Mt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Oe([[rt.asSpec()],Ne.map(()=>bt.asSpec()).toArray()])}),kt=Lt=>{Ur.getCurrent(Lt).each(Zn=>{const Xt=qn.getValue(Zn),Qn={fieldname:n.name,...Xt};Ne.each(ho=>{ho(Qn).get(so=>{qn.setValue(Zn,so),Ho(Lt,Zu,{name:n.name})})})})};return fs.sketch({dom:LA(),components:J.toArray().concat([Mt()]),fieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||w.isDisabled(),onDisabled:Lt=>{fs.getField(Lt).each(Bo.disable),bt.getOpt(Lt).each(Bo.disable)},onEnabled:Lt=>{fs.getField(Lt).each(Bo.enable),bt.getOpt(Lt).each(Bo.enable)}}),Wi(),Mr("url-input-events",[on(Pe,kt)])])})},VX=(n,i)=>xm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[eu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:bD(n.icon,i.icons),attributes:{title:i.translate(n.iconTooltip)}},action:f=>{Ho(f,Em,{name:"alert-banner",value:n.url})},buttonBehaviours:Mn([Ex()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:i.translate(n.text)}}]}),UX=(n,i)=>{n.dom.checked=i},WX=n=>n.dom.checked,dL=(n,i,f)=>{const g=J=>(J.element.dom.click(),U.some(!0)),w=fs.parts.field({factory:{sketch:oe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Mn([ld.self(),Bo.config({disabled:()=>!n.enabled||i.isDisabled()}),li.config({}),qo.config({}),cd.withElement(f,WX,UX),No.config({mode:"special",onEnter:g,onSpace:g,stopSpaceKeyup:!0}),Mr("checkbox-events",[on(h1(),(J,ne)=>{Ho(J,Zu,{name:n.name})})])])}),_=fs.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Xa(i.translate(n.label))],behaviours:Mn([ew.config({})])}),M=J=>Dh(J==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+J]},i.icons),V=ta({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[M("checked"),M("unchecked")]});return fs.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[w,V.asSpec(),_],fieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||i.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:J=>{fs.getField(J).each(Bo.disable)},onEnabled:J=>{fs.getField(J).each(Bo.enable)}}),Wi()])})},A8=n=>n.presets==="presentation"?xm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):xm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:Mn([li.config({}),qo.config({})])}),qi=n=>(i,f,g,w)=>pn(f,"name").fold(()=>n(f,w,U.none()),_=>i.field(_,n(f,w,pn(g,_)))),qX=n=>(i,f,g,w)=>{const _=Ws(f,{source:"dynamic"});return qi(n)(i,_,g,w)},ZX={bar:qi((n,i)=>RM(n,i.shared)),collection:qi((n,i,f)=>QK(n,i.shared.providers,f)),alertbanner:qi((n,i)=>VX(n,i.shared.providers)),input:qi((n,i,f)=>WI(n,i.shared.providers,f)),textarea:qi((n,i,f)=>qI(n,i.shared.providers,f)),label:qi((n,i)=>l8(n,i.shared)),iframe:qX((n,i,f)=>$I(n,i.shared.providers,f)),button:qi((n,i)=>oL(n,i.shared.providers)),checkbox:qi((n,i,f)=>dL(n,i.shared.providers,f)),colorinput:qi((n,i,f)=>oY(n,i.shared,i.colorinput,f)),colorpicker:qi((n,i,f)=>oX(n,i.shared.providers,f)),dropzone:qi((n,i,f)=>TI(n,i.shared.providers,f)),grid:qi((n,i)=>iX(n,i.shared)),listbox:qi((n,i,f)=>vX(n,i,f)),selectbox:qi((n,i,f)=>h8(n,i.shared.providers,f)),sizeinput:qi((n,i)=>VI(n,i.shared.providers)),slider:qi((n,i,f)=>UI(n,i.shared.providers,f)),urlinput:qi((n,i,f)=>fL(n,i,i.urlinput,f)),customeditor:qi(AI),htmlpanel:qi(A8),imagepreview:qi((n,i,f)=>Am(n,f)),table:qi((n,i)=>EX(n,i.shared.providers)),panel:qi((n,i)=>bX(n,i))},GX={field:(n,i)=>i,record:j([])},T8=(n,i,f,g)=>{const w=Ws(g,{shared:{interpreter:_=>O8(n,_,f,w)}});return O8(n,i,f,w)},O8=(n,i,f,g)=>pn(ZX,i.type).fold(()=>(console.error(`Unknown factory type "${i.type}", defaulting to container: `,i),i),w=>w(n,i,f,g)),KX=(n,i,f)=>O8(GX,n,i,f),pv="layout-inset",_8=n=>n.x,$8=(n,i)=>n.x+n.width/2-i.width/2,D8=(n,i)=>n.x+n.width-i.width,B8=n=>n.y,N8=(n,i)=>n.y+n.height-i.height,hL=(n,i)=>n.y+n.height/2-i.height/2,uT=(n,i,f)=>rl(D8(n,i),N8(n,i),f.insetSouthwest(),lS(),"southwest",bl(n,{right:0,bottom:3}),pv),fT=(n,i,f)=>rl(_8(n),N8(n,i),f.insetSoutheast(),iS(),"southeast",bl(n,{left:1,bottom:3}),pv),uE=(n,i,f)=>rl(D8(n,i),B8(n),f.insetNorthwest(),aS(),"northwest",bl(n,{right:0,top:2}),pv),fE=(n,i,f)=>rl(_8(n),B8(n),f.insetNortheast(),zy(),"northeast",bl(n,{left:1,top:2}),pv),Yp=(n,i,f)=>rl($8(n,i),B8(n),f.insetNorth(),cS(),"north",bl(n,{top:2}),pv),dE=(n,i,f)=>rl($8(n,i),N8(n,i),f.insetSouth(),uS(),"south",bl(n,{bottom:3}),pv),pL=(n,i,f)=>rl(D8(n,i),hL(n,i),f.insetEast(),k0(),"east",bl(n,{right:0}),pv),P8=(n,i,f)=>rl(_8(n),hL(n,i),f.insetWest(),O3(),"west",bl(n,{left:1}),pv),YX=n=>{switch(n){case"north":return Yp;case"northeast":return fE;case"northwest":return uE;case"south":return dE;case"southeast":return fT;case"southwest":return uT;case"east":return pL;case"west":return P8}},gL=(n,i,f,g,w)=>bS(g).map(YX).getOr(Yp)(n,i,f,g,w),XX=n=>{switch(n){case"north":return dE;case"northeast":return fT;case"northwest":return uT;case"south":return Yp;case"southeast":return fE;case"southwest":return uE;case"east":return P8;case"west":return pL}},JX=(n,i,f,g,w)=>bS(g).map(XX).getOr(Yp)(n,i,f,g,w),mL={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},QX=(n,i,f)=>{const w={maxHeightFunction:$0()},_=()=>({type:"node",root:Ts(or(n())),node:U.from(n()),bubble:Dp(12,12,mL),layouts:{onRtl:()=>[fE],onLtr:()=>[uE]},overrides:w}),M=()=>({type:"hotspot",hotspot:i(),bubble:Dp(-12,12,mL),layouts:{onRtl:()=>[Il],onLtr:()=>[yl]},overrides:w});return()=>f()?_():M()},vL=(n,i,f)=>{const g=()=>({type:"node",root:Ts(or(n())),node:U.from(n()),layouts:{onRtl:()=>[Yp],onLtr:()=>[Yp]}}),w=()=>({type:"hotspot",hotspot:i(),layouts:{onRtl:()=>[sl],onLtr:()=>[sl]}});return()=>f()?g():w()},eJ=(n,i)=>()=>({type:"selection",root:i(),getSelection:()=>{const f=n.selection.getRng();return U.some(I0.range(dn.fromDom(f.startContainer),f.startOffset,dn.fromDom(f.endContainer),f.endOffset))}}),bL=n=>i=>({type:"node",root:n(),node:i}),tJ=(n,i,f)=>{const g=$x(n),w=()=>dn.fromDom(n.getBody()),_=()=>dn.fromDom(n.getContentAreaContainer()),M=()=>g||!f();return{inlineDialog:QX(_,i,M),banner:vL(_,i,M),cursor:eJ(n,w),node:bL(w)}},yL=n=>(i,f)=>{vM(n)(i,f)},wL=n=>()=>uM(n),CL=n=>()=>u6(n),nJ=n=>()=>cM(n),SL=n=>({colorPicker:yL(n),hasCustomColors:wL(n),getColors:CL(n),getColorCols:nJ(n)}),xL=n=>()=>IR(n),oJ=n=>({isDraggableModal:xL(n)}),EL=n=>{const i=$e(OD(n)?"bottom":"top");return{isPositionedAtTop:()=>i.get()==="top",getDockingMode:i.get,setDockingMode:i.set}},kL=n=>yr(n,"items"),AL=n=>yr(n,"format"),Vd=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],dT=n=>eo(n,"items"),hT=n=>eo(n,"block"),rJ=n=>eo(n,"inline"),F8=n=>eo(n,"selector"),TL=n=>at(n,(i,f)=>{if(dT(f)){const g=TL(f.items);return{customFormats:i.customFormats.concat(g.customFormats),formats:i.formats.concat([{title:f.title,items:g.formats}])}}else if(rJ(f)||hT(f)||F8(f)){const w=`custom-${v(f.name)?f.name:f.title.toLowerCase()}`;return{customFormats:i.customFormats.concat([{name:w,format:f}]),formats:i.formats.concat([{title:f.title,format:w,icon:f.icon}])}}else return{...i,formats:i.formats.concat(f)}},{customFormats:[],formats:[]}),R8=(n,i)=>{const f=TL(i),g=w=>{q(w,_=>{n.formatter.has(_.name)||n.formatter.register(_.name,_.format)})};return n.formatter?g(f.customFormats):n.on("init",()=>{g(f.customFormats)}),f.formats},M8=n=>lA(n).map(i=>{const f=R8(n,i);return _R(n)?Vd.concat(f):f}).getOr(Vd),I8=n=>{const i=ft(n);return i.length===1&&fe(i,"title")},OL=(n,i,f)=>({...n,type:"formatter",isSelected:i(n.format),getStylePreview:f(n.format)}),L8=(n,i,f,g)=>{const w=J=>OL(J,f,g),_=J=>{const ne=V(J.items);return{...J,type:"submenu",getStyleItems:j(ne)}},M=J=>{const ne=v(J.name)?J.name:fo(J.title),de=`custom-${ne}`,ye={...J,type:"formatter",format:de,isSelected:f(de),getStylePreview:g(de)};return n.formatter.register(ne,ye),ye},V=J=>me(J,ne=>kL(ne)?_(ne):AL(ne)?w(ne):I8(ne)?{...ne,type:"separator"}:M(ne));return V(i)},_L=n=>{const i=V=>()=>n.formatter.match(V),f=V=>()=>{const J=n.formatter.get(V);return J!==void 0?U.some({tag:J.length>0&&(J[0].inline||J[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(V))}):U.none()},g=$e([]),w=$e([]),_=$e(!1);return n.on("PreInit",V=>{const J=M8(n),ne=L8(n,J,i,f);g.set(ne)}),n.on("addStyleModifications",V=>{const J=L8(n,V.items,i,f);w.set(J),_.set(V.replace)}),{getData:()=>{const V=_.get()?[]:g.get(),J=w.get();return V.concat(J)}}},H8=n=>N(n)&&n.nodeType===1,sJ=hv.trim,$L=n=>i=>!!(H8(i)&&(i.contentEditable===n||i.getAttribute("data-mce-contenteditable")===n)),DL=$L("true"),aJ=$L("false"),BL=(n,i,f,g,w)=>({type:n,title:i,url:f,level:g,attach:w}),NL=n=>{let i=n;for(;i=i.parentNode;){const f=i.contentEditable;if(f&&f!=="inherit")return DL(i)}return!1},PL=(n,i)=>me(jl(dn.fromDom(i),n),f=>f.dom),FL=n=>n.innerText||n.textContent,iJ=n=>n.id?n.id:fo("h"),lJ=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,cJ=n=>lJ(n)&&Ud(n),j8=n=>n&&/^(H[1-6])$/.test(n.nodeName),Ud=n=>NL(n)&&!aJ(n),z8=n=>j8(n)&&Ud(n),uJ=n=>j8(n)?parseInt(n.nodeName.substr(1),10):0,fJ=n=>{var i;const f=iJ(n),g=()=>{n.id=f};return BL("header",(i=FL(n))!==null&&i!==void 0?i:"","#"+f,uJ(n),g)},dJ=n=>{const i=n.id||n.name,f=FL(n);return BL("anchor",f||"#"+i,"#"+i,0,P)},hJ=n=>me(tt(n,z8),fJ),pJ=n=>me(tt(n,cJ),dJ),RL=n=>PL("h1,h2,h3,h4,h5,h6,a:not([href])",n),ML=n=>sJ(n.title).length>0,Bhe={find:n=>{const i=RL(n);return tt(hJ(i).concat(pJ(i)),ML)}},ll="tinymce-url-history",pT=5,IL=n=>v(n)&&/^https?/.test(n),gT=n=>x(n)&&n.length<=pT&&se(n,IL),LL=n=>y(n)&&wn(n,i=>!gT(i)).isNone(),HL=()=>{const n=PA.getItem(ll);if(n===null)return{};let i;try{i=JSON.parse(n)}catch(f){if(f instanceof SyntaxError)return console.log("Local storage "+ll+" was not valid JSON",f),{};throw f}return LL(i)?i:(console.log("Local storage "+ll+" was not valid format",i),{})},gJ=n=>{if(!LL(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));PA.setItem(ll,JSON.stringify(n))},mJ=n=>{const i=HL();return pn(i,n).getOr([])},vJ=(n,i)=>{if(!IL(n))return;const f=HL(),g=pn(f,i).getOr([]),w=tt(g,_=>_!==n);f[i]=[n].concat(w).slice(0,pT),gJ(f)},jL=n=>!!n,bJ=n=>kn(hv.makeMap(n,/[, ]/),jL),V8=n=>U.from(NR(n)),zL=n=>{const i=U.from(fA(n)).filter(jL).map(bJ);return V8(n).fold(pe,f=>i.fold(be,g=>ft(g).length>0?g:!1))},mT=(n,i)=>{const f=zL(n);return k(f)?f?V8(n):U.none():f[i]?V8(n):U.none()},yJ=(n,i)=>mT(n,i).map(f=>g=>Ul.nu(w=>{const _=(V,J)=>{if(!v(V))throw new Error("Expected value to be string");if(J!==void 0&&!y(J))throw new Error("Expected meta to be a object");w({value:V,meta:J})},M={filetype:i,fieldname:g.fieldname,...U.from(g.meta).getOr({})};f.call(n,_,g.value,M)})),U8=n=>U.from(n).filter(v).getOrUndefined(),wJ=n=>FR(n)?U.some({targets:Bhe.find(n.getBody()),anchorTop:U8(RR(n)),anchorBottom:U8(MR(n))}):U.none(),VL=n=>U.from(PR(n)),CJ=n=>({getHistory:mJ,addToHistory:vJ,getLinkInformation:()=>wJ(n),getValidationHandler:()=>VL(n),getUrlPicker:i=>yJ(n,i)}),SJ=(n,i,f)=>{const g=$e(!1),w=EL(i),_={shared:{providers:{icons:()=>i.ui.registry.getAll().icons,menuItems:()=>i.ui.registry.getAll().menuItems,translate:Md.translate,isDisabled:()=>i.mode.isReadOnly()||!i.ui.isEnabled(),getOption:i.options.get},interpreter:M=>KX(M,{},_),anchors:tJ(i,f,w.isPositionedAtTop),header:w,getSink:n},urlinput:CJ(i),styles:_L(i),colorinput:SL(i),dialog:oJ(i),isContextMenuOpen:()=>g.get(),setContextMenuState:M=>g.set(M)};return _},UL=(n,i,f)=>{const g=(Xt,Qn)=>{q([i,f],ho=>{ho.broadcastEvent(Xt,Qn)})},w=(Xt,Qn)=>{q([i,f],ho=>{ho.broadcastOn([Xt],Qn)})},_=Xt=>w(Pd(),{target:Xt.target}),M=ee(),V=Kl(M,"touchstart",_),J=Kl(M,"touchmove",Xt=>g(ky(),Xt)),ne=Kl(M,"touchend",Xt=>g(Ay(),Xt)),de=Kl(M,"mousedown",_),ye=Kl(M,"mouseup",Xt=>{Xt.raw.button===0&&w(zp(),{target:Xt.target})}),Ne=Xt=>w(Pd(),{target:dn.fromDom(Xt.target)}),Pe=Xt=>{Xt.button===0&&w(zp(),{target:dn.fromDom(Xt.target)})},rt=()=>{q(n.editorManager.get(),Xt=>{n!==Xt&&Xt.dispatch("DismissPopups",{relatedTarget:n})})},bt=Xt=>g(zC(),Z3(Xt)),Mt=Xt=>{w(jp(),{}),g(l0(),Z3(Xt))},kt=()=>w(jp(),{}),Lt=Xt=>{Xt.state&&w(Pd(),{target:dn.fromDom(n.getContainer())})},Zn=Xt=>{w(Pd(),{target:dn.fromDom(Xt.relatedTarget.getContainer())})};n.on("PostRender",()=>{n.on("click",Ne),n.on("tap",Ne),n.on("mouseup",Pe),n.on("mousedown",rt),n.on("ScrollWindow",bt),n.on("ResizeWindow",Mt),n.on("ResizeEditor",kt),n.on("AfterProgressState",Lt),n.on("DismissPopups",Zn)}),n.on("remove",()=>{n.off("click",Ne),n.off("tap",Ne),n.off("mouseup",Pe),n.off("mousedown",rt),n.off("ScrollWindow",bt),n.off("ResizeWindow",Mt),n.off("ResizeEditor",kt),n.off("AfterProgressState",Lt),n.off("DismissPopups",Zn),de.unbind(),V.unbind(),J.unbind(),ne.unbind(),ye.unbind()}),n.on("detach",()=>{f2(i),f2(f),i.destroy(),f.destroy()})},Ku=Ef,Bb=_k,xJ=j([_t("shell",!1),ln("makeItem"),_t("setupItem",P),bu.field("listBehaviours",[kr])]),EJ=ju({name:"items",overrides:()=>({behaviours:Mn([kr.config({})])})}),WL=j([EJ]),W8=j("CustomList"),kJ=(n,i,f,g)=>{const w=(V,J)=>{M(V).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},ne=>{const de=kr.contents(ne),ye=J.length,Ne=ye-de.length,Pe=Ne>0?Be(Ne,()=>n.makeItem()):[],rt=de.slice(ye);q(rt,Mt=>kr.remove(ne,Mt)),q(Pe,Mt=>kr.append(ne,Mt));const bt=kr.contents(ne);q(bt,(Mt,kt)=>{n.setupItem(V,Mt,J[kt],kt)})})},_=n.shell?{behaviours:[kr.config({})],components:[]}:{behaviours:[],components:i},M=V=>n.shell?U.some(V):qs(V,n,"items");return{uid:n.uid,dom:n.dom,components:_.components,behaviours:al(n.listBehaviours,_.behaviours),apis:{setItems:w}}},qL=hc({name:W8(),configFields:xJ(),partFields:WL(),factory:kJ,apis:{setItems:(n,i,f)=>{n.setItems(i,f)}}}),Nb=j([ln("dom"),_t("shell",!0),wi("toolbarBehaviours",[kr])]),AJ=j([ju({name:"groups",overrides:()=>({behaviours:Mn([kr.config({})])})})]),TJ=(n,i,f,g)=>{const w=(V,J)=>{_(V).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},ne=>{kr.set(ne,J)})},_=V=>n.shell?U.some(V):qs(V,n,"groups"),M=n.shell?{behaviours:[kr.config({})],components:[]}:{behaviours:[],components:i};return{uid:n.uid,dom:n.dom,components:M.components,behaviours:al(n.toolbarBehaviours,M.behaviours),apis:{setGroups:w},domModification:{attributes:{role:"group"}}}},Hh=hc({name:"Toolbar",configFields:Nb(),partFields:AJ(),factory:TJ,apis:{setGroups:(n,i,f)=>{n.setGroups(i,f)}}}),q8=P,ZL=pe,GL=j([]);var OJ=Object.freeze({__proto__:null,setup:q8,isDocked:ZL,getBehaviours:GL});const KL=n=>(As(hs(n,"position"),"fixed")?U.none():hi(n)).orThunk(()=>{const g=dn.fromTag("span");return ga(n).bind(w=>{gl(w,g);const _=hi(g);return uf(g),_})}),YL=n=>KL(n).map(Xr).getOrThunk(()=>Er(0,0)),vT=It.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),_J=(n,i)=>{const f=n.element;nl(f,i.transitionClass),ua(f,i.fadeOutClass),nl(f,i.fadeInClass),i.onShow(n)},bT=(n,i)=>{const f=n.element;nl(f,i.transitionClass),ua(f,i.fadeInClass),nl(f,i.fadeOutClass),i.onHide(n)},$J=(n,i)=>n.y<i.bottom&&n.bottom>i.y,yT=(n,i)=>n.y>=i.y,DJ=(n,i)=>n.bottom<=i.bottom,wT=(n,i,f)=>se(n,g=>{switch(g){case"bottom":return DJ(i,f);case"top":return yT(i,f)}}),lw=(n,i)=>i.getInitialPos().map(f=>bo(f.bounds.x,f.bounds.y,Us(n),Vt(n))),XL=(n,i,f)=>{f.setInitialPos({style:Js(n),position:nn(n,"position")||"static",bounds:i})},JL=(n,i,f)=>f.getInitialPos().bind(g=>{switch(f.clearInitialPos(),g.position){case"static":return U.some(vT.static());case"absolute":const w=KL(n).map($r).getOrThunk(()=>$r(Ke()));return U.some(vT.absolute(Jf("absolute",pn(g.style,"left").map(_=>i.x-w.x),pn(g.style,"top").map(_=>i.y-w.y),pn(g.style,"right").map(_=>w.right-i.right),pn(g.style,"bottom").map(_=>w.bottom-i.bottom))));default:return U.none()}}),QL=(n,i,f)=>lw(n,f).filter(g=>wT(f.getModes(),g,i)).bind(g=>JL(n,g,f)),eH=(n,i,f)=>{const g=$r(n);if(wT(f.getModes(),g,i))return U.none();{XL(n,g,f);const w=Hi(),_=g.x-w.x,M=i.y-w.y,V=w.bottom-i.bottom,J=g.y<=i.y;return U.some(vT.fixed(Jf("fixed",U.some(_),J?U.some(M):U.none(),U.none(),J?U.none():U.some(V))))}},tH=(n,i,f)=>{const g=n.element;return As(hs(g,"position"),"fixed")?QL(g,i,f):eH(g,i,f)},BJ=(n,i)=>{const f=n.element;return lw(f,i).bind(g=>JL(f,g,i))},CT=(n,i,f)=>{f.setDocked(!1),q(["left","right","top","bottom","position"],g=>rr(n.element,g)),i.onUndocked(n)},cw=(n,i,f,g)=>{const w=g.position==="fixed";f.setDocked(w),T0(n.element,g),(w?i.onDocked:i.onUndocked)(n)},nH=(n,i,f,g,w=!1)=>{i.contextual.each(_=>{_.lazyContext(n).each(M=>{const V=$J(M,g);V!==f.isVisible()&&(f.setVisible(V),w&&!V?(pu(n.element,[_.fadeOutClass]),_.onHide(n)):(V?_J:bT)(n,_))})})},NJ=(n,i,f)=>{const g=i.lazyViewport(n);f.isDocked()&&nH(n,i,f,g),tH(n,g,f).each(_=>{_.fold(()=>CT(n,i,f),M=>cw(n,i,f,M),M=>{nH(n,i,f,g,!0),cw(n,i,f,M)})})},uw=(n,i,f)=>{const g=n.element;f.setDocked(!1),BJ(n,f).each(w=>{w.fold(()=>CT(n,i,f),_=>cw(n,i,f,_),P)}),f.setVisible(!0),i.contextual.each(w=>{gu(g,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(n)}),ST(n,i,f)},ST=(n,i,f)=>{n.getSystem().isConnected()&&NJ(n,i,f)},oH=(n,i,f)=>{f.isDocked()&&uw(n,i,f)};var FJ=Object.freeze({__proto__:null,refresh:ST,reset:oH,isDocked:(n,i,f)=>f.isDocked(),getModes:(n,i,f)=>f.getModes(),setModes:(n,i,f,g)=>f.setModes(g)}),RJ=Object.freeze({__proto__:null,events:(n,i)=>Dr([Kc(s0(),(f,g)=>{n.contextual.each(w=>{vl(f.element,w.transitionClass)&&(gu(f.element,[w.transitionClass,w.fadeInClass]),(i.isVisible()?w.onShown:w.onHidden)(f)),g.stop()})}),on(zC(),(f,g)=>{ST(f,n,i)}),on(l0(),(f,g)=>{oH(f,n,i)})])}),Z8=[sc("contextual",[Za("fadeInClass"),Za("fadeOutClass"),Za("transitionClass"),gf("lazyContext"),qr("onShow"),qr("onShown"),qr("onHide"),qr("onHidden")]),mi("lazyViewport",Hi),X("modes",["top","bottom"],Da),qr("onDocked"),qr("onUndocked")],MJ=Object.freeze({__proto__:null,init:n=>{const i=$e(!1),f=$e(!0),g=Ea(),w=$e(n.modes),_=()=>`docked:  ${i.get()}, visible: ${f.get()}, modes: ${w.get().join(",")}`;return hu({isDocked:i.get,setDocked:i.set,getInitialPos:g.get,setInitialPos:g.set,clearInitialPos:g.clear,isVisible:f.get,setVisible:f.set,getModes:w.get,setModes:w.set,readState:_})}});const $c=Vi({fields:Z8,name:"docking",active:RJ,apis:FJ,state:MJ}),G8=j(fo("toolbar-height-change")),Xp={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},aH="tox-tinymce--toolbar-sticky-on",iH="tox-tinymce--toolbar-sticky-off",lH=(n,i)=>{const f=Vs(i),w=Ai(i).dom.innerHeight,_=Uc(f),M=dn.fromDom(n.elm),V=ea(M),J=Vt(M),ne=V.y,de=ne+J,ye=Xr(i),Ne=Vt(i),Pe=ye.top,rt=Pe+Ne,bt=Math.abs(Pe-_.top)<2,Mt=Math.abs(rt-(_.top+w))<2;if(bt&&ne<rt)Qm(_.left,ne-Ne,f);else if(Mt&&de>Pe){const kt=ne-w+J+Ne;Qm(_.left,kt,f)}},K8=(n,i)=>fe($c.getModes(n),i),Pb=n=>{const i=g=>ro(g)+(parseInt(nn(g,"margin-top"),10)||0)+(parseInt(nn(g,"margin-bottom"),10)||0),f=n.element;dl(f).each(g=>{const w="padding-"+$c.getModes(n)[0];if($c.isDocked(n)){const _=Us(g);Wn(f,"width",_+"px"),Wn(g,w,i(f)+"px")}else rr(f,"width"),rr(g,w)})},cH=(n,i)=>{i?(ua(n,Xp.fadeOutClass),pu(n,[Xp.transitionClass,Xp.fadeInClass])):(ua(n,Xp.fadeInClass),pu(n,[Xp.fadeOutClass,Xp.transitionClass]))},uH=(n,i)=>{const f=dn.fromDom(n.getContainer());i?(nl(f,aH),ua(f,iH)):(nl(f,iH),ua(f,aH))},Y8=(n,i)=>{const f=Vs(i);cc(f).filter(g=>!Cr(i,g)).filter(g=>Cr(g,dn.fromDom(f.dom.body))||Ra(n,g)).each(()=>kh(i))},fH=(n,i)=>Xf(n).orThunk(()=>i().toOptional().bind(f=>Xf(f.element))),IJ=(n,i,f)=>{n.inline||(i.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{f().each($c.reset)}),n.on("ResizeWindow ResizeEditor",()=>{f().each(Pb)}),n.on("SkinLoaded",()=>{f().each(g=>{$c.isDocked(g)?$c.reset(g):$c.refresh(g)})}),n.on("FullscreenStateChanged",()=>{f().each($c.reset)})),n.on("AfterScrollIntoView",g=>{f().each(w=>{$c.refresh(w);const _=w.element;yu(_)&&lH(g,_)})}),n.on("PostRender",()=>{uH(n,!1)})},LJ=n=>n().map($c.isDocked).getOr(!1),HJ=()=>[wf.config({channels:{[G8()]:{onReceive:Pb}}})],dH=(n,i)=>{const f=Ea(),g=i.getSink,w=V=>{g().each(J=>V(J.element))},_=V=>{n.inline||Pb(V),uH(n,$c.isDocked(V)),V.getSystem().broadcastOn([jp()],{}),g().each(J=>J.getSystem().broadcastOn([jp()],{}))},M=n.inline?[]:HJ();return[qo.config({}),$c.config({contextual:{lazyContext:V=>{const J=ro(V.element),ne=n.inline?n.getContentAreaContainer():n.getContainer(),de=$r(dn.fromDom(ne)),ye=de.height-J,Ne=de.y+(K8(V,"top")?0:J);return U.some(bo(de.x,Ne,de.width,ye))},onShow:()=>{w(V=>cH(V,!0))},onShown:V=>{w(J=>gu(J,[Xp.transitionClass,Xp.fadeInClass])),f.get().each(J=>{Y8(V.element,J),f.clear()})},onHide:V=>{fH(V.element,g).fold(f.clear,f.set),w(J=>cH(J,!1))},onHidden:()=>{w(V=>gu(V,[Xp.transitionClass]))},...Xp},lazyViewport:V=>{const J=Hi(),ne=BR(n),de=J.y+(K8(V,"top")?ne:0),ye=J.height-(K8(V,"bottom")?ne:0);return bo(J.x,de,J.width,ye)},modes:[i.header.getDockingMode()],onDocked:_,onUndocked:_}),...M]};var jJ=Object.freeze({__proto__:null,setup:IJ,isDocked:LJ,getBehaviours:dH});const zJ=n=>{const i=n.editor,f=n.sticky?dH:GL;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:Mn(f(i,n.sharedBackstage))}},VJ=Oo([ti,_i("items",Eg([kg([Nx,Fl("items",Da)]),Da]))].concat(Mx)),UJ=n=>jr("GroupToolbarButton",VJ,n),WJ=[Rl("text"),Rl("tooltip"),Rl("icon"),ac("search",!1,Eg([Pu,Oo([Rl("placeholder")])],n=>k(n)?n?U.some({placeholder:U.none()}):U.none():U.some(n))),gf("fetch"),mi("onSetup",()=>P)],hH=Oo([ti,...WJ]),xT=n=>jr("menubutton",hH,n),X8=Oo([ti,Px,Nh,Cm,UD,iG,bb,Uf("presets","normal",["normal","color","listpreview"]),WD(1),vb,U2]),qJ=n=>jr("SplitButton",X8,n);var J8=zu({factory:(n,i)=>{const f=(w,_)=>{const M=me(_,V=>{const J={type:"menubutton",text:V.text,fetch:de=>{de(V.getItems())}},ne=xT(J).mapError(de=>Ed(de)).getOrDie();return E8(ne,"tox-mbtn",i.backstage,U.some("menuitem"))});kr.set(w,M)},g={focus:No.focusIn,setMenus:f};return{uid:n.uid,dom:n.dom,components:[],behaviours:Mn([kr.config({}),Mr("menubar-events",[Ya(w=>{n.onSetup(w)}),on(Ad(),(w,_)=>{$i(w.element,".tox-mbtn--active").each(M=>{ol(_.event.target,".tox-mbtn").each(V=>{Cr(M,V)||w.getSystem().getByDom(M).each(J=>{w.getSystem().getByDom(V).each(ne=>{ad.expand(ne),ad.close(J),qo.focus(ne)})})})})}),on(u0(),(w,_)=>{_.event.prevFocus.bind(M=>w.getSystem().getByDom(M).toOptional()).each(M=>{_.event.newFocus.bind(V=>w.getSystem().getByDom(V).toOptional()).each(V=>{ad.isOpen(M)&&(ad.expand(V),ad.close(M))})})})]),No.config({mode:"flow",selector:".tox-mbtn",onEscape:w=>(n.onEscape(w),U.some(!0))}),li.config({})]),apis:g,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ln("dom"),ln("uid"),ln("onEscape"),ln("backstage"),_t("onSetup",P)],apis:{focus:(n,i)=>{n.focus(i)},setMenus:(n,i,f)=>{n.setMenus(i,f)}}});const ZJ="\u26A1\uFE0FUpgrade",hE="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",ET=n=>({uid:n.uid,dom:n.dom,components:[{dom:{tag:"a",attributes:{href:hE,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:ZJ}}]}),Fb=(n,i)=>i.getAnimationRoot.fold(()=>n.element,f=>f(n)),Tm=n=>n.dimension.property,Rb=(n,i)=>n.dimension.getDimension(i),kT=(n,i)=>{const f=Fb(n,i);gu(f,[i.shrinkingClass,i.growingClass])},Q8=(n,i)=>{ua(n.element,i.openClass),nl(n.element,i.closedClass),Wn(n.element,Tm(i),"0px"),Ye(n.element)},AT=(n,i)=>{ua(n.element,i.closedClass),nl(n.element,i.openClass),rr(n.element,Tm(i))},e7=(n,i,f,g)=>{f.setCollapsed(),Wn(n.element,Tm(i),Rb(i,n.element)),kT(n,i),Q8(n,i),i.onStartShrink(n),i.onShrunk(n)},GJ=(n,i,f,g)=>{const w=g.getOrThunk(()=>Rb(i,n.element));f.setCollapsed(),Wn(n.element,Tm(i),w),Ye(n.element);const _=Fb(n,i);ua(_,i.growingClass),nl(_,i.shrinkingClass),Q8(n,i),i.onStartShrink(n)},pH=(n,i,f)=>{const g=Rb(i,n.element);(g==="0px"?e7:GJ)(n,i,f,U.some(g))},pE=(n,i,f)=>{const g=Fb(n,i),w=vl(g,i.shrinkingClass),_=Rb(i,n.element);AT(n,i);const M=Rb(i,n.element);(w?()=>{Wn(n.element,Tm(i),_),Ye(n.element)}:()=>{Q8(n,i)})(),ua(g,i.shrinkingClass),nl(g,i.growingClass),AT(n,i),Wn(n.element,Tm(i),M),f.setExpanded(),i.onStartGrow(n)},TT=(n,i,f)=>{if(f.isExpanded()){rr(n.element,Tm(i));const g=Rb(i,n.element);Wn(n.element,Tm(i),g)}},KJ=(n,i,f)=>{f.isExpanded()||pE(n,i,f)},YJ=(n,i,f)=>{f.isExpanded()&&pH(n,i,f)},XJ=(n,i,f)=>{f.isExpanded()&&e7(n,i,f)},JJ=(n,i,f)=>f.isExpanded(),t7=(n,i,f)=>f.isCollapsed(),OT=(n,i,f)=>{const g=Fb(n,i);return vl(g,i.growingClass)===!0},n7=(n,i,f)=>{const g=Fb(n,i);return vl(g,i.shrinkingClass)===!0};var QJ=Object.freeze({__proto__:null,refresh:TT,grow:KJ,shrink:YJ,immediateShrink:XJ,hasGrown:JJ,hasShrunk:t7,isGrowing:OT,isShrinking:n7,isTransitioning:(n,i,f)=>OT(n,i)||n7(n,i),toggleGrow:(n,i,f)=>{(f.isExpanded()?pH:pE)(n,i,f)},disableTransitions:kT,immediateGrow:(n,i,f)=>{f.isExpanded()||(AT(n,i),Wn(n.element,Tm(i),Rb(i,n.element)),kT(n,i),f.setExpanded(),i.onStartGrow(n),i.onGrown(n))}}),eQ=Object.freeze({__proto__:null,exhibit:(n,i,f)=>{const g=i.expanded;return Ba(g?{classes:[i.openClass],styles:{}}:{classes:[i.closedClass],styles:us(i.dimension.property,"0px")})},events:(n,i)=>Dr([Kc(s0(),(f,g)=>{g.event.raw.propertyName===n.dimension.property&&(kT(f,n),i.isExpanded()&&rr(f.element,n.dimension.property),(i.isExpanded()?n.onGrown:n.onShrunk)(f))})])}),tQ=[ln("closedClass"),ln("openClass"),ln("shrinkingClass"),ln("growingClass"),Kr("getAnimationRoot"),qr("onShrunk"),qr("onStartShrink"),qr("onGrown"),qr("onStartGrow"),_t("expanded",!1),_i("dimension",qc("property",{width:[Qs("property","width"),Qs("getDimension",n=>Us(n)+"px")],height:[Qs("property","height"),Qs("getDimension",n=>Vt(n)+"px")]}))],zhe=Object.freeze({__proto__:null,init:n=>{const i=$e(n.expanded),f=()=>"expanded: "+i.get();return hu({isExpanded:()=>i.get()===!0,isCollapsed:()=>i.get()===!1,setCollapsed:ae(i.set,!1),setExpanded:ae(i.set,!0),readState:f})}});const jh=Vi({fields:tQ,name:"sliding",active:eQ,apis:QJ,state:zhe}),o7="container",nQ=[wi("slotBehaviours",[])],r7=n=>"<alloy.field."+n+">",oQ=n=>{const i=(()=>{const _=[];return{slot:(V,J)=>(_.push(V),im(o7,r7(V),J)),record:j(_)}})(),f=n(i),g=i.record(),w=me(g,_=>Vl({name:_,pname:r7(_)}));return td(o7,nQ,w,rQ,f)},rQ=(n,i)=>{const f=bt=>lm(n),g=(bt,Mt)=>qs(bt,n,Mt),w=(bt,Mt)=>(kt,Lt)=>qs(kt,n,Lt).map(Zn=>bt(Zn,Lt)).getOr(Mt),_=bt=>(Mt,kt)=>{q(kt,Lt=>bt(Mt,Lt))},M=(bt,Mt)=>Ro(bt.element,"aria-hidden")!=="true",V=(bt,Mt)=>{if(!M(bt)){const kt=bt.element;rr(kt,"display"),et(kt,"aria-hidden"),Ho(bt,f0(),{name:Mt,visible:!0})}},J=(bt,Mt)=>{if(M(bt)){const kt=bt.element;Wn(kt,"display","none"),Fn(kt,"aria-hidden","true"),Ho(bt,f0(),{name:Mt,visible:!1})}},ne=w(M,!1),de=w(J),ye=_(de),Ne=bt=>ye(bt,f()),Pe=w(V),rt={getSlotNames:f,getSlot:g,isShowing:ne,hideSlot:de,hideAllSlots:Ne,showSlot:Pe};return{uid:n.uid,dom:n.dom,components:i,behaviours:Z1(n.slotBehaviours),apis:rt}},zh={...kn({getSlotNames:(n,i)=>n.getSlotNames(i),getSlot:(n,i,f)=>n.getSlot(i,f),isShowing:(n,i,f)=>n.isShowing(i,f),hideSlot:(n,i,f)=>n.hideSlot(i,f),hideAllSlots:(n,i)=>n.hideAllSlots(i),showSlot:(n,i,f)=>n.showSlot(i,f)},n=>Ny(n)),sketch:oQ},sQ=Oo([Nh,Px,mi("onShow",P),mi("onHide",P),bb]),mH=n=>jr("sidebar",sQ,n),aQ=n=>{const{sidebars:i}=n.ui.registry.getAll();q(ft(i),f=>{const g=i[f],w=()=>As(U.from(n.queryCommandValue("ToggleSidebar")),f);n.ui.registry.addToggleButton(f,{icon:g.icon,tooltip:g.tooltip,onAction:_=>{n.execCommand("ToggleSidebar",!1,f),_.setActive(w())},onSetup:_=>{_.setActive(w());const M=()=>_.setActive(w());return n.on("ToggleSidebar",M),()=>{n.off("ToggleSidebar",M)}}})})},iQ=n=>({element:()=>n.element.dom}),lQ=(n,i)=>{const f=me(ft(i),g=>{const w=i[g],_=pf(mH(w));return{name:g,getApi:iQ,onSetup:_.onSetup,onShow:_.onShow,onHide:_.onHide}});return me(f,g=>{const w=$e(P);return n.slot(g.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:sv.unnamedEvents([Vx(g,w),Ux(g,w),on(f0(),(_,M)=>{const V=M.event;Re(f,ne=>ne.name===V.name).each(ne=>{(V.visible?ne.onShow:ne.onHide)(ne.getApi(_))})})])})})},Uhe=n=>zh.sketch(i=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:lQ(i,n),slotBehaviours:sv.unnamedEvents([Ya(f=>zh.hideAllSlots(f))])})),Whe=(n,i,f)=>{Ur.getCurrent(n).each(w=>{kr.set(w,[Uhe(i)]);const _=f==null?void 0:f.toLowerCase();v(_)&&eo(i,_)&&Ur.getCurrent(w).each(M=>{zh.showSlot(M,_),jh.immediateGrow(w),rr(w.element,"width")})})},vH=(n,i)=>{Ur.getCurrent(n).each(g=>{Ur.getCurrent(g).each(_=>{jh.hasGrown(g)?zh.isShowing(_,i)?jh.shrink(g):(zh.hideAllSlots(_),zh.showSlot(_,i)):(zh.hideAllSlots(_),zh.showSlot(_,i),jh.grow(g))})})},bH=n=>Ur.getCurrent(n).bind(f=>jh.isGrowing(f)||jh.hasGrown(f)?Ur.getCurrent(f).bind(_=>Re(zh.getSlotNames(_),M=>zh.isShowing(_,M))):U.none()),s7=fo("FixSizeEvent"),a7=fo("AutoSizeEvent"),ud=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Mn([li.config({}),qo.config({}),jh.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:i=>{Ur.getCurrent(i).each(zh.hideAllSlots),gs(i,a7)},onGrown:i=>{gs(i,a7)},onStartGrow:i=>{Ho(i,s7,{width:hs(i.element,"width").getOr("")})},onStartShrink:i=>{Ho(i,s7,{width:Us(i.element)+"px"})}}),kr.config({}),Ur.config({find:i=>{const f=kr.contents(i);return Kn(f)}})])}],behaviours:Mn([ld.childAt(0),Mr("sidebar-sliding-events",[on(s7,(i,f)=>{Wn(i.element,"width",f.event.width)}),on(a7,(i,f)=>{rr(i.element,"width")})])])});var yH=Object.freeze({__proto__:null,block:(n,i,f,g)=>{Fn(n.element,"aria-busy",!0);const w=i.getRoot(n).getOr(n),_=Mn([No.config({mode:"special",onTab:()=>U.some(!0),onShiftTab:()=>U.some(!0)}),qo.config({})]),M=g(w,_),V=w.getSystem().build(M);kr.append(w,Iu(V)),V.hasConfigured(No)&&i.focus&&No.focusIn(V),f.isBlocked()||i.onBlock(n),f.blockWith(()=>kr.remove(w,V))},unblock:(n,i,f)=>{et(n.element,"aria-busy"),f.isBlocked()&&i.onUnblock(n),f.clear()}}),uQ=[mi("getRoot",U.none),Tc("focus",!0),qr("onBlock"),qr("onUnblock")],fQ=Object.freeze({__proto__:null,init:()=>{const n=j5(),i=f=>{n.set({destroy:f})};return hu({readState:n.isSet,blockWith:i,clear:n.clear,isBlocked:n.isSet})}});const Wd=Vi({fields:uQ,name:"blocking",apis:yH,state:fQ}),dQ=n=>{const i=n.dom.attributes!==void 0?n.dom.attributes:[];return at(i,(f,g)=>g.name==="class"?f:{...f,[g.name]:g.value},{})},DT=n=>Array.prototype.slice.call(n.dom.classList,0),gv=n=>{const i=dn.fromHtml(n),f=Sr(i),g=dQ(i),w=DT(i),_=f.length===0?{}:{innerHtml:vh(i)};return{tag:Qo(i),classes:w,attributes:g,..._}},qd=n=>(i,f)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:gv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),wH=n=>Ur.getCurrent(n).each(i=>kh(i.element)),BT=(n,i)=>{const f="tabindex",g=`data-mce-${f}`;U.from(n.iframeElement).map(dn.fromDom).each(w=>{i?(he(w,f).each(_=>Fn(w,g,_)),Fn(w,f,-1)):(et(w,f),he(w,g).each(_=>{Fn(w,f,_),et(w,g)}))})},CH=(n,i,f,g)=>{const w=i.element;if(BT(n,f),f)Wd.block(i,qd(g)),rr(w,"display"),et(w,"aria-hidden"),n.hasFocus()&&wH(i);else{const _=Ur.getCurrent(i).exists(M=>vS(M.element));Wd.unblock(i),Wn(w,"display","none"),Fn(w,"aria-hidden","true"),_&&n.focus()}},hQ=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Mn([kr.config({}),Wd.config({focus:!1}),Ur.config({find:i=>Kn(i.components())})]),components:[]}),pQ=n=>n.type==="focusin",gQ=n=>pQ(n)?(n.composed?Kn(n.composedPath()):U.from(n.target)).map(dn.fromDom).filter(Or).exists(f=>vl(f,"mce-pastebin")):!1,mQ=(n,i,f)=>{const g=$e(!1),w=Ea(),_=V=>{g.get()&&!gQ(V)&&(V.preventDefault(),wH(i()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",_),n.on("BeforeExecCommand",V=>{V.command.toLowerCase()==="mcefocus"&&V.value!==!0&&_(V)})});const M=V=>{V!==g.get()&&(g.set(V),CH(n,i(),V,f.providers),nM(n,V))};n.on("ProgressState",V=>{if(w.on(clearTimeout),B(V.time)){const J=R2.setEditorTimeout(n,()=>M(V.state),V.time);w.set(J)}else M(V.state),w.clear()})},vQ=(n,i)=>at(n,(w,_)=>i(_,w.len).fold(j(w),V=>({len:V.finish,list:w.list.concat([V])})),{len:0,list:[]}).list,i7=(n,i,f)=>({within:n,extra:i,withinWidth:f}),SH=(n,i,f)=>{const g=vQ(n,(V,J)=>{const ne=f(V);return U.some({element:V,start:J,finish:J+ne,width:ne})}),w=tt(g,V=>V.finish<=i),_=Qe(w,(V,J)=>V+J.width,0),M=g.slice(w.length);return{within:w,extra:M,withinWidth:_}},gE=n=>me(n,i=>i.element),xH=(n,i,f)=>{const g=gE(n.concat(i));return i7(g,[],f)},EH=(n,i,f,g)=>{const w=gE(n).concat([f]);return i7(w,gE(i),g)},bQ=(n,i,f)=>i7(gE(n),[],f),kH=(n,i,f)=>{const g=SH(i,n,f);return g.extra.length===0?U.some(g):U.none()},yQ=(n,i,f,g)=>{const w=kH(n,i,f).getOrThunk(()=>SH(i,n-f(g),f)),_=w.within,M=w.extra,V=w.withinWidth;return M.length===1&&M[0].width<=f(g)?xH(_,M,V):M.length>=1?EH(_,M,g,V):bQ(_,M,V)},AH=(n,i)=>{const f=me(i,g=>Iu(g));Hh.setGroups(n,f)},wQ=n=>oo(n,i=>Xf(i.element).bind(f=>i.getSystem().getByDom(f).toOptional())),TH=(n,i,f)=>{const g=i.builtGroups.get();if(g.length===0)return;const w=ed(n,i,"primary"),_=Ha.getCoupled(n,"overflowGroup");Wn(w.element,"visibility","hidden");const M=g.concat([_]),V=wQ(M);f([]),AH(w,M);const J=Us(w.element),ne=yQ(J,i.builtGroups.get(),de=>Us(de.element),_);ne.extra.length===0?(kr.remove(w,_),f([])):(AH(w,ne.within),f(ne.extra)),rr(w.element,"visibility"),Ye(w.element),V.each(qo.focus)},OH=j([wi("splitToolbarBehaviours",[Ha]),ml("builtGroups",()=>$e([]))]),CQ=j([zg(["overflowToggledClass"]),Ga("getOverflowBounds"),ln("lazySink"),ml("overflowGroups",()=>$e([]))].concat(OH())),SQ=j([Vl({factory:Hh,schema:Nb(),name:"primary"}),xf({schema:Nb(),name:"overflow"}),xf({name:"overflow-button"}),xf({name:"overflow-group"})]),l7=j((n,i)=>{Jr(n,Math.floor(i))}),xQ=j([zg(["toggledClass"]),ln("lazySink"),gf("fetch"),Ga("getBounds"),sc("fireDismissalEventInstead",[_t("event",Tp())]),Np()]),EQ=j([xf({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Mn([Qr.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),xf({factory:Hh,schema:Nb(),name:"toolbar",overrides:n=>({toolbarBehaviours:Mn([No.config({mode:"cyclic",onEscape:i=>(qs(i,n,"button").each(qo.focus),U.none())})])})})]),_H=(n,i)=>{const f=Ha.getCoupled(n,"toolbarSandbox");Rr.isOpen(f)?Rr.close(f):Rr.open(f,i.toolbar())},c7=(n,i,f,g)=>{const w=f.getBounds.map(M=>M()),_=f.lazySink(n).getOrDie();fc.positionWithinBounds(_,i,{anchor:{type:"hotspot",hotspot:n,layouts:g,overrides:{maxWidthFunction:l7()}}},w)},$H=(n,i,f,g,w)=>{Hh.setGroups(i,w),c7(n,i,f,g),Qr.on(n)},DH=(n,i,f)=>{const g=nS(),w=(M,V)=>{f.fetch().get(J=>{$H(n,V,f,i.layouts,J),g.link(n.element),No.focusIn(V)})},_=()=>{Qr.off(n),qo.focus(n),g.unlink(n.element)};return{dom:{tag:"div",attributes:{id:g.id}},behaviours:Mn([No.config({mode:"special",onEscape:M=>(Rr.close(M),U.some(!0))}),Rr.config({onOpen:w,onClose:_,isPartOf:(M,V,J)=>Op(V,J)||Op(n,J),getAttachPoint:()=>f.lazySink(n).getOrDie()}),wf.config({channels:{...U1({isExtraPart:pe,...f.fireDismissalEventInstead.map(M=>({fireEventInstead:{event:M.event}})).getOr({})}),...Sf({doReposition:()=>{Rr.getState(Ha.getCoupled(n,"toolbarSandbox")).each(M=>{c7(n,M,f,i.layouts)})}})}})])}},Om=hc({name:"FloatingToolbarButton",factory:(n,i,f,g)=>({...eu.sketch({...g.button(),action:w=>{_H(w,g)},buttonBehaviours:bu.augment({dump:g.button().buttonBehaviours},[Ha.config({others:{toolbarSandbox:w=>DH(w,f,n)}})])}),apis:{setGroups:(w,_)=>{Rr.getState(Ha.getCoupled(w,"toolbarSandbox")).each(M=>{$H(w,M,n,f.layouts,_)})},reposition:w=>{Rr.getState(Ha.getCoupled(w,"toolbarSandbox")).each(_=>{c7(w,_,n,f.layouts)})},toggle:w=>{_H(w,g)},getToolbar:w=>Rr.getState(Ha.getCoupled(w,"toolbarSandbox")),isOpen:w=>Rr.isOpen(Ha.getCoupled(w,"toolbarSandbox"))}}),configFields:xQ(),partFields:EQ(),apis:{setGroups:(n,i,f)=>{n.setGroups(i,f)},reposition:(n,i)=>{n.reposition(i)},toggle:(n,i)=>{n.toggle(i)},getToolbar:(n,i)=>n.getToolbar(i),isOpen:(n,i)=>n.isOpen(i)}}),kQ=j([ln("items"),zg(["itemSelector"]),wi("tgroupBehaviours",[No])]),AQ=j([K1({name:"items",unit:"item"})]),BH=(n,i,f,g)=>({uid:n.uid,dom:n.dom,components:i,behaviours:al(n.tgroupBehaviours,[No.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),NT=hc({name:"ToolbarGroup",configFields:kQ(),partFields:AQ(),factory:BH}),NH=n=>me(n,i=>Iu(i)),PH=(n,i,f)=>{TH(n,f,g=>{f.overflowGroups.set(g),i.getOpt(n).each(w=>{Om.setGroups(w,NH(g))})})},FH=(n,i,f,g)=>{const w=ta(Om.sketch({fetch:()=>Ul.nu(_=>{_(NH(n.overflowGroups.get()))}),layouts:{onLtr:()=>[yl,Il],onRtl:()=>[Il,yl],onBottomLtr:()=>[da,Gl],onBottomRtl:()=>[Gl,da]},getBounds:f.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:g["overflow-button"](),toolbar:g.overflow()}}));return{uid:n.uid,dom:n.dom,components:i,behaviours:al(n.splitToolbarBehaviours,[Ha.config({others:{overflowGroup:()=>NT.sketch({...g["overflow-group"](),items:[w.asSpec()]})}})]),apis:{setGroups:(_,M)=>{n.builtGroups.set(me(M,_.getSystem().build)),PH(_,w,n)},refresh:_=>PH(_,w,n),toggle:_=>{w.getOpt(_).each(M=>{Om.toggle(M)})},isOpen:_=>w.getOpt(_).map(Om.isOpen).getOr(!1),reposition:_=>{w.getOpt(_).each(M=>{Om.reposition(M)})},getOverflow:_=>w.getOpt(_).bind(Om.getToolbar)},domModification:{attributes:{role:"group"}}}},RH=hc({name:"SplitFloatingToolbar",configFields:CQ(),partFields:SQ(),factory:FH,apis:{setGroups:(n,i,f)=>{n.setGroups(i,f)},refresh:(n,i)=>{n.refresh(i)},reposition:(n,i)=>{n.reposition(i)},toggle:(n,i)=>{n.toggle(i)},isOpen:(n,i)=>n.isOpen(i),getOverflow:(n,i)=>n.getOverflow(i)}}),TQ=j([zg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),qr("onOpened"),qr("onClosed")].concat(OH())),f7=j([Vl({factory:Hh,schema:Nb(),name:"primary"}),Vl({factory:Hh,schema:Nb(),name:"overflow",overrides:n=>({toolbarBehaviours:Mn([jh.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:i=>{qs(i,n,"overflow-button").each(f=>{Qr.off(f),qo.focus(f)}),n.onClosed(i)},onGrown:i=>{No.focusIn(i),n.onOpened(i)},onStartGrow:i=>{qs(i,n,"overflow-button").each(Qr.on)}}),No.config({mode:"acyclic",onEscape:i=>(qs(i,n,"overflow-button").each(qo.focus),U.some(!0))})])})}),xf({name:"overflow-button",overrides:n=>({buttonBehaviours:Mn([Qr.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),xf({name:"overflow-group"})]),OQ=(n,i)=>qs(n,i,"overflow").map(jh.hasGrown).getOr(!1),MH=(n,i)=>{qs(n,i,"overflow-button").bind(()=>qs(n,i,"overflow")).each(f=>{PT(n,i),jh.toggleGrow(f)})},PT=(n,i)=>{qs(n,i,"overflow").each(f=>{TH(n,i,g=>{const w=me(g,_=>Iu(_));Hh.setGroups(f,w)}),qs(n,i,"overflow-button").each(g=>{jh.hasGrown(f)&&Qr.on(g)}),jh.refresh(f)})},_Q=(n,i,f,g)=>{const w="alloy.toolbar.toggle",_=(M,V)=>{const J=me(V,M.getSystem().build);n.builtGroups.set(J)};return{uid:n.uid,dom:n.dom,components:i,behaviours:al(n.splitToolbarBehaviours,[Ha.config({others:{overflowGroup:M=>NT.sketch({...g["overflow-group"](),items:[eu.sketch({...g["overflow-button"](),action:V=>{gs(M,w)}})]})}}),Mr("toolbar-toggle-events",[on(w,M=>{MH(M,n)})])]),apis:{setGroups:(M,V)=>{_(M,V),PT(M,n)},refresh:M=>PT(M,n),toggle:M=>MH(M,n),isOpen:M=>OQ(M,n)},domModification:{attributes:{role:"group"}}}},FT=hc({name:"SplitSlidingToolbar",configFields:TQ(),partFields:f7(),factory:_Q,apis:{setGroups:(n,i,f)=>{n.setGroups(i,f)},refresh:(n,i)=>{n.refresh(i)},toggle:(n,i)=>{n.toggle(i)},isOpen:(n,i)=>n.isOpen(i)}}),IH=n=>{const i=n.title.fold(()=>({}),f=>({attributes:{title:f}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...i},components:[NT.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Mn([li.config({}),qo.config({})])}},mE=n=>NT.sketch(IH(n)),LH=(n,i)=>{const f=Ya(g=>{const w=me(n.initGroups,mE);Hh.setGroups(g,w)});return Mn([qu.toolbarButton(n.providers.isDisabled),Wi(),No.config({mode:i,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Mr("toolbar-events",[f])])},HH=n=>{const i=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":IH({title:U.none(),items:[]}),"overflow-button":QI({name:"more",icon:U.some("more-drawer"),enabled:!0,tooltip:U.some("More..."),primary:!1,buttonType:U.none(),borderless:!1},U.none(),n.providers)},splitToolbarBehaviours:LH(n,i)}},$Q=n=>{const i=HH(n),f=4,g=RH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return RH.sketch({...i,lazySink:n.getSink,getOverflowBounds:()=>{const w=n.moreDrawerData.lazyHeader().element,_=ea(w),M=Oa(w),V=ea(M),J=Math.max(M.dom.scrollHeight,V.height);return bo(_.x+f,V.y,_.width-f*2,J)},parts:{...i.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[g],markers:{overflowToggledClass:"tox-tbtn--enabled"}})},jH=n=>{const i=FT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),f=FT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),g=HH(n);return FT.sketch({...g,components:[i,f],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:w=>{w.getSystem().broadcastOn([G8()],{type:"opened"})},onClosed:w=>{w.getSystem().broadcastOn([G8()],{type:"closed"})}})},RT=n=>{const i=n.cyclicKeying?"cyclic":"acyclic";return Hh.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===sd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Hh.parts.groups({})],toolbarBehaviours:LH(n,i)})},DQ=(n,i,f)=>{const g={getSocket:w=>Ku.getPart(w,n,"socket"),setSidebar:(w,_,M)=>{Ku.getPart(w,n,"sidebar").each(V=>Whe(V,_,M))},toggleSidebar:(w,_)=>{Ku.getPart(w,n,"sidebar").each(M=>vH(M,_))},whichSidebar:w=>Ku.getPart(w,n,"sidebar").bind(bH).getOrNull(),getHeader:w=>Ku.getPart(w,n,"header"),getToolbar:w=>Ku.getPart(w,n,"toolbar"),setToolbar:(w,_)=>{Ku.getPart(w,n,"toolbar").each(M=>{const V=me(_,mE);M.getApis().setGroups(M,V)})},setToolbars:(w,_)=>{Ku.getPart(w,n,"multiple-toolbar").each(M=>{const V=me(_,J=>me(J,mE));qL.setItems(M,V)})},refreshToolbar:w=>{Ku.getPart(w,n,"toolbar").each(M=>M.getApis().refresh(M))},toggleToolbarDrawer:w=>{Ku.getPart(w,n,"toolbar").each(_=>{To(_.getApis().toggle,M=>M(_))})},isToolbarDrawerToggled:w=>Ku.getPart(w,n,"toolbar").bind(_=>U.from(_.getApis().isOpen).map(M=>M(_))).getOr(!1),getThrobber:w=>Ku.getPart(w,n,"throbber"),focusToolbar:w=>{Ku.getPart(w,n,"toolbar").orThunk(()=>Ku.getPart(w,n,"multiple-toolbar")).each(M=>{No.focusIn(M)})},setMenubar:(w,_)=>{Ku.getPart(w,n,"menubar").each(M=>{J8.setMenus(M,_)})},focusMenubar:w=>{Ku.getPart(w,n,"menubar").each(_=>{J8.focus(_)})}};return{uid:n.uid,dom:n.dom,components:i,apis:g,behaviours:n.behaviours}},BQ=Bb.optional({factory:J8,name:"menubar",schema:[ln("backstage")]}),d7=n=>n.type===sd.sliding?jH:n.type===sd.floating?$Q:RT,h7=Bb.optional({factory:{sketch:n=>qL.sketch({uid:n.uid,dom:n.dom,listBehaviours:Mn([No.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>RT({type:n.type,uid:fo("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),U.some(!0))}),setupItem:(i,f,g,w)=>{Hh.setGroups(f,g)},shell:!0})},name:"multiple-toolbar",schema:[ln("dom"),ln("onEscape")]}),NQ=Bb.optional({factory:{sketch:n=>{const i=d7(n),f={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),U.some(!0)),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return i(f)}},name:"toolbar",schema:[ln("dom"),ln("onEscape"),ln("getSink")]}),PQ=Bb.optional({factory:{sketch:zJ},name:"header",schema:[ln("dom")]}),FQ=Bb.optional({factory:{sketch:ET},name:"promotion",schema:[ln("dom")]}),RQ=Bb.optional({name:"socket",schema:[ln("dom")]}),MQ=Bb.optional({factory:{sketch:ud},name:"sidebar",schema:[ln("dom")]}),IQ=Bb.optional({factory:{sketch:hQ},name:"throbber",schema:[ln("dom")]});var ja=hc({name:"OuterContainer",factory:DQ,configFields:[ln("dom"),ln("behaviours")],partFields:[PQ,BQ,NQ,h7,RQ,MQ,FQ,IQ],apis:{getSocket:(n,i)=>n.getSocket(i),setSidebar:(n,i,f,g)=>{n.setSidebar(i,f,g)},toggleSidebar:(n,i,f)=>{n.toggleSidebar(i,f)},whichSidebar:(n,i)=>n.whichSidebar(i),getHeader:(n,i)=>n.getHeader(i),getToolbar:(n,i)=>n.getToolbar(i),setToolbar:(n,i,f)=>{n.setToolbar(i,f)},setToolbars:(n,i,f)=>{n.setToolbars(i,f)},refreshToolbar:(n,i)=>n.refreshToolbar(i),toggleToolbarDrawer:(n,i)=>{n.toggleToolbarDrawer(i)},isToolbarDrawerToggled:(n,i)=>n.isToolbarDrawerToggled(i),getThrobber:(n,i)=>n.getThrobber(i),setMenubar:(n,i,f)=>{n.setMenubar(i,f)},focusMenubar:(n,i)=>{n.focusMenubar(i)},focusToolbar:(n,i)=>{n.focusToolbar(i)}}});const LQ="file edit view insert format tools table help",p7={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},MT=(n,i,f)=>{const g=kD(f).split(/[ ,]/);return{text:n.title,getItems:()=>ve(n.items,w=>{const _=w.toLowerCase();return _.trim().length===0?[]:ce(g,M=>M===_)?[]:_==="separator"||_==="|"?[{type:"separator"}]:i.menuItems[_]?[i.menuItems[_]]:[]})}},vE=n=>n.split(" "),g7=(n,i)=>{const f={...p7,...i.menus},g=ft(i.menus).length>0,w=i.menubar===void 0||i.menubar===!0?vE(LQ):vE(i.menubar===!1?"":i.menubar),_=tt(w,V=>{const J=eo(p7,V);return g?J||pn(i.menus,V).exists(ne=>eo(ne,"items")):J}),M=me(_,V=>{const J=f[V];return MT({title:J.title,items:vE(J.items)},i,n)});return tt(M,V=>{const J=ne=>v(ne)||ne.type!=="separator";return V.getItems().length>0&&ce(V.getItems(),J)})},Mb=n=>{const i=()=>{n._skinLoaded=!0,VG(n)};return()=>{n.initialized?i():n.on("init",i)}},zH=(n,i)=>()=>UG(n,{message:i}),VH=(n,i,f)=>(n.on("remove",()=>f.unload(i)),f.load(i)),HQ=(n,i)=>{const f=i+"/skin.min.css";return VH(n,f,n.ui.styleSheetLoader)},jQ=(n,i)=>{if(xr(dn.fromDom(n.getElement()))){const g=i+"/skin.shadowdom.min.css";return VH(n,g,kx.DOM.styleSheetLoader)}else return Promise.resolve()},UH=(n,i)=>{const f=qR(i);f&&i.contentCSS.push(f+(n?"/content.inline":"/content")+".min.css"),!TD(i)&&v(f)?Promise.all([HQ(i,f),jQ(i,f)]).then(Mb(i),zH(i,"Skin could not be loaded")):Mb(i)()},zQ=ae(UH,!1),VQ=ae(UH,!0),IT=(n,i)=>f=>{const g=Kg(),w=()=>{f.setActive(n.formatter.match(i));const _=n.formatter.formatChanged(i,f.setActive);g.set(_)};return n.initialized?w():n.once("init",w),()=>{n.off("init",w),g.clear()}},bE=(n,i,f)=>g=>{const w=()=>f(g),_=()=>{f(g),n.on(i,w)};return n.initialized?_():n.once("init",_),()=>{n.off("init",_),n.off(i,w)}},WH=n=>i=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,i.format)})},fd=(n,i)=>()=>n.execCommand(i),qH=(n,i,f)=>{const g=(V,J,ne,de)=>{const ye=i.shared.providers.translate(V.title);if(V.type==="separator")return U.some({type:"separator",text:ye});if(V.type==="submenu"){const Ne=ve(V.getStyleItems(),Pe=>w(Pe,J,de));return J===0&&Ne.length<=0?U.none():U.some({type:"nestedmenuitem",text:ye,enabled:Ne.length>0,getSubmenuItems:()=>ve(V.getStyleItems(),Pe=>w(Pe,J,de))})}else return U.some({type:"togglemenuitem",text:ye,icon:V.icon,active:V.isSelected(de),enabled:!ne,onAction:f.onAction(V),...V.getStylePreview().fold(()=>({}),Ne=>({meta:{style:Ne}}))})},w=(V,J,ne)=>{const de=V.type==="formatter"&&f.isInvalid(V);return J===0?de?[]:g(V,J,!1,ne).toArray():g(V,J,de,ne).toArray()},_=V=>{const J=f.getCurrentValue(),ne=f.shouldHide?0:1;return ve(V,de=>w(de,ne,J))};return{validateItems:_,getFetch:(V,J)=>(ne,de)=>{const ye=J(),Ne=_(ye),Pe=Db(Ne,Bh.CLOSE_ON_EXECUTE,V,{isHorizontalMenu:!1,search:U.none()});de(Pe)}}},fw=(n,i,f)=>{const g=f.dataset,w=g.type==="basic"?()=>me(g.data,_=>OL(_,f.isSelectedFor,f.getPreviewFor)):g.getData;return{items:qH(n,i,f),getStyleItems:w}},yE=(n,i,f)=>{const{items:g,getStyleItems:w}=fw(n,i,f),_=V=>({getComponent:j(V)}),M=bE(n,"NodeChange",V=>{const J=V.getComponent();f.updateText(J)});return d8({text:f.icon.isSome()?U.none():f.text,icon:f.icon,tooltip:U.from(f.tooltip),role:U.none(),fetch:g.getFetch(i,w),onSetup:M,getApi:_,columns:1,presets:"normal",classes:f.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",i.shared)},UQ=n=>me(n,i=>{let f=i,g=i;const w=i.split("=");return w.length>1&&(f=w[0],g=w[1]),{title:f,format:g}}),WQ=n=>({type:"basic",data:n});var dw;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(dw||(dw={}));const qQ=(n,i)=>i===dw.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),LT=(n,i,f)=>{const g=n.options.get(i),w=UQ(qQ(g,f));return{type:"basic",data:w}},HT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],m7=n=>{const i=()=>Re(HT,V=>n.formatter.match(V.format)),f=V=>()=>n.formatter.match(V),g=V=>U.none,w=V=>{const ne=i().fold(j("left"),de=>de.title.toLowerCase());Ho(V,NI,{icon:`align-${ne}`})},_=WQ(HT),M=V=>()=>Re(HT,J=>J.format===V.format).each(J=>n.execCommand(J.command));return{tooltip:"Align",text:U.none(),icon:U.some("align-left"),isSelectedFor:f,getCurrentValue:U.none,getPreviewFor:g,onAction:M,updateText:w,dataset:_,shouldHide:!1,isInvalid:V=>!n.formatter.canApply(V.format)}},ZQ=(n,i)=>yE(n,i,m7(n)),ZH=(n,i)=>{const f=fw(n,i,m7(n));n.ui.registry.addNestedMenuItem("align",{text:i.shared.providers.translate("Align"),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},GH=(n,i)=>{const f=i(),g=me(f,w=>w.format);return U.from(n.formatter.closest(g)).bind(w=>Re(f,_=>_.format===w)).orThunk(()=>xs(n.formatter.match("p"),{title:"Paragraph",format:"p"}))},KH=n=>{const i="Paragraph",f=M=>()=>n.formatter.match(M),g=M=>()=>{const V=n.formatter.get(M);return V?U.some({tag:V.length>0&&(V[0].inline||V[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(M))}):U.none()},w=M=>{const J=GH(n,()=>_.data).fold(j(i),ne=>ne.title);Ho(M,iw,{text:J})},_=LT(n,"block_formats",dw.SemiColon);return{tooltip:"Blocks",text:U.some(i),icon:U.none(),isSelectedFor:f,getCurrentValue:U.none,getPreviewFor:g,onAction:WH(n),updateText:w,dataset:_,shouldHide:!1,isInvalid:M=>!n.formatter.canApply(M.format)}},GQ=(n,i)=>yE(n,i,KH(n)),YH=(n,i)=>{const f=fw(n,i,KH(n));n.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},KQ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],v7=n=>{const i=n.split(/\s*,\s*/);return me(i,f=>f.replace(/^['"]+|['"]+$/g,""))},YQ=n=>{const i=()=>{const f=v7(n.toLowerCase());return se(KQ,g=>f.indexOf(g.toLowerCase())>-1)};return n.indexOf("-apple-system")===0&&i()},XH=n=>{const i="System Font",f=()=>{const ne=rt=>rt?v7(rt)[0]:"",de=n.queryCommandValue("FontName"),ye=J.data,Ne=de?de.toLowerCase():"";return{matchOpt:Re(ye,rt=>{const bt=rt.format;return bt.toLowerCase()===Ne||ne(bt).toLowerCase()===ne(Ne).toLowerCase()}).orThunk(()=>xs(YQ(Ne),{title:i,format:Ne})),font:de}},g=ne=>de=>de.exists(ye=>ye.format===ne),w=()=>{const{matchOpt:ne}=f();return ne},_=ne=>()=>U.some({tag:"div",styles:ne.indexOf("dings")===-1?{"font-family":ne}:{}}),M=ne=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,ne.format)})},V=ne=>{const{matchOpt:de,font:ye}=f(),Ne=de.fold(j(ye),Pe=>Pe.title);Ho(ne,iw,{text:Ne})},J=LT(n,"font_family_formats",dw.SemiColon);return{tooltip:"Fonts",text:U.some(i),icon:U.none(),isSelectedFor:g,getCurrentValue:w,getPreviewFor:_,onAction:M,updateText:V,dataset:J,shouldHide:!1,isInvalid:pe}},XQ=(n,i)=>yE(n,i,XH(n)),JQ=(n,i)=>{const f=fw(n,i,XH(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:i.shared.providers.translate("Fonts"),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},QQ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},JH={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},eee=(n,i)=>{const f=Math.pow(10,i);return Math.round(n*f)/f},tee=(n,i)=>/[0-9.]+px$/.test(n)?eee(parseInt(n,10)*72/96,i||0)+"pt":pn(JH,n).getOr(n),nee=n=>pn(QQ,n).getOr(""),QH=n=>{const i=()=>{let J=U.none();const ne=V.data,de=n.queryCommandValue("FontSize");if(de)for(let ye=3;J.isNone()&&ye>=0;ye--){const Ne=tee(de,ye),Pe=nee(Ne);J=Re(ne,rt=>rt.format===de||rt.format===Ne||rt.format===Pe)}return{matchOpt:J,size:de}},f=J=>ne=>ne.exists(de=>de.format===J),g=()=>{const{matchOpt:J}=i();return J},w=j(U.none),_=J=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,J.format)})},M=J=>{const{matchOpt:ne,size:de}=i(),ye=ne.fold(j(de),Ne=>Ne.title);Ho(J,iw,{text:ye})},V=LT(n,"font_size_formats",dw.Space);return{tooltip:"Font sizes",text:U.some("12pt"),icon:U.none(),isSelectedFor:f,getPreviewFor:w,getCurrentValue:g,onAction:_,updateText:M,dataset:V,shouldHide:!1,isInvalid:pe}},oee=(n,i)=>yE(n,i,QH(n)),ree=(n,i)=>{const f=fw(n,i,QH(n));n.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},ej=(n,i)=>{const f="Paragraph",g=M=>()=>n.formatter.match(M),w=M=>()=>{const V=n.formatter.get(M);return V!==void 0?U.some({tag:V.length>0&&(V[0].inline||V[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(M))}):U.none()},_=M=>{const V=ye=>kL(ye)?ve(ye.items,V):AL(ye)?[{title:ye.title,format:ye.format}]:[],J=ve(M8(n),V),de=GH(n,j(J)).fold(j(f),ye=>ye.title);Ho(M,iw,{text:de})};return{tooltip:"Formats",text:U.some(f),icon:U.none(),isSelectedFor:g,getCurrentValue:U.none,getPreviewFor:w,onAction:WH(n),updateText:_,shouldHide:ED(n),isInvalid:M=>!n.formatter.canApply(M.format),dataset:i}},tj=(n,i)=>{const f={type:"advanced",...i.styles};return yE(n,i,ej(n,f))},see=(n,i)=>{const f={type:"advanced",...i.styles},g=fw(n,i,ej(n,f));n.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})};var nj=Object.freeze({__proto__:null,events:(n,i)=>{const f=(g,w)=>{n.updateState.each(_=>{const M=_(g,w);i.set(M)}),n.renderComponents.each(_=>{const M=_(w,i.get());(n.reuseDom?Xk:wx)(g,M)})};return Dr([on(Zf(),(g,w)=>{const _=w;if(!_.universal){const M=n.channel;fe(_.channels,M)&&f(g,_.data)}}),Ya((g,w)=>{n.initialData.each(_=>{f(g,_)})})])}}),oj=Object.freeze({__proto__:null,getState:(n,i,f)=>f}),rj=[ln("channel"),Kr("renderComponents"),Kr("updateState"),Kr("initialData"),Tc("reuseDom",!0)],aee=Object.freeze({__proto__:null,init:()=>{const n=$e(U.none()),i=()=>n.set(U.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:i}}});const Yu=Vi({fields:rj,name:"reflecting",active:nj,apis:oj,state:aee}),wE=j([ln("toggleClass"),ln("fetch"),_p("onExecute"),_t("getHotspot",U.some),_t("getAnchorOverrides",j({})),Np(),_p("onItemExecute"),Kr("lazySink"),ln("dom"),qr("onOpen"),wi("splitDropdownBehaviours",[Ha,No,qo]),_t("matchWidth",!1),_t("useMinWidth",!1),_t("eventOrder",{}),Kr("role")].concat(k6())),iee=Vl({factory:eu,schema:[ln("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Mn([qo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(n.uid).each(du)},buttonBehaviours:Mn([Qr.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])})}),lee=Vl({factory:eu,schema:[ln("dom")],name:"button",defaults:()=>({buttonBehaviours:Mn([qo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:i=>{i.getSystem().getByUid(n.uid).each(f=>{n.onExecute(f,i)})}})}),cee=j([iee,lee,ju({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[ln("text")],name:"aria-descriptor"}),xf({schema:[x0()],name:"menu",defaults:n=>({onExecute:(i,f)=>{i.getSystem().getByUid(n.uid).each(g=>{n.onItemExecute(g,i,f)})}})}),xM()]),uee=(n,i,f,g)=>{const w=de=>{Ur.getCurrent(de).each(ye=>{ls.highlightFirst(ye),No.focusIn(ye)})},_=de=>{x6(n,oe,de,g,w,Ql.HighlightMenuAndItem).get(P)},M=de=>(_(de),U.some(!0)),V=de=>{const ye=ed(de,n,"button");return du(ye),U.some(!0)},J={...Dr([Ya((de,ye)=>{qs(de,n,"aria-descriptor").each(Pe=>{const rt=fo("aria");Fn(Pe.element,"id",rt),Fn(de.element,"aria-describedby",rt)})})]),...tA(U.some(_))},ne={repositionMenus:de=>{Qr.isOn(de)&&AM(de)}};return{uid:n.uid,dom:n.dom,components:i,apis:ne,eventOrder:{...n.eventOrder,[fu()]:["disabling","toggling","alloy.base.behaviour"]},events:J,behaviours:al(n.splitDropdownBehaviours,[Ha.config({others:{sandbox:de=>{const ye=ed(de,n,"arrow");return E6(n,de,{onOpen:()=>{Qr.on(ye),Qr.on(de)},onClose:()=>{Qr.off(ye),Qr.off(de)}})}}}),No.config({mode:"special",onSpace:V,onEnter:V,onDown:M}),qo.config({}),Qr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},jT=hc({name:"SplitDropdown",configFields:wE(),partFields:cee(),factory:uee,apis:{repositionMenus:(n,i)=>n.repositionMenus(i)}}),fee=n=>({isEnabled:()=>!Bo.isDisabled(n),setEnabled:i=>Bo.set(n,!i)}),dee=n=>({setActive:i=>{Qr.set(n,i)},isActive:()=>Qr.isOn(n),isEnabled:()=>!Bo.isDisabled(n),setEnabled:i=>Bo.set(n,!i)}),sj=(n,i)=>n.map(f=>({"aria-label":i.translate(f),title:i.translate(f)})).getOr({}),zT=fo("focus-button"),b7=(n,i,f,g,w,_)=>({dom:{tag:"button",classes:["tox-tbtn"].concat(i.isSome()?["tox-tbtn--select"]:[]),attributes:sj(f,_)},components:Wx([n.map(M=>$b(M,_.icons)),i.map(M=>sT(M,"tox-tbtn",_))]),eventOrder:{[tl()]:["focusing","alloy.base.behaviour","common-button-display-events"]},buttonBehaviours:Mn([qu.toolbarButton(_.isDisabled),Wi(),Mr("common-button-display-events",[on(tl(),(M,V)=>{V.event.prevent(),gs(M,zT)})])].concat(g.map(M=>Yu.config({channel:M,initialData:{icon:n,text:i},renderComponents:(V,J)=>Wx([V.icon.map(ne=>$b(ne,_.icons)),V.text.map(ne=>sT(ne,"tox-tbtn",_))])})).toArray()).concat(w.getOr([])))}),hee=(n,i,f,g)=>{const w=i.shared;return Om.sketch({lazySink:w.getSink,fetch:()=>Ul.nu(_=>{_(me(f(n.items),mE))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:b7(n.icon,n.text,n.tooltip,U.none(),U.none(),w.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:g}}}})},aj=(n,i,f)=>{const g=$e(P),w=b7(n.icon,n.text,n.tooltip,U.none(),U.none(),f);return eu.sketch({dom:w.dom,components:w.components,eventOrder:rT,buttonBehaviours:Mn([Mr("toolbar-button-events",[BI({onAction:n.onAction,getApi:i.getApi}),Vx(i,g),Ux(i,g)]),qu.toolbarButton(()=>!n.enabled||f.isDisabled()),Wi()].concat(i.toolbarButtonBehaviours))})},ij=(n,i)=>lj(n,i,[]),lj=(n,i,f)=>aj(n,{toolbarButtonBehaviours:f.length>0?[Mr("toolbarButtonWith",f)]:[],getApi:fee,onSetup:n.onSetup},i),pee=(n,i)=>cj(n,i,[]),cj=(n,i,f)=>aj(n,{toolbarButtonBehaviours:[kr.config({}),Qr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(f.length>0?[Mr("toolbarToggleButtonWith",f)]:[]),getApi:dee,onSetup:n.onSetup},i),gee=(n,i,f)=>g=>Ul.nu(w=>i.fetch(w)).map(w=>U.from(A6(Ws(p6(fo("menu-value"),w,_=>{i.onItemAction(n(g),_)},i.columns,i.presets,Bh.CLOSE_ON_EXECUTE,i.select.getOr(pe),f),{movement:FA(i.columns,i.presets),menuBehaviours:sv.unnamedEvents(i.columns!=="auto"?[]:[Ya((_,M)=>{Ix(_,4,t9(i.presets)).each(({numRows:V,numColumns:J})=>{No.setGridSize(_,V,J)})})])})))),mee=(n,i)=>{const f=fo("channel-update-split-dropdown-display"),g=M=>({isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>Bo.set(M,!V),setIconFill:(V,J)=>{$i(M.element,'svg path[id="'+V+'"], rect[id="'+V+'"]').each(ne=>{Fn(ne,"fill",J)})},setActive:V=>{Fn(M.element,"aria-pressed",V),$i(M.element,"span").each(J=>{M.getSystem().getByDom(J).each(ne=>Qr.set(ne,V))})},isActive:()=>$i(M.element,"span").exists(V=>M.getSystem().getByDom(V).exists(Qr.isOn))}),w=$e(P),_={getApi:g,onSetup:n.onSetup};return jT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...sj(n.tooltip,i.providers)}},onExecute:M=>{n.onAction(g(M))},onItemExecute:(M,V,J)=>{},splitDropdownBehaviours:Mn([qu.splitButton(i.providers.isDisabled),Wi(),Mr("split-dropdown-events",[on(zT,qo.focus),Vx(_,w),Ux(_,w)]),ew.config({})]),eventOrder:{[ph()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:i.getSink,fetch:gee(g,n,i.providers),parts:{menu:Dx(!1,n.columns,n.presets)},components:[jT.parts.button(b7(n.icon,n.text,U.none(),U.some(f),U.some([Qr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),i.providers)),jT.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:bD("chevron-down",i.providers.icons)},buttonBehaviours:Mn([qu.splitButton(i.providers.isDisabled),Wi(),Ex()])}),jT.parts["aria-descriptor"]({text:i.providers.translate("To open the popup, press Shift+Enter")})]})},vee=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],mv=(n,i)=>(f,g,w)=>{const _=n(f).mapError(M=>Ed(M)).getOrDie();return i(_,g,w)},bee={button:mv(m9,(n,i)=>ij(n,i.shared.providers)),togglebutton:mv(v9,(n,i)=>pee(n,i.shared.providers)),menubutton:mv(xT,(n,i)=>E8(n,"tox-tbtn",i,U.none())),splitbutton:mv(qJ,(n,i)=>mee(n,i.shared)),grouptoolbarbutton:mv(UJ,(n,i,f)=>{const g=f.ui.registry.getAll().buttons,w=M=>UT(f,{buttons:g,toolbar:M,allowToolbarGroups:!1},i,U.none()),_={[Oh]:i.shared.header.isPositionedAtTop()?Th.TopToBottom:Th.BottomToTop};switch(hb(f)){case sd.floating:return hee(n,i,w,_);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},VT=(n,i,f)=>pn(bee,n.type).fold(()=>(console.error("skipping button defined by",n),U.none()),g=>U.some(g(n,i,f))),CE={styles:tj,fontsize:oee,fontfamily:XQ,blocks:GQ,align:ZQ},y7=n=>{const i=me(vee,f=>{const g=tt(f.items,w=>eo(n,w)||eo(CE,w));return{name:f.name,items:g}});return tt(i,f=>f.items.length>0)},yee=n=>{const i=n.split("|");return me(i,f=>({items:f.trim().split(" ")}))},wee=n=>O(n,i=>eo(i,"name")&&eo(i,"items")),Cee=n=>{const i=n.toolbar,f=n.buttons;return i===!1?[]:i===void 0||i===!0?y7(f):v(i)?yee(i):wee(i)?i:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},See=(n,i,f,g,w,_)=>pn(i,f.toLowerCase()).orThunk(()=>_.bind(M=>oo(M,V=>pn(i,V+f.toLowerCase())))).fold(()=>pn(CE,f.toLowerCase()).map(M=>M(n,w)),M=>M.type==="grouptoolbarbutton"&&!g?(console.warn(`Ignoring the '${f}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),U.none()):VT(M,w,n)),UT=(n,i,f,g)=>{const w=Cee(i),_=me(w,M=>{const V=ve(M.items,J=>J.trim().length===0?[]:See(n,i.buttons,J,i.allowToolbarGroups,f,g).toArray());return{title:U.from(n.translate(M.name)),items:V}});return tt(_,M=>M.items.length>0)},uj=(n,i,f,g)=>{const w=i.outerContainer,_=f.toolbar,M=f.buttons;if(O(_,v)){const V=_.map(J=>{const ne={toolbar:J,buttons:M,allowToolbarGroups:f.allowToolbarGroups};return UT(n,ne,g,U.none())});ja.setToolbars(w,V)}else ja.setToolbar(w,UT(n,f,g,U.none()))},SE=Nl(),fj=SE.os.isiOS()&&SE.os.version.major<=12,dj=(n,i)=>{const f=n.dom;let g=n.getWin();const w=n.getDoc().documentElement,_=$e(Er(g.innerWidth,g.innerHeight)),M=$e(Er(w.offsetWidth,w.offsetHeight)),V=()=>{const Ne=_.get();(Ne.left!==g.innerWidth||Ne.top!==g.innerHeight)&&(_.set(Er(g.innerWidth,g.innerHeight)),a6(n))},J=()=>{const Ne=n.getDoc().documentElement,Pe=M.get();(Pe.left!==Ne.offsetWidth||Pe.top!==Ne.offsetHeight)&&(M.set(Er(Ne.offsetWidth,Ne.offsetHeight)),a6(n))},ne=Ne=>{eM(n,Ne)};f.bind(g,"resize",V),f.bind(g,"scroll",ne);const de=q3(dn.fromDom(n.getBody()),"load",J),ye=i.uiMothership.element;n.on("hide",()=>{Wn(ye,"display","none")}),n.on("show",()=>{rr(ye,"display")}),n.on("NodeChange",J),n.on("remove",()=>{de.unbind(),f.unbind(g,"resize",V),f.unbind(g,"scroll",ne),g=null})};var hj=Object.freeze({__proto__:null,render:(n,i,f,g,w)=>{const _=$e(0),M=i.outerContainer;zQ(n);const V=dn.fromDom(w.targetNode),J=Ts(or(V));fk(V,i.mothership),Cf(J,i.uiMothership),n.on("PostRender",()=>{ja.setSidebar(M,f.sidebar,UR(n)),uj(n,i,f,g),_.set(n.getWin().innerWidth),ja.setMenubar(M,g7(n,f)),dj(n,i)});const ne=ja.getSocket(M).getOrDie("Could not find expected socket element");if(fj){Wr(ne.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Pe=AX(()=>{n.dispatch("ScrollContent")},20),rt=Kl(ne.element,"scroll",Pe.throttle);n.on("remove",rt.unbind)}BA(n,i),n.addCommand("ToggleSidebar",(Pe,rt)=>{ja.toggleSidebar(M,rt),n.dispatch("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",()=>{var Pe;return(Pe=ja.whichSidebar(M))!==null&&Pe!==void 0?Pe:""});const de=hb(n),ye=()=>{ja.refreshToolbar(i.outerContainer)};(de===sd.sliding||de===sd.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Pe=n.getWin().innerWidth;Pe!==_.get()&&(ye(),_.set(Pe))});const Ne={setEnabled:Pe=>{DA(i,!Pe)},isEnabled:()=>!Bo.isDisabled(M)};return{iframeContainer:ne.element.dom,editorContainer:M.element.dom,api:Ne}}});const w7=n=>/^[0-9\.]+(|px)$/i.test(""+n)?U.some(parseInt(""+n,10)):U.none(),WT=n=>B(n)?n+"px":n,qT=(n,i,f)=>{const g=i.filter(_=>n<_),w=f.filter(_=>n>_);return g.or(w).getOr(n)},Eee=n=>{const i=CD(n),f=bm(n),g=xD(n);return w7(i).map(w=>qT(w,f,g))},kee=n=>Eee(n).getOr(CD(n)),pj=n=>{const i=SD(n),f=Ox(n),g=iA(n);return w7(i).map(w=>qT(w,f,g))},Aee=n=>pj(n).getOr(SD(n)),{ToolbarLocation:C7,ToolbarMode:gj}=VZ,mj=(n,i,f,g,w)=>{const{uiMothership:_,outerContainer:M}=f,V=kx.DOM,J=$x(n),ne=pb(n),de=iA(n).or(pj(n)),ye=g.shared.header,Ne=ye.isPositionedAtTop,Pe=hb(n),rt=Pe===gj.sliding||Pe===gj.floating,bt=$e(!1),Mt=()=>bt.get()&&!n.removed,kt=os=>rt?os.fold(j(0),Po=>Po.components().length>1?Vt(Po.components()[1].element):0):0,Lt=os=>{switch(AD(n)){case C7.auto:const Po=ja.getToolbar(M),rs=kt(Po),cs=Vt(os.element)-rs,ss=$r(i);if(ss.y>cs)return"top";{const co=Oa(i),nr=Math.max(co.dom.scrollHeight,Vt(co));return ss.bottom<nr-cs||Hi().bottom<ss.bottom-cs?"bottom":"top"}case C7.bottom:return"bottom";case C7.top:default:return"top"}},Zn=os=>{w.on(Po=>{$c.setModes(Po,[os]),ye.setDockingMode(os);const rs=Ne()?Th.TopToBottom:Th.BottomToTop;Fn(Po.element,Oh,rs)})},Xt=()=>{w.on(os=>{const Po=de.getOrThunk(()=>{const rs=w7(nn(Ke(),"margin-left")).getOr(0);return Us(Ke())-Xr(i).left+rs});Wn(os.element,"max-width",Po+"px")})},Qn=()=>{w.on(os=>{const Po=ja.getToolbar(M),rs=kt(Po),cs=$r(i),ss=Ne()?Math.max(cs.y-Vt(os.element)+rs,0):cs.bottom;Wr(M.element,{position:"absolute",top:Math.round(ss)+"px",left:Math.round(cs.x)+"px"})})},ho=()=>{_.broadcastOn([jp()],{})},so=(os=!1)=>{if(!!Mt()){if(J||Xt(),rt&&ja.refreshToolbar(M),J||Qn(),ne){const Po=os?$c.reset:$c.refresh;w.on(Po)}ho()}},Mo=(os=!0)=>{J||!ne||!Mt()||w.on(Po=>{const rs=ye.getDockingMode(),cs=Lt(Po);cs!==rs&&(Zn(cs),os&&so(!0))})};return{isVisible:Mt,isPositionedAtTop:Ne,show:()=>{bt.set(!0),Wn(M.element,"display","flex"),V.addClass(n.getBody(),"mce-edit-focus"),rr(_.element,"display"),Mo(!1),so()},hide:()=>{bt.set(!1),f.outerContainer&&(Wn(M.element,"display","none"),V.removeClass(n.getBody(),"mce-edit-focus")),Wn(_.element,"display","none")},update:so,updateMode:Mo,repositionPopups:ho}},vj=(n,i)=>{const f=$r(n);return{pos:i?f.y:f.bottom,bounds:f}},Tee=(n,i,f,g)=>{const w=$e(vj(i,f.isPositionedAtTop())),_=V=>{const{pos:J,bounds:ne}=vj(i,f.isPositionedAtTop()),{pos:de,bounds:ye}=w.get(),Ne=ne.height!==ye.height||ne.width!==ye.width;w.set({pos:J,bounds:ne}),Ne&&a6(n,V),f.isVisible()&&(de!==J?f.update(!0):Ne&&(f.updateMode(),f.repositionPopups()))};g||(n.on("activate",f.show),n.on("deactivate",f.hide)),n.on("SkinLoaded ResizeWindow",()=>f.update(!0)),n.on("NodeChange keydown",V=>{requestAnimationFrame(()=>_(V))}),n.on("ScrollWindow",()=>f.updateMode());const M=Kg();M.set(q3(dn.fromDom(n.getBody()),"load",V=>_(V.raw))),n.on("remove",()=>{M.clear()})};var Oee=Object.freeze({__proto__:null,render:(n,i,f,g,w)=>{const{mothership:_,uiMothership:M,outerContainer:V}=i,J=Ea(),ne=dn.fromDom(w.targetNode),de=mj(n,ne,i,g,J),ye=I2(n);VQ(n);const Ne=()=>{if(J.isSet()){de.show();return}J.set(ja.getHeader(V).getOrDie());const rt=_D(n);Cf(rt,_),Cf(rt,M),uj(n,i,f,g),ja.setMenubar(V,g7(n,f)),de.show(),Tee(n,ne,de,ye),n.nodeChanged()};n.on("show",Ne),n.on("hide",de.hide),ye||(n.on("focus",Ne),n.on("blur",de.hide)),n.on("init",()=>{(n.hasFocus()||ye)&&Ne()}),BA(n,i);const Pe={show:Ne,hide:de.hide,setEnabled:rt=>{DA(i,!rt)},isEnabled:()=>!Bo.isDisabled(V)};return{editorContainer:V.element.dom,api:Pe}}});const _ee="contexttoolbar-show",Ib="contexttoolbar-hide",S7=n=>({hide:()=>gs(n,xy()),getValue:()=>qn.getValue(n)}),bj=(n,i)=>on(c8,(f,g)=>{const w=n.get(f),_=S7(w);i.onAction(_,g.event.buttonApi)}),$ee=(n,i,f)=>{const{primary:g,...w}=i.original,_=pf(m9({...w,type:"button",onAction:P}));return lj(_,f,[bj(n,i)])},yj=(n,i,f)=>{const{primary:g,...w}=i.original,_=pf(v9({...w,type:"togglebutton",onAction:P}));return cj(_,f,[bj(n,i)])},x7=n=>n.type==="contextformtogglebutton",wj=(n,i,f)=>x7(i)?yj(n,i,f):$ee(n,i,f),Cj=(n,i,f)=>{const g=me(i,M=>ta(wj(n,M,f)));return{asSpecs:()=>me(g,M=>M.asSpec()),findPrimary:M=>oo(i,(V,J)=>V.primary?U.from(g[J]).bind(ne=>ne.getOpt(M)).filter(Q(Bo.isDisabled)):U.none())}},Sj=(n,i)=>{const f=n.label.fold(()=>({}),_=>({"aria-label":_})),g=ta(z2.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:f,selectOnFocus:!0,inputBehaviours:Mn([No.config({mode:"special",onEnter:_=>w.findPrimary(_).map(M=>(du(M),!0)),onLeft:(_,M)=>(M.cut(),U.none()),onRight:(_,M)=>(M.cut(),U.none())})])})),w=Cj(g,n.commands,i);return[{title:U.none(),items:[g.asSpec()]},{title:U.none(),items:w.asSpecs()}]},ZT={renderContextForm:(n,i,f)=>RT({type:n,uid:fo("context-toolbar"),initGroups:Sj(i,f),onEscape:U.none,cyclicKeying:!0,providers:f}),buildInitGroups:Sj},GT=(n,i,f=.01)=>i.bottom-n.y>=f&&n.bottom-i.y>=f,xj=n=>{const i=n.getBoundingClientRect();if(i.height<=0&&i.width<=0){const f=xt(dn.fromDom(n.startContainer),n.startOffset).element;return(Ys(f)?ga(f):U.some(f)).filter(Or).map(w=>w.dom.getBoundingClientRect()).getOr(i)}else return i},KT=n=>{const i=n.selection.getRng(),f=xj(i);if(n.inline){const g=Uc();return bo(g.left+f.left,g.top+f.top,f.width,f.height)}else{const g=ea(dn.fromDom(n.getBody()));return bo(g.x+f.left,g.y+f.top,f.width,f.height)}},Ej=(n,i)=>i.filter(f=>ie(f)&&Tr(f)).map(ea).getOrThunk(()=>KT(n)),Dee=(n,i,f)=>{const g=Math.max(n.x+f,i.x),w=Math.min(n.right-f,i.right);return{x:g,width:w-g}},Bee=(n,i,f,g,w,_)=>{const M=dn.fromDom(n.getContainer()),V=$i(M,".tox-editor-header").getOr(M),J=$r(V),ne=J.y>=i.bottom,de=g&&!ne;if(n.inline&&de)return{y:Math.max(J.bottom+_,f.y),bottom:f.bottom};if(n.inline&&!de)return{y:f.y,bottom:Math.min(J.y-_,f.bottom)};const ye=w==="line"?$r(M):i;return de?{y:Math.max(J.bottom+_,f.y),bottom:Math.min(ye.bottom-_,f.bottom)}:{y:Math.max(ye.y+_,f.y),bottom:Math.min(J.y-_,f.bottom)}},kj=(n,i,f,g=0)=>{const w=cu(window),_=$r(dn.fromDom(n.getContentAreaContainer())),M=H2(n)||dA(n)||_x(n),{x:V,width:J}=Dee(_,w,g);if(n.inline&&!M)return bo(V,w.y,J,w.height);{const ne=i.header.isPositionedAtTop(),{y:de,bottom:ye}=Bee(n,_,w,ne,f,g);return bo(V,de,J,ye-de)}},YT=12,Aj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},E7={maxHeightFunction:$0(),maxWidthFunction:l7()},XT=(n,i)=>{const f=n.selection.getRng(),g=xt(dn.fromDom(f.startContainer),f.startOffset);return f.startContainer===f.endContainer&&f.startOffset===f.endOffset-1&&Cr(g.element,i)},Tj=(n,i,f)=>{const g=hs(n,"position");Wn(n,"position",i);const w=f(n);return g.each(_=>Wn(n,"position",_)),w},k7=n=>n==="node",A7=(n,i,f,g,w)=>{const _=KT(n),M=g.lastElement().exists(V=>Cr(f,V));if(XT(n,f))return M?gL:Yp;if(M)return Tj(i,g.getMode(),()=>GT(_,$r(i))&&!g.isReposition()?JX:gL);{const V=g.getMode()==="fixed"?w.y+Uc().top:w.y,J=Vt(i)+YT;return V+J<=_.y?Yp:dE}},Nee=(n,i,f,g)=>{const w=J=>(ne,de,ye,Ne,Pe)=>{const rt=A7(n,Ne,J,f,Pe),bt={...ne,y:Pe.y,height:Pe.height};return{...rt(bt,de,ye,Ne,Pe),alwaysFit:!0}},_=J=>k7(g)?[w(J)]:[];return i?{onLtr:J=>[sl,Il,yl,Gl,da,Ll].concat(_(J)),onRtl:J=>[sl,yl,Il,da,Gl,Ll].concat(_(J))}:{onLtr:J=>[Ll,sl,Gl,Il,da,yl].concat(_(J)),onRtl:J=>[Ll,sl,da,yl,Gl,Il].concat(_(J))}},Oj=(n,i,f,g)=>i==="line"?{bubble:Dp(YT,0,Aj),layouts:{onLtr:()=>[Uy],onRtl:()=>[Wy]},overrides:E7}:{bubble:Dp(0,YT,Aj,1/YT),layouts:Nee(n,f,g,i),overrides:E7},T7=(n,i)=>{const f=tt(i,_=>_.predicate(n.dom)),{pass:g,fail:w}=We(f,_=>_.type==="contexttoolbar");return{contextToolbars:g,contextForms:w}},Pee=n=>{if(n.length<=1)return n;{const i=_=>ce(n,M=>M.position===_),f=_=>tt(n,M=>M.position===_),g=i("selection"),w=i("node");if(g||w)if(w&&g){const _=f("node"),M=me(f("selection"),V=>({...V,position:"node"}));return _.concat(M)}else return f(g?"selection":"node");else return f("line")}},_j=n=>{if(n.length<=1)return n;{const i=g=>Re(n,w=>w.position===g);return i("selection").orThunk(()=>i("node")).orThunk(()=>i("line")).map(g=>g.position).fold(()=>[],g=>tt(n,w=>w.position===g))}},$j=(n,i,f)=>{const g=T7(n,i);if(g.contextForms.length>0)return U.some({elem:n,toolbars:[g.contextForms[0]]});{const w=T7(n,f);if(w.contextForms.length>0)return U.some({elem:n,toolbars:[w.contextForms[0]]});if(g.contextToolbars.length>0||w.contextToolbars.length>0){const _=Pee(g.contextToolbars.concat(w.contextToolbars));return U.some({elem:n,toolbars:_})}else return U.none()}},Fee=(n,i,f)=>n(i)?U.none():fh(i,g=>{if(Or(g)){const{contextToolbars:w,contextForms:_}=T7(g,f.inNodeScope),M=_.length>0?_:_j(w);return M.length>0?U.some({elem:g,toolbars:M}):U.none()}else return U.none()},n),Ree=(n,i)=>{const f=dn.fromDom(i.getBody()),g=M=>Cr(M,f),w=M=>!g(M)&&!Ra(f,M),_=dn.fromDom(i.selection.getNode());return w(_)?U.none():$j(_,n.inNodeScope,n.inEditorScope).orThunk(()=>Fee(g,_,n))},Mee=(n,i)=>{const f={},g=[],w=[],_={},M={},V=(de,ye)=>{const Ne=pf(x9(ye));f[de]=Ne,Ne.launch.map(Pe=>{_["form:"+de]={...ye.launch,type:Pe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{i(Ne)}}}),Ne.scope==="editor"?w.push(Ne):g.push(Ne),M[de]=Ne},J=(de,ye)=>{gG(ye).each(Ne=>{ye.scope==="editor"?w.push(Ne):g.push(Ne),M[de]=Ne})},ne=ft(n);return q(ne,de=>{const ye=n[de];ye.type==="contextform"?V(de,ye):ye.type==="contexttoolbar"&&J(de,ye)}),{forms:f,inNodeScope:g,inEditorScope:w,lookupTable:M,formNavigators:_}},O7=fo("forward-slide"),_7=fo("backward-slide"),$7=fo("change-slide-event"),D7="tox-pop--resizing",Dj=n=>{const i=$e([]);return ei.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{i.set([]),ei.getContent(f).each(g=>{rr(g.element,"visibility")}),ua(f.element,D7),rr(f.element,"width")},inlineBehaviours:Mn([Mr("context-toolbar-events",[Kc(s0(),(f,g)=>{g.event.raw.propertyName==="width"&&(ua(f.element,D7),rr(f.element,"width"))}),on($7,(f,g)=>{const w=f.element;rr(w,"width");const _=Us(w);ei.setContent(f,g.event.contents),nl(w,D7);const M=Us(w);Wn(w,"width",_+"px"),ei.getContent(f).each(V=>{g.event.focus.bind(J=>(kh(J),Xf(w))).orThunk(()=>(No.focusIn(V),cc(or(w))))}),setTimeout(()=>{Wn(f.element,"width",M+"px")},0)}),on(O7,(f,g)=>{ei.getContent(f).each(w=>{i.set(i.get().concat([{bar:w,focus:cc(or(f.element))}]))}),Ho(f,$7,{contents:g.event.forwardContents,focus:U.none()})}),on(_7,(f,g)=>{zn(i.get()).each(w=>{i.set(i.get().slice(0,i.get().length-1)),Ho(f,$7,{contents:Iu(w.bar),focus:w.focus})})})]),No.config({mode:"special",onEscape:f=>zn(i.get()).fold(()=>n.onEscape(),g=>(gs(f,_7),U.some(!0)))})]),lazySink:()=>er.value(n.sink)})},B7="tox-pop--transition",Iee=(n,i,f,g)=>{const w=g.backstage,_=w.shared,M=Nl().deviceType.isTouch,V=Ea(),J=Ea(),ne=Ea(),de=ic(Dj({sink:f,onEscape:()=>(n.focus(),U.some(!0))})),ye=()=>{const Vo=ne.get().getOr("node"),Ir=k7(Vo)?1:0;return kj(n,_,Vo,Ir)},Ne=()=>!n.removed&&!(M()&&w.isContextMenuOpen()),Pe=Vo=>As(wr(Vo,V.get(),Cr),!0),rt=()=>{if(Ne()){const Vo=ye(),Ir=As(ne.get(),"node")?Ej(n,V.get()):KT(n);return Vo.height<=0||!GT(Ir,Vo)}else return!0},bt=()=>{V.clear(),J.clear(),ne.clear(),ei.hide(de)},Mt=()=>{if(ei.isOpen(de)){const Vo=de.element;rr(Vo,"display"),rt()?Wn(Vo,"display","none"):(J.set(0),ei.reposition(de))}},kt=Vo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Vo],behaviours:Mn([No.config({mode:"acyclic"}),Mr("pop-dialog-wrap-events",[Ya(Ir=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>No.focusIn(Ir))}),Gf(Ir=>{n.shortcuts.remove("ctrl+F9")})])])}),Lt=va(()=>Mee(i,Vo=>{const Ir=Qn([Vo]);Ho(de,O7,{forwardContents:kt(Ir)})})),Zn=(Vo,Ir)=>UT(n,{buttons:Vo,toolbar:Ir.items,allowToolbarGroups:!1},g.backstage,U.some(["form:"])),Xt=(Vo,Ir)=>ZT.buildInitGroups(Vo,Ir),Qn=Vo=>{const{buttons:Ir}=n.ui.registry.getAll(),os=Lt(),Po={...Ir,...os.formNavigators},rs=hb(n)===sd.scrolling?sd.scrolling:sd.default,cs=Oe(me(Vo,ss=>ss.type==="contexttoolbar"?Zn(Po,ss):Xt(ss,_.providers)));return RT({type:rs,uid:fo("context-toolbar"),initGroups:cs,onEscape:U.none,cyclicKeying:!0,providers:_.providers})},ho=(Vo,Ir)=>{const os=Vo==="node"?_.anchors.node(Ir):_.anchors.cursor(),Po=Oj(n,Vo,M(),{lastElement:V.get,isReposition:()=>As(J.get(),0),getMode:()=>fc.getMode(f)});return Ws(os,Po)},so=(Vo,Ir)=>{if(Mo.cancel(),!Ne())return;const os=Qn(Vo),Po=Vo[0].position,rs=ho(Po,Ir);ne.set(Po),J.set(1);const cs=de.element;rr(cs,"display"),Pe(Ir)||(ua(cs,B7),fc.reset(f,de)),ei.showWithinBounds(de,kt(os),{anchor:rs,transition:{classes:[B7],mode:"placement"}},()=>U.some(ye())),Ir.fold(V.clear,V.set),rt()&&Wn(cs,"display","none")},Mo=b8(()=>{if(!(!n.hasFocus()||n.removed))if(vl(de.element,B7))Mo.throttle();else{const Vo=Lt();Ree(Vo,n).fold(bt,Ir=>{so(Ir.toolbars,U.some(Ir.elem))})}},17);n.on("init",()=>{n.on("remove",bt),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Mt),n.on("click keyup focus SetContent",Mo.throttle),n.on(Ib,bt),n.on(_ee,Vo=>{const Ir=Lt();pn(Ir.lookupTable,Vo.toolbarKey).each(os=>{so([os],xs(Vo.target!==n,Vo.target)),ei.getContent(de).each(No.focusIn)})}),n.on("focusout",Vo=>{R2.setEditorTimeout(n,()=>{Xf(f.element).isNone()&&Xf(de.element).isNone()&&bt()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&bt()}),n.on("AfterProgressState",Vo=>{Vo.state?bt():n.hasFocus()&&Mo.throttle()}),n.on("NodeChange",Vo=>{Xf(de.element).fold(Mo.throttle,P)})})},Lee=n=>{q([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{n.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:fd(n,f.cmd),onSetup:IT(n,f.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:fd(n,"JustifyNone")})},Hee={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jee=(()=>{const n="[0-9]+",i="[+-]?"+n,f="[eE]"+i,g="\\.",w=V=>`(?:${V})?`,M=`[+-]?(?:${["Infinity",n+g+w(n)+w(f),g+n+w(f),n+w(f)].join("|")})`;return new RegExp(`^(${M})(.*)$`)})(),N7=(n,i)=>ce(i,f=>ce(Hee[f],g=>n===g)),zee=(n,i)=>U.from(jee.exec(n)).bind(g=>{const w=Number(g[1]),_=g[2];return N7(_,i)?U.some({value:w,unit:_}):U.none()}),Vee=(n,i)=>zee(n,i).map(({value:f,unit:g})=>f+g),JT=(n,i)=>{const f=()=>{const g=i.getOptions(n),w=i.getCurrent(n).map(i.hash),_=Ea();return me(g,M=>({type:"togglemenuitem",text:i.display(M),onSetup:V=>{const J=de=>{de&&(_.on(ye=>ye.setActive(!1)),_.set(V)),V.setActive(de)};J(As(w,i.hash(M)));const ne=i.watcher(n,M,J);return()=>{_.clear(),ne()}},onAction:()=>i.setCurrent(n,M)}))};n.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:g=>g(f()),onSetup:i.onToolbarSetup}),n.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:f,onSetup:i.onMenuSetup})},Bj={name:"lineheight",text:"Line height",icon:"line-height",getOptions:ZR,hash:n=>Vee(n,["fixed","relative","empty"]).getOr(n),display:oe,watcher:(n,i,f)=>n.formatter.formatChanged("lineheight",f,!1,{value:i}).unbind,getCurrent:n=>U.from(n.queryCommandValue("LineHeight")),setCurrent:(n,i)=>n.execCommand("LineHeight",!1,i)},Nj=n=>U.from($R(n)).map(f=>({name:"language",text:"Language",icon:"language",getOptions:j(f),hash:g=>A(g.customCode)?g.code:`${g.code}/${g.customCode}`,display:g=>g.title,watcher:(g,w,_)=>{var M;return g.formatter.formatChanged("lang",_,!1,{value:w.code,customValue:(M=w.customCode)!==null&&M!==void 0?M:null}).unbind},getCurrent:g=>{const w=dn.fromDom(g.selection.getNode());return kd(w,_=>U.some(_).filter(Or).bind(M=>he(M,"lang").map(J=>{const ne=he(M,"data-mce-lang").getOrUndefined();return{code:J,customCode:ne,title:""}})))},setCurrent:(g,w)=>g.execCommand("Lang",!1,w),onToolbarSetup:g=>{const w=Kg();return g.setActive(n.formatter.match("lang",{},void 0,!0)),w.set(n.formatter.formatChanged("lang",g.setActive,!0)),w.clear}})),Uee=n=>{JT(n,Bj),Nj(n).each(i=>JT(n,i))},Wee=(n,i)=>{ZH(n,i),JQ(n,i),see(n,i),YH(n,i),ree(n,i)},qee=n=>bE(n,"NodeChange",i=>{i.setEnabled(n.queryCommandState("outdent"))}),Zee=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:qee(n),onAction:fd(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:fd(n,"indent")})},Gee=n=>{Zee(n)},P7=(n,i)=>f=>{f.setActive(i.get());const g=w=>{i.set(w.state),f.setActive(w.state)};return n.on("PastePlainTextToggle",g),()=>n.off("PastePlainTextToggle",g)},Kee=n=>{const i=$e(VR(n)),f=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:f,onSetup:P7(n,i)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:f,onSetup:P7(n,i)})},QT=(n,i)=>()=>{n.execCommand("mceToggleFormat",!1,i)},Yee=n=>{hv.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(i,f)=>{n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onSetup:IT(n,i.name),onAction:QT(n,i.name)})});for(let i=1;i<=6;i++){const f="h"+i;n.ui.registry.addToggleButton(f,{text:f.toUpperCase(),tooltip:"Heading "+i,onSetup:IT(n,f),onAction:QT(n,f)})}},Xee=n=>{hv.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{n.ui.registry.addButton(i.name,{tooltip:i.text,icon:i.icon,onAction:fd(n,i.action)})})},F7=n=>{hv.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],i=>{n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:fd(n,i.action),onSetup:IT(n,i.name)})})},Pj=n=>{Yee(n),Xee(n),F7(n)},Fj=n=>{hv.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{n.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:fd(n,i.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:QT(n,"code")})},R7=n=>{Pj(n),Fj(n)},eO=(n,i)=>bE(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",f=>{f.setEnabled(!n.mode.isReadOnly()&&n.undoManager[i]())}),Jee=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:eO(n,"hasUndo"),onAction:fd(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:eO(n,"hasRedo"),onAction:fd(n,"redo")})},Qee=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:eO(n,"hasUndo"),onAction:fd(n,"undo")}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:eO(n,"hasRedo"),onAction:fd(n,"redo")})},ete=n=>{Jee(n),Qee(n)},Rj=n=>bE(n,"VisualAid",i=>{i.setActive(n.hasVisual)}),tte=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Rj(n),onAction:fd(n,"mceToggleVisualAid")})},nte=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:fd(n,"mceToggleVisualAid")})},ote=n=>{nte(n),tte(n)},rte=(n,i)=>{Lee(n),R7(n),Wee(n,i),ete(n),XG(n),ote(n),Gee(n),Uee(n),Kee(n)},ste=n=>v(n)?n.split(/[ ,]/):n,Mj=n=>i=>i.options.get(n),ate=n=>{const i=n.options.register;i("contextmenu_avoid_overlap",{processor:"string",default:""}),i("contextmenu_never_use_native",{processor:"boolean",default:!1}),i("contextmenu",{processor:f=>f===!1?{value:[],valid:!0}:v(f)||O(f,v)?{value:ste(f),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},Ij=Mj("contextmenu_never_use_native"),Lj=Mj("contextmenu_avoid_overlap"),ite=n=>M7(n).length===0,M7=n=>{const i=n.ui.registry.getAll().contextMenus,f=n.options.get("contextmenu");return n.options.isSet("contextmenu")?f:tt(f,g=>eo(i,g))},EE=(n,i)=>({type:"makeshift",x:n,y:i}),lte=(n,i,f)=>EE(n.x+i,n.y+f),Hj=n=>n.type==="longpress"||n.type.indexOf("touch")===0,Lb=n=>{if(Hj(n)){const i=n.touches[0];return EE(i.pageX,i.pageY)}else return EE(n.pageX,n.pageY)},jj=n=>{if(Hj(n)){const i=n.touches[0];return EE(i.clientX,i.clientY)}else return EE(n.clientX,n.clientY)},cte=(n,i)=>{const f=kx.DOM.getPos(n);return lte(i,f.x,f.y)},ute=(n,i)=>i.type==="contextmenu"||i.type==="longpress"?n.inline?Lb(i):cte(n.getContentAreaContainer(),jj(i)):zj(n),zj=n=>({type:"selection",root:dn.fromDom(n.selection.getNode())}),fte=n=>({type:"node",node:U.some(dn.fromDom(n.selection.getNode())),root:dn.fromDom(n.getBody())}),I7=(n,i,f)=>{switch(f){case"node":return fte(n);case"point":return ute(n,i);case"selection":return zj(n)}},dte=(n,i,f,g,w,_)=>{const M=f(),V=I7(n,i,_);Db(M,Bh.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:U.none()}).map(J=>{i.preventDefault(),ei.showMenuAt(w,{anchor:V},{menu:{markers:Id("normal")},data:J})})},hte={onLtr:()=>[sl,Il,yl,Gl,da,Ll,Yp,dE,fE,fT,uE,uT],onRtl:()=>[sl,yl,Il,da,Gl,Ll,Yp,dE,uE,uT,fE,fT]},pte=12,gte={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},mte=(n,i)=>{const f=n.selection;if(f.isCollapsed()||i.touches.length<1)return!1;{const g=i.touches[0],w=f.getRng();return L0(n.getWin(),I0.domRange(w)).exists(M=>M.left<=g.clientX&&M.right>=g.clientX&&M.top<=g.clientY&&M.bottom>=g.clientY)}},vte=n=>{const i=n.selection.getRng(),f=()=>{R2.setEditorTimeout(n,()=>{n.selection.setRng(i)},10),_()};n.once("touchend",f);const g=M=>{M.preventDefault(),M.stopImmediatePropagation()};n.on("mousedown",g,!0);const w=()=>_();n.once("longpresscancel",w);const _=()=>{n.off("touchend",f),n.off("longpresscancel",w),n.off("mousedown",g)}},bte=(n,i,f)=>{const g=I7(n,i,f);return{bubble:Dp(0,f==="point"?pte:0,gte),layouts:hte,overrides:{maxWidthFunction:l7(),maxHeightFunction:$0()},...g}},yte=(n,i,f,g,w,_,M)=>{const V=bte(n,i,_);Db(f,Bh.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!0,search:U.none()}).map(J=>{i.preventDefault();const ne=M?Ql.HighlightMenuAndItem:Ql.HighlightNone;ei.showMenuWithinBounds(w,{anchor:V},{menu:{markers:Id("normal"),highlightOnOpen:ne},data:J,type:"horizontal"},()=>U.some(kj(n,g.shared,_==="node"?"node":"selection"))),n.dispatch(Ib)})},Vj=(n,i,f,g,w,_)=>{const M=Nl(),V=M.os.isiOS(),J=M.os.isMacOS(),ne=M.os.isAndroid(),de=M.deviceType.isTouch(),ye=()=>!(ne||V||J&&de),Ne=()=>{const Pe=f();yte(n,i,Pe,g,w,_,ye())};if((J||V)&&_!=="node"){const Pe=()=>{vte(n),Ne()};mte(n,i)?Pe():(n.once("selectionchange",Pe),n.once("touchend",()=>n.off("selectionchange",Pe)))}else Ne()},L7=n=>v(n)?n==="|":n.type==="separator",H7={type:"separator"},hw=n=>{const i=f=>({text:f.text,icon:f.icon,enabled:f.enabled,shortcut:f.shortcut});if(v(n))return n;switch(n.type){case"separator":return H7;case"submenu":return{type:"nestedmenuitem",...i(n),getSubmenuItems:()=>{const g=n.getSubmenuItems();return v(g)?g:me(g,hw)}};default:const f=n;return{type:"menuitem",...i(f),onAction:I(f.onAction)}}},Uj=(n,i)=>{if(i.length===0)return n;const g=zn(n).filter(w=>!L7(w)).fold(()=>[],w=>[H7]);return n.concat(g).concat(i).concat([H7])},wte=(n,i,f)=>{const g=at(i,(w,_)=>pn(n,_.toLowerCase()).map(M=>{const V=M.update(f);if(v(V))return Uj(w,V.split(" "));if(V.length>0){const J=me(V,hw);return Uj(w,J)}else return w}).getOrThunk(()=>w.concat([_])),[]);return g.length>0&&L7(g[g.length-1])&&g.pop(),g},j7=(n,i)=>i.ctrlKey&&!Ij(n),Cte=n=>n.type==="longpress"||eo(n,"touches"),Wj=(n,i)=>!Cte(i)&&(i.button!==2||i.target===n.getBody()&&i.pointerType===""),qj=(n,i)=>Wj(n,i)?n.selection.getStart(!0):i.target,Ste=(n,i)=>{const f=Lj(n),g=Wj(n,i)?"selection":"point";if(Zt(f)){const w=qj(n,i);return X2(dn.fromDom(w),f)?"node":g}else return g},xte=(n,i,f)=>{const w=Nl().deviceType.isTouch,_=ic(ei.sketch({dom:{tag:"div"},lazySink:i,onEscape:()=>n.focus(),onShow:()=>f.setContextMenuState(!0),onHide:()=>f.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Mn([Mr("dismissContextMenu",[on(Tp(),(J,ne)=>{Rr.close(J),n.focus()})])])})),M=()=>ei.hide(_),V=J=>{if(Ij(n)&&J.preventDefault(),j7(n,J)||ite(n))return;const ne=Ste(n,J),de=()=>{const Ne=qj(n,J),Pe=n.ui.registry.getAll(),rt=M7(n);return wte(Pe.contextMenus,rt,Ne)};(w()?Vj:dte)(n,J,de,f,_,ne)};n.on("init",()=>{const J="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(w()?"":" ResizeWindow");n.on(J,M),n.on("longpress contextmenu",V)})},z7=It.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),tO=n=>i=>i.translate(-n.left,-n.top),nO=n=>i=>i.translate(n.left,n.top),_m=n=>(i,f)=>at(n,(g,w)=>w(g),Er(i,f)),oO=(n,i,f)=>n.fold(_m([nO(f),tO(i)]),_m([tO(i)]),_m([])),pw=(n,i,f)=>n.fold(_m([nO(f)]),_m([]),_m([nO(i)])),Zj=(n,i,f)=>n.fold(_m([]),_m([tO(f)]),_m([nO(i),tO(f)])),Ete=(n,i,f,g,w,_)=>{const M=pw(n,w,_),V=pw(i,w,_);return Math.abs(M.left-V.left)<=f&&Math.abs(M.top-V.top)<=g},kte=(n,i,f,g,w,_)=>{const M=pw(n,w,_),V=pw(i,w,_),J=Math.abs(M.left-V.left),ne=Math.abs(M.top-V.top);return Er(J,ne)},Gj=(n,i,f)=>{const g=n.fold((w,_)=>({position:U.some("absolute"),left:U.some(w+"px"),top:U.some(_+"px")}),(w,_)=>({position:U.some("absolute"),left:U.some(w-f.left+"px"),top:U.some(_-f.top+"px")}),(w,_)=>({position:U.some("fixed"),left:U.some(w+"px"),top:U.some(_+"px")}));return{right:U.none(),bottom:U.none(),...g}},Ate=(n,i,f)=>n.fold((g,w)=>Hb(g+i,w+f),(g,w)=>vv(g+i,w+f),(g,w)=>jb(g+i,w+f)),V7=(n,i,f,g)=>{const w=(_,M)=>(V,J)=>{const ne=_(i,f,g);return M(V.getOr(ne.left),J.getOr(ne.top))};return n.fold(w(Zj,Hb),w(pw,vv),w(oO,jb))},Hb=z7.offset,vv=z7.absolute,jb=z7.fixed,Kj=(n,i)=>{const f=Ro(n,i);return A(f)?NaN:parseInt(f,10)},Tte=(n,i)=>{const f=n.element,g=Kj(f,i.leftAttr),w=Kj(f,i.topAttr);return isNaN(g)||isNaN(w)?U.none():U.some(Er(g,w))},Ote=(n,i,f)=>{const g=n.element;Fn(g,i.leftAttr,f.left+"px"),Fn(g,i.topAttr,f.top+"px")},_te=(n,i)=>{const f=n.element;et(f,i.leftAttr),et(f,i.topAttr)},Yj=(n,i,f,g)=>Tte(n,i).fold(()=>f,w=>jb(w.left+g.left,w.top+g.top)),$te=(n,i,f,g,w,_)=>{const M=Yj(n,i,f,g),V=i.mustSnap?Bte(n,i,M,w,_):Nte(n,i,M,w,_),J=oO(M,w,_);return Ote(n,i,J),V.fold(()=>({coord:jb(J.left,J.top),extra:U.none()}),ne=>({coord:ne.output,extra:ne.extra}))},Dte=(n,i)=>{_te(n,i)},Xj=(n,i,f,g)=>oo(n,w=>{const _=w.sensor;return Ete(i,_,w.range.left,w.range.top,f,g)?U.some({output:V7(w.output,i,f,g),extra:w.extra}):U.none()}),Bte=(n,i,f,g,w)=>{const _=i.getSnapPoints(n);return Xj(_,f,g,w).orThunk(()=>at(_,(J,ne)=>{const de=ne.sensor,ye=kte(f,de,ne.range.left,ne.range.top,g,w);return J.deltas.fold(()=>({deltas:U.some(ye),snap:U.some(ne)}),Ne=>{const Pe=(ye.left+ye.top)/2,rt=(Ne.left+Ne.top)/2;return Pe<=rt?{deltas:U.some(ye),snap:U.some(ne)}:J})},{deltas:U.none(),snap:U.none()}).snap.map(J=>({output:V7(J.output,f,g,w),extra:J.extra})))},Nte=(n,i,f,g,w)=>{const _=i.getSnapPoints(n);return Xj(_,f,g,w)},U7=(n,i,f)=>({coord:V7(n.output,n.output,i,f),extra:n.extra});var Fte=Object.freeze({__proto__:null,snapTo:(n,i,f,g)=>{const w=i.getTarget(n.element);if(i.repositionTarget){const _=Vs(n.element),M=Uc(_),V=YL(w),J=U7(g,M,V),ne=Gj(J.coord,M,V);is(w,ne)}}});const W7="data-initial-z-index",Rte=n=>{ga(n.element).filter(Or).each(i=>{he(i,W7).fold(()=>rr(i,"z-index"),f=>Wn(i,"z-index",f)),et(i,W7)})},Mte=n=>{ga(n.element).filter(Or).each(i=>{hs(i,"z-index").each(f=>{Fn(i,W7,f)}),Wn(i,"z-index",nn(n.element,"z-index"))})},Jj=(n,i)=>{n.getSystem().addToGui(i),Mte(i)},Ite=n=>{Rte(n),n.getSystem().removeFromGui(n)},Qj=(n,i,f)=>n.getSystem().build(xm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[i]},events:f}));var Lte=sc("snaps",[ln("getSnapPoints"),qr("onSensor"),ln("leftAttr"),ln("topAttr"),_t("lazyViewport",Hi),_t("mustSnap",!1)]);const q7=[_t("useFixed",pe),ln("blockerClass"),_t("getTarget",oe),_t("onDrag",P),_t("repositionTarget",!0),_t("onDrop",P),mi("getBounds",Hi),Lte],Hte=n=>Jo(hs(n,"left"),hs(n,"top"),hs(n,"position"),(i,f,g)=>(g==="fixed"?jb:Hb)(parseInt(i,10),parseInt(f,10))).getOrThunk(()=>{const i=Xr(n);return vv(i.left,i.top)}),jte=(n,i,f,g,w)=>{const _=w.bounds,M=pw(i,f,g),V=Jc(M.left,_.x,_.x+_.width-w.width),J=Jc(M.top,_.y,_.y+_.height-w.height),ne=vv(V,J);return i.fold(()=>{const de=Zj(ne,f,g);return Hb(de.left,de.top)},j(ne),()=>{const de=oO(ne,f,g);return jb(de.left,de.top)})},zte=(n,i,f,g,w,_,M)=>{const V=i.fold(()=>{const J=Ate(f,_.left,_.top),ne=oO(J,g,w);return jb(ne.left,ne.top)},J=>{const ne=$te(n,J,f,_,g,w);return ne.extra.each(de=>{J.onSensor(n,de)}),ne.coord});return jte(n,V,g,w,M)},Vte=(n,i,f,g)=>{const w=i.getTarget(n.element);if(i.repositionTarget){const _=Vs(n.element),M=Uc(_),V=YL(w),J=Hte(w),ne=zte(n,i.snaps,J,M,V,g,f),de=Gj(ne,M,V);is(w,de)}i.onDrag(n,w,g)},ez=(n,i)=>({bounds:n.getBounds(),height:ro(i.element),width:Os(i.element)}),Z7=(n,i,f,g,w)=>{const _=f.update(g,w),M=f.getStartData().getOrThunk(()=>ez(i,n));_.each(V=>{Vte(n,i,M,V)})},tz=(n,i,f,g)=>{i.each(Ite),f.snaps.each(_=>{Dte(n,_)});const w=f.getTarget(n.element);g.reset(),f.onDrop(n,w)},G7=n=>(i,f)=>{const g=w=>{f.setStartData(ez(i,w))};return Dr([on(zC(),w=>{f.getStartData().each(()=>g(w))}),...n(i,f,g)])},Ute=n=>Dr([on(tl(),n.forceDrop),on(Cy(),n.drop),on(Gc(),(i,f)=>{n.move(f.event)}),on(qf(),n.delayDrop)]);var nz=Object.freeze({__proto__:null,getData:n=>U.from(Er(n.x,n.y)),getDelta:(n,i)=>Er(i.left-n.left,i.top-n.top)});const bv=(n,i,f)=>[on(tl(),(g,w)=>{if(w.event.raw.button!==0)return;w.stop();const M=()=>tz(g,U.some(ne),n,i),V=$M(M,200),J={drop:M,delayDrop:V.schedule,forceDrop:M,move:ye=>{V.cancel(),Z7(g,n,i,nz,ye)}},ne=Qj(g,n.blockerClass,Ute(J));(()=>{f(g),Jj(g,ne)})()})],Wte=[...q7,Qs("dragger",{handlers:G7(bv)})],K7=n=>Dr([on(ks(),n.forceDrop),on(ya(),n.drop),on(Og(),n.drop),on(zi(),(i,f)=>{n.move(f.event)})]),rO=n=>{const i=n[0];return U.some(Er(i.clientX,i.clientY))};var oz=Object.freeze({__proto__:null,getData:n=>{const f=n.raw.touches;return f.length===1?rO(f):U.none()},getDelta:(n,i)=>Er(i.left-n.left,i.top-n.top)});const rz=(n,i,f)=>{const g=Ea(),w=_=>{tz(_,g.get(),n,i),g.clear()};return[on(ks(),(_,M)=>{M.stop();const V=()=>w(_),J={drop:V,delayDrop:P,forceDrop:V,move:ye=>{Z7(_,n,i,oz,ye)}},ne=Qj(_,n.blockerClass,K7(J));g.set(ne),(()=>{f(_),Jj(_,ne)})()}),on(zi(),(_,M)=>{M.stop(),Z7(_,n,i,oz,M.event)}),on(ya(),(_,M)=>{M.stop(),w(_)}),on(Og(),w)]},qte=[...q7,Qs("dragger",{handlers:G7(rz)})],zb=(n,i,f)=>[...bv(n,i,f),...rz(n,i,f)],sz=[...q7,Qs("dragger",{handlers:G7(zb)})];var Zte=Object.freeze({__proto__:null,mouse:Wte,touch:qte,mouseOrTouch:sz}),Gte=Object.freeze({__proto__:null,init:()=>{let n=U.none(),i=U.none();const f=()=>{n=U.none(),i=U.none()},g=(J,ne)=>{const de=n.map(ye=>J.getDelta(ye,ne));return n=U.some(ne),de},w=(J,ne)=>J.getData(ne).bind(de=>g(J,de)),_=J=>{i=U.some(J)},M=()=>i,V=j({});return hu({readState:V,reset:f,update:w,getStartData:M,setStartData:_})}});const Vb=F3({branchKey:"mode",branches:Zte,name:"dragging",active:{events:(n,i)=>n.dragger.handlers(n,i)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:U.from(n.extra)})},state:Gte,apis:Fte}),Y7=40,gw=Y7/2,mw=(n,i,f,g,w,_)=>n.fold(()=>Vb.snap({sensor:vv(f-gw,g-gw),range:Er(w,_),output:vv(U.some(f),U.some(g)),extra:{td:i}}),M=>{const V=f-gw,J=g-gw,ne=Y7,de=Y7,ye=M.element.dom.getBoundingClientRect();return Vb.snap({sensor:vv(V,J),range:Er(ne,de),output:vv(U.some(f-ye.width/2),U.some(g-ye.height/2)),extra:{td:i}})}),sO=(n,i,f)=>{const g=(w,_)=>w.exists(M=>Cr(M,_));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(w,_)=>{const M=_.td;g(i.get(),M)||(i.set(M),f(M))},mustSnap:!0}},kE=n=>ta(eu.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Mn([Vb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),ew.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Ub=(n,i)=>{const f=$e([]),g=$e([]),w=$e(!1),_=Ea(),M=Ea(),V=so=>{const Mo=ea(so);return mw(Pe.getOpt(i),so,Mo.x,Mo.y,Mo.width,Mo.height)},J=()=>me(f.get(),so=>V(so)),ne=so=>{const Mo=ea(so);return mw(rt.getOpt(i),so,Mo.right,Mo.bottom,Mo.width,Mo.height)},de=()=>me(g.get(),so=>ne(so)),ye=sO(J,_,so=>{M.get().each(Mo=>{n.dispatch("TableSelectorChange",{start:so,finish:Mo})})}),Ne=sO(de,M,so=>{_.get().each(Mo=>{n.dispatch("TableSelectorChange",{start:Mo,finish:so})})}),Pe=kE(ye),rt=kE(Ne),bt=ic(Pe.asSpec()),Mt=ic(rt.asSpec()),kt=(so,Mo,Vo,Ir)=>{const os=Mo.dom.getBoundingClientRect();rr(so.element,"display");const Po=Ai(dn.fromDom(n.getBody())).dom.innerHeight,rs=Vo(os),cs=Ir(os,Po);(rs||cs)&&Wn(so.element,"display","none")},Lt=(so,Mo,Vo,Ir)=>{const os=Vo(Mo);Vb.snapTo(so,os),kt(so,Mo,cs=>cs[Ir]<0,(cs,ss)=>cs[Ir]>ss)},Zn=so=>Lt(bt,so,V,"top"),Xt=()=>_.get().each(Zn),Qn=so=>Lt(Mt,so,ne,"bottom"),ho=()=>M.get().each(Qn);Nl().deviceType.isTouch()&&(n.on("TableSelectionChange",so=>{w.get()||(Rp(i,bt),Rp(i,Mt),w.set(!0)),_.set(so.start),M.set(so.finish),so.otherCells.each(Mo=>{f.set(Mo.upOrLeftCells),g.set(Mo.downOrRightCells),Zn(so.start),Qn(so.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{Xt(),ho()}),n.on("TableSelectionClear",()=>{w.get()&&(zl(bt),zl(Mt),w.set(!1)),_.clear(),M.clear()}))};var aO=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const Kte=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",az=(n,i,f)=>{var g;const w=(g=i.delimiter)!==null&&g!==void 0?g:"\u203A",_=(ne,de,ye)=>eu.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ye,"aria-level":ye+1}},components:[Xa(ne)],action:Ne=>{n.focus(),n.selection.select(de),n.nodeChanged()},buttonBehaviours:Mn([qu.button(f.isDisabled),Wi()])}),M=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Xa(` ${w} `)]}),V=ne=>at(ne,(de,ye,Ne)=>{const Pe=_(ye.name,ye.element,Ne);return Ne===0?de.concat([Pe]):de.concat([M(),Pe])},[]),J=ne=>{const de=[];let ye=ne.length;for(;ye-- >0;){const Ne=ne[ye];if(Ne.nodeType===1&&!Kte(Ne)){const Pe=i6(n,Ne);if(Pe.isDefaultPrevented()||de.push({name:Pe.name,element:Ne}),Pe.isPropagationStopped())break}}return de};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Mn([No.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:f.isDisabled}),Wi(),li.config({}),kr.config({}),Mr("elementPathEvents",[Ya((ne,de)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>No.focusIn(ne)),n.on("NodeChange",ye=>{const Ne=J(ye.parents),Pe=Ne.length>0?V(Ne):[];kr.set(ne,Pe)})})])]),components:[]}};var yv;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(yv||(yv={}));const iz=(n,i,f,g,w)=>{const _={height:qT(g+i.top,bm(n),xD(n))};return f===yv.Both&&(_.width=qT(w+i.left,Ox(n),iA(n))),_},lz=(n,i,f)=>{const g=dn.fromDom(n.getContainer()),w=iz(n,i,f,Vt(g),Us(g));sn(w,(_,M)=>{B(_)&&Wn(g,M,WT(_))}),G2(n)},Yte=n=>{const i=zR(n);return i===!1?yv.None:i==="both"?yv.Both:yv.Vertical},iO=(n,i,f,g)=>{const _=Er(f*20,g*20);return lz(n,_,i),U.some(!0)},cz=(n,i)=>{const f=Yte(n);return f===yv.None?U.none():U.some(Dh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:i.translate("Resize")},behaviours:[Vb.config({mode:"mouse",repositionTarget:!1,onDrag:(g,w,_)=>lz(n,_,f),blockerClass:"tox-blocker"}),No.config({mode:"special",onLeft:()=>iO(n,f,-1,0),onRight:()=>iO(n,f,1,0),onUp:()=>iO(n,f,0,-1),onDown:()=>iO(n,f,0,1)}),li.config({}),qo.config({})]},i.icons))},uz=(n,i)=>{const f=(g,w,_)=>kr.set(g,[Xa(i.translate(["{0} "+_,w[_]]))]);return eu.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Mn([qu.button(i.isDisabled),Wi(),li.config({}),kr.config({}),qn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Mr("wordcount-events",[mh(g=>{const w=qn.getValue(g),_=w.mode==="words"?"characters":"words";qn.setValue(g,{mode:_,count:w.count}),f(g,w.count,_)}),Ya(g=>{n.on("wordCountUpdate",w=>{const{mode:_}=qn.getValue(g);qn.setValue(g,{mode:_,count:w.wordCount}),f(g,w.wordCount,_)})})])]),eventOrder:{[fu()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},X7=(n,i)=>{const f=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Md.translate(["Powered by {0}","Tiny"])},innerHtml:aO.trim()},behaviours:Mn([qo.config({})])}]}),g=()=>{const _=[];return HR(n)&&_.push(az(n,{},i)),n.hasPlugin("wordcount")&&_.push(uz(n,i)),jR(n)&&_.push(f()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=g(),M=cz(n,i);return _.concat(M.toArray())})()}},fz=n=>n.get().getOrDie("UI has not been rendered"),Xte=n=>{const i=n.inline,f=i?Oee:hj,g=pb(n)?jJ:OJ,w=Ea(),_=Ea(),M=Ea(),V=Ea(),ye=Nl().deviceType.isTouch()?["tox-platform-touch"]:[],Ne=OD(n),Pe=hb(n),rt=ta({dom:{tag:"div",classes:["tox-anchorbar"]}}),bt=()=>_.get().bind(ja.getHeader),Mt=()=>er.fromOption(w.get(),"UI has not been rendered"),kt=()=>_.get().bind(ss=>rt.getOpt(ss)).getOrDie("Could not find a anchor bar element"),Lt=()=>_.get().bind(ss=>ja.getToolbar(ss)).getOrDie("Could not find more toolbar element"),Zn=()=>_.get().bind(ss=>ja.getThrobber(ss)).getOrDie("Could not find throbber element"),Xt=SJ(Mt,n,kt),Qn=()=>{const ss={attributes:{[Oh]:Ne?Th.BottomToTop:Th.TopToBottom}},Ln=ja.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Xt,onEscape:()=>{n.focus()}}),co=ja.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Mt,providers:Xt.shared.providers,onEscape:()=>{n.focus()},type:Pe,lazyToolbar:Lt,lazyHeader:()=>bt().getOrDie("Could not find header element"),...ss}),nr=ja.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Xt.shared.providers,onEscape:()=>{n.focus()},type:Pe}),Lr=_x(n),js=dA(n),Ua=H2(n),Dc=WR(n),ou=ho(),Gb=()=>Lr?[nr]:js?[co]:[],mO=Dc?[ou,Ln]:[Ln];return ja.parts.header({dom:{tag:"div",classes:["tox-editor-header"],...ss},components:Oe([Ua?mO:[],Gb(),$x(n)?[]:[rt.asSpec()]]),sticky:pb(n),editor:n,sharedBackstage:Xt.shared})},ho=()=>ja.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),so=()=>{const ss=ja.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ln=ja.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ss,Ln]}},Mo=()=>{const ss=_D(n),Ln=Cr(Ke(),ss)&&nn(ss,"display")==="grid",co={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ye),attributes:{...Md.isRtl()?{dir:"rtl"}:{}}},behaviours:Mn([fc.config({useFixed:()=>g.isDocked(bt)})])},nr={dom:{styles:{width:document.body.clientWidth+"px"}},events:Dr([on(l0(),Ua=>{Wn(Ua.element,"width",document.body.clientWidth+"px")})])},Lr=ic(Ws(co,Ln?nr:{})),js=FM(Lr);return w.set(Lr),V.set(js),{sink:Lr,uiMothership:js}},Vo=()=>{const ss=Qn(),Ln=so(),co=ja.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Xt}),nr=LR(n)&&!i?U.some(X7(n,Xt.shared.providers)):U.none(),Lr=Oe([Ne?[]:[ss],i?[]:[Ln],Ne?[ss]:[]]),Ua=Oe([[{dom:{tag:"div",classes:["tox-editor-container"]},components:Lr}],i?[]:nr.toArray(),[co]]),Dc=$D(n),ou={role:"application",...Md.isRtl()?{dir:"rtl"}:{},...Dc?{"aria-hidden":"true"}:{}},Gb=ic(ja.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(Ne?["tox-tinymce--toolbar-bottom"]:[]).concat(ye),styles:{visibility:"hidden",...Dc?{opacity:"0",border:"0"}:{}},attributes:ou},components:Ua,behaviours:Mn([Wi(),Bo.config({disableClass:"tox-tinymce--disabled"}),No.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),mO=FM(Gb);return _.set(Gb),M.set(mO),{mothership:mO,outerContainer:Gb}},Ir=ss=>{const Ln=WT(kee(n)),co=WT(Aee(n));return n.inline||(Dl("div","width",co)&&Wn(ss.element,"width",co),Dl("div","height",Ln)?Wn(ss.element,"height",Ln):Wn(ss.element,"height","400px")),Ln},os=ss=>{n.addShortcut("alt+F9","focus menubar",()=>{ja.focusMenubar(ss)}),n.addShortcut("alt+F10","focus toolbar",()=>{ja.focusToolbar(ss)}),n.addCommand("ToggleToolbarDrawer",()=>{ja.toggleToolbarDrawer(ss)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>ja.isToolbarDrawerToggled(ss))};return{getMothership:()=>fz(M),getUiMothership:()=>fz(V),backstage:Xt,renderUI:()=>{const{mothership:ss,outerContainer:Ln}=Vo(),{uiMothership:co,sink:nr}=Mo();kn(cA(n),(EAe,kAe)=>{n.ui.registry.addGroupToolbarButton(kAe,EAe)});const{buttons:Lr,menuItems:js,contextToolbars:Ua,sidebars:Dc}=n.ui.registry.getAll(),ou=hA(n),Gb={menuItems:js,menus:KR(n),menubar:uA(n),toolbar:ou.getOrThunk(()=>L2(n)),allowToolbarGroups:Pe===sd.floating,buttons:Lr,sidebar:Dc};os(Ln),UL(n,ss,co),g.setup(n,Xt.shared,bt),rte(n,Xt),xte(n,Mt,Xt),aQ(n),mQ(n,Zn,Xt.shared),Iee(n,Ua,nr,{backstage:Xt}),Ub(n,nr);const mO=n.getElement(),CAe=Ir(Ln),SAe={mothership:ss,uiMothership:co,outerContainer:Ln,sink:nr},xAe={targetNode:mO,height:CAe};return f.render(n,SAe,Gb,Xt,xAe)}}},Jte=(n,i)=>{const f=U.from(Ro(n,"id")).fold(()=>{const g=fo("dialog-describe");return Fn(i,"id",g),g},oe);Fn(n,"aria-describedby",f)},dz=(n,i)=>{const f=he(n,"id").fold(()=>{const g=fo("dialog-label");return Fn(i,"id",g),g},oe);Fn(n,"aria-labelledby",f)},Qte=j([ln("lazySink"),Kr("dragBlockClass"),mi("getBounds",Hi),_t("useTabstopAt",be),_t("eventOrder",{}),wi("modalBehaviours",[No]),Xc("onExecute"),jy("onEscape")]),J7={sketch:oe},ene=j([ju({name:"draghandle",overrides:(n,i)=>({behaviours:Mn([Vb.config({mode:"mouse",getTarget:f=>C0(f,'[role="dialog"]').getOr(f),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(i,null,2)).message),getBounds:n.getDragBounds})])})}),Vl({schema:[ln("dom")],name:"title"}),Vl({factory:J7,schema:[ln("dom")],name:"close"}),Vl({factory:J7,schema:[ln("dom")],name:"body"}),ju({factory:J7,schema:[ln("dom")],name:"footer"}),xf({factory:{sketch:(n,i)=>({...n,dom:i.dom,components:i.components})},schema:[_t("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),_t("components",[])],name:"blocker"})]),Q7=(n,i,f,g)=>{const w=Ea(),_=Pe=>{w.set(Pe);const rt=n.lazySink(Pe).getOrDie(),bt=g.blocker(),Mt=rt.getSystem().build({...bt,components:bt.components.concat([Iu(Pe)]),behaviours:Mn([qo.config({}),Mr("dialog-blocker-events",[Kc(kp(),()=>{No.focusIn(Pe)})])])});Rp(rt,Mt),No.focusIn(Pe)},M=Pe=>{w.clear(),ga(Pe.element).each(rt=>{Pe.getSystem().getByDom(rt).each(bt=>{zl(bt)})})},V=Pe=>ed(Pe,n,"body"),J=Pe=>ed(Pe,n,"footer"),ne=(Pe,rt)=>{Wd.block(Pe,rt)},de=Pe=>{Wd.unblock(Pe)},ye=fo("modal-events"),Ne={...n.eventOrder,[ph()]:[ye].concat(n.eventOrder["alloy.system.attached"]||[])};return{uid:n.uid,dom:n.dom,components:i,apis:{show:_,hide:M,getBody:V,getFooter:J,setIdle:de,setBusy:ne},eventOrder:Ne,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:al(n.modalBehaviours,[kr.config({}),No.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),Wd.config({getRoot:w.get}),Mr(ye,[Ya(Pe=>{dz(Pe.element,ed(Pe,n,"title").element),Jte(Pe.element,ed(Pe,n,"body").element)})])])}},Ci=hc({name:"ModalDialog",configFields:Qte(),partFields:ene(),factory:Q7,apis:{show:(n,i)=>{n.show(i)},hide:(n,i)=>{n.hide(i)},getBody:(n,i)=>n.getBody(i),getFooter:(n,i)=>n.getFooter(i),setBusy:(n,i,f)=>{n.setBusy(i,f)},setIdle:(n,i)=>{n.setIdle(i)}}}),tne=Oo([ti,Nx].concat(wu)),hz=Pu,pz=[yb("button"),Nh,Uf("align","end",["start","end"]),Rx,Ld,uh("buttonType",["primary","secondary"])],gz=[...pz,wm],lO=[xp("type",["submit","cancel","custom"]),...gz],nne=[xp("type",["menu"]),Cm,Px,Nh,Fl("items",tne),...pz],one=qc("type",{submit:lO,cancel:lO,custom:lO,menu:nne}),Wb=[ti,wm,xp("level",["info","warn","error","success"]),u9,_t("url","")],mz=Oo(Wb),rne=n=>[ti,n],cO=[ti,wm,Ld,yb("button"),Nh,lG,uh("buttonType",["primary","secondary","toolbar"]),Rx],vw=Oo(cO),$m=[ti,Nx],Zd=$m.concat([AA]),uO=$m.concat([kA,Ld]),Su=Oo(uO),fO=Pu,vz=Zd.concat([WD("auto")]),bz=Oo(vz),sne=kg([mb,wm,u9]),wv=Oo(Zd),ape=Da,yz=Oo(Zd),bw=Da,dO=$m.concat([Ac("tag","textarea"),Za("scriptId"),Za("scriptUrl"),W("settings",void 0)]),wz=$m.concat([Ac("tag","textarea"),gf("init")]),ane=Sp(n=>jr("customeditor.old",rc(wz),n).orThunk(()=>jr("customeditor.new",rc(dO),n))),ine=Da,lne=Oo(Zd),yw=ah(),cpe=n=>[ti,Fu("columns"),n],cne=[ti,Za("html"),Uf("presets","presentation",["presentation","document"])],une=Oo(cne),upe=Zd.concat([Tc("sandboxed",!0),Tc("transparent",!0)]),fne=Oo(upe),dne=Da,AE=Oo($m.concat([Rl("height")])),hne=Oo([Za("url"),ch("zoom"),ch("cachedWidth"),ch("cachedHeight")]),pne=Zd.concat([Rl("inputMode"),Rl("placeholder"),Tc("maximized",!1),Ld]),Cz=Oo(pne),gne=Da,fpe=n=>[ti,kA,n],t=[wm,mb],r=[wm,Fl("items",wy("items",()=>a))],a=Eg([Oo(t),Oo(r)]),u=Zd.concat([Fl("items",a),Ld]),h=Oo(u),b=Da,E=Zd.concat([c1("items",[wm,mb]),n0("size",1),Ld]),R=Oo(E),H=Da,Y=Zd.concat([Tc("constrain",!0),Ld]),ge=Oo(Y),Te=Oo([Za("width"),Za("height")]),Ae=$m.concat([kA,n0("min",0),n0("max",0)]),nt=Oo(Ae),st=Ag,Ge=[ti,Fl("header",Da),Fl("cells",ai(Da))],ct=Oo(Ge),ht=Zd.concat([Rl("placeholder"),Tc("maximized",!1),Ld]),Et=Oo(ht),$t=Da,Qt=Zd.concat([Uf("filetype","file",["image","media","file"]),Ld]),an=Oo(Qt),Bn=Oo([mb,TA]),un=n=>ji("items","items",el(),ai(Sp(i=>jr(`Checking item of ${n}`,Wt,i).fold(f=>er.error(Ed(f)),f=>er.value(f))))),Wt=uu(()=>xd("type",{alertbanner:mz,bar:Oo(rne(un("bar"))),button:vw,checkbox:Su,colorinput:wv,colorpicker:yz,dropzone:lne,grid:Oo(cpe(un("grid"))),iframe:fne,input:Cz,listbox:h,selectbox:R,sizeinput:ge,slider:nt,textarea:Et,urlinput:an,customeditor:ane,htmlpanel:une,imagepreview:AE,collection:bz,label:Oo(fpe(un("label"))),table:ct,panel:Nn})),Kt=[ti,_t("classes",[]),Fl("items",Wt)],Nn=Oo(Kt),vo=[yb("tab"),c9,Fl("items",Wt)],Ao=[ti,c1("tabs",vo)],ir=Oo(Ao),Zr=gz,vs=one,Gs=Oo([Za("title"),_i("body",xd("type",{panel:Nn,tabpanel:ir})),Ac("size","normal"),Fl("buttons",vs),_t("initialData",{}),mi("onAction",P),mi("onChange",P),mi("onSubmit",P),mi("onClose",P),mi("onCancel",P),mi("onTabChange",P)]),xl=n=>jr("dialog",Gs,n),On=Oo([xp("type",["cancel","custom"]),...Zr]),dr=Oo([Za("title"),Za("url"),ch("height"),ch("width"),Ep("buttons",On),mi("onAction",P),mi("onCancel",P),mi("onClose",P),mi("onMessage",P)]),Nr=n=>jr("dialog",dr,n),Yo=n=>y(n)?[n].concat(ve(xn(n),Yo)):x(n)?ve(n,Yo):[],ci=n=>v(n.type)&&v(n.name),io={checkbox:fO,colorinput:ape,colorpicker:bw,dropzone:yw,input:gne,iframe:dne,imagepreview:hne,selectbox:H,sizeinput:Te,slider:st,listbox:b,size:Te,textarea:$t,urlinput:Bn,customeditor:ine,collection:sne,togglemenuitem:hz},Xo=n=>U.from(io[n.type]),jo=n=>tt(Yo(n),ci),Vn=n=>{const i=jo(n),f=ve(i,g=>Xo(g).fold(()=>[],w=>[_i(g.name,w)]));return Oo(f)},Pr=n=>{var i;const f=pf(xl(n)),g=Vn(n),w=(i=n.initialData)!==null&&i!==void 0?i:{};return{internalDialog:f,dataValidator:g,initialData:w}},gr={open:(n,i)=>{const f=Pr(i);return n(f.internalDialog,f.initialData,f.dataValidator)},openUrl:(n,i)=>{const f=pf(Nr(i));return n(f)},redial:n=>Pr(n)},Go=n=>{const i=[],f={};return sn(n,(g,w)=>{g.fold(()=>{i.push(w)},_=>{f[w]=_})}),i.length>0?er.error(i):er.value(f)},tr=(n,i,f)=>{const g=ta(sw.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:me(n.items,_=>T8(w,_,i,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[g.asSpec()]}],behaviours:Mn([No.config({mode:"acyclic",useTabstopAt:Q(oE)}),ld.memento(g),cd.memento(g,{postprocess:w=>Go(w).fold(_=>(console.error(_),{}),oe)})])}},Ps=(n,i)=>({uid:n.uid,dom:n.dom,components:n.components,events:tA(n.action),behaviours:al(n.tabButtonBehaviours,[qo.config({}),No.config({mode:"execution",useSpace:!0,useEnter:!0}),qn.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),Hs=zu({name:"TabButton",configFields:[_t("uid",void 0),ln("value"),ji("dom","dom",yp(()=>({attributes:{role:"tab",id:fo("aria"),"aria-selected":"false"}})),Wc()),Kr("action"),_t("domModification",{}),wi("tabButtonBehaviours",[qo,No,qn]),ln("view")],factory:Ps}),Zi=j([ln("tabs"),ln("dom"),_t("clickToDismiss",!1),wi("tabbarBehaviours",[ls,No]),zg(["tabClass","selectedClass"])]),Na=K1({factory:Hs,name:"tabs",unit:"tab",overrides:n=>{const i=(g,w)=>{ls.dehighlight(g,w),Ho(g,X4(),{tabbar:g,button:w})},f=(g,w)=>{ls.highlight(g,w),Ho(g,Ty(),{tabbar:g,button:w})};return{action:g=>{const w=g.getSystem().getByUid(n.uid).getOrDie(),_=ls.isHighlighted(w,g);(()=>_&&n.clickToDismiss?i:_?P:f)()(w,g)},domModification:{classes:[n.markers.tabClass]}}}}),ka=j([Na]),Ni=(n,i,f,g)=>({uid:n.uid,dom:n.dom,components:i,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:al(n.tabbarBehaviours,[ls.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(w,_)=>{Fn(_.element,"aria-selected","true")},onDehighlight:(w,_)=>{Fn(_.element,"aria-selected","false")}}),No.config({mode:"flow",getInitial:w=>ls.getHighlighted(w).map(_=>_.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),Wl=hc({name:"Tabbar",configFields:Zi(),partFields:ka(),factory:Ni}),Gi=(n,i)=>({uid:n.uid,dom:n.dom,behaviours:al(n.tabviewBehaviours,[kr.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Vh=zu({name:"Tabview",configFields:[wi("tabviewBehaviours",[kr])],factory:Gi}),dd=j([_t("selectFirst",!0),qr("onChangeTab"),qr("onDismissTab"),_t("tabs",[]),wi("tabSectionBehaviours",[])]),Uh=Vl({factory:Wl,schema:[ln("dom"),kc("markers",[ln("tabClass"),ln("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),Wh=Vl({factory:Vh,name:"tabview"}),qh=j([Uh,Wh]),Zh=(n,i,f,g)=>{const w=M=>{const V=qn.getValue(M);qs(M,n,"tabview").each(J=>{Re(n.tabs,de=>de.value===V).each(de=>{const ye=de.view();he(M.element,"id").each(Ne=>{Fn(J.element,"aria-labelledby",Ne)}),kr.set(J,ye),n.onChangeTab(J,M,ye)})})},_=(M,V)=>{qs(M,n,"tabbar").each(J=>{V(J).each(du)})};return{uid:n.uid,dom:n.dom,components:i,behaviours:Z1(n.tabSectionBehaviours),events:Dr(Oe([n.selectFirst?[Ya((M,V)=>{_(M,ls.getFirst)})]:[],[on(Ty(),(M,V)=>{const J=V.event.button;w(J)}),on(X4(),(M,V)=>{const J=V.event.button;n.onDismissTab(M,J)})]])),apis:{getViewItems:M=>qs(M,n,"tabview").map(V=>kr.contents(V)).getOr([]),showTab:(M,V)=>{_(M,ne=>{const de=ls.getCandidates(ne);return Re(de,Ne=>qn.getValue(Ne)===V).filter(Ne=>!ls.isHighlighted(ne,Ne))})}}}},za=hc({name:"TabSection",configFields:dd(),partFields:qh(),factory:Zh,apis:{getViewItems:(n,i)=>n.getViewItems(i),showTab:(n,i,f)=>{n.showTab(i,f)}}}),hd=(n,i,f)=>me(n,(g,w)=>{kr.set(f,n[w].view());const _=i.dom.getBoundingClientRect();return kr.set(f,[]),_.height}),Gh=n=>Kn(qt(n,(i,f)=>i>f?-1:i<f?1:0)),qb=(n,i,f)=>{const g=Oa(n).dom,w=C0(n,".tox-dialog-wrap").getOr(n),_=nn(w,"position")==="fixed";let M;_?M=Math.max(g.clientHeight,window.innerHeight):M=Math.max(g.offsetHeight,g.scrollHeight);const V=Vt(i),ne=i.dom.offsetLeft>=f.dom.offsetLeft+Us(f)?Math.max(Vt(f),V):V,de=parseInt(nn(n,"margin-top"),10)||0,ye=parseInt(nn(n,"margin-bottom"),10)||0,Pe=Vt(n)+de+ye-ne;return M-Pe},Gd=(n,i)=>{Kn(n).each(f=>za.showTab(i,f.value))},Xu=(n,i)=>{Wn(n,"height",i+"px"),Wn(n,"flex-basis",i+"px")},ec=(n,i,f)=>{C0(n,'[role="dialog"]').each(g=>{$i(g,'[role="tablist"]').each(w=>{f.get().map(_=>(Wn(i,"height","0"),Wn(i,"flex-basis","0"),Math.min(_,qb(g,i,w)))).each(_=>{Xu(i,_)})})})},_f=n=>$i(n,'[role="tabpanel"]'),$f=n=>{const i=Ea();return{extraEvents:[Ya(w=>{const _=w.element;_f(_).each(M=>{Wn(M,"visibility","hidden"),w.getSystem().getByDom(M).toOptional().each(V=>{const J=hd(n,M,V);Gh(J).fold(i.clear,i.set)}),ec(_,M,i),rr(M,"visibility"),Gd(n,w),requestAnimationFrame(()=>{ec(_,M,i)})})}),on(l0(),w=>{const _=w.element;_f(_).each(M=>{ec(_,M,i)})}),on(B6,(w,_)=>{const M=w.element;_f(M).each(V=>{const J=cc(or(V));Wn(V,"visibility","hidden");const ne=hs(V,"height").map(Ne=>parseInt(Ne,10));rr(V,"height"),rr(V,"flex-basis");const de=V.dom.getBoundingClientRect().height;ne.forall(Ne=>de>Ne)?(i.set(de),ec(M,V,i)):ne.each(Ne=>{Xu(V,Ne)}),rr(V,"visibility"),J.each(kh)})})],selectFirst:!1}},Cv="send-data-to-section",TE="send-data-to-view",Dm=(n,i,f)=>{const g=$e({}),w=ne=>{const de=qn.getValue(ne),ye=Go(de).getOr({}),Ne=g.get(),Pe=Ws(Ne,ye);g.set(Pe)},_=ne=>{const de=g.get();qn.setValue(ne,de)},M=$e(null),V=me(n.tabs,ne=>({value:ne.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Xa(f.shared.providers.translate(ne.title))],view:()=>[sw.sketch(de=>({dom:{tag:"div",classes:["tox-form"]},components:me(ne.items,ye=>T8(de,ye,i,f)),formBehaviours:Mn([No.config({mode:"acyclic",useTabstopAt:Q(oE)}),Mr("TabView.form.events",[Ya(_),Gf(w)]),wf.config({channels:Ns([{key:Cv,value:{onReceive:w}},{key:TE,value:{onReceive:_}}])})])}))]})),J=$f(V);return za.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(ne,de,ye)=>{const Ne=qn.getValue(de);Ho(ne,D6,{name:Ne,oldName:M.get()}),M.set(Ne)},tabs:V,components:[za.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Wl.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Mn([li.config({})])}),za.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:J.selectFirst,tabSectionBehaviours:Mn([Mr("tabpanel",J.extraEvents),No.config({mode:"acyclic"}),Ur.config({find:ne=>Kn(za.getViewItems(ne))}),cd.withComp(U.none(),ne=>(ne.getSystem().broadcastOn([Cv],{}),g.get()),(ne,de)=>{g.set(de),ne.getSystem().broadcastOn([TE],{})})])})},Jp=fo("update-dialog"),OE=fo("update-title"),hO=fo("update-body"),_E=fo("update-footer"),pO=fo("body-send-message"),gO=(n,i,f,g,w)=>{const _=J=>{const ne=J.body;switch(ne.type){case"tabpanel":return[Dm(ne,J.initialData,g)];default:return[tr(ne,J.initialData,g)]}},M=(J,ne)=>U.some({isTabPanel:()=>ne.body.type==="tabpanel"}),V={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...f.map(J=>({id:J})).getOr({}),...w?V:{}}},components:[],behaviours:Mn([ld.childAt(0),Yu.config({channel:`${hO}-${i}`,updateState:M,renderComponents:_,initialData:n})])}},Sv=(n,i,f,g,w)=>gO(n,i,U.some(f),g,w),Zb=(n,i,f)=>{const g=gO(n,i,U.none(),f,!1);return Ci.parts.body(g)},Rt=n=>{const i={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[a8({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:Mn([li.config({}),qo.config({})])})]}],behaviours:Mn([No.config({mode:"acyclic",useTabstopAt:Q(oE)})])};return Ci.parts.body(i)},Ht=M2.deviceType.isTouch(),Sn=(n,i)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,i]}),mn=(n,i)=>Ci.parts.close(eu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":i.translate("Close")}},action:n,buttonBehaviours:Mn([li.config({})])})),So=()=>Ci.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Gr=(n,i)=>Ci.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:gv(`<p>${i.translate(n)}</p>`)}]}]}),wa=n=>Ci.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),Ca=(n,i)=>[xm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),xm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:i})],xu=n=>{const i="tox-dialog",f=i+"-wrap",g=f+"__backdrop",w=i+"__disable-scroll";return Ci.sketch({lazySink:n.lazySink,onEscape:_=>(n.onEscape(_),U.some(!0)),useTabstopAt:_=>!oE(_),dom:{tag:"div",classes:[i].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:gv(`<div class="${f}"></div>`),components:[{dom:{tag:"div",classes:Ht?[g,g+"--opaque"]:[g]}}]}},dragBlockClass:f,modalBehaviours:Mn([qo.config({}),Mr("dialog-events",n.dialogEvents.concat([Kc(kp(),(_,M)=>{No.focusIn(_)})])),Mr("scroll-lock",[Ya(()=>{nl(Ke(),w)}),Gf(()=>{ua(Ke(),w)})]),...n.extraBehaviours]),eventOrder:{[fu()]:["dialog-events"],[ph()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[bf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},ww=n=>eu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[Dh("close",{tag:"div",classes:["tox-icon"]},n.icons)],action:i=>{gs(i,Eb)}}),eB=(n,i,f,g)=>{const w=_=>[Xa(g.translate(_.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...f.map(_=>({id:_})).getOr({})}},components:[],behaviours:Mn([Yu.config({channel:`${OE}-${i}`,initialData:n,renderComponents:w})])}},tB=()=>({dom:gv('<div class="tox-dialog__draghandle"></div>')}),Sz=(n,i,f,g)=>xm.sketch({dom:gv('<div class="tox-dialog__header"></div>'),components:[eB(n,i,U.some(f),g),tB(),ww(g)],containerBehaviours:Mn([Vb.config({mode:"mouse",blockerClass:"blocker",getTarget:w=>ol(w,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),mne=(n,i,f)=>{const g=Ci.parts.title(eB(n,i,U.none(),f)),w=Ci.parts.draghandle(tB()),_=Ci.parts.close(ww(f)),M=[g].concat(n.draggable?[w]:[]).concat([_]);return xm.sketch({dom:gv('<div class="tox-dialog__header"></div>'),components:M})},Ar=(n,i,f)=>mne({title:f.shared.providers.translate(n),draggable:f.dialog.isDraggableModal()},i,f.shared.providers),Ut=(n,i,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":f.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:i,components:[{dom:gv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),lo=(n,i,f)=>({onClose:()=>f.closeWindow(),onBlock:g=>{Ci.setBusy(n(),(w,_)=>Ut(g.message,_,i))},onUnblock:()=>{Ci.setIdle(n())}}),Ko=(n,i,f,g)=>{const w=(_,M)=>U.some(M);return ic(xu({...n,lazySink:g.shared.getSink,extraBehaviours:[Yu.config({channel:`${Jp}-${n.id}`,updateState:w,initialData:i}),cd.memory({}),...n.extraBehaviours],onEscape:_=>{gs(_,Eb)},dialogEvents:f,eventOrder:{[Zf()]:[Yu.name(),wf.name()],[ph()]:["scroll-lock",Yu.name(),"messages","dialog-events","alloy.base.behaviour"],[bf()]:["alloy.base.behaviour","dialog-events","messages",Yu.name(),"scroll-lock"]}}))},Va=n=>{const i=f=>{const g=me(f.items,w=>{const _=$e(!1);return{...w,storage:_}});return{...f,items:g}};return me(n,f=>f.type==="menu"?i(f):f)},Ju=n=>at(n,(i,f)=>f.type==="menu"?at(f.items,(w,_)=>(w[_.name]=_.storage,w),i):i,{}),nu=(n,i)=>[m1(kp(),lX),n(Jx,(f,g)=>{i.onClose(),g.onClose()}),n(Eb,(f,g,w,_)=>{g.onCancel(f),gs(_,Jx)}),on(av,(f,g)=>i.onUnblock()),on(J2,(f,g)=>i.onBlock(g.event))],gc={initUrlDialog:(n,i)=>{const f=(w,_)=>on(w,(M,V)=>{g(M,(J,ne)=>{_(n(),J,V.event,M)})}),g=(w,_)=>{Yu.getState(w).get().each(M=>{_(M,w)})};return[...nu(f,i),f(Em,(w,_,M)=>{_.onAction(w,{name:M.name})})]},initDialog:(n,i,f)=>{const g=(_,M)=>on(_,(V,J)=>{w(V,(ne,de)=>{M(n(),ne,J.event,V)})}),w=(_,M)=>{Yu.getState(_).get().each(V=>{M(V.internalDialog,_)})};return[...nu(g,i),g(HA,(_,M)=>M.onSubmit(_)),g(Zu,(_,M,V)=>{M.onChange(_,{name:V.name})}),g(Em,(_,M,V,J)=>{const ne=()=>No.focusIn(J),de=Pe=>je(Pe,"disabled")||he(Pe,"aria-disabled").exists(rt=>rt==="true"),ye=or(J.element),Ne=cc(ye);M.onAction(_,{name:V.name,value:V.value}),cc(ye).fold(ne,Pe=>{de(Pe)||Ne.exists(rt=>Ra(Pe,rt)&&de(rt))?ne():f().toOptional().filter(rt=>!Ra(rt.element,Pe)).each(ne)})}),g(D6,(_,M,V)=>{M.onTabChange(_,{newTabName:V.name,oldTabName:V.oldName})}),Gf(_=>{const M=n();qn.setValue(_,M.getData())})]}},xz=(n,i)=>iE(n,n.type,i),vne=(n,i,f)=>Re(i,g=>g.name===f).bind(g=>g.memento.getOpt(n)),bne=(n,i)=>{const f=i.map(V=>V.footerButtons).getOr([]),g=We(f,V=>V.align==="start"),w=(V,J)=>xm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${V}`]},components:me(J,ne=>ne.memento.asSpec())}),_=w("start",g.pass),M=w("end",g.fail);return[_,M]},yne=(n,i,f)=>{const g=(w,_)=>{const M=me(_.buttons,J=>{const ne=ta(xz(J,f));return{name:J.name,align:J.align,memento:ne}}),V=J=>vne(w,M,J);return U.some({lookupByName:V,footerButtons:M})};return{dom:gv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Mn([Yu.config({channel:`${_E}-${i}`,initialData:n,updateState:g,renderComponents:bne})])}},oAe=(n,i,f)=>yne(n,i,f),dpe=(n,i,f)=>Ci.parts.footer(yne(n,i,f)),hpe=(n,i)=>{if(n.getRoot().getSystem().isConnected()){const g=Ur.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return sw.getField(g,i).orThunk(()=>{const w=n.getFooter();return Yu.getState(w).get().bind(M=>M.lookupByName(i))})}else return U.none()},rAe=(n,i)=>{const f=n.getRoot();return Yu.getState(f).get().map(g=>pf(jr("data",g.dataValidator,i))).getOr(i)},ppe=(n,i,f)=>{const g=rt=>{const bt=n.getRoot();bt.getSystem().isConnected()&&rt(bt)},Pe={getData:()=>{const rt=n.getRoot(),bt=rt.getSystem().isConnected()?n.getFormWrapper():rt,Mt=qn.getValue(bt),kt=kn(f,Lt=>Lt.get());return{...Mt,...kt}},setData:rt=>{g(bt=>{const Mt=Pe.getData(),kt=Ws(Mt,rt),Lt=rAe(n,kt),Zn=n.getFormWrapper();qn.setValue(Zn,Lt),sn(f,(Xt,Qn)=>{eo(kt,Qn)&&Xt.set(kt[Qn])})})},setEnabled:(rt,bt)=>{hpe(n,rt).each(bt?Bo.enable:Bo.disable)},focus:rt=>{hpe(n,rt).each(qo.focus)},block:rt=>{if(!v(rt))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");g(bt=>{Ho(bt,J2,{message:rt})})},unblock:()=>{g(rt=>{gs(rt,av)})},showTab:rt=>{g(bt=>{const Mt=n.getBody();Yu.getState(Mt).get().exists(Lt=>Lt.isTabPanel())&&Ur.getCurrent(Mt).each(Lt=>{za.showTab(Lt,rt)})})},redial:rt=>{g(bt=>{const Mt=n.getId(),kt=i(rt);bt.getSystem().broadcastOn([`${Jp}-${Mt}`],kt),bt.getSystem().broadcastOn([`${OE}-${Mt}`],kt.internalDialog),bt.getSystem().broadcastOn([`${hO}-${Mt}`],kt.internalDialog),bt.getSystem().broadcastOn([`${_E}-${Mt}`],kt.internalDialog),Pe.setData(kt.initialData)})},close:()=>{g(rt=>{gs(rt,Jx)})}};return Pe},sAe=n=>{switch(n){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},aAe=(n,i,f)=>{const g=fo("dialog"),w=n.internalDialog,_=Ar(w.title,g,f),M=Zb({body:w.body,initialData:w.initialData},g,f),V=Va(w.buttons),J=Ju(V),ne=dpe({buttons:V},g,f),de=gc.initDialog(()=>bt,lo(()=>Pe,f.shared.providers,i),f.shared.getSink),ye=sAe(w.size),Ne={id:g,header:_,body:M,footer:U.some(ne),extraClasses:ye,extraBehaviours:[],extraStyles:{}},Pe=Ko(Ne,n,de,f),rt=(()=>{const Mt=()=>{const kt=Ci.getBody(Pe);return Ur.getCurrent(kt).getOr(kt)};return{getId:j(g),getRoot:j(Pe),getBody:()=>Ci.getBody(Pe),getFooter:()=>Ci.getFooter(Pe),getFormWrapper:Mt}})(),bt=ppe(rt,i.redial,J);return{dialog:Pe,instanceApi:bt}},iAe=(n,i,f,g)=>{const w=fo("dialog"),_=fo("dialog-label"),M=fo("dialog-content"),V=n.internalDialog,J=(kt,Lt)=>U.some(Lt),ne=ta(Sz({title:V.title,draggable:!0},w,_,f.shared.providers)),de=ta(Sv({body:V.body,initialData:V.initialData},w,M,f,g)),ye=Va(V.buttons),Ne=Ju(ye),Pe=ta(oAe({buttons:ye},w,f)),rt=gc.initDialog(()=>Mt,{onBlock:kt=>{Wd.block(bt,(Lt,Zn)=>Ut(kt.message,Zn,f.shared.providers))},onUnblock:()=>{Wd.unblock(bt)},onClose:()=>i.closeWindow()},f.shared.getSink),bt=ic({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:{role:"dialog",["aria-labelledby"]:_,["aria-describedby"]:M}},eventOrder:{[Zf()]:[Yu.name(),wf.name()],[fu()]:["execute-on-form"],[ph()]:["reflecting","execute-on-form"]},behaviours:Mn([No.config({mode:"cyclic",onEscape:kt=>(gs(kt,Jx),U.some(!0)),useTabstopAt:kt=>!oE(kt)&&(Qo(kt)!=="button"||Ro(kt,"disabled")!=="disabled")}),Yu.config({channel:`${Jp}-${w}`,updateState:J,initialData:n}),qo.config({}),Mr("execute-on-form",rt.concat([Kc(kp(),(kt,Lt)=>{No.focusIn(kt)})])),Wd.config({getRoot:()=>U.some(bt)}),kr.config({}),cd.memory({})]),components:[ne.asSpec(),de.asSpec(),Pe.asSpec()]}),Mt=ppe({getId:j(w),getRoot:j(bt),getFooter:()=>Pe.get(bt),getBody:()=>de.get(bt),getFormWrapper:()=>{const kt=de.get(bt);return Ur.getCurrent(kt).getOr(kt)}},i.redial,Ne);return{dialog:bt,instanceApi:Mt}};var wne=tinymce.util.Tools.resolve("tinymce.util.URI");const lAe=n=>{const i=M=>{n.getSystem().isConnected()&&M(n)};return{block:M=>{if(!v(M))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(V=>{Ho(V,J2,{message:M})})},unblock:()=>{i(M=>{gs(M,av)})},close:()=>{i(M=>{gs(M,Jx)})},sendMessage:M=>{i(V=>{V.getSystem().broadcastOn([pO],M)})}}},cAe=["insertContent","setContent","execCommand","close","block","unblock"],gpe=n=>y(n)&&cAe.indexOf(n.mceAction)!==-1,uAe=n=>!gpe(n)&&y(n)&&eo(n,"mceAction"),fAe=(n,i,f)=>{switch(f.mceAction){case"insertContent":n.insertContent(f.content);break;case"setContent":n.setContent(f.content);break;case"execCommand":const g=k(f.ui)?f.ui:!1;n.execCommand(f.cmd,g,f.value);break;case"close":i.close();break;case"block":i.block(f.message);break;case"unblock":i.unblock();break}},dAe=(n,i,f,g)=>{const w=fo("dialog"),_=Ar(n.title,w,g),M=Rt(n),V=n.buttons.bind(Lt=>Lt.length===0?U.none():U.some(dpe({buttons:Lt},w,g))),J=gc.initUrlDialog(()=>kt,lo(()=>Mt,g.shared.providers,i)),ne={...n.height.fold(()=>({}),Lt=>({height:Lt+"px","max-height":Lt+"px"})),...n.width.fold(()=>({}),Lt=>({width:Lt+"px","max-width":Lt+"px"}))},de=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],ye=new wne(n.url,{base_uri:new wne(window.location.href)}),Ne=`${ye.protocol}://${ye.host}${ye.port?":"+ye.port:""}`,Pe=Kg(),rt=[Mr("messages",[Ya(()=>{const Lt=Kl(dn.fromDom(window),"message",Zn=>{if(ye.isSameOrigin(new wne(Zn.raw.origin))){const Xt=Zn.raw.data;gpe(Xt)?fAe(f,kt,Xt):uAe(Xt)&&n.onMessage(kt,Xt)}});Pe.set(Lt)}),Gf(Pe.clear)]),wf.config({channels:{[pO]:{onReceive:(Lt,Zn)=>{$i(Lt.element,"iframe").each(Xt=>{const Qn=Xt.dom.contentWindow;N(Qn)&&Qn.postMessage(Zn,Ne)})}}}})],Mt=Ko({id:w,header:_,body:M,footer:V,extraClasses:de,extraBehaviours:rt,extraStyles:ne},n,J,g),kt=lAe(Mt);return{dialog:Mt,instanceApi:kt}},hAe=n=>{const i=n.shared;return{open:(g,w)=>{const _=()=>{Ci.hide(ne),w()},M=ta(iE({name:"close-alert",text:"OK",primary:!0,buttonType:U.some("primary"),align:"end",enabled:!0,icon:U.none()},"cancel",n)),V=So(),J=mn(_,i.providers),ne=ic(xu({lazySink:()=>i.getSink(),header:Sn(V,J),body:Gr(g,i.providers),footer:U.some(wa(Ca([],[M.asSpec()]))),onEscape:_,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[on(Eb,_)],eventOrder:{}}));Ci.show(ne);const de=M.get(ne);qo.focus(de)}}},pAe=n=>{const i=n.shared;return{open:(g,w)=>{const _=Ne=>{Ci.hide(de),w(Ne)},M=ta(iE({name:"yes",text:"Yes",primary:!0,buttonType:U.some("primary"),align:"end",enabled:!0,icon:U.none()},"submit",n)),V=iE({name:"no",text:"No",primary:!1,buttonType:U.some("secondary"),align:"end",enabled:!0,icon:U.none()},"cancel",n),J=So(),ne=mn(()=>_(!1),i.providers),de=ic(xu({lazySink:()=>i.getSink(),header:Sn(J,ne),body:Gr(g,i.providers),footer:U.some(wa(Ca([],[V,M.asSpec()]))),onEscape:()=>_(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[on(Eb,()=>_(!1)),on(HA,()=>_(!0))],eventOrder:{}}));Ci.show(de);const ye=M.get(de);qo.focus(ye)}}},gAe=(n,i)=>pf(jr("data",i,n)),mAe=n=>X2(n,".tox-alert-dialog")||X2(n,".tox-confirm-dialog"),vAe=(n,i,f)=>i&&f?[]:[$c.config({contextual:{lazyContext:()=>U.some($r(dn.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})],bAe=n=>{const i=n.backstage,f=n.editor,g=pb(f),w=hAe(i),_=pAe(i),M=(rt,bt,Mt)=>bt!==void 0&&bt.inline==="toolbar"?de(rt,i.shared.anchors.inlineDialog(),Mt,bt.ariaAttrs):bt!==void 0&&bt.inline==="cursor"?de(rt,i.shared.anchors.cursor(),Mt,bt.ariaAttrs):ne(rt,Mt),V=(rt,bt)=>J(rt,bt),J=(rt,bt)=>{const Mt=kt=>{const Lt=dAe(kt,{closeWindow:()=>{Ci.hide(Lt.dialog),bt(Lt.instanceApi)}},f,i);return Ci.show(Lt.dialog),Lt.instanceApi};return gr.openUrl(Mt,rt)},ne=(rt,bt)=>{const Mt=(kt,Lt,Zn)=>{const Xt=Lt,ho=aAe({dataValidator:Zn,initialData:Xt,internalDialog:kt},{redial:gr.redial,closeWindow:()=>{Ci.hide(ho.dialog),bt(ho.instanceApi)}},i);return Ci.show(ho.dialog),ho.instanceApi.setData(Xt),ho.instanceApi};return gr.open(Mt,rt)},de=(rt,bt,Mt,kt=!1)=>{const Lt=(Zn,Xt,Qn)=>{const ho=gAe(Xt,Qn),so=Ea(),Mo=i.shared.header.isPositionedAtTop(),Vo={dataValidator:Qn,initialData:ho,internalDialog:Zn},Ir=()=>so.on(rs=>{ei.reposition(rs),$c.refresh(rs)}),os=iAe(Vo,{redial:gr.redial,closeWindow:()=>{so.on(ei.hide),f.off("ResizeEditor",Ir),so.clear(),Mt(os.instanceApi)}},i,kt),Po=ic(ei.sketch({lazySink:i.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...Mo?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Mn([Mr("window-manager-inline-events",[on(Tp(),(rs,cs)=>{gs(os.dialog,Eb)})]),...vAe(f,g,Mo)]),isExtraPart:(rs,cs)=>mAe(cs)}));return so.set(Po),ei.showWithin(Po,Iu(os.dialog),{anchor:bt},U.some(Ke())),(!g||!Mo)&&($c.refresh(Po),f.on("ResizeEditor",Ir)),os.instanceApi.setData(ho),No.focusIn(os.dialog),os.instanceApi};return gr.open(Lt,rt)};return{open:M,openUrl:V,alert:(rt,bt)=>{w.open(rt,bt)},close:rt=>{rt.close()},confirm:(rt,bt)=>{_.open(rt,bt)}}},yAe=n=>{OR(n),WG(n),ate(n)};var wAe=()=>{qe.add("silver",n=>{yAe(n);const{getUiMothership:i,backstage:f,renderUI:g}=Xte(n);BK.register(n,f.shared);const w=bAe({editor:n,backstage:f});return{renderUI:g,getWindowManagerImpl:j(w),getNotificationManagerImpl:()=>yD(n,{backstage:f},i())}})};wAe()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8 15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8Zm0 0 2.2 5.7-2.3-5.8ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Q,G,ue)=>{const pe=G==="UL"?"InsertUnorderedList":"InsertOrderedList";Q.execCommand(pe,!1,ue===!1?null:{"list-style-type":ue})},s=Q=>{Q.addCommand("ApplyUnorderedListStyle",(G,ue)=>{o(Q,"UL",ue["list-style-type"])}),Q.addCommand("ApplyOrderedListStyle",(G,ue)=>{o(Q,"OL",ue["list-style-type"])})},l=Q=>G=>G.options.get(Q),c=Q=>{const G=Q.options.register;G("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),G("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},d=l("advlist_number_styles"),p=l("advlist_bullet_styles"),v=Q=>Q==null,y=Q=>!v(Q);var S=tinymce.util.Tools.resolve("tinymce.util.Tools");class x{constructor(G,ue){this.tag=G,this.value=ue}static some(G){return new x(!0,G)}static none(){return x.singletonNone}fold(G,ue){return this.tag?ue(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?x.some(G(this.value)):x.none()}bind(G){return this.tag?G(this.value):x.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:x.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G!=null?G:"Called getOrDie on None")}static from(G){return y(G)?x.some(G):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(!1);const T=(Q,G)=>Q.dom.isChildOf(G,Q.getBody()),k=Q=>y(Q)&&/^(TH|TD)$/.test(Q.nodeName),A=Q=>G=>y(G)&&/^(OL|UL|DL)$/.test(G.nodeName)&&T(Q,G),F=Q=>{const G=Q.dom.getParent(Q.selection.getNode(),"ol,ul"),ue=Q.dom.getStyle(G,"listStyleType");return x.from(ue)},N=(Q,G)=>G!==null&&Q.dom.getContentEditableParent(G)==="false",D=(Q,G)=>{const ue=Q.dom.getParent(G,"ol,ul,dl");return N(Q,ue)},B=(Q,G)=>{for(let ue=0;ue<Q.length;ue++){const pe=Q[ue];if(G(pe))return ue}return-1},O=Q=>Q.replace(/\-/g," ").replace(/\b\w/g,G=>G.toUpperCase()),P=Q=>v(Q)||Q==="default"?"":Q,I=(Q,G,ue)=>{const pe=B(G.parents,k),be=pe!==-1?G.parents.slice(0,pe):G.parents,qe=S.grep(be,A(Q));return qe.length>0&&qe[0].nodeName===ue},z=(Q,G)=>ue=>{const pe=be=>{ue.setActive(I(Q,be,G)),ue.setEnabled(!D(Q,be.element))};return Q.on("NodeChange",pe),()=>Q.off("NodeChange",pe)},K=(Q,G,ue,pe,be,qe)=>{Q.ui.registry.addSplitButton(G,{tooltip:ue,icon:be==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:U=>{const Fe=S.map(qe,De=>{const Se=be==="OL"?"num":"bull",re=De==="disc"||De==="decimal"?"default":De,le=P(De),fe=O(De);return{type:"choiceitem",value:le,icon:"list-"+Se+"-"+re,text:fe}});U(Fe)},onAction:()=>Q.execCommand(pe),onItemAction:(U,Fe)=>{o(Q,be,Fe)},select:U=>F(Q).map(De=>U===De).getOr(!1),onSetup:z(Q,be)})},j=(Q,G,ue,pe,be,qe)=>{Q.ui.registry.addToggleButton(G,{active:!1,tooltip:ue,icon:be==="OL"?"ordered-list":"unordered-list",onSetup:z(Q,be),onAction:()=>Q.queryCommandState(pe)||qe===""?Q.execCommand(pe):o(Q,be,qe)})},oe=(Q,G,ue,pe,be,qe)=>{qe.length>1?K(Q,G,ue,pe,be,qe):j(Q,G,ue,pe,be,P(qe[0]))},ke=Q=>{oe(Q,"numlist","Numbered list","InsertOrderedList","OL",d(Q)),oe(Q,"bullist","Bullet list","InsertUnorderedList","UL",p(Q))};var ae=()=>{e.add("advlist",Q=>{Q.hasPlugin("lists")?(c(Q),ke(Q),s(Q)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};ae()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),s=tinymce.util.Tools.resolve("tinymce.util.Tools");const l=ue=>pe=>pe.options.get(ue),c=ue=>{const pe=ue.options.register;pe("allow_html_in_named_anchor",{processor:"boolean",default:!1})},d=l("allow_html_in_named_anchor"),p="a:not([href])",v=ue=>!ue,y=ue=>ue.getAttribute("id")||ue.getAttribute("name")||"",S=ue=>ue.nodeName.toLowerCase()==="a",x=ue=>S(ue)&&!ue.getAttribute("href")&&y(ue)!=="",T=ue=>x(ue)&&!ue.firstChild,k=ue=>{const pe=ue.dom;o(pe).walk(ue.selection.getRng(),be=>{s.each(be,qe=>{T(qe)&&pe.remove(qe,!1)})})},A=ue=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(ue),F=ue=>ue.dom.getParent(ue.selection.getStart(),p),N=ue=>{const pe=F(ue);return pe?y(pe):""},D=(ue,pe)=>{ue.undoManager.transact(()=>{d(ue)||ue.selection.collapse(!0),ue.selection.isCollapsed()?ue.insertContent(ue.dom.createHTML("a",{id:pe})):(k(ue),ue.formatter.remove("namedAnchor",void 0,void 0,!0),ue.formatter.apply("namedAnchor",{value:pe}),ue.addVisual())})},B=(ue,pe,be)=>{be.removeAttribute("name"),be.id=pe,ue.addVisual(),ue.undoManager.add()},O=(ue,pe)=>{const be=F(ue);be?B(ue,pe,be):D(ue,pe),ue.focus()},P=(ue,pe)=>A(pe)?(O(ue,pe),!0):(ue.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),I=ue=>{const pe=N(ue);ue.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:pe},onSubmit:be=>{P(ue,be.getData().id)&&be.close()}})},z=ue=>{ue.addCommand("mceAnchor",()=>{I(ue)})},K=ue=>v(ue.attr("href"))&&!v(ue.attr("id")||ue.attr("name")),j=ue=>K(ue)&&!ue.firstChild,oe=ue=>pe=>{for(let be=0;be<pe.length;be++){const qe=pe[be];j(qe)&&qe.attr("contenteditable",ue)}},ke=ue=>{ue.on("PreInit",()=>{ue.parser.addNodeFilter("a",oe("false")),ue.serializer.addNodeFilter("a",oe(null))})},ae=ue=>{ue.formatter.register("namedAnchor",{inline:"a",selector:p,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(pe,be,qe)=>x(pe)})},Q=ue=>{const pe=()=>ue.execCommand("mceAnchor");ue.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:pe,onSetup:be=>ue.selection.selectorChangedWithUnbind("a:not([href])",be.setActive).unbind}),ue.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:pe})};var G=()=>{e.add("anchor",ue=>{c(ue),ke(ue),z(ue),Q(ue),ue.on("PreInit",()=>{ae(ue)})})};G()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,s=ce=>Be=>Be.options.get(ce),l=ce=>{const Be=ce.options.register;Be("autolink_pattern",{processor:"regexp",default:new RegExp("^"+o().source+"$","i")}),Be("link_default_target",{processor:"string"}),Be("link_default_protocol",{processor:"string",default:"https"})},c=s("autolink_pattern"),d=s("link_default_target"),p=s("link_default_protocol"),v=s("allow_unsafe_link_target"),y=(ce,Be,Ce)=>{var me;return Ce(ce,Be.prototype)?!0:((me=ce.constructor)===null||me===void 0?void 0:me.name)===Be.name},S=ce=>{const Be=typeof ce;return ce===null?"null":Be==="object"&&Array.isArray(ce)?"array":Be==="object"&&y(ce,String,(Ce,me)=>me.isPrototypeOf(Ce))?"string":Be},x=ce=>Be=>S(Be)===ce,T=ce=>Be=>ce===Be,k=x("string"),A=T(void 0),F=ce=>ce==null,N=ce=>!F(ce),D=ce=>Be=>!ce(Be),B=Object.hasOwnProperty,O=(ce,Be)=>B.call(ce,Be),P=(ce,Be,Ce)=>Be===""||ce.length>=Be.length&&ce.substr(Ce,Ce+Be.length)===Be,I=(ce,Be,Ce=0,me)=>{const q=ce.indexOf(Be,Ce);return q!==-1?A(me)?!0:q+Be.length<=me:!1},z=(ce,Be)=>P(ce,Be,0),K="\uFEFF",j=ce=>ce===K,oe=ce=>ce.replace(/\uFEFF/g,"");var ke=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const ae=ce=>ce.nodeType===3,Q=ce=>ce.nodeType===1,G=ce=>/^[(\[{ \u00a0]$/.test(ce),ue=ce=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(ce),pe=ce=>/[?!,.;:]/.test(ce),be=(ce,Be,Ce)=>{for(let me=Be-1;me>=0;me--){const q=ce.charAt(me);if(!j(q)&&Ce(q))return me}return-1},qe=(ce,Be)=>{let Ce=ce,me=Be;for(;Q(Ce)&&Ce.childNodes[me];)Ce=Ce.childNodes[me],me=ae(Ce)?Ce.data.length:Ce.childNodes.length;return{container:Ce,offset:me}},U=(ce,Be)=>{var Ce;const me=ce.schema.getVoidElements(),q=c(ce),{dom:Ze,selection:We}=ce;if(Ze.getParent(We.getNode(),"a[href]")!==null)return null;const tt=We.getRng(),Qe=ke(Ze,Xe=>Ze.isBlock(Xe)||O(me,Xe.nodeName.toLowerCase())||Ze.getContentEditable(Xe)==="false"),{container:at,offset:He}=qe(tt.endContainer,tt.endOffset),Re=(Ce=Ze.getParent(at,Ze.isBlock))!==null&&Ce!==void 0?Ce:Ze.getRoot(),Ve=Qe.backwards(at,He+Be,(Xe,jt)=>{const qt=Xe.data,vn=be(qt,jt,D(G));return vn===-1||pe(qt[vn])?vn:vn+1},Re);if(!Ve)return null;let Oe=Ve.container;const ve=Qe.backwards(Ve.container,Ve.offset,(Xe,jt)=>{Oe=Xe;const qt=be(Xe.data,jt,G);return qt===-1?qt:qt+1},Re),se=Ze.createRng();ve?se.setStart(ve.container,ve.offset):se.setStart(Oe,0),se.setEnd(Ve.container,Ve.offset);const ot=oe(se.toString()).match(q);if(ot){let Xe=ot[0];return z(Xe,"www.")?Xe=p(ce)+"://"+Xe:I(Xe,"@")&&!ue(Xe)&&(Xe="mailto:"+Xe),{rng:se,url:Xe}}else return null},Fe=(ce,Be)=>{const{dom:Ce,selection:me}=ce,{rng:q,url:Ze}=Be,We=me.getBookmark();me.setRng(q);const tt="createlink",Qe={command:tt,ui:!1,value:Ze};if(!ce.dispatch("BeforeExecCommand",Qe).isDefaultPrevented()){ce.getDoc().execCommand(tt,!1,Ze),ce.dispatch("ExecCommand",Qe);const He=d(ce);if(k(He)){const Re=me.getNode();Ce.setAttrib(Re,"target",He),He==="_blank"&&!v(ce)&&Ce.setAttrib(Re,"rel","noopener")}}me.moveToBookmark(We),ce.nodeChanged()},De=ce=>{const Be=U(ce,-1);N(Be)&&Fe(ce,Be)},Se=De,re=ce=>{const Be=U(ce,0);N(Be)&&Fe(ce,Be)},le=ce=>{ce.on("keydown",Be=>{Be.keyCode===13&&!Be.isDefaultPrevented()&&re(ce)}),ce.on("keyup",Be=>{Be.keyCode===32?De(ce):(Be.keyCode===48&&Be.shiftKey||Be.keyCode===221)&&Se(ce)})};var fe=()=>{e.add("autolink",ce=>{l(ce),le(ce)})};fe()})();(function(){const e=O=>{let P=O;return{get:()=>P,set:K=>{P=K}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=tinymce.util.Tools.resolve("tinymce.Env");const l=O=>O.dispatch("ResizeEditor"),c=O=>P=>P.options.get(O),d=O=>{const P=O.options.register;P("autoresize_overflow_padding",{processor:"number",default:1}),P("autoresize_bottom_margin",{processor:"number",default:50})},p=c("min_height"),v=c("max_height"),y=c("autoresize_overflow_padding"),S=c("autoresize_bottom_margin"),x=O=>O.plugins.fullscreen&&O.plugins.fullscreen.isFullscreen(),T=(O,P)=>{const I=O.getBody();I&&(I.style.overflowY=P?"":"hidden",P||(I.scrollTop=0))},k=(O,P,I,z)=>{var K;const j=parseInt((K=O.getStyle(P,I,z))!==null&&K!==void 0?K:"",10);return isNaN(j)?0:j},A=O=>{if((O==null?void 0:O.type.toLowerCase())==="setcontent"){const P=O;return P.selection===!0||P.paste===!0}else return!1},F=(O,P,I)=>{var z;const K=O.dom,j=O.getDoc();if(!j)return;if(x(O)){T(O,!0);return}const oe=j.documentElement,ke=S(O),ae=(z=p(O))!==null&&z!==void 0?z:O.getElement().offsetHeight;let Q=ae;const G=k(K,oe,"margin-top",!0),ue=k(K,oe,"margin-bottom",!0);let pe=oe.offsetHeight+G+ue+ke;pe<0&&(pe=0);const be=O.getContainer().offsetHeight,qe=O.getContentAreaContainer().offsetHeight,U=be-qe;pe+U>ae&&(Q=pe+U);const Fe=v(O);if(Fe&&Q>Fe?(Q=Fe,T(O,!0)):T(O,!1),Q!==P.get()){const De=Q-P.get();if(K.setStyle(O.getContainer(),"height",Q+"px"),P.set(Q),l(O),s.browser.isSafari()&&(s.os.isMacOS()||s.os.isiOS())){const Se=O.getWin();Se.scrollTo(Se.pageXOffset,Se.pageYOffset)}O.hasFocus()&&A(I)&&O.selection.scrollIntoView(),(s.browser.isSafari()||s.browser.isChromium())&&De<0&&F(O,P,I)}},N=(O,P)=>{O.on("init",()=>{const I=y(O),z=O.dom;z.setStyles(O.getDoc().documentElement,{height:"auto"}),z.setStyles(O.getBody(),{paddingLeft:I,paddingRight:I,"min-height":0})}),O.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",I=>{F(O,P,I)})},D=(O,P)=>{O.addCommand("mceAutoResize",()=>{F(O,P)})};var B=()=>{o.add("autoresize",O=>{if(d(O),O.options.isSet("resize")||O.options.set("resize",!1),!O.inline){const P=e(0);D(O,P),N(O,P)}})};B()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Fe,De,Se)=>{var re;return Se(Fe,De.prototype)?!0:((re=Fe.constructor)===null||re===void 0?void 0:re.name)===De.name},s=Fe=>{const De=typeof Fe;return Fe===null?"null":De==="object"&&Array.isArray(Fe)?"array":De==="object"&&o(Fe,String,(Se,re)=>re.isPrototypeOf(Se))?"string":De},l=Fe=>De=>s(De)===Fe,c=Fe=>De=>Fe===De,d=l("string"),p=c(void 0);var v=tinymce.util.Tools.resolve("tinymce.util.Delay"),y=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),S=tinymce.util.Tools.resolve("tinymce.util.Tools");const x=Fe=>Fe.dispatch("RestoreDraft"),T=Fe=>Fe.dispatch("StoreDraft"),k=Fe=>Fe.dispatch("RemoveDraft"),A=Fe=>{const De={s:1e3,m:6e4},Se=/^(\d+)([ms]?)$/.exec(Fe);return(Se&&Se[2]?De[Se[2]]:1)*parseInt(Fe,10)},F=Fe=>De=>De.options.get(Fe),N=Fe=>{const De=Fe.options.register,Se=re=>{const le=d(re);return le?{value:A(re),valid:le}:{valid:!1,message:"Must be a string."}};De("autosave_ask_before_unload",{processor:"boolean",default:!0}),De("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),De("autosave_restore_when_empty",{processor:"boolean",default:!1}),De("autosave_interval",{processor:Se,default:"30s"}),De("autosave_retention",{processor:Se,default:"20m"})},D=F("autosave_ask_before_unload"),B=F("autosave_restore_when_empty"),O=F("autosave_interval"),P=F("autosave_retention"),I=Fe=>{const De=document.location;return Fe.options.get("autosave_prefix").replace(/{path}/g,De.pathname).replace(/{query}/g,De.search).replace(/{hash}/g,De.hash).replace(/{id}/g,Fe.id)},z=(Fe,De)=>{if(p(De))return Fe.dom.isEmpty(Fe.getBody());{const Se=S.trim(De);if(Se==="")return!0;{const re=new DOMParser().parseFromString(Se,"text/html");return Fe.dom.isEmpty(re)}}},K=Fe=>{var De;const Se=parseInt((De=y.getItem(I(Fe)+"time"))!==null&&De!==void 0?De:"0",10)||0;return new Date().getTime()-Se>P(Fe)?(j(Fe,!1),!1):!0},j=(Fe,De)=>{const Se=I(Fe);y.removeItem(Se+"draft"),y.removeItem(Se+"time"),De!==!1&&k(Fe)},oe=Fe=>{const De=I(Fe);!z(Fe)&&Fe.isDirty()&&(y.setItem(De+"draft",Fe.getContent({format:"raw",no_events:!0})),y.setItem(De+"time",new Date().getTime().toString()),T(Fe))},ke=Fe=>{var De;const Se=I(Fe);K(Fe)&&(Fe.setContent((De=y.getItem(Se+"draft"))!==null&&De!==void 0?De:"",{format:"raw"}),x(Fe))},ae=Fe=>{const De=O(Fe);v.setEditorInterval(Fe,()=>{oe(Fe)},De)},Q=Fe=>{Fe.undoManager.transact(()=>{ke(Fe),j(Fe)}),Fe.focus()},G=Fe=>({hasDraft:()=>K(Fe),storeDraft:()=>oe(Fe),restoreDraft:()=>ke(Fe),removeDraft:De=>j(Fe,De),isEmpty:De=>z(Fe,De)});var ue=tinymce.util.Tools.resolve("tinymce.EditorManager");const pe=Fe=>{Fe.editorManager.on("BeforeUnload",De=>{let Se;S.each(ue.get(),re=>{re.plugins.autosave&&re.plugins.autosave.storeDraft(),!Se&&re.isDirty()&&D(re)&&(Se=re.translate("You have unsaved changes are you sure you want to navigate away?"))}),Se&&(De.preventDefault(),De.returnValue=Se)})},be=Fe=>De=>{De.setEnabled(K(Fe));const Se=()=>De.setEnabled(K(Fe));return Fe.on("StoreDraft RestoreDraft RemoveDraft",Se),()=>Fe.off("StoreDraft RestoreDraft RemoveDraft",Se)},qe=Fe=>{ae(Fe);const De=()=>{Q(Fe)};Fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:De,onSetup:be(Fe)}),Fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:De,onSetup:be(Fe)})};var U=()=>{e.add("autosave",Fe=>(N(Fe),pe(Fe),qe(Fe),Fe.on("init",()=>{B(Fe)&&Fe.dom.isEmpty(Fe.getBody())&&ke(Fe)}),G(Fe)))};U()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(at,He)=>at.dispatch("insertCustomChar",{chr:He}),s=(at,He)=>{const Re=o(at,He).chr;at.execCommand("mceInsertContent",!1,Re)},l=(at,He,Re)=>{var Ve;return Re(at,He.prototype)?!0:((Ve=at.constructor)===null||Ve===void 0?void 0:Ve.name)===He.name},c=at=>{const He=typeof at;return at===null?"null":He==="object"&&Array.isArray(at)?"array":He==="object"&&l(at,String,(Re,Ve)=>Ve.isPrototypeOf(Re))?"string":He},d=at=>He=>c(He)===at,p=at=>He=>typeof He===at,v=at=>He=>at===He,y=d("array"),S=v(null),x=v(void 0),T=at=>at==null,k=at=>!T(at),A=p("function"),N=(at=>()=>at)(!1);class D{constructor(He,Re){this.tag=He,this.value=Re}static some(He){return new D(!0,He)}static none(){return D.singletonNone}fold(He,Re){return this.tag?Re(this.value):He()}isSome(){return this.tag}isNone(){return!this.tag}map(He){return this.tag?D.some(He(this.value)):D.none()}bind(He){return this.tag?He(this.value):D.none()}exists(He){return this.tag&&He(this.value)}forall(He){return!this.tag||He(this.value)}filter(He){return!this.tag||He(this.value)?this:D.none()}getOr(He){return this.tag?this.value:He}or(He){return this.tag?this:He}getOrThunk(He){return this.tag?this.value:He()}orThunk(He){return this.tag?this:He()}getOrDie(He){if(this.tag)return this.value;throw new Error(He!=null?He:"Called getOrDie on None")}static from(He){return k(He)?D.some(He):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(He){this.tag&&He(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const B=Array.prototype.push,O=(at,He)=>{const Re=at.length,Ve=new Array(Re);for(let Oe=0;Oe<Re;Oe++){const ve=at[Oe];Ve[Oe]=He(ve,Oe)}return Ve},P=(at,He)=>{for(let Re=0,Ve=at.length;Re<Ve;Re++){const Oe=at[Re];He(Oe,Re)}},I=(at,He,Re)=>{for(let Ve=0,Oe=at.length;Ve<Oe;Ve++){const ve=at[Ve];if(He(ve,Ve))return D.some(ve);if(Re(ve,Ve))break}return D.none()},z=(at,He)=>I(at,He,N),K=at=>{const He=[];for(let Re=0,Ve=at.length;Re<Ve;++Re){if(!y(at[Re]))throw new Error("Arr.flatten item "+Re+" was not an array, input: "+at);B.apply(He,at[Re])}return He},j=(at,He)=>K(O(at,He));var oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const ke=at=>He=>He.options.get(at),ae=at=>{const He=at.options.register,Re=Ve=>A(Ve)||y(Ve);He("charmap",{processor:Re}),He("charmap_append",{processor:Re})},Q=ke("charmap"),G=ke("charmap_append"),ue=oe.isArray,pe="User Defined",be=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],qe=at=>oe.grep(at,He=>ue(He)&&He.length===2),U=at=>ue(at)?qe(at):typeof at=="function"?at():[],Fe=(at,He)=>{const Re=Q(at);Re&&(He=[{name:pe,characters:U(Re)}]);const Ve=G(at);if(Ve){const Oe=oe.grep(He,ve=>ve.name===pe);return Oe.length?(Oe[0].characters=[...Oe[0].characters,...U(Ve)],He):He.concat({name:pe,characters:U(Ve)})}return He},De=at=>{const He=Fe(at,be());return He.length>1?[{name:"All",characters:j(He,Re=>Re.characters)}].concat(He):He},Se=at=>({getCharMap:()=>De(at),insertChar:Ve=>{s(at,Ve)}}),re=at=>{let He=at;return{get:()=>He,set:Oe=>{He=Oe}}},le=(at,He)=>{let Re=null;const Ve=()=>{S(Re)||(clearTimeout(Re),Re=null)};return{cancel:Ve,throttle:(...ve)=>{Ve(),Re=setTimeout(()=>{Re=null,at.apply(null,ve)},He)}}},fe=(at,He,Re=0,Ve)=>{const Oe=at.indexOf(He,Re);return Oe!==-1?x(Ve)?!0:Oe+He.length<=Ve:!1},ce=String.fromCodePoint,Be=(at,He,Re)=>fe(ce(at).toLowerCase(),Re)?!0:fe(He.toLowerCase(),Re)||fe(He.toLowerCase().replace(/\s+/g,""),Re),Ce=(at,He)=>{const Re=[],Ve=He.toLowerCase();return P(at.characters,Oe=>{Be(Oe[0],Oe[1],Ve)&&Re.push(Oe)}),O(Re,Oe=>({text:Oe[1],value:ce(Oe[0]),icon:ce(Oe[0])}))},me="pattern",q=(at,He)=>{const Re=()=>[{label:"Search",type:"input",name:me},{type:"collection",name:"results"}],Ve=()=>O(He,zn=>({title:zn.name,name:zn.name,items:Re()})),Oe=()=>({type:"panel",items:Re()}),ve=()=>({type:"tabpanel",tabs:Ve()}),se=He.length===1?re(pe):re("All"),xe=(zn,fn)=>{z(He,oo=>oo.name===se.get()).each(oo=>{const ft=Ce(oo,fn);zn.setData({results:ft})})},Xe=le(zn=>{const fn=zn.getData().pattern;xe(zn,fn)},40),jt=He.length===1?Oe():ve(),qt={pattern:"",results:Ce(He[0],"")},vn={title:"Special Character",size:"normal",body:jt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:qt,onAction:(zn,fn)=>{fn.name==="results"&&(s(at,fn.value),zn.close())},onTabChange:(zn,fn)=>{se.set(fn.newTabName),Xe.throttle(zn)},onChange:(zn,fn)=>{fn.name===me&&Xe.throttle(zn)}};at.windowManager.open(vn).focus(me)},Ze=(at,He)=>{at.addCommand("mceShowCharmap",()=>{q(at,He)})},We=(at,He)=>{at.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Re,Ve)=>new Promise((Oe,ve)=>{Oe(Ce(He,Re))}),onAction:(Re,Ve,Oe)=>{at.selection.setRng(Ve),at.insertContent(Oe),Re.hide()}})},tt=at=>{const He=()=>at.execCommand("mceShowCharmap");at.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:He}),at.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:He})};var Qe=()=>{e.add("charmap",at=>{ae(at);const He=De(at);return Ze(at,He),tt(at),We(at,He[0]),Se(at)})};Qe()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(v,y)=>{v.focus(),v.undoManager.transact(()=>{v.setContent(y)}),v.selection.setCursorLocation(),v.nodeChanged()},s=v=>v.getContent({source_view:!0}),l=v=>{const y=s(v);v.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:y},onSubmit:S=>{o(v,S.getData().code),S.close()}})},c=v=>{v.addCommand("mceCodeEditor",()=>{l(v)})},d=v=>{const y=()=>v.execCommand("mceCodeEditor");v.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:y}),v.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:y})};var p=()=>{e.add("code",v=>(c(v),d(v),{}))};p()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=pe=>pe==null,s=pe=>!o(pe),l=pe=>()=>pe;class c{constructor(be,qe){this.tag=be,this.value=qe}static some(be){return new c(!0,be)}static none(){return c.singletonNone}fold(be,qe){return this.tag?qe(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?c.some(be(this.value)):c.none()}bind(be){return this.tag?be(this.value):c.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:c.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be!=null?be:"Called getOrDie on None")}static from(be){return s(be)?c.some(be):c.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const d=(pe,be)=>be>=0&&be<pe.length?c.some(pe[be]):c.none(),p=pe=>d(pe,0);var v=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const y=typeof window<"u"?window:Function("return this;")(),S=function(pe,be,qe){const U=window.Prism;window.Prism={manual:!0};var Fe=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},De=function(Se){var re=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,le=0,fe={},ce={manual:Se.Prism&&Se.Prism.manual,disableWorkerMessageHandler:Se.Prism&&Se.Prism.disableWorkerMessageHandler,util:{encode:function Re(Ve){return Ve instanceof Be?new Be(Ve.type,Re(Ve.content),Ve.alias):Array.isArray(Ve)?Ve.map(Re):Ve.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Re){return Object.prototype.toString.call(Re).slice(8,-1)},objId:function(Re){return Re.__id||Object.defineProperty(Re,"__id",{value:++le}),Re.__id},clone:function Re(Ve,Oe){Oe=Oe||{};var ve,se;switch(ce.util.type(Ve)){case"Object":if(se=ce.util.objId(Ve),Oe[se])return Oe[se];ve={},Oe[se]=ve;for(var xe in Ve)Ve.hasOwnProperty(xe)&&(ve[xe]=Re(Ve[xe],Oe));return ve;case"Array":return se=ce.util.objId(Ve),Oe[se]?Oe[se]:(ve=[],Oe[se]=ve,Ve.forEach(function(ot,Xe){ve[Xe]=Re(ot,Oe)}),ve);default:return Ve}},getLanguage:function(Re){for(;Re;){var Ve=re.exec(Re.className);if(Ve)return Ve[1].toLowerCase();Re=Re.parentElement}return"none"},setLanguage:function(Re,Ve){Re.className=Re.className.replace(RegExp(re,"gi"),""),Re.classList.add("language-"+Ve)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(ve){var Re=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(ve.stack)||[])[1];if(Re){var Ve=document.getElementsByTagName("script");for(var Oe in Ve)if(Ve[Oe].src==Re)return Ve[Oe]}return null}},isActive:function(Re,Ve,Oe){for(var ve="no-"+Ve;Re;){var se=Re.classList;if(se.contains(Ve))return!0;if(se.contains(ve))return!1;Re=Re.parentElement}return!!Oe}},languages:{plain:fe,plaintext:fe,text:fe,txt:fe,extend:function(Re,Ve){var Oe=ce.util.clone(ce.languages[Re]);for(var ve in Ve)Oe[ve]=Ve[ve];return Oe},insertBefore:function(Re,Ve,Oe,ve){ve=ve||ce.languages;var se=ve[Re],xe={};for(var ot in se)if(se.hasOwnProperty(ot)){if(ot==Ve)for(var Xe in Oe)Oe.hasOwnProperty(Xe)&&(xe[Xe]=Oe[Xe]);Oe.hasOwnProperty(ot)||(xe[ot]=se[ot])}var jt=ve[Re];return ve[Re]=xe,ce.languages.DFS(ce.languages,function(qt,vn){vn===jt&&qt!=Re&&(this[qt]=xe)}),xe},DFS:function Re(Ve,Oe,ve,se){se=se||{};var xe=ce.util.objId;for(var ot in Ve)if(Ve.hasOwnProperty(ot)){Oe.call(Ve,ot,Ve[ot],ve||ot);var Xe=Ve[ot],jt=ce.util.type(Xe);jt==="Object"&&!se[xe(Xe)]?(se[xe(Xe)]=!0,Re(Xe,Oe,null,se)):jt==="Array"&&!se[xe(Xe)]&&(se[xe(Xe)]=!0,Re(Xe,Oe,ot,se))}}},plugins:{},highlightAll:function(Re,Ve){ce.highlightAllUnder(document,Re,Ve)},highlightAllUnder:function(Re,Ve,Oe){var ve={callback:Oe,container:Re,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};ce.hooks.run("before-highlightall",ve),ve.elements=Array.prototype.slice.apply(ve.container.querySelectorAll(ve.selector)),ce.hooks.run("before-all-elements-highlight",ve);for(var se=0,xe;xe=ve.elements[se++];)ce.highlightElement(xe,Ve===!0,ve.callback)},highlightElement:function(Re,Ve,Oe){var ve=ce.util.getLanguage(Re),se=ce.languages[ve];ce.util.setLanguage(Re,ve);var xe=Re.parentElement;xe&&xe.nodeName.toLowerCase()==="pre"&&ce.util.setLanguage(xe,ve);var ot=Re.textContent,Xe={element:Re,language:ve,grammar:se,code:ot};function jt(vn){Xe.highlightedCode=vn,ce.hooks.run("before-insert",Xe),Xe.element.innerHTML=Xe.highlightedCode,ce.hooks.run("after-highlight",Xe),ce.hooks.run("complete",Xe),Oe&&Oe.call(Xe.element)}if(ce.hooks.run("before-sanity-check",Xe),xe=Xe.element.parentElement,xe&&xe.nodeName.toLowerCase()==="pre"&&!xe.hasAttribute("tabindex")&&xe.setAttribute("tabindex","0"),!Xe.code){ce.hooks.run("complete",Xe),Oe&&Oe.call(Xe.element);return}if(ce.hooks.run("before-highlight",Xe),!Xe.grammar){jt(ce.util.encode(Xe.code));return}if(Ve&&Se.Worker){var qt=new Worker(ce.filename);qt.onmessage=function(vn){jt(vn.data)},qt.postMessage(JSON.stringify({language:Xe.language,code:Xe.code,immediateClose:!0}))}else jt(ce.highlight(Xe.code,Xe.grammar,Xe.language))},highlight:function(Re,Ve,Oe){var ve={code:Re,grammar:Ve,language:Oe};if(ce.hooks.run("before-tokenize",ve),!ve.grammar)throw new Error('The language "'+ve.language+'" has no grammar.');return ve.tokens=ce.tokenize(ve.code,ve.grammar),ce.hooks.run("after-tokenize",ve),Be.stringify(ce.util.encode(ve.tokens),ve.language)},tokenize:function(Re,Ve){var Oe=Ve.rest;if(Oe){for(var ve in Oe)Ve[ve]=Oe[ve];delete Ve.rest}var se=new q;return Ze(se,se.head,Re),me(Re,se,Ve,se.head,0),tt(se)},hooks:{all:{},add:function(Re,Ve){var Oe=ce.hooks.all;Oe[Re]=Oe[Re]||[],Oe[Re].push(Ve)},run:function(Re,Ve){var Oe=ce.hooks.all[Re];if(!(!Oe||!Oe.length))for(var ve=0,se;se=Oe[ve++];)se(Ve)}},Token:Be};Se.Prism=ce;function Be(Re,Ve,Oe,ve){this.type=Re,this.content=Ve,this.alias=Oe,this.length=(ve||"").length|0}Be.stringify=function Re(Ve,Oe){if(typeof Ve=="string")return Ve;if(Array.isArray(Ve)){var ve="";return Ve.forEach(function(jt){ve+=Re(jt,Oe)}),ve}var se={type:Ve.type,content:Re(Ve.content,Oe),tag:"span",classes:["token",Ve.type],attributes:{},language:Oe},xe=Ve.alias;xe&&(Array.isArray(xe)?Array.prototype.push.apply(se.classes,xe):se.classes.push(xe)),ce.hooks.run("wrap",se);var ot="";for(var Xe in se.attributes)ot+=" "+Xe+'="'+(se.attributes[Xe]||"").replace(/"/g,"&quot;")+'"';return"<"+se.tag+' class="'+se.classes.join(" ")+'"'+ot+">"+se.content+"</"+se.tag+">"};function Ce(Re,Ve,Oe,ve){Re.lastIndex=Ve;var se=Re.exec(Oe);if(se&&ve&&se[1]){var xe=se[1].length;se.index+=xe,se[0]=se[0].slice(xe)}return se}function me(Re,Ve,Oe,ve,se,xe){for(var ot in Oe)if(!(!Oe.hasOwnProperty(ot)||!Oe[ot])){var Xe=Oe[ot];Xe=Array.isArray(Xe)?Xe:[Xe];for(var jt=0;jt<Xe.length;++jt){if(xe&&xe.cause==ot+","+jt)return;var qt=Xe[jt],vn=qt.inside,Kn=!!qt.lookbehind,zn=!!qt.greedy,fn=qt.alias;if(zn&&!qt.pattern.global){var oo=qt.pattern.toString().match(/[imsuy]*$/)[0];qt.pattern=RegExp(qt.pattern.source,oo+"g")}for(var ft=qt.pattern||qt,Tt=ve.next,sn=se;Tt!==Ve.tail&&!(xe&&sn>=xe.reach);sn+=Tt.value.length,Tt=Tt.next){var kn=Tt.value;if(Ve.length>Re.length)return;if(!(kn instanceof Be)){var Pn=1,$n;if(zn){if($n=Ce(ft,sn,Re,Kn),!$n||$n.index>=Re.length)break;var wt=$n.index,_o=$n.index+$n[0].length,mr=sn;for(mr+=Tt.value.length;wt>=mr;)Tt=Tt.next,mr+=Tt.value.length;if(mr-=Tt.value.length,sn=mr,Tt.value instanceof Be)continue;for(var Ot=Tt;Ot!==Ve.tail&&(mr<_o||typeof Ot.value=="string");Ot=Ot.next)Pn++,mr+=Ot.value.length;Pn--,kn=Re.slice(sn,mr),$n.index-=sn}else if($n=Ce(ft,0,kn,Kn),!$n)continue;var wt=$n.index,wn=$n[0],xn=kn.slice(0,wt),pn=kn.slice(wt+wn.length),eo=sn+kn.length;xe&&eo>xe.reach&&(xe.reach=eo);var yr=Tt.prev;xn&&(yr=Ze(Ve,yr,xn),sn+=xn.length),We(Ve,yr,Pn);var As=new Be(ot,vn?ce.tokenize(wn,vn):wn,fn,wn);if(Tt=Ze(Ve,yr,As),pn&&Ze(Ve,Tt,pn),Pn>1){var la={cause:ot+","+jt,reach:eo};me(Re,Ve,Oe,Tt.prev,sn,la),xe&&la.reach>xe.reach&&(xe.reach=la.reach)}}}}}}function q(){var Re={value:null,prev:null,next:null},Ve={value:null,prev:Re,next:null};Re.next=Ve,this.head=Re,this.tail=Ve,this.length=0}function Ze(Re,Ve,Oe){var ve=Ve.next,se={value:Oe,prev:Ve,next:ve};return Ve.next=se,ve.prev=se,Re.length++,se}function We(Re,Ve,Oe){for(var ve=Ve.next,se=0;se<Oe&&ve!==Re.tail;se++)ve=ve.next;Ve.next=ve,ve.prev=Ve,Re.length-=se}function tt(Re){for(var Ve=[],Oe=Re.head.next;Oe!==Re.tail;)Ve.push(Oe.value),Oe=Oe.next;return Ve}if(!Se.document)return Se.addEventListener&&(ce.disableWorkerMessageHandler||Se.addEventListener("message",function(Re){var Ve=JSON.parse(Re.data),Oe=Ve.language,ve=Ve.code,se=Ve.immediateClose;Se.postMessage(ce.highlight(ve,ce.languages[Oe],Oe)),se&&Se.close()},!1)),ce;var Qe=ce.util.currentScript();Qe&&(ce.filename=Qe.src,Qe.hasAttribute("data-manual")&&(ce.manual=!0));function at(){ce.manual||ce.highlightAll()}if(!ce.manual){var He=document.readyState;He==="loading"||He==="interactive"&&Qe&&Qe.defer?document.addEventListener("DOMContentLoaded",at):window.requestAnimationFrame?window.requestAnimationFrame(at):window.setTimeout(at,16)}return ce}(Fe);return typeof be<"u"&&be.exports&&(be.exports=De),typeof pe<"u"&&(pe.Prism=De),De.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Se){function re(le,fe){return"___"+le.toUpperCase()+fe+"___"}Object.defineProperties(Se.languages["markup-templating"]={},{buildPlaceholders:{value:function(le,fe,ce,Be){if(le.language===fe){var Ce=le.tokenStack=[];le.code=le.code.replace(ce,function(me){if(typeof Be=="function"&&!Be(me))return me;for(var q=Ce.length,Ze;le.code.indexOf(Ze=re(fe,q))!==-1;)++q;return Ce[q]=me,Ze}),le.grammar=Se.languages.markup}}},tokenizePlaceholders:{value:function(le,fe){if(le.language!==fe||!le.tokenStack)return;le.grammar=Se.languages[fe];var ce=0,Be=Object.keys(le.tokenStack);function Ce(me){for(var q=0;q<me.length&&!(ce>=Be.length);q++){var Ze=me[q];if(typeof Ze=="string"||Ze.content&&typeof Ze.content=="string"){var We=Be[ce],tt=le.tokenStack[We],Qe=typeof Ze=="string"?Ze:Ze.content,at=re(fe,We),He=Qe.indexOf(at);if(He>-1){++ce;var Re=Qe.substring(0,He),Ve=new Se.Token(fe,Se.tokenize(tt,le.grammar),"language-"+fe,tt),Oe=Qe.substring(He+at.length),ve=[];Re&&ve.push.apply(ve,Ce([Re])),ve.push(Ve),Oe&&ve.push.apply(ve,Ce([Oe])),typeof Ze=="string"?me.splice.apply(me,[q,1].concat(ve)):Ze.content=ve}}else Ze.content&&Ce(Ze.content)}return me}Ce(le.tokens)}}})}(De),De.languages.c=De.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),De.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),De.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},De.languages.c.string],char:De.languages.c.char,comment:De.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:De.languages.c}}}}),De.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete De.languages.c.boolean,function(Se){var re=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,le=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return re.source});Se.languages.cpp=Se.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return re.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:re,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Se.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return le})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Se.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Se.languages.cpp}}}}),Se.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Se.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Se.languages.extend("cpp",{})}}),Se.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Se.languages.cpp["base-clause"])}(De),function(Se){function re($n,_o){return $n.replace(/<<(\d+)>>/g,function(mr,Ot){return"(?:"+_o[+Ot]+")"})}function le($n,_o,mr){return RegExp(re($n,_o),mr||"")}function fe($n,_o){for(var mr=0;mr<_o;mr++)$n=$n.replace(/<<self>>/g,function(){return"(?:"+$n+")"});return $n.replace(/<<self>>/g,"[^\\s\\S]")}var ce={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Be($n){return"\\b(?:"+$n.trim().replace(/ /g,"|")+")\\b"}var Ce=Be(ce.typeDeclaration),me=RegExp(Be(ce.type+" "+ce.typeDeclaration+" "+ce.contextual+" "+ce.other)),q=Be(ce.typeDeclaration+" "+ce.contextual+" "+ce.other),Ze=Be(ce.type+" "+ce.typeDeclaration+" "+ce.other),We=fe(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),tt=fe(/\((?:[^()]|<<self>>)*\)/.source,2),Qe=/@?\b[A-Za-z_]\w*\b/.source,at=re(/<<0>>(?:\s*<<1>>)?/.source,[Qe,We]),He=re(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[q,at]),Re=/\[\s*(?:,\s*)*\]/.source,Ve=re(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[He,Re]),Oe=re(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[We,tt,Re]),ve=re(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Oe]),se=re(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[ve,He,Re]),xe={keyword:me,punctuation:/[<>()?,.:[\]]/},ot=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Xe=/"(?:\\.|[^\\"\r\n])*"/.source,jt=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Se.languages.csharp=Se.languages.extend("clike",{string:[{pattern:le(/(^|[^$\\])<<0>>/.source,[jt]),lookbehind:!0,greedy:!0},{pattern:le(/(^|[^@$\\])<<0>>/.source,[Xe]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:le(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[He]),lookbehind:!0,inside:xe},{pattern:le(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Qe,se]),lookbehind:!0,inside:xe},{pattern:le(/(\busing\s+)<<0>>(?=\s*=)/.source,[Qe]),lookbehind:!0},{pattern:le(/(\b<<0>>\s+)<<1>>/.source,[Ce,at]),lookbehind:!0,inside:xe},{pattern:le(/(\bcatch\s*\(\s*)<<0>>/.source,[He]),lookbehind:!0,inside:xe},{pattern:le(/(\bwhere\s+)<<0>>/.source,[Qe]),lookbehind:!0},{pattern:le(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Ve]),lookbehind:!0,inside:xe},{pattern:le(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[se,Ze,Qe]),inside:xe}],keyword:me,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Se.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Se.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:le(/([(,]\s*)<<0>>(?=\s*:)/.source,[Qe]),lookbehind:!0,alias:"punctuation"}}),Se.languages.insertBefore("csharp","class-name",{namespace:{pattern:le(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Qe]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:le(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[tt]),lookbehind:!0,alias:"class-name",inside:xe},"return-type":{pattern:le(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[se,He]),inside:xe,alias:"class-name"},"constructor-invocation":{pattern:le(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[se]),lookbehind:!0,inside:xe,alias:"class-name"},"generic-method":{pattern:le(/<<0>>\s*<<1>>(?=\s*\()/.source,[Qe,We]),inside:{function:le(/^<<0>>/.source,[Qe]),generic:{pattern:RegExp(We),alias:"class-name",inside:xe}}},"type-list":{pattern:le(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Ce,at,Qe,se,me.source,tt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:le(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[at,tt]),lookbehind:!0,greedy:!0,inside:Se.languages.csharp},keyword:me,"class-name":{pattern:RegExp(se),greedy:!0,inside:xe},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var qt=Xe+"|"+ot,vn=re(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[qt]),Kn=fe(re(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[vn]),2),zn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,fn=re(/<<0>>(?:\s*\(<<1>>*\))?/.source,[He,Kn]);Se.languages.insertBefore("csharp","class-name",{attribute:{pattern:le(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[zn,fn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:le(/^<<0>>(?=\s*:)/.source,[zn]),alias:"keyword"},"attribute-arguments":{pattern:le(/\(<<0>>*\)/.source,[Kn]),inside:Se.languages.csharp},"class-name":{pattern:RegExp(He),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var oo=/:[^}\r\n]+/.source,ft=fe(re(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[vn]),2),Tt=re(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[ft,oo]),sn=fe(re(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[qt]),2),kn=re(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[sn,oo]);function Pn($n,_o){return{interpolation:{pattern:le(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[$n]),lookbehind:!0,inside:{"format-string":{pattern:le(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[_o,oo]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Se.languages.csharp}}},string:/[\s\S]+/}}Se.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:le(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Tt]),lookbehind:!0,greedy:!0,inside:Pn(Tt,ft)},{pattern:le(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[kn]),lookbehind:!0,greedy:!0,inside:Pn(kn,sn)}],char:{pattern:RegExp(ot),greedy:!0}}),Se.languages.dotnet=Se.languages.cs=Se.languages.csharp}(De),function(Se){var re=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Se.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+re.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+re.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+re.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:re,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Se.languages.css.atrule.inside.rest=Se.languages.css;var le=Se.languages.markup;le&&(le.tag.addInlined("style","css"),le.tag.addAttribute("style","css"))}(De),function(Se){var re=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,le=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,fe={pattern:RegExp(/(^|[^\w.])/.source+le+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Se.languages.java=Se.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[fe,{pattern:RegExp(/(^|[^\w.])/.source+le+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:fe.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+le+/[A-Z]\w*\b/.source),lookbehind:!0,inside:fe.inside}],keyword:re,function:[Se.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Se.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Se.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":fe,keyword:re,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+le+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:fe.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+le+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:fe.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return re.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(De),De.languages.javascript=De.languages.extend("clike",{"class-name":[De.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),De.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,De.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:De.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:De.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:De.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:De.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:De.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),De.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:De.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),De.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),De.languages.markup&&(De.languages.markup.tag.addInlined("script","javascript"),De.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),De.languages.js=De.languages.javascript,De.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},De.languages.markup.tag.inside["attr-value"].inside.entity=De.languages.markup.entity,De.languages.markup.doctype.inside["internal-subset"].inside=De.languages.markup,De.hooks.add("wrap",function(Se){Se.type==="entity"&&(Se.attributes.title=Se.content.replace(/&amp;/,"&"))}),Object.defineProperty(De.languages.markup.tag,"addInlined",{value:function(re,le){var fe={};fe["language-"+le]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:De.languages[le]},fe.cdata=/^<!\[CDATA\[|\]\]>$/i;var ce={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:fe}};ce["language-"+le]={pattern:/[\s\S]+/,inside:De.languages[le]};var Be={};Be[re]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return re}),"i"),lookbehind:!0,greedy:!0,inside:ce},De.languages.insertBefore("markup","cdata",Be)}}),Object.defineProperty(De.languages.markup.tag,"addAttribute",{value:function(Se,re){De.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Se+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[re,"language-"+re],inside:De.languages[re]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),De.languages.html=De.languages.markup,De.languages.mathml=De.languages.markup,De.languages.svg=De.languages.markup,De.languages.xml=De.languages.extend("markup",{}),De.languages.ssml=De.languages.xml,De.languages.atom=De.languages.xml,De.languages.rss=De.languages.xml,function(Se){var re=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,le=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],fe=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,ce=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Be=/[{}\[\](),:;]/;Se.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:re,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:le,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:fe,operator:ce,punctuation:Be};var Ce={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Se.languages.php},me=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ce}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ce}}];Se.languages.insertBefore("php","variable",{string:me,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:re,string:me,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:le,number:fe,operator:ce,punctuation:Be}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Se.hooks.add("before-tokenize",function(q){if(!!/<\?/.test(q.code)){var Ze=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Se.languages["markup-templating"].buildPlaceholders(q,"php",Ze)}}),Se.hooks.add("after-tokenize",function(q){Se.languages["markup-templating"].tokenizePlaceholders(q,"php")})}(De),De.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},De.languages.python["string-interpolation"].inside.interpolation.inside.rest=De.languages.python,De.languages.py=De.languages.python,function(Se){Se.languages.ruby=Se.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Se.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var re={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Se.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Se.languages.ruby.function;var le="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",fe=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Se.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+le+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:re,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:re,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+fe),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+fe+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Se.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+le),greedy:!0,inside:{interpolation:re,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:re,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:re,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+le),greedy:!0,inside:{interpolation:re,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:re,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Se.languages.ruby.string,Se.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Se.languages.rb=Se.languages.ruby}(De),window.Prism=U,De}(void 0,void 0),x=pe=>be=>be.options.get(pe),T=pe=>{const be=pe.options.register;be("codesample_languages",{processor:"object[]"}),be("codesample_global_prismjs",{processor:"boolean",default:!1})},k=x("codesample_languages"),A=x("codesample_global_prismjs"),F=pe=>y.Prism&&A(pe)?y.Prism:S,N=pe=>s(pe)&&pe.nodeName==="PRE"&&pe.className.indexOf("language-")!==-1,D=pe=>{const be=pe.selection?pe.selection.getNode():null;return N(be)?c.some(be):c.none()},B=(pe,be,qe)=>{const U=pe.dom;pe.undoManager.transact(()=>{const Fe=D(pe);return qe=v.DOM.encode(qe),Fe.fold(()=>{pe.insertContent('<pre id="__new" class="language-'+be+'">'+qe+"</pre>");const De=U.select("#__new")[0];U.setAttrib(De,"id",null),pe.selection.select(De)},De=>{U.setAttrib(De,"class","language-"+be),De.innerHTML=qe,F(pe).highlightElement(De),pe.selection.select(De)})})},O=pe=>D(pe).bind(qe=>c.from(qe.textContent)).getOr(""),P=pe=>{const be=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],qe=k(pe);return qe||be},I=(pe,be)=>D(pe).fold(()=>be,U=>{const Fe=U.className.match(/language-(\w+)/);return Fe?Fe[1]:be}),z=pe=>{const be=P(pe),qe=p(be).fold(l(""),De=>De.value),U=I(pe,qe),Fe=O(pe);pe.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:be},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:U,code:Fe},onSubmit:De=>{const Se=De.getData();B(pe,Se.language,Se.code),De.close()}})},K=pe=>{pe.addCommand("codesample",()=>{const be=pe.selection.getNode();pe.selection.isCollapsed()||N(be)?z(pe):pe.formatter.toggle("code")})},oe=(pe=>be=>be.replace(pe,""))(/^\s+|\s+$/g);var ke=tinymce.util.Tools.resolve("tinymce.util.Tools");const ae=pe=>{pe.on("PreProcess",be=>{const qe=pe.dom,U=qe.select("pre[contenteditable=false]",be.node);ke.each(ke.grep(U,N),Fe=>{const De=Fe.textContent;qe.setAttrib(Fe,"class",oe(qe.getAttrib(Fe,"class"))),qe.setAttrib(Fe,"contentEditable",null),qe.setAttrib(Fe,"data-mce-highlighted",null);let Se;for(;Se=Fe.firstChild;)Fe.removeChild(Se);const re=qe.add(Fe,"code");re.textContent=De})}),pe.on("SetContent",()=>{const be=pe.dom,qe=ke.grep(be.select("pre"),U=>N(U)&&be.getAttrib(U,"data-mce-highlighted")!=="true");qe.length&&pe.undoManager.transact(()=>{ke.each(qe,U=>{var Fe;ke.each(be.select("br",U),De=>{be.replace(pe.getDoc().createTextNode(`
`),De)}),U.innerHTML=be.encode((Fe=U.textContent)!==null&&Fe!==void 0?Fe:""),F(pe).highlightElement(U),be.setAttrib(U,"data-mce-highlighted",!0),U.className=oe(U.className)})})}),pe.on("PreInit",()=>{pe.parser.addNodeFilter("pre",be=>{var qe;for(let U=0,Fe=be.length;U<Fe;U++){const De=be[U];((qe=De.attr("class"))!==null&&qe!==void 0?qe:"").indexOf("language-")!==-1&&(De.attr("contenteditable","false"),De.attr("data-mce-highlighted","false"))}})})},Q=pe=>{const be=pe.selection.getStart();return pe.dom.is(be,'pre[class*="language-"]')},G=pe=>{const be=()=>pe.execCommand("codesample");pe.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:be,onSetup:qe=>{const U=()=>{qe.setActive(Q(pe))};return pe.on("NodeChange",U),()=>pe.off("NodeChange",U)}}),pe.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:be})};var ue=()=>{e.add("codesample",pe=>{T(pe),ae(pe),G(pe),K(pe),pe.on("dblclick",be=>{N(be.target)&&z(pe)})})};ue()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(ft,Tt,sn)=>{var kn;return sn(ft,Tt.prototype)?!0:((kn=ft.constructor)===null||kn===void 0?void 0:kn.name)===Tt.name},s=ft=>{const Tt=typeof ft;return ft===null?"null":Tt==="object"&&Array.isArray(ft)?"array":Tt==="object"&&o(ft,String,(sn,kn)=>kn.isPrototypeOf(sn))?"string":Tt},l=ft=>Tt=>s(Tt)===ft,c=ft=>Tt=>typeof Tt===ft,d=l("string"),p=c("boolean"),v=ft=>ft==null,y=ft=>!v(ft),S=c("function"),x=c("number"),T=(ft,Tt)=>sn=>ft(Tt(sn)),A=(ft=>()=>ft)(!1);class F{constructor(Tt,sn){this.tag=Tt,this.value=sn}static some(Tt){return new F(!0,Tt)}static none(){return F.singletonNone}fold(Tt,sn){return this.tag?sn(this.value):Tt()}isSome(){return this.tag}isNone(){return!this.tag}map(Tt){return this.tag?F.some(Tt(this.value)):F.none()}bind(Tt){return this.tag?Tt(this.value):F.none()}exists(Tt){return this.tag&&Tt(this.value)}forall(Tt){return!this.tag||Tt(this.value)}filter(Tt){return!this.tag||Tt(this.value)?this:F.none()}getOr(Tt){return this.tag?this.value:Tt}or(Tt){return this.tag?this:Tt}getOrThunk(Tt){return this.tag?this.value:Tt()}orThunk(Tt){return this.tag?this:Tt()}getOrDie(Tt){if(this.tag)return this.value;throw new Error(Tt!=null?Tt:"Called getOrDie on None")}static from(Tt){return y(Tt)?F.some(Tt):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Tt){this.tag&&Tt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const N=(ft,Tt)=>{const sn=ft.length,kn=new Array(sn);for(let Pn=0;Pn<sn;Pn++){const $n=ft[Pn];kn[Pn]=Tt($n,Pn)}return kn},D=(ft,Tt)=>{for(let sn=0,kn=ft.length;sn<kn;sn++){const Pn=ft[sn];Tt(Pn,sn)}},B=(ft,Tt)=>{const sn=[];for(let kn=0,Pn=ft.length;kn<Pn;kn++){const $n=ft[kn];Tt($n,kn)&&sn.push($n)}return sn},O=9,P=11,I=1,z=3,K=(ft,Tt)=>{const kn=(Tt||document).createElement("div");if(kn.innerHTML=ft,!kn.hasChildNodes()||kn.childNodes.length>1){const Pn="HTML does not have a single root node";throw console.error(Pn,ft),new Error(Pn)}return ke(kn.childNodes[0])},j=(ft,Tt)=>{const kn=(Tt||document).createElement(ft);return ke(kn)},oe=(ft,Tt)=>{const kn=(Tt||document).createTextNode(ft);return ke(kn)},ke=ft=>{if(ft==null)throw new Error("Node cannot be null or undefined");return{dom:ft}},Q={fromHtml:K,fromTag:j,fromText:oe,fromDom:ke,fromPoint:(ft,Tt,sn)=>F.from(ft.dom.elementFromPoint(Tt,sn)).map(ke)},G=(ft,Tt)=>{const sn=ft.dom;if(sn.nodeType!==I)return!1;{const kn=sn;if(kn.matches!==void 0)return kn.matches(Tt);if(kn.msMatchesSelector!==void 0)return kn.msMatchesSelector(Tt);if(kn.webkitMatchesSelector!==void 0)return kn.webkitMatchesSelector(Tt);if(kn.mozMatchesSelector!==void 0)return kn.mozMatchesSelector(Tt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const ue=ft=>ft.dom.nodeName.toLowerCase(),pe=ft=>ft.dom.nodeType,be=ft=>Tt=>pe(Tt)===ft,qe=be(I),U=be(z),Fe=be(O),De=be(P),Se=ft=>Tt=>qe(Tt)&&ue(Tt)===ft,re=ft=>Q.fromDom(ft.dom.ownerDocument),le=ft=>Fe(ft)?ft:re(ft),fe=ft=>F.from(ft.dom.parentNode).map(Q.fromDom),ce=ft=>N(ft.dom.childNodes,Q.fromDom),Be=(ft,Tt,sn)=>{if(d(sn)||p(sn)||x(sn))ft.setAttribute(Tt,sn+"");else throw console.error("Invalid call to Attribute.set. Key ",Tt,":: Value ",sn,":: Element ",ft),new Error("Attribute value was not simple")},Ce=(ft,Tt,sn)=>{Be(ft.dom,Tt,sn)},me=(ft,Tt)=>{ft.dom.removeAttribute(Tt)},q=ft=>De(ft)&&y(ft.dom.host),We=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode)?ft=>Q.fromDom(ft.dom.getRootNode()):le,tt=ft=>{const Tt=We(ft);return q(Tt)?F.some(Tt):F.none()},Qe=ft=>Q.fromDom(ft.dom.host),at=ft=>{const Tt=U(ft)?ft.dom.parentNode:ft.dom;if(Tt==null||Tt.ownerDocument===null)return!1;const sn=Tt.ownerDocument;return tt(Q.fromDom(Tt)).fold(()=>sn.body.contains(Tt),T(at,Qe))},He=(ft,Tt,sn)=>{let kn=ft.dom;const Pn=S(sn)?sn:A;for(;kn.parentNode;){kn=kn.parentNode;const $n=Q.fromDom(kn);if(Tt($n))return F.some($n);if(Pn($n))break}return F.none()},Re=(ft,Tt,sn)=>He(ft,kn=>G(kn,Tt),sn),Ve=ft=>ft.style!==void 0&&S(ft.style.getPropertyValue),Oe=(ft,Tt)=>{const sn=ft.dom,Pn=window.getComputedStyle(sn).getPropertyValue(Tt);return Pn===""&&!at(ft)?ve(sn,Tt):Pn},ve=(ft,Tt)=>Ve(ft)?ft.style.getPropertyValue(Tt):"",se=ft=>Oe(ft,"direction")==="rtl"?"rtl":"ltr",xe=(ft,Tt)=>B(ce(ft),Tt),ot=(ft,Tt)=>xe(ft,sn=>G(sn,Tt)),Xe=ft=>fe(ft).filter(qe),jt=(ft,Tt)=>(Tt?Re(ft,"ol,ul"):F.some(ft)).getOr(ft),qt=Se("li"),vn=(ft,Tt)=>{const sn=ft.selection.getSelectedBlocks();sn.length>0&&(D(sn,kn=>{const Pn=Q.fromDom(kn),$n=qt(Pn),_o=jt(Pn,$n);Xe(_o).each(Ot=>{if(se(Ot)!==Tt?Ce(_o,"dir",Tt):se(_o)!==Tt&&me(_o,"dir"),$n){const wn=ot(_o,"li[dir]");D(wn,xn=>me(xn,"dir"))}})}),ft.nodeChanged())},Kn=ft=>{ft.addCommand("mceDirectionLTR",()=>{vn(ft,"ltr")}),ft.addCommand("mceDirectionRTL",()=>{vn(ft,"rtl")})},zn=(ft,Tt)=>sn=>{const kn=Pn=>{const $n=Q.fromDom(Pn.element);sn.setActive(se($n)===Tt)};return ft.on("NodeChange",kn),()=>ft.off("NodeChange",kn)},fn=ft=>{ft.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>ft.execCommand("mceDirectionLTR"),onSetup:zn(ft,"ltr")}),ft.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>ft.execCommand("mceDirectionRTL"),onSetup:zn(ft,"rtl")})};var oo=()=>{e.add("directionality",ft=>{Kn(ft),fn(ft)})};oo()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=Oe=>ve=>Oe===ve,s=o(null),l=o(void 0),c=Oe=>Oe==null,d=Oe=>!c(Oe),p=()=>{},y=(Oe=>()=>Oe)(!1);class S{constructor(ve,se){this.tag=ve,this.value=se}static some(ve){return new S(!0,ve)}static none(){return S.singletonNone}fold(ve,se){return this.tag?se(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?S.some(ve(this.value)):S.none()}bind(ve){return this.tag?ve(this.value):S.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:S.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve!=null?ve:"Called getOrDie on None")}static from(ve){return d(ve)?S.some(ve):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const x=(Oe,ve)=>{for(let se=0,xe=Oe.length;se<xe;se++){const ot=Oe[se];if(ve(ot,se))return!0}return!1},T=(Oe,ve)=>{const se=Oe.length,xe=new Array(se);for(let ot=0;ot<se;ot++){const Xe=Oe[ot];xe[ot]=ve(Xe,ot)}return xe},k=(Oe,ve)=>{for(let se=0,xe=Oe.length;se<xe;se++){const ot=Oe[se];ve(ot,se)}},A=Oe=>{let ve=Oe;return{get:()=>ve,set:ot=>{ve=ot}}},F=(Oe,ve)=>{let se=null;const xe=()=>{s(se)||(clearTimeout(se),se=null)};return{cancel:xe,throttle:(...Xe)=>{xe(),se=setTimeout(()=>{se=null,Oe.apply(null,Xe)},ve)}}},N=(Oe,ve)=>{Oe.insertContent(ve)},D=Object.keys,B=Object.hasOwnProperty,O=(Oe,ve)=>{const se=D(Oe);for(let xe=0,ot=se.length;xe<ot;xe++){const Xe=se[xe],jt=Oe[Xe];ve(jt,Xe)}},P=(Oe,ve)=>I(Oe,(se,xe)=>({k:xe,v:ve(se,xe)})),I=(Oe,ve)=>{const se={};return O(Oe,(xe,ot)=>{const Xe=ve(xe,ot);se[Xe.k]=Xe.v}),se},z=(Oe,ve)=>B.call(Oe,ve),oe=(Oe=>(...ve)=>{if(ve.length===0)throw new Error("Can't merge zero objects");const se={};for(let xe=0;xe<ve.length;xe++){const ot=ve[xe];for(const Xe in ot)z(ot,Xe)&&(se[Xe]=Oe(se[Xe],ot[Xe]))}return se})((Oe,ve)=>ve),ke=Oe=>{const ve=A(S.none()),se=()=>ve.get().each(Oe);return{clear:()=>{se(),ve.set(S.none())},isSet:()=>ve.get().isSome(),get:()=>ve.get(),set:qt=>{se(),ve.set(S.some(qt))}}},ae=()=>{const Oe=ke(p);return{...Oe,on:se=>Oe.get().each(se)}},Q=(Oe,ve,se)=>ve===""||Oe.length>=ve.length&&Oe.substr(se,se+ve.length)===ve,G=(Oe,ve,se=0,xe)=>{const ot=Oe.indexOf(ve,se);return ot!==-1?l(xe)?!0:ot+ve.length<=xe:!1},ue=(Oe,ve)=>Q(Oe,ve,0);var pe=tinymce.util.Tools.resolve("tinymce.Resource");const be="tinymce.plugins.emoticons",qe=Oe=>ve=>ve.options.get(Oe),U=(Oe,ve)=>{const se=Oe.options.register;se("emoticons_database",{processor:"string",default:"emojis"}),se("emoticons_database_url",{processor:"string",default:`${ve}/js/${Fe(Oe)}${Oe.suffix}.js`}),se("emoticons_database_id",{processor:"string",default:be}),se("emoticons_append",{processor:"object",default:{}}),se("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},Fe=qe("emoticons_database"),De=qe("emoticons_database_url"),Se=qe("emoticons_database_id"),re=qe("emoticons_append"),le=qe("emoticons_images_url"),fe="All",ce={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Be=(Oe,ve)=>z(Oe,ve)?Oe[ve]:ve,Ce=Oe=>{const ve=re(Oe);return P(ve,se=>({keywords:[],category:"user",...se}))},me=(Oe,ve,se)=>{const xe=ae(),ot=ae(),Xe=le(Oe),jt=ft=>ue(ft.char,"<img")?ft.char.replace(/src="([^"]+)"/,(Tt,sn)=>`src="${Xe}${sn}"`):ft.char,qt=ft=>{const Tt={},sn=[];O(ft,(kn,Pn)=>{const $n={title:Pn,keywords:kn.keywords,char:jt(kn),category:Be(ce,kn.category)},_o=Tt[$n.category]!==void 0?Tt[$n.category]:[];Tt[$n.category]=_o.concat([$n]),sn.push($n)}),xe.set(Tt),ot.set(sn)};Oe.on("init",()=>{pe.load(se,ve).then(ft=>{const Tt=Ce(Oe);qt(oe(ft,Tt))},ft=>{console.log(`Failed to load emojis: ${ft}`),xe.set({}),ot.set([])})});const vn=ft=>ft===fe?Kn():xe.get().bind(Tt=>S.from(Tt[ft])).getOr([]),Kn=()=>ot.get().getOr([]),zn=()=>[fe].concat(D(xe.get().getOr({}))),fn=()=>oo()?Promise.resolve(!0):new Promise((ft,Tt)=>{let sn=15;const kn=setInterval(()=>{oo()?(clearInterval(kn),ft(!0)):(sn--,sn<0&&(console.log("Could not load emojis from url: "+ve),clearInterval(kn),Tt(!1)))},100)}),oo=()=>xe.isSet()&&ot.isSet();return{listCategories:zn,hasLoaded:oo,waitForLoad:fn,listAll:Kn,listCategory:vn}},q=(Oe,ve)=>G(Oe.title.toLowerCase(),ve)||x(Oe.keywords,se=>G(se.toLowerCase(),ve)),Ze=(Oe,ve,se)=>{const xe=[],ot=ve.toLowerCase(),Xe=se.fold(()=>y,jt=>qt=>qt>=jt);for(let jt=0;jt<Oe.length&&!((ve.length===0||q(Oe[jt],ot))&&(xe.push({value:Oe[jt].char,text:Oe[jt].title,icon:Oe[jt].char}),Xe(xe.length)));jt++);return xe},We="pattern",tt=(Oe,ve)=>{const se={pattern:"",results:Ze(ve.listAll(),"",S.some(300))},xe=A(fe),ot=zn=>{const fn=zn.getData(),oo=xe.get(),ft=ve.listCategory(oo),Tt=Ze(ft,fn[We],oo===fe?S.some(300):S.none());zn.setData({results:Tt})},Xe=F(zn=>{ot(zn)},200),jt={label:"Search",type:"input",name:We},qt={type:"collection",name:"results"},vn=()=>{const zn={type:"tabpanel",tabs:T(ve.listCategories(),fn=>({title:fn,name:fn,items:[jt,qt]}))};return{title:"Emojis",size:"normal",body:zn,initialData:se,onTabChange:(fn,oo)=>{xe.set(oo.newTabName),Xe.throttle(fn)},onChange:Xe.throttle,onAction:(fn,oo)=>{oo.name==="results"&&(N(Oe,oo.value),fn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},Kn=Oe.windowManager.open(vn());Kn.focus(We),ve.hasLoaded()||(Kn.block("Loading emojis..."),ve.waitForLoad().then(()=>{Kn.redial(vn()),Xe.throttle(Kn),Kn.focus(We),Kn.unblock()}).catch(zn=>{Kn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Kn.focus(We),Kn.unblock()}))},Qe=(Oe,ve)=>{Oe.addCommand("mceEmoticons",()=>tt(Oe,ve))},at=Oe=>{Oe.on("PreInit",()=>{Oe.parser.addAttributeFilter("data-emoticon",ve=>{k(ve,se=>{se.attr("data-mce-resize","false"),se.attr("data-mce-placeholder","1")})})})},He=(Oe,ve)=>{Oe.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(se,xe)=>ve.waitForLoad().then(()=>{const ot=ve.listAll();return Ze(ot,se,S.some(xe))}),onAction:(se,xe,ot)=>{Oe.selection.setRng(xe),Oe.insertContent(ot),se.hide()}})},Re=Oe=>{const ve=()=>Oe.execCommand("mceEmoticons");Oe.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:ve}),Oe.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:ve})};var Ve=()=>{e.add("emoticons",(Oe,ve)=>{U(Oe,ve);const se=De(Oe),xe=Se(Oe),ot=me(Oe,se,xe);Qe(Oe,ot),Re(Oe),He(Oe,ot),at(Oe)})};Ve()})();(function(){const e=Ye=>{let it=Ye;return{get:()=>it,set:ro=>{it=ro}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=Ye=>({isFullscreen:()=>Ye.get()!==null}),l=(Ye,it,Ft)=>{var Vt;return Ft(Ye,it.prototype)?!0:((Vt=Ye.constructor)===null||Vt===void 0?void 0:Vt.name)===it.name},c=Ye=>{const it=typeof Ye;return Ye===null?"null":it==="object"&&Array.isArray(Ye)?"array":it==="object"&&l(Ye,String,(Ft,Vt)=>Vt.isPrototypeOf(Ft))?"string":it},d=Ye=>it=>c(it)===Ye,p=Ye=>it=>typeof it===Ye,v=Ye=>it=>Ye===it,y=d("string"),S=d("array"),x=v(null),T=p("boolean"),k=v(void 0),A=Ye=>Ye==null,F=Ye=>!A(Ye),N=p("function"),D=p("number"),B=()=>{},O=(Ye,it)=>(...Ft)=>Ye(it.apply(null,Ft)),P=(Ye,it)=>Ft=>Ye(it(Ft)),I=Ye=>()=>Ye;function z(Ye,...it){return(...Ft)=>{const Vt=it.concat(Ft);return Ye.apply(null,Vt)}}const K=I(!1),j=I(!0);class oe{constructor(it,Ft){this.tag=it,this.value=Ft}static some(it){return new oe(!0,it)}static none(){return oe.singletonNone}fold(it,Ft){return this.tag?Ft(this.value):it()}isSome(){return this.tag}isNone(){return!this.tag}map(it){return this.tag?oe.some(it(this.value)):oe.none()}bind(it){return this.tag?it(this.value):oe.none()}exists(it){return this.tag&&it(this.value)}forall(it){return!this.tag||it(this.value)}filter(it){return!this.tag||it(this.value)?this:oe.none()}getOr(it){return this.tag?this.value:it}or(it){return this.tag?this:it}getOrThunk(it){return this.tag?this.value:it()}orThunk(it){return this.tag?this:it()}getOrDie(it){if(this.tag)return this.value;throw new Error(it!=null?it:"Called getOrDie on None")}static from(it){return F(it)?oe.some(it):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(it){this.tag&&it(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const ke=Ye=>{const it=e(oe.none()),Ft=()=>it.get().each(Ye);return{clear:()=>{Ft(),it.set(oe.none())},isSet:()=>it.get().isSome(),get:()=>it.get(),set:Er=>{Ft(),it.set(oe.some(Er))}}},ae=()=>ke(Ye=>Ye.unbind()),Q=()=>{const Ye=ke(B);return{...Ye,on:Ft=>Ye.get().each(Ft)}},G=(Ye,it)=>{let Ft=null;return{cancel:()=>{x(Ft)||(clearTimeout(Ft),Ft=null)},throttle:(...ko)=>{x(Ft)&&(Ft=setTimeout(()=>{Ft=null,Ye.apply(null,ko)},it))}}},ue=Array.prototype.push,pe=(Ye,it)=>{const Ft=Ye.length,Vt=new Array(Ft);for(let ro=0;ro<Ft;ro++){const ko=Ye[ro];Vt[ro]=it(ko,ro)}return Vt},be=(Ye,it)=>{for(let Ft=0,Vt=Ye.length;Ft<Vt;Ft++){const ro=Ye[Ft];it(ro,Ft)}},qe=(Ye,it)=>{const Ft=[];for(let Vt=0,ro=Ye.length;Vt<ro;Vt++){const ko=Ye[Vt];it(ko,Vt)&&Ft.push(ko)}return Ft},U=(Ye,it,Ft)=>{for(let Vt=0,ro=Ye.length;Vt<ro;Vt++){const ko=Ye[Vt];if(it(ko,Vt))return oe.some(ko);if(Ft(ko,Vt))break}return oe.none()},Fe=(Ye,it)=>U(Ye,it,K),De=Ye=>{const it=[];for(let Ft=0,Vt=Ye.length;Ft<Vt;++Ft){if(!S(Ye[Ft]))throw new Error("Arr.flatten item "+Ft+" was not an array, input: "+Ye);ue.apply(it,Ye[Ft])}return it},Se=(Ye,it)=>De(pe(Ye,it)),re=(Ye,it)=>it>=0&&it<Ye.length?oe.some(Ye[it]):oe.none(),le=Ye=>re(Ye,0),fe=(Ye,it)=>{for(let Ft=0;Ft<Ye.length;Ft++){const Vt=it(Ye[Ft],Ft);if(Vt.isSome())return Vt}return oe.none()},ce=Object.keys,Be=(Ye,it)=>{const Ft=ce(Ye);for(let Vt=0,ro=Ft.length;Vt<ro;Vt++){const ko=Ft[Vt],Ss=Ye[ko];it(Ss,ko)}},Ce=(Ye,it,Ft=0,Vt)=>{const ro=Ye.indexOf(it,Ft);return ro!==-1?k(Vt)?!0:ro+it.length<=Vt:!1},me=Ye=>Ye.style!==void 0&&N(Ye.style.getPropertyValue),q=(Ye,it)=>{const Vt=(it||document).createElement("div");if(Vt.innerHTML=Ye,!Vt.hasChildNodes()||Vt.childNodes.length>1){const ro="HTML does not have a single root node";throw console.error(ro,Ye),new Error(ro)}return tt(Vt.childNodes[0])},Ze=(Ye,it)=>{const Vt=(it||document).createElement(Ye);return tt(Vt)},We=(Ye,it)=>{const Vt=(it||document).createTextNode(Ye);return tt(Vt)},tt=Ye=>{if(Ye==null)throw new Error("Node cannot be null or undefined");return{dom:Ye}},at={fromHtml:q,fromTag:Ze,fromText:We,fromDom:tt,fromPoint:(Ye,it,Ft)=>oe.from(Ye.dom.elementFromPoint(it,Ft)).map(tt)};typeof window<"u"||Function("return this;")();const He=9,Re=11,Ve=1,Oe=3,ve=Ye=>Ye.dom.nodeType,se=Ye=>it=>ve(it)===Ye,xe=se(Ve),ot=se(Oe),Xe=se(He),jt=se(Re),qt=(Ye,it)=>{const Ft=Ye.dom;if(Ft.nodeType!==Ve)return!1;{const Vt=Ft;if(Vt.matches!==void 0)return Vt.matches(it);if(Vt.msMatchesSelector!==void 0)return Vt.msMatchesSelector(it);if(Vt.webkitMatchesSelector!==void 0)return Vt.webkitMatchesSelector(it);if(Vt.mozMatchesSelector!==void 0)return Vt.mozMatchesSelector(it);throw new Error("Browser lacks native selectors")}},vn=Ye=>Ye.nodeType!==Ve&&Ye.nodeType!==He&&Ye.nodeType!==Re||Ye.childElementCount===0,Kn=(Ye,it)=>{const Ft=it===void 0?document:it.dom;return vn(Ft)?[]:pe(Ft.querySelectorAll(Ye),at.fromDom)},zn=(Ye,it)=>Ye.dom===it.dom,fn=Ye=>at.fromDom(Ye.dom.ownerDocument),oo=Ye=>Xe(Ye)?Ye:fn(Ye),ft=Ye=>oe.from(Ye.dom.parentNode).map(at.fromDom),Tt=(Ye,it)=>{const Ft=N(it)?it:K;let Vt=Ye.dom;const ro=[];for(;Vt.parentNode!==null&&Vt.parentNode!==void 0;){const ko=Vt.parentNode,Ss=at.fromDom(ko);if(ro.push(Ss),Ft(Ss)===!0)break;Vt=ko}return ro},sn=Ye=>{const it=Ft=>qe(Ft,Vt=>!zn(Ye,Vt));return ft(Ye).map(kn).map(it).getOr([])},kn=Ye=>pe(Ye.dom.childNodes,at.fromDom),Pn=Ye=>jt(Ye)&&F(Ye.dom.host),$n=N(Element.prototype.attachShadow)&&N(Node.prototype.getRootNode),_o=I($n),mr=$n?Ye=>at.fromDom(Ye.dom.getRootNode()):oo,Ot=Ye=>{const it=mr(Ye);return Pn(it)?oe.some(it):oe.none()},wt=Ye=>at.fromDom(Ye.dom.host),wn=Ye=>{if(_o()&&F(Ye.target)){const it=at.fromDom(Ye.target);if(xe(it)&&xn(it)&&Ye.composed&&Ye.composedPath){const Ft=Ye.composedPath();if(Ft)return le(Ft)}}return oe.from(Ye.target)},xn=Ye=>F(Ye.dom.shadowRoot),pn=Ye=>{const it=ot(Ye)?Ye.dom.parentNode:Ye.dom;if(it==null||it.ownerDocument===null)return!1;const Ft=it.ownerDocument;return Ot(at.fromDom(it)).fold(()=>Ft.body.contains(it),P(pn,wt))},eo=Ye=>{const it=Ye.dom.body;if(it==null)throw new Error("Body is not available yet");return at.fromDom(it)},yr=(Ye,it,Ft)=>{if(y(Ft)||T(Ft)||D(Ft))Ye.setAttribute(it,Ft+"");else throw console.error("Invalid call to Attribute.set. Key ",it,":: Value ",Ft,":: Element ",Ye),new Error("Attribute value was not simple")},As=(Ye,it,Ft)=>{yr(Ye.dom,it,Ft)},la=(Ye,it)=>{const Ft=Ye.dom.getAttribute(it);return Ft===null?void 0:Ft},pr=(Ye,it)=>{Ye.dom.removeAttribute(it)},Sa=(Ye,it,Ft)=>{if(!y(Ft))throw console.error("Invalid call to CSS.set. Property ",it,":: Value ",Ft,":: Element ",Ye),new Error("CSS value must be a string: "+Ft);me(Ye)&&Ye.style.setProperty(it,Ft)},wr=(Ye,it)=>{const Ft=Ye.dom;Be(it,(Vt,ro)=>{Sa(Ft,ro,Vt)})},Jo=(Ye,it)=>{const Ft=Ye.dom,ro=window.getComputedStyle(Ft).getPropertyValue(it);return ro===""&&!pn(Ye)?To(Ft,it):ro},To=(Ye,it)=>me(Ye)?Ye.style.getPropertyValue(it):"",xs=(Ye,it,Ft,Vt,ro,ko,Ss)=>({target:Ye,x:it,y:Ft,stop:Vt,prevent:ro,kill:ko,raw:Ss}),ra=Ye=>{const it=at.fromDom(wn(Ye).getOr(Ye.target)),Ft=()=>Ye.stopPropagation(),Vt=()=>Ye.preventDefault(),ro=O(Vt,Ft);return xs(it,Ye.clientX,Ye.clientY,Ft,Vt,ro,Ye)},Vr=(Ye,it)=>Ft=>{Ye(Ft)&&it(ra(Ft))},ca=(Ye,it,Ft,Vt,ro)=>{const ko=Vr(Ft,Vt);return Ye.dom.addEventListener(it,ko,ro),{unbind:z(ri,Ye,it,ko,ro)}},Yr=(Ye,it,Ft,Vt)=>ca(Ye,it,Ft,Vt,!1),ri=(Ye,it,Ft,Vt)=>{Ye.dom.removeEventListener(it,Ft,Vt)},as=j,Ta=(Ye,it,Ft)=>Yr(Ye,it,as,Ft),dt=Ye=>{let it=!1,Ft;return(...Vt)=>(it||(it=!0,Ft=Ye.apply(null,Vt)),Ft)},Le=(Ye,it,Ft,Vt)=>{const ro=Ye.isiOS()&&/ipad/i.test(Ft)===!0,ko=Ye.isiOS()&&!ro,Ss=Ye.isiOS()||Ye.isAndroid(),Er=Ss||Vt("(pointer:coarse)"),jc=ro||!ko&&Ss&&Vt("(min-device-width:768px)"),Fr=ko||Ss&&!jc,Xr=it.isSafari()&&Ye.isiOS()&&/safari/i.test(Ft)===!1,pi=!Fr&&!jc&&!Xr;return{isiPad:I(ro),isiPhone:I(ko),isTablet:I(jc),isPhone:I(Fr),isTouch:I(Er),isAndroid:Ye.isAndroid,isiOS:Ye.isiOS,isWebView:I(Xr),isDesktop:I(pi)}},Pt=(Ye,it)=>{for(let Ft=0;Ft<Ye.length;Ft++){const Vt=Ye[Ft];if(Vt.test(it))return Vt}},Zt=(Ye,it)=>{const Ft=Pt(Ye,it);if(!Ft)return{major:0,minor:0};const Vt=ro=>Number(it.replace(Ft,"$"+ro));return Xn(Vt(1),Vt(2))},to=(Ye,it)=>{const Ft=String(it).toLowerCase();return Ye.length===0?uo():Zt(Ye,Ft)},uo=()=>Xn(0,0),Xn=(Ye,it)=>({major:Ye,minor:it}),vr={nu:Xn,detect:to,unknown:uo},zo=(Ye,it)=>fe(it.brands,Ft=>{const Vt=Ft.brand.toLowerCase();return Fe(Ye,ro=>{var ko;return Vt===((ko=ro.brand)===null||ko===void 0?void 0:ko.toLowerCase())}).map(ro=>({current:ro.name,version:vr.nu(parseInt(Ft.version,10),0)}))}),Fo=(Ye,it)=>{const Ft=String(it).toLowerCase();return Fe(Ye,Vt=>Vt.search(Ft))},ws=(Ye,it)=>Fo(Ye,it).map(Ft=>{const Vt=vr.detect(Ft.versionRegexes,it);return{current:Ft.name,version:Vt}}),dn=(Ye,it)=>Fo(Ye,it).map(Ft=>{const Vt=vr.detect(Ft.versionRegexes,it);return{current:Ft.name,version:Vt}}),lt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ut=Ye=>it=>Ce(it,Ye),en=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Ye=>Ce(Ye,"edge/")&&Ce(Ye,"chrome")&&Ce(Ye,"safari")&&Ce(Ye,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lt],search:Ye=>Ce(Ye,"chrome")&&!Ce(Ye,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Ye=>Ce(Ye,"msie")||Ce(Ye,"trident")},{name:"Opera",versionRegexes:[lt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ut("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ut("firefox")},{name:"Safari",versionRegexes:[lt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Ye=>(Ce(Ye,"safari")||Ce(Ye,"mobile/"))&&Ce(Ye,"applewebkit")}],En=[{name:"Windows",search:ut("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Ye=>Ce(Ye,"iphone")||Ce(Ye,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ut("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ut("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ut("linux"),versionRegexes:[]},{name:"Solaris",search:ut("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ut("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ut("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],An={browsers:I(en),oses:I(En)},Un="Edge",_n="Chromium",Jn="IE",go="Opera",$o="Firefox",Hr="Safari",Es=()=>Qo({current:void 0,version:vr.unknown()}),Qo=Ye=>{const it=Ye.current,Ft=Ye.version,Vt=ro=>()=>it===ro;return{current:it,version:Ft,isEdge:Vt(Un),isChromium:Vt(_n),isIE:Vt(Jn),isOpera:Vt(go),isFirefox:Vt($o),isSafari:Vt(Hr)}},fi={unknown:Es,nu:Qo,edge:I(Un),chromium:I(_n),ie:I(Jn),opera:I(go),firefox:I($o),safari:I(Hr)},ar="Windows",Tr="iOS",Or="Android",Ys="Linux",Is="macOS",Ei="Solaris",Fa="FreeBSD",di="ChromeOS",fl=()=>Mi({current:void 0,version:vr.unknown()}),Mi=Ye=>{const it=Ye.current,Ft=Ye.version,Vt=ro=>()=>it===ro;return{current:it,version:Ft,isWindows:Vt(ar),isiOS:Vt(Tr),isAndroid:Vt(Or),isMacOS:Vt(Is),isLinux:Vt(Ys),isSolaris:Vt(Ei),isFreeBSD:Vt(Fa),isChromeOS:Vt(di)}},ki={unknown:fl,nu:Mi,windows:I(ar),ios:I(Tr),android:I(Or),linux:I(Ys),macos:I(Is),solaris:I(Ei),freebsd:I(Fa),chromeos:I(di)},Ra={detect:(Ye,it,Ft)=>{const Vt=An.browsers(),ro=An.oses(),ko=it.bind(jc=>zo(Vt,jc)).orThunk(()=>ws(Vt,Ye)).fold(fi.unknown,fi.nu),Ss=dn(ro,Ye).fold(ki.unknown,ki.nu),Er=Le(Ss,ko,Ye,Ft);return{browser:ko,os:Ss,deviceType:Er}}},Vs=Ye=>window.matchMedia(Ye).matches;let si=dt(()=>Ra.detect(navigator.userAgent,oe.from(navigator.userAgentData),Vs));const Oa=()=>si(),Ai=(Ye,it)=>({left:Ye,top:it,translate:(Vt,ro)=>Ai(Ye+Vt,it+ro)}),ga=Ai,dl=Ye=>{const it=Ye!==void 0?Ye.dom:document,Ft=it.body.scrollLeft||it.documentElement.scrollLeft,Vt=it.body.scrollTop||it.documentElement.scrollTop;return ga(Ft,Vt)},hi=Ye=>{const it=Ye===void 0?window:Ye;return Oa().browser.isFirefox()?oe.none():oe.from(it.visualViewport)},hl=(Ye,it,Ft,Vt)=>({x:Ye,y:it,width:Ft,height:Vt,right:Ye+Ft,bottom:it+Vt}),Sr=Ye=>{const it=Ye===void 0?window:Ye,Ft=it.document,Vt=dl(at.fromDom(Ft));return hi(it).fold(()=>{const ro=it.document.documentElement,ko=ro.clientWidth,Ss=ro.clientHeight;return hl(Vt.left,Vt.top,ko,Ss)},ro=>hl(Math.max(ro.pageLeft,Vt.left),Math.max(ro.pageTop,Vt.top),ro.width,ro.height))},ma=(Ye,it,Ft)=>hi(Ft).map(Vt=>{const ro=ko=>it(ra(ko));return Vt.addEventListener(Ye,ro),{unbind:()=>Vt.removeEventListener(Ye,ro)}}).getOrThunk(()=>({unbind:B}));var Ue=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),pt=tinymce.util.Tools.resolve("tinymce.Env");const xt=(Ye,it)=>{Ye.dispatch("FullscreenStateChanged",{state:it}),Ye.dispatch("ResizeEditor")},Gt=Ye=>it=>it.options.get(Ye),gn=Ye=>{const it=Ye.options.register;it("fullscreen_native",{processor:"boolean",default:!1})},Do=Gt("fullscreen_native"),or=Ye=>{const it=at.fromDom(Ye.getElement());return Ot(it).map(wt).getOrThunk(()=>eo(fn(it)))},Ts=Ye=>Ye.fullscreenElement!==void 0?Ye.fullscreenElement:Ye.msFullscreenElement!==void 0?Ye.msFullscreenElement:Ye.webkitFullscreenElement!==void 0?Ye.webkitFullscreenElement:null,xr=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",Bs=Ye=>{const it=Ye.dom;it.requestFullscreen?it.requestFullscreen():it.msRequestFullscreen?it.msRequestFullscreen():it.webkitRequestFullScreen&&it.webkitRequestFullScreen()},Cs=Ye=>{const it=Ye.dom;it.exitFullscreen?it.exitFullscreen():it.msExitFullscreen?it.msExitFullscreen():it.webkitCancelFullScreen&&it.webkitCancelFullScreen()},Ls=Ye=>Ye.dom===Ts(fn(Ye).dom),Ma=(Ye,it,Ft)=>qe(Tt(Ye,Ft),it),ie=(Ye,it)=>qe(sn(Ye),it),Ke=Ye=>Kn(Ye),Ct=(Ye,it,Ft)=>Ma(Ye,Vt=>qt(Vt,it),Ft),cn=(Ye,it)=>ie(Ye,Ft=>qt(Ft,it)),Fn="data-ephox-mobile-fullscreen-style",Hn="display:none!important;",Ro="position:absolute!important;",he="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",je="background-color:rgb(255,255,255)!important;",et=pt.os.isAndroid(),Nt=Ye=>{const it=Jo(Ye,"background-color");return it!==void 0&&it!==""?"background-color:"+it+"!important":je},Dn=(Ye,it,Ft)=>{const Vt=Fr=>cn(Fr,"*:not(.tox-silver-sink)"),ro=Fr=>Xr=>{const pi=la(Xr,"style"),Xi=pi===void 0?"no-styles":pi.trim();Xi!==Fr&&(As(Xr,Fn,Xi),wr(Xr,Ye.parseStyle(Fr)))},ko=Ct(it,"*"),Ss=Se(ko,Vt),Er=Nt(Ft);be(Ss,ro(Hn)),be(ko,ro(Ro+he+Er)),ro((et===!0?"":Ro)+he+Er)(it)},mo=Ye=>{const it=Ke("["+Fn+"]");be(it,Ft=>{const Vt=la(Ft,Fn);Vt&&Vt!=="no-styles"?wr(Ft,Ye.parseStyle(Vt)):pr(Ft,"style"),pr(Ft,Fn)})},Wn=Ue.DOM,Wr=()=>Sr(window),is=Ye=>window.scrollTo(Ye.x,Ye.y),nn=hi().fold(()=>({bind:B,unbind:B}),Ye=>{const it=Q(),Ft=ae(),Vt=ae(),ro=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ko=()=>{window.requestAnimationFrame(()=>{it.on(Fr=>wr(Fr,{top:Ye.offsetTop+"px",left:Ye.offsetLeft+"px",height:Ye.height+"px",width:Ye.width+"px"}))})},Ss=G(()=>{ro(),ko()},50);return{bind:Fr=>{it.set(Fr),Ss.throttle(),Ft.set(ma("resize",Ss.throttle)),Vt.set(ma("scroll",Ss.throttle))},unbind:()=>{it.on(()=>{Ft.clear(),Vt.clear()}),it.clear()}}}),Xs=(Ye,it)=>{const Ft=document.body,Vt=document.documentElement,ro=Ye.getContainer(),ko=at.fromDom(ro),Ss=or(Ye),Er=it.get(),jc=at.fromDom(Ye.getBody()),Fr=pt.deviceType.isTouch(),Xr=ro.style,pi=Ye.iframeElement,Xi=pi==null?void 0:pi.style,zc=Os=>{Os(Ft,"tox-fullscreen"),Os(Vt,"tox-fullscreen"),Os(ro,"tox-fullscreen"),Ot(ko).map(Jr=>wt(Jr).dom).each(Jr=>{Os(Jr,"tox-fullscreen"),Os(Jr,"tox-shadowhost")})},Us=()=>{Fr&&mo(Ye.dom),zc(Wn.removeClass),nn.unbind(),oe.from(it.get()).each(Os=>Os.fullscreenChangeHandler.unbind())};if(Er)Er.fullscreenChangeHandler.unbind(),Do(Ye)&&Ls(Ss)&&Cs(fn(Ss)),Xi.width=Er.iframeWidth,Xi.height=Er.iframeHeight,Xr.width=Er.containerWidth,Xr.height=Er.containerHeight,Xr.top=Er.containerTop,Xr.left=Er.containerLeft,Us(),is(Er.scrollPos),it.set(null),xt(Ye,!1),Ye.off("remove",Us);else{const Os=Ta(fn(Ss),xr(),va=>{Do(Ye)&&!Ls(Ss)&&it.get()!==null&&Xs(Ye,it)}),Jr={scrollPos:Wr(),containerWidth:Xr.width,containerHeight:Xr.height,containerTop:Xr.top,containerLeft:Xr.left,iframeWidth:Xi.width,iframeHeight:Xi.height,fullscreenChangeHandler:Os};Fr&&Dn(Ye.dom,ko,jc),Xi.width=Xi.height="100%",Xr.width=Xr.height="",zc(Wn.addClass),nn.bind(ko),Ye.on("remove",Us),it.set(Jr),Do(Ye)&&Bs(Ss),xt(Ye,!0)}},hs=(Ye,it)=>{Ye.addCommand("mceFullScreen",()=>{Xs(Ye,it)})},Js=(Ye,it)=>Ft=>{Ft.setActive(it.get()!==null);const Vt=ro=>Ft.setActive(ro.state);return Ye.on("FullscreenStateChanged",Vt),()=>Ye.off("FullscreenStateChanged",Vt)},Dl=(Ye,it)=>{const Ft=()=>Ye.execCommand("mceFullScreen");Ye.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Ft,onSetup:Js(Ye,it)}),Ye.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Ft,onSetup:Js(Ye,it)})};var rr=()=>{o.add("fullscreen",Ye=>{const it=e(null);return Ye.inline||(gn(Ye),hs(Ye,it),Dl(Ye,it),Ye.addShortcut("Meta+Shift+F","","mceFullScreen")),s(it)})};rr()})();(function(){const e=ve=>{let se=ve;return{get:()=>se,set:Xe=>{se=Xe}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");let s=0;const l=ve=>{const xe=new Date().getTime(),ot=Math.floor(Math.random()*1e9);return s++,ve+"_"+ot+s+String(xe)},c=ve=>({addTab:xe=>{var ot;const Xe=(ot=xe.name)!==null&&ot!==void 0?ot:l("tab-name"),jt=ve.get();jt[Xe]=xe,ve.set(jt)}}),d=(ve,se)=>{ve.addCommand("mceHelp",se)},p=ve=>se=>se.options.get(ve),v=ve=>{const se=ve.options.register;se("help_tabs",{processor:"array"})},y=p("help_tabs"),S=p("forced_plugins"),x=(ve,se)=>{ve.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:se}),ve.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:se})},T=(ve,se,xe)=>{var ot;return xe(ve,se.prototype)?!0:((ot=ve.constructor)===null||ot===void 0?void 0:ot.name)===se.name},k=ve=>{const se=typeof ve;return ve===null?"null":se==="object"&&Array.isArray(ve)?"array":se==="object"&&T(ve,String,(xe,ot)=>ot.isPrototypeOf(xe))?"string":se},A=ve=>se=>k(se)===ve,F=ve=>se=>typeof se===ve,N=ve=>se=>ve===se,D=A("string"),B=N(void 0),O=ve=>ve==null,P=ve=>!O(ve),I=F("function"),K=(ve=>()=>ve)(!1);class j{constructor(se,xe){this.tag=se,this.value=xe}static some(se){return new j(!0,se)}static none(){return j.singletonNone}fold(se,xe){return this.tag?xe(this.value):se()}isSome(){return this.tag}isNone(){return!this.tag}map(se){return this.tag?j.some(se(this.value)):j.none()}bind(se){return this.tag?se(this.value):j.none()}exists(se){return this.tag&&se(this.value)}forall(se){return!this.tag||se(this.value)}filter(se){return!this.tag||se(this.value)?this:j.none()}getOr(se){return this.tag?this.value:se}or(se){return this.tag?this:se}getOrThunk(se){return this.tag?this.value:se()}orThunk(se){return this.tag?this:se()}getOrDie(se){if(this.tag)return this.value;throw new Error(se!=null?se:"Called getOrDie on None")}static from(se){return P(se)?j.some(se):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(se){this.tag&&se(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const oe=Array.prototype.slice,ke=Array.prototype.indexOf,ae=(ve,se)=>ke.call(ve,se),Q=(ve,se)=>ae(ve,se)>-1,G=(ve,se)=>{const xe=ve.length,ot=new Array(xe);for(let Xe=0;Xe<xe;Xe++){const jt=ve[Xe];ot[Xe]=se(jt,Xe)}return ot},ue=(ve,se)=>{const xe=[];for(let ot=0,Xe=ve.length;ot<Xe;ot++){const jt=ve[ot];se(jt,ot)&&xe.push(jt)}return xe},pe=(ve,se,xe)=>{for(let ot=0,Xe=ve.length;ot<Xe;ot++){const jt=ve[ot];if(se(jt,ot))return j.some(jt);if(xe(jt,ot))break}return j.none()},be=(ve,se)=>pe(ve,se,K),qe=(ve,se)=>{const xe=oe.call(ve,0);return xe.sort(se),xe},U=Object.keys,Fe=Object.hasOwnProperty,De=(ve,se)=>Se(ve,se)?j.from(ve[se]):j.none(),Se=(ve,se)=>Fe.call(ve,se),re=ve=>{const se=[],xe=ot=>{se.push(ot)};for(let ot=0;ot<ve.length;ot++)ve[ot].each(xe);return se},le=`<h1>Editor UI keyboard navigation</h1>

<h2>Activating keyboard navigation</h2>

<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>
<ul>
  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>
  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>
  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>
</ul>

<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>

<h2>Moving between UI sections</h2>

<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>
<ul>
  <li>the menubar</li>
  <li>each group of the toolbar </li>
  <li>the sidebar</li>
  <li>the element path in the footer </li>
  <li>the wordcount toggle button in the footer </li>
  <li>the branding link in the footer </li>
  <li>the editor resize handle in the footer</li>
</ul>

<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>

<h2>Moving within UI sections</h2>

<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>
<ul>
  <li>moving between menus in the menubar</li>
  <li>moving between buttons in a toolbar group</li>
  <li>moving between items in the element path</li>
</ul>

<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>

<h1>Executing buttons</h1>

<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>

<h1>Opening, navigating and closing menus</h1>

<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>

<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>

<h1>Context toolbars and menus</h1>

<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>

<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>

<h1>Dialog navigation</h1>

<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>

<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>

<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab\u2019s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>`,fe=()=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:le}]});var ce=tinymce.util.Tools.resolve("tinymce.Env");const Be=ve=>{const se=ce.os.isMacOS()||ce.os.isiOS(),Xe=se?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},jt=ve.split("+"),qt=G(jt,vn=>{const Kn=vn.toLowerCase().trim();return Se(Xe,Kn)?Xe[Kn]:vn});return se?qt.join("").replace(/\s/,""):qt.join("+")},Ce=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],me=()=>{const ve=G(Ce,xe=>{const ot=G(xe.shortcuts,Be).join(" or ");return[xe.action,ot]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:ve}]}};var q=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ze=G([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"},{key:"tableofcontents",name:"Table of Contents",type:"premium"}],ve=>({...ve,type:ve.type||"opensource",slug:ve.slug||ve.key})),We=ve=>{const se=()=>{const zn=ue(Ze,({type:ft})=>ft==="premium"),fn=qe(G(zn,ft=>ft.name),(ft,Tt)=>ft.localeCompare(Tt)),oo=G(fn,ft=>`<li>${ft}</li>`).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+q.translate("Premium plugins:")+"</b></p><ul>"+oo+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">'+q.translate("Learn more...")+"</a></li></ul></div>"},xe=zn=>`<a href="${zn.url}" target="_blank" rel="noopener">${zn.name}</a>`,ot=(zn,fn)=>{const oo=zn.plugins[fn].getMetadata;if(I(oo)){const ft=oo();return{name:ft.name,html:xe(ft)}}else return{name:fn,html:fn}},Xe=(zn,fn)=>be(Ze,oo=>oo.key===fn).fold(()=>ot(zn,fn),oo=>{const ft=oo.type==="premium"?`${oo.name}*`:oo.name,Tt=xe({name:ft,url:`https://www.tiny.cloud/docs/tinymce/6/${oo.slug}/`});return{name:ft,html:Tt}}),jt=zn=>{const fn=U(zn.plugins),oo=S(zn);return B(oo)?fn:ue(fn,ft=>!Q(oo,ft))},qt=zn=>{const fn=jt(zn),oo=qe(G(fn,Pn=>Xe(zn,Pn)),(Pn,$n)=>Pn.name.localeCompare($n.name)),ft=G(oo,Pn=>"<li>"+Pn.html+"</li>"),Tt=ft.length,sn=ft.join("");return"<p><b>"+q.translate(["Plugins installed ({0}):",Tt])+"</b></p><ul>"+sn+"</ul>"},Kn={type:"htmlpanel",presets:"document",html:[(zn=>zn==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+qt(zn)+"</div>")(ve),se()].join("")};return{name:"plugins",title:"Plugins",items:[Kn]}};var tt=tinymce.util.Tools.resolve("tinymce.EditorManager");const Qe=()=>{const se=((Xe,jt)=>Xe.indexOf("@")===0?"X.X.X":Xe+"."+jt)(tt.majorVersion,tt.minorVersion),xe='<a href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+se+"</a>",ot={type:"htmlpanel",html:"<p>"+q.translate(["You are using {0}",xe])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[ot]}},at=(ve,se)=>{const xe={},ot=G(ve,Xe=>{var jt;if(D(Xe))return Se(se,Xe)&&(xe[Xe]=se[Xe]),Xe;{const qt=(jt=Xe.name)!==null&&jt!==void 0?jt:l("tab-name");return xe[qt]=Xe,qt}});return{tabs:xe,names:ot}},He=ve=>{const se=U(ve),xe=se.indexOf("versions");return xe!==-1&&(se.splice(xe,1),se.push("versions")),{tabs:ve,names:se}},Re=(ve,se)=>{const xe=me(),ot=fe(),Xe=We(ve),jt=Qe(),qt={[xe.name]:xe,[ot.name]:ot,[Xe.name]:Xe,[jt.name]:jt,...se.get()};return j.from(y(ve)).fold(()=>He(qt),vn=>at(vn,qt))},Ve=(ve,se)=>()=>{const{tabs:xe,names:ot}=Re(ve,se),Xe=G(ot,vn=>De(xe,vn)),jt=re(Xe),qt={type:"tabpanel",tabs:jt};ve.windowManager.open({title:"Help",size:"medium",body:qt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})};var Oe=()=>{o.add("help",ve=>{const se=e({}),xe=c(se);v(ve);const ot=Ve(ve,se);return x(ve,ot),d(ve,ot),ve.shortcuts.add("Alt+0","Open help dialog","mceHelp"),xe})};Oe()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=Object.getPrototypeOf,s=(he,je,et)=>{var Nt;return et(he,je.prototype)?!0:((Nt=he.constructor)===null||Nt===void 0?void 0:Nt.name)===je.name},l=he=>{const je=typeof he;return he===null?"null":je==="object"&&Array.isArray(he)?"array":je==="object"&&s(he,String,(et,Nt)=>Nt.isPrototypeOf(et))?"string":je},c=he=>je=>l(je)===he,d=he=>je=>typeof je===he,p=he=>je=>he===je,v=(he,je)=>S(he)&&s(he,je,(et,Nt)=>o(et)===Nt),y=c("string"),S=c("object"),x=he=>v(he,Object),T=c("array"),k=p(null),A=d("boolean"),F=he=>he==null,N=he=>!F(he),D=d("function"),B=d("number"),O=(he,je)=>{if(T(he)){for(let et=0,Nt=he.length;et<Nt;++et)if(!je(he[et]))return!1;return!0}return!1},P=()=>{};class I{constructor(je,et){this.tag=je,this.value=et}static some(je){return new I(!0,je)}static none(){return I.singletonNone}fold(je,et){return this.tag?et(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?I.some(je(this.value)):I.none()}bind(je){return this.tag?je(this.value):I.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:I.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je!=null?je:"Called getOrDie on None")}static from(je){return N(je)?I.some(je):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const z=Object.keys,K=Object.hasOwnProperty,j=(he,je)=>{const et=z(he);for(let Nt=0,Dn=et.length;Nt<Dn;Nt++){const mo=et[Nt],Wn=he[mo];je(Wn,mo)}},oe=he=>(je,et)=>{he[et]=je},ke=(he,je,et,Nt)=>{j(he,(Dn,mo)=>{(je(Dn,mo)?et:Nt)(Dn,mo)})},ae=(he,je)=>{const et={};return ke(he,je,oe(et),P),et},Q=(he,je)=>K.call(he,je),G=(he,je)=>Q(he,je)&&he[je]!==void 0&&he[je]!==null,ue=Array.prototype.push,pe=he=>{const je=[];for(let et=0,Nt=he.length;et<Nt;++et){if(!T(he[et]))throw new Error("Arr.flatten item "+et+" was not an array, input: "+he);ue.apply(je,he[et])}return je},be=(he,je)=>je>=0&&je<he.length?I.some(he[je]):I.none(),qe=he=>be(he,0),U=(he,je)=>{for(let et=0;et<he.length;et++){const Nt=je(he[et],et);if(Nt.isSome())return Nt}return I.none()};typeof window<"u"||Function("return this;")();const Fe=(he,je,et)=>{if(y(et)||A(et)||B(et))he.setAttribute(je,et+"");else throw console.error("Invalid call to Attribute.set. Key ",je,":: Value ",et,":: Element ",he),new Error("Attribute value was not simple")},De=(he,je,et)=>{Fe(he.dom,je,et)},Se=(he,je)=>{he.dom.removeAttribute(je)},re=(he,je)=>{const Nt=(je||document).createElement("div");if(Nt.innerHTML=he,!Nt.hasChildNodes()||Nt.childNodes.length>1){const Dn="HTML does not have a single root node";throw console.error(Dn,he),new Error(Dn)}return ce(Nt.childNodes[0])},le=(he,je)=>{const Nt=(je||document).createElement(he);return ce(Nt)},fe=(he,je)=>{const Nt=(je||document).createTextNode(he);return ce(Nt)},ce=he=>{if(he==null)throw new Error("Node cannot be null or undefined");return{dom:he}},Ce={fromHtml:re,fromTag:le,fromText:fe,fromDom:ce,fromPoint:(he,je,et)=>I.from(he.dom.elementFromPoint(je,et)).map(ce)};var me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),q=tinymce.util.Tools.resolve("tinymce.util.URI");const Ze=he=>he.length>0,We=he=>je=>je.options.get(he),tt=he=>{const je=he.options.register;je("image_dimensions",{processor:"boolean",default:!0}),je("image_advtab",{processor:"boolean",default:!1}),je("image_uploadtab",{processor:"boolean",default:!0}),je("image_prepend_url",{processor:"string",default:""}),je("image_class_list",{processor:"object[]"}),je("image_description",{processor:"boolean",default:!0}),je("image_title",{processor:"boolean",default:!1}),je("image_caption",{processor:"boolean",default:!1}),je("image_list",{processor:et=>{const Nt=et===!1||y(et)||O(et,S)||D(et);return Nt?{value:et,valid:Nt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Qe=We("image_dimensions"),at=We("image_advtab"),He=We("image_uploadtab"),Re=We("image_prepend_url"),Ve=We("image_class_list"),Oe=We("image_description"),ve=We("image_title"),se=We("image_caption"),xe=We("image_list"),ot=We("a11y_advanced_options"),Xe=We("automatic_uploads"),jt=he=>Ze(he.options.get("images_upload_url")),qt=he=>N(he.options.get("images_upload_handler")),vn=(he,je)=>Math.max(parseInt(he,10),parseInt(je,10)),Kn=he=>new Promise(je=>{const et=document.createElement("img"),Nt=mo=>{et.onload=et.onerror=null,et.parentNode&&et.parentNode.removeChild(et),je(mo)};et.onload=()=>{const mo=vn(et.width,et.clientWidth),Wn=vn(et.height,et.clientHeight),Wr={width:mo,height:Wn};Nt(Promise.resolve(Wr))},et.onerror=()=>{Nt(Promise.reject(`Failed to get image dimensions for: ${he}`))};const Dn=et.style;Dn.visibility="hidden",Dn.position="fixed",Dn.bottom=Dn.left="0px",Dn.width=Dn.height="auto",document.body.appendChild(et),et.src=he}),zn=he=>(he&&(he=he.replace(/px$/,"")),he),fn=he=>(he.length>0&&/^[0-9]+$/.test(he)&&(he+="px"),he),oo=he=>{if(he.margin){const je=String(he.margin).split(" ");switch(je.length){case 1:he["margin-top"]=he["margin-top"]||je[0],he["margin-right"]=he["margin-right"]||je[0],he["margin-bottom"]=he["margin-bottom"]||je[0],he["margin-left"]=he["margin-left"]||je[0];break;case 2:he["margin-top"]=he["margin-top"]||je[0],he["margin-right"]=he["margin-right"]||je[1],he["margin-bottom"]=he["margin-bottom"]||je[0],he["margin-left"]=he["margin-left"]||je[1];break;case 3:he["margin-top"]=he["margin-top"]||je[0],he["margin-right"]=he["margin-right"]||je[1],he["margin-bottom"]=he["margin-bottom"]||je[2],he["margin-left"]=he["margin-left"]||je[1];break;case 4:he["margin-top"]=he["margin-top"]||je[0],he["margin-right"]=he["margin-right"]||je[1],he["margin-bottom"]=he["margin-bottom"]||je[2],he["margin-left"]=he["margin-left"]||je[3]}delete he.margin}return he},ft=(he,je)=>{const et=xe(he);y(et)?fetch(et).then(Nt=>{Nt.ok&&Nt.json().then(je)}):D(et)?et(je):je(et)},Tt=(he,je,et)=>{const Nt=()=>{et.onload=et.onerror=null,he.selection&&(he.selection.select(et),he.nodeChanged())};et.onload=()=>{!je.width&&!je.height&&Qe(he)&&he.dom.setAttribs(et,{width:String(et.clientWidth),height:String(et.clientHeight)}),Nt()},et.onerror=Nt},sn=he=>new Promise((je,et)=>{const Nt=new FileReader;Nt.onload=()=>{je(Nt.result)},Nt.onerror=()=>{var Dn;et((Dn=Nt.error)===null||Dn===void 0?void 0:Dn.message)},Nt.readAsDataURL(he)}),kn=he=>he.nodeName==="IMG"&&(he.hasAttribute("data-mce-object")||he.hasAttribute("data-mce-placeholder")),Pn=(he,je)=>{const et=he.options.get;return q.isDomSafe(je,"img",{allow_html_data_urls:et("allow_html_data_urls"),allow_script_urls:et("allow_script_urls"),allow_svg_data_urls:et("allow_svg_data_urls")})},$n=me.DOM,_o=he=>he.style.marginLeft&&he.style.marginRight&&he.style.marginLeft===he.style.marginRight?zn(he.style.marginLeft):"",mr=he=>he.style.marginTop&&he.style.marginBottom&&he.style.marginTop===he.style.marginBottom?zn(he.style.marginTop):"",Ot=he=>he.style.borderWidth?zn(he.style.borderWidth):"",wt=(he,je)=>{var et;return he.hasAttribute(je)&&(et=he.getAttribute(je))!==null&&et!==void 0?et:""},wn=he=>he.parentNode!==null&&he.parentNode.nodeName==="FIGURE",xn=(he,je,et)=>{et===""||et===null?he.removeAttribute(je):he.setAttribute(je,et)},pn=he=>{const je=$n.create("figure",{class:"image"});$n.insertAfter(je,he),je.appendChild(he),je.appendChild($n.create("figcaption",{contentEditable:"true"},"Caption")),je.contentEditable="false"},eo=he=>{const je=he.parentNode;N(je)&&($n.insertAfter(he,je),$n.remove(je))},yr=he=>{wn(he)?eo(he):pn(he)},As=(he,je)=>{const et=he.getAttribute("style"),Nt=je(et!==null?et:"");Nt.length>0?(he.setAttribute("style",Nt),he.setAttribute("data-mce-style",Nt)):he.removeAttribute("style")},la=(he,je)=>(et,Nt,Dn)=>{const mo=et.style;mo[Nt]?(mo[Nt]=fn(Dn),As(et,je)):xn(et,Nt,Dn)},pr=(he,je)=>he.style[je]?zn(he.style[je]):wt(he,je),Sa=(he,je)=>{const et=fn(je);he.style.marginLeft=et,he.style.marginRight=et},wr=(he,je)=>{const et=fn(je);he.style.marginTop=et,he.style.marginBottom=et},Jo=(he,je)=>{const et=fn(je);he.style.borderWidth=et},To=(he,je)=>{he.style.borderStyle=je},xs=he=>{var je;return(je=he.style.borderStyle)!==null&&je!==void 0?je:""},ra=he=>N(he)&&he.nodeName==="FIGURE",Vr=he=>he.nodeName==="IMG",ca=he=>$n.getAttrib(he,"alt").length===0&&$n.getAttrib(he,"role")==="presentation",Yr=he=>ca(he)?"":wt(he,"alt"),ri=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),as=(he,je)=>{var et;const Nt=document.createElement("img");return xn(Nt,"style",je.style),(_o(Nt)||je.hspace!=="")&&Sa(Nt,je.hspace),(mr(Nt)||je.vspace!=="")&&wr(Nt,je.vspace),(Ot(Nt)||je.border!=="")&&Jo(Nt,je.border),(xs(Nt)||je.borderStyle!=="")&&To(Nt,je.borderStyle),he((et=Nt.getAttribute("style"))!==null&&et!==void 0?et:"")},Ta=(he,je)=>{const et=document.createElement("img");if(uo(he,{...je,caption:!1},et),Pt(et,je.alt,je.isDecorative),je.caption){const Nt=$n.create("figure",{class:"image"});return Nt.appendChild(et),Nt.appendChild($n.create("figcaption",{contentEditable:"true"},"Caption")),Nt.contentEditable="false",Nt}else return et},dt=(he,je)=>({src:wt(je,"src"),alt:Yr(je),title:wt(je,"title"),width:pr(je,"width"),height:pr(je,"height"),class:wt(je,"class"),style:he(wt(je,"style")),caption:wn(je),hspace:_o(je),vspace:mr(je),border:Ot(je),borderStyle:xs(je),isDecorative:ca(je)}),Le=(he,je,et,Nt,Dn)=>{et[Nt]!==je[Nt]&&Dn(he,Nt,String(et[Nt]))},Pt=(he,je,et)=>{if(et){$n.setAttrib(he,"role","presentation");const Nt=Ce.fromDom(he);De(Nt,"alt","")}else{if(k(je)){const Nt=Ce.fromDom(he);Se(Nt,"alt")}else{const Nt=Ce.fromDom(he);De(Nt,"alt",je)}$n.getAttrib(he,"role")==="presentation"&&$n.setAttrib(he,"role","")}},Zt=(he,je,et)=>{(et.alt!==je.alt||et.isDecorative!==je.isDecorative)&&Pt(he,et.alt,et.isDecorative)},to=(he,je)=>(et,Nt,Dn)=>{he(et,Dn),As(et,je)},uo=(he,je,et)=>{const Nt=dt(he,et);Le(et,Nt,je,"caption",(Dn,mo,Wn)=>yr(Dn)),Le(et,Nt,je,"src",xn),Le(et,Nt,je,"title",xn),Le(et,Nt,je,"width",la("width",he)),Le(et,Nt,je,"height",la("height",he)),Le(et,Nt,je,"class",xn),Le(et,Nt,je,"style",to((Dn,mo)=>xn(Dn,"style",mo),he)),Le(et,Nt,je,"hspace",to(Sa,he)),Le(et,Nt,je,"vspace",to(wr,he)),Le(et,Nt,je,"border",to(Jo,he)),Le(et,Nt,je,"borderStyle",to(To,he)),Zt(et,Nt,je)},Xn=(he,je)=>{const et=he.dom.styles.parse(je),Nt=oo(et),Dn=he.dom.styles.parse(he.dom.styles.serialize(Nt));return he.dom.styles.serialize(Dn)},vr=he=>{const je=he.selection.getNode(),et=he.dom.getParent(je,"figure.image");return et?he.dom.select("img",et)[0]:je&&(je.nodeName!=="IMG"||kn(je))?null:je},zo=(he,je)=>{var et;const Nt=he.dom,Dn=ae(he.schema.getTextBlockElements(),(Wn,Wr)=>!he.schema.isValidChild(Wr,"figure")),mo=Nt.getParent(je.parentNode,Wn=>G(Dn,Wn.nodeName),he.getBody());return mo&&(et=Nt.split(mo,je))!==null&&et!==void 0?et:je},Fo=he=>{const je=vr(he);return je?dt(et=>Xn(he,et),je):ri()},ws=(he,je)=>{const et=Ta(Dn=>Xn(he,Dn),je);he.dom.setAttrib(et,"data-mce-id","__mcenew"),he.focus(),he.selection.setContent(et.outerHTML);const Nt=he.dom.select('*[data-mce-id="__mcenew"]')[0];if(he.dom.setAttrib(Nt,"data-mce-id",null),ra(Nt)){const Dn=zo(he,Nt);he.selection.select(Dn)}else he.selection.select(Nt)},dn=(he,je)=>{he.dom.setAttrib(je,"src",je.getAttribute("src"))},lt=(he,je)=>{if(je){const et=he.dom.is(je.parentNode,"figure.image")?je.parentNode:je;he.dom.remove(et),he.focus(),he.nodeChanged(),he.dom.isEmpty(he.getBody())&&(he.setContent(""),he.selection.setCursorLocation())}},ut=(he,je)=>{const et=vr(he);if(et)if(uo(Nt=>Xn(he,Nt),je,et),dn(he,et),ra(et.parentNode)){const Nt=et.parentNode;zo(he,Nt),he.selection.select(et.parentNode)}else he.selection.select(et),Tt(he,je,et)},en=(he,je)=>{const et=je.src;return{...je,src:Pn(he,et)?et:""}},En=(he,je)=>{const et=vr(he);if(et){const Dn={...dt(Wn=>Xn(he,Wn),et),...je},mo=en(he,Dn);Dn.src?ut(he,mo):lt(he,et)}else je.src&&ws(he,{...ri(),...je})},_n=(he=>(...je)=>{if(je.length===0)throw new Error("Can't merge zero objects");const et={};for(let Nt=0;Nt<je.length;Nt++){const Dn=je[Nt];for(const mo in Dn)Q(Dn,mo)&&(et[mo]=he(et[mo],Dn[mo]))}return et})((he,je)=>x(he)&&x(je)?_n(he,je):je);var Jn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),go=tinymce.util.Tools.resolve("tinymce.util.Tools");const $o=he=>y(he.value)?he.value:"",Hr=he=>y(he.text)?he.text:y(he.title)?he.title:"",Es=(he,je)=>{const et=[];return go.each(he,Nt=>{const Dn=Hr(Nt);if(Nt.menu!==void 0){const mo=Es(Nt.menu,je);et.push({text:Dn,items:mo})}else{const mo=je(Nt);et.push({text:Dn,value:mo})}}),et},Qo=(he=$o)=>je=>je?I.from(je).map(et=>Es(et,he)):I.none(),fi=he=>Qo($o)(he),ar=he=>Q(he,"items"),Tr=(he,je)=>U(he,et=>ar(et)?Tr(et.items,je):et.value===je?I.some(et):I.none()),Ys={sanitizer:Qo,sanitize:fi,findEntry:(he,je)=>he.bind(et=>Tr(et,je))},Ei={makeTab:he=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Fa=he=>{const je=Ys.sanitizer(it=>he.convertURL(it.value||it.url||"","src")),et=new Promise(it=>{ft(he,Ft=>{it(je(Ft).map(Vt=>pe([[{text:"None",value:""}],Vt])))})}),Nt=Ys.sanitize(Ve(he)),Dn=at(he),mo=He(he),Wn=jt(he),Wr=qt(he),is=Fo(he),nn=Oe(he),Xs=ve(he),hs=Qe(he),Js=se(he),Dl=ot(he),rr=Xe(he),Ye=I.some(Re(he)).filter(it=>y(it)&&it.length>0);return et.then(it=>({image:is,imageList:it,classList:Nt,hasAdvTab:Dn,hasUploadTab:mo,hasUploadUrl:Wn,hasUploadHandler:Wr,hasDescription:nn,hasImageTitle:Xs,hasDimensions:hs,hasImageCaption:Js,prependURL:Ye,hasAccessibilityOptions:Dl,automaticUploads:rr}))},di=he=>{const je={name:"src",type:"urlinput",filetype:"image",label:"Source"},et=he.imageList.map(Xs=>({name:"images",type:"listbox",label:"Image list",items:Xs})),Nt={name:"alt",type:"input",label:"Alternative description",enabled:!(he.hasAccessibilityOptions&&he.image.isDecorative)},Dn={name:"title",type:"input",label:"Image title"},mo={name:"dimensions",type:"sizeinput"},Wn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Wr=he.classList.map(Xs=>({name:"classes",type:"listbox",label:"Class",items:Xs})),is={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},nn=Xs=>Xs?{type:"grid",columns:2}:{type:"panel"};return pe([[je],et.toArray(),he.hasAccessibilityOptions&&he.hasDescription?[Wn]:[],he.hasDescription?[Nt]:[],he.hasImageTitle?[Dn]:[],he.hasDimensions?[mo]:[],[{...nn(he.classList.isSome()&&he.hasImageCaption),items:pe([Wr.toArray(),he.hasImageCaption?[is]:[]])}]])},Mi={makeTab:he=>({title:"General",name:"general",items:di(he)}),makeItems:di},Cr={makeTab:he=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Ra=he=>({prevImage:Ys.findEntry(he.imageList,he.image.src),prevAlt:he.image.alt,open:!0}),Vs=he=>({src:{value:he.src,meta:{}},images:he.src,alt:he.alt,title:he.title,dimensions:{width:he.width,height:he.height},classes:he.class,caption:he.caption,style:he.style,vspace:he.vspace,border:he.border,hspace:he.hspace,borderstyle:he.borderStyle,fileinput:[],isDecorative:he.isDecorative}),si=(he,je)=>({src:he.src.value,alt:(he.alt===null||he.alt.length===0)&&je?null:he.alt,title:he.title,width:he.dimensions.width,height:he.dimensions.height,class:he.classes,style:he.style,caption:he.caption,hspace:he.hspace,vspace:he.vspace,border:he.border,borderStyle:he.borderstyle,isDecorative:he.isDecorative}),Oa=(he,je)=>/^(?:[a-zA-Z]+:)?\/\//.test(je)?I.none():he.prependURL.bind(et=>je.substring(0,et.length)!==et?I.some(et+je):I.none()),Ai=(he,je)=>{const et=je.getData();Oa(he,et.src.value).each(Nt=>{je.setData({src:{value:Nt,meta:et.src.meta}})})},ga=(he,je,et)=>{he.hasDescription&&y(et.alt)&&(je.alt=et.alt),he.hasAccessibilityOptions&&(je.isDecorative=et.isDecorative||je.isDecorative||!1),he.hasImageTitle&&y(et.title)&&(je.title=et.title),he.hasDimensions&&(y(et.width)&&(je.dimensions.width=et.width),y(et.height)&&(je.dimensions.height=et.height)),y(et.class)&&Ys.findEntry(he.classList,et.class).each(Nt=>{je.classes=Nt.value}),he.hasImageCaption&&A(et.caption)&&(je.caption=et.caption),he.hasAdvTab&&(y(et.style)&&(je.style=et.style),y(et.vspace)&&(je.vspace=et.vspace),y(et.border)&&(je.border=et.border),y(et.hspace)&&(je.hspace=et.hspace),y(et.borderstyle)&&(je.borderstyle=et.borderstyle))},dl=(he,je)=>{const et=je.getData(),Nt=et.src.meta;if(Nt!==void 0){const Dn=_n({},et);ga(he,Dn,Nt),je.setData(Dn)}},hi=(he,je,et,Nt)=>{const Dn=Nt.getData(),mo=Dn.src.value,Wn=Dn.src.meta||{};!Wn.width&&!Wn.height&&je.hasDimensions&&(Ze(mo)?he.imageSize(mo).then(Wr=>{et.open&&Nt.setData({dimensions:Wr})}).catch(Wr=>console.error(Wr)):Nt.setData({dimensions:{width:"",height:""}}))},hl=(he,je,et)=>{const Nt=et.getData(),Dn=Ys.findEntry(he.imageList,Nt.src.value);je.prevImage=Dn,et.setData({images:Dn.map(mo=>mo.value).getOr("")})},Sr=(he,je,et,Nt)=>{Ai(je,Nt),dl(je,Nt),hi(he,je,et,Nt),hl(je,et,Nt)},ma=(he,je,et,Nt)=>{const Dn=Nt.getData(),mo=Ys.findEntry(je.imageList,Dn.images);mo.each(Wn=>{Dn.alt===""||et.prevImage.map(is=>is.text===Dn.alt).getOr(!1)?Wn.value===""?Nt.setData({src:Wn,alt:et.prevAlt}):Nt.setData({src:Wn,alt:Wn.text}):Nt.setData({src:Wn})}),et.prevImage=mo,Sr(he,je,et,Nt)},Ue=(he,je,et,Nt)=>{const Dn=Nt.getData();Nt.block("Uploading image"),qe(Dn.fileinput).fold(()=>{Nt.unblock()},mo=>{const Wn=URL.createObjectURL(mo),Wr=()=>{Nt.unblock(),URL.revokeObjectURL(Wn)},is=nn=>{Nt.setData({src:{value:nn,meta:{}}}),Nt.showTab("general"),Sr(he,je,et,Nt)};sn(mo).then(nn=>{const Xs=he.createBlobCache(mo,Wn,nn);je.automaticUploads?he.uploadImage(Xs).then(hs=>{is(hs.url),Wr()}).catch(hs=>{Wr(),he.alertErr(hs)}):(he.addToBlobCache(Xs),is(Xs.blobUri()),Nt.unblock())})})},pt=(he,je,et)=>(Nt,Dn)=>{Dn.name==="src"?Sr(he,je,et,Nt):Dn.name==="images"?ma(he,je,et,Nt):Dn.name==="alt"?et.prevAlt=Nt.getData().alt:Dn.name==="fileinput"?Ue(he,je,et,Nt):Dn.name==="isDecorative"&&Nt.setEnabled("alt",!Nt.getData().isDecorative)},xt=he=>()=>{he.open=!1},Gt=he=>he.hasAdvTab||he.hasUploadUrl||he.hasUploadHandler?{type:"tabpanel",tabs:pe([[Mi.makeTab(he)],he.hasAdvTab?[Ei.makeTab(he)]:[],he.hasUploadTab&&(he.hasUploadUrl||he.hasUploadHandler)?[Cr.makeTab(he)]:[]])}:{type:"panel",items:Mi.makeItems(he)},gn=(he,je,et)=>Nt=>{const Dn=_n(Vs(je.image),Nt.getData()),mo={...Dn,style:as(et.normalizeCss,si(Dn,!1))};he.execCommand("mceUpdateImage",!1,si(mo,je.hasAccessibilityOptions)),he.editorUpload.uploadImagesAuto(),Nt.close()},Do=he=>je=>Pn(he,je)?Kn(he.documentBaseURI.toAbsolute(je)).then(et=>({width:String(et.width),height:String(et.height)})):Promise.resolve({width:"",height:""}),or=he=>(je,et,Nt)=>{var Dn;return he.editorUpload.blobCache.create({blob:je,blobUri:et,name:(Dn=je.name)===null||Dn===void 0?void 0:Dn.replace(/\.[^\.]+$/,""),filename:je.name,base64:Nt.split(",")[1]})},Ts=he=>je=>{he.editorUpload.blobCache.add(je)},xr=he=>je=>{he.windowManager.alert(je)},Bs=he=>je=>Xn(he,je),Cs=he=>je=>he.dom.parseStyle(je),Ls=he=>(je,et)=>he.dom.serializeStyle(je,et),Ma=he=>je=>Jn(he).upload([je],!1).then(et=>{var Nt;return et.length===0?Promise.reject("Failed to upload image"):et[0].status===!1?Promise.reject((Nt=et[0].error)===null||Nt===void 0?void 0:Nt.message):et[0]}),ie=he=>{const je={imageSize:Do(he),addToBlobCache:Ts(he),createBlobCache:or(he),alertErr:xr(he),normalizeCss:Bs(he),parseStyle:Cs(he),serializeStyle:Ls(he),uploadImage:Ma(he)};return{open:()=>{Fa(he).then(Nt=>{const Dn=Ra(Nt);return{title:"Insert/Edit Image",size:"normal",body:Gt(Nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Vs(Nt.image),onSubmit:gn(he,Nt,je),onChange:pt(je,Nt,Dn),onClose:xt(Dn)}}).then(he.windowManager.open)}}},Ke=he=>{he.addCommand("mceImage",ie(he).open),he.addCommand("mceUpdateImage",(je,et)=>{he.undoManager.transact(()=>En(he,et))})},Ct=he=>{const je=he.attr("class");return N(je)&&/\bimage\b/.test(je)},cn=he=>je=>{let et=je.length;const Nt=Dn=>{Dn.attr("contenteditable",he?"true":null)};for(;et--;){const Dn=je[et];Ct(Dn)&&(Dn.attr("contenteditable",he?"false":null),go.each(Dn.getAll("figcaption"),Nt))}},Fn=he=>{he.on("PreInit",()=>{he.parser.addNodeFilter("figure",cn(!0)),he.serializer.addNodeFilter("figure",cn(!1))})},Hn=he=>{he.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ie(he).open,onSetup:je=>(je.setActive(N(vr(he))),he.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",je.setActive).unbind)}),he.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ie(he).open}),he.ui.registry.addContextMenu("image",{update:je=>ra(je)||Vr(je)&&!kn(je)?["image"]:[]})};var Ro=()=>{e.add("image",he=>{tt(he),Fn(he),Hn(he),Ke(he)})};Ro()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(We,tt,Qe)=>{var at;return Qe(We,tt.prototype)?!0:((at=We.constructor)===null||at===void 0?void 0:at.name)===tt.name},s=We=>{const tt=typeof We;return We===null?"null":tt==="object"&&Array.isArray(We)?"array":tt==="object"&&o(We,String,(Qe,at)=>at.isPrototypeOf(Qe))?"string":tt},l=We=>tt=>s(tt)===We,c=We=>tt=>typeof tt===We,d=l("string"),p=l("object"),v=l("array"),y=c("function");var S=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.EditorManager"),T=tinymce.util.Tools.resolve("tinymce.Env"),k=tinymce.util.Tools.resolve("tinymce.util.Tools");const A=We=>tt=>tt.options.get(We),F=We=>{const tt=We.options.register,Qe=at=>d(at)||y(at)||p(at);tt("importcss_merge_classes",{processor:"boolean",default:!0}),tt("importcss_exclusive",{processor:"boolean",default:!0}),tt("importcss_selector_converter",{processor:"function"}),tt("importcss_selector_filter",{processor:Qe}),tt("importcss_file_filter",{processor:Qe}),tt("importcss_groups",{processor:"object[]"}),tt("importcss_append",{processor:"boolean",default:!1})},N=A("importcss_merge_classes"),D=A("importcss_exclusive"),B=A("importcss_selector_converter"),O=A("importcss_selector_filter"),P=A("importcss_groups"),I=A("importcss_append"),z=A("importcss_file_filter"),K=A("skin"),j=A("skin_url"),oe=Array.prototype.push,ke=(We,tt)=>{const Qe=We.length,at=new Array(Qe);for(let He=0;He<Qe;He++){const Re=We[He];at[He]=tt(Re,He)}return at},ae=We=>{const tt=[];for(let Qe=0,at=We.length;Qe<at;++Qe){if(!v(We[Qe]))throw new Error("Arr.flatten item "+Qe+" was not an array, input: "+We);oe.apply(tt,We[Qe])}return tt},Q=(We,tt)=>ae(ke(We,tt)),G=()=>{const We=[],tt=[],Qe={};return{addItemToGroup:(Ve,Oe)=>{Qe[Ve]?Qe[Ve].push(Oe):(tt.push(Ve),Qe[Ve]=[Oe])},addItem:Ve=>{We.push(Ve)},toFormats:()=>Q(tt,Oe=>{const ve=Qe[Oe];return ve.length===0?[]:[{title:Oe,items:ve}]}).concat(We)}},ue=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,pe=We=>{const tt=T.cacheSuffix;return d(We)&&(We=We.replace("?"+tt,"").replace("&"+tt,"")),We},be=(We,tt)=>{const Qe=K(We);if(Qe){const at=j(We),He=at?We.documentBaseURI.toAbsolute(at):x.baseURL+"/skins/ui/"+Qe,Re=x.baseURL+"/skins/content/";return tt===He+"/content"+(We.inline?".inline":"")+".min.css"||tt.indexOf(Re)!==-1}return!1},qe=We=>d(We)?tt=>tt.indexOf(We)!==-1:We instanceof RegExp?tt=>We.test(tt):We,U=We=>We.styleSheet,Fe=We=>We.selectorText,De=(We,tt,Qe)=>{const at=[],He={},Re=(Ve,Oe)=>{let ve=Ve.href,se;if(ve=pe(ve),!(!ve||Qe&&!Qe(ve,Oe)||be(We,ve))){k.each(Ve.imports,xe=>{Re(xe,!0)});try{se=Ve.cssRules||Ve.rules}catch{}k.each(se,xe=>{U(xe)?Re(xe.styleSheet,!0):Fe(xe)&&k.each(xe.selectorText.split(","),ot=>{at.push(k.trim(ot))})})}};k.each(We.contentCSS,Ve=>{He[Ve]=!0}),Qe||(Qe=(Ve,Oe)=>Oe||He[Ve]);try{k.each(tt.styleSheets,Ve=>{Re(Ve)})}catch{}return at},Se=(We,tt)=>{let Qe={};const at=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(tt);if(!at)return;const He=at[1],Re=at[2].substr(1).split(".").join(" "),Ve=k.makeMap("a,img");return at[1]?(Qe={title:tt},We.schema.getTextBlockElements()[He]?Qe.block=He:We.schema.getBlockElements()[He]||Ve[He.toLowerCase()]?Qe.selector=He:Qe.inline=He):at[2]&&(Qe={inline:"span",title:tt.substr(1),classes:Re}),N(We)?Qe.classes=Re:Qe.attributes={class:Re},Qe},re=(We,tt)=>k.grep(We,Qe=>!Qe.filter||Qe.filter(tt)),le=We=>k.map(We,tt=>k.extend({},tt,{original:tt,selectors:{},filter:qe(tt.filter)})),fe=(We,tt)=>tt===null||D(We),ce=(We,tt,Qe,at)=>!(fe(We,Qe)?tt in at:tt in Qe.selectors),Be=(We,tt,Qe,at)=>{fe(We,Qe)?at[tt]=!0:Qe.selectors[tt]=!0},Ce=(We,tt,Qe,at)=>{let He;const Re=B(We);return at&&at.selector_converter?He=at.selector_converter:Re?He=Re:He=()=>Se(We,Qe),He.call(tt,Qe,at)},me=We=>{We.on("init",()=>{const tt=G(),Qe={},at=qe(O(We)),He=le(P(We)),Re=(Oe,ve)=>{if(ce(We,Oe,ve,Qe)){Be(We,Oe,ve,Qe);const se=Ce(We,We.plugins.importcss,Oe,ve);if(se){const xe=se.name||S.DOM.uniqueId();return We.formatter.register(xe,se),{title:se.title,format:xe}}}return null};k.each(De(We,We.getDoc(),qe(z(We))),Oe=>{if(!ue.test(Oe)&&(!at||at(Oe))){const ve=re(He,Oe);if(ve.length>0)k.each(ve,se=>{const xe=Re(Oe,se);xe&&tt.addItemToGroup(se.title,xe)});else{const se=Re(Oe,null);se&&tt.addItem(se)}}});const Ve=tt.toFormats();We.dispatch("addStyleModifications",{items:Ve,replace:!I(We)})})},q=We=>({convertSelectorToFormat:Qe=>Se(We,Qe)});var Ze=()=>{e.add("importcss",We=>(F(We),me(We),q(We)))};Ze()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=z=>K=>K.options.get(z),s=z=>{const K=z.options.register;K("insertdatetime_dateformat",{processor:"string",default:z.translate("%Y-%m-%d")}),K("insertdatetime_timeformat",{processor:"string",default:z.translate("%H:%M:%S")}),K("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),K("insertdatetime_element",{processor:"boolean",default:!1})},l=o("insertdatetime_dateformat"),c=o("insertdatetime_timeformat"),d=o("insertdatetime_formats"),p=o("insertdatetime_element"),v=z=>{const K=d(z);return K.length>0?K[0]:c(z)},y="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),S="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),x="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),T="January February March April May June July August September October November December".split(" "),k=(z,K)=>{if(z=""+z,z.length<K)for(let j=0;j<K-z.length;j++)z="0"+z;return z},A=(z,K,j=new Date)=>(K=K.replace("%D","%m/%d/%Y"),K=K.replace("%r","%I:%M:%S %p"),K=K.replace("%Y",""+j.getFullYear()),K=K.replace("%y",""+j.getYear()),K=K.replace("%m",k(j.getMonth()+1,2)),K=K.replace("%d",k(j.getDate(),2)),K=K.replace("%H",""+k(j.getHours(),2)),K=K.replace("%M",""+k(j.getMinutes(),2)),K=K.replace("%S",""+k(j.getSeconds(),2)),K=K.replace("%I",""+((j.getHours()+11)%12+1)),K=K.replace("%p",j.getHours()<12?"AM":"PM"),K=K.replace("%B",""+z.translate(T[j.getMonth()])),K=K.replace("%b",""+z.translate(x[j.getMonth()])),K=K.replace("%A",""+z.translate(S[j.getDay()])),K=K.replace("%a",""+z.translate(y[j.getDay()])),K=K.replace("%%","%"),K),F=(z,K,j,oe)=>{const ke=z.dom.create("time",{datetime:j},oe);z.dom.replace(ke,K),z.selection.select(ke,!0),z.selection.collapse(!1)},N=(z,K)=>{if(p(z)){const j=A(z,K);let oe;/%[HMSIp]/.test(K)?oe=A(z,"%Y-%m-%dT%H:%M"):oe=A(z,"%Y-%m-%d");const ke=z.dom.getParent(z.selection.getStart(),"time");ke?F(z,ke,oe,j):z.insertContent('<time datetime="'+oe+'">'+j+"</time>")}else z.insertContent(A(z,K))},D=z=>{z.addCommand("mceInsertDate",(K,j)=>{N(z,j!=null?j:l(z))}),z.addCommand("mceInsertTime",(K,j)=>{N(z,j!=null?j:c(z))})},B=z=>{let K=z;return{get:()=>K,set:ke=>{K=ke}}};var O=tinymce.util.Tools.resolve("tinymce.util.Tools");const P=z=>{const K=d(z),j=B(v(z)),oe=ae=>z.execCommand("mceInsertDate",!1,ae);z.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:ae=>ae===j.get(),fetch:ae=>{ae(O.map(K,Q=>({type:"choiceitem",text:A(z,Q),value:Q})))},onAction:ae=>{oe(j.get())},onItemAction:(ae,Q)=>{j.set(Q),oe(Q)}});const ke=ae=>()=>{j.set(ae),oe(ae)};z.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>O.map(K,ae=>({type:"menuitem",text:A(z,ae),onAction:ke(ae)}))})};var I=()=>{e.add("insertdatetime",z=>{s(z),D(z),P(z)})};I()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Ue,pt,xt)=>{var Gt;return xt(Ue,pt.prototype)?!0:((Gt=Ue.constructor)===null||Gt===void 0?void 0:Gt.name)===pt.name},s=Ue=>{const pt=typeof Ue;return Ue===null?"null":pt==="object"&&Array.isArray(Ue)?"array":pt==="object"&&o(Ue,String,(xt,Gt)=>Gt.isPrototypeOf(xt))?"string":pt},l=Ue=>pt=>s(pt)===Ue,c=Ue=>pt=>typeof pt===Ue,d=Ue=>pt=>Ue===pt,p=l("string"),v=l("object"),y=l("array"),S=d(null),x=c("boolean"),T=Ue=>Ue==null,k=Ue=>!T(Ue),A=c("function"),F=(Ue,pt)=>{if(y(Ue)){for(let xt=0,Gt=Ue.length;xt<Gt;++xt)if(!pt(Ue[xt]))return!1;return!0}return!1},N=()=>{},D=Ue=>()=>Ue,B=(Ue,pt)=>Ue===pt;class O{constructor(pt,xt){this.tag=pt,this.value=xt}static some(pt){return new O(!0,pt)}static none(){return O.singletonNone}fold(pt,xt){return this.tag?xt(this.value):pt()}isSome(){return this.tag}isNone(){return!this.tag}map(pt){return this.tag?O.some(pt(this.value)):O.none()}bind(pt){return this.tag?pt(this.value):O.none()}exists(pt){return this.tag&&pt(this.value)}forall(pt){return!this.tag||pt(this.value)}filter(pt){return!this.tag||pt(this.value)?this:O.none()}getOr(pt){return this.tag?this.value:pt}or(pt){return this.tag?this:pt}getOrThunk(pt){return this.tag?this.value:pt()}orThunk(pt){return this.tag?this:pt()}getOrDie(pt){if(this.tag)return this.value;throw new Error(pt!=null?pt:"Called getOrDie on None")}static from(pt){return k(pt)?O.some(pt):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(pt){this.tag&&pt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const P=Array.prototype.indexOf,I=Array.prototype.push,z=(Ue,pt)=>P.call(Ue,pt),K=(Ue,pt)=>z(Ue,pt)>-1,j=(Ue,pt)=>{const xt=Ue.length,Gt=new Array(xt);for(let gn=0;gn<xt;gn++){const Do=Ue[gn];Gt[gn]=pt(Do,gn)}return Gt},oe=(Ue,pt)=>{for(let xt=0,Gt=Ue.length;xt<Gt;xt++){const gn=Ue[xt];pt(gn,xt)}},ke=(Ue,pt,xt)=>(oe(Ue,(Gt,gn)=>{xt=pt(xt,Gt,gn)}),xt),ae=Ue=>{const pt=[];for(let xt=0,Gt=Ue.length;xt<Gt;++xt){if(!y(Ue[xt]))throw new Error("Arr.flatten item "+xt+" was not an array, input: "+Ue);I.apply(pt,Ue[xt])}return pt},Q=(Ue,pt)=>ae(j(Ue,pt)),G=(Ue,pt)=>{for(let xt=0;xt<Ue.length;xt++){const Gt=pt(Ue[xt],xt);if(Gt.isSome())return Gt}return O.none()},ue=(Ue,pt,xt=B)=>Ue.exists(Gt=>xt(Gt,pt)),pe=Ue=>{const pt=[],xt=Gt=>{pt.push(Gt)};for(let Gt=0;Gt<Ue.length;Gt++)Ue[Gt].each(xt);return pt},be=(Ue,pt)=>Ue?O.some(pt):O.none(),qe=Ue=>pt=>pt.options.get(Ue),U=Ue=>{const pt=Ue.options.register;pt("link_assume_external_targets",{processor:xt=>{const Gt=p(xt)||x(xt);return Gt?xt===!0?{value:1,valid:Gt}:xt==="http"||xt==="https"?{value:xt,valid:Gt}:{value:0,valid:Gt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),pt("link_context_toolbar",{processor:"boolean",default:!1}),pt("link_list",{processor:xt=>p(xt)||A(xt)||F(xt,v)}),pt("link_default_target",{processor:"string"}),pt("link_default_protocol",{processor:"string",default:"https"}),pt("link_target_list",{processor:xt=>x(xt)||F(xt,v),default:!0}),pt("link_rel_list",{processor:"object[]",default:[]}),pt("link_class_list",{processor:"object[]",default:[]}),pt("link_title",{processor:"boolean",default:!0}),pt("allow_unsafe_link_target",{processor:"boolean",default:!1}),pt("link_quicklink",{processor:"boolean",default:!1})},Fe=qe("link_assume_external_targets"),De=qe("link_context_toolbar"),Se=qe("link_list"),re=qe("link_default_target"),le=qe("link_default_protocol"),fe=qe("link_target_list"),ce=qe("link_rel_list"),Be=qe("link_class_list"),Ce=qe("link_title"),me=qe("allow_unsafe_link_target"),q=qe("link_quicklink");var Ze=tinymce.util.Tools.resolve("tinymce.util.Tools");const We=Ue=>p(Ue.value)?Ue.value:"",tt=Ue=>p(Ue.text)?Ue.text:p(Ue.title)?Ue.title:"",Qe=(Ue,pt)=>{const xt=[];return Ze.each(Ue,Gt=>{const gn=tt(Gt);if(Gt.menu!==void 0){const Do=Qe(Gt.menu,pt);xt.push({text:gn,items:Do})}else{const Do=pt(Gt);xt.push({text:gn,value:Do})}}),xt},at=(Ue=We)=>pt=>O.from(pt).map(xt=>Qe(xt,Ue)),Ve={sanitize:Ue=>at(We)(Ue),sanitizeWith:at,createUi:(Ue,pt)=>xt=>({name:Ue,type:"listbox",label:pt,items:xt}),getValue:We},Oe=Object.keys,ve=Object.hasOwnProperty,se=(Ue,pt)=>{const xt=Oe(Ue);for(let Gt=0,gn=xt.length;Gt<gn;Gt++){const Do=xt[Gt],or=Ue[Do];pt(or,Do)}},xe=Ue=>(pt,xt)=>{Ue[xt]=pt},ot=(Ue,pt,xt,Gt)=>{se(Ue,(gn,Do)=>{(pt(gn,Do)?xt:Gt)(gn,Do)})},Xe=(Ue,pt)=>{const xt={};return ot(Ue,pt,xe(xt),N),xt},jt=(Ue,pt)=>ve.call(Ue,pt),qt=(Ue,pt)=>jt(Ue,pt)&&Ue[pt]!==void 0&&Ue[pt]!==null;var vn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Kn=tinymce.util.Tools.resolve("tinymce.util.URI");const zn=Ue=>k(Ue)&&Ue.nodeName.toLowerCase()==="a",fn=Ue=>zn(Ue)&&!!Tt(Ue),oo=(Ue,pt)=>{if(Ue.collapsed)return[];{const xt=Ue.cloneContents(),Gt=xt.firstChild,gn=new vn(Gt,xt),Do=[];let or=Gt;do pt(or)&&Do.push(or);while(or=gn.next());return Do}},ft=Ue=>/^\w+:/i.test(Ue),Tt=Ue=>{var pt,xt;return(xt=(pt=Ue.getAttribute("data-mce-href"))!==null&&pt!==void 0?pt:Ue.getAttribute("href"))!==null&&xt!==void 0?xt:""},sn=(Ue,pt)=>{const xt=["noopener"],Gt=Ue?Ue.split(/\s+/):[],gn=xr=>Ze.trim(xr.sort().join(" ")),Do=xr=>(xr=or(xr),xr.length>0?xr.concat(xt):xt),or=xr=>xr.filter(Bs=>Ze.inArray(xt,Bs)===-1),Ts=pt?Do(Gt):or(Gt);return Ts.length>0?gn(Ts):""},kn=Ue=>Ue.replace(/\uFEFF/g,""),Pn=(Ue,pt)=>(pt=pt||Ue.selection.getNode(),wn(pt)?O.from(Ue.dom.select("a[href]",pt)[0]):O.from(Ue.dom.getParent(pt,"a[href]"))),$n=(Ue,pt)=>Pn(Ue,pt).isSome(),_o=(Ue,pt)=>{const xt=pt.fold(()=>Ue.getContent({format:"text"}),Gt=>Gt.innerText||Gt.textContent||"");return kn(xt)},mr=Ue=>Ze.grep(Ue,fn).length>0,Ot=Ue=>oo(Ue,fn).length>0,wt=Ue=>{const pt=Ue.schema.getTextInlineElements(),xt=gn=>gn.nodeType===1&&!zn(gn)&&!jt(pt,gn.nodeName.toLowerCase());return oo(Ue.selection.getRng(),xt).length===0},wn=Ue=>k(Ue)&&Ue.nodeName==="FIGURE"&&/\bimage\b/i.test(Ue.className),xn=Ue=>ke(["title","rel","class","target"],(xt,Gt)=>(Ue[Gt].each(gn=>{xt[Gt]=gn.length>0?gn:null}),xt),{href:Ue.href}),pn=(Ue,pt)=>(pt==="http"||pt==="https")&&!ft(Ue)?pt+"://"+Ue:Ue,eo=(Ue,pt)=>{const xt={...pt};if(ce(Ue).length===0&&!me(Ue)){const Gt=sn(xt.rel,xt.target==="_blank");xt.rel=Gt||null}return O.from(xt.target).isNone()&&fe(Ue)===!1&&(xt.target=re(Ue)),xt.href=pn(xt.href,Fe(Ue)),xt},yr=(Ue,pt,xt,Gt)=>{xt.each(gn=>{jt(pt,"innerText")?pt.innerText=gn:pt.textContent=gn}),Ue.dom.setAttribs(pt,Gt),Ue.selection.select(pt)},As=(Ue,pt,xt,Gt)=>{const gn=Ue.dom;wn(pt)?Vr(gn,pt,Gt):xt.fold(()=>{Ue.execCommand("mceInsertLink",!1,Gt)},Do=>{Ue.insertContent(gn.createHTML("a",Gt,gn.encode(Do)))})},la=(Ue,pt,xt)=>{const Gt=Ue.selection.getNode(),gn=Pn(Ue,Gt),Do=eo(Ue,xn(xt));Ue.undoManager.transact(()=>{xt.href===pt.href&&pt.attach(),gn.fold(()=>{As(Ue,Gt,xt.text,Do)},or=>{Ue.focus(),yr(Ue,or,xt.text,Do)})})},pr=Ue=>{const pt=Ue.dom,xt=Ue.selection,Gt=xt.getBookmark(),gn=xt.getRng().cloneRange(),Do=pt.getParent(gn.startContainer,"a[href]",Ue.getBody()),or=pt.getParent(gn.endContainer,"a[href]",Ue.getBody());Do&&gn.setStartBefore(Do),or&&gn.setEndAfter(or),xt.setRng(gn),Ue.execCommand("unlink"),xt.moveToBookmark(Gt)},Sa=Ue=>{Ue.undoManager.transact(()=>{const pt=Ue.selection.getNode();wn(pt)?ra(Ue,pt):pr(Ue),Ue.focus()})},wr=Ue=>{const{class:pt,href:xt,rel:Gt,target:gn,text:Do,title:or}=Ue;return Xe({class:pt.getOrNull(),href:xt,rel:Gt.getOrNull(),target:gn.getOrNull(),text:Do.getOrNull(),title:or.getOrNull()},(Ts,xr)=>S(Ts)===!1)},Jo=(Ue,pt)=>{const xt=Ue.options.get,Gt={allow_html_data_urls:xt("allow_html_data_urls"),allow_script_urls:xt("allow_script_urls"),allow_svg_data_urls:xt("allow_svg_data_urls")},gn=pt.href;return{...pt,href:Kn.isDomSafe(gn,"a",Gt)?gn:""}},To=(Ue,pt,xt)=>{const Gt=Jo(Ue,xt);Ue.hasPlugin("rtc",!0)?Ue.execCommand("createlink",!1,wr(Gt)):la(Ue,pt,Gt)},xs=Ue=>{Ue.hasPlugin("rtc",!0)?Ue.execCommand("unlink"):Sa(Ue)},ra=(Ue,pt)=>{var xt;const Gt=Ue.dom.select("img",pt)[0];if(Gt){const gn=Ue.dom.getParents(Gt,"a[href]",pt)[0];gn&&((xt=gn.parentNode)===null||xt===void 0||xt.insertBefore(Gt,gn),Ue.dom.remove(gn))}},Vr=(Ue,pt,xt)=>{var Gt;const gn=Ue.select("img",pt)[0];if(gn){const Do=Ue.create("a",xt);(Gt=gn.parentNode)===null||Gt===void 0||Gt.insertBefore(Do,gn),Do.appendChild(gn)}},ca=Ue=>qt(Ue,"items"),Yr=(Ue,pt)=>G(pt,xt=>ca(xt)?Yr(Ue,xt.items):be(xt.value===Ue,xt)),ri=(Ue,pt,xt,Gt)=>{const gn=Gt[pt],Do=Ue.length>0;return gn!==void 0?Yr(gn,xt).map(or=>({url:{value:or.value,meta:{text:Do?Ue:or.text,attach:N}},text:Do?Ue:or.text})):O.none()},as=(Ue,pt)=>pt==="link"?Ue.link:pt==="anchor"?Ue.anchor:O.none(),dt={init:(Ue,pt)=>{const xt={text:Ue.text,title:Ue.title},Gt=xr=>{var Bs;return be(xt.title.length<=0,O.from((Bs=xr.meta)===null||Bs===void 0?void 0:Bs.title).getOr(""))},gn=xr=>{var Bs;return be(xt.text.length<=0,O.from((Bs=xr.meta)===null||Bs===void 0?void 0:Bs.text).getOr(xr.value))},Do=xr=>{const Bs=gn(xr.url),Cs=Gt(xr.url);return Bs.isSome()||Cs.isSome()?O.some({...Bs.map(Ls=>({text:Ls})).getOr({}),...Cs.map(Ls=>({title:Ls})).getOr({})}):O.none()},or=(xr,Bs)=>{const Cs=as(pt,Bs).getOr([]);return ri(xt.text,Bs,Cs,xr)};return{onChange:(xr,Bs)=>{const Cs=Bs.name;return Cs==="url"?Do(xr()):K(["anchor","link"],Cs)?or(xr(),Cs):((Cs==="text"||Cs==="title")&&(xt[Cs]=xr()[Cs]),O.none())}}},getDelta:ri};var Le=tinymce.util.Tools.resolve("tinymce.util.Delay");const Pt=(Ue,pt,xt)=>{const Gt=Ue.selection.getRng();Le.setEditorTimeout(Ue,()=>{Ue.windowManager.confirm(pt,gn=>{Ue.selection.setRng(Gt),xt(gn)})})},Zt=Ue=>{const pt=Ue.href;return pt.indexOf("@")>0&&pt.indexOf("/")===-1&&pt.indexOf("mailto:")===-1?O.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Gt=>({...Gt,href:"mailto:"+pt})}):O.none()},to=(Ue,pt)=>xt=>{const Gt=xt.href;return Ue===1&&!ft(Gt)||Ue===0&&/^\s*www(\.|\d\.)/i.test(Gt)?O.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${pt}:// prefix?`,preprocess:Do=>({...Do,href:pt+"://"+Gt})}):O.none()},Xn={preprocess:(Ue,pt)=>G([Zt,to(Fe(Ue),le(Ue))],xt=>xt(pt)).fold(()=>Promise.resolve(pt),xt=>new Promise(Gt=>{Pt(Ue,xt.message,gn=>{Gt(gn?xt.preprocess(pt):pt)})}))},zo={getAnchors:Ue=>{const pt=Ue.dom.select("a:not([href])"),xt=Q(pt,Gt=>{const gn=Gt.name||Gt.id;return gn?[{text:gn,value:"#"+gn}]:[]});return xt.length>0?O.some([{text:"None",value:""}].concat(xt)):O.none()}},ws={getClasses:Ue=>{const pt=Be(Ue);return pt.length>0?Ve.sanitize(pt):O.none()}},dn=Ue=>{try{return O.some(JSON.parse(Ue))}catch{return O.none()}},ut={getLinks:Ue=>{const pt=Gt=>Ue.convertURL(Gt.value||Gt.url||"","href"),xt=Se(Ue);return new Promise(Gt=>{p(xt)?fetch(xt).then(gn=>gn.ok?gn.text().then(dn):Promise.reject()).then(Gt,()=>Gt(O.none())):A(xt)?xt(gn=>Gt(O.some(gn))):Gt(O.from(xt))}).then(Gt=>Gt.bind(Ve.sanitizeWith(pt)).map(gn=>gn.length>0?[{text:"None",value:""}].concat(gn):gn))}},En={getRels:(Ue,pt)=>{const xt=ce(Ue);if(xt.length>0){const Gt=ue(pt,"_blank"),gn=me(Ue)===!1,Do=Ts=>sn(Ve.getValue(Ts),Gt);return(gn?Ve.sanitizeWith(Do):Ve.sanitize)(xt)}return O.none()}},An=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],_n={getTargets:Ue=>{const pt=fe(Ue);return y(pt)?Ve.sanitize(pt).orThunk(()=>O.some(An)):pt===!1?O.none():O.some(An)}},Jn=(Ue,pt,xt)=>{const Gt=Ue.getAttrib(pt,xt);return Gt!==null&&Gt.length>0?O.some(Gt):O.none()},go=(Ue,pt)=>{const xt=Ue.dom,gn=wt(Ue)?O.some(_o(Ue.selection,pt)):O.none(),Do=pt.bind(Cs=>O.from(xt.getAttrib(Cs,"href"))),or=pt.bind(Cs=>O.from(xt.getAttrib(Cs,"target"))),Ts=pt.bind(Cs=>Jn(xt,Cs,"rel")),xr=pt.bind(Cs=>Jn(xt,Cs,"class")),Bs=pt.bind(Cs=>Jn(xt,Cs,"title"));return{url:Do,text:gn,title:Bs,target:or,rel:Ts,linkClass:xr}},Hr={collect:(Ue,pt)=>ut.getLinks(Ue).then(xt=>{const Gt=go(Ue,pt);return{anchor:Gt,catalogs:{targets:_n.getTargets(Ue),rels:En.getRels(Ue,Gt.target),classes:ws.getClasses(Ue),anchor:zo.getAnchors(Ue),link:xt},optNode:pt,flags:{titleEnabled:Ce(Ue)}}})},Es=(Ue,pt)=>xt=>{const Gt=xt.getData();if(!Gt.url.value){xs(Ue),xt.close();return}const gn=Ts=>O.from(Gt[Ts]).filter(xr=>!ue(pt.anchor[Ts],xr)),Do={href:Gt.url.value,text:gn("text"),target:gn("target"),rel:gn("rel"),class:gn("linkClass"),title:gn("title")},or={href:Gt.url.value,attach:Gt.url.meta!==void 0&&Gt.url.meta.attach?Gt.url.meta.attach:N};Xn.preprocess(Ue,Do).then(Ts=>{To(Ue,or,Ts)}),xt.close()},Qo=Ue=>{const pt=Pn(Ue);return Hr.collect(Ue,pt)},fi=(Ue,pt)=>{const xt=Ue.anchor,Gt=xt.url.getOr("");return{url:{value:Gt,meta:{original:{value:Gt}}},text:xt.text.getOr(""),title:xt.title.getOr(""),anchor:Gt,link:Gt,rel:xt.rel.getOr(""),target:xt.target.or(pt).getOr(""),linkClass:xt.linkClass.getOr("")}},ar=(Ue,pt,xt)=>{const Gt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],gn=Ue.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Do=Ue.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],or=O.from(re(xt)),Ts=fi(Ue,or),xr=Ue.catalogs,Bs=dt.init(Ts,xr),Cs={type:"panel",items:ae([Gt,gn,Do,pe([xr.anchor.map(Ve.createUi("anchor","Anchors")),xr.rels.map(Ve.createUi("rel","Rel")),xr.targets.map(Ve.createUi("target","Open link in...")),xr.link.map(Ve.createUi("link","Link list")),xr.classes.map(Ve.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Cs,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ts,onChange:(Ls,{name:Ma})=>{Bs.onChange(Ls.getData,{name:Ma}).each(ie=>{Ls.setData(ie)})},onSubmit:pt}},Tr=Ue=>{Qo(Ue).then(xt=>{const Gt=Es(Ue,xt);return ar(xt,Gt,Ue)}).then(xt=>{Ue.windowManager.open(xt)})},Or=Ue=>{Ue.addCommand("mceLink",(pt,xt)=>{(xt==null?void 0:xt.dialog)===!0||!q(Ue)?Tr(Ue):Ue.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var Ys=tinymce.util.Tools.resolve("tinymce.util.VK");const Is=(Ue,pt)=>{document.body.appendChild(Ue),Ue.dispatchEvent(pt),document.body.removeChild(Ue)},Ei=Ue=>{const pt=document.createElement("a");pt.target="_blank",pt.href=Ue,pt.rel="noreferrer noopener";const xt=document.createEvent("MouseEvents");xt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Is(pt,xt)},Fa=(Ue,pt)=>Ue.dom.getParent(pt,"a[href]"),di=Ue=>Fa(Ue,Ue.selection.getStart()),fl=Ue=>Ue.altKey===!0&&Ue.shiftKey===!1&&Ue.ctrlKey===!1&&Ue.metaKey===!1,Mi=(Ue,pt)=>{if(pt){const xt=Tt(pt);if(/^#/.test(xt)){const Gt=Ue.dom.select(xt);Gt.length&&Ue.selection.scrollIntoView(Gt[0],!0)}else Ei(pt.href)}},ki=Ue=>()=>{Ue.execCommand("mceLink",!1,{dialog:!0})},Cr=Ue=>()=>{Mi(Ue,di(Ue))},Ra=Ue=>{Ue.on("click",pt=>{const xt=Fa(Ue,pt.target);xt&&Ys.metaKeyPressed(pt)&&(pt.preventDefault(),Mi(Ue,xt))}),Ue.on("keydown",pt=>{if(!pt.isDefaultPrevented()&&pt.keyCode===13&&fl(pt)){const xt=di(Ue);xt&&(pt.preventDefault(),Mi(Ue,xt))}})},Vs=(Ue,pt)=>(Ue.on("NodeChange",pt),()=>Ue.off("NodeChange",pt)),si=Ue=>pt=>{const xt=()=>pt.setActive(!Ue.mode.isReadOnly()&&$n(Ue,Ue.selection.getNode()));return xt(),Vs(Ue,xt)},Oa=Ue=>pt=>{const xt=()=>pt.setEnabled($n(Ue,Ue.selection.getNode()));return xt(),Vs(Ue,xt)},Ai=Ue=>pt=>{const xt=gn=>mr(gn)||Ot(Ue.selection.getRng()),Gt=Ue.dom.getParents(Ue.selection.getStart());return pt.setEnabled(xt(Gt)),Vs(Ue,gn=>pt.setEnabled(xt(gn.parents)))},ga=Ue=>{Ue.addShortcut("Meta+K","",()=>{Ue.execCommand("mceLink")})},dl=Ue=>{Ue.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ki(Ue),onSetup:si(Ue)}),Ue.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Cr(Ue),onSetup:Oa(Ue)}),Ue.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>xs(Ue),onSetup:Ai(Ue)})},hi=Ue=>{Ue.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Cr(Ue),onSetup:Oa(Ue)}),Ue.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ki(Ue)}),Ue.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>xs(Ue),onSetup:Ai(Ue)})},hl=Ue=>{const pt="link unlink openlink",xt="link";Ue.ui.registry.addContextMenu("link",{update:Gt=>mr(Ue.dom.getParents(Gt,"a"))?pt:xt})},Sr=Ue=>{const pt=gn=>{gn.selection.collapse(!1)},xt=gn=>{const Do=Ue.selection.getNode();return gn.setEnabled($n(Ue,Do)),N},Gt=gn=>{const Do=Pn(Ue),or=wt(Ue);if(Do.isNone()&&or){const Ts=_o(Ue.selection,Do);return O.some(Ts.length>0?Ts:gn)}else return O.none()};Ue.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:si(Ue)},label:"Link",predicate:gn=>De(Ue)&&$n(Ue,gn),initValue:()=>Pn(Ue).fold(D(""),Tt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:gn=>{const Do=Ue.selection.getNode();return gn.setActive($n(Ue,Do)),si(Ue)(gn)},onAction:gn=>{const Do=gn.getValue(),or=Gt(Do);To(Ue,{href:Do,attach:N},{href:Do,text:or,title:O.none(),rel:O.none(),target:O.none(),class:O.none()}),pt(Ue),gn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:xt,onAction:gn=>{xs(Ue),gn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:xt,onAction:gn=>{Cr(Ue)(),gn.hide()}}]})};var ma=()=>{e.add("link",Ue=>{U(Ue),dl(Ue),hi(Ue),hl(Ue),Sr(Ue),Ra(Ue),Or(Ue),ga(Ue)})};ma()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(ee,we,Me)=>{var vt;return Me(ee,we.prototype)?!0:((vt=ee.constructor)===null||vt===void 0?void 0:vt.name)===we.name},s=ee=>{const we=typeof ee;return ee===null?"null":we==="object"&&Array.isArray(ee)?"array":we==="object"&&o(ee,String,(Me,vt)=>vt.isPrototypeOf(Me))?"string":we},l=ee=>we=>s(we)===ee,c=ee=>we=>typeof we===ee,d=l("string"),p=l("object"),v=l("array"),y=c("boolean"),S=ee=>ee==null,x=ee=>!S(ee),T=c("function"),k=c("number"),A=()=>{},F=ee=>()=>ee,N=(ee,we)=>ee===we,D=ee=>we=>!ee(we),B=F(!1);class O{constructor(we,Me){this.tag=we,this.value=Me}static some(we){return new O(!0,we)}static none(){return O.singletonNone}fold(we,Me){return this.tag?Me(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?O.some(we(this.value)):O.none()}bind(we){return this.tag?we(this.value):O.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:O.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we!=null?we:"Called getOrDie on None")}static from(we){return x(we)?O.some(we):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const P=Array.prototype.slice,I=Array.prototype.indexOf,z=Array.prototype.push,K=(ee,we)=>I.call(ee,we),j=(ee,we)=>K(ee,we)>-1,oe=(ee,we)=>{for(let Me=0,vt=ee.length;Me<vt;Me++){const At=ee[Me];if(we(At,Me))return!0}return!1},ke=(ee,we)=>{const Me=ee.length,vt=new Array(Me);for(let At=0;At<Me;At++){const In=ee[At];vt[At]=we(In,At)}return vt},ae=(ee,we)=>{for(let Me=0,vt=ee.length;Me<vt;Me++){const At=ee[Me];we(At,Me)}},Q=(ee,we)=>{const Me=[];for(let vt=0,At=ee.length;vt<At;vt++){const In=ee[vt];we(In,vt)&&Me.push(In)}return Me},G=(ee,we)=>{if(ee.length===0)return[];{let Me=we(ee[0]);const vt=[];let At=[];for(let In=0,Lo=ee.length;In<Lo;In++){const _r=ee[In],br=we(_r);br!==Me&&(vt.push(At),At=[]),Me=br,At.push(_r)}return At.length!==0&&vt.push(At),vt}},ue=(ee,we,Me)=>(ae(ee,(vt,At)=>{Me=we(Me,vt,At)}),Me),pe=(ee,we,Me)=>{for(let vt=0,At=ee.length;vt<At;vt++){const In=ee[vt];if(we(In,vt))return O.some(In);if(Me(In,vt))break}return O.none()},be=(ee,we)=>pe(ee,we,B),qe=ee=>{const we=[];for(let Me=0,vt=ee.length;Me<vt;++Me){if(!v(ee[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+ee);z.apply(we,ee[Me])}return we},U=(ee,we)=>qe(ke(ee,we)),Fe=ee=>{const we=P.call(ee,0);return we.reverse(),we},De=(ee,we)=>we>=0&&we<ee.length?O.some(ee[we]):O.none(),Se=ee=>De(ee,0),re=ee=>De(ee,ee.length-1),le=(ee,we)=>{const Me=[],vt=T(we)?At=>oe(Me,In=>we(In,At)):At=>j(Me,At);for(let At=0,In=ee.length;At<In;At++){const Lo=ee[At];vt(Lo)||Me.push(Lo)}return Me},fe=(ee,we,Me=N)=>ee.exists(vt=>Me(vt,we)),ce=(ee,we,Me=N)=>Be(ee,we,Me).getOr(ee.isNone()&&we.isNone()),Be=(ee,we,Me)=>ee.isSome()&&we.isSome()?O.some(Me(ee.getOrDie(),we.getOrDie())):O.none(),Ce=1,me=(ee,we)=>{const vt=(we||document).createElement("div");if(vt.innerHTML=ee,!vt.hasChildNodes()||vt.childNodes.length>1){const At="HTML does not have a single root node";throw console.error(At,ee),new Error(At)}return We(vt.childNodes[0])},q=(ee,we)=>{const vt=(we||document).createElement(ee);return We(vt)},Ze=(ee,we)=>{const vt=(we||document).createTextNode(ee);return We(vt)},We=ee=>{if(ee==null)throw new Error("Node cannot be null or undefined");return{dom:ee}},Qe={fromHtml:me,fromTag:q,fromText:Ze,fromDom:We,fromPoint:(ee,we,Me)=>O.from(ee.dom.elementFromPoint(we,Me)).map(We)},at=(ee,we)=>{const Me=ee.dom;if(Me.nodeType!==Ce)return!1;{const vt=Me;if(vt.matches!==void 0)return vt.matches(we);if(vt.msMatchesSelector!==void 0)return vt.msMatchesSelector(we);if(vt.webkitMatchesSelector!==void 0)return vt.webkitMatchesSelector(we);if(vt.mozMatchesSelector!==void 0)return vt.mozMatchesSelector(we);throw new Error("Browser lacks native selectors")}},He=(ee,we)=>ee.dom===we.dom,Re=(ee,we)=>{const Me=ee.dom,vt=we.dom;return Me===vt?!1:Me.contains(vt)},Ve=at;var Oe=(ee,we,Me,vt,At)=>ee(Me,vt)?O.some(Me):T(At)&&At(Me)?O.none():we(Me,vt,At);typeof window<"u"||Function("return this;")();const ve=ee=>ee.dom.nodeName.toLowerCase(),se=ee=>ee.dom.nodeType,ot=(ee=>we=>se(we)===ee)(Ce),Xe=ee=>we=>ot(we)&&ve(we)===ee,jt=ee=>O.from(ee.dom.parentNode).map(Qe.fromDom),qt=ee=>O.from(ee.dom.parentElement).map(Qe.fromDom),vn=ee=>O.from(ee.dom.nextSibling).map(Qe.fromDom),Kn=ee=>ke(ee.dom.childNodes,Qe.fromDom),zn=(ee,we)=>{const Me=ee.dom.childNodes;return O.from(Me[we]).map(Qe.fromDom)},fn=ee=>zn(ee,0),oo=ee=>zn(ee,ee.dom.childNodes.length-1),ft=(ee,we,Me)=>{let vt=ee.dom;const At=T(Me)?Me:B;for(;vt.parentNode;){vt=vt.parentNode;const In=Qe.fromDom(vt);if(we(In))return O.some(In);if(At(In))break}return O.none()},Tt=(ee,we,Me)=>Oe((At,In)=>In(At),ft,ee,we,Me),sn=(ee,we)=>{jt(ee).each(vt=>{vt.dom.insertBefore(we.dom,ee.dom)})},kn=(ee,we)=>{vn(ee).fold(()=>{jt(ee).each(At=>{Pn(At,we)})},vt=>{sn(vt,we)})},Pn=(ee,we)=>{ee.dom.appendChild(we.dom)},$n=(ee,we)=>{ae(we,Me=>{sn(ee,Me)})},_o=(ee,we)=>{ae(we,Me=>{Pn(ee,Me)})},mr=ee=>{ee.dom.textContent="",ae(Kn(ee),we=>{Ot(we)})},Ot=ee=>{const we=ee.dom;we.parentNode!==null&&we.parentNode.removeChild(we)};var wt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),wn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xn=tinymce.util.Tools.resolve("tinymce.util.VK");const pn=ee=>ke(ee,Qe.fromDom),eo=Object.keys,yr=(ee,we)=>{const Me=eo(ee);for(let vt=0,At=Me.length;vt<At;vt++){const In=Me[vt],Lo=ee[In];we(Lo,In)}},As=ee=>(we,Me)=>{ee[Me]=we},la=(ee,we,Me,vt)=>{yr(ee,(At,In)=>{(we(At,In)?Me:vt)(At,In)})},pr=(ee,we)=>{const Me={};return la(ee,we,As(Me),A),Me},Sa=(ee,we,Me)=>{if(d(Me)||y(Me)||k(Me))ee.setAttribute(we,Me+"");else throw console.error("Invalid call to Attribute.set. Key ",we,":: Value ",Me,":: Element ",ee),new Error("Attribute value was not simple")},wr=(ee,we)=>{const Me=ee.dom;yr(we,(vt,At)=>{Sa(Me,At,vt)})},Jo=ee=>ue(ee.dom.attributes,(we,Me)=>(we[Me.name]=Me.value,we),{}),To=(ee,we)=>Qe.fromDom(ee.dom.cloneNode(we)),xs=ee=>To(ee,!0),ra=(ee,we)=>{const Me=Qe.fromTag(we),vt=Jo(ee);return wr(Me,vt),Me},Vr=(ee,we)=>{const Me=ra(ee,we);kn(ee,Me);const vt=Kn(ee);return _o(Me,vt),Ot(ee),Me};var ca=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Yr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ri=ee=>we=>x(we)&&we.nodeName.toLowerCase()===ee,as=ee=>we=>x(we)&&ee.test(we.nodeName),Ta=ee=>x(ee)&&ee.nodeType===3,dt=ee=>x(ee)&&ee.nodeType===1,Le=as(/^(OL|UL|DL)$/),Pt=as(/^(OL|UL)$/),Zt=ri("ol"),to=as(/^(LI|DT|DD)$/),uo=as(/^(DT|DD)$/),Xn=as(/^(TH|TD)$/),vr=ri("br"),zo=ee=>{var we;return((we=ee.parentNode)===null||we===void 0?void 0:we.firstChild)===ee},Fo=(ee,we)=>x(we)&&we.nodeName in ee.schema.getTextBlockElements(),ws=(ee,we)=>x(ee)&&ee.nodeName in we,dn=(ee,we)=>vr(we)?ee.isBlock(we.nextSibling)&&!vr(we.previousSibling):!1,lt=(ee,we,Me)=>{const vt=ee.isEmpty(we);return Me&&ee.select("span[data-mce-type=bookmark]",we).length>0?!1:vt},ut=(ee,we)=>ee.isChildOf(we,ee.getRoot()),en=ee=>we=>we.options.get(ee),En=ee=>{const we=ee.options.register;we("lists_indent_on_tab",{processor:"boolean",default:!0})},An=en("lists_indent_on_tab"),Un=en("forced_root_block"),_n=en("forced_root_block_attrs"),Jn=(ee,we)=>{const Me=ee.dom,vt=ee.schema.getBlockElements(),At=Me.createFragment(),In=Un(ee),Lo=_n(ee);let _r,br,bo=!1;for(br=Me.create(In,Lo),ws(we.firstChild,vt)||At.appendChild(br);_r=we.firstChild;){const $r=_r.nodeName;!bo&&($r!=="SPAN"||_r.getAttribute("data-mce-type")!=="bookmark")&&(bo=!0),ws(_r,vt)?(At.appendChild(_r),br=null):(br||(br=Me.create(In,Lo),At.appendChild(br)),br.appendChild(_r))}return!bo&&br&&br.appendChild(Me.create("br",{"data-mce-bogus":"1"})),At},go=ca.DOM,$o=(ee,we,Me)=>{const vt=bo=>{const $r=bo.parentNode;$r&&Yr.each(At,ea=>{$r.insertBefore(ea,Me.parentNode)}),go.remove(bo)},At=go.select('span[data-mce-type="bookmark"]',we),In=Jn(ee,Me),Lo=go.createRng();Lo.setStartAfter(Me),Lo.setEndAfter(we);const _r=Lo.extractContents();for(let bo=_r.firstChild;bo;bo=bo.firstChild)if(bo.nodeName==="LI"&&ee.dom.isEmpty(bo)){go.remove(bo);break}ee.dom.isEmpty(_r)||go.insertAfter(_r,we),go.insertAfter(In,we);const br=Me.parentElement;br&&lt(ee.dom,br)&&vt(br),go.remove(Me),lt(ee.dom,we)&&go.remove(we)},Hr=Xe("dd"),Es=Xe("dt"),Qo=(ee,we)=>{Hr(we)?Vr(we,"dt"):Es(we)&&qt(we).each(Me=>$o(ee,Me.dom,we.dom))},fi=ee=>{Es(ee)&&Vr(ee,"dd")},ar=(ee,we,Me)=>{we==="Indent"?ae(Me,fi):ae(Me,vt=>Qo(ee,vt))},Tr=(ee,we)=>{if(Ta(ee))return{container:ee,offset:we};const Me=wt.getNode(ee,we);return Ta(Me)?{container:Me,offset:we>=ee.childNodes.length?Me.data.length:0}:Me.previousSibling&&Ta(Me.previousSibling)?{container:Me.previousSibling,offset:Me.previousSibling.data.length}:Me.nextSibling&&Ta(Me.nextSibling)?{container:Me.nextSibling,offset:0}:{container:ee,offset:we}},Or=ee=>{const we=ee.cloneRange(),Me=Tr(ee.startContainer,ee.startOffset);we.setStart(Me.container,Me.offset);const vt=Tr(ee.endContainer,ee.endOffset);return we.setEnd(vt.container,vt.offset),we},Ys=["OL","UL","DL"],Is=Ys.join(","),Ei=(ee,we)=>{const Me=we||ee.selection.getStart(!0);return ee.dom.getParent(Me,Is,si(ee,Me))},Fa=(ee,we)=>x(ee)&&we.length===1&&we[0]===ee,di=ee=>Q(ee.querySelectorAll(Is),Le),fl=ee=>{const we=Ei(ee),Me=ee.selection.getSelectedBlocks();return Fa(we,Me)?di(we):Q(Me,vt=>Le(vt)&&we!==vt)},Mi=(ee,we)=>{const Me=Yr.map(we,vt=>{const At=ee.dom.getParent(vt,"li,dd,dt",si(ee,vt));return At||vt});return le(Me)},ki=ee=>{const we=ee.selection.getSelectedBlocks();return Q(Mi(ee,we),to)},Cr=ee=>Q(ki(ee),uo),Ra=(ee,we)=>{const Me=ee.dom.getParents(we,"TD,TH");return Me.length>0?Me[0]:ee.getBody()},Vs=(ee,we)=>!Le(we)&&!to(we)&&oe(Ys,Me=>ee.isValidChild(we.nodeName,Me)),si=(ee,we)=>{const Me=ee.dom.getParents(we,ee.dom.isBlock);return be(Me,At=>Vs(ee.schema,At)).getOr(ee.getBody())},Oa=(ee,we)=>{const Me=ee.dom.getParents(we,"ol,ul",si(ee,we));return re(Me)},Ai=ee=>{const we=Oa(ee,ee.selection.getStart()),Me=Q(ee.selection.getSelectedBlocks(),Pt);return we.toArray().concat(Me)},ga=ee=>{const we=Ai(ee);return dl(ee,we)},dl=(ee,we)=>{const Me=ke(we,vt=>Oa(ee,vt).getOr(vt));return le(Me)},hi=ee=>/\btox\-/.test(ee.className),hl=(ee,we)=>pe(ee,Le,Xn).exists(Me=>Me.nodeName===we&&!hi(Me)),Sr=(ee,we)=>we!==null&&ee.dom.getContentEditableParent(we)==="false",ma=ee=>{const we=Ei(ee);return Sr(ee,we)},Ue=(ee,we)=>{const Me=ee.dom.getParent(we,"ol,ul,dl");return Sr(ee,Me)},pt=(ee,we)=>{const Me=ee.selection.getNode();return we({parents:ee.dom.getParents(Me),element:Me}),ee.on("NodeChange",we),()=>ee.off("NodeChange",we)},xt=(ee,we)=>{const vt=(we||document).createDocumentFragment();return ae(ee,At=>{vt.appendChild(At.dom)}),Qe.fromDom(vt)},Gt=(ee,we,Me)=>ee.dispatch("ListMutation",{action:we,element:Me}),Do=(ee=>we=>we.replace(ee,""))(/^\s+|\s+$/g),or=ee=>ee.length>0,Ts=ee=>!or(ee),xr=ee=>ee.style!==void 0&&T(ee.style.getPropertyValue),Bs=(ee,we,Me)=>{if(!d(Me))throw console.error("Invalid call to CSS.set. Property ",we,":: Value ",Me,":: Element ",ee),new Error("CSS value must be a string: "+Me);xr(ee)&&ee.style.setProperty(we,Me)},Cs=(ee,we,Me)=>{const vt=ee.dom;Bs(vt,we,Me)},Ls=(ee,we)=>{Pn(ee.item,we.list)},Ma=ee=>{for(let we=1;we<ee.length;we++)Ls(ee[we-1],ee[we])},ie=(ee,we)=>{Be(re(ee),Se(we),Ls)},Ke=(ee,we)=>{const Me={list:Qe.fromTag(we,ee),item:Qe.fromTag("li",ee)};return Pn(Me.list,Me.item),Me},Ct=(ee,we,Me)=>{const vt=[];for(let At=0;At<Me;At++)vt.push(Ke(ee,we.listType));return vt},cn=(ee,we)=>{for(let Me=0;Me<ee.length-1;Me++)Cs(ee[Me].item,"list-style-type","none");re(ee).each(Me=>{wr(Me.list,we.listAttributes),wr(Me.item,we.itemAttributes),_o(Me.item,we.content)})},Fn=(ee,we)=>{ve(ee.list)!==we.listType&&(ee.list=Vr(ee.list,we.listType)),wr(ee.list,we.listAttributes)},Hn=(ee,we,Me)=>{const vt=Qe.fromTag("li",ee);return wr(vt,we),_o(vt,Me),vt},Ro=(ee,we)=>{Pn(ee.list,we),ee.item=we},he=(ee,we,Me)=>{const vt=we.slice(0,Me.depth);return re(vt).each(At=>{const In=Hn(ee,Me.itemAttributes,Me.content);Ro(At,In),Fn(At,Me)}),vt},je=(ee,we,Me)=>{const vt=Ct(ee,Me,Me.depth-we.length);return Ma(vt),cn(vt,Me),ie(we,vt),we.concat(vt)},et=(ee,we)=>{const Me=ue(we,(vt,At)=>At.depth>vt.length?je(ee,vt,At):he(ee,vt,At),[]);return Se(Me).map(vt=>vt.list)},Nt=ee=>Ve(ee,"OL,UL"),Dn=ee=>fn(ee).exists(Nt),mo=ee=>oo(ee).exists(Nt),Wn=ee=>ee.depth>0,Wr=ee=>ee.isSelected,is=ee=>{const we=Kn(ee),Me=mo(ee)?we.slice(0,-1):we;return ke(Me,xs)},nn=(ee,we,Me)=>jt(ee).filter(ot).map(vt=>({depth:we,dirty:!1,isSelected:Me,content:is(ee),itemAttributes:Jo(ee),listAttributes:Jo(vt),listType:ve(vt)})),Xs=(ee,we)=>{switch(ee){case"Indent":we.depth++;break;case"Outdent":we.depth--;break;case"Flatten":we.depth=0}we.dirty=!0},hs=(ee,we)=>{ee.listType=we.listType,ee.listAttributes={...we.listAttributes}},Js=ee=>{ee.listAttributes=pr(ee.listAttributes,(we,Me)=>Me!=="start")},Dl=(ee,we)=>{const Me=ee[we].depth,vt=In=>In.depth===Me&&!In.dirty,At=In=>In.depth<Me;return pe(Fe(ee.slice(0,we)),vt,At).orThunk(()=>pe(ee.slice(we+1),vt,At))},rr=ee=>(ae(ee,(we,Me)=>{Dl(ee,Me).fold(()=>{we.dirty&&Js(we)},vt=>hs(we,vt))}),ee),Ye=ee=>{let we=ee;return{get:()=>we,set:At=>{we=At}}},it=(ee,we,Me,vt)=>fn(vt).filter(Nt).fold(()=>{we.each(Lo=>{He(Lo.start,vt)&&Me.set(!0)});const At=nn(vt,ee,Me.get());we.each(Lo=>{He(Lo.end,vt)&&Me.set(!1)});const In=oo(vt).filter(Nt).map(Lo=>Ft(ee,we,Me,Lo)).getOr([]);return At.toArray().concat(In)},At=>Ft(ee,we,Me,At)),Ft=(ee,we,Me,vt)=>U(Kn(vt),At=>{const In=Nt(At)?Ft:it,Lo=ee+1;return In(Lo,we,Me,At)}),Vt=(ee,we)=>{const Me=Ye(!1),vt=0;return ke(ee,At=>({sourceList:At,entries:Ft(vt,we,Me,At)}))},ro=(ee,we)=>{const Me=rr(we);return ke(Me,vt=>{const At=xt(vt.content);return Qe.fromDom(Jn(ee,At.dom))})},ko=(ee,we)=>{const Me=rr(we);return et(ee.contentDocument,Me).toArray()},Ss=(ee,we)=>U(G(we,Wn),Me=>Se(Me).exists(Wn)?ko(ee,Me):ro(ee,Me)),Er=(ee,we)=>{ae(Q(ee,Wr),Me=>Xs(we,Me))},jc=ee=>{const we=ke(ki(ee),Qe.fromDom);return Be(be(we,D(Dn)),be(Fe(we),D(Dn)),(Me,vt)=>({start:Me,end:vt}))},Fr=(ee,we,Me)=>{const vt=Vt(we,jc(ee));ae(vt,At=>{Er(At.entries,Me);const In=Ss(ee,At.entries);ae(In,Lo=>{Gt(ee,Me==="Indent"?"IndentList":"OutdentList",Lo.dom)}),$n(At.sourceList,In),Ot(At.sourceList)})},Xr=(ee,we)=>{const Me=pn(ga(ee)),vt=pn(Cr(ee));let At=!1;if(Me.length||vt.length){const In=ee.selection.getBookmark();Fr(ee,Me,we),ar(ee,we,vt),ee.selection.moveToBookmark(In),ee.selection.setRng(Or(ee.selection.getRng())),ee.nodeChanged(),At=!0}return At},pi=(ee,we)=>!ma(ee)&&Xr(ee,we),Xi=ee=>pi(ee,"Indent"),zc=ee=>pi(ee,"Outdent"),Us=ee=>pi(ee,"Flatten");var Os=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Jr=ca.DOM,va=ee=>{const we={},Me=vt=>{let At=ee[vt?"startContainer":"endContainer"],In=ee[vt?"startOffset":"endOffset"];if(dt(At)){const Lo=Jr.create("span",{"data-mce-type":"bookmark"});At.hasChildNodes()?(In=Math.min(In,At.childNodes.length-1),vt?At.insertBefore(Lo,At.childNodes[In]):Jr.insertAfter(Lo,At.childNodes[In])):At.appendChild(Lo),At=Lo,In=0}we[vt?"startContainer":"endContainer"]=At,we[vt?"startOffset":"endOffset"]=In};return Me(!0),ee.collapsed||Me(),we},pl=ee=>{const we=vt=>{const At=_r=>{var br;let bo=(br=_r.parentNode)===null||br===void 0?void 0:br.firstChild,$r=0;for(;bo;){if(bo===_r)return $r;(!dt(bo)||bo.getAttribute("data-mce-type")!=="bookmark")&&$r++,bo=bo.nextSibling}return-1};let In=ee[vt?"startContainer":"endContainer"],Lo=ee[vt?"startOffset":"endOffset"];if(!!In){if(dt(In)&&In.parentNode){const _r=In;Lo=At(In),In=In.parentNode,Jr.remove(_r),!In.hasChildNodes()&&Jr.isBlock(In)&&In.appendChild(Jr.create("br"))}ee[vt?"startContainer":"endContainer"]=In,ee[vt?"startOffset":"endOffset"]=Lo}};we(!0),we();const Me=Jr.createRng();return Me.setStart(ee.startContainer,ee.startOffset),ee.endContainer&&Me.setEnd(ee.endContainer,ee.endOffset),Or(Me)},$u=ee=>{switch(ee){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ia=(ee,we,Me)=>{const vt=Me["list-style-type"]?Me["list-style-type"]:null;ee.setStyle(we,"list-style-type",vt)},af=(ee,we)=>{Yr.each(we,(Me,vt)=>{ee.setAttribute(vt,Me)})},Rf=(ee,we,Me)=>{af(we,Me["list-attributes"]),Yr.each(ee.select("li",we),vt=>{af(vt,Me["list-item-attributes"])})},Ji=(ee,we,Me)=>{Ia(ee,we,Me),Rf(ee,we,Me)},Mf=(ee,we,Me)=>{Yr.each(Me,vt=>ee.setStyle(we,vt,""))},qm=(ee,we,Me,vt)=>{let At=we[Me?"startContainer":"endContainer"];const In=we[Me?"startOffset":"endOffset"];for(dt(At)&&(At=At.childNodes[Math.min(In,At.childNodes.length-1)]||At),!Me&&vr(At.nextSibling)&&(At=At.nextSibling);At.parentNode!==vt;){const Lo=At.parentNode;if(Fo(ee,At)||/^(TD|TH)$/.test(Lo.nodeName))return At;At=Lo}return At},Bl=(ee,we,Me)=>{const vt=[],At=ee.dom,In=qm(ee,we,!0,Me),Lo=qm(ee,we,!1,Me);let _r;const br=[];for(let bo=In;bo&&(br.push(bo),bo!==Lo);bo=bo.nextSibling);return Yr.each(br,bo=>{var $r;if(Fo(ee,bo)){vt.push(bo),_r=null;return}if(At.isBlock(bo)||vr(bo)){vr(bo)&&At.remove(bo),_r=null;return}const ea=bo.nextSibling;if(Os.isBookmarkNode(bo)&&(Le(ea)||Fo(ee,ea)||!ea&&bo.parentNode===Me)){_r=null;return}_r||(_r=At.create("p"),($r=bo.parentNode)===null||$r===void 0||$r.insertBefore(_r,bo),vt.push(_r)),_r.appendChild(bo)}),vt},Du=(ee,we,Me)=>{const vt=ee.getStyle(we,"list-style-type");let At=Me?Me["list-style-type"]:"";return At=At===null?"":At,vt===At},md=(ee,we,Me)=>{const vt=ee.selection.getRng();let At="LI";const In=si(ee,ee.selection.getStart(!0)),Lo=ee.dom;if(Lo.getContentEditable(ee.selection.getNode())==="false")return;we=we.toUpperCase(),we==="DL"&&(At="DT");const _r=va(vt),br=Bl(ee,vt,In);Yr.each(br,bo=>{let $r;const ea=bo.previousSibling,Hi=bo.parentNode;to(Hi)||(ea&&Le(ea)&&ea.nodeName===we&&Du(Lo,ea,Me)?($r=ea,bo=Lo.rename(bo,At),ea.appendChild(bo)):($r=Lo.create(we),Hi.insertBefore($r,bo),$r.appendChild(bo),bo=Lo.rename(bo,At)),Mf(Lo,bo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ji(Lo,$r,Me),lf(ee.dom,$r))}),ee.selection.setRng(pl(_r))},Ti=(ee,we)=>Le(ee)&&ee.nodeName===(we==null?void 0:we.nodeName),iu=(ee,we,Me)=>{const vt=ee.getStyle(we,"list-style-type",!0),At=ee.getStyle(Me,"list-style-type",!0);return vt===At},If=(ee,we)=>ee.className===we.className,eh=(ee,we,Me)=>Ti(we,Me)&&iu(ee,we,Me)&&If(we,Me),lf=(ee,we)=>{let Me,vt=we.nextSibling;if(eh(ee,we,vt)){const At=vt;for(;Me=At.firstChild;)we.appendChild(Me);ee.remove(At)}if(vt=we.previousSibling,eh(ee,we,vt)){const At=vt;for(;Me=At.lastChild;)we.insertBefore(Me,we.firstChild);ee.remove(At)}},up=(ee,we,Me,vt)=>{if(we.nodeName!==Me){const At=ee.dom.rename(we,Me);Ji(ee.dom,At,vt),Gt(ee,$u(Me),At)}else Ji(ee.dom,we,vt),Gt(ee,$u(Me),we)},th=(ee,we,Me,vt,At)=>{const In=Le(we);if(In&&we.nodeName===vt&&!Cc(At))Us(ee);else{md(ee,vt,At);const Lo=va(ee.selection.getRng()),_r=In?[we,...Me]:Me;Yr.each(_r,br=>{up(ee,br,vt,At)}),ee.selection.setRng(pl(Lo))}},Cc=ee=>"list-style-type"in ee,Zm=(ee,we,Me,vt)=>{if(we!==ee.getBody())if(we)if(we.nodeName===Me&&!Cc(vt)&&!hi(we))Us(ee);else{const At=va(ee.selection.getRng());Ji(ee.dom,we,vt);const In=ee.dom.rename(we,Me);lf(ee.dom,In),ee.selection.setRng(pl(At)),md(ee,Me,vt),Gt(ee,$u(Me),In)}else md(ee,Me,vt),Gt(ee,$u(Me),we)},fp=(ee,we,Me)=>{const vt=Ei(ee);if(Ue(ee,vt))return;const At=fl(ee),In=p(Me)?Me:{};At.length>0?th(ee,vt,At,we,In):Zm(ee,vt,we,In)},Lf=ca.DOM,nh=(ee,we)=>{const Me=we.parentElement;if(Me&&Me.nodeName==="LI"&&Me.firstChild===we){const vt=Me.previousSibling;vt&&vt.nodeName==="LI"?(vt.appendChild(we),lt(ee,Me)&&Lf.remove(Me)):Lf.setStyle(Me,"listStyleType","none")}if(Le(Me)){const vt=Me.previousSibling;vt&&vt.nodeName==="LI"&&vt.appendChild(we)}},Sc=(ee,we)=>{const Me=Yr.grep(ee.select("ol,ul",we));Yr.each(Me,vt=>{nh(ee,vt)})},mt=(ee,we,Me,vt)=>{let At=we.startContainer;const In=we.startOffset;if(Ta(At)&&(Me?In<At.data.length:In>0))return At;const Lo=ee.schema.getNonEmptyElements();dt(At)&&(At=wt.getNode(At,In));const _r=new wn(At,vt);Me&&dn(ee.dom,At)&&_r.next();const br=Me?_r.next.bind(_r):_r.prev2.bind(_r);for(;At=br();)if(At.nodeName==="LI"&&!At.hasChildNodes()||Lo[At.nodeName]||Ta(At)&&At.data.length>0)return At;return null},cf=(ee,we)=>{const Me=we.childNodes;return Me.length===1&&!Le(Me[0])&&ee.isBlock(Me[0])},xc=(ee,we)=>{cf(ee,we)&&ee.remove(we.firstChild,!0)},dp=(ee,we,Me)=>{let vt;const At=cf(ee,Me)?Me.firstChild:Me;if(xc(ee,we),!lt(ee,we,!0))for(;vt=we.firstChild;)At.appendChild(vt)},hp=(ee,we,Me)=>{let vt;const At=we.parentNode;if(!ut(ee,we)||!ut(ee,Me))return;Le(Me.lastChild)&&(vt=Me.lastChild),At===Me.lastChild&&vr(At.previousSibling)&&ee.remove(At.previousSibling);const In=Me.lastChild;In&&vr(In)&&we.hasChildNodes()&&ee.remove(In),lt(ee,Me,!0)&&mr(Qe.fromDom(Me)),dp(ee,we,Me),vt&&Me.appendChild(vt);const _r=Re(Qe.fromDom(Me),Qe.fromDom(we))?ee.getParents(we,Le,Me):[];ee.remove(we),ae(_r,br=>{lt(ee,br)&&br!==ee.getRoot()&&ee.remove(br)})},Gm=(ee,we,Me)=>{mr(Qe.fromDom(Me)),hp(ee.dom,we,Me),ee.selection.setCursorLocation(Me,0)},ps=(ee,we,Me,vt)=>{const At=ee.dom;if(At.isEmpty(vt))Gm(ee,Me,vt);else{const In=va(we);hp(At,Me,vt),ee.selection.setRng(pl(In))}},Ii=(ee,we,Me,vt)=>{const At=va(we);hp(ee.dom,Me,vt);const In=pl(At);ee.selection.setRng(In)},bg=(ee,we)=>{const Me=ee.dom,vt=ee.selection,At=vt.getStart(),In=Ra(ee,At),Lo=Me.getParent(vt.getStart(),"LI",In);if(Lo){const _r=Lo.parentElement;if(_r===ee.getBody()&&lt(Me,_r))return!0;const br=Or(vt.getRng()),bo=Me.getParent(mt(ee,br,we,In),"LI",In);if(bo&&bo!==Lo)return ee.undoManager.transact(()=>{we?ps(ee,br,bo,Lo):zo(Lo)?zc(ee):Ii(ee,br,Lo,bo)}),!0;if(!bo&&!we&&br.startOffset===0&&br.endOffset===0)return ee.undoManager.transact(()=>{Us(ee)}),!0}return!1},Vc=(ee,we,Me)=>{const vt=ee.getParent(we.parentNode,ee.isBlock,Me);ee.remove(we),vt&&ee.isEmpty(vt)&&ee.remove(vt)},pp=(ee,we)=>{const Me=ee.dom,vt=ee.selection.getStart(),At=Ra(ee,vt),In=Me.getParent(vt,Me.isBlock,At);if(In&&Me.isEmpty(In)){const Lo=Or(ee.selection.getRng()),_r=Me.getParent(mt(ee,Lo,we,At),"LI",At);if(_r){const br=Hi=>j(["td","th","caption"],ve(Hi)),bo=Hi=>Hi.dom===At,$r=Tt(Qe.fromDom(_r),br,bo),ea=Tt(Qe.fromDom(Lo.startContainer),br,bo);return ce($r,ea,He)?(ee.undoManager.transact(()=>{Vc(Me,In,At),lf(Me,_r.parentNode),ee.selection.select(_r,!0),ee.selection.collapse(we)}),!0):!1}}return!1},Hf=(ee,we)=>bg(ee,we)||pp(ee,we),Li=ee=>{const we=ee.selection.getStart(),Me=Ra(ee,we);return ee.dom.getParent(we,"LI,DT,DD",Me)||ki(ee).length>0},Km=ee=>Li(ee)?(ee.undoManager.transact(()=>{ee.execCommand("Delete"),Sc(ee.dom,ee.getBody())}),!0):!1,oh=(ee,we)=>{const Me=ee.selection;return!Ue(ee,Me.getNode())&&(Me.isCollapsed()?Hf(ee,we):Km(ee))},Ym=ee=>{ee.on("ExecCommand",we=>{const Me=we.command.toLowerCase();(Me==="delete"||Me==="forwarddelete")&&Li(ee)&&Sc(ee.dom,ee.getBody())}),ee.on("keydown",we=>{we.keyCode===xn.BACKSPACE?oh(ee,!1)&&we.preventDefault():we.keyCode===xn.DELETE&&oh(ee,!0)&&we.preventDefault()})},Nl=ee=>({backspaceDelete:we=>{oh(ee,we)}}),rh=(ee,we)=>{const Me=Ei(ee);Me===null||Ue(ee,Me)||ee.undoManager.transact(()=>{p(we.styles)&&ee.dom.setStyles(Me,we.styles),p(we.attrs)&&yr(we.attrs,(vt,At)=>ee.dom.setAttrib(Me,At,vt))})},gp=ee=>{const we=Fe(Do(ee).split("")),Me=ke(we,(vt,At)=>{const In=vt.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,At)*In});return ue(Me,(vt,At)=>vt+At,0)},vd=ee=>{if(ee--,ee<0)return"";{const we=ee%26,Me=Math.floor(ee/26),vt=vd(Me),At=String.fromCharCode("A".charCodeAt(0)+we);return vt+At}},gi=ee=>/^[A-Z]+$/.test(ee),sh=ee=>/^[a-z]+$/.test(ee),yg=ee=>/^[0-9]+$/.test(ee),mp=ee=>yg(ee)?2:gi(ee)?0:sh(ee)?1:Ts(ee)?3:4,jf=ee=>{switch(mp(ee)){case 2:return O.some({listStyleType:O.none(),start:ee});case 0:return O.some({listStyleType:O.some("upper-alpha"),start:gp(ee).toString()});case 1:return O.some({listStyleType:O.some("lower-alpha"),start:gp(ee).toString()});case 3:return O.some({listStyleType:O.none(),start:""});case 4:return O.none()}},Xm=ee=>{const we=parseInt(ee.start,10);return fe(ee.listStyleType,"upper-alpha")?vd(we):fe(ee.listStyleType,"lower-alpha")?vd(we).toLowerCase():ee.start},vp=ee=>{const we=Ei(ee);!Zt(we)||Ue(ee,we)||ee.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Xm({start:ee.dom.getAttrib(we,"start","1"),listStyleType:O.from(ee.dom.getStyle(we,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Me=>{const vt=Me.getData();jf(vt.start).each(At=>{ee.execCommand("mceListUpdate",!1,{attrs:{start:At.start==="1"?"":At.start},styles:{"list-style-type":At.listStyleType.getOr("")}})}),Me.close()}})},gl=(ee,we)=>()=>{const Me=Ei(ee);return x(Me)&&Me.nodeName===we},Jm=ee=>{ee.addCommand("mceListProps",()=>{vp(ee)})},lu=ee=>{ee.on("BeforeExecCommand",we=>{const Me=we.command.toLowerCase();Me==="indent"?Xi(ee):Me==="outdent"&&zc(ee)}),ee.addCommand("InsertUnorderedList",(we,Me)=>{fp(ee,"UL",Me)}),ee.addCommand("InsertOrderedList",(we,Me)=>{fp(ee,"OL",Me)}),ee.addCommand("InsertDefinitionList",(we,Me)=>{fp(ee,"DL",Me)}),ee.addCommand("RemoveList",()=>{Us(ee)}),Jm(ee),ee.addCommand("mceListUpdate",(we,Me)=>{p(Me)&&rh(ee,Me)}),ee.addQueryStateHandler("InsertUnorderedList",gl(ee,"UL")),ee.addQueryStateHandler("InsertOrderedList",gl(ee,"OL")),ee.addQueryStateHandler("InsertDefinitionList",gl(ee,"DL"))},bd=ee=>{ee.on("keydown",we=>{we.keyCode!==xn.TAB||xn.metaKeyPressed(we)||ee.undoManager.transact(()=>{(we.shiftKey?zc(ee):Xi(ee))&&we.preventDefault()})})},uf=ee=>{An(ee)&&bd(ee),Ym(ee)},Uc=(ee,we)=>Me=>pt(ee,At=>{Me.setActive(hl(At.parents,we)),Me.setEnabled(!Ue(ee,At.element))}),Qm=ee=>{const we=Me=>()=>ee.execCommand(Me);ee.hasPlugin("advlist")||(ee.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:we("InsertOrderedList"),onSetup:Uc(ee,"OL")}),ee.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:we("InsertUnorderedList"),onSetup:Uc(ee,"UL")}))},e1=(ee,we)=>Me=>pt(ee,At=>Me.setEnabled(hl(At.parents,we)&&!Ue(ee,At.element))),wg=ee=>{const we={text:"List properties...",icon:"ordered-list",onAction:()=>ee.execCommand("mceListProps"),onSetup:e1(ee,"OL")};ee.ui.registry.addMenuItem("listprops",we),ee.ui.registry.addContextMenu("lists",{update:Me=>{const vt=Ei(ee,Me);return Zt(vt)?["listprops"]:[]}})};var cu=()=>{e.add("lists",ee=>(En(ee),ee.hasPlugin("rtc",!0)?Jm(ee):(uf(ee),lu(ee)),Qm(ee),wg(ee),Nl(ee)))};cu()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(dt,Le,Pt)=>{var Zt;return Pt(dt,Le.prototype)?!0:((Zt=dt.constructor)===null||Zt===void 0?void 0:Zt.name)===Le.name},s=dt=>{const Le=typeof dt;return dt===null?"null":Le==="object"&&Array.isArray(dt)?"array":Le==="object"&&o(dt,String,(Pt,Zt)=>Zt.isPrototypeOf(Pt))?"string":Le},l=dt=>Le=>s(Le)===dt,c=l("string"),d=l("object"),p=l("array"),v=dt=>dt==null,y=dt=>!v(dt);class S{constructor(Le,Pt){this.tag=Le,this.value=Pt}static some(Le){return new S(!0,Le)}static none(){return S.singletonNone}fold(Le,Pt){return this.tag?Pt(this.value):Le()}isSome(){return this.tag}isNone(){return!this.tag}map(Le){return this.tag?S.some(Le(this.value)):S.none()}bind(Le){return this.tag?Le(this.value):S.none()}exists(Le){return this.tag&&Le(this.value)}forall(Le){return!this.tag||Le(this.value)}filter(Le){return!this.tag||Le(this.value)?this:S.none()}getOr(Le){return this.tag?this.value:Le}or(Le){return this.tag?this:Le}getOrThunk(Le){return this.tag?this.value:Le()}orThunk(Le){return this.tag?this:Le()}getOrDie(Le){if(this.tag)return this.value;throw new Error(Le!=null?Le:"Called getOrDie on None")}static from(Le){return y(Le)?S.some(Le):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Le){this.tag&&Le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const x=Array.prototype.push,T=(dt,Le)=>{for(let Pt=0,Zt=dt.length;Pt<Zt;Pt++){const to=dt[Pt];Le(to,Pt)}},k=dt=>{const Le=[];for(let Pt=0,Zt=dt.length;Pt<Zt;++Pt){if(!p(dt[Pt]))throw new Error("Arr.flatten item "+Pt+" was not an array, input: "+dt);x.apply(Le,dt[Pt])}return Le},A=dt=>{let Le=dt;return{get:()=>Le,set:to=>{Le=to}}},F=Object.keys,N=Object.hasOwnProperty,D=(dt,Le)=>{const Pt=F(dt);for(let Zt=0,to=Pt.length;Zt<to;Zt++){const uo=Pt[Zt],Xn=dt[uo];Le(Xn,uo)}},B=(dt,Le)=>O(dt,Le)?S.from(dt[Le]):S.none(),O=(dt,Le)=>N.call(dt,Le),P=dt=>Le=>Le.options.get(dt),I=dt=>{const Le=dt.options.register;Le("audio_template_callback",{processor:"function"}),Le("video_template_callback",{processor:"function"}),Le("iframe_template_callback",{processor:"function"}),Le("media_live_embeds",{processor:"boolean",default:!0}),Le("media_filter_html",{processor:"boolean",default:!0}),Le("media_url_resolver",{processor:"function"}),Le("media_alt_source",{processor:"boolean",default:!0}),Le("media_poster",{processor:"boolean",default:!0}),Le("media_dimensions",{processor:"boolean",default:!0})},z=P("audio_template_callback"),K=P("video_template_callback"),j=P("iframe_template_callback"),oe=P("media_live_embeds"),ke=P("media_filter_html"),ae=P("media_url_resolver"),Q=P("media_alt_source"),G=P("media_poster"),ue=P("media_dimensions");var pe=tinymce.util.Tools.resolve("tinymce.util.Tools"),be=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qe=tinymce.util.Tools.resolve("tinymce.html.DomParser");const U=be.DOM,Fe=dt=>dt.replace(/px$/,""),De=dt=>{const Le=dt.attr("style"),Pt=Le?U.parseStyle(Le):{};return{type:"ephox-embed-iri",source:dt.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:B(Pt,"max-width").map(Fe).getOr(""),height:B(Pt,"max-height").map(Fe).getOr("")}},Se=(dt,Le)=>{let Pt={};const to=qe({validate:!1,forced_root_block:!1},Le).parse(dt);for(let uo=to;uo;uo=uo.walk())if(uo.type===1){const Xn=uo.name;if(uo.attr("data-ephox-embed-iri")){Pt=De(uo);break}else!Pt.source&&Xn==="param"&&(Pt.source=uo.attr("movie")),(Xn==="iframe"||Xn==="object"||Xn==="embed"||Xn==="video"||Xn==="audio")&&(Pt.type||(Pt.type=Xn),Pt=pe.extend(uo.attributes.map,Pt)),Xn==="script"&&(Pt={type:"script",source:uo.attr("src")}),Xn==="source"&&(Pt.source?Pt.altsource||(Pt.altsource=uo.attr("src")):Pt.source=uo.attr("src")),Xn==="img"&&!Pt.poster&&(Pt.poster=uo.attr("src"))}return Pt.source=Pt.source||Pt.src||"",Pt.altsource=Pt.altsource||"",Pt.poster=Pt.poster||"",Pt},re=dt=>{var Le;const Pt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Zt=(Le=dt.toLowerCase().split(".").pop())!==null&&Le!==void 0?Le:"";return B(Pt,Zt).getOr("")};var le=tinymce.util.Tools.resolve("tinymce.html.Node"),fe=tinymce.util.Tools.resolve("tinymce.html.Serializer");const ce=(dt,Le={})=>qe({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Le},dt),Be=be.DOM,Ce=dt=>/^[0-9.]+$/.test(dt)?dt+"px":dt,me=(dt,Le)=>{const Pt=Le.attr("style"),Zt=Pt?Be.parseStyle(Pt):{};y(dt.width)&&(Zt["max-width"]=Ce(dt.width)),y(dt.height)&&(Zt["max-height"]=Ce(dt.height)),Le.attr("style",Be.serializeStyle(Zt))},q=["source","altsource"],Ze=(dt,Le,Pt,Zt)=>{let to=0,uo=0;const Xn=ce(Zt);Xn.addNodeFilter("source",zo=>to=zo.length);const vr=Xn.parse(dt);for(let zo=vr;zo;zo=zo.walk())if(zo.type===1){const Fo=zo.name;if(zo.attr("data-ephox-embed-iri")){me(Le,zo);break}else{switch(Fo){case"video":case"object":case"embed":case"img":case"iframe":Le.height!==void 0&&Le.width!==void 0&&(zo.attr("width",Le.width),zo.attr("height",Le.height));break}if(Pt)switch(Fo){case"video":zo.attr("poster",Le.poster),zo.attr("src",null);for(let dn=to;dn<2;dn++)if(Le[q[dn]]){const lt=new le("source",1);lt.attr("src",Le[q[dn]]),lt.attr("type",Le[q[dn]+"mime"]||null),zo.append(lt)}break;case"iframe":zo.attr("src",Le.source);break;case"object":const ws=zo.getAll("img").length>0;if(Le.poster&&!ws){zo.attr("src",Le.poster);const dn=new le("img",1);dn.attr("src",Le.poster),dn.attr("width",Le.width),dn.attr("height",Le.height),zo.append(dn)}break;case"source":if(uo<2&&(zo.attr("src",Le[q[uo]]),zo.attr("type",Le[q[uo]+"mime"]||null),!Le[q[uo]])){zo.remove();continue}uo++;break;case"img":Le.poster||zo.remove();break}}}return fe({},Zt).serialize(vr)},We=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],tt=dt=>{const Le=dt.match(/^(https?:\/\/|www\.)(.+)$/i);return Le&&Le.length>1?Le[1]==="www."?"https://":Le[1]:"https://"},Qe=(dt,Le)=>{const Pt=tt(Le),Zt=dt.regex.exec(Le);let to=Pt+dt.url;if(y(Zt))for(let uo=0;uo<Zt.length;uo++)to=to.replace("$"+uo,()=>Zt[uo]?Zt[uo]:"");return to.replace(/\?$/,"")},at=dt=>{const Le=We.filter(Pt=>Pt.regex.test(dt));return Le.length>0?pe.extend({},Le[0],{url:Qe(Le[0],dt)}):null},He=(dt,Le)=>{if(Le)return Le(dt);{const Pt=dt.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+dt.source+'" width="'+dt.width+'" height="'+dt.height+'"'+Pt+"></iframe>"}},Re=dt=>{let Le='<object data="'+dt.source+'" width="'+dt.width+'" height="'+dt.height+'" type="application/x-shockwave-flash">';return dt.poster&&(Le+='<img src="'+dt.poster+'" width="'+dt.width+'" height="'+dt.height+'" />'),Le+="</object>",Le},Ve=(dt,Le)=>Le?Le(dt):'<audio controls="controls" src="'+dt.source+'">'+(dt.altsource?`
<source src="`+dt.altsource+'"'+(dt.altsourcemime?' type="'+dt.altsourcemime+'"':"")+` />
`:"")+"</audio>",Oe=(dt,Le)=>Le?Le(dt):'<video width="'+dt.width+'" height="'+dt.height+'"'+(dt.poster?' poster="'+dt.poster+'"':"")+` controls="controls">
<source src="`+dt.source+'"'+(dt.sourcemime?' type="'+dt.sourcemime+'"':"")+` />
`+(dt.altsource?'<source src="'+dt.altsource+'"'+(dt.altsourcemime?' type="'+dt.altsourcemime+'"':"")+` />
`:"")+"</video>",ve=dt=>'<script src="'+dt.source+'"><\/script>',se=(dt,Le)=>{var Pt;const Zt=pe.extend({},Le);if(!Zt.source&&(pe.extend(Zt,Se((Pt=Zt.embed)!==null&&Pt!==void 0?Pt:"",dt.schema)),!Zt.source))return"";Zt.altsource||(Zt.altsource=""),Zt.poster||(Zt.poster=""),Zt.source=dt.convertURL(Zt.source,"source"),Zt.altsource=dt.convertURL(Zt.altsource,"source"),Zt.sourcemime=re(Zt.source),Zt.altsourcemime=re(Zt.altsource),Zt.poster=dt.convertURL(Zt.poster,"poster");const to=at(Zt.source);if(to&&(Zt.source=to.url,Zt.type=to.type,Zt.allowfullscreen=to.allowFullscreen,Zt.width=Zt.width||String(to.w),Zt.height=Zt.height||String(to.h)),Zt.embed)return Ze(Zt.embed,Zt,!0,dt.schema);{const uo=z(dt),Xn=K(dt),vr=j(dt);return Zt.width=Zt.width||"300",Zt.height=Zt.height||"150",pe.each(Zt,(zo,Fo)=>{Zt[Fo]=dt.dom.encode(""+zo)}),Zt.type==="iframe"?He(Zt,vr):Zt.sourcemime==="application/x-shockwave-flash"?Re(Zt):Zt.sourcemime.indexOf("audio")!==-1?Ve(Zt,uo):Zt.type==="script"?ve(Zt):Oe(Zt,Xn)}},xe=dt=>dt.hasAttribute("data-mce-object")||dt.hasAttribute("data-ephox-embed-iri"),ot=dt=>{dt.on("click keyup touchend",()=>{const Le=dt.selection.getNode();Le&&dt.dom.hasClass(Le,"mce-preview-object")&&dt.dom.getAttrib(Le,"data-mce-selected")&&Le.setAttribute("data-mce-selected","2")}),dt.on("ObjectSelected",Le=>{Le.target.getAttribute("data-mce-object")==="script"&&Le.preventDefault()}),dt.on("ObjectResized",Le=>{const Pt=Le.target;if(Pt.getAttribute("data-mce-object")){let Zt=Pt.getAttribute("data-mce-html");Zt&&(Zt=unescape(Zt),Pt.setAttribute("data-mce-html",escape(Ze(Zt,{width:String(Le.width),height:String(Le.height)},!1,dt.schema))))}})},Xe={},jt=(dt,Le,Pt)=>new Promise((Zt,to)=>{const uo=Xn=>(Xn.html&&(Xe[dt.source]=Xn),Zt({url:dt.source,html:Xn.html?Xn.html:Le(dt)}));Xe[dt.source]?uo(Xe[dt.source]):Pt({url:dt.source},uo,to)}),qt=(dt,Le)=>Promise.resolve({html:Le(dt),url:dt.source}),vn=dt=>Le=>se(dt,Le),Kn=(dt,Le)=>{const Pt=ae(dt);return Pt?jt(Le,vn(dt),Pt):qt(Le,vn(dt))},zn=dt=>O(Xe,dt),fn=(dt,Le)=>B(Le,dt).bind(Pt=>B(Pt,"meta")),oo=(dt,Le,Pt)=>Zt=>{const to=()=>B(dt,Zt),uo=()=>B(Le,Zt),Xn=Fo=>B(Fo,"value").bind(ws=>ws.length>0?S.some(ws):S.none()),vr=()=>to().bind(Fo=>d(Fo)?Xn(Fo).orThunk(uo):uo().orThunk(()=>S.from(Fo))),zo=()=>uo().orThunk(()=>to().bind(Fo=>d(Fo)?Xn(Fo):S.from(Fo)));return{[Zt]:(Zt===Pt?vr():zo()).getOr("")}},ft=(dt,Le)=>{const Pt={};return B(dt,"dimensions").each(Zt=>{T(["width","height"],to=>{B(Le,to).orThunk(()=>B(Zt,to)).each(uo=>Pt[to]=uo)})}),Pt},Tt=(dt,Le)=>{const Pt=Le&&Le!=="dimensions"?fn(Le,dt).getOr({}):{},Zt=oo(dt,Pt,Le);return{...Zt("source"),...Zt("altsource"),...Zt("poster"),...Zt("embed"),...ft(dt,Pt)}},sn=dt=>{const Le={...dt,source:{value:B(dt,"source").getOr("")},altsource:{value:B(dt,"altsource").getOr("")},poster:{value:B(dt,"poster").getOr("")}};return T(["width","height"],Pt=>{B(dt,Pt).each(Zt=>{const to=Le.dimensions||{};to[Pt]=Zt,Le.dimensions=to})}),Le},kn=dt=>Le=>{const Pt=Le&&Le.msg?"Media embed handler error: "+Le.msg:"Media embed handler threw unknown error.";dt.notificationManager.open({type:"error",text:Pt})},Pn=dt=>{const Le=dt.selection.getNode(),Pt=xe(Le)?dt.serializer.serialize(Le,{selection:!0}):"";return{embed:Pt,...Se(Pt,dt.schema)}},$n=(dt,Le)=>Pt=>{if(c(Pt.url)&&Pt.url.trim().length>0){const Zt=Pt.html,uo={...Se(Zt,Le.schema),source:Pt.url,embed:Zt};dt.setData(sn(uo))}},_o=(dt,Le)=>{const Pt=dt.dom.select("*[data-mce-object]");for(let Zt=0;Zt<Le.length;Zt++)for(let to=Pt.length-1;to>=0;to--)Le[Zt]===Pt[to]&&Pt.splice(to,1);dt.selection.select(Pt[0])},mr=(dt,Le)=>{const Pt=dt.dom.select("*[data-mce-object]");dt.insertContent(Le),_o(dt,Pt),dt.nodeChanged()},Ot=(dt,Le,Pt)=>{var Zt;Le.embed=Ze((Zt=Le.embed)!==null&&Zt!==void 0?Zt:"",Le,!1,Pt.schema),Le.embed&&(dt.source===Le.source||zn(Le.source))?mr(Pt,Le.embed):Kn(Pt,Le).then(to=>{mr(Pt,to.html)}).catch(kn(Pt))},wt=dt=>{const Le=Pn(dt),Pt=A(Le),Zt=sn(Le),to=(Un,_n)=>{const Jn=Tt(_n.getData(),"source");Un.source!==Jn.source&&($n(An,dt)({url:Jn.source,html:""}),Kn(dt,Jn).then($n(An,dt)).catch(kn(dt)))},uo=Un=>{var _n;const Jn=Tt(Un.getData()),go=Se((_n=Jn.embed)!==null&&_n!==void 0?_n:"",dt.schema);Un.setData(sn(go))},Xn=(Un,_n)=>{const Jn=Tt(Un.getData(),_n),go=se(dt,Jn);Un.setData(sn({...Jn,embed:go}))},vr=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],zo=ue(dt)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Fo={title:"General",name:"general",items:k([vr,zo])},dn={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},lt=[];Q(dt)&&lt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),G(dt)&&lt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const ut={title:"Advanced",name:"advanced",items:lt},en=[Fo,dn];lt.length>0&&en.push(ut);const En={type:"tabpanel",tabs:en},An=dt.windowManager.open({title:"Insert/Edit Media",size:"normal",body:En,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Un=>{const _n=Tt(Un.getData());Ot(Pt.get(),_n,dt),Un.close()},onChange:(Un,_n)=>{switch(_n.name){case"source":to(Pt.get(),Un);break;case"embed":uo(Un);break;case"dimensions":case"altsource":case"poster":Xn(Un,_n.name);break}Pt.set(Tt(Un.getData()))},initialData:Zt})},wn=dt=>({showDialog:()=>{wt(dt)}}),xn=dt=>{const Le=()=>{wt(dt)};dt.addCommand("mceMedia",Le)},pn=(dt,Le,Pt)=>Le===""||dt.length>=Le.length&&dt.substr(Pt,Pt+Le.length)===Le,eo=(dt,Le)=>pn(dt,Le,0);var yr=tinymce.util.Tools.resolve("tinymce.Env");const As=dt=>{const Le=dt.name;return Le==="iframe"||Le==="video"||Le==="audio"},la=(dt,Le,Pt,Zt=null)=>{const to=dt.attr(Pt);return y(to)?to:O(Le,Pt)?null:Zt},pr=(dt,Le,Pt)=>{const Zt=Le.name==="img"||dt.name==="video",to=Zt?"300":null,uo=dt.name==="audio"?"30":"150",Xn=Zt?uo:null;Le.attr({width:la(dt,Pt,"width",to),height:la(dt,Pt,"height",Xn)})},Sa=(dt,Le,Pt,Zt)=>{const to=ce(dt.schema).parse(Zt,{context:Le});for(;to.firstChild;)Pt.append(to.firstChild)},wr=(dt,Le)=>{const Pt=Le.name,Zt=new le("img",1);return To(dt,Le,Zt),pr(Le,Zt,{}),Zt.attr({style:Le.attr("style"),src:yr.transparentSrc,"data-mce-object":Pt,class:"mce-object mce-object-"+Pt}),Zt},Jo=(dt,Le)=>{var Pt;const Zt=Le.name,to=new le("span",1);to.attr({contentEditable:"false",style:Le.attr("style"),"data-mce-object":Zt,class:"mce-preview-object mce-object-"+Zt}),To(dt,Le,to);const uo=dt.dom.parseStyle((Pt=Le.attr("style"))!==null&&Pt!==void 0?Pt:""),Xn=new le(Zt,1);if(pr(Le,Xn,uo),Xn.attr({src:Le.attr("src"),style:Le.attr("style"),class:Le.attr("class")}),Zt==="iframe")Xn.attr({allowfullscreen:Le.attr("allowfullscreen"),frameborder:"0"});else{T(["controls","crossorigin","currentTime","loop","muted","poster","preload"],ws=>{Xn.attr(ws,Le.attr(ws))});const Fo=to.attr("data-mce-html");y(Fo)&&Sa(dt,Zt,Xn,unescape(Fo))}const vr=new le("span",1);return vr.attr("class","mce-shim"),to.append(Xn),to.append(vr),to},To=(dt,Le,Pt)=>{var Zt;const to=(Zt=Le.attributes)!==null&&Zt!==void 0?Zt:[];let uo=to.length;for(;uo--;){const Fo=to[uo].name;let ws=to[uo].value;Fo!=="width"&&Fo!=="height"&&Fo!=="style"&&!eo(Fo,"data-mce-")&&((Fo==="data"||Fo==="src")&&(ws=dt.convertURL(ws,Fo)),Pt.attr("data-mce-p-"+Fo,ws))}const Xn=fe({inner:!0},dt.schema),vr=new le("div",1);T(Le.children(),Fo=>vr.append(Fo));const zo=Xn.serialize(vr);zo&&(Pt.attr("data-mce-html",escape(zo)),Pt.empty())},xs=dt=>{const Le=dt.attr("class");return c(Le)&&/\btiny-pageembed\b/.test(Le)},ra=dt=>{let Le=dt;for(;Le=Le.parent;)if(Le.attr("data-ephox-embed-iri")||xs(Le))return!0;return!1},Vr=dt=>Le=>{let Pt=Le.length,Zt;for(;Pt--;)Zt=Le[Pt],Zt.parent&&(Zt.parent.attr("data-mce-object")||(As(Zt)&&oe(dt)?ra(Zt)||Zt.replace(Jo(dt,Zt)):ra(Zt)||Zt.replace(wr(dt,Zt))))},ca=(dt,Le,Pt)=>{const Zt=ke(dt);return ce(dt.schema,{validate:Zt}).parse(Pt,{context:Le})},Yr=dt=>{dt.on("PreInit",()=>{const{schema:Le,serializer:Pt,parser:Zt}=dt,to=Le.getBoolAttrs();T("webkitallowfullscreen mozallowfullscreen".split(" "),uo=>{to[uo]={}}),D({embed:["wmode"]},(uo,Xn)=>{const vr=Le.getElementRule(Xn);vr&&T(uo,zo=>{vr.attributes[zo]={},vr.attributesOrder.push(zo)})}),Zt.addNodeFilter("iframe,video,audio,object,embed,script",Vr(dt)),Pt.addAttributeFilter("data-mce-object",(uo,Xn)=>{var vr;let zo=uo.length;for(;zo--;){const Fo=uo[zo];if(!Fo.parent)continue;const ws=Fo.attr(Xn),dn=new le(ws,1);if(ws!=="audio"&&ws!=="script"){const En=Fo.attr("class");En&&En.indexOf("mce-preview-object")!==-1&&Fo.firstChild?dn.attr({width:Fo.firstChild.attr("width"),height:Fo.firstChild.attr("height")}):dn.attr({width:Fo.attr("width"),height:Fo.attr("height")})}dn.attr({style:Fo.attr("style")});const lt=(vr=Fo.attributes)!==null&&vr!==void 0?vr:[];let ut=lt.length;for(;ut--;){const En=lt[ut].name;En.indexOf("data-mce-p-")===0&&dn.attr(En.substr(11),lt[ut].value)}ws==="script"&&dn.attr("type","text/javascript");const en=Fo.attr("data-mce-html");if(en){const En=ca(dt,ws,unescape(en));T(En.children(),An=>dn.append(An))}Fo.replace(dn)}})}),dt.on("SetContent",()=>{const Le=dt.dom;T(Le.select("span.mce-preview-object"),Pt=>{Le.select("span.mce-shim",Pt).length===0&&Le.add(Pt,"span",{class:"mce-shim"})})})},ri=dt=>{dt.on("ResolveName",Le=>{let Pt;Le.target.nodeType===1&&(Pt=Le.target.getAttribute("data-mce-object"))&&(Le.name=Pt)})},as=dt=>{const Le=()=>dt.execCommand("mceMedia");dt.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Le,onSetup:Pt=>{const Zt=dt.selection;return Pt.setActive(xe(Zt.getNode())),Zt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Pt.setActive).unbind}}),dt.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Le})};var Ta=()=>{e.add("media",dt=>(I(dt),xn(dt),as(dt),ri(dt),Yr(dt),ot(dt),wn(dt)))};Ta()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=D=>B=>typeof B===D,s=o("boolean"),l=o("number"),c=D=>B=>B.options.get(D),d=D=>{const B=D.options.register;B("nonbreaking_force_tab",{processor:O=>s(O)?{value:O?3:0,valid:!0}:l(O)?{value:O,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),B("nonbreaking_wrap",{processor:"boolean",default:!0})},p=c("nonbreaking_force_tab"),v=c("nonbreaking_wrap"),y=(D,B)=>{let O="";for(let P=0;P<B;P++)O+=D;return O},S=D=>D.plugins.visualchars?D.plugins.visualchars.isEnabled():!1,x=(D,B)=>{const O=()=>S(D)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",P=()=>`<span class="${O()}" contenteditable="false">${y("&nbsp;",B)}</span>`,z=v(D)||D.plugins.visualchars?P():y("&nbsp;",B);D.undoManager.transact(()=>D.insertContent(z))},T=D=>{D.addCommand("mceNonBreaking",()=>{x(D,1)})};var k=tinymce.util.Tools.resolve("tinymce.util.VK");const A=D=>{const B=p(D);B>0&&D.on("keydown",O=>{if(O.keyCode===k.TAB&&!O.isDefaultPrevented()){if(O.shiftKey)return;O.preventDefault(),O.stopImmediatePropagation(),x(D,B)}})},F=D=>{const B=()=>D.execCommand("mceNonBreaking");D.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:B}),D.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:B})};var N=()=>{e.add("nonbreaking",D=>{d(D),T(D),F(D),A(D)})};N()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env");const s=A=>F=>F.options.get(A),l=A=>{const F=A.options.register;F("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),F("pagebreak_split_block",{processor:"boolean",default:!1})},c=s("pagebreak_separator"),d=s("pagebreak_split_block"),p="mce-pagebreak",v=A=>{const F=`<img src="${o.transparentSrc}" class="${p}" data-mce-resize="false" data-mce-placeholder />`;return A?`<p>${F}</p>`:F},y=A=>{const F=c(A),N=()=>d(A),D=new RegExp(F.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,B=>"\\"+B),"gi");A.on("BeforeSetContent",B=>{B.content=B.content.replace(D,v(N()))}),A.on("PreInit",()=>{A.serializer.addNodeFilter("img",B=>{let O=B.length,P,I;for(;O--;)if(P=B[O],I=P.attr("class"),I&&I.indexOf(p)!==-1){const z=P.parent;if(z&&A.schema.getBlockElements()[z.name]&&N()){z.type=3,z.value=F,z.raw=!0,P.remove();continue}P.type=3,P.value=F,P.raw=!0}})})},S=A=>{A.addCommand("mcePageBreak",()=>{A.insertContent(v(d(A)))})},x=A=>{A.on("ResolveName",F=>{F.target.nodeName==="IMG"&&A.dom.hasClass(F.target,p)&&(F.name="pagebreak")})},T=A=>{const F=()=>A.execCommand("mcePageBreak");A.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:F}),A.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:F})};var k=()=>{e.add("pagebreak",A=>{l(A),S(A),T(A),y(A),x(A)})};k()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env"),s=tinymce.util.Tools.resolve("tinymce.util.Tools");const l=A=>F=>F.options.get(A),c=l("content_style"),d=l("content_css_cors"),p=l("body_class"),v=l("body_id"),y=A=>{var F;let N="";const D=A.dom.encode,B=(F=c(A))!==null&&F!==void 0?F:"";N+='<base href="'+D(A.documentBaseURI.getURI())+'">';const O=d(A)?' crossorigin="anonymous"':"";s.each(A.contentCSS,ae=>{N+='<link type="text/css" rel="stylesheet" href="'+D(A.documentBaseURI.toAbsolute(ae))+'"'+O+">"}),B&&(N+='<style type="text/css">'+B+"</style>");const P=v(A),I=p(A),z=o.os.isMacOS()||o.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",K='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+z+")) {e.preventDefault();}}}, false);<\/script> ",j=A.getBody().dir,oe=j?' dir="'+D(j)+'"':"";return"<!DOCTYPE html><html><head>"+N+'</head><body id="'+D(P)+'" class="mce-content-body '+D(I)+'"'+oe+">"+A.getContent()+K+"</body></html>"},S=A=>{const F=y(A);A.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:F}}).focus("close")},x=A=>{A.addCommand("mcePreview",()=>{S(A)})},T=A=>{const F=()=>A.execCommand("mcePreview");A.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:F}),A.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:F})};var k=()=>{e.add("preview",A=>{x(A),T(A)})};k()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(q,Ze,We)=>{var tt;return We(q,Ze.prototype)?!0:((tt=q.constructor)===null||tt===void 0?void 0:tt.name)===Ze.name},s=q=>{const Ze=typeof q;return q===null?"null":Ze==="object"&&Array.isArray(q)?"array":Ze==="object"&&o(q,String,(We,tt)=>tt.isPrototypeOf(We))?"string":Ze},l=q=>Ze=>s(Ze)===q,c=q=>Ze=>typeof Ze===q,d=l("string"),p=c("boolean"),v=q=>q==null,y=q=>!v(q),S=c("function"),x=q=>Ze=>Ze.options.get(q),T=q=>{const Ze=q.options.register,We=He=>Re=>{const Ve=p(Re)||d(Re);return Ve?p(Re)?{value:Re?He:"",valid:Ve}:{value:Re.trim(),valid:Ve}:{valid:!1,message:"Must be a boolean or string."}},tt="bold italic | quicklink h2 h3 blockquote";Ze("quickbars_selection_toolbar",{processor:We(tt),default:tt});const Qe="quickimage quicktable";Ze("quickbars_insert_toolbar",{processor:We(Qe),default:Qe});const at="alignleft aligncenter alignright";Ze("quickbars_image_toolbar",{processor:We(at),default:at})},k=x("quickbars_selection_toolbar"),A=x("quickbars_insert_toolbar"),F=x("quickbars_image_toolbar");let N=0;const D=q=>{const We=new Date().getTime(),tt=Math.floor(Math.random()*1e9);return N++,q+"_"+tt+N+String(We)},B=(q,Ze,We)=>{q.execCommand("mceInsertTable",!1,{rows:We,columns:Ze})},O=(q,Ze,We)=>{const tt=q.editorUpload.blobCache,Qe=tt.create(D("mceu"),We,Ze);tt.add(Qe),q.insertContent(q.dom.createHTML("img",{src:Qe.blobUri()}))},P=q=>new Promise(Ze=>{const We=new FileReader;We.onloadend=()=>{Ze(We.result.split(",")[1])},We.readAsDataURL(q)});var I=tinymce.util.Tools.resolve("tinymce.Env"),z=tinymce.util.Tools.resolve("tinymce.util.Delay");const K=q=>new Promise(Ze=>{const We=document.createElement("input");We.type="file",We.accept="image/*",We.style.position="fixed",We.style.left="0",We.style.top="0",We.style.opacity="0.001",document.body.appendChild(We);const tt=at=>{Ze(Array.prototype.slice.call(at.target.files))};We.addEventListener("change",tt);const Qe=at=>{const He=()=>{var Re;Ze([]),(Re=We.parentNode)===null||Re===void 0||Re.removeChild(We)};I.os.isAndroid()&&at.type!=="remove"?z.setEditorTimeout(q,He,0):He(),q.off("focusin remove",Qe)};q.on("focusin remove",Qe),We.click()}),j=q=>{q.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{K(q).then(Ze=>{if(Ze.length>0){const We=Ze[0];P(We).then(tt=>{O(q,tt,We)})}})}}),q.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{B(q,2,2)}})},ke=(q=>()=>q)(!1);class ae{constructor(Ze,We){this.tag=Ze,this.value=We}static some(Ze){return new ae(!0,Ze)}static none(){return ae.singletonNone}fold(Ze,We){return this.tag?We(this.value):Ze()}isSome(){return this.tag}isNone(){return!this.tag}map(Ze){return this.tag?ae.some(Ze(this.value)):ae.none()}bind(Ze){return this.tag?Ze(this.value):ae.none()}exists(Ze){return this.tag&&Ze(this.value)}forall(Ze){return!this.tag||Ze(this.value)}filter(Ze){return!this.tag||Ze(this.value)?this:ae.none()}getOr(Ze){return this.tag?this.value:Ze}or(Ze){return this.tag?this:Ze}getOrThunk(Ze){return this.tag?this.value:Ze()}orThunk(Ze){return this.tag?this:Ze()}getOrDie(Ze){if(this.tag)return this.value;throw new Error(Ze!=null?Ze:"Called getOrDie on None")}static from(Ze){return y(Ze)?ae.some(Ze):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ze){this.tag&&Ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);var Q=(q,Ze,We,tt,Qe)=>q(We,tt)?ae.some(We):S(Qe)&&Qe(We)?ae.none():Ze(We,tt,Qe);const G=1,ue=(q,Ze)=>{const tt=(Ze||document).createElement("div");if(tt.innerHTML=q,!tt.hasChildNodes()||tt.childNodes.length>1){const Qe="HTML does not have a single root node";throw console.error(Qe,q),new Error(Qe)}return qe(tt.childNodes[0])},pe=(q,Ze)=>{const tt=(Ze||document).createElement(q);return qe(tt)},be=(q,Ze)=>{const tt=(Ze||document).createTextNode(q);return qe(tt)},qe=q=>{if(q==null)throw new Error("Node cannot be null or undefined");return{dom:q}},Fe={fromHtml:ue,fromTag:pe,fromText:be,fromDom:qe,fromPoint:(q,Ze,We)=>ae.from(q.dom.elementFromPoint(Ze,We)).map(qe)},De=(q,Ze)=>{const We=q.dom;if(We.nodeType!==G)return!1;{const tt=We;if(tt.matches!==void 0)return tt.matches(Ze);if(tt.msMatchesSelector!==void 0)return tt.msMatchesSelector(Ze);if(tt.webkitMatchesSelector!==void 0)return tt.webkitMatchesSelector(Ze);if(tt.mozMatchesSelector!==void 0)return tt.mozMatchesSelector(Ze);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const Se=q=>q.dom.nodeName.toLowerCase(),re=(q,Ze,We)=>{let tt=q.dom;const Qe=S(We)?We:ke;for(;tt.parentNode;){tt=tt.parentNode;const at=Fe.fromDom(tt);if(Ze(at))return ae.some(at);if(Qe(at))break}return ae.none()},le=(q,Ze,We)=>Q((Qe,at)=>at(Qe),re,q,Ze,We),fe=(q,Ze,We)=>re(q,tt=>De(tt,Ze),We),ce=(q,Ze,We)=>Q((Qe,at)=>De(Qe,at),fe,q,Ze,We),Be=q=>{const Ze=A(q);Ze.length>0&&q.ui.registry.addContextToolbar("quickblock",{predicate:We=>{const tt=Fe.fromDom(We),Qe=q.schema.getTextBlockElements(),at=He=>He.dom===q.getBody();return ce(tt,"table",at).fold(()=>le(tt,He=>Se(He)in Qe&&q.dom.isEmpty(He.dom),at).isSome(),ke)},items:Ze,position:"line",scope:"editor"})},Ce=q=>{const Ze=at=>q.dom.getContentEditableParent(at)!=="false",We=at=>at.nodeName==="IMG"||at.nodeName==="FIGURE"&&/image/i.test(at.className),tt=F(q);tt.length>0&&q.ui.registry.addContextToolbar("imageselection",{predicate:We,items:tt,position:"node"});const Qe=k(q);Qe.length>0&&q.ui.registry.addContextToolbar("textselection",{predicate:at=>!We(at)&&!q.selection.isCollapsed()&&Ze(at),items:Qe,position:"selection",scope:"editor"})};var me=()=>{e.add("quickbars",q=>{T(q),j(q),Be(q),Ce(q)})};me()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(B=>O=>typeof O===B)("function");var l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=tinymce.util.Tools.resolve("tinymce.util.Tools");const d=B=>O=>O.options.get(B),p=B=>{const O=B.options.register;O("save_enablewhendirty",{processor:"boolean",default:!0}),O("save_onsavecallback",{processor:"function"}),O("save_oncancelcallback",{processor:"function"})},v=d("save_enablewhendirty"),y=d("save_onsavecallback"),S=d("save_oncancelcallback"),x=(B,O)=>{B.notificationManager.open({text:O,type:"error"})},T=B=>{const O=l.DOM.getParent(B.id,"form");if(v(B)&&!B.isDirty())return;B.save();const P=y(B);if(s(P)){P.call(B,B),B.nodeChanged();return}O?(B.setDirty(!1),(!O.onsubmit||O.onsubmit())&&(typeof O.submit=="function"?O.submit():x(B,"Error: Form submit field collision.")),B.nodeChanged()):x(B,"Error: No form element found.")},k=B=>{const O=c.trim(B.startContent),P=S(B);if(s(P)){P.call(B,B);return}B.resetContent(O)},A=B=>{B.addCommand("mceSave",()=>{T(B)}),B.addCommand("mceCancel",()=>{k(B)})},F=B=>O=>{const P=()=>{O.setEnabled(!v(B)||B.isDirty())};return P(),B.on("NodeChange dirty",P),()=>B.off("NodeChange dirty",P)},N=B=>{B.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>B.execCommand("mceSave"),onSetup:F(B)}),B.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>B.execCommand("mceCancel"),onSetup:F(B)}),B.addShortcut("Meta+S","","mceSave")};var D=()=>{e.add("save",B=>{p(B),N(B),A(B)})};D()})();(function(){const e=lt=>{let ut=lt;return{get:()=>ut,set:An=>{ut=An}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(lt,ut,en)=>{var En;return en(lt,ut.prototype)?!0:((En=lt.constructor)===null||En===void 0?void 0:En.name)===ut.name},l=lt=>{const ut=typeof lt;return lt===null?"null":ut==="object"&&Array.isArray(lt)?"array":ut==="object"&&s(lt,String,(en,En)=>En.isPrototypeOf(en))?"string":ut},c=lt=>ut=>l(ut)===lt,d=lt=>ut=>typeof ut===lt,p=c("string"),v=c("array"),y=d("boolean"),S=lt=>lt==null,x=lt=>!S(lt),T=d("number"),k=()=>{},A=lt=>()=>lt,F=A(!0),D=A("[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]");class B{constructor(ut,en){this.tag=ut,this.value=en}static some(ut){return new B(!0,ut)}static none(){return B.singletonNone}fold(ut,en){return this.tag?en(this.value):ut()}isSome(){return this.tag}isNone(){return!this.tag}map(ut){return this.tag?B.some(ut(this.value)):B.none()}bind(ut){return this.tag?ut(this.value):B.none()}exists(ut){return this.tag&&ut(this.value)}forall(ut){return!this.tag||ut(this.value)}filter(ut){return!this.tag||ut(this.value)?this:B.none()}getOr(ut){return this.tag?this.value:ut}or(ut){return this.tag?this:ut}getOrThunk(ut){return this.tag?this.value:ut()}orThunk(ut){return this.tag?this:ut()}getOrDie(ut){if(this.tag)return this.value;throw new Error(ut!=null?ut:"Called getOrDie on None")}static from(ut){return x(ut)?B.some(ut):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ut){this.tag&&ut(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);const O=D;var P=tinymce.util.Tools.resolve("tinymce.Env"),I=tinymce.util.Tools.resolve("tinymce.util.Tools");const z=Array.prototype.slice,K=Array.prototype.push,j=(lt,ut)=>{const en=lt.length,En=new Array(en);for(let An=0;An<en;An++){const Un=lt[An];En[An]=ut(Un,An)}return En},oe=(lt,ut)=>{for(let en=0,En=lt.length;en<En;en++){const An=lt[en];ut(An,en)}},ke=(lt,ut)=>{for(let en=lt.length-1;en>=0;en--){const En=lt[en];ut(En,en)}},ae=(lt,ut)=>{if(lt.length===0)return[];{let en=ut(lt[0]);const En=[];let An=[];for(let Un=0,_n=lt.length;Un<_n;Un++){const Jn=lt[Un],go=ut(Jn);go!==en&&(En.push(An),An=[]),en=go,An.push(Jn)}return An.length!==0&&En.push(An),En}},Q=(lt,ut,en)=>(oe(lt,(En,An)=>{en=ut(en,En,An)}),en),G=lt=>{const ut=[];for(let en=0,En=lt.length;en<En;++en){if(!v(lt[en]))throw new Error("Arr.flatten item "+en+" was not an array, input: "+lt);K.apply(ut,lt[en])}return ut},ue=(lt,ut)=>G(j(lt,ut)),pe=(lt,ut)=>{const en=z.call(lt,0);return en.sort(ut),en},be=Object.hasOwnProperty,qe=(lt,ut)=>be.call(lt,ut);typeof window<"u"||Function("return this;")();const U=9,Fe=11,De=1,Se=3,re=lt=>lt.dom.nodeType,fe=(lt=>ut=>re(ut)===lt)(Se),ce=(lt,ut,en)=>{if(p(en)||y(en)||T(en))lt.setAttribute(ut,en+"");else throw console.error("Invalid call to Attribute.set. Key ",ut,":: Value ",en,":: Element ",lt),new Error("Attribute value was not simple")},Be=(lt,ut,en)=>{ce(lt.dom,ut,en)},Ce=(lt,ut)=>{const En=(ut||document).createElement("div");if(En.innerHTML=lt,!En.hasChildNodes()||En.childNodes.length>1){const An="HTML does not have a single root node";throw console.error(An,lt),new Error(An)}return Ze(En.childNodes[0])},me=(lt,ut)=>{const En=(ut||document).createElement(lt);return Ze(En)},q=(lt,ut)=>{const En=(ut||document).createTextNode(lt);return Ze(En)},Ze=lt=>{if(lt==null)throw new Error("Node cannot be null or undefined");return{dom:lt}},tt={fromHtml:Ce,fromTag:me,fromText:q,fromDom:Ze,fromPoint:(lt,ut,en)=>B.from(lt.dom.elementFromPoint(ut,en)).map(Ze)},Qe=lt=>lt.nodeType!==De&&lt.nodeType!==U&&lt.nodeType!==Fe||lt.childElementCount===0,at=(lt,ut)=>{const en=ut===void 0?document:ut.dom;return Qe(en)?[]:j(en.querySelectorAll(lt),tt.fromDom)},He=lt=>B.from(lt.dom.parentNode).map(tt.fromDom),Re=lt=>j(lt.dom.childNodes,tt.fromDom),Ve=(lt,ut)=>({element:lt,offset:ut}),Oe=(lt,ut)=>{const en=Re(lt);return en.length>0&&ut<en.length?Ve(en[ut],0):Ve(lt,ut)},ve=(lt,ut)=>{He(lt).each(En=>{En.dom.insertBefore(ut.dom,lt.dom)})},se=(lt,ut)=>{lt.dom.appendChild(ut.dom)},xe=(lt,ut)=>{ve(lt,ut),se(ut,lt)},Xe=((lt,ut)=>{const en=Un=>{if(!lt(Un))throw new Error("Can only get "+ut+" value of a "+ut+" node");return En(Un).getOr("")},En=Un=>lt(Un)?B.from(Un.dom.nodeValue):B.none();return{get:en,getOption:En,set:(Un,_n)=>{if(!lt(Un))throw new Error("Can only set raw "+ut+" value of a "+ut+" node");Un.dom.nodeValue=_n}}})(fe,"text"),jt=lt=>Xe.get(lt),qt=(lt,ut,en)=>(lt.compareDocumentPosition(ut)&en)!==0,vn=(lt,ut)=>qt(lt,ut,Node.DOCUMENT_POSITION_PRECEDING),Kn=(lt,ut)=>at(ut,lt);var zn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const fn=(lt,ut)=>lt.isBlock(ut)||qe(lt.schema.getVoidElements(),ut.nodeName),oo=(lt,ut)=>lt.getContentEditable(ut)==="false",ft=(lt,ut)=>lt.getContentEditable(ut)==="true"&&ut.parentNode&&lt.getContentEditableParent(ut.parentNode)==="false",Tt=(lt,ut)=>!lt.isBlock(ut)&&qe(lt.schema.getWhitespaceElements(),ut.nodeName),sn=(lt,ut)=>fn(lt,ut)||oo(lt,ut)||Tt(lt,ut)||ft(lt,ut),kn=lt=>lt.nodeType===3,Pn=()=>({sOffset:0,fOffset:0,elements:[]}),$n=(lt,ut)=>Oe(tt.fromDom(lt),ut),_o=(lt,ut,en,En,An,Un=!0)=>{let _n=Un?ut(!1):en;for(;_n;){const Jn=oo(lt,_n);if(Jn||Tt(lt,_n)){if(Jn?En.cef(_n):En.boundary(_n))break;_n=ut(!0);continue}else if(fn(lt,_n)){if(En.boundary(_n))break}else kn(_n)&&En.text(_n);if(_n===An)break;_n=ut(!1)}},mr=(lt,ut,en,En,An)=>{var Un;if(sn(lt,en))return;const _n=(Un=lt.getParent(En,lt.isBlock))!==null&&Un!==void 0?Un:lt.getRoot(),Jn=new zn(en,_n),go=An?Jn.next.bind(Jn):Jn.prev.bind(Jn);_o(lt,go,en,{boundary:F,cef:F,text:$o=>{An?ut.fOffset+=$o.length:ut.sOffset+=$o.length,ut.elements.push(tt.fromDom($o))}})},Ot=(lt,ut,en,En,An,Un=!0)=>{const _n=new zn(en,ut),Jn=[];let go=Pn();mr(lt,go,en,ut,!1);const $o=()=>(go.elements.length>0&&(Jn.push(go),go=Pn()),!1);return _o(lt,_n.next.bind(_n),en,{boundary:$o,cef:Hr=>($o(),An&&Jn.push(...An.cef(Hr)),!1),text:Hr=>{go.elements.push(tt.fromDom(Hr)),An&&An.text(Hr,go)}},En,Un),En&&mr(lt,go,En,ut,!0),$o(),Jn},wt=(lt,ut)=>{const en=$n(ut.startContainer,ut.startOffset),En=en.element.dom,An=$n(ut.endContainer,ut.endOffset),Un=An.element.dom;return Ot(lt,ut.commonAncestorContainer,En,Un,{text:(_n,Jn)=>{_n===Un?Jn.fOffset+=_n.length-An.offset:_n===En&&(Jn.sOffset+=en.offset)},cef:_n=>{const Jn=ue(Kn(tt.fromDom(_n),"*[contenteditable=true]"),go=>{const $o=go.dom;return Ot(lt,$o,$o)});return pe(Jn,(go,$o)=>vn(go.elements[0].dom,$o.elements[0].dom)?1:-1)}},!1)},wn=(lt,ut)=>ut.collapsed?[]:wt(lt,ut),xn=(lt,ut)=>{const en=lt.createRng();return en.selectNode(ut),wn(lt,en)},pn=(lt,ut)=>ue(ut,en=>xn(lt,en)),eo=(lt,ut,en=0,En=lt.length)=>{const An=ut.regex;An.lastIndex=en;const Un=[];let _n;for(;_n=An.exec(lt);){const Jn=_n[ut.matchIndex],go=_n.index+_n[0].indexOf(Jn),$o=go+Jn.length;if($o>En)break;Un.push({start:go,finish:$o}),An.lastIndex=$o}return Un},yr=(lt,ut)=>{const en=Q(lt,(En,An)=>{const Un=jt(An),_n=En.last,Jn=_n+Un.length,go=ue(ut,($o,Hr)=>$o.start<Jn&&$o.finish>_n?[{element:An,start:Math.max(_n,$o.start)-_n,finish:Math.min(Jn,$o.finish)-_n,matchId:Hr}]:[]);return{results:En.results.concat(go),last:Jn}},{results:[],last:0}).results;return ae(en,En=>En.matchId)},As=(lt,ut)=>ue(ut,en=>{const En=en.elements,An=j(En,jt).join(""),Un=eo(An,lt,en.sOffset,An.length-en.fOffset);return yr(En,Un)}),la=(lt,ut)=>{ke(lt,(en,En)=>{ke(en,An=>{const Un=tt.fromDom(ut.cloneNode(!1));Be(Un,"data-mce-index",En);const _n=An.element.dom;if(_n.length===An.finish&&An.start===0)xe(An.element,Un);else{_n.length!==An.finish&&_n.splitText(An.finish);const Jn=_n.splitText(An.start);xe(tt.fromDom(Jn),Un)}})})},pr=(lt,ut,en,En)=>{const An=xn(lt,en),Un=As(ut,An);return la(Un,En),Un.length},Sa=(lt,ut,en,En)=>{const An=en.getBookmark(),Un=lt.select("td[data-mce-selected],th[data-mce-selected]"),_n=Un.length>0?pn(lt,Un):wn(lt,en.getRng()),Jn=As(ut,_n);return la(Jn,En),en.moveToBookmark(An),Jn.length},wr=lt=>lt.getAttribute("data-mce-index"),Jo=(lt,ut,en,En)=>{const An=lt.dom.create("span",{"data-mce-bogus":1});An.className="mce-match-marker";const Un=lt.getBody();return Le(lt,ut,!1),En?Sa(lt.dom,en,lt.selection,An):pr(lt.dom,en,Un,An)},To=lt=>{var ut;const en=lt.parentNode;lt.firstChild&&en.insertBefore(lt.firstChild,lt),(ut=lt.parentNode)===null||ut===void 0||ut.removeChild(lt)},xs=(lt,ut)=>{const en=[],En=I.toArray(lt.getBody().getElementsByTagName("span"));if(En.length)for(let An=0;An<En.length;An++){const Un=wr(En[An]);Un===null||!Un.length||Un===ut.toString()&&en.push(En[An])}return en},ra=(lt,ut,en)=>{const En=ut.get();let An=En.index;const Un=lt.dom;en?An+1===En.count?An=0:An++:An-1===-1?An=En.count-1:An--,Un.removeClass(xs(lt,En.index),"mce-match-marker-selected");const _n=xs(lt,An);return _n.length?(Un.addClass(xs(lt,An),"mce-match-marker-selected"),lt.selection.scrollIntoView(_n[0]),An):-1},Vr=(lt,ut)=>{const en=ut.parentNode;lt.remove(ut),en&&lt.isEmpty(en)&&lt.remove(en)},ca=(lt,ut)=>{const en=lt.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),En="("+en+")";return ut?`(?:^|\\s|${O()})`+En+`(?=$|\\s|${O()})`:En},Yr=(lt,ut,en,En,An,Un)=>{const _n=lt.selection,Jn=ca(en,An),go=_n.isForward(),$o={regex:new RegExp(Jn,En?"g":"gi"),matchIndex:1},Hr=Jo(lt,ut,$o,Un);if(P.browser.isSafari()&&_n.setRng(_n.getRng(),go),Hr){const Es=ra(lt,ut,!0);ut.set({index:Es,count:Hr,text:en,matchCase:En,wholeWord:An,inSelection:Un})}return Hr},ri=(lt,ut)=>{const en=ra(lt,ut,!0);ut.set({...ut.get(),index:en})},as=(lt,ut)=>{const en=ra(lt,ut,!1);ut.set({...ut.get(),index:en})},Ta=lt=>{const ut=wr(lt);return ut!==null&&ut.length>0},dt=(lt,ut,en,En,An)=>{const Un=ut.get(),_n=Un.index;let Jn,go=_n;En=En!==!1;const $o=lt.getBody(),Hr=I.grep(I.toArray($o.getElementsByTagName("span")),Ta);for(let Es=0;Es<Hr.length;Es++){const Qo=wr(Hr[Es]);let fi=Jn=parseInt(Qo,10);if(An||fi===Un.index){for(en.length?(Hr[Es].innerText=en,To(Hr[Es])):Vr(lt.dom,Hr[Es]);Hr[++Es];)if(fi=parseInt(wr(Hr[Es]),10),fi===Jn)Vr(lt.dom,Hr[Es]);else{Es--;break}En&&go--}else Jn>_n&&Hr[Es].setAttribute("data-mce-index",String(Jn-1))}return ut.set({...Un,count:An?0:Un.count-1,index:go}),En?ri(lt,ut):as(lt,ut),!An&&ut.get().count>0},Le=(lt,ut,en)=>{let En,An;const Un=ut.get(),_n=I.toArray(lt.getBody().getElementsByTagName("span"));for(let Jn=0;Jn<_n.length;Jn++){const go=wr(_n[Jn]);go!==null&&go.length&&(go===Un.index.toString()&&(En||(En=_n[Jn].firstChild),An=_n[Jn].firstChild),To(_n[Jn]))}if(ut.set({...Un,index:-1,count:0,text:""}),En&&An){const Jn=lt.dom.createRng();return Jn.setStart(En,0),Jn.setEnd(An,An.data.length),en!==!1&&lt.selection.setRng(Jn),Jn}else return},Pt=(lt,ut)=>ut.get().count>1,Zt=(lt,ut)=>ut.get().count>1,to=(lt,ut)=>({done:Jn=>Le(lt,ut,Jn),find:(Jn,go,$o,Hr=!1)=>Yr(lt,ut,Jn,go,$o,Hr),next:()=>ri(lt,ut),prev:()=>as(lt,ut),replace:(Jn,go,$o)=>dt(lt,ut,Jn,go,$o)}),uo=lt=>{const ut=e(B.none()),en=()=>ut.get().each(lt);return{clear:()=>{en(),ut.set(B.none())},isSet:()=>ut.get().isSome(),get:()=>ut.get(),set:Jn=>{en(),ut.set(B.some(Jn))}}},Xn=()=>{const lt=uo(k);return{...lt,on:en=>lt.get().each(en)}},vr=(lt,ut)=>{const en=Xn();lt.undoManager.add();const En=I.trim(lt.selection.getContent({format:"text"})),An=ar=>{ar.setEnabled("next",Pt(lt,ut)),ar.setEnabled("prev",Zt(lt,ut))},Un=ar=>{const Tr=ar.getData(),Or=ut.get();ut.set({...Or,matchCase:Tr.matchcase,wholeWord:Tr.wholewords,inSelection:Tr.inselection})},_n=(ar,Tr)=>{oe(["replace","replaceall","prev","next"],Is=>ar.setEnabled(Is,!Tr))},Jn=ar=>{lt.windowManager.alert("Could not find the specified string.",()=>{ar.focus("findtext")})},go=(ar,Tr)=>{P.browser.isSafari()&&P.deviceType.isTouch()&&(Tr==="find"||Tr==="replace"||Tr==="replaceall")&&ar.focus(Tr)},$o=ar=>{Le(lt,ut,!1),_n(ar,!0),An(ar)},Hr=ar=>{const Tr=ar.getData(),Or=ut.get();if(!Tr.findtext.length){$o(ar);return}if(Or.text===Tr.findtext&&Or.matchCase===Tr.matchcase&&Or.wholeWord===Tr.wholewords)ri(lt,ut);else{const Ys=Yr(lt,ut,Tr.findtext,Tr.matchcase,Tr.wholewords,Tr.inselection);Ys<=0&&Jn(ar),_n(ar,Ys===0)}An(ar)},Es=ut.get(),Qo={findtext:En,replacetext:"",wholewords:Es.wholeWord,matchcase:Es.matchCase,inselection:Es.inSelection},fi={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Qo,onChange:(ar,Tr)=>{Tr.name==="findtext"&&ut.get().count>0&&$o(ar)},onAction:(ar,Tr)=>{const Or=ar.getData();switch(Tr.name){case"find":Hr(ar);break;case"replace":dt(lt,ut,Or.replacetext)?An(ar):$o(ar);break;case"replaceall":dt(lt,ut,Or.replacetext,!0,!0),$o(ar);break;case"prev":as(lt,ut),An(ar);break;case"next":ri(lt,ut),An(ar);break;case"matchcase":case"wholewords":case"inselection":Un(ar),$o(ar);break}go(ar,Tr.name)},onSubmit:ar=>{Hr(ar),go(ar,"find")},onClose:()=>{lt.focus(),Le(lt,ut),lt.undoManager.add()}};en.set(lt.windowManager.open(fi,{inline:"toolbar"}))},zo=(lt,ut)=>{lt.addCommand("SearchReplace",()=>{vr(lt,ut)})},Fo=(lt,ut)=>()=>{vr(lt,ut)},ws=(lt,ut)=>{lt.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Fo(lt,ut),icon:"search"}),lt.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Fo(lt,ut),icon:"search"}),lt.shortcuts.add("Meta+F","",Fo(lt,ut))};var dn=()=>{o.add("searchreplace",lt=>{const ut=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return zo(lt,ut),ws(lt,ut),to(lt,ut)})};dn()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(W,X,_e)=>{var $e;return _e(W,X.prototype)?!0:(($e=W.constructor)===null||$e===void 0?void 0:$e.name)===X.name},s=W=>{const X=typeof W;return W===null?"null":X==="object"&&Array.isArray(W)?"array":X==="object"&&o(W,String,(_e,$e)=>$e.isPrototypeOf(_e))?"string":X},l=W=>X=>s(X)===W,c=W=>X=>typeof X===W,d=W=>X=>W===X,p=l("string"),v=l("array"),y=c("boolean"),S=d(void 0),x=W=>W==null,T=W=>!x(W),k=c("function"),A=c("number"),F=()=>{},N=(W,X)=>_e=>W(X(_e)),D=W=>()=>W,B=W=>W,O=(W,X)=>W===X;function P(W,...X){return(..._e)=>{const $e=X.concat(_e);return W.apply(null,$e)}}const I=W=>{W()},z=D(!1),K=D(!0);class j{constructor(X,_e){this.tag=X,this.value=_e}static some(X){return new j(!0,X)}static none(){return j.singletonNone}fold(X,_e){return this.tag?_e(this.value):X()}isSome(){return this.tag}isNone(){return!this.tag}map(X){return this.tag?j.some(X(this.value)):j.none()}bind(X){return this.tag?X(this.value):j.none()}exists(X){return this.tag&&X(this.value)}forall(X){return!this.tag||X(this.value)}filter(X){return!this.tag||X(this.value)?this:j.none()}getOr(X){return this.tag?this.value:X}or(X){return this.tag?this:X}getOrThunk(X){return this.tag?this.value:X()}orThunk(X){return this.tag?this:X()}getOrDie(X){if(this.tag)return this.value;throw new Error(X!=null?X:"Called getOrDie on None")}static from(X){return T(X)?j.some(X):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(X){this.tag&&X(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const oe=Object.keys,ke=Object.hasOwnProperty,ae=(W,X)=>{const _e=oe(W);for(let $e=0,yt=_e.length;$e<yt;$e++){const It=_e[$e],Cn=W[It];X(Cn,It)}},Q=W=>(X,_e)=>{W[_e]=X},G=(W,X,_e,$e)=>{ae(W,(yt,It)=>{(X(yt,It)?_e:$e)(yt,It)})},ue=(W,X)=>{const _e={};return G(W,X,Q(_e),F),_e},pe=(W,X)=>{const _e=[];return ae(W,($e,yt)=>{_e.push(X($e,yt))}),_e},be=W=>pe(W,B),qe=W=>oe(W).length,U=(W,X)=>Fe(W,X)?j.from(W[X]):j.none(),Fe=(W,X)=>ke.call(W,X),De=(W,X)=>Fe(W,X)&&W[X]!==void 0&&W[X]!==null,Se=Array.prototype.indexOf,re=Array.prototype.push,le=(W,X)=>Se.call(W,X),fe=(W,X)=>le(W,X)>-1,ce=(W,X)=>{for(let _e=0,$e=W.length;_e<$e;_e++){const yt=W[_e];if(X(yt,_e))return!0}return!1},Be=(W,X)=>{const _e=[];for(let $e=0;$e<W;$e++)_e.push(X($e));return _e},Ce=(W,X)=>{const _e=W.length,$e=new Array(_e);for(let yt=0;yt<_e;yt++){const It=W[yt];$e[yt]=X(It,yt)}return $e},me=(W,X)=>{for(let _e=0,$e=W.length;_e<$e;_e++){const yt=W[_e];X(yt,_e)}},q=(W,X)=>{for(let _e=W.length-1;_e>=0;_e--){const $e=W[_e];X($e,_e)}},Ze=(W,X)=>{const _e=[],$e=[];for(let yt=0,It=W.length;yt<It;yt++){const Cn=W[yt];(X(Cn,yt)?_e:$e).push(Cn)}return{pass:_e,fail:$e}},We=(W,X)=>{const _e=[];for(let $e=0,yt=W.length;$e<yt;$e++){const It=W[$e];X(It,$e)&&_e.push(It)}return _e},tt=(W,X,_e)=>(q(W,($e,yt)=>{_e=X(_e,$e,yt)}),_e),Qe=(W,X,_e)=>(me(W,($e,yt)=>{_e=X(_e,$e,yt)}),_e),at=(W,X,_e)=>{for(let $e=0,yt=W.length;$e<yt;$e++){const It=W[$e];if(X(It,$e))return j.some(It);if(_e(It,$e))break}return j.none()},He=(W,X)=>at(W,X,z),Re=W=>{const X=[];for(let _e=0,$e=W.length;_e<$e;++_e){if(!v(W[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+W);re.apply(X,W[_e])}return X},Ve=(W,X)=>Re(Ce(W,X)),Oe=(W,X)=>{for(let _e=0,$e=W.length;_e<$e;++_e){const yt=W[_e];if(X(yt,_e)!==!0)return!1}return!0},ve=(W,X)=>{const _e={};for(let $e=0,yt=W.length;$e<yt;$e++){const It=W[$e];_e[String(It)]=X(It,$e)}return _e},se=(W,X)=>X>=0&&X<W.length?j.some(W[X]):j.none(),xe=W=>se(W,0),ot=W=>se(W,W.length-1),Xe=(W,X)=>{for(let _e=0;_e<W.length;_e++){const $e=X(W[_e],_e);if($e.isSome())return $e}return j.none()},jt=(W,X)=>{const $e=(X||document).createElement("div");if($e.innerHTML=W,!$e.hasChildNodes()||$e.childNodes.length>1){const yt="HTML does not have a single root node";throw console.error(yt,W),new Error(yt)}return Kn($e.childNodes[0])},qt=(W,X)=>{const $e=(X||document).createElement(W);return Kn($e)},vn=(W,X)=>{const $e=(X||document).createTextNode(W);return Kn($e)},Kn=W=>{if(W==null)throw new Error("Node cannot be null or undefined");return{dom:W}},fn={fromHtml:jt,fromTag:qt,fromText:vn,fromDom:Kn,fromPoint:(W,X,_e)=>j.from(W.dom.elementFromPoint(X,_e)).map(Kn)};typeof window<"u"||Function("return this;")();const oo=8,ft=9,Tt=11,sn=1,kn=3,Pn=W=>W.dom.nodeName.toLowerCase(),$n=W=>W.dom.nodeType,_o=W=>X=>$n(X)===W,mr=W=>$n(W)===oo||Pn(W)==="#comment",Ot=_o(sn),wt=_o(kn),wn=_o(ft),xn=_o(Tt),pn=W=>X=>Ot(X)&&Pn(X)===W,eo=(W,X)=>{const _e=W.dom;if(_e.nodeType!==sn)return!1;{const $e=_e;if($e.matches!==void 0)return $e.matches(X);if($e.msMatchesSelector!==void 0)return $e.msMatchesSelector(X);if($e.webkitMatchesSelector!==void 0)return $e.webkitMatchesSelector(X);if($e.mozMatchesSelector!==void 0)return $e.mozMatchesSelector(X);throw new Error("Browser lacks native selectors")}},yr=W=>W.nodeType!==sn&&W.nodeType!==ft&&W.nodeType!==Tt||W.childElementCount===0,As=(W,X)=>{const _e=X===void 0?document:X.dom;return yr(_e)?[]:Ce(_e.querySelectorAll(W),fn.fromDom)},la=(W,X)=>{const _e=X===void 0?document:X.dom;return yr(_e)?j.none():j.from(_e.querySelector(W)).map(fn.fromDom)},pr=(W,X)=>W.dom===X.dom,Sa=eo,wr=W=>fn.fromDom(W.dom.ownerDocument),Jo=W=>wn(W)?W:wr(W),To=W=>j.from(W.dom.parentNode).map(fn.fromDom),xs=(W,X)=>{const _e=k(X)?X:z;let $e=W.dom;const yt=[];for(;$e.parentNode!==null&&$e.parentNode!==void 0;){const It=$e.parentNode,Cn=fn.fromDom(It);if(yt.push(Cn),_e(Cn)===!0)break;$e=It}return yt},ra=W=>j.from(W.dom.previousSibling).map(fn.fromDom),Vr=W=>j.from(W.dom.nextSibling).map(fn.fromDom),ca=W=>Ce(W.dom.childNodes,fn.fromDom),Yr=(W,X)=>{const _e=W.dom.childNodes;return j.from(_e[X]).map(fn.fromDom)},ri=W=>Yr(W,0),as=W=>xn(W)&&T(W.dom.host),dt=k(Element.prototype.attachShadow)&&k(Node.prototype.getRootNode)?W=>fn.fromDom(W.dom.getRootNode()):Jo,Le=W=>{const X=dt(W);return as(X)?j.some(X):j.none()},Pt=W=>fn.fromDom(W.dom.host),Zt=W=>{const X=wt(W)?W.dom.parentNode:W.dom;if(X==null||X.ownerDocument===null)return!1;const _e=X.ownerDocument;return Le(fn.fromDom(X)).fold(()=>_e.body.contains(X),N(Zt,Pt))},to=(W,X)=>We(ca(W),X),uo=(W,X)=>{let _e=[];return me(ca(W),$e=>{X($e)&&(_e=_e.concat([$e])),_e=_e.concat(uo($e,X))}),_e},Xn=(W,X)=>to(W,_e=>eo(_e,X)),vr=(W,X)=>As(X,W);var zo=(W,X,_e,$e,yt)=>W(_e,$e)?j.some(_e):k(yt)&&yt(_e)?j.none():X(_e,$e,yt);const Fo=(W,X,_e)=>{let $e=W.dom;const yt=k(_e)?_e:z;for(;$e.parentNode;){$e=$e.parentNode;const It=fn.fromDom($e);if(X(It))return j.some(It);if(yt(It))break}return j.none()},ws=(W,X)=>{const _e=yt=>X(fn.fromDom(yt));return He(W.dom.childNodes,_e).map(fn.fromDom)},dn=(W,X,_e)=>Fo(W,$e=>eo($e,X),_e),lt=(W,X)=>ws(W,_e=>eo(_e,X)),ut=(W,X)=>la(X,W),en=(W,X,_e)=>zo((yt,It)=>eo(yt,It),dn,W,X,_e),En=(W,X,_e)=>{if(p(_e)||y(_e)||A(_e))W.setAttribute(X,_e+"");else throw console.error("Invalid call to Attribute.set. Key ",X,":: Value ",_e,":: Element ",W),new Error("Attribute value was not simple")},An=(W,X,_e)=>{En(W.dom,X,_e)},Un=(W,X)=>{const _e=W.dom;ae(X,($e,yt)=>{En(_e,yt,$e)})},_n=(W,X)=>{const _e=W.dom.getAttribute(X);return _e===null?void 0:_e},Jn=(W,X)=>j.from(_n(W,X)),go=(W,X)=>{W.dom.removeAttribute(X)},$o=W=>Qe(W.dom.attributes,(X,_e)=>(X[_e.name]=_e.value,X),{}),Hr=(W,X,_e=O)=>W.exists($e=>_e($e,X)),Es=W=>{const X=[],_e=$e=>{X.push($e)};for(let $e=0;$e<W.length;$e++)W[$e].each(_e);return X},Qo=(W,X,_e)=>W.isSome()&&X.isSome()?j.some(_e(W.getOrDie(),X.getOrDie())):j.none(),fi=W=>W.bind(B),ar=(W,X)=>W?j.some(X):j.none(),Tr=(W,X)=>W.substring(X),Or=(W,X,_e)=>X===""||W.length>=X.length&&W.substr(_e,_e+X.length)===X,Ys=(W,X)=>Is(W,X)?Tr(W,X.length):W,Is=(W,X)=>Or(W,X,0),Fa=(W=>X=>X.replace(W,""))(/^\s+|\s+$/g),di=W=>W.length>0,fl=W=>!di(W),Mi=(W,X=10)=>{const _e=parseInt(W,X);return isNaN(_e)?j.none():j.some(_e)},ki=W=>{const X=parseFloat(W);return isNaN(X)?j.none():j.some(X)},Cr=W=>W.style!==void 0&&k(W.style.getPropertyValue),Ra=(W,X,_e)=>{if(!p(_e))throw console.error("Invalid call to CSS.set. Property ",X,":: Value ",_e,":: Element ",W),new Error("CSS value must be a string: "+_e);Cr(W)&&W.style.setProperty(X,_e)},Vs=(W,X)=>{Cr(W)&&W.style.removeProperty(X)},si=(W,X,_e)=>{const $e=W.dom;Ra($e,X,_e)},Oa=(W,X)=>{const _e=W.dom,yt=window.getComputedStyle(_e).getPropertyValue(X);return yt===""&&!Zt(W)?Ai(_e,X):yt},Ai=(W,X)=>Cr(W)?W.style.getPropertyValue(X):"",ga=(W,X)=>{const _e=W.dom,$e=Ai(_e,X);return j.from($e).filter(yt=>yt.length>0)},dl=(W,X)=>{const _e=W.dom;Vs(_e,X),Hr(Jn(W,"style").map(Fa),"")&&go(W,"style")},hi=(W,X,_e=0)=>Jn(W,X).map($e=>parseInt($e,10)).getOr(_e),hl=(W,X)=>Sr(W,X,K),Sr=(W,X,_e)=>Ve(ca(W),$e=>eo($e,X)?_e($e)?[$e]:[]:Sr($e,X,_e)),ma=["tfoot","thead","tbody","colgroup"],Ue=W=>fe(ma,W),pt=(W,X)=>({rows:W,columns:X}),xt=(W,X,_e)=>({element:W,rowspan:X,colspan:_e}),Gt=(W,X,_e,$e,yt,It)=>({element:W,rowspan:X,colspan:_e,row:$e,column:yt,isLocked:It}),gn=(W,X,_e)=>({element:W,cells:X,section:_e}),Do=(W,X,_e,$e)=>({startRow:W,startCol:X,finishRow:_e,finishCol:$e}),or=(W,X,_e)=>({element:W,colspan:X,column:_e}),Ts=(W,X)=>({element:W,columns:X}),xr=(W,X,_e=z)=>{if(_e(X))return j.none();if(fe(W,Pn(X)))return j.some(X);const $e=yt=>eo(yt,"table")||_e(yt);return dn(X,W.join(","),$e)},Bs=(W,X)=>xr(["td","th"],W,X),Cs=W=>hl(W,"th,td"),Ls=W=>eo(W,"colgroup")?Xn(W,"col"):Ve(Ke(W),X=>Xn(X,"col")),Ma=(W,X)=>en(W,"table",X),ie=W=>hl(W,"tr"),Ke=W=>Ma(W).fold(D([]),X=>Xn(X,"colgroup")),Ct=(W,X)=>Ce(W,_e=>{if(Pn(_e)==="colgroup"){const $e=Ce(Ls(_e),yt=>{const It=hi(yt,"span",1);return xt(yt,1,It)});return gn(_e,$e,"colgroup")}else{const $e=Ce(Cs(_e),yt=>{const It=hi(yt,"rowspan",1),Cn=hi(yt,"colspan",1);return xt(yt,It,Cn)});return gn(_e,$e,X(_e))}}),cn=W=>To(W).map(X=>{const _e=Pn(X);return Ue(_e)?_e:"tbody"}).getOr("tbody"),Fn=W=>{const X=ie(W),$e=[...Ke(W),...X];return Ct($e,cn)},Hn="data-snooker-locked-cols",Ro=W=>Jn(W,Hn).bind(X=>j.from(X.match(/\d+/g))).map(X=>ve(X,K)),he=(W,X)=>W+","+X,je=(W,X,_e)=>j.from(W.access[he(X,_e)]),et=(W,X,_e)=>{const $e=Nt(W,yt=>_e(X,yt.element));return $e.length>0?j.some($e[0]):j.none()},Nt=(W,X)=>{const _e=Ve(W.all,$e=>$e.cells);return We(_e,X)},Dn=W=>{const X={};let _e=0;return me(W.cells,$e=>{const yt=$e.colspan;Be(yt,It=>{const Cn=_e+It;X[Cn]=or($e.element,yt,Cn)}),_e+=yt}),X},mo=W=>{const X={},_e=[],yt=xe(W).map(Ml=>Ml.element).bind(Ma).bind(Ro).getOr({});let It=0,Cn=0,Gn=0;const{pass:Zo,fail:ur}=Ze(W,Ml=>Ml.section==="colgroup");me(ur,Ml=>{const Zc=[];me(Ml.cells,Wf=>{let Ru=0;for(;X[he(Gn,Ru)]!==void 0;)Ru++;const fh=De(yt,Ru.toString()),kd=Gt(Wf.element,Wf.rowspan,Wf.colspan,Gn,Ru,fh);for(let mf=0;mf<Wf.colspan;mf++)for(let dh=0;dh<Wf.rowspan;dh++){const vf=Gn+dh,f1=Ru+mf,d1=he(vf,f1);X[d1]=kd,Cn=Math.max(Cn,f1+1)}Zc.push(kd)}),It++,_e.push(gn(Ml.element,Zc,Ml.section)),Gn++});const{columns:ns,colgroups:us}=ot(Zo).map(Ml=>{const Zc=Dn(Ml);return{colgroups:[Ts(Ml.element,be(Zc))],columns:Zc}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:pt(It,Cn),access:X,all:_e,columns:ns,colgroups:us}},hs={fromTable:W=>{const X=Fn(W);return mo(X)},generate:mo,getAt:je,findItem:et,filterItems:Nt,justCells:W=>Ve(W.all,X=>X.cells),justColumns:W=>be(W.columns),hasColumns:W=>oe(W.columns).length>0,getColumnAt:(W,X)=>j.from(W.columns[X])};var Js=tinymce.util.Tools.resolve("tinymce.util.Tools");const Dl=(W,X,_e)=>{const $e=W.select("td,th",X);let yt;for(let It=0;It<$e.length;It++){const Cn=W.getStyle($e[It],_e);if(S(yt)&&(yt=Cn),yt!==Cn)return""}return yt},rr=(W,X,_e)=>{Js.each("left center right".split(" "),$e=>{$e!==_e&&W.formatter.remove("align"+$e,{},X)}),_e&&W.formatter.apply("align"+_e,{},X)},Ye=(W,X,_e)=>{Js.each("top middle bottom".split(" "),$e=>{$e!==_e&&W.formatter.remove("valign"+$e,{},X)}),_e&&W.formatter.apply("valign"+_e,{},X)},it=(W,X,_e)=>{W.dispatch("TableModified",{..._e,table:X})},Ft=(W,X)=>ki(W).getOr(X),Vt=(W,X,_e)=>Ft(Oa(W,X),_e),ro=(W,X,_e,$e)=>{const yt=Vt(W,`padding-${_e}`,0),It=Vt(W,`padding-${$e}`,0),Cn=Vt(W,`border-${_e}-width`,0),Gn=Vt(W,`border-${$e}-width`,0);return X-yt-It-Cn-Gn},ko=(W,X)=>{const _e=W.dom,$e=_e.getBoundingClientRect().width||_e.offsetWidth;return X==="border-box"?$e:ro(W,$e,"left","right")},Er=W=>ko(W,"content-box");var jc=tinymce.util.Tools.resolve("tinymce.Env");const Fr="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Xr=Be(5,W=>{const X=`${W+1}px`;return{title:X,value:X}}),pi=Ce(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],W=>({title:W,value:W.toLowerCase()})),Xi="100%",zc=W=>{var X;const _e=W.dom,$e=(X=_e.getParent(W.selection.getStart(),_e.isBlock))!==null&&X!==void 0?X:W.getBody();return Er(fn.fromDom($e))+"px"},Us=(W,X)=>up(W)||!Bl(W)?X:lf(W)?{...X,width:zc(W)}:{...X,width:Xi},Os=(W,X)=>up(W)||Bl(W)?X:lf(W)?{...X,width:zc(W)}:{...X,width:Xi},Jr=W=>X=>X.options.get(W),va=W=>{const X=W.options.register;X("table_border_widths",{processor:"object[]",default:Xr}),X("table_border_styles",{processor:"object[]",default:pi}),X("table_cell_advtab",{processor:"boolean",default:!0}),X("table_row_advtab",{processor:"boolean",default:!0}),X("table_advtab",{processor:"boolean",default:!0}),X("table_appearance_options",{processor:"boolean",default:!0}),X("table_grid",{processor:"boolean",default:!jc.deviceType.isTouch()}),X("table_cell_class_list",{processor:"object[]",default:[]}),X("table_row_class_list",{processor:"object[]",default:[]}),X("table_class_list",{processor:"object[]",default:[]}),X("table_toolbar",{processor:"string",default:Fr}),X("table_background_color_map",{processor:"object[]",default:[]}),X("table_border_color_map",{processor:"object[]",default:[]})},pl=Jr("table_sizing_mode"),$u=Jr("table_border_widths"),Ia=Jr("table_border_styles"),af=Jr("table_cell_advtab"),Rf=Jr("table_row_advtab"),Ji=Jr("table_advtab"),Mf=Jr("table_appearance_options"),qm=Jr("table_grid"),Bl=Jr("table_style_by_css"),Du=Jr("table_cell_class_list"),md=Jr("table_row_class_list"),Ti=Jr("table_class_list"),iu=Jr("table_toolbar"),If=Jr("table_background_color_map"),eh=Jr("table_border_color_map"),lf=W=>pl(W)==="fixed",up=W=>pl(W)==="responsive",th=W=>{const X=W.options,_e=X.get("table_default_styles");return X.isSet("table_default_styles")?_e:Us(W,_e)},Cc=W=>{const X=W.options,_e=X.get("table_default_attributes");return X.isSet("table_default_attributes")?_e:Os(W,_e)},Zm=W=>W.nodeName.toLowerCase(),fp=W=>fn.fromDom(W.getBody()),Lf=W=>X=>pr(X,fp(W)),nh=W=>W?W.replace(/px$/,""):"",Sc=W=>/^\d+(\.\d+)?$/.test(W)?W+"px":W,mt=W=>fn.fromDom(W.selection.getStart()),cf=W=>fn.fromDom(W.selection.getEnd()),xc=(W,X)=>X.column>=W.startCol&&X.column+X.colspan-1<=W.finishCol&&X.row>=W.startRow&&X.row+X.rowspan-1<=W.finishRow,dp=(W,X)=>{let _e=!0;const $e=P(xc,X);for(let yt=X.startRow;yt<=X.finishRow;yt++)for(let It=X.startCol;It<=X.finishCol;It++)_e=_e&&hs.getAt(W,yt,It).exists($e);return _e?j.some(X):j.none()},hp=(W,X)=>Do(Math.min(W.row,X.row),Math.min(W.column,X.column),Math.max(W.row+W.rowspan-1,X.row+X.rowspan-1),Math.max(W.column+W.colspan-1,X.column+X.colspan-1)),Gm=(W,X,_e)=>{const $e=hs.findItem(W,X,pr),yt=hs.findItem(W,_e,pr);return $e.bind(It=>yt.map(Cn=>hp(It,Cn)))},ps=(W,X,_e)=>Gm(W,X,_e).bind($e=>dp(W,$e)),Ii=(W,X,_e)=>{const $e=bg(W);return ps($e,X,_e)},bg=hs.fromTable,Vc=(W,X)=>{To(W).each($e=>{$e.dom.insertBefore(X.dom,W.dom)})},pp=(W,X)=>{Vr(W).fold(()=>{To(W).each(yt=>{Li(yt,X)})},$e=>{Vc($e,X)})},Hf=(W,X)=>{ri(W).fold(()=>{Li(W,X)},$e=>{W.dom.insertBefore(X.dom,$e.dom)})},Li=(W,X)=>{W.dom.appendChild(X.dom)},Km=(W,X)=>{Vc(W,X),Li(X,W)},oh=(W,X)=>{me(X,(_e,$e)=>{const yt=$e===0?W:X[$e-1];pp(yt,_e)})},Ym=(W,X)=>{me(X,_e=>{Li(W,_e)})},Nl=W=>{const X=W.dom;X.parentNode!==null&&X.parentNode.removeChild(X)},rh=W=>{const X=ca(W);X.length>0&&oh(W,X),Nl(W)},vd=((W,X)=>{const _e=It=>{if(!W(It))throw new Error("Can only get "+X+" value of a "+X+" node");return $e(It).getOr("")},$e=It=>W(It)?j.from(It.dom.nodeValue):j.none();return{get:_e,getOption:$e,set:(It,Cn)=>{if(!W(It))throw new Error("Can only set raw "+X+" value of a "+X+" node");It.dom.nodeValue=Cn}}})(wt,"text"),gi=W=>vd.get(W),sh=(W,X)=>vd.set(W,X);var yg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],mp=()=>{const W=ur=>fn.fromDom(ur.dom.cloneNode(!1)),X=ur=>Jo(ur).dom,_e=ur=>Ot(ur)?Pn(ur)==="body"?!0:fe(yg,Pn(ur)):!1,$e=ur=>Ot(ur)?fe(["br","img","hr","input"],Pn(ur)):!1,yt=ur=>Ot(ur)&&_n(ur,"contenteditable")==="false",It=(ur,ns)=>ur.dom.compareDocumentPosition(ns.dom),Cn=(ur,ns)=>{const us=$o(ur);Un(ns,us)},Gn=ur=>{const ns=Pn(ur);return fe(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ns)},Zo=ur=>Ot(ur)?Jn(ur,"lang"):j.none();return{up:D({selector:dn,closest:en,predicate:Fo,all:xs}),down:D({selector:vr,predicate:uo}),styles:D({get:Oa,getRaw:ga,set:si,remove:dl}),attrs:D({get:_n,set:An,remove:go,copyTo:Cn}),insert:D({before:Vc,after:pp,afterAll:oh,append:Li,appendAll:Ym,prepend:Hf,wrap:Km}),remove:D({unwrap:rh,remove:Nl}),create:D({nu:fn.fromTag,clone:W,text:fn.fromText}),query:D({comparePosition:It,prevSibling:ra,nextSibling:Vr}),property:D({children:ca,name:Pn,parent:To,document:X,isText:wt,isComment:mr,isElement:Ot,isSpecial:Gn,getLanguage:Zo,getText:gi,setText:sh,isBoundary:_e,isEmptyTag:$e,isNonEditable:yt}),eq:pr,is:Sa}};const jf=(W,X,_e,$e)=>{const yt=_e[0],It=_e.slice(1);return $e(W,X,yt,It)},Xm=(W,X,_e)=>_e.length>0?jf(W,X,_e,vp):j.none(),vp=(W,X,_e,$e)=>{const yt=X(W,_e);return tt($e,(It,Cn)=>{const Gn=X(W,Cn);return gl(W,It,Gn)},yt)},gl=(W,X,_e)=>X.bind($e=>_e.filter(P(W.eq,$e))),Jm=Xm,lu=mp(),bd=(W,X)=>Jm(lu,(_e,$e)=>W($e),X),uf=W=>dn(W,"table"),Uc=(W,X)=>{const _e=vr(W,X);return _e.length>0?j.some(_e):j.none()},Qm=(W,X,_e)=>ut(W,X).bind($e=>ut(W,_e).bind(yt=>bd(uf,[$e,yt]).map(It=>({first:$e,last:yt,table:It})))),e1=(W,X)=>Uc(W,X),wg=(W,X,_e)=>Qm(W,X,_e).bind($e=>{const yt=Zo=>pr(W,Zo),It="thead,tfoot,tbody,table",Cn=dn($e.first,It,yt),Gn=dn($e.last,It,yt);return Cn.bind(Zo=>Gn.bind(ur=>pr(Zo,ur)?Ii($e.table,$e.first,$e.last):j.none()))}),cu=W=>Ce(W,fn.fromDom),ee="data-mce-selected",we="td["+ee+"],th["+ee+"]",Me="data-mce-first-selected",vt="td["+Me+"],th["+Me+"]",At="data-mce-last-selected",In="td["+At+"],th["+At+"]",Lo={selected:ee,selectedSelector:we,firstSelected:Me,firstSelectedSelector:vt,lastSelected:At,lastSelectedSelector:In},_r=W=>Ma(W).bind(X=>e1(X,Lo.firstSelectedSelector)).fold(D(W),X=>X[0]),br=W=>(X,_e)=>{const $e=Pn(X),yt=$e==="col"||$e==="colgroup"?_r(X):X;return en(yt,W,_e)},bo=br("th,td,caption"),$r=br("th,td"),ea=W=>cu(W.model.table.getSelectedCells()),Hi=(W,X)=>{const _e=$r(W),$e=_e.bind(yt=>Ma(yt)).map(yt=>ie(yt));return Qo(_e,$e,(yt,It)=>We(It,Cn=>ce(cu(Cn.dom.cells),Gn=>_n(Gn,X)==="1"||pr(Gn,yt)))).getOr([])},La=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],bp=W=>({value:W}),NC=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,er=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ba=W=>NC.test(W)||er.test(W),ts=W=>Ys(W,"#").toUpperCase(),Qi=W=>ba(W)?j.some({value:ts(W)}):j.none(),Oi=W=>{const X=W.toString(16);return(X.length===1?"0"+X:X).toUpperCase()},t1=W=>{const X=Oi(W.red)+Oi(W.green)+Oi(W.blue);return bp(X)},Cg=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,n1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,ff=(W,X,_e,$e)=>({red:W,green:X,blue:_e,alpha:$e}),Sg=(W,X,_e,$e)=>{const yt=parseInt(W,10),It=parseInt(X,10),Cn=parseInt(_e,10),Gn=parseFloat($e);return ff(yt,It,Cn,Gn)},PC=W=>{if(W==="transparent")return j.some(ff(0,0,0,0));const X=Cg.exec(W);if(X!==null)return j.some(Sg(X[1],X[2],X[3],"1"));const _e=n1.exec(W);return _e!==null?j.some(Sg(_e[1],_e[2],_e[3],_e[4])):j.none()},Z4=W=>Qi(W).orThunk(()=>PC(W).map(t1)).getOrThunk(()=>{const X=document.createElement("canvas");X.height=1,X.width=1;const _e=X.getContext("2d");_e.clearRect(0,0,X.width,X.height),_e.fillStyle="#FFFFFF",_e.fillStyle=W,_e.fillRect(0,0,1,1);const $e=_e.getImageData(0,0,1,1).data,yt=$e[0],It=$e[1],Cn=$e[2],Gn=$e[3];return t1(ff(yt,It,Cn,Gn))}),_a=W=>PC(W).map(t1).map(X=>"#"+X.value).getOr(W),o1=W=>{let X=W;return{get:()=>X,set:yt=>{X=yt}}},py=W=>{const X=o1(j.none()),_e=()=>X.get().each(W);return{clear:()=>{_e(),X.set(j.none())},isSet:()=>X.get().isSome(),get:()=>X.get(),set:Gn=>{_e(),X.set(j.some(Gn))}}},Kv=()=>py(W=>W.unbind()),xg=(W,X,_e)=>$e=>{const yt=Kv(),It=fl(_e),Cn=()=>{const Gn=ea(W),Zo=ur=>W.formatter.match(X,{value:_e},ur.dom,It);It?($e.setActive(!ce(Gn,Zo)),yt.set(W.formatter.formatChanged(X,ur=>$e.setActive(!ur),!0))):($e.setActive(Oe(Gn,Zo)),yt.set(W.formatter.formatChanged(X,$e.setActive,!1,{value:_e})))};return W.initialized?Cn():W.on("init",Cn),yt.clear},gy=W=>De(W,"menu"),yd=W=>Ce(W,X=>{const _e=X.text||X.title||"";return gy(X)?{text:_e,items:yd(X.menu)}:{text:_e,value:X.value}}),Ws=(W,X,_e,$e)=>Ce(X,yt=>{const It=yt.text||yt.title;return gy(yt)?{type:"nestedmenuitem",text:It,getSubmenuItems:()=>Ws(W,yt.menu,_e,$e)}:{text:It,type:"togglemenuitem",onAction:()=>$e(yt.value),onSetup:xg(W,_e,yt.value)}}),lr=(W,X)=>_e=>{W.execCommand("mceTableApplyCellStyle",!1,{[X]:_e})},el=W=>Ve(W,X=>gy(X)?[{...X,menu:el(X.menu)}]:di(X.value)?[X]:[]),df=(W,X,_e,$e)=>yt=>yt(Ws(W,X,_e,$e)),zf=(W,X,_e)=>{const $e=Ce(X,yt=>({text:yt.title,value:"#"+Z4(yt.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:$e.length>0?$e:void 0,allowCustomColors:!1},onAction:yt=>{const It=yt.value==="remove"?"":yt.value;W.execCommand("mceTableApplyCellStyle",!1,{[_e]:It})}}]},r1=W=>()=>{const _e=W.queryCommandValue("mceTableRowType")==="header"?"body":"header";W.execCommand("mceTableRowType",!1,{type:_e})},yp=W=>()=>{const _e=W.queryCommandValue("mceTableColType")==="th"?"td":"th";W.execCommand("mceTableColType",!1,{type:_e})},my=W=>{const X=yd(Du(W));return X.length>0?j.some({name:"class",type:"listbox",label:"Class",items:X}):j.none()},wd=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:La}],Cd=W=>wd.concat(my(W).toArray()),no=(W,X)=>{const $e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(yd(Ia(W)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],It=X==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat($e):$e;return{title:"Advanced",name:"advanced",items:It}},oc={normal:(W,X)=>{const _e=W.dom;return{setAttrib:(Cn,Gn)=>{_e.setAttrib(X,Cn,Gn)},setStyle:(Cn,Gn)=>{_e.setStyle(X,Cn,Gn)},setFormat:(Cn,Gn)=>{Gn===""?W.formatter.remove(Cn,{value:null},X,!0):W.formatter.apply(Cn,{value:Gn},X)}}}},Ec=pn("th"),vy=(W,X)=>W&&X?"sectionCells":W?"section":"cells",Sd=W=>{const X=W.section==="thead",_e=Hr(Bu(W.cells),"th");return W.section==="tfoot"?{type:"footer"}:X||_e?{type:"header",subType:vy(X,_e)}:{type:"body"}},Bu=W=>{const X=We(W,_e=>Ec(_e.element));return X.length===0?j.some("td"):X.length===W.length?j.some("th"):j.none()},RC=W=>{const X=Ce(W,yt=>Sd(yt).type),_e=fe(X,"header"),$e=fe(X,"footer");if(!_e&&!$e)return j.some("body");{const yt=fe(X,"body");return _e&&!yt&&!$e?j.some("header"):!_e&&!yt&&$e?j.some("footer"):j.none()}},hf=W=>{let X=!1,_e;return(...$e)=>(X||(X=!0,_e=W.apply(null,$e)),_e)},s1=(W,X)=>Xe(W.all,_e=>He(_e.cells,$e=>pr(X,$e.element))),a1=(W,X,_e)=>{const $e=Ce(X.selection,It=>Bs(It).bind(Cn=>s1(W,Cn)).filter(_e)),yt=Es($e);return ar(yt.length>0,yt)},bn=(W,X)=>X.mergable,Yv=(W,X)=>X.unmergable,Xv=(W,X)=>a1(W,X,K),Nu=(W,X)=>s1(W,X).exists(_e=>!_e.isLocked),wp=(W,X)=>Oe(X,_e=>Nu(W,_e)),Jv=(W,X)=>bn(W,X).filter(_e=>wp(W,_e.cells)),$a=(W,X)=>Yv(W,X).filter(_e=>wp(W,_e));({...{generate:W=>{if(!v(W))throw new Error("cases must be an array");if(W.length===0)throw new Error("there must be at least one case");const X=[],_e={};return me(W,($e,yt)=>{const It=oe($e);if(It.length!==1)throw new Error("one and only one name per case");const Cn=It[0],Gn=$e[Cn];if(_e[Cn]!==void 0)throw new Error("duplicate key detected:"+Cn);if(Cn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!v(Gn))throw new Error("case arguments must be an array");X.push(Cn),_e[Cn]=(...Zo)=>{const ur=Zo.length;if(ur!==Gn.length)throw new Error("Wrong number of arguments to case "+Cn+". Expected "+Gn.length+" ("+Gn+"), got "+ur);return{fold:(...us)=>{if(us.length!==W.length)throw new Error("Wrong number of arguments to fold. Expected "+W.length+", got "+us.length);return us[yt].apply(null,Zo)},match:us=>{const Ns=oe(us);if(X.length!==Ns.length)throw new Error("Wrong number of arguments to match. Expected: "+X.join(",")+`
Actual: `+Ns.join(","));if(!Oe(X,Zc=>fe(Ns,Zc)))throw new Error("Not all branches were specified when using match. Specified: "+Ns.join(", ")+`
Required: `+X.join(", "));return us[Cn].apply(null,Zo)},log:us=>{console.log(us,{constructors:X,constructor:Cn,params:Zo})}}}}),_e}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Oo=(W,X)=>{const _e=hs.fromTable(W);return Xv(_e,X).bind(yt=>{const It=yt[yt.length-1],Cn=yt[0].row,Gn=It.row+It.rowspan,Zo=_e.all.slice(Cn,Gn);return RC(Zo)}).getOr("")},ai=W=>Is(W,"rgb")?_a(W):W,Eg=W=>{const X=fn.fromDom(W);return{borderwidth:ga(X,"border-width").getOr(""),borderstyle:ga(X,"border-style").getOr(""),bordercolor:ga(X,"border-color").map(ai).getOr(""),backgroundcolor:ga(X,"background-color").map(ai).getOr("")}},by=W=>{const X=W[0],_e=W.slice(1);return me(_e,$e=>{me(oe(X),yt=>{ae($e,(It,Cn)=>{const Gn=X[yt];Gn!==""&&yt===Cn&&Gn!==It&&(X[yt]="")})})}),X},Qv=(W,X,_e,$e)=>He(W,yt=>!S(_e.formatter.matchNode($e,X+yt))).getOr(""),kg=P(Qv,["left","center","right"],"align"),Wc=P(Qv,["top","middle","bottom"],"valign"),i1=(W,X)=>{const _e=th(W),$e=Cc(W),yt=()=>({borderstyle:U(_e,"border-style").getOr(""),bordercolor:ai(U(_e,"border-color").getOr("")),backgroundcolor:ai(U(_e,"background-color").getOr(""))}),It={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Cn=()=>{const ns=_e["border-width"];return Bl(W)&&ns?{border:ns}:U($e,"border").fold(()=>({}),us=>({border:us}))},Gn=X?yt():{},Zo=()=>{const ns=U(_e,"border-spacing").or(U($e,"cellspacing")).fold(()=>({}),Ns=>({cellspacing:Ns})),us=U(_e,"border-padding").or(U($e,"cellpadding")).fold(()=>({}),Ns=>({cellpadding:Ns}));return{...ns,...us}};return{...It,..._e,...$e,...Gn,...Cn(),...Zo()}},Ag=W=>Ma(fn.fromDom(W)).map(X=>{const _e={selection:cu(W.cells)};return Oo(X,_e)}).getOr(""),Da=(W,X,_e)=>{const $e=(Gn,Zo)=>{const ur=ga(fn.fromDom(Zo),"border-width");return Bl(W)&&ur.isSome()?ur.getOr(""):Gn.getAttrib(Zo,"border")||Dl(W.dom,Zo,"border-width")||Dl(W.dom,Zo,"border")||""},yt=W.dom,It=Bl(W)?yt.getStyle(X,"border-spacing")||yt.getAttrib(X,"cellspacing"):yt.getAttrib(X,"cellspacing")||yt.getStyle(X,"border-spacing"),Cn=Bl(W)?Dl(yt,X,"padding")||yt.getAttrib(X,"cellpadding"):yt.getAttrib(X,"cellpadding")||Dl(yt,X,"padding");return{width:yt.getStyle(X,"width")||yt.getAttrib(X,"width"),height:yt.getStyle(X,"height")||yt.getAttrib(X,"height"),cellspacing:It!=null?It:"",cellpadding:Cn!=null?Cn:"",border:$e(yt,X),caption:!!yt.select("caption",X)[0],class:yt.getAttrib(X,"class",""),align:kg(W,X),..._e?Eg(X):{}}},Pu=(W,X,_e)=>{const $e=W.dom;return{height:$e.getStyle(X,"height")||$e.getAttrib(X,"height"),class:$e.getAttrib(X,"class",""),type:Ag(X),align:kg(W,X),..._e?Eg(X):{}}},l1=(W,X,_e,$e)=>{const yt=W.dom,It=$e.getOr(X),Cn=(Gn,Zo)=>yt.getStyle(Gn,Zo)||yt.getAttrib(Gn,Zo);return{width:Cn(It,"width"),height:Cn(X,"height"),scope:yt.getAttrib(X,"scope"),celltype:Zm(X),class:yt.getAttrib(X,"class",""),halign:kg(W,X),valign:Wc(W,X),..._e?Eg(X):{}}},Cp=(W,X)=>{const _e=hs.fromTable(W),$e=hs.justCells(_e),yt=We($e,It=>ce(X,Cn=>pr(It.element,Cn)));return Ce(yt,It=>({element:It.element.dom,column:hs.getColumnAt(_e,It.column).map(Cn=>Cn.element.dom)}))},IC=(W,X,_e,$e)=>{$e("scope")&&W.setAttrib("scope",_e.scope),$e("class")&&W.setAttrib("class",_e.class),$e("height")&&W.setStyle("height",Sc(_e.height)),$e("width")&&X.setStyle("width",Sc(_e.width))},Tg=(W,X,_e)=>{_e("backgroundcolor")&&W.setFormat("tablecellbackgroundcolor",X.backgroundcolor),_e("bordercolor")&&W.setFormat("tablecellbordercolor",X.bordercolor),_e("borderstyle")&&W.setFormat("tablecellborderstyle",X.borderstyle),_e("borderwidth")&&W.setFormat("tablecellborderwidth",Sc(X.borderwidth))},xd=(W,X,_e,$e)=>{const yt=X.length===1;me(X,It=>{const Cn=It.element,Gn=yt?K:$e,Zo=oc.normal(W,Cn),ur=It.column.map(ns=>oc.normal(W,ns)).getOr(Zo);IC(Zo,ur,_e,Gn),af(W)&&Tg(Zo,_e,Gn),$e("halign")&&rr(W,Cn,_e.halign),$e("valign")&&Ye(W,Cn,_e.valign)})},ah=(W,X)=>{W.execCommand("mceTableCellType",!1,{type:X.celltype,no_events:!0})},Sp=(W,X,_e,$e)=>{const yt=ue($e,(It,Cn)=>_e[Cn]!==It);qe(yt)>0&&X.length>=1&&Ma(X[0]).each(It=>{const Cn=Cp(It,X),Gn=qe(ue(yt,(ur,ns)=>ns!=="scope"&&ns!=="celltype"))>0,Zo=Fe(yt,"celltype");(Gn||Fe(yt,"scope"))&&xd(W,Cn,$e,P(Fe,yt)),Zo&&ah(W,$e),it(W,It.dom,{structure:Zo,style:Gn})})},yy=(W,X,_e,$e)=>{const yt=$e.getData();$e.close(),W.undoManager.transact(()=>{Sp(W,X,_e,yt),W.focus()})},ih=(W,X)=>{const _e=Ma(X[0]).map($e=>Ce(Cp($e,X),yt=>l1(W,yt.element,af(W),yt.column)));return by(_e.getOrDie())},jr=W=>{const X=ea(W);if(X.length===0)return;const _e=ih(W,X),$e={type:"tabpanel",tabs:[{title:"General",name:"general",items:Cd(W)},no(W,"cell")]},yt={type:"panel",items:[{type:"grid",columns:2,items:Cd(W)}]};W.windowManager.open({title:"Cell Properties",size:"normal",body:af(W)?$e:yt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_e,onSubmit:P(yy,W,X,_e)})},pf=W=>{const X=yd(md(W));return X.length>0?j.some({name:"class",type:"listbox",label:"Class",items:X}):j.none()},Pl=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Ed=W=>Pl.concat(pf(W).toArray()),qc=(W,X,_e)=>{_e("class")&&W.setAttrib("class",X.class),_e("height")&&W.setStyle("height",Sc(X.height))},wy=(W,X,_e)=>{_e("backgroundcolor")&&W.setStyle("background-color",X.backgroundcolor),_e("bordercolor")&&W.setStyle("border-color",X.bordercolor),_e("borderstyle")&&W.setStyle("border-style",X.borderstyle)},ji=(W,X,_e,$e)=>{const It=X.length===1?K:$e;me(X,Cn=>{const Gn=oc.normal(W,Cn);qc(Gn,_e,It),Rf(W)&&wy(Gn,_e,It),$e("align")&&rr(W,Cn,_e.align)})},ml=(W,X)=>{W.execCommand("mceTableRowType",!1,{type:X.type,no_events:!0})},e0=(W,X,_e,$e)=>{const yt=ue($e,(It,Cn)=>_e[Cn]!==It);if(qe(yt)>0){const It=Fe(yt,"type"),Cn=It?qe(yt)>1:!0;Cn&&ji(W,X,$e,P(Fe,yt)),It&&ml(W,$e),Ma(fn.fromDom(X[0])).each(Gn=>it(W,Gn.dom,{structure:It,style:Cn}))}},ln=(W,X,_e,$e)=>{const yt=$e.getData();$e.close(),W.undoManager.transact(()=>{e0(W,X,_e,yt),W.focus()})},_i=W=>{const X=Hi(mt(W),Lo.selected);if(X.length===0)return;const _e=Ce(X,Cn=>Pu(W,Cn.dom,Rf(W))),$e=by(_e),yt={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ed(W)},no(W,"row")]},It={type:"panel",items:[{type:"grid",columns:2,items:Ed(W)}]};W.windowManager.open({title:"Row Properties",size:"normal",body:Rf(W)?yt:It,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$e,onSubmit:P(ln,W,Ce(X,Cn=>Cn.dom),$e)})},Fu=(W,X,_e)=>{const $e=_e?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],yt=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],It=Mf(W)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Cn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Gn=X.length>0?[{type:"listbox",name:"class",label:"Class",items:X}]:[];return $e.concat(yt).concat(It).concat(Cn).concat(Gn)},Za=(W,X,_e,$e)=>{if(X.tagName==="TD"||X.tagName==="TH")p(_e)&&T($e)?W.setStyle(X,_e,$e):W.setStyles(X,_e);else if(X.children)for(let yt=0;yt<X.children.length;yt++)Za(W,X.children[yt],_e,$e)},xp=(W,X,_e)=>{const $e=W.dom,yt={},It={};if(S(_e.class)||(yt.class=_e.class),It.height=Sc(_e.height),Bl(W)?It.width=Sc(_e.width):$e.getAttrib(X,"width")&&(yt.width=nh(_e.width)),Bl(W)?(It["border-width"]=Sc(_e.border),It["border-spacing"]=Sc(_e.cellspacing)):(yt.border=_e.border,yt.cellpadding=_e.cellpadding,yt.cellspacing=_e.cellspacing),Bl(W)&&X.children)for(let Cn=0;Cn<X.children.length;Cn++)Za($e,X.children[Cn],{"border-width":Sc(_e.border),padding:Sc(_e.cellpadding)}),Ji(W)&&Za($e,X.children[Cn],{"border-color":_e.bordercolor});if(Ji(W)){const Cn=_e;It["background-color"]=Cn.backgroundcolor,It["border-color"]=Cn.bordercolor,It["border-style"]=Cn.borderstyle}yt.style=$e.serializeStyle({...th(W),...It}),$e.setAttribs(X,{...Cc(W),...yt})},lh=(W,X,_e,$e)=>{const yt=W.dom,It=$e.getData(),Cn=ue(It,(Gn,Zo)=>_e[Zo]!==Gn);$e.close(),It.class===""&&delete It.class,W.undoManager.transact(()=>{if(!X){const Gn=Mi(It.cols).getOr(1),Zo=Mi(It.rows).getOr(1);W.execCommand("mceInsertTable",!1,{rows:Zo,columns:Gn}),X=$r(mt(W),Lf(W)).bind(ur=>Ma(ur,Lf(W))).map(ur=>ur.dom).getOrDie()}if(qe(Cn)>0){xp(W,X,It);const Gn=yt.select("caption",X)[0];(Gn&&!It.caption||!Gn&&It.caption)&&W.execCommand("mceTableToggleCaption"),rr(W,X,It.align)}if(W.focus(),W.addVisual(),qe(Cn)>0){const Gn=Fe(Cn,"caption"),Zo=Gn?qe(Cn)>1:!0;it(W,X,{structure:Gn,style:Zo})}})},gf=(W,X)=>{const _e=W.dom;let $e,yt=i1(W,Ji(W));X?(yt.cols="1",yt.rows="1",Ji(W)&&(yt.borderstyle="",yt.bordercolor="",yt.backgroundcolor="")):($e=_e.getParent(W.selection.getStart(),"table",W.getBody()),$e?yt=Da(W,$e,Ji(W)):Ji(W)&&(yt.borderstyle="",yt.bordercolor="",yt.backgroundcolor=""));const It=yd(Ti(W));It.length>0&&yt.class&&(yt.class=yt.class.replace(/\s*mce\-item\-table\s*/g,""));const Cn={type:"grid",columns:2,items:Fu(W,It,X)},Gn=()=>({type:"panel",items:[Cn]}),Zo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Cn]},no(W,"table")]}),ur=Ji(W)?Zo():Gn();W.windowManager.open({title:"Table Properties",size:"normal",body:ur,onSubmit:P(lh,W,$e,yt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:yt})},t0=W=>{ae({mceTableProps:P(gf,W,!1),mceTableRowProps:P(_i,W),mceTableCellProps:P(jr,W)},(X,_e)=>W.addCommand(_e,()=>X())),W.addCommand("mceInsertTableDialog",X=>{gf(W,!0)})},kc=(W,X)=>lt(W,X).isSome(),c1=B,Fl=W=>{const X=($e,yt)=>Jn($e,yt).exists(It=>parseInt(It,10)>1),_e=$e=>X($e,"rowspan")||X($e,"colspan");return W.length>0&&Oe(W,_e)?j.some(W):j.none()},Kr=(W,X,_e)=>X.length<=1?j.none():wg(W,_e.firstSelectedSelector,_e.lastSelectedSelector).map($e=>({bounds:$e,cells:X})),Vf=W=>({element:W,mergable:j.none(),unmergable:j.none(),selection:[W]}),ch=(W,X,_e)=>({element:_e,mergable:Kr(X,W,Lo),unmergable:Fl(W),selection:c1(W)}),Rl=W=>{const X=o1(j.none()),_e=o1([]);let $e=j.none();const yt=pn("caption"),It=Uo=>$e.forall(ks=>!ks[Uo]),Cn=()=>bo(mt(W),Lf(W)),Gn=()=>bo(cf(W),Lf(W)),Zo=()=>Cn().bind(Uo=>fi(Qo(Ma(Uo),Gn().bind(Ma),(ks,zi)=>pr(ks,zi)?yt(Uo)?j.some(Vf(Uo)):j.some(ch(ea(W),ks,Uo)):j.none()))),ur=Uo=>Ma(Uo.element).map(zi=>{const ya=hs.fromTable(zi),Og=Xv(ya,Uo).getOr([]),tl=Qe(Og,(Gc,qf)=>(qf.isLocked&&(Gc.onAny=!0,qf.column===0?Gc.onFirst=!0:qf.column+qf.colspan>=ya.grid.columns&&(Gc.onLast=!0)),Gc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Jv(ya,Uo).isSome(),unmergeable:$a(ya,Uo).isSome(),locked:tl}}),ns=()=>{X.set(hf(Zo)()),$e=X.get().bind(ur),me(_e.get(),I)},us=Uo=>(Uo(),_e.set(_e.get().concat([Uo])),()=>{_e.set(We(_e.get(),ks=>ks!==Uo))}),Ns=(Uo,ks)=>us(()=>X.get().fold(()=>{Uo.setEnabled(!1)},zi=>{Uo.setEnabled(!ks(zi))})),Ml=(Uo,ks,zi)=>us(()=>X.get().fold(()=>{Uo.setEnabled(!1),Uo.setActive(!1)},ya=>{Uo.setEnabled(!ks(ya)),Uo.setActive(zi(ya))})),Zc=Uo=>$e.exists(ks=>ks.locked[Uo]),Wf=Uo=>Ns(Uo,ks=>!1),Ru=Uo=>Ns(Uo,ks=>yt(ks.element)),fh=Uo=>ks=>Ns(ks,zi=>yt(zi.element)||Zc(Uo)),kd=Uo=>ks=>Ns(ks,zi=>yt(zi.element)||Uo().isNone()),mf=(Uo,ks)=>zi=>Ns(zi,ya=>yt(ya.element)||Uo().isNone()||Zc(ks)),dh=Uo=>Ns(Uo,ks=>It("mergeable")),vf=Uo=>Ns(Uo,ks=>It("unmergeable")),f1=Uo=>Ml(Uo,z,ks=>Ma(ks.element,Lf(W)).exists(ya=>kc(ya,"caption"))),d1=(Uo,ks)=>zi=>Ml(zi,ya=>yt(ya.element),()=>W.queryCommandValue(Uo)===ks),LC=d1("mceTableRowType","header"),HC=d1("mceTableColType","th");return W.on("NodeChange ExecCommand TableSelectorChange",ns),{onSetupTable:Wf,onSetupCellOrRow:Ru,onSetupColumn:fh,onSetupPasteable:kd,onSetupPasteableColumn:mf,onSetupMergeable:dh,onSetupUnmergeable:vf,resetTargets:ns,onSetupTableWithCaption:f1,onSetupTableRowHeaders:LC,onSetupTableColumnHeaders:HC,targets:X.get}};var uh=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ga="x-tinymce/dom-table-",Ep=Ga+"rows",sc=Ga+"columns",u1=W=>{var X;const _e=(X=uh.read())!==null&&X!==void 0?X:[];return Xe(_e,$e=>j.from($e.getType(W)))},_t=()=>u1(Ep),ac=()=>u1(sc),n0=(W,X)=>{W.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:Gn=>Gn("inserttable | cell row column | advtablesort | tableprops deletetable")});const _e=Gn=>()=>W.execCommand(Gn),$e=(Gn,Zo)=>{W.queryCommandSupported(Zo.command)&&W.ui.registry.addButton(Gn,{...Zo,onAction:k(Zo.onAction)?Zo.onAction:_e(Zo.command)})},yt=(Gn,Zo)=>{W.queryCommandSupported(Zo.command)&&W.ui.registry.addToggleButton(Gn,{...Zo,onAction:k(Zo.onAction)?Zo.onAction:_e(Zo.command)})};$e("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:X.onSetupTable}),$e("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:X.onSetupTable}),$e("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:X.onSetupCellOrRow}),$e("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:X.onSetupMergeable}),$e("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:X.onSetupUnmergeable}),$e("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:X.onSetupCellOrRow}),$e("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:X.onSetupCellOrRow}),$e("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:X.onSetupCellOrRow}),$e("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:X.onSetupCellOrRow}),$e("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:X.onSetupColumn("onFirst")}),$e("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:X.onSetupColumn("onLast")}),$e("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:X.onSetupColumn("onAny")}),$e("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:X.onSetupCellOrRow}),$e("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:X.onSetupCellOrRow}),$e("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:X.onSetupPasteable(_t)}),$e("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:X.onSetupPasteable(_t)}),$e("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:X.onSetupColumn("onAny")}),$e("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:X.onSetupColumn("onAny")}),$e("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:X.onSetupPasteableColumn(ac,"onFirst")}),$e("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:X.onSetupPasteableColumn(ac,"onLast")}),$e("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const It=el(Ti(W));It.length!==0&&W.queryCommandSupported("mceTableToggleClass")&&W.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:df(W,It,"tableclass",Gn=>W.execCommand("mceTableToggleClass",!1,Gn)),onSetup:X.onSetupTable});const Cn=el(Du(W));Cn.length!==0&&W.queryCommandSupported("mceTableCellToggleClass")&&W.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:df(W,Cn,"tablecellclass",Gn=>W.execCommand("mceTableCellToggleClass",!1,Gn)),onSetup:X.onSetupCellOrRow}),W.queryCommandSupported("mceTableApplyCellStyle")&&(W.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:df(W,La,"tablecellverticalalign",lr(W,"vertical-align")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:df(W,$u(W),"tablecellborderwidth",lr(W,"border-width")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:df(W,Ia(W),"tablecellborderstyle",lr(W,"border-style")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Gn=>Gn(zf(W,If(W),"background-color")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Gn=>Gn(zf(W,eh(W),"border-color")),onSetup:X.onSetupCellOrRow})),yt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:X.onSetupTableWithCaption}),yt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:r1(W),onSetup:X.onSetupTableRowHeaders}),yt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:yp(W),onSetup:X.onSetupTableColumnHeaders})},Ac=W=>{const X=$e=>W.dom.is($e,"table")&&W.getBody().contains($e),_e=iu(W);_e.length>0&&W.ui.registry.addContextToolbar("table",{predicate:X,items:_e,scope:"node",position:"node"})},Uf=(W,X)=>{const _e=us=>()=>W.execCommand(us),$e=(us,Ns)=>W.queryCommandSupported(Ns.command)?(W.ui.registry.addMenuItem(us,{...Ns,onAction:k(Ns.onAction)?Ns.onAction:_e(Ns.command)}),!0):!1,yt=(us,Ns)=>{W.queryCommandSupported(Ns.command)&&W.ui.registry.addToggleMenuItem(us,{...Ns,onAction:k(Ns.onAction)?Ns.onAction:_e(Ns.command)})},It=us=>{W.execCommand("mceInsertTable",!1,{rows:us.numRows,columns:us.numColumns})},Cn=[$e("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:X.onSetupCellOrRow}),$e("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:X.onSetupCellOrRow}),$e("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:X.onSetupCellOrRow}),$e("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:X.onSetupCellOrRow}),$e("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:X.onSetupCellOrRow}),$e("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:X.onSetupCellOrRow}),$e("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:X.onSetupPasteable(_t)}),$e("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:X.onSetupPasteable(_t)})],Gn=[$e("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:X.onSetupColumn("onFirst")}),$e("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:X.onSetupColumn("onLast")}),$e("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:X.onSetupColumn("onAny")}),$e("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:X.onSetupColumn("onAny")}),$e("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:X.onSetupColumn("onAny")}),$e("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:X.onSetupPasteableColumn(ac,"onFirst")}),$e("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:X.onSetupPasteableColumn(ac,"onLast")})],Zo=[$e("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:X.onSetupCellOrRow}),$e("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:X.onSetupMergeable}),$e("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:X.onSetupUnmergeable})];qm(W)?W.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:It}]}):W.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:_e("mceInsertTableDialog")}),W.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:_e("mceInsertTableDialog")}),$e("tableprops",{text:"Table properties",onSetup:X.onSetupTable,command:"mceTableProps"}),$e("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:X.onSetupTable,command:"mceTableDelete"}),fe(Cn,!0)&&W.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:D("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),fe(Gn,!0)&&W.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:D("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),fe(Zo,!0)&&W.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:D("tablecellprops tablemergecells tablesplitcells")}),W.ui.registry.addContextMenu("table",{update:()=>(X.resetTargets(),X.targets().fold(D(""),us=>Pn(us.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const ur=el(Ti(W));ur.length!==0&&W.queryCommandSupported("mceTableToggleClass")&&W.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ws(W,ur,"tableclass",us=>W.execCommand("mceTableToggleClass",!1,us)),onSetup:X.onSetupTable});const ns=el(Du(W));ns.length!==0&&W.queryCommandSupported("mceTableCellToggleClass")&&W.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ws(W,ns,"tablecellclass",us=>W.execCommand("mceTableCellToggleClass",!1,us)),onSetup:X.onSetupCellOrRow}),W.queryCommandSupported("mceTableApplyCellStyle")&&(W.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ws(W,La,"tablecellverticalalign",lr(W,"vertical-align")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ws(W,$u(W),"tablecellborderwidth",lr(W,"border-width")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ws(W,Ia(W),"tablecellborderstyle",lr(W,"border-style")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>zf(W,If(W),"background-color"),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>zf(W,eh(W),"border-color"),onSetup:X.onSetupCellOrRow})),yt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:X.onSetupTableWithCaption}),yt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:r1(W),onSetup:X.onSetupTableRowHeaders}),yt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:yp(W),onSetup:X.onSetupTableRowHeaders})},Tc=W=>{const X=Rl(W);va(W),t0(W),Uf(W,X),n0(W,X),Ac(W)};var mi=()=>{e.add("table",Tc)};mi()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(se,xe,ot)=>{var Xe;return ot(se,xe.prototype)?!0:((Xe=se.constructor)===null||Xe===void 0?void 0:Xe.name)===xe.name},s=se=>{const xe=typeof se;return se===null?"null":xe==="object"&&Array.isArray(se)?"array":xe==="object"&&o(se,String,(ot,Xe)=>Xe.isPrototypeOf(ot))?"string":xe},l=se=>xe=>s(xe)===se,c=se=>xe=>typeof xe===se,d=l("string"),p=l("object"),v=l("array"),y=se=>se==null,S=se=>!y(se),x=c("function"),T=(se,xe)=>{if(v(se)){for(let ot=0,Xe=se.length;ot<Xe;++ot)if(!xe(se[ot]))return!1;return!0}return!1},k=se=>()=>se;function A(se,...xe){return(...ot)=>{const Xe=xe.concat(ot);return se.apply(null,Xe)}}const F=k(!1),N=se=>se.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var D=tinymce.util.Tools.resolve("tinymce.util.Tools");const B=se=>xe=>xe.options.get(se),O=se=>{const xe=se.options.register;xe("template_cdate_classes",{processor:"string",default:"cdate"}),xe("template_mdate_classes",{processor:"string",default:"mdate"}),xe("template_selected_content_classes",{processor:"string",default:"selcontent"}),xe("template_preview_replace_values",{processor:"object"}),xe("template_replace_values",{processor:"object"}),xe("templates",{processor:ot=>d(ot)||T(ot,p)||x(ot),default:[]}),xe("template_cdate_format",{processor:"string",default:se.translate("%Y-%m-%d")}),xe("template_mdate_format",{processor:"string",default:se.translate("%Y-%m-%d")})},P=B("template_cdate_classes"),I=B("template_mdate_classes"),z=B("template_selected_content_classes"),K=B("template_preview_replace_values"),j=B("template_replace_values"),oe=B("templates"),ke=B("template_cdate_format"),ae=B("template_mdate_format"),Q=B("content_style"),G=B("content_css_cors"),ue=B("body_class"),pe=(se,xe)=>{if(se=""+se,se.length<xe)for(let ot=0;ot<xe-se.length;ot++)se="0"+se;return se},be=(se,xe,ot=new Date)=>{const Xe="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),jt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),vn="January February March April May June July August September October November December".split(" ");return xe=xe.replace("%D","%m/%d/%Y"),xe=xe.replace("%r","%I:%M:%S %p"),xe=xe.replace("%Y",""+ot.getFullYear()),xe=xe.replace("%y",""+ot.getYear()),xe=xe.replace("%m",pe(ot.getMonth()+1,2)),xe=xe.replace("%d",pe(ot.getDate(),2)),xe=xe.replace("%H",""+pe(ot.getHours(),2)),xe=xe.replace("%M",""+pe(ot.getMinutes(),2)),xe=xe.replace("%S",""+pe(ot.getSeconds(),2)),xe=xe.replace("%I",""+((ot.getHours()+11)%12+1)),xe=xe.replace("%p",ot.getHours()<12?"AM":"PM"),xe=xe.replace("%B",""+se.translate(vn[ot.getMonth()])),xe=xe.replace("%b",""+se.translate(qt[ot.getMonth()])),xe=xe.replace("%A",""+se.translate(jt[ot.getDay()])),xe=xe.replace("%a",""+se.translate(Xe[ot.getDay()])),xe=xe.replace("%%","%"),xe};class qe{constructor(xe,ot){this.tag=xe,this.value=ot}static some(xe){return new qe(!0,xe)}static none(){return qe.singletonNone}fold(xe,ot){return this.tag?ot(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?qe.some(xe(this.value)):qe.none()}bind(xe){return this.tag?xe(this.value):qe.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:qe.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe!=null?xe:"Called getOrDie on None")}static from(xe){return S(xe)?qe.some(xe):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const U=(se,xe)=>{for(let ot=0,Xe=se.length;ot<Xe;ot++){const jt=se[ot];if(xe(jt,ot))return!0}return!1},Fe=(se,xe)=>{const ot=se.length,Xe=new Array(ot);for(let jt=0;jt<ot;jt++){const qt=se[jt];Xe[jt]=xe(qt,jt)}return Xe},De=(se,xe,ot)=>{for(let Xe=0,jt=se.length;Xe<jt;Xe++){const qt=se[Xe];if(xe(qt,Xe))return qe.some(qt);if(ot(qt,Xe))break}return qe.none()},Se=(se,xe)=>De(se,xe,F),re=Object.hasOwnProperty,le=(se,xe)=>fe(se,xe)?qe.from(se[xe]):qe.none(),fe=(se,xe)=>re.call(se,xe),ce={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Be=se=>se.replace(/["'<>&]/g,xe=>le(ce,xe).getOr(xe)),Ce=(se,xe,ot)=>U(ot.split(/\s+/),Xe=>se.hasClass(xe,Xe)),me=(se,xe)=>()=>{const ot=oe(se);x(ot)?ot(xe):d(ot)?fetch(ot).then(Xe=>{Xe.ok&&Xe.json().then(xe)}):xe(ot)},q=(se,xe)=>(D.each(xe,(ot,Xe)=>{x(ot)&&(ot=ot(Xe)),se=se.replace(new RegExp("\\{\\$"+N(Xe)+"\\}","g"),ot)}),se),Ze=(se,xe)=>{const ot=se.dom,Xe=j(se);D.each(ot.select("*",xe),jt=>{D.each(Xe,(qt,vn)=>{ot.hasClass(jt,vn)&&x(qt)&&qt(jt)})})},We=(se,xe,ot)=>{const Xe=se.dom,jt=se.selection.getContent();ot=q(ot,j(se));let qt=Xe.create("div",{},ot);const vn=Xe.select(".mceTmpl",qt);vn&&vn.length>0&&(qt=Xe.create("div"),qt.appendChild(vn[0].cloneNode(!0))),D.each(Xe.select("*",qt),Kn=>{Ce(Xe,Kn,P(se))&&(Kn.innerHTML=be(se,ke(se))),Ce(Xe,Kn,I(se))&&(Kn.innerHTML=be(se,ae(se))),Ce(Xe,Kn,z(se))&&(Kn.innerHTML=jt)}),Ze(se,qt),se.execCommand("mceInsertContent",!1,qt.innerHTML),se.addVisual()};var tt=tinymce.util.Tools.resolve("tinymce.Env");const Qe=(se,xe)=>{var ot;if(xe.indexOf("<html>")===-1){let Xe="";const jt=(ot=Q(se))!==null&&ot!==void 0?ot:"",qt=G(se)?' crossorigin="anonymous"':"";D.each(se.contentCSS,Tt=>{Xe+='<link type="text/css" rel="stylesheet" href="'+se.documentBaseURI.toAbsolute(Tt)+'"'+qt+">"}),jt&&(Xe+='<style type="text/css">'+jt+"</style>");const vn=ue(se),Kn=se.dom.encode,zn=tt.os.isMacOS()||tt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",fn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+zn+")) {e.preventDefault();}}}, false);<\/script> ",oo=se.getBody().dir,ft=oo?' dir="'+Kn(oo)+'"':"";xe='<!DOCTYPE html><html><head><base href="'+Kn(se.documentBaseURI.getURI())+'">'+Xe+fn+'</head><body class="'+Kn(vn)+'"'+ft+">"+xe+"</body></html>"}return q(xe,K(se))},at=(se,xe)=>{const ot=()=>{if(!xe||xe.length===0){const ft=se.translate("No templates defined.");return se.notificationManager.open({text:ft,type:"info"}),qe.none()}return qe.from(D.map(xe,(ft,Tt)=>{const sn=kn=>kn.url!==void 0;return{selected:Tt===0,text:ft.title,value:{url:sn(ft)?qe.from(ft.url):qe.none(),content:sn(ft)?qe.none():qe.from(ft.content),description:ft.description}}}))},Xe=ft=>Fe(ft,Tt=>({text:Tt.text,value:Tt.text})),jt=(ft,Tt)=>Se(ft,sn=>sn.text===Tt),qt=ft=>{se.windowManager.alert("Could not load the specified template.",()=>ft.focus("template"))},vn=ft=>ft.value.url.fold(()=>Promise.resolve(ft.value.content.getOr("")),Tt=>fetch(Tt).then(sn=>sn.ok?sn.text():Promise.reject())),Kn=(ft,Tt)=>(sn,kn)=>{if(kn.name==="template"){const Pn=sn.getData().template;jt(ft,Pn).each($n=>{sn.block("Loading..."),vn($n).then(_o=>{Tt(sn,$n,_o)}).catch(()=>{Tt(sn,$n,""),sn.setEnabled("save",!1),qt(sn)})})}},zn=ft=>Tt=>{const sn=Tt.getData();jt(ft,sn.template).each(kn=>{vn(kn).then(Pn=>{se.execCommand("mceInsertTemplate",!1,Pn),Tt.close()}).catch(()=>{Tt.setEnabled("save",!1),qt(Tt)})})},fn=ft=>{const Tt=Xe(ft),sn=($n,_o)=>({title:"Insert Template",size:"large",body:{type:"panel",items:$n},initialData:_o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:zn(ft),onChange:Kn(ft,kn)}),kn=($n,_o,mr)=>{const Ot=Qe(se,mr),wt=[{type:"selectbox",name:"template",label:"Templates",items:Tt},{type:"htmlpanel",html:`<p aria-live="polite">${Be(_o.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],wn={template:_o.text,preview:Ot};$n.unblock(),$n.redial(sn(wt,wn)),$n.focus("template")},Pn=se.windowManager.open(sn([],{template:"",preview:""}));Pn.block("Loading..."),vn(ft[0]).then($n=>{kn(Pn,ft[0],$n)}).catch(()=>{kn(Pn,ft[0],""),Pn.setEnabled("save",!1),qt(Pn)})};ot().each(fn)},He=se=>xe=>{at(se,xe)},Re=se=>{se.addCommand("mceInsertTemplate",A(We,se)),se.addCommand("mceTemplate",me(se,He(se)))},Ve=se=>{se.on("PreProcess",xe=>{const ot=se.dom,Xe=ae(se);D.each(ot.select("div",xe.node),jt=>{ot.hasClass(jt,"mceTmpl")&&(D.each(ot.select("*",jt),qt=>{Ce(ot,qt,I(se))&&(qt.innerHTML=be(se,Xe))}),Ze(se,jt))})})},Oe=se=>{const xe=()=>se.execCommand("mceTemplate");se.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:xe}),se.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:xe})};var ve=()=>{e.add("template",se=>{O(se),Oe(se),Re(se),Ve(se)})};ve()})();(function(){const e=k=>{let A=k;return{get:()=>A,set:D=>{A=D}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(k,A)=>{k.dispatch("VisualBlocks",{state:A})},l=(k,A,F)=>{k.dom.toggleClass(k.getBody(),"mce-visualblocks"),F.set(!F.get()),s(k,F.get())},c=(k,A,F)=>{k.addCommand("mceVisualBlocks",()=>{l(k,A,F)})},d=k=>A=>A.options.get(k),p=k=>{const A=k.options.register;A("visualblocks_default_state",{processor:"boolean",default:!1})},v=d("visualblocks_default_state"),y=(k,A,F)=>{k.on("PreviewFormats AfterPreviewFormats",N=>{F.get()&&k.dom.toggleClass(k.getBody(),"mce-visualblocks",N.type==="afterpreviewformats")}),k.on("init",()=>{v(k)&&l(k,A,F)})},S=(k,A)=>F=>{F.setActive(A.get());const N=D=>F.setActive(D.state);return k.on("VisualBlocks",N),()=>k.off("VisualBlocks",N)},x=(k,A)=>{const F=()=>k.execCommand("mceVisualBlocks");k.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:F,onSetup:S(k,A)}),k.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:F,onSetup:S(k,A)})};var T=()=>{o.add("visualblocks",(k,A)=>{p(k);const F=e(!1);c(k,A,F),x(k,F),y(k,A,F)})};T()})();(function(){const e=Ot=>{let wt=Ot;return{get:()=>wt,set:pn=>{wt=pn}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=Ot=>({isEnabled:()=>Ot.get()}),l=(Ot,wt)=>Ot.dispatch("VisualChars",{state:wt}),c=(Ot,wt,wn)=>{var xn;return wn(Ot,wt.prototype)?!0:((xn=Ot.constructor)===null||xn===void 0?void 0:xn.name)===wt.name},d=Ot=>{const wt=typeof Ot;return Ot===null?"null":wt==="object"&&Array.isArray(Ot)?"array":wt==="object"&&c(Ot,String,(wn,xn)=>xn.isPrototypeOf(wn))?"string":wt},p=Ot=>wt=>d(wt)===Ot,v=Ot=>wt=>typeof wt===Ot,y=Ot=>wt=>Ot===wt,S=p("string"),x=y(null),T=v("boolean"),k=Ot=>Ot==null,A=Ot=>!k(Ot),F=v("number");class N{constructor(wt,wn){this.tag=wt,this.value=wn}static some(wt){return new N(!0,wt)}static none(){return N.singletonNone}fold(wt,wn){return this.tag?wn(this.value):wt()}isSome(){return this.tag}isNone(){return!this.tag}map(wt){return this.tag?N.some(wt(this.value)):N.none()}bind(wt){return this.tag?wt(this.value):N.none()}exists(wt){return this.tag&&wt(this.value)}forall(wt){return!this.tag||wt(this.value)}filter(wt){return!this.tag||wt(this.value)?this:N.none()}getOr(wt){return this.tag?this.value:wt}or(wt){return this.tag?this:wt}getOrThunk(wt){return this.tag?this.value:wt()}orThunk(wt){return this.tag?this:wt()}getOrDie(wt){if(this.tag)return this.value;throw new Error(wt!=null?wt:"Called getOrDie on None")}static from(wt){return A(wt)?N.some(wt):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(wt){this.tag&&wt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const D=(Ot,wt)=>{const wn=Ot.length,xn=new Array(wn);for(let pn=0;pn<wn;pn++){const eo=Ot[pn];xn[pn]=wt(eo,pn)}return xn},B=(Ot,wt)=>{for(let wn=0,xn=Ot.length;wn<xn;wn++){const pn=Ot[wn];wt(pn,wn)}},O=(Ot,wt)=>{const wn=[];for(let xn=0,pn=Ot.length;xn<pn;xn++){const eo=Ot[xn];wt(eo,xn)&&wn.push(eo)}return wn},P=Object.keys,I=(Ot,wt)=>{const wn=P(Ot);for(let xn=0,pn=wn.length;xn<pn;xn++){const eo=wn[xn],yr=Ot[eo];wt(yr,eo)}};typeof window<"u"||Function("return this;")();const z=3,K=Ot=>Ot.dom.nodeType,j=Ot=>Ot.dom.nodeValue,ke=(Ot=>wt=>K(wt)===Ot)(z),ae=(Ot,wt,wn)=>{if(S(wn)||T(wn)||F(wn))Ot.setAttribute(wt,wn+"");else throw console.error("Invalid call to Attribute.set. Key ",wt,":: Value ",wn,":: Element ",Ot),new Error("Attribute value was not simple")},Q=(Ot,wt,wn)=>{ae(Ot.dom,wt,wn)},G=(Ot,wt)=>{const wn=Ot.dom.getAttribute(wt);return wn===null?void 0:wn},ue=(Ot,wt)=>{Ot.dom.removeAttribute(wt)},pe=(Ot,wt)=>{const wn=G(Ot,wt);return wn===void 0||wn===""?[]:wn.split(" ")},be=(Ot,wt,wn)=>{const pn=pe(Ot,wt).concat([wn]);return Q(Ot,wt,pn.join(" ")),!0},qe=(Ot,wt,wn)=>{const xn=O(pe(Ot,wt),pn=>pn!==wn);return xn.length>0?Q(Ot,wt,xn.join(" ")):ue(Ot,wt),!1},U=Ot=>Ot.dom.classList!==void 0,Fe=Ot=>pe(Ot,"class"),De=(Ot,wt)=>be(Ot,"class",wt),Se=(Ot,wt)=>qe(Ot,"class",wt),re=(Ot,wt)=>{U(Ot)?Ot.dom.classList.add(wt):De(Ot,wt)},le=Ot=>{(U(Ot)?Ot.dom.classList:Fe(Ot)).length===0&&ue(Ot,"class")},fe=(Ot,wt)=>{U(Ot)?Ot.dom.classList.remove(wt):Se(Ot,wt),le(Ot)},ce=(Ot,wt)=>{const xn=(wt||document).createElement("div");if(xn.innerHTML=Ot,!xn.hasChildNodes()||xn.childNodes.length>1){const pn="HTML does not have a single root node";throw console.error(pn,Ot),new Error(pn)}return me(xn.childNodes[0])},Be=(Ot,wt)=>{const xn=(wt||document).createElement(Ot);return me(xn)},Ce=(Ot,wt)=>{const xn=(wt||document).createTextNode(Ot);return me(xn)},me=Ot=>{if(Ot==null)throw new Error("Node cannot be null or undefined");return{dom:Ot}},Ze={fromHtml:ce,fromTag:Be,fromText:Ce,fromDom:me,fromPoint:(Ot,wt,wn)=>N.from(Ot.dom.elementFromPoint(wt,wn)).map(me)},We={"\xA0":"nbsp","\xAD":"shy"},tt=(Ot,wt)=>{let wn="";return I(Ot,(xn,pn)=>{wn+=pn}),new RegExp("["+wn+"]",wt?"g":"")},Qe=Ot=>{let wt="";return I(Ot,wn=>{wt&&(wt+=","),wt+="span.mce-"+wn}),wt},at=tt(We),He=tt(We,!0),Re=Qe(We),Ve="mce-nbsp",Oe=Ot=>'<span data-mce-bogus="1" class="mce-'+We[Ot]+'">'+Ot+"</span>",ve=Ot=>{const wt=j(Ot);return ke(Ot)&&S(wt)&&at.test(wt)},se=(Ot,wt)=>{let wn=[];const xn=Ot.dom,pn=D(xn.childNodes,Ze.fromDom);return B(pn,eo=>{wt(eo)&&(wn=wn.concat([eo])),wn=wn.concat(se(eo,wt))}),wn},xe=(Ot,wt)=>{for(;Ot.parentNode;){if(Ot.parentNode===wt)return wt;Ot=Ot.parentNode}},ot=Ot=>Ot.replace(He,Oe),Xe=Ot=>Ot.nodeName.toLowerCase()==="span"&&Ot.classList.contains("mce-nbsp-wrap"),jt=(Ot,wt)=>{const wn=Ot.dom,xn=se(Ze.fromDom(wt),ve);B(xn,pn=>{var eo;const yr=pn.dom.parentNode;if(Xe(yr))re(Ze.fromDom(yr),Ve);else{const As=ot(wn.encode((eo=j(pn))!==null&&eo!==void 0?eo:"")),la=wn.create("div",{},As);let pr;for(;pr=la.lastChild;)wn.insertAfter(pr,pn.dom);Ot.dom.remove(pn.dom)}})},qt=(Ot,wt)=>{const wn=Ot.dom.select(Re,wt);B(wn,xn=>{Xe(xn)?fe(Ze.fromDom(xn),Ve):Ot.dom.remove(xn,!0)})},vn=Ot=>{const wt=Ot.getBody(),wn=Ot.selection.getBookmark();let xn=xe(Ot.selection.getNode(),wt);xn=xn!==void 0?xn:wt,qt(Ot,xn),jt(Ot,xn),Ot.selection.moveToBookmark(wn)},Kn=(Ot,wt)=>{l(Ot,wt.get());const wn=Ot.getBody();wt.get()===!0?jt(Ot,wn):qt(Ot,wn)},zn=(Ot,wt)=>{wt.set(!wt.get());const wn=Ot.selection.getBookmark();Kn(Ot,wt),Ot.selection.moveToBookmark(wn)},fn=(Ot,wt)=>{Ot.addCommand("mceVisualChars",()=>{zn(Ot,wt)})},oo=Ot=>wt=>wt.options.get(Ot),ft=Ot=>{const wt=Ot.options.register;wt("visualchars_default_state",{processor:"boolean",default:!1})},Tt=oo("visualchars_default_state"),sn=(Ot,wt)=>{Ot.on("init",()=>{Kn(Ot,wt)})},kn=(Ot,wt)=>{let wn=null;return{cancel:()=>{x(wn)||(clearTimeout(wn),wn=null)},throttle:(...eo)=>{x(wn)&&(wn=setTimeout(()=>{wn=null,Ot.apply(null,eo)},wt))}}},Pn=(Ot,wt)=>{const wn=kn(()=>{vn(Ot)},300);Ot.on("keydown",xn=>{wt.get()===!0&&(xn.keyCode===13?vn(Ot):wn.throttle())}),Ot.on("remove",wn.cancel)},$n=(Ot,wt)=>wn=>{wn.setActive(wt.get());const xn=pn=>wn.setActive(pn.state);return Ot.on("VisualChars",xn),()=>Ot.off("VisualChars",xn)},_o=(Ot,wt)=>{const wn=()=>Ot.execCommand("mceVisualChars");Ot.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:wn,onSetup:$n(Ot,wt)}),Ot.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:wn,onSetup:$n(Ot,wt)})};var mr=()=>{o.add("visualchars",Ot=>{ft(Ot);const wt=e(Tt(Ot));return fn(Ot,wt),_o(Ot,wt),Pn(Ot,wt),sn(Ot,wt),s(wt)})};mr()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(He=>Re=>He===Re)(null),l=He=>He,c="\uFEFF",d=He=>He.replace(/\uFEFF/g,""),p=(He,Re)=>{const Ve=He.length,Oe=new Array(Ve);for(let ve=0;ve<Ve;ve++){const se=He[ve];Oe[ve]=Re(se,ve)}return Oe},y={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},x=[new RegExp(y.aletter),new RegExp(y.midnumlet),new RegExp(y.midletter),new RegExp(y.midnum),new RegExp(y.numeric),new RegExp(y.cr),new RegExp(y.lf),new RegExp(y.newline),new RegExp(y.extend),new RegExp(y.format),new RegExp(y.katakana),new RegExp(y.extendnumlet),new RegExp("@")],T="",k=new RegExp("^"+y.punctuation+"$"),A=/^\s+$/,F=x,N=S.OTHER,D=He=>{let Re=N;const Ve=F.length;for(let Oe=0;Oe<Ve;++Oe){const ve=F[Oe];if(ve&&ve.test(He)){Re=Oe;break}}return Re},B=He=>{const Re={};return Ve=>{if(Re[Ve])return Re[Ve];{const Oe=He(Ve);return Re[Ve]=Oe,Oe}}},O=He=>{const Re=B(D);return p(He,Re)},P=(He,Re)=>{const Ve=He[Re],Oe=He[Re+1];if(Re<0||Re>He.length-1&&Re!==0||Ve===S.ALETTER&&Oe===S.ALETTER)return!1;const ve=He[Re+2];if(Ve===S.ALETTER&&(Oe===S.MIDLETTER||Oe===S.MIDNUMLET||Oe===S.AT)&&ve===S.ALETTER)return!1;const se=He[Re-1];return(Ve===S.MIDLETTER||Ve===S.MIDNUMLET||Oe===S.AT)&&Oe===S.ALETTER&&se===S.ALETTER||(Ve===S.NUMERIC||Ve===S.ALETTER)&&(Oe===S.NUMERIC||Oe===S.ALETTER)||(Ve===S.MIDNUM||Ve===S.MIDNUMLET)&&Oe===S.NUMERIC&&se===S.NUMERIC||Ve===S.NUMERIC&&(Oe===S.MIDNUM||Oe===S.MIDNUMLET)&&ve===S.NUMERIC||Ve===S.EXTEND||Ve===S.FORMAT||se===S.EXTEND||se===S.FORMAT||Oe===S.EXTEND||Oe===S.FORMAT||Ve===S.CR&&Oe===S.LF?!1:Ve===S.NEWLINE||Ve===S.CR||Ve===S.LF||Oe===S.NEWLINE||Oe===S.CR||Oe===S.LF?!0:!(Ve===S.KATAKANA&&Oe===S.KATAKANA||Oe===S.EXTENDNUMLET&&(Ve===S.ALETTER||Ve===S.NUMERIC||Ve===S.KATAKANA||Ve===S.EXTENDNUMLET)||Ve===S.EXTENDNUMLET&&(Oe===S.ALETTER||Oe===S.NUMERIC||Oe===S.KATAKANA)||Ve===S.AT)},I=T,z=A,K=k,j=He=>He==="http"||He==="https",oe=(He,Re)=>{let Ve;for(Ve=Re;Ve<He.length&&!z.test(He[Ve]);Ve++);return Ve},ke=(He,Re)=>{const Ve=oe(He,Re+1);return He.slice(Re+1,Ve).join(I).substr(0,3)==="://"?Ve:Re},ae=(He,Re,Ve,Oe)=>{const ve=[];let se=[];for(let xe=0;xe<Ve.length;++xe)if(se.push(He[xe]),P(Ve,xe)){const ot=Re[xe];if((Oe.includeWhitespace||!z.test(ot))&&(Oe.includePunctuation||!K.test(ot))){const Xe=xe-se.length+1,jt=xe+1,qt=Re.slice(Xe,jt).join(I);if(j(qt)){const vn=ke(Re,xe),Kn=He.slice(jt,vn);Array.prototype.push.apply(se,Kn),xe=vn}ve.push(se)}se=[]}return ve},Q=()=>({includeWhitespace:!1,includePunctuation:!1}),ue=(He,Re,Ve)=>{Ve={...Q(),...Ve};const Oe=[],ve=[];for(let xe=0;xe<He.length;xe++){const ot=Re(He[xe]);ot!==c&&(Oe.push(He[xe]),ve.push(ot))}const se=O(ve);return ae(Oe,ve,se,Ve)};var pe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const be=(He,Re)=>{const Ve=Re.getBlockElements(),Oe=Re.getVoidElements(),ve=jt=>Ve[jt.nodeName]||Oe[jt.nodeName],se=[];let xe="";const ot=new pe(He,He);let Xe;for(;Xe=ot.next();)Xe.nodeType===3?xe+=d(Xe.data):ve(Xe)&&xe.length&&(se.push(xe),xe="");return xe.length&&se.push(xe),se},qe=He=>He.replace(/\u200B/g,""),U=He=>He.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Fe=(He,Re)=>{const Ve=qe(be(He,Re).join(`
`));return ue(Ve.split(""),l).length},De=(He,Re)=>{const Ve=be(He,Re).join("");return U(Ve)},Se=(He,Re)=>{const Ve=be(He,Re).join("").replace(/\s/g,"");return U(Ve)},re=(He,Re)=>()=>Re(He.getBody(),He.schema),le=(He,Re)=>()=>Re(He.selection.getRng().cloneContents(),He.schema),fe=He=>re(He,Fe),ce=He=>({body:{getWordCount:fe(He),getCharacterCount:re(He,De),getCharacterCountWithoutSpaces:re(He,Se)},selection:{getWordCount:le(He,Fe),getCharacterCount:le(He,De),getCharacterCountWithoutSpaces:le(He,Se)},getCount:fe(He)}),Be=(He,Re)=>{He.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Re.body.getWordCount()),String(Re.selection.getWordCount())],["Characters (no spaces)",String(Re.body.getCharacterCountWithoutSpaces()),String(Re.selection.getCharacterCountWithoutSpaces())],["Characters",String(Re.body.getCharacterCount()),String(Re.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ce=(He,Re)=>{He.addCommand("mceWordCount",()=>Be(He,Re))},me=(He,Re)=>{let Ve=null;return{cancel:()=>{s(Ve)||(clearTimeout(Ve),Ve=null)},throttle:(...se)=>{s(Ve)&&(Ve=setTimeout(()=>{Ve=null,He.apply(null,se)},Re))}}};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ze=(He,Re)=>{He.dispatch("wordCountUpdate",{wordCount:{words:Re.body.getWordCount(),characters:Re.body.getCharacterCount(),charactersWithoutSpaces:Re.body.getCharacterCountWithoutSpaces()}})},We=(He,Re)=>{Ze(He,Re)},tt=(He,Re,Ve)=>{const Oe=me(()=>We(He,Re),Ve);He.on("init",()=>{We(He,Re),q.setEditorTimeout(He,()=>{He.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Oe.throttle)},0),He.on("remove",Oe.cancel)})},Qe=He=>{const Re=()=>He.execCommand("mceWordCount");He.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Re}),He.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Re})};var at=(He=300)=>{e.add("wordcount",Re=>{const Ve=ce(Re);return Ce(Re,Ve),Qe(Re),tt(Re,Ve,He),Ve})};at()})();const cet=F4({__name:"index",props:{modelValue:{default:""},height:{default:600},id:{default:"myTinymce"}},emits:["update:modelValue"],setup(e,{emit:o}){const s=e,l=BAe({get(){return s.modelValue},set(d){o("update:modelValue",d)}}),c={language:"zh-Hans",language_url:"/tinymce/langs/zh-Hans.js",skin_url:"/tinymce/skins/ui/oxide",content_css:"/tinymce/skins/content/default/content.css",content_style:"body{font-size:14px;font-family:Microsoft YaHei,\u5FAE\u8F6F\u96C5\u9ED1,\u5B8B\u4F53,Arial,Helvetica,sans-serif;line-height:1.5}img {max-width:100%;}",height:s.height,menubar:!1,toolbar_mode:"wrap",toolbar:"forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent  lineheight | styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | table image media | indent2em formatpainter axupimgs| fullscreen code",plugins:"code codesample preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media template table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount autosave ",line_height_formats:"1 1.2 1.4 1.6 2",font_size_formats:"12px 14px 16px 18px 20px 22px 24px 28px 32px 36px 48px 56px 72px",font_family_formats:"\u5FAE\u8F6F\u96C5\u9ED1=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;\u82F9\u679C\u82F9\u65B9=PingFang SC,Microsoft YaHei,sans-serif;\u5B8B\u4F53=simsun,serif;\u4EFF\u5B8B\u4F53=FangSong,serif;\u9ED1\u4F53=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;",images_file_types:"jpeg,jpg,png,gif,bmp",placeholder:"\u5728\u8FD9\u91CC\u8F93\u5165\u6587\u5B57",branding:!1,statusbar:!1,elementpath:!1,custom_undo_redo_levels:10,draggable_modal:!0,images_upload_handler:(d,p)=>new Promise((v,y)=>{const S=new XMLHttpRequest;S.withCredentials=!1,S.open("POST","postAcceptor.php"),S.upload.onprogress=T=>{p(T.loaded/T.total*100)},S.onload=()=>{if(S.status===403){y(new Error);return}if(S.status<200||S.status>=300){y(new Error(`HTTP Error: ${S.status}`));return}const T=JSON.parse(S.responseText);if(!T||typeof T.location!="string"){y(new Error(`Invalid JSON: ${S.responseText}`));return}v(T.location)},S.onerror=()=>{y(new Error(`Image upload failed due to a XHR Transport error. Code: ${S.status}`))};const x=new FormData;x.append("file",d.blob(),d.filename()),S.send(x)}),file_picker_callback:(d,p,v)=>{let y=".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4",S="/demo/upfile.php";switch(v.filetype){case"image":y=".jpg, .jpeg, .png, .gif",S="upimg.php";break;case"media":y=".mp3, .mp4",S="upfile.php";break}const x=document.createElement("input");x.setAttribute("type","file"),x.setAttribute("accept",y),x.click(),x.onchange=function(){if(x.files&&x.files[0]){const T=x.files[0];console.log(T.name);const k=new XMLHttpRequest;k.withCredentials=!1,k.open("POST",S),k.onload=function(){if(k.status!==200){d(`HTTP Error: ${k.status}`);return}const A=JSON.parse(k.responseText);if(!A||typeof A.location!="string"){d(`Invalid JSON: ${k.responseText}`);return}d(A.location)}}}}};return(d,p)=>(ny(),V_("div",null,[Xh(CN(aet),{init:c,id:"myTinymce",modelValue:CN(l),"onUpdate:modelValue":p[0]||(p[0]=v=>NAe(l)?l.value=v:null)},null,8,["modelValue"])]))}});const uet=Owe(cet,[["__scopeId","data-v-ce2e6e41"]]);var tAe={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,o){(function(l,c){e.exports=c()})(typeof self<"u"?self:FAe,function(){return function(s){var l={};function c(d){if(l[d])return l[d].exports;var p=l[d]={i:d,l:!1,exports:{}};return s[d].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=s,c.c=l,c.d=function(d,p,v){c.o(d,p)||Object.defineProperty(d,p,{configurable:!1,enumerable:!0,get:v})},c.n=function(d){var p=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(p,"a",p),p},c.o=function(d,p){return Object.prototype.hasOwnProperty.call(d,p)},c.p="",c(c.s=109)}([function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(17),p=c(18),v=c(19),y=c(45),S=c(46),x=c(47),T=c(48),k=c(49),A=c(12),F=c(32),N=c(33),D=c(31),B=c(1),O={Scope:B.Scope,create:B.create,find:B.find,query:B.query,register:B.register,Container:d.default,Format:p.default,Leaf:v.default,Embed:T.default,Scroll:y.default,Block:x.default,Inline:S.default,Text:k.default,Attributor:{Attribute:A.default,Class:F.default,Style:N.default,Store:D.default}};l.default=O},function(s,l,c){var d=this&&this.__extends||function(){var D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,O){B.__proto__=O}||function(B,O){for(var P in O)O.hasOwnProperty(P)&&(B[P]=O[P])};return function(B,O){D(B,O);function P(){this.constructor=B}B.prototype=O===null?Object.create(O):(P.prototype=O.prototype,new P)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=function(D){d(B,D);function B(O){var P=this;return O="[Parchment] "+O,P=D.call(this,O)||this,P.message=O,P.name=P.constructor.name,P}return B}(Error);l.ParchmentError=p;var v={},y={},S={},x={};l.DATA_KEY="__blot";var T;(function(D){D[D.TYPE=3]="TYPE",D[D.LEVEL=12]="LEVEL",D[D.ATTRIBUTE=13]="ATTRIBUTE",D[D.BLOT=14]="BLOT",D[D.INLINE=7]="INLINE",D[D.BLOCK=11]="BLOCK",D[D.BLOCK_BLOT=10]="BLOCK_BLOT",D[D.INLINE_BLOT=6]="INLINE_BLOT",D[D.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",D[D.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",D[D.ANY=15]="ANY"})(T=l.Scope||(l.Scope={}));function k(D,B){var O=F(D);if(O==null)throw new p("Unable to create "+D+" blot");var P=O,I=D instanceof Node||D.nodeType===Node.TEXT_NODE?D:P.create(B);return new P(I,B)}l.create=k;function A(D,B){return B===void 0&&(B=!1),D==null?null:D[l.DATA_KEY]!=null?D[l.DATA_KEY].blot:B?A(D.parentNode,B):null}l.find=A;function F(D,B){B===void 0&&(B=T.ANY);var O;if(typeof D=="string")O=x[D]||v[D];else if(D instanceof Text||D.nodeType===Node.TEXT_NODE)O=x.text;else if(typeof D=="number")D&T.LEVEL&T.BLOCK?O=x.block:D&T.LEVEL&T.INLINE&&(O=x.inline);else if(D instanceof HTMLElement){var P=(D.getAttribute("class")||"").split(/\s+/);for(var I in P)if(O=y[P[I]],O)break;O=O||S[D.tagName]}return O==null?null:B&T.LEVEL&O.scope&&B&T.TYPE&O.scope?O:null}l.query=F;function N(){for(var D=[],B=0;B<arguments.length;B++)D[B]=arguments[B];if(D.length>1)return D.map(function(I){return N(I)});var O=D[0];if(typeof O.blotName!="string"&&typeof O.attrName!="string")throw new p("Invalid definition");if(O.blotName==="abstract")throw new p("Cannot register abstract class");if(x[O.blotName||O.attrName]=O,typeof O.keyName=="string")v[O.keyName]=O;else if(O.className!=null&&(y[O.className]=O),O.tagName!=null){Array.isArray(O.tagName)?O.tagName=O.tagName.map(function(I){return I.toUpperCase()}):O.tagName=O.tagName.toUpperCase();var P=Array.isArray(O.tagName)?O.tagName:[O.tagName];P.forEach(function(I){(S[I]==null||O.className==null)&&(S[I]=O)})}return O}l.register=N},function(s,l,c){var d=c(51),p=c(11),v=c(3),y=c(20),S=String.fromCharCode(0),x=function(T){Array.isArray(T)?this.ops=T:T!=null&&Array.isArray(T.ops)?this.ops=T.ops:this.ops=[]};x.prototype.insert=function(T,k){var A={};return T.length===0?this:(A.insert=T,k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(A.attributes=k),this.push(A))},x.prototype.delete=function(T){return T<=0?this:this.push({delete:T})},x.prototype.retain=function(T,k){if(T<=0)return this;var A={retain:T};return k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(A.attributes=k),this.push(A)},x.prototype.push=function(T){var k=this.ops.length,A=this.ops[k-1];if(T=v(!0,{},T),typeof A=="object"){if(typeof T.delete=="number"&&typeof A.delete=="number")return this.ops[k-1]={delete:A.delete+T.delete},this;if(typeof A.delete=="number"&&T.insert!=null&&(k-=1,A=this.ops[k-1],typeof A!="object"))return this.ops.unshift(T),this;if(p(T.attributes,A.attributes)){if(typeof T.insert=="string"&&typeof A.insert=="string")return this.ops[k-1]={insert:A.insert+T.insert},typeof T.attributes=="object"&&(this.ops[k-1].attributes=T.attributes),this;if(typeof T.retain=="number"&&typeof A.retain=="number")return this.ops[k-1]={retain:A.retain+T.retain},typeof T.attributes=="object"&&(this.ops[k-1].attributes=T.attributes),this}}return k===this.ops.length?this.ops.push(T):this.ops.splice(k,0,T),this},x.prototype.chop=function(){var T=this.ops[this.ops.length-1];return T&&T.retain&&!T.attributes&&this.ops.pop(),this},x.prototype.filter=function(T){return this.ops.filter(T)},x.prototype.forEach=function(T){this.ops.forEach(T)},x.prototype.map=function(T){return this.ops.map(T)},x.prototype.partition=function(T){var k=[],A=[];return this.forEach(function(F){var N=T(F)?k:A;N.push(F)}),[k,A]},x.prototype.reduce=function(T,k){return this.ops.reduce(T,k)},x.prototype.changeLength=function(){return this.reduce(function(T,k){return k.insert?T+y.length(k):k.delete?T-k.delete:T},0)},x.prototype.length=function(){return this.reduce(function(T,k){return T+y.length(k)},0)},x.prototype.slice=function(T,k){T=T||0,typeof k!="number"&&(k=1/0);for(var A=[],F=y.iterator(this.ops),N=0;N<k&&F.hasNext();){var D;N<T?D=F.next(T-N):(D=F.next(k-N),A.push(D)),N+=y.length(D)}return new x(A)},x.prototype.compose=function(T){var k=y.iterator(this.ops),A=y.iterator(T.ops),F=[],N=A.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){for(var D=N.retain;k.peekType()==="insert"&&k.peekLength()<=D;)D-=k.peekLength(),F.push(k.next());N.retain-D>0&&A.next(N.retain-D)}for(var B=new x(F);k.hasNext()||A.hasNext();)if(A.peekType()==="insert")B.push(A.next());else if(k.peekType()==="delete")B.push(k.next());else{var O=Math.min(k.peekLength(),A.peekLength()),P=k.next(O),I=A.next(O);if(typeof I.retain=="number"){var z={};typeof P.retain=="number"?z.retain=O:z.insert=P.insert;var K=y.attributes.compose(P.attributes,I.attributes,typeof P.retain=="number");if(K&&(z.attributes=K),B.push(z),!A.hasNext()&&p(B.ops[B.ops.length-1],z)){var j=new x(k.rest());return B.concat(j).chop()}}else typeof I.delete=="number"&&typeof P.retain=="number"&&B.push(I)}return B.chop()},x.prototype.concat=function(T){var k=new x(this.ops.slice());return T.ops.length>0&&(k.push(T.ops[0]),k.ops=k.ops.concat(T.ops.slice(1))),k},x.prototype.diff=function(T,k){if(this.ops===T.ops)return new x;var A=[this,T].map(function(O){return O.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:S;var I=O===T?"on":"with";throw new Error("diff() called "+I+" non-document")}).join("")}),F=new x,N=d(A[0],A[1],k),D=y.iterator(this.ops),B=y.iterator(T.ops);return N.forEach(function(O){for(var P=O[1].length;P>0;){var I=0;switch(O[0]){case d.INSERT:I=Math.min(B.peekLength(),P),F.push(B.next(I));break;case d.DELETE:I=Math.min(P,D.peekLength()),D.next(I),F.delete(I);break;case d.EQUAL:I=Math.min(D.peekLength(),B.peekLength(),P);var z=D.next(I),K=B.next(I);p(z.insert,K.insert)?F.retain(I,y.attributes.diff(z.attributes,K.attributes)):F.push(K).delete(I);break}P-=I}}),F.chop()},x.prototype.eachLine=function(T,k){k=k||`
`;for(var A=y.iterator(this.ops),F=new x,N=0;A.hasNext();){if(A.peekType()!=="insert")return;var D=A.peek(),B=y.length(D)-A.peekLength(),O=typeof D.insert=="string"?D.insert.indexOf(k,B)-B:-1;if(O<0)F.push(A.next());else if(O>0)F.push(A.next(O));else{if(T(F,A.next(1).attributes||{},N)===!1)return;N+=1,F=new x}}F.length()>0&&T(F,{},N)},x.prototype.transform=function(T,k){if(k=!!k,typeof T=="number")return this.transformPosition(T,k);for(var A=y.iterator(this.ops),F=y.iterator(T.ops),N=new x;A.hasNext()||F.hasNext();)if(A.peekType()==="insert"&&(k||F.peekType()!=="insert"))N.retain(y.length(A.next()));else if(F.peekType()==="insert")N.push(F.next());else{var D=Math.min(A.peekLength(),F.peekLength()),B=A.next(D),O=F.next(D);if(B.delete)continue;O.delete?N.push(O):N.retain(D,y.attributes.transform(B.attributes,O.attributes,k))}return N.chop()},x.prototype.transformPosition=function(T,k){k=!!k;for(var A=y.iterator(this.ops),F=0;A.hasNext()&&F<=T;){var N=A.peekLength(),D=A.peekType();if(A.next(),D==="delete"){T-=Math.min(N,T-F);continue}else D==="insert"&&(F<T||!k)&&(T+=N);F+=N}return T},s.exports=x},function(s,l){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,p=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=function(A){return typeof Array.isArray=="function"?Array.isArray(A):d.call(A)==="[object Array]"},S=function(A){if(!A||d.call(A)!=="[object Object]")return!1;var F=c.call(A,"constructor"),N=A.constructor&&A.constructor.prototype&&c.call(A.constructor.prototype,"isPrototypeOf");if(A.constructor&&!F&&!N)return!1;var D;for(D in A);return typeof D>"u"||c.call(A,D)},x=function(A,F){p&&F.name==="__proto__"?p(A,F.name,{enumerable:!0,configurable:!0,value:F.newValue,writable:!0}):A[F.name]=F.newValue},T=function(A,F){if(F==="__proto__")if(c.call(A,F)){if(v)return v(A,F).value}else return;return A[F]};s.exports=function k(){var A,F,N,D,B,O,P=arguments[0],I=1,z=arguments.length,K=!1;for(typeof P=="boolean"&&(K=P,P=arguments[1]||{},I=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});I<z;++I)if(A=arguments[I],A!=null)for(F in A)N=T(P,F),D=T(A,F),P!==D&&(K&&D&&(S(D)||(B=y(D)))?(B?(B=!1,O=N&&y(N)?N:[]):O=N&&S(N)?N:{},x(P,{name:F,newValue:k(K,O,D)})):typeof D<"u"&&x(P,{name:F,newValue:D}));return P}},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.BlockEmbed=l.bubbleFormats=void 0;var d=function(){function Q(G,ue){for(var pe=0;pe<ue.length;pe++){var be=ue[pe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(G,be.key,be)}}return function(G,ue,pe){return ue&&Q(G.prototype,ue),pe&&Q(G,pe),G}}(),p=function Q(G,ue,pe){G===null&&(G=Function.prototype);var be=Object.getOwnPropertyDescriptor(G,ue);if(be===void 0){var qe=Object.getPrototypeOf(G);return qe===null?void 0:Q(qe,ue,pe)}else{if("value"in be)return be.value;var U=be.get;return U===void 0?void 0:U.call(pe)}},v=c(3),y=P(v),S=c(2),x=P(S),T=c(0),k=P(T),A=c(16),F=P(A),N=c(6),D=P(N),B=c(7),O=P(B);function P(Q){return Q&&Q.__esModule?Q:{default:Q}}function I(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function z(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function K(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var j=1,oe=function(Q){K(G,Q);function G(){return I(this,G),z(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return d(G,[{key:"attach",value:function(){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"attach",this).call(this),this.attributes=new k.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new x.default().insert(this.value(),(0,y.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(pe,be){var qe=k.default.query(pe,k.default.Scope.BLOCK_ATTRIBUTE);qe!=null&&this.attributes.attribute(qe,be)}},{key:"formatAt",value:function(pe,be,qe,U){this.format(qe,U)}},{key:"insertAt",value:function(pe,be,qe){if(typeof be=="string"&&be.endsWith(`
`)){var U=k.default.create(ke.blotName);this.parent.insertBefore(U,pe===0?this:this.next),U.insertAt(0,be.slice(0,-1))}else p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertAt",this).call(this,pe,be,qe)}}]),G}(k.default.Embed);oe.scope=k.default.Scope.BLOCK_BLOT;var ke=function(Q){K(G,Q);function G(ue){I(this,G);var pe=z(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ue));return pe.cache={},pe}return d(G,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(k.default.Leaf).reduce(function(pe,be){return be.length()===0?pe:pe.insert(be.value(),ae(be))},new x.default).insert(`
`,ae(this))),this.cache.delta}},{key:"deleteAt",value:function(pe,be){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"deleteAt",this).call(this,pe,be),this.cache={}}},{key:"formatAt",value:function(pe,be,qe,U){be<=0||(k.default.query(qe,k.default.Scope.BLOCK)?pe+be===this.length()&&this.format(qe,U):p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"formatAt",this).call(this,pe,Math.min(be,this.length()-pe-1),qe,U),this.cache={})}},{key:"insertAt",value:function(pe,be,qe){if(qe!=null)return p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertAt",this).call(this,pe,be,qe);if(be.length!==0){var U=be.split(`
`),Fe=U.shift();Fe.length>0&&(pe<this.length()-1||this.children.tail==null?p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertAt",this).call(this,Math.min(pe,this.length()-1),Fe):this.children.tail.insertAt(this.children.tail.length(),Fe),this.cache={});var De=this;U.reduce(function(Se,re){return De=De.split(Se,!0),De.insertAt(0,re),re.length},pe+Fe.length)}}},{key:"insertBefore",value:function(pe,be){var qe=this.children.head;p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertBefore",this).call(this,pe,be),qe instanceof F.default&&qe.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(pe,be){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"moveChildren",this).call(this,pe,be),this.cache={}}},{key:"optimize",value:function(pe){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"optimize",this).call(this,pe),this.cache={}}},{key:"path",value:function(pe){return p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"path",this).call(this,pe,!0)}},{key:"removeChild",value:function(pe){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"removeChild",this).call(this,pe),this.cache={}}},{key:"split",value:function(pe){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(be&&(pe===0||pe>=this.length()-j)){var qe=this.clone();return pe===0?(this.parent.insertBefore(qe,this),this):(this.parent.insertBefore(qe,this.next),qe)}else{var U=p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"split",this).call(this,pe,be);return this.cache={},U}}}]),G}(k.default.Block);ke.blotName="block",ke.tagName="P",ke.defaultChild="break",ke.allowedChildren=[D.default,k.default.Embed,O.default];function ae(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Q==null||(typeof Q.formats=="function"&&(G=(0,y.default)(G,Q.formats())),Q.parent==null||Q.parent.blotName=="scroll"||Q.parent.statics.scope!==Q.statics.scope)?G:ae(Q.parent,G)}l.bubbleFormats=ae,l.BlockEmbed=oe,l.default=ke},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.overload=l.expandConfig=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},p=function(){function De(Se,re){var le=[],fe=!0,ce=!1,Be=void 0;try{for(var Ce=Se[Symbol.iterator](),me;!(fe=(me=Ce.next()).done)&&(le.push(me.value),!(re&&le.length===re));fe=!0);}catch(q){ce=!0,Be=q}finally{try{!fe&&Ce.return&&Ce.return()}finally{if(ce)throw Be}}return le}return function(Se,re){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return De(Se,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function De(Se,re){for(var le=0;le<re.length;le++){var fe=re[le];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Se,fe.key,fe)}}return function(Se,re,le){return re&&De(Se.prototype,re),le&&De(Se,le),Se}}();c(50);var y=c(2),S=ae(y),x=c(14),T=ae(x),k=c(8),A=ae(k),F=c(9),N=ae(F),D=c(0),B=ae(D),O=c(15),P=ae(O),I=c(3),z=ae(I),K=c(10),j=ae(K),oe=c(34),ke=ae(oe);function ae(De){return De&&De.__esModule?De:{default:De}}function Q(De,Se,re){return Se in De?Object.defineProperty(De,Se,{value:re,enumerable:!0,configurable:!0,writable:!0}):De[Se]=re,De}function G(De,Se){if(!(De instanceof Se))throw new TypeError("Cannot call a class as a function")}var ue=(0,j.default)("quill"),pe=function(){v(De,null,[{key:"debug",value:function(re){re===!0&&(re="log"),j.default.level(re)}},{key:"find",value:function(re){return re.__quill||B.default.find(re)}},{key:"import",value:function(re){return this.imports[re]==null&&ue.error("Cannot import "+re+". Are you sure it was registered?"),this.imports[re]}},{key:"register",value:function(re,le){var fe=this,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof re!="string"){var Be=re.attrName||re.blotName;typeof Be=="string"?this.register("formats/"+Be,re,le):Object.keys(re).forEach(function(Ce){fe.register(Ce,re[Ce],le)})}else this.imports[re]!=null&&!ce&&ue.warn("Overwriting "+re+" with",le),this.imports[re]=le,(re.startsWith("blots/")||re.startsWith("formats/"))&&le.blotName!=="abstract"?B.default.register(le):re.startsWith("modules")&&typeof le.register=="function"&&le.register()}}]);function De(Se){var re=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G(this,De),this.options=be(Se,le),this.container=this.options.container,this.container==null)return ue.error("Invalid Quill container",Se);this.options.debug&&De.debug(this.options.debug);var fe=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new A.default,this.scroll=B.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new T.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(A.default.events.EDITOR_CHANGE,function(Be){Be===A.default.events.TEXT_CHANGE&&re.root.classList.toggle("ql-blank",re.editor.isBlank())}),this.emitter.on(A.default.events.SCROLL_UPDATE,function(Be,Ce){var me=re.selection.lastRange,q=me&&me.length===0?me.index:void 0;qe.call(re,function(){return re.editor.update(null,Ce,q)},Be)});var ce=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+fe+"<p><br></p></div>");this.setContents(ce),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return v(De,[{key:"addContainer",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof re=="string"){var fe=re;re=document.createElement("div"),re.classList.add(fe)}return this.container.insertBefore(re,le),re}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(re,le,fe){var ce=this,Be=U(re,le,fe),Ce=p(Be,4);return re=Ce[0],le=Ce[1],fe=Ce[3],qe.call(this,function(){return ce.editor.deleteText(re,le)},fe,re,-1*le)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(re),this.container.classList.toggle("ql-disabled",!re)}},{key:"focus",value:function(){var re=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=re,this.scrollIntoView()}},{key:"format",value:function(re,le){var fe=this,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;return qe.call(this,function(){var Be=fe.getSelection(!0),Ce=new S.default;if(Be==null)return Ce;if(B.default.query(re,B.default.Scope.BLOCK))Ce=fe.editor.formatLine(Be.index,Be.length,Q({},re,le));else{if(Be.length===0)return fe.selection.format(re,le),Ce;Ce=fe.editor.formatText(Be.index,Be.length,Q({},re,le))}return fe.setSelection(Be,A.default.sources.SILENT),Ce},ce)}},{key:"formatLine",value:function(re,le,fe,ce,Be){var Ce=this,me=void 0,q=U(re,le,fe,ce,Be),Ze=p(q,4);return re=Ze[0],le=Ze[1],me=Ze[2],Be=Ze[3],qe.call(this,function(){return Ce.editor.formatLine(re,le,me)},Be,re,0)}},{key:"formatText",value:function(re,le,fe,ce,Be){var Ce=this,me=void 0,q=U(re,le,fe,ce,Be),Ze=p(q,4);return re=Ze[0],le=Ze[1],me=Ze[2],Be=Ze[3],qe.call(this,function(){return Ce.editor.formatText(re,le,me)},Be,re,0)}},{key:"getBounds",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,fe=void 0;typeof re=="number"?fe=this.selection.getBounds(re,le):fe=this.selection.getBounds(re.index,re.length);var ce=this.container.getBoundingClientRect();return{bottom:fe.bottom-ce.top,height:fe.height,left:fe.left-ce.left,right:fe.right-ce.left,top:fe.top-ce.top,width:fe.width}}},{key:"getContents",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-re,fe=U(re,le),ce=p(fe,2);return re=ce[0],le=ce[1],this.editor.getContents(re,le)}},{key:"getFormat",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof re=="number"?this.editor.getFormat(re,le):this.editor.getFormat(re.index,re.length)}},{key:"getIndex",value:function(re){return re.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(re){return this.scroll.leaf(re)}},{key:"getLine",value:function(re){return this.scroll.line(re)}},{key:"getLines",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof re!="number"?this.scroll.lines(re.index,re.length):this.scroll.lines(re,le)}},{key:"getModule",value:function(re){return this.theme.modules[re]}},{key:"getSelection",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return re&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-re,fe=U(re,le),ce=p(fe,2);return re=ce[0],le=ce[1],this.editor.getText(re,le)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(re,le,fe){var ce=this,Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:De.sources.API;return qe.call(this,function(){return ce.editor.insertEmbed(re,le,fe)},Be,re)}},{key:"insertText",value:function(re,le,fe,ce,Be){var Ce=this,me=void 0,q=U(re,0,fe,ce,Be),Ze=p(q,4);return re=Ze[0],me=Ze[2],Be=Ze[3],qe.call(this,function(){return Ce.editor.insertText(re,le,me)},Be,re,le.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(re,le,fe){this.clipboard.dangerouslyPasteHTML(re,le,fe)}},{key:"removeFormat",value:function(re,le,fe){var ce=this,Be=U(re,le,fe),Ce=p(Be,4);return re=Ce[0],le=Ce[1],fe=Ce[3],qe.call(this,function(){return ce.editor.removeFormat(re,le)},fe,re)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(re){var le=this,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.default.sources.API;return qe.call(this,function(){re=new S.default(re);var ce=le.getLength(),Be=le.editor.deleteText(0,ce),Ce=le.editor.applyDelta(re),me=Ce.ops[Ce.ops.length-1];me!=null&&typeof me.insert=="string"&&me.insert[me.insert.length-1]===`
`&&(le.editor.deleteText(le.getLength()-1,1),Ce.delete(1));var q=Be.compose(Ce);return q},fe)}},{key:"setSelection",value:function(re,le,fe){if(re==null)this.selection.setRange(null,le||De.sources.API);else{var ce=U(re,le,fe),Be=p(ce,4);re=Be[0],le=Be[1],fe=Be[3],this.selection.setRange(new O.Range(re,le),fe),fe!==A.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.default.sources.API,fe=new S.default().insert(re);return this.setContents(fe,le)}},{key:"update",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,le=this.scroll.update(re);return this.selection.update(re),le}},{key:"updateContents",value:function(re){var le=this,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.default.sources.API;return qe.call(this,function(){return re=new S.default(re),le.editor.applyDelta(re,fe)},fe,!0)}}]),De}();pe.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},pe.events=A.default.events,pe.sources=A.default.sources,pe.version="1.3.7",pe.imports={delta:S.default,parchment:B.default,"core/module":N.default,"core/theme":ke.default};function be(De,Se){if(Se=(0,z.default)(!0,{container:De,modules:{clipboard:!0,keyboard:!0,history:!0}},Se),!Se.theme||Se.theme===pe.DEFAULTS.theme)Se.theme=ke.default;else if(Se.theme=pe.import("themes/"+Se.theme),Se.theme==null)throw new Error("Invalid theme "+Se.theme+". Did you register it?");var re=(0,z.default)(!0,{},Se.theme.DEFAULTS);[re,Se].forEach(function(ce){ce.modules=ce.modules||{},Object.keys(ce.modules).forEach(function(Be){ce.modules[Be]===!0&&(ce.modules[Be]={})})});var le=Object.keys(re.modules).concat(Object.keys(Se.modules)),fe=le.reduce(function(ce,Be){var Ce=pe.import("modules/"+Be);return Ce==null?ue.error("Cannot load "+Be+" module. Are you sure you registered it?"):ce[Be]=Ce.DEFAULTS||{},ce},{});return Se.modules!=null&&Se.modules.toolbar&&Se.modules.toolbar.constructor!==Object&&(Se.modules.toolbar={container:Se.modules.toolbar}),Se=(0,z.default)(!0,{},pe.DEFAULTS,{modules:fe},re,Se),["bounds","container","scrollingContainer"].forEach(function(ce){typeof Se[ce]=="string"&&(Se[ce]=document.querySelector(Se[ce]))}),Se.modules=Object.keys(Se.modules).reduce(function(ce,Be){return Se.modules[Be]&&(ce[Be]=Se.modules[Be]),ce},{}),Se}function qe(De,Se,re,le){if(this.options.strict&&!this.isEnabled()&&Se===A.default.sources.USER)return new S.default;var fe=re==null?null:this.getSelection(),ce=this.editor.delta,Be=De();if(fe!=null&&(re===!0&&(re=fe.index),le==null?fe=Fe(fe,Be,Se):le!==0&&(fe=Fe(fe,re,le,Se)),this.setSelection(fe,A.default.sources.SILENT)),Be.length()>0){var Ce,me=[A.default.events.TEXT_CHANGE,Be,ce,Se];if((Ce=this.emitter).emit.apply(Ce,[A.default.events.EDITOR_CHANGE].concat(me)),Se!==A.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,me)}}return Be}function U(De,Se,re,le,fe){var ce={};return typeof De.index=="number"&&typeof De.length=="number"?typeof Se!="number"?(fe=le,le=re,re=Se,Se=De.length,De=De.index):(Se=De.length,De=De.index):typeof Se!="number"&&(fe=le,le=re,re=Se,Se=0),(typeof re>"u"?"undefined":d(re))==="object"?(ce=re,fe=le):typeof re=="string"&&(le!=null?ce[re]=le:fe=re),fe=fe||A.default.sources.API,[De,Se,ce,fe]}function Fe(De,Se,re,le){if(De==null)return null;var fe=void 0,ce=void 0;if(Se instanceof S.default){var Be=[De.index,De.index+De.length].map(function(Ze){return Se.transformPosition(Ze,le!==A.default.sources.USER)}),Ce=p(Be,2);fe=Ce[0],ce=Ce[1]}else{var me=[De.index,De.index+De.length].map(function(Ze){return Ze<Se||Ze===Se&&le===A.default.sources.USER?Ze:re>=0?Ze+re:Math.max(Se,Ze+re)}),q=p(me,2);fe=q[0],ce=q[1]}return new O.Range(fe,ce-fe)}l.expandConfig=be,l.overload=U,l.default=pe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function D(B,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(B,I.key,I)}}return function(B,O,P){return O&&D(B.prototype,O),P&&D(B,P),B}}(),p=function D(B,O,P){B===null&&(B=Function.prototype);var I=Object.getOwnPropertyDescriptor(B,O);if(I===void 0){var z=Object.getPrototypeOf(B);return z===null?void 0:D(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(7),y=T(v),S=c(0),x=T(S);function T(D){return D&&D.__esModule?D:{default:D}}function k(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function A(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function F(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var N=function(D){F(B,D);function B(){return k(this,B),A(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return d(B,[{key:"formatAt",value:function(P,I,z,K){if(B.compare(this.statics.blotName,z)<0&&x.default.query(z,x.default.Scope.BLOT)){var j=this.isolate(P,I);K&&j.wrap(z,K)}else p(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"formatAt",this).call(this,P,I,z,K)}},{key:"optimize",value:function(P){if(p(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"optimize",this).call(this,P),this.parent instanceof B&&B.compare(this.statics.blotName,this.parent.statics.blotName)>0){var I=this.parent.isolate(this.offset(),this.length());this.moveChildren(I),I.wrap(this)}}}],[{key:"compare",value:function(P,I){var z=B.order.indexOf(P),K=B.order.indexOf(I);return z>=0||K>=0?z-K:P===I?0:P<I?-1:1}}]),B}(x.default.Inline);N.allowedChildren=[N,x.default.Embed,y.default],N.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var T=function(k){x(A,k);function A(){return y(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(p.default.Text);l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function O(P,I){for(var z=0;z<I.length;z++){var K=I[z];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}return function(P,I,z){return I&&O(P.prototype,I),z&&O(P,z),P}}(),p=function O(P,I,z){P===null&&(P=Function.prototype);var K=Object.getOwnPropertyDescriptor(P,I);if(K===void 0){var j=Object.getPrototypeOf(P);return j===null?void 0:O(j,I,z)}else{if("value"in K)return K.value;var oe=K.get;return oe===void 0?void 0:oe.call(z)}},v=c(54),y=T(v),S=c(10),x=T(S);function T(O){return O&&O.__esModule?O:{default:O}}function k(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function A(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function F(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var N=(0,x.default)("quill:events"),D=["selectionchange","mousedown","mouseup","click"];D.forEach(function(O){document.addEventListener(O,function(){for(var P=arguments.length,I=Array(P),z=0;z<P;z++)I[z]=arguments[z];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(K){if(K.__quill&&K.__quill.emitter){var j;(j=K.__quill.emitter).handleDOM.apply(j,I)}})})});var B=function(O){F(P,O);function P(){k(this,P);var I=A(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return I.listeners={},I.on("error",N.error),I}return d(P,[{key:"emit",value:function(){N.log.apply(N,arguments),p(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(z){for(var K=arguments.length,j=Array(K>1?K-1:0),oe=1;oe<K;oe++)j[oe-1]=arguments[oe];(this.listeners[z.type]||[]).forEach(function(ke){var ae=ke.node,Q=ke.handler;(z.target===ae||ae.contains(z.target))&&Q.apply(void 0,[z].concat(j))})}},{key:"listenDOM",value:function(z,K,j){this.listeners[z]||(this.listeners[z]=[]),this.listeners[z].push({node:K,handler:j})}}]),P}(y.default);B.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},B.sources={API:"api",SILENT:"silent",USER:"user"},l.default=B},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var p=function v(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d(this,v),this.quill=y,this.options=S};p.DEFAULTS={},l.default=p},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=["error","warn","log","info"],p="warn";function v(S){if(d.indexOf(S)<=d.indexOf(p)){for(var x,T=arguments.length,k=Array(T>1?T-1:0),A=1;A<T;A++)k[A-1]=arguments[A];(x=console)[S].apply(x,k)}}function y(S){return d.reduce(function(x,T){return x[T]=v.bind(console,T,S),x},{})}v.level=y.level=function(S){p=S},l.default=y},function(s,l,c){var d=Array.prototype.slice,p=c(52),v=c(53),y=s.exports=function(k,A,F){return F||(F={}),k===A?!0:k instanceof Date&&A instanceof Date?k.getTime()===A.getTime():!k||!A||typeof k!="object"&&typeof A!="object"?F.strict?k===A:k==A:T(k,A,F)};function S(k){return k==null}function x(k){return!(!k||typeof k!="object"||typeof k.length!="number"||typeof k.copy!="function"||typeof k.slice!="function"||k.length>0&&typeof k[0]!="number")}function T(k,A,F){var N,D;if(S(k)||S(A)||k.prototype!==A.prototype)return!1;if(v(k))return v(A)?(k=d.call(k),A=d.call(A),y(k,A,F)):!1;if(x(k)){if(!x(A)||k.length!==A.length)return!1;for(N=0;N<k.length;N++)if(k[N]!==A[N])return!1;return!0}try{var B=p(k),O=p(A)}catch{return!1}if(B.length!=O.length)return!1;for(B.sort(),O.sort(),N=B.length-1;N>=0;N--)if(B[N]!=O[N])return!1;for(N=B.length-1;N>=0;N--)if(D=B[N],!y(k[D],A[D],F))return!1;return typeof k==typeof A}},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(1),p=function(){function v(y,S,x){x===void 0&&(x={}),this.attrName=y,this.keyName=S;var T=d.Scope.TYPE&d.Scope.ATTRIBUTE;x.scope!=null?this.scope=x.scope&d.Scope.LEVEL|T:this.scope=d.Scope.ATTRIBUTE,x.whitelist!=null&&(this.whitelist=x.whitelist)}return v.keys=function(y){return[].map.call(y.attributes,function(S){return S.name})},v.prototype.add=function(y,S){return this.canAdd(y,S)?(y.setAttribute(this.keyName,S),!0):!1},v.prototype.canAdd=function(y,S){var x=d.query(y,d.Scope.BLOT&(this.scope|d.Scope.TYPE));return x==null?!1:this.whitelist==null?!0:typeof S=="string"?this.whitelist.indexOf(S.replace(/["']/g,""))>-1:this.whitelist.indexOf(S)>-1},v.prototype.remove=function(y){y.removeAttribute(this.keyName)},v.prototype.value=function(y){var S=y.getAttribute(this.keyName);return this.canAdd(y,S)&&S?S:""},v}();l.default=p},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.Code=void 0;var d=function(){function oe(ke,ae){var Q=[],G=!0,ue=!1,pe=void 0;try{for(var be=ke[Symbol.iterator](),qe;!(G=(qe=be.next()).done)&&(Q.push(qe.value),!(ae&&Q.length===ae));G=!0);}catch(U){ue=!0,pe=U}finally{try{!G&&be.return&&be.return()}finally{if(ue)throw pe}}return Q}return function(ke,ae){if(Array.isArray(ke))return ke;if(Symbol.iterator in Object(ke))return oe(ke,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function oe(ke,ae){for(var Q=0;Q<ae.length;Q++){var G=ae[Q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(ke,G.key,G)}}return function(ke,ae,Q){return ae&&oe(ke.prototype,ae),Q&&oe(ke,Q),ke}}(),v=function oe(ke,ae,Q){ke===null&&(ke=Function.prototype);var G=Object.getOwnPropertyDescriptor(ke,ae);if(G===void 0){var ue=Object.getPrototypeOf(ke);return ue===null?void 0:oe(ue,ae,Q)}else{if("value"in G)return G.value;var pe=G.get;return pe===void 0?void 0:pe.call(Q)}},y=c(2),S=O(y),x=c(0),T=O(x),k=c(4),A=O(k),F=c(6),N=O(F),D=c(7),B=O(D);function O(oe){return oe&&oe.__esModule?oe:{default:oe}}function P(oe,ke){if(!(oe instanceof ke))throw new TypeError("Cannot call a class as a function")}function I(oe,ke){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ke&&(typeof ke=="object"||typeof ke=="function")?ke:oe}function z(oe,ke){if(typeof ke!="function"&&ke!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ke);oe.prototype=Object.create(ke&&ke.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ke&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ke):oe.__proto__=ke)}var K=function(oe){z(ke,oe);function ke(){return P(this,ke),I(this,(ke.__proto__||Object.getPrototypeOf(ke)).apply(this,arguments))}return ke}(N.default);K.blotName="code",K.tagName="CODE";var j=function(oe){z(ke,oe);function ke(){return P(this,ke),I(this,(ke.__proto__||Object.getPrototypeOf(ke)).apply(this,arguments))}return p(ke,[{key:"delta",value:function(){var Q=this,G=this.domNode.textContent;return G.endsWith(`
`)&&(G=G.slice(0,-1)),G.split(`
`).reduce(function(ue,pe){return ue.insert(pe).insert(`
`,Q.formats())},new S.default)}},{key:"format",value:function(Q,G){if(!(Q===this.statics.blotName&&G)){var ue=this.descendant(B.default,this.length()-1),pe=d(ue,1),be=pe[0];be!=null&&be.deleteAt(be.length()-1,1),v(ke.prototype.__proto__||Object.getPrototypeOf(ke.prototype),"format",this).call(this,Q,G)}}},{key:"formatAt",value:function(Q,G,ue,pe){if(G!==0&&!(T.default.query(ue,T.default.Scope.BLOCK)==null||ue===this.statics.blotName&&pe===this.statics.formats(this.domNode))){var be=this.newlineIndex(Q);if(!(be<0||be>=Q+G)){var qe=this.newlineIndex(Q,!0)+1,U=be-qe+1,Fe=this.isolate(qe,U),De=Fe.next;Fe.format(ue,pe),De instanceof ke&&De.formatAt(0,Q-qe+G-U,ue,pe)}}}},{key:"insertAt",value:function(Q,G,ue){if(ue==null){var pe=this.descendant(B.default,Q),be=d(pe,2),qe=be[0],U=be[1];qe.insertAt(U,G)}}},{key:"length",value:function(){var Q=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?Q:Q+1}},{key:"newlineIndex",value:function(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G)return this.domNode.textContent.slice(0,Q).lastIndexOf(`
`);var ue=this.domNode.textContent.slice(Q).indexOf(`
`);return ue>-1?Q+ue:-1}},{key:"optimize",value:function(Q){this.domNode.textContent.endsWith(`
`)||this.appendChild(T.default.create("text",`
`)),v(ke.prototype.__proto__||Object.getPrototypeOf(ke.prototype),"optimize",this).call(this,Q);var G=this.next;G!=null&&G.prev===this&&G.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===G.statics.formats(G.domNode)&&(G.optimize(Q),G.moveChildren(this),G.remove())}},{key:"replace",value:function(Q){v(ke.prototype.__proto__||Object.getPrototypeOf(ke.prototype),"replace",this).call(this,Q),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(G){var ue=T.default.find(G);ue==null?G.parentNode.removeChild(G):ue instanceof T.default.Embed?ue.remove():ue.unwrap()})}}],[{key:"create",value:function(Q){var G=v(ke.__proto__||Object.getPrototypeOf(ke),"create",this).call(this,Q);return G.setAttribute("spellcheck",!1),G}},{key:"formats",value:function(){return!0}}]),ke}(A.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",l.Code=K,l.default=j},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},p=function(){function De(Se,re){var le=[],fe=!0,ce=!1,Be=void 0;try{for(var Ce=Se[Symbol.iterator](),me;!(fe=(me=Ce.next()).done)&&(le.push(me.value),!(re&&le.length===re));fe=!0);}catch(q){ce=!0,Be=q}finally{try{!fe&&Ce.return&&Ce.return()}finally{if(ce)throw Be}}return le}return function(Se,re){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return De(Se,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function De(Se,re){for(var le=0;le<re.length;le++){var fe=re[le];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Se,fe.key,fe)}}return function(Se,re,le){return re&&De(Se.prototype,re),le&&De(Se,le),Se}}(),y=c(2),S=G(y),x=c(20),T=G(x),k=c(0),A=G(k),F=c(13),N=G(F),D=c(24),B=G(D),O=c(4),P=G(O),I=c(16),z=G(I),K=c(21),j=G(K),oe=c(11),ke=G(oe),ae=c(3),Q=G(ae);function G(De){return De&&De.__esModule?De:{default:De}}function ue(De,Se,re){return Se in De?Object.defineProperty(De,Se,{value:re,enumerable:!0,configurable:!0,writable:!0}):De[Se]=re,De}function pe(De,Se){if(!(De instanceof Se))throw new TypeError("Cannot call a class as a function")}var be=/^[ -~]*$/,qe=function(){function De(Se){pe(this,De),this.scroll=Se,this.delta=this.getDelta()}return v(De,[{key:"applyDelta",value:function(re){var le=this,fe=!1;this.scroll.update();var ce=this.scroll.length();return this.scroll.batchStart(),re=Fe(re),re.reduce(function(Be,Ce){var me=Ce.retain||Ce.delete||Ce.insert.length||1,q=Ce.attributes||{};if(Ce.insert!=null){if(typeof Ce.insert=="string"){var Ze=Ce.insert;Ze.endsWith(`
`)&&fe&&(fe=!1,Ze=Ze.slice(0,-1)),Be>=ce&&!Ze.endsWith(`
`)&&(fe=!0),le.scroll.insertAt(Be,Ze);var We=le.scroll.line(Be),tt=p(We,2),Qe=tt[0],at=tt[1],He=(0,Q.default)({},(0,O.bubbleFormats)(Qe));if(Qe instanceof P.default){var Re=Qe.descendant(A.default.Leaf,at),Ve=p(Re,1),Oe=Ve[0];He=(0,Q.default)(He,(0,O.bubbleFormats)(Oe))}q=T.default.attributes.diff(He,q)||{}}else if(d(Ce.insert)==="object"){var ve=Object.keys(Ce.insert)[0];if(ve==null)return Be;le.scroll.insertAt(Be,ve,Ce.insert[ve])}ce+=me}return Object.keys(q).forEach(function(se){le.scroll.formatAt(Be,me,se,q[se])}),Be+me},0),re.reduce(function(Be,Ce){return typeof Ce.delete=="number"?(le.scroll.deleteAt(Be,Ce.delete),Be):Be+(Ce.retain||Ce.insert.length||1)},0),this.scroll.batchEnd(),this.update(re)}},{key:"deleteText",value:function(re,le){return this.scroll.deleteAt(re,le),this.update(new S.default().retain(re).delete(le))}},{key:"formatLine",value:function(re,le){var fe=this,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ce).forEach(function(Be){if(!(fe.scroll.whitelist!=null&&!fe.scroll.whitelist[Be])){var Ce=fe.scroll.lines(re,Math.max(le,1)),me=le;Ce.forEach(function(q){var Ze=q.length();if(!(q instanceof N.default))q.format(Be,ce[Be]);else{var We=re-q.offset(fe.scroll),tt=q.newlineIndex(We+me)-We+1;q.formatAt(We,tt,Be,ce[Be])}me-=Ze})}}),this.scroll.optimize(),this.update(new S.default().retain(re).retain(le,(0,j.default)(ce)))}},{key:"formatText",value:function(re,le){var fe=this,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ce).forEach(function(Be){fe.scroll.formatAt(re,le,Be,ce[Be])}),this.update(new S.default().retain(re).retain(le,(0,j.default)(ce)))}},{key:"getContents",value:function(re,le){return this.delta.slice(re,re+le)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(re,le){return re.concat(le.delta())},new S.default)}},{key:"getFormat",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,fe=[],ce=[];le===0?this.scroll.path(re).forEach(function(Ce){var me=p(Ce,1),q=me[0];q instanceof P.default?fe.push(q):q instanceof A.default.Leaf&&ce.push(q)}):(fe=this.scroll.lines(re,le),ce=this.scroll.descendants(A.default.Leaf,re,le));var Be=[fe,ce].map(function(Ce){if(Ce.length===0)return{};for(var me=(0,O.bubbleFormats)(Ce.shift());Object.keys(me).length>0;){var q=Ce.shift();if(q==null)return me;me=U((0,O.bubbleFormats)(q),me)}return me});return Q.default.apply(Q.default,Be)}},{key:"getText",value:function(re,le){return this.getContents(re,le).filter(function(fe){return typeof fe.insert=="string"}).map(function(fe){return fe.insert}).join("")}},{key:"insertEmbed",value:function(re,le,fe){return this.scroll.insertAt(re,le,fe),this.update(new S.default().retain(re).insert(ue({},le,fe)))}},{key:"insertText",value:function(re,le){var fe=this,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return le=le.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(re,le),Object.keys(ce).forEach(function(Be){fe.scroll.formatAt(re,le.length,Be,ce[Be])}),this.update(new S.default().retain(re).insert(le,(0,j.default)(ce)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var re=this.scroll.children.head;return re.statics.blotName!==P.default.blotName||re.children.length>1?!1:re.children.head instanceof z.default}},{key:"removeFormat",value:function(re,le){var fe=this.getText(re,le),ce=this.scroll.line(re+le),Be=p(ce,2),Ce=Be[0],me=Be[1],q=0,Ze=new S.default;Ce!=null&&(Ce instanceof N.default?q=Ce.newlineIndex(me)-me+1:q=Ce.length()-me,Ze=Ce.delta().slice(me,me+q-1).insert(`
`));var We=this.getContents(re,le+q),tt=We.diff(new S.default().insert(fe).concat(Ze)),Qe=new S.default().retain(re).concat(tt);return this.applyDelta(Qe)}},{key:"update",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ce=this.delta;if(le.length===1&&le[0].type==="characterData"&&le[0].target.data.match(be)&&A.default.find(le[0].target)){var Be=A.default.find(le[0].target),Ce=(0,O.bubbleFormats)(Be),me=Be.offset(this.scroll),q=le[0].oldValue.replace(B.default.CONTENTS,""),Ze=new S.default().insert(q),We=new S.default().insert(Be.value()),tt=new S.default().retain(me).concat(Ze.diff(We,fe));re=tt.reduce(function(Qe,at){return at.insert?Qe.insert(at.insert,Ce):Qe.push(at)},new S.default),this.delta=ce.compose(re)}else this.delta=this.getDelta(),(!re||!(0,ke.default)(ce.compose(re),this.delta))&&(re=ce.diff(this.delta,fe));return re}}]),De}();function U(De,Se){return Object.keys(Se).reduce(function(re,le){return De[le]==null||(Se[le]===De[le]?re[le]=Se[le]:Array.isArray(Se[le])?Se[le].indexOf(De[le])<0&&(re[le]=Se[le].concat([De[le]])):re[le]=[Se[le],De[le]]),re},{})}function Fe(De){return De.reduce(function(Se,re){if(re.insert===1){var le=(0,j.default)(re.attributes);return delete le.image,Se.insert({image:re.attributes.image},le)}if(re.attributes!=null&&(re.attributes.list===!0||re.attributes.bullet===!0)&&(re=(0,j.default)(re),re.attributes.list?re.attributes.list="ordered":(re.attributes.list="bullet",delete re.attributes.bullet)),typeof re.insert=="string"){var fe=re.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Se.insert(fe,re.attributes)}return Se.push(re)},new S.default)}l.default=qe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.Range=void 0;var d=function(){function oe(ke,ae){var Q=[],G=!0,ue=!1,pe=void 0;try{for(var be=ke[Symbol.iterator](),qe;!(G=(qe=be.next()).done)&&(Q.push(qe.value),!(ae&&Q.length===ae));G=!0);}catch(U){ue=!0,pe=U}finally{try{!G&&be.return&&be.return()}finally{if(ue)throw pe}}return Q}return function(ke,ae){if(Array.isArray(ke))return ke;if(Symbol.iterator in Object(ke))return oe(ke,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function oe(ke,ae){for(var Q=0;Q<ae.length;Q++){var G=ae[Q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(ke,G.key,G)}}return function(ke,ae,Q){return ae&&oe(ke.prototype,ae),Q&&oe(ke,Q),ke}}(),v=c(0),y=B(v),S=c(21),x=B(S),T=c(11),k=B(T),A=c(8),F=B(A),N=c(10),D=B(N);function B(oe){return oe&&oe.__esModule?oe:{default:oe}}function O(oe){if(Array.isArray(oe)){for(var ke=0,ae=Array(oe.length);ke<oe.length;ke++)ae[ke]=oe[ke];return ae}else return Array.from(oe)}function P(oe,ke){if(!(oe instanceof ke))throw new TypeError("Cannot call a class as a function")}var I=(0,D.default)("quill:selection"),z=function oe(ke){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;P(this,oe),this.index=ke,this.length=ae},K=function(){function oe(ke,ae){var Q=this;P(this,oe),this.emitter=ae,this.scroll=ke,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=y.default.create("cursor",this),this.lastRange=this.savedRange=new z(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){Q.mouseDown||setTimeout(Q.update.bind(Q,F.default.sources.USER),1)}),this.emitter.on(F.default.events.EDITOR_CHANGE,function(G,ue){G===F.default.events.TEXT_CHANGE&&ue.length()>0&&Q.update(F.default.sources.SILENT)}),this.emitter.on(F.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!Q.hasFocus()){var G=Q.getNativeRange();G!=null&&G.start.node!==Q.cursor.textNode&&Q.emitter.once(F.default.events.SCROLL_UPDATE,function(){try{Q.setNativeRange(G.start.node,G.start.offset,G.end.node,G.end.offset)}catch{}})}}),this.emitter.on(F.default.events.SCROLL_OPTIMIZE,function(G,ue){if(ue.range){var pe=ue.range,be=pe.startNode,qe=pe.startOffset,U=pe.endNode,Fe=pe.endOffset;Q.setNativeRange(be,qe,U,Fe)}}),this.update(F.default.sources.SILENT)}return p(oe,[{key:"handleComposition",value:function(){var ae=this;this.root.addEventListener("compositionstart",function(){ae.composing=!0}),this.root.addEventListener("compositionend",function(){if(ae.composing=!1,ae.cursor.parent){var Q=ae.cursor.restore();if(!Q)return;setTimeout(function(){ae.setNativeRange(Q.startNode,Q.startOffset,Q.endNode,Q.endOffset)},1)}})}},{key:"handleDragging",value:function(){var ae=this;this.emitter.listenDOM("mousedown",document.body,function(){ae.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){ae.mouseDown=!1,ae.update(F.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(ae,Q){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[ae])){this.scroll.update();var G=this.getNativeRange();if(!(G==null||!G.native.collapsed||y.default.query(ae,y.default.Scope.BLOCK))){if(G.start.node!==this.cursor.textNode){var ue=y.default.find(G.start.node,!1);if(ue==null)return;if(ue instanceof y.default.Leaf){var pe=ue.split(G.start.offset);ue.parent.insertBefore(this.cursor,pe)}else ue.insertBefore(this.cursor,G.start.node);this.cursor.attach()}this.cursor.format(ae,Q),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(ae){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=this.scroll.length();ae=Math.min(ae,G-1),Q=Math.min(ae+Q,G-1)-ae;var ue=void 0,pe=this.scroll.leaf(ae),be=d(pe,2),qe=be[0],U=be[1];if(qe==null)return null;var Fe=qe.position(U,!0),De=d(Fe,2);ue=De[0],U=De[1];var Se=document.createRange();if(Q>0){Se.setStart(ue,U);var re=this.scroll.leaf(ae+Q),le=d(re,2);if(qe=le[0],U=le[1],qe==null)return null;var fe=qe.position(U,!0),ce=d(fe,2);return ue=ce[0],U=ce[1],Se.setEnd(ue,U),Se.getBoundingClientRect()}else{var Be="left",Ce=void 0;return ue instanceof Text?(U<ue.data.length?(Se.setStart(ue,U),Se.setEnd(ue,U+1)):(Se.setStart(ue,U-1),Se.setEnd(ue,U),Be="right"),Ce=Se.getBoundingClientRect()):(Ce=qe.domNode.getBoundingClientRect(),U>0&&(Be="right")),{bottom:Ce.top+Ce.height,height:Ce.height,left:Ce[Be],right:Ce[Be],top:Ce.top,width:0}}}},{key:"getNativeRange",value:function(){var ae=document.getSelection();if(ae==null||ae.rangeCount<=0)return null;var Q=ae.getRangeAt(0);if(Q==null)return null;var G=this.normalizeNative(Q);return I.info("getNativeRange",G),G}},{key:"getRange",value:function(){var ae=this.getNativeRange();if(ae==null)return[null,null];var Q=this.normalizedToRange(ae);return[Q,ae]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(ae){var Q=this,G=[[ae.start.node,ae.start.offset]];ae.native.collapsed||G.push([ae.end.node,ae.end.offset]);var ue=G.map(function(qe){var U=d(qe,2),Fe=U[0],De=U[1],Se=y.default.find(Fe,!0),re=Se.offset(Q.scroll);return De===0?re:Se instanceof y.default.Container?re+Se.length():re+Se.index(Fe,De)}),pe=Math.min(Math.max.apply(Math,O(ue)),this.scroll.length()-1),be=Math.min.apply(Math,[pe].concat(O(ue)));return new z(be,pe-be)}},{key:"normalizeNative",value:function(ae){if(!j(this.root,ae.startContainer)||!ae.collapsed&&!j(this.root,ae.endContainer))return null;var Q={start:{node:ae.startContainer,offset:ae.startOffset},end:{node:ae.endContainer,offset:ae.endOffset},native:ae};return[Q.start,Q.end].forEach(function(G){for(var ue=G.node,pe=G.offset;!(ue instanceof Text)&&ue.childNodes.length>0;)if(ue.childNodes.length>pe)ue=ue.childNodes[pe],pe=0;else if(ue.childNodes.length===pe)ue=ue.lastChild,pe=ue instanceof Text?ue.data.length:ue.childNodes.length+1;else break;G.node=ue,G.offset=pe}),Q}},{key:"rangeToNative",value:function(ae){var Q=this,G=ae.collapsed?[ae.index]:[ae.index,ae.index+ae.length],ue=[],pe=this.scroll.length();return G.forEach(function(be,qe){be=Math.min(pe-1,be);var U=void 0,Fe=Q.scroll.leaf(be),De=d(Fe,2),Se=De[0],re=De[1],le=Se.position(re,qe!==0),fe=d(le,2);U=fe[0],re=fe[1],ue.push(U,re)}),ue.length<2&&(ue=ue.concat(ue)),ue}},{key:"scrollIntoView",value:function(ae){var Q=this.lastRange;if(Q!=null){var G=this.getBounds(Q.index,Q.length);if(G!=null){var ue=this.scroll.length()-1,pe=this.scroll.line(Math.min(Q.index,ue)),be=d(pe,1),qe=be[0],U=qe;if(Q.length>0){var Fe=this.scroll.line(Math.min(Q.index+Q.length,ue)),De=d(Fe,1);U=De[0]}if(!(qe==null||U==null)){var Se=ae.getBoundingClientRect();G.top<Se.top?ae.scrollTop-=Se.top-G.top:G.bottom>Se.bottom&&(ae.scrollTop+=G.bottom-Se.bottom)}}}}},{key:"setNativeRange",value:function(ae,Q){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ae,ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Q,pe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(I.info("setNativeRange",ae,Q,G,ue),!(ae!=null&&(this.root.parentNode==null||ae.parentNode==null||G.parentNode==null))){var be=document.getSelection();if(be!=null)if(ae!=null){this.hasFocus()||this.root.focus();var qe=(this.getNativeRange()||{}).native;if(qe==null||pe||ae!==qe.startContainer||Q!==qe.startOffset||G!==qe.endContainer||ue!==qe.endOffset){ae.tagName=="BR"&&(Q=[].indexOf.call(ae.parentNode.childNodes,ae),ae=ae.parentNode),G.tagName=="BR"&&(ue=[].indexOf.call(G.parentNode.childNodes,G),G=G.parentNode);var U=document.createRange();U.setStart(ae,Q),U.setEnd(G,ue),be.removeAllRanges(),be.addRange(U)}}else be.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(ae){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.default.sources.API;if(typeof Q=="string"&&(G=Q,Q=!1),I.info("setRange",ae),ae!=null){var ue=this.rangeToNative(ae);this.setNativeRange.apply(this,O(ue).concat([Q]))}else this.setNativeRange(null);this.update(G)}},{key:"update",value:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.default.sources.USER,Q=this.lastRange,G=this.getRange(),ue=d(G,2),pe=ue[0],be=ue[1];if(this.lastRange=pe,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,k.default)(Q,this.lastRange)){var qe;!this.composing&&be!=null&&be.native.collapsed&&be.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[F.default.events.SELECTION_CHANGE,(0,x.default)(this.lastRange),(0,x.default)(Q),ae];if((qe=this.emitter).emit.apply(qe,[F.default.events.EDITOR_CHANGE].concat(U)),ae!==F.default.sources.SILENT){var Fe;(Fe=this.emitter).emit.apply(Fe,U)}}}}]),oe}();function j(oe,ke){try{ke.parentNode}catch{return!1}return ke instanceof Text&&(ke=ke.parentNode),oe.contains(ke)}l.Range=z,l.default=K},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,D){for(var B=0;B<D.length;B++){var O=D[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,D,B){return D&&F(N.prototype,D),B&&F(N,B),N}}(),p=function F(N,D,B){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,D);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,D,B)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(B)}},v=c(0),y=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function k(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var A=function(F){k(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,[{key:"insertInto",value:function(B,O){B.children.length===0?p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertInto",this).call(this,B,O):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),N}(y.default.Embed);A.blotName="break",A.tagName="BR",l.default=A},function(s,l,c){var d=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var F in A)A.hasOwnProperty(F)&&(k[F]=A[F])};return function(k,A){T(k,A);function F(){this.constructor=k}k.prototype=A===null?Object.create(A):(F.prototype=A.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(44),v=c(30),y=c(1),S=function(T){d(k,T);function k(A){var F=T.call(this,A)||this;return F.build(),F}return k.prototype.appendChild=function(A){this.insertBefore(A)},k.prototype.attach=function(){T.prototype.attach.call(this),this.children.forEach(function(A){A.attach()})},k.prototype.build=function(){var A=this;this.children=new p.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(F){try{var N=x(F);A.insertBefore(N,A.children.head||void 0)}catch(D){if(D instanceof y.ParchmentError)return;throw D}})},k.prototype.deleteAt=function(A,F){if(A===0&&F===this.length())return this.remove();this.children.forEachAt(A,F,function(N,D,B){N.deleteAt(D,B)})},k.prototype.descendant=function(A,F){var N=this.children.find(F),D=N[0],B=N[1];return A.blotName==null&&A(D)||A.blotName!=null&&D instanceof A?[D,B]:D instanceof k?D.descendant(A,B):[null,-1]},k.prototype.descendants=function(A,F,N){F===void 0&&(F=0),N===void 0&&(N=Number.MAX_VALUE);var D=[],B=N;return this.children.forEachAt(F,N,function(O,P,I){(A.blotName==null&&A(O)||A.blotName!=null&&O instanceof A)&&D.push(O),O instanceof k&&(D=D.concat(O.descendants(A,P,B))),B-=I}),D},k.prototype.detach=function(){this.children.forEach(function(A){A.detach()}),T.prototype.detach.call(this)},k.prototype.formatAt=function(A,F,N,D){this.children.forEachAt(A,F,function(B,O,P){B.formatAt(O,P,N,D)})},k.prototype.insertAt=function(A,F,N){var D=this.children.find(A),B=D[0],O=D[1];if(B)B.insertAt(O,F,N);else{var P=N==null?y.create("text",F):y.create(F,N);this.appendChild(P)}},k.prototype.insertBefore=function(A,F){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(N){return A instanceof N}))throw new y.ParchmentError("Cannot insert "+A.statics.blotName+" into "+this.statics.blotName);A.insertInto(this,F)},k.prototype.length=function(){return this.children.reduce(function(A,F){return A+F.length()},0)},k.prototype.moveChildren=function(A,F){this.children.forEach(function(N){A.insertBefore(N,F)})},k.prototype.optimize=function(A){if(T.prototype.optimize.call(this,A),this.children.length===0)if(this.statics.defaultChild!=null){var F=y.create(this.statics.defaultChild);this.appendChild(F),F.optimize(A)}else this.remove()},k.prototype.path=function(A,F){F===void 0&&(F=!1);var N=this.children.find(A,F),D=N[0],B=N[1],O=[[this,A]];return D instanceof k?O.concat(D.path(B,F)):(D!=null&&O.push([D,B]),O)},k.prototype.removeChild=function(A){this.children.remove(A)},k.prototype.replace=function(A){A instanceof k&&A.moveChildren(this),T.prototype.replace.call(this,A)},k.prototype.split=function(A,F){if(F===void 0&&(F=!1),!F){if(A===0)return this;if(A===this.length())return this.next}var N=this.clone();return this.parent.insertBefore(N,this.next),this.children.forEachAt(A,this.length(),function(D,B,O){D=D.split(B,F),N.appendChild(D)}),N},k.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},k.prototype.update=function(A,F){var N=this,D=[],B=[];A.forEach(function(O){O.target===N.domNode&&O.type==="childList"&&(D.push.apply(D,O.addedNodes),B.push.apply(B,O.removedNodes))}),B.forEach(function(O){if(!(O.parentNode!=null&&O.tagName!=="IFRAME"&&document.body.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=y.find(O);P!=null&&(P.domNode.parentNode==null||P.domNode.parentNode===N.domNode)&&P.detach()}}),D.filter(function(O){return O.parentNode==N.domNode}).sort(function(O,P){return O===P?0:O.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(O){var P=null;O.nextSibling!=null&&(P=y.find(O.nextSibling));var I=x(O);(I.next!=P||I.next==null)&&(I.parent!=null&&I.parent.removeChild(N),N.insertBefore(I,P||void 0))})},k}(v.default);function x(T){var k=y.find(T);if(k==null)try{k=y.create(T)}catch{k=y.create(y.Scope.INLINE),[].slice.call(T.childNodes).forEach(function(F){k.domNode.appendChild(F)}),T.parentNode&&T.parentNode.replaceChild(k.domNode,T),k.attach()}return k}l.default=S},function(s,l,c){var d=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var F in A)A.hasOwnProperty(F)&&(k[F]=A[F])};return function(k,A){T(k,A);function F(){this.constructor=k}k.prototype=A===null?Object.create(A):(F.prototype=A.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(12),v=c(31),y=c(17),S=c(1),x=function(T){d(k,T);function k(A){var F=T.call(this,A)||this;return F.attributes=new v.default(F.domNode),F}return k.formats=function(A){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return A.tagName.toLowerCase()},k.prototype.format=function(A,F){var N=S.query(A);N instanceof p.default?this.attributes.attribute(N,F):F&&N!=null&&(A!==this.statics.blotName||this.formats()[A]!==F)&&this.replaceWith(A,F)},k.prototype.formats=function(){var A=this.attributes.values(),F=this.statics.formats(this.domNode);return F!=null&&(A[this.statics.blotName]=F),A},k.prototype.replaceWith=function(A,F){var N=T.prototype.replaceWith.call(this,A,F);return this.attributes.copy(N),N},k.prototype.update=function(A,F){var N=this;T.prototype.update.call(this,A,F),A.some(function(D){return D.target===N.domNode&&D.type==="attributes"})&&this.attributes.build()},k.prototype.wrap=function(A,F){var N=T.prototype.wrap.call(this,A,F);return N instanceof k&&N.statics.scope===this.statics.scope&&this.attributes.move(N),N},k}(y.default);l.default=x},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var k in T)T.hasOwnProperty(k)&&(x[k]=T[k])};return function(x,T){S(x,T);function k(){this.constructor=x}x.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(30),v=c(1),y=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.value=function(T){return!0},x.prototype.index=function(T,k){return this.domNode===T||this.domNode.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(k,1):-1},x.prototype.position=function(T,k){var A=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return T>0&&(A+=1),[this.parent.domNode,A]},x.prototype.value=function(){var T;return T={},T[this.statics.blotName]=this.statics.value(this.domNode)||!0,T},x.scope=v.Scope.INLINE_BLOT,x}(p.default);l.default=y},function(s,l,c){var d=c(11),p=c(3),v={attributes:{compose:function(S,x,T){typeof S!="object"&&(S={}),typeof x!="object"&&(x={});var k=p(!0,{},x);T||(k=Object.keys(k).reduce(function(F,N){return k[N]!=null&&(F[N]=k[N]),F},{}));for(var A in S)S[A]!==void 0&&x[A]===void 0&&(k[A]=S[A]);return Object.keys(k).length>0?k:void 0},diff:function(S,x){typeof S!="object"&&(S={}),typeof x!="object"&&(x={});var T=Object.keys(S).concat(Object.keys(x)).reduce(function(k,A){return d(S[A],x[A])||(k[A]=x[A]===void 0?null:x[A]),k},{});return Object.keys(T).length>0?T:void 0},transform:function(S,x,T){if(typeof S!="object")return x;if(typeof x=="object"){if(!T)return x;var k=Object.keys(x).reduce(function(A,F){return S[F]===void 0&&(A[F]=x[F]),A},{});return Object.keys(k).length>0?k:void 0}}},iterator:function(S){return new y(S)},length:function(S){return typeof S.delete=="number"?S.delete:typeof S.retain=="number"?S.retain:typeof S.insert=="string"?S.insert.length:1}};function y(S){this.ops=S,this.index=0,this.offset=0}y.prototype.hasNext=function(){return this.peekLength()<1/0},y.prototype.next=function(S){S||(S=1/0);var x=this.ops[this.index];if(x){var T=this.offset,k=v.length(x);if(S>=k-T?(S=k-T,this.index+=1,this.offset=0):this.offset+=S,typeof x.delete=="number")return{delete:S};var A={};return x.attributes&&(A.attributes=x.attributes),typeof x.retain=="number"?A.retain=S:typeof x.insert=="string"?A.insert=x.insert.substr(T,S):A.insert=x.insert,A}else return{retain:1/0}},y.prototype.peek=function(){return this.ops[this.index]},y.prototype.peekLength=function(){return this.ops[this.index]?v.length(this.ops[this.index])-this.offset:1/0},y.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},y.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var S=this.offset,x=this.index,T=this.next(),k=this.ops.slice(this.index);return this.offset=S,this.index=x,[T].concat(k)}else return[]},s.exports=v},function(s,l){var c=function(){function d(N,D){return D!=null&&N instanceof D}var p;try{p=Map}catch{p=function(){}}var v;try{v=Set}catch{v=function(){}}var y;try{y=Promise}catch{y=function(){}}function S(N,D,B,O,P){typeof D=="object"&&(B=D.depth,O=D.prototype,P=D.includeNonEnumerable,D=D.circular);var I=[],z=[],K=typeof Buffer<"u";typeof D>"u"&&(D=!0),typeof B>"u"&&(B=1/0);function j(oe,ke){if(oe===null)return null;if(ke===0)return oe;var ae,Q;if(typeof oe!="object")return oe;if(d(oe,p))ae=new p;else if(d(oe,v))ae=new v;else if(d(oe,y))ae=new y(function(Se,re){oe.then(function(le){Se(j(le,ke-1))},function(le){re(j(le,ke-1))})});else if(S.__isArray(oe))ae=[];else if(S.__isRegExp(oe))ae=new RegExp(oe.source,F(oe)),oe.lastIndex&&(ae.lastIndex=oe.lastIndex);else if(S.__isDate(oe))ae=new Date(oe.getTime());else{if(K&&Buffer.isBuffer(oe))return Buffer.allocUnsafe?ae=Buffer.allocUnsafe(oe.length):ae=new Buffer(oe.length),oe.copy(ae),ae;d(oe,Error)?ae=Object.create(oe):typeof O>"u"?(Q=Object.getPrototypeOf(oe),ae=Object.create(Q)):(ae=Object.create(O),Q=O)}if(D){var G=I.indexOf(oe);if(G!=-1)return z[G];I.push(oe),z.push(ae)}d(oe,p)&&oe.forEach(function(Se,re){var le=j(re,ke-1),fe=j(Se,ke-1);ae.set(le,fe)}),d(oe,v)&&oe.forEach(function(Se){var re=j(Se,ke-1);ae.add(re)});for(var ue in oe){var pe;Q&&(pe=Object.getOwnPropertyDescriptor(Q,ue)),!(pe&&pe.set==null)&&(ae[ue]=j(oe[ue],ke-1))}if(Object.getOwnPropertySymbols)for(var be=Object.getOwnPropertySymbols(oe),ue=0;ue<be.length;ue++){var qe=be[ue],U=Object.getOwnPropertyDescriptor(oe,qe);U&&!U.enumerable&&!P||(ae[qe]=j(oe[qe],ke-1),U.enumerable||Object.defineProperty(ae,qe,{enumerable:!1}))}if(P)for(var Fe=Object.getOwnPropertyNames(oe),ue=0;ue<Fe.length;ue++){var De=Fe[ue],U=Object.getOwnPropertyDescriptor(oe,De);U&&U.enumerable||(ae[De]=j(oe[De],ke-1),Object.defineProperty(ae,De,{enumerable:!1}))}return ae}return j(N,B)}S.clonePrototype=function(D){if(D===null)return null;var B=function(){};return B.prototype=D,new B};function x(N){return Object.prototype.toString.call(N)}S.__objToStr=x;function T(N){return typeof N=="object"&&x(N)==="[object Date]"}S.__isDate=T;function k(N){return typeof N=="object"&&x(N)==="[object Array]"}S.__isArray=k;function A(N){return typeof N=="object"&&x(N)==="[object RegExp]"}S.__isRegExp=A;function F(N){var D="";return N.global&&(D+="g"),N.ignoreCase&&(D+="i"),N.multiline&&(D+="m"),D}return S.__getRegExpFlags=F,S}();typeof s=="object"&&s.exports&&(s.exports=c)},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function ae(Q,G){var ue=[],pe=!0,be=!1,qe=void 0;try{for(var U=Q[Symbol.iterator](),Fe;!(pe=(Fe=U.next()).done)&&(ue.push(Fe.value),!(G&&ue.length===G));pe=!0);}catch(De){be=!0,qe=De}finally{try{!pe&&U.return&&U.return()}finally{if(be)throw qe}}return ue}return function(Q,G){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return ae(Q,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function ae(Q,G){for(var ue=0;ue<G.length;ue++){var pe=G[ue];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}return function(Q,G,ue){return G&&ae(Q.prototype,G),ue&&ae(Q,ue),Q}}(),v=function ae(Q,G,ue){Q===null&&(Q=Function.prototype);var pe=Object.getOwnPropertyDescriptor(Q,G);if(pe===void 0){var be=Object.getPrototypeOf(Q);return be===null?void 0:ae(be,G,ue)}else{if("value"in pe)return pe.value;var qe=pe.get;return qe===void 0?void 0:qe.call(ue)}},y=c(0),S=I(y),x=c(8),T=I(x),k=c(4),A=I(k),F=c(16),N=I(F),D=c(13),B=I(D),O=c(25),P=I(O);function I(ae){return ae&&ae.__esModule?ae:{default:ae}}function z(ae,Q){if(!(ae instanceof Q))throw new TypeError("Cannot call a class as a function")}function K(ae,Q){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:ae}function j(ae,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);ae.prototype=Object.create(Q&&Q.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,Q):ae.__proto__=Q)}function oe(ae){return ae instanceof A.default||ae instanceof k.BlockEmbed}var ke=function(ae){j(Q,ae);function Q(G,ue){z(this,Q);var pe=K(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,G));return pe.emitter=ue.emitter,Array.isArray(ue.whitelist)&&(pe.whitelist=ue.whitelist.reduce(function(be,qe){return be[qe]=!0,be},{})),pe.domNode.addEventListener("DOMNodeInserted",function(){}),pe.optimize(),pe.enable(),pe}return p(Q,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(ue,pe){var be=this.line(ue),qe=d(be,2),U=qe[0],Fe=qe[1],De=this.line(ue+pe),Se=d(De,1),re=Se[0];if(v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"deleteAt",this).call(this,ue,pe),re!=null&&U!==re&&Fe>0){if(U instanceof k.BlockEmbed||re instanceof k.BlockEmbed){this.optimize();return}if(U instanceof B.default){var le=U.newlineIndex(U.length(),!0);if(le>-1&&(U=U.split(le+1),U===re)){this.optimize();return}}else if(re instanceof B.default){var fe=re.newlineIndex(0);fe>-1&&re.split(fe+1)}var ce=re.children.head instanceof N.default?null:re.children.head;U.moveChildren(re,ce),U.remove()}this.optimize()}},{key:"enable",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",ue)}},{key:"formatAt",value:function(ue,pe,be,qe){this.whitelist!=null&&!this.whitelist[be]||(v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"formatAt",this).call(this,ue,pe,be,qe),this.optimize())}},{key:"insertAt",value:function(ue,pe,be){if(!(be!=null&&this.whitelist!=null&&!this.whitelist[pe])){if(ue>=this.length())if(be==null||S.default.query(pe,S.default.Scope.BLOCK)==null){var qe=S.default.create(this.statics.defaultChild);this.appendChild(qe),be==null&&pe.endsWith(`
`)&&(pe=pe.slice(0,-1)),qe.insertAt(0,pe,be)}else{var U=S.default.create(pe,be);this.appendChild(U)}else v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"insertAt",this).call(this,ue,pe,be);this.optimize()}}},{key:"insertBefore",value:function(ue,pe){if(ue.statics.scope===S.default.Scope.INLINE_BLOT){var be=S.default.create(this.statics.defaultChild);be.appendChild(ue),ue=be}v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"insertBefore",this).call(this,ue,pe)}},{key:"leaf",value:function(ue){return this.path(ue).pop()||[null,-1]}},{key:"line",value:function(ue){return ue===this.length()?this.line(ue-1):this.descendant(oe,ue)}},{key:"lines",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,be=function qe(U,Fe,De){var Se=[],re=De;return U.children.forEachAt(Fe,De,function(le,fe,ce){oe(le)?Se.push(le):le instanceof S.default.Container&&(Se=Se.concat(qe(le,fe,re))),re-=ce}),Se};return be(this,ue,pe)}},{key:"optimize",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"optimize",this).call(this,ue,pe),ue.length>0&&this.emitter.emit(T.default.events.SCROLL_OPTIMIZE,ue,pe))}},{key:"path",value:function(ue){return v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"path",this).call(this,ue).slice(1)}},{key:"update",value:function(ue){if(this.batch!==!0){var pe=T.default.sources.USER;typeof ue=="string"&&(pe=ue),Array.isArray(ue)||(ue=this.observer.takeRecords()),ue.length>0&&this.emitter.emit(T.default.events.SCROLL_BEFORE_UPDATE,pe,ue),v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"update",this).call(this,ue.concat([])),ue.length>0&&this.emitter.emit(T.default.events.SCROLL_UPDATE,pe,ue)}}}]),Q}(S.default.Scroll);ke.blotName="scroll",ke.className="ql-editor",ke.tagName="DIV",ke.defaultChild="block",ke.allowedChildren=[A.default,k.BlockEmbed,P.default],l.default=ke},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.SHORTKEY=l.default=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},p=function(){function Ce(me,q){var Ze=[],We=!0,tt=!1,Qe=void 0;try{for(var at=me[Symbol.iterator](),He;!(We=(He=at.next()).done)&&(Ze.push(He.value),!(q&&Ze.length===q));We=!0);}catch(Re){tt=!0,Qe=Re}finally{try{!We&&at.return&&at.return()}finally{if(tt)throw Qe}}return Ze}return function(me,q){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return Ce(me,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function Ce(me,q){for(var Ze=0;Ze<q.length;Ze++){var We=q[Ze];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(me,We.key,We)}}return function(me,q,Ze){return q&&Ce(me.prototype,q),Ze&&Ce(me,Ze),me}}(),y=c(21),S=ae(y),x=c(11),T=ae(x),k=c(3),A=ae(k),F=c(2),N=ae(F),D=c(20),B=ae(D),O=c(0),P=ae(O),I=c(5),z=ae(I),K=c(10),j=ae(K),oe=c(9),ke=ae(oe);function ae(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function Q(Ce,me,q){return me in Ce?Object.defineProperty(Ce,me,{value:q,enumerable:!0,configurable:!0,writable:!0}):Ce[me]=q,Ce}function G(Ce,me){if(!(Ce instanceof me))throw new TypeError("Cannot call a class as a function")}function ue(Ce,me){if(!Ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:Ce}function pe(Ce,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);Ce.prototype=Object.create(me&&me.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(Ce,me):Ce.__proto__=me)}var be=(0,j.default)("quill:keyboard"),qe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(Ce){pe(me,Ce),v(me,null,[{key:"match",value:function(Ze,We){return We=Be(We),["altKey","ctrlKey","metaKey","shiftKey"].some(function(tt){return!!We[tt]!==Ze[tt]&&We[tt]!==null})?!1:We.key===(Ze.which||Ze.keyCode)}}]);function me(q,Ze){G(this,me);var We=ue(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,q,Ze));return We.bindings={},Object.keys(We.options.bindings).forEach(function(tt){tt==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||We.options.bindings[tt]&&We.addBinding(We.options.bindings[tt])}),We.addBinding({key:me.keys.ENTER,shiftKey:null},le),We.addBinding({key:me.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(We.addBinding({key:me.keys.BACKSPACE},{collapsed:!0},De),We.addBinding({key:me.keys.DELETE},{collapsed:!0},Se)):(We.addBinding({key:me.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},De),We.addBinding({key:me.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Se)),We.addBinding({key:me.keys.BACKSPACE},{collapsed:!1},re),We.addBinding({key:me.keys.DELETE},{collapsed:!1},re),We.addBinding({key:me.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},De),We.listen(),We}return v(me,[{key:"addBinding",value:function(Ze){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Qe=Be(Ze);if(Qe==null||Qe.key==null)return be.warn("Attempted to add invalid keyboard binding",Qe);typeof We=="function"&&(We={handler:We}),typeof tt=="function"&&(tt={handler:tt}),Qe=(0,A.default)(Qe,We,tt),this.bindings[Qe.key]=this.bindings[Qe.key]||[],this.bindings[Qe.key].push(Qe)}},{key:"listen",value:function(){var Ze=this;this.quill.root.addEventListener("keydown",function(We){if(!We.defaultPrevented){var tt=We.which||We.keyCode,Qe=(Ze.bindings[tt]||[]).filter(function(ft){return me.match(We,ft)});if(Qe.length!==0){var at=Ze.quill.getSelection();if(!(at==null||!Ze.quill.hasFocus())){var He=Ze.quill.getLine(at.index),Re=p(He,2),Ve=Re[0],Oe=Re[1],ve=Ze.quill.getLeaf(at.index),se=p(ve,2),xe=se[0],ot=se[1],Xe=at.length===0?[xe,ot]:Ze.quill.getLeaf(at.index+at.length),jt=p(Xe,2),qt=jt[0],vn=jt[1],Kn=xe instanceof P.default.Text?xe.value().slice(0,ot):"",zn=qt instanceof P.default.Text?qt.value().slice(vn):"",fn={collapsed:at.length===0,empty:at.length===0&&Ve.length()<=1,format:Ze.quill.getFormat(at),offset:Oe,prefix:Kn,suffix:zn},oo=Qe.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==fn.collapsed||ft.empty!=null&&ft.empty!==fn.empty||ft.offset!=null&&ft.offset!==fn.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(Tt){return fn.format[Tt]==null}))return!1}else if(d(ft.format)==="object"&&!Object.keys(ft.format).every(function(Tt){return ft.format[Tt]===!0?fn.format[Tt]!=null:ft.format[Tt]===!1?fn.format[Tt]==null:(0,T.default)(ft.format[Tt],fn.format[Tt])}))return!1;return ft.prefix!=null&&!ft.prefix.test(fn.prefix)||ft.suffix!=null&&!ft.suffix.test(fn.suffix)?!1:ft.handler.call(Ze,at,fn)!==!0});oo&&We.preventDefault()}}}})}}]),me}(ke.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:ce("bold"),italic:ce("italic"),underline:ce("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(me,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",z.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(me,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",z.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(me,q){q.format.indent!=null?this.quill.format("indent","-1",z.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,z.default.sources.USER)}},"indent code-block":fe(!0),"outdent code-block":fe(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(me){this.quill.deleteText(me.index-1,1,z.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(me){this.quill.history.cutoff();var q=new N.default().retain(me.index).delete(me.length).insert("	");this.quill.updateContents(q,z.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(me.index+1,z.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(me,q){this.quill.format("list",!1,z.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,z.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(me){var q=this.quill.getLine(me.index),Ze=p(q,2),We=Ze[0],tt=Ze[1],Qe=(0,A.default)({},We.formats(),{list:"checked"}),at=new N.default().retain(me.index).insert(`
`,Qe).retain(We.length()-tt-1).retain(1,{list:"unchecked"});this.quill.updateContents(at,z.default.sources.USER),this.quill.setSelection(me.index+1,z.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(me,q){var Ze=this.quill.getLine(me.index),We=p(Ze,2),tt=We[0],Qe=We[1],at=new N.default().retain(me.index).insert(`
`,q.format).retain(tt.length()-Qe-1).retain(1,{header:null});this.quill.updateContents(at,z.default.sources.USER),this.quill.setSelection(me.index+1,z.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(me,q){var Ze=q.prefix.length,We=this.quill.getLine(me.index),tt=p(We,2),Qe=tt[0],at=tt[1];if(at>Ze)return!0;var He=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":He="unchecked";break;case"[x]":He="checked";break;case"-":case"*":He="bullet";break;default:He="ordered"}this.quill.insertText(me.index," ",z.default.sources.USER),this.quill.history.cutoff();var Re=new N.default().retain(me.index-at).delete(Ze+1).retain(Qe.length()-2-at).retain(1,{list:He});this.quill.updateContents(Re,z.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(me.index-Ze,z.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(me){var q=this.quill.getLine(me.index),Ze=p(q,2),We=Ze[0],tt=Ze[1],Qe=new N.default().retain(me.index+We.length()-tt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Qe,z.default.sources.USER)}},"embed left":Fe(U.keys.LEFT,!1),"embed left shift":Fe(U.keys.LEFT,!0),"embed right":Fe(U.keys.RIGHT,!1),"embed right shift":Fe(U.keys.RIGHT,!0)}};function Fe(Ce,me){var q,Ze=Ce===U.keys.LEFT?"prefix":"suffix";return q={key:Ce,shiftKey:me,altKey:null},Q(q,Ze,/^$/),Q(q,"handler",function(tt){var Qe=tt.index;Ce===U.keys.RIGHT&&(Qe+=tt.length+1);var at=this.quill.getLeaf(Qe),He=p(at,1),Re=He[0];return Re instanceof P.default.Embed?(Ce===U.keys.LEFT?me?this.quill.setSelection(tt.index-1,tt.length+1,z.default.sources.USER):this.quill.setSelection(tt.index-1,z.default.sources.USER):me?this.quill.setSelection(tt.index,tt.length+1,z.default.sources.USER):this.quill.setSelection(tt.index+tt.length+1,z.default.sources.USER),!1):!0}),q}function De(Ce,me){if(!(Ce.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(Ce.index),Ze=p(q,1),We=Ze[0],tt={};if(me.offset===0){var Qe=this.quill.getLine(Ce.index-1),at=p(Qe,1),He=at[0];if(He!=null&&He.length()>1){var Re=We.formats(),Ve=this.quill.getFormat(Ce.index-1,1);tt=B.default.attributes.diff(Re,Ve)||{}}}var Oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(me.prefix)?2:1;this.quill.deleteText(Ce.index-Oe,Oe,z.default.sources.USER),Object.keys(tt).length>0&&this.quill.formatLine(Ce.index-Oe,Oe,tt,z.default.sources.USER),this.quill.focus()}}function Se(Ce,me){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(me.suffix)?2:1;if(!(Ce.index>=this.quill.getLength()-q)){var Ze={},We=0,tt=this.quill.getLine(Ce.index),Qe=p(tt,1),at=Qe[0];if(me.offset>=at.length()-1){var He=this.quill.getLine(Ce.index+1),Re=p(He,1),Ve=Re[0];if(Ve){var Oe=at.formats(),ve=this.quill.getFormat(Ce.index,1);Ze=B.default.attributes.diff(Oe,ve)||{},We=Ve.length()}}this.quill.deleteText(Ce.index,q,z.default.sources.USER),Object.keys(Ze).length>0&&this.quill.formatLine(Ce.index+We-1,q,Ze,z.default.sources.USER)}}function re(Ce){var me=this.quill.getLines(Ce),q={};if(me.length>1){var Ze=me[0].formats(),We=me[me.length-1].formats();q=B.default.attributes.diff(We,Ze)||{}}this.quill.deleteText(Ce,z.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(Ce.index,1,q,z.default.sources.USER),this.quill.setSelection(Ce.index,z.default.sources.SILENT),this.quill.focus()}function le(Ce,me){var q=this;Ce.length>0&&this.quill.scroll.deleteAt(Ce.index,Ce.length);var Ze=Object.keys(me.format).reduce(function(We,tt){return P.default.query(tt,P.default.Scope.BLOCK)&&!Array.isArray(me.format[tt])&&(We[tt]=me.format[tt]),We},{});this.quill.insertText(Ce.index,`
`,Ze,z.default.sources.USER),this.quill.setSelection(Ce.index+1,z.default.sources.SILENT),this.quill.focus(),Object.keys(me.format).forEach(function(We){Ze[We]==null&&(Array.isArray(me.format[We])||We!=="link"&&q.quill.format(We,me.format[We],z.default.sources.USER))})}function fe(Ce){return{key:U.keys.TAB,shiftKey:!Ce,format:{"code-block":!0},handler:function(q){var Ze=P.default.query("code-block"),We=q.index,tt=q.length,Qe=this.quill.scroll.descendant(Ze,We),at=p(Qe,2),He=at[0],Re=at[1];if(He!=null){var Ve=this.quill.getIndex(He),Oe=He.newlineIndex(Re,!0)+1,ve=He.newlineIndex(Ve+Re+tt),se=He.domNode.textContent.slice(Oe,ve).split(`
`);Re=0,se.forEach(function(xe,ot){Ce?(He.insertAt(Oe+Re,Ze.TAB),Re+=Ze.TAB.length,ot===0?We+=Ze.TAB.length:tt+=Ze.TAB.length):xe.startsWith(Ze.TAB)&&(He.deleteAt(Oe+Re,Ze.TAB.length),Re-=Ze.TAB.length,ot===0?We-=Ze.TAB.length:tt-=Ze.TAB.length),Re+=xe.length+1}),this.quill.update(z.default.sources.USER),this.quill.setSelection(We,tt,z.default.sources.SILENT)}}}}function ce(Ce){return{key:Ce[0].toUpperCase(),shortKey:!0,handler:function(q,Ze){this.quill.format(Ce,!Ze.format[Ce],z.default.sources.USER)}}}function Be(Ce){if(typeof Ce=="string"||typeof Ce=="number")return Be({key:Ce});if((typeof Ce>"u"?"undefined":d(Ce))==="object"&&(Ce=(0,S.default)(Ce,!1)),typeof Ce.key=="string")if(U.keys[Ce.key.toUpperCase()]!=null)Ce.key=U.keys[Ce.key.toUpperCase()];else if(Ce.key.length===1)Ce.key=Ce.key.toUpperCase().charCodeAt(0);else return null;return Ce.shortKey&&(Ce[qe]=Ce.shortKey,delete Ce.shortKey),Ce}l.default=U,l.SHORTKEY=qe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function B(O,P){var I=[],z=!0,K=!1,j=void 0;try{for(var oe=O[Symbol.iterator](),ke;!(z=(ke=oe.next()).done)&&(I.push(ke.value),!(P&&I.length===P));z=!0);}catch(ae){K=!0,j=ae}finally{try{!z&&oe.return&&oe.return()}finally{if(K)throw j}}return I}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return B(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function B(O,P,I){O===null&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,P);if(z===void 0){var K=Object.getPrototypeOf(O);return K===null?void 0:B(K,P,I)}else{if("value"in z)return z.value;var j=z.get;return j===void 0?void 0:j.call(I)}},v=function(){function B(O,P){for(var I=0;I<P.length;I++){var z=P[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,P,I){return P&&B(O.prototype,P),I&&B(O,I),O}}(),y=c(0),S=k(y),x=c(7),T=k(x);function k(B){return B&&B.__esModule?B:{default:B}}function A(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function F(B,O){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:B}function N(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(B,O):B.__proto__=O)}var D=function(B){N(O,B),v(O,null,[{key:"value",value:function(){}}]);function O(P,I){A(this,O);var z=F(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return z.selection=I,z.textNode=document.createTextNode(O.CONTENTS),z.domNode.appendChild(z.textNode),z._length=0,z}return v(O,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(I,z){if(this._length!==0)return p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,I,z);for(var K=this,j=0;K!=null&&K.statics.scope!==S.default.Scope.BLOCK_BLOT;)j+=K.offset(K.parent),K=K.parent;K!=null&&(this._length=O.CONTENTS.length,K.optimize(),K.formatAt(j,O.CONTENTS.length,I,z),this._length=0)}},{key:"index",value:function(I,z){return I===this.textNode?0:p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"index",this).call(this,I,z)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var I=this.textNode,z=this.selection.getNativeRange(),K=void 0,j=void 0,oe=void 0;if(z!=null&&z.start.node===I&&z.end.node===I){var ke=[I,z.start.offset,z.end.offset];K=ke[0],j=ke[1],oe=ke[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==O.CONTENTS){var ae=this.textNode.data.split(O.CONTENTS).join("");this.next instanceof T.default?(K=this.next.domNode,this.next.insertAt(0,ae),this.textNode.data=O.CONTENTS):(this.textNode.data=ae,this.parent.insertBefore(S.default.create(this.textNode),this),this.textNode=document.createTextNode(O.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var Q=[j,oe].map(function(ue){return Math.max(0,Math.min(K.data.length,ue-1))}),G=d(Q,2);return j=G[0],oe=G[1],{startNode:K,startOffset:j,endNode:K,endOffset:oe}}}}},{key:"update",value:function(I,z){var K=this;if(I.some(function(oe){return oe.type==="characterData"&&oe.target===K.textNode})){var j=this.restore();j&&(z.range=j)}}},{key:"value",value:function(){return""}}]),O}(S.default.Embed);D.blotName="cursor",D.className="ql-cursor",D.tagName="span",D.CONTENTS="\uFEFF",l.default=D},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),p=S(d),v=c(4),y=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function k(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var A=function(F){k(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(p.default.Container);A.allowedChildren=[y.default,v.BlockEmbed,A],l.default=A},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ColorStyle=l.ColorClass=l.ColorAttributor=void 0;var d=function(){function D(B,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(B,I.key,I)}}return function(B,O,P){return O&&D(B.prototype,O),P&&D(B,P),B}}(),p=function D(B,O,P){B===null&&(B=Function.prototype);var I=Object.getOwnPropertyDescriptor(B,O);if(I===void 0){var z=Object.getPrototypeOf(B);return z===null?void 0:D(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(0),y=S(v);function S(D){return D&&D.__esModule?D:{default:D}}function x(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function T(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function k(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var A=function(D){k(B,D);function B(){return x(this,B),T(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return d(B,[{key:"value",value:function(P){var I=p(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"value",this).call(this,P);return I.startsWith("rgb(")?(I=I.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+I.split(",").map(function(z){return("00"+parseInt(z).toString(16)).slice(-2)}).join("")):I}}]),B}(y.default.Attributor.Style),F=new y.default.Attributor.Class("color","ql-color",{scope:y.default.Scope.INLINE}),N=new A("color","color",{scope:y.default.Scope.INLINE});l.ColorAttributor=A,l.ColorClass=F,l.ColorStyle=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.sanitize=l.default=void 0;var d=function(){function N(D,B){for(var O=0;O<B.length;O++){var P=B[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,B,O){return B&&N(D.prototype,B),O&&N(D,O),D}}(),p=function N(D,B,O){D===null&&(D=Function.prototype);var P=Object.getOwnPropertyDescriptor(D,B);if(P===void 0){var I=Object.getPrototypeOf(D);return I===null?void 0:N(I,B,O)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(O)}},v=c(6),y=S(v);function S(N){return N&&N.__esModule?N:{default:N}}function x(N,D){if(!(N instanceof D))throw new TypeError("Cannot call a class as a function")}function T(N,D){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:N}function k(N,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);N.prototype=Object.create(D&&D.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(N,D):N.__proto__=D)}var A=function(N){k(D,N);function D(){return x(this,D),T(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return d(D,[{key:"format",value:function(O,P){if(O!==this.statics.blotName||!P)return p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,O,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(O){var P=p(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,O);return O=this.sanitize(O),P.setAttribute("href",O),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(O){return O.getAttribute("href")}},{key:"sanitize",value:function(O){return F(O,this.PROTOCOL_WHITELIST)?O:this.SANITIZED_URL}}]),D}(y.default);A.blotName="link",A.tagName="A",A.SANITIZED_URL="about:blank",A.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function F(N,D){var B=document.createElement("a");B.href=N;var O=B.href.slice(0,B.href.indexOf(":"));return D.indexOf(O)>-1}l.default=A,l.sanitize=F},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},p=function(){function D(B,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(B,I.key,I)}}return function(B,O,P){return O&&D(B.prototype,O),P&&D(B,P),B}}(),v=c(23),y=T(v),S=c(107),x=T(S);function T(D){return D&&D.__esModule?D:{default:D}}function k(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}var A=0;function F(D,B){D.setAttribute(B,D.getAttribute(B)!=="true")}var N=function(){function D(B){var O=this;k(this,D),this.select=B,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){O.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case y.default.keys.ENTER:O.togglePicker();break;case y.default.keys.ESCAPE:O.escape(),P.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return p(D,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),F(this.label,"aria-expanded"),F(this.options,"aria-hidden")}},{key:"buildItem",value:function(O){var P=this,I=document.createElement("span");return I.tabIndex="0",I.setAttribute("role","button"),I.classList.add("ql-picker-item"),O.hasAttribute("value")&&I.setAttribute("data-value",O.getAttribute("value")),O.textContent&&I.setAttribute("data-label",O.textContent),I.addEventListener("click",function(){P.selectItem(I,!0)}),I.addEventListener("keydown",function(z){switch(z.keyCode){case y.default.keys.ENTER:P.selectItem(I,!0),z.preventDefault();break;case y.default.keys.ESCAPE:P.escape(),z.preventDefault();break}}),I}},{key:"buildLabel",value:function(){var O=document.createElement("span");return O.classList.add("ql-picker-label"),O.innerHTML=x.default,O.tabIndex="0",O.setAttribute("role","button"),O.setAttribute("aria-expanded","false"),this.container.appendChild(O),O}},{key:"buildOptions",value:function(){var O=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+A,A+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(I){var z=O.buildItem(I);P.appendChild(z),I.selected===!0&&O.selectItem(z)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var O=this;[].slice.call(this.select.attributes).forEach(function(P){O.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var O=this;this.close(),setTimeout(function(){return O.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=this.container.querySelector(".ql-selected");if(O!==I&&(I!=null&&I.classList.remove("ql-selected"),O!=null&&(O.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(O.parentNode.children,O),O.hasAttribute("data-value")?this.label.setAttribute("data-value",O.getAttribute("data-value")):this.label.removeAttribute("data-value"),O.hasAttribute("data-label")?this.label.setAttribute("data-label",O.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":d(Event))==="object"){var z=document.createEvent("Event");z.initEvent("change",!0,!0),this.select.dispatchEvent(z)}this.close()}}},{key:"update",value:function(){var O=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];O=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var I=O!=null&&O!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",I)}}]),D}();l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),p=be(d),v=c(5),y=be(v),S=c(4),x=be(S),T=c(16),k=be(T),A=c(25),F=be(A),N=c(24),D=be(N),B=c(35),O=be(B),P=c(6),I=be(P),z=c(22),K=be(z),j=c(7),oe=be(j),ke=c(55),ae=be(ke),Q=c(42),G=be(Q),ue=c(23),pe=be(ue);function be(qe){return qe&&qe.__esModule?qe:{default:qe}}y.default.register({"blots/block":x.default,"blots/block/embed":S.BlockEmbed,"blots/break":k.default,"blots/container":F.default,"blots/cursor":D.default,"blots/embed":O.default,"blots/inline":I.default,"blots/scroll":K.default,"blots/text":oe.default,"modules/clipboard":ae.default,"modules/history":G.default,"modules/keyboard":pe.default}),p.default.register(x.default,k.default,D.default,I.default,K.default,oe.default),l.default=y.default},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(1),p=function(){function v(y){this.domNode=y,this.domNode[d.DATA_KEY]={blot:this}}return Object.defineProperty(v.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),v.create=function(y){if(this.tagName==null)throw new d.ParchmentError("Blot definition missing tagName");var S;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),typeof y=="number"?S=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?S=document.createElement(y):S=document.createElement(this.tagName[0])):S=document.createElement(this.tagName),this.className&&S.classList.add(this.className),S},v.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},v.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return d.create(y)},v.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[d.DATA_KEY]},v.prototype.deleteAt=function(y,S){var x=this.isolate(y,S);x.remove()},v.prototype.formatAt=function(y,S,x,T){var k=this.isolate(y,S);if(d.query(x,d.Scope.BLOT)!=null&&T)k.wrap(x,T);else if(d.query(x,d.Scope.ATTRIBUTE)!=null){var A=d.create(this.statics.scope);k.wrap(A),A.format(x,T)}},v.prototype.insertAt=function(y,S,x){var T=x==null?d.create("text",S):d.create(S,x),k=this.split(y);this.parent.insertBefore(T,k)},v.prototype.insertInto=function(y,S){S===void 0&&(S=null),this.parent!=null&&this.parent.children.remove(this);var x=null;y.children.insertBefore(this,S),S!=null&&(x=S.domNode),(this.domNode.parentNode!=y.domNode||this.domNode.nextSibling!=x)&&y.domNode.insertBefore(this.domNode,x),this.parent=y,this.attach()},v.prototype.isolate=function(y,S){var x=this.split(y);return x.split(S),x},v.prototype.length=function(){return 1},v.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},v.prototype.optimize=function(y){this.domNode[d.DATA_KEY]!=null&&delete this.domNode[d.DATA_KEY].mutations},v.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},v.prototype.replace=function(y){y.parent!=null&&(y.parent.insertBefore(this,y.next),y.remove())},v.prototype.replaceWith=function(y,S){var x=typeof y=="string"?d.create(y,S):y;return x.replace(this),x},v.prototype.split=function(y,S){return y===0?this:this.next},v.prototype.update=function(y,S){},v.prototype.wrap=function(y,S){var x=typeof y=="string"?d.create(y,S):y;return this.parent!=null&&this.parent.insertBefore(x,this.next),x.appendChild(this),x},v.blotName="abstract",v}();l.default=p},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(12),p=c(32),v=c(33),y=c(1),S=function(){function x(T){this.attributes={},this.domNode=T,this.build()}return x.prototype.attribute=function(T,k){k?T.add(this.domNode,k)&&(T.value(this.domNode)!=null?this.attributes[T.attrName]=T:delete this.attributes[T.attrName]):(T.remove(this.domNode),delete this.attributes[T.attrName])},x.prototype.build=function(){var T=this;this.attributes={};var k=d.default.keys(this.domNode),A=p.default.keys(this.domNode),F=v.default.keys(this.domNode);k.concat(A).concat(F).forEach(function(N){var D=y.query(N,y.Scope.ATTRIBUTE);D instanceof d.default&&(T.attributes[D.attrName]=D)})},x.prototype.copy=function(T){var k=this;Object.keys(this.attributes).forEach(function(A){var F=k.attributes[A].value(k.domNode);T.format(A,F)})},x.prototype.move=function(T){var k=this;this.copy(T),Object.keys(this.attributes).forEach(function(A){k.attributes[A].remove(k.domNode)}),this.attributes={}},x.prototype.values=function(){var T=this;return Object.keys(this.attributes).reduce(function(k,A){return k[A]=T.attributes[A].value(T.domNode),k},{})},x}();l.default=S},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var k in T)T.hasOwnProperty(k)&&(x[k]=T[k])};return function(x,T){S(x,T);function k(){this.constructor=x}x.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(12);function v(S,x){var T=S.getAttribute("class")||"";return T.split(/\s+/).filter(function(k){return k.indexOf(x+"-")===0})}var y=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.keys=function(T){return(T.getAttribute("class")||"").split(/\s+/).map(function(k){return k.split("-").slice(0,-1).join("-")})},x.prototype.add=function(T,k){return this.canAdd(T,k)?(this.remove(T),T.classList.add(this.keyName+"-"+k),!0):!1},x.prototype.remove=function(T){var k=v(T,this.keyName);k.forEach(function(A){T.classList.remove(A)}),T.classList.length===0&&T.removeAttribute("class")},x.prototype.value=function(T){var k=v(T,this.keyName)[0]||"",A=k.slice(this.keyName.length+1);return this.canAdd(T,A)?A:""},x}(p.default);l.default=y},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var k in T)T.hasOwnProperty(k)&&(x[k]=T[k])};return function(x,T){S(x,T);function k(){this.constructor=x}x.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(12);function v(S){var x=S.split("-"),T=x.slice(1).map(function(k){return k[0].toUpperCase()+k.slice(1)}).join("");return x[0]+T}var y=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.keys=function(T){return(T.getAttribute("style")||"").split(";").map(function(k){var A=k.split(":");return A[0].trim()})},x.prototype.add=function(T,k){return this.canAdd(T,k)?(T.style[v(this.keyName)]=k,!0):!1},x.prototype.remove=function(T){T.style[v(this.keyName)]="",T.getAttribute("style")||T.removeAttribute("style")},x.prototype.value=function(T){var k=T.style[v(this.keyName)];return this.canAdd(T,k)?k:""},x}(p.default);l.default=y},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function y(S,x){for(var T=0;T<x.length;T++){var k=x[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,x,T){return x&&y(S.prototype,x),T&&y(S,T),S}}();function p(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}var v=function(){function y(S,x){p(this,y),this.quill=S,this.options=x,this.modules={}}return d(y,[{key:"init",value:function(){var x=this;Object.keys(this.options.modules).forEach(function(T){x.modules[T]==null&&x.addModule(T)})}},{key:"addModule",value:function(x){var T=this.quill.constructor.import("modules/"+x);return this.modules[x]=new T(this.quill,this.options.modules[x]||{}),this.modules[x]}}]),y}();v.DEFAULTS={modules:{}},v.themes={default:v},l.default=v},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function B(O,P){for(var I=0;I<P.length;I++){var z=P[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,P,I){return P&&B(O.prototype,P),I&&B(O,I),O}}(),p=function B(O,P,I){O===null&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,P);if(z===void 0){var K=Object.getPrototypeOf(O);return K===null?void 0:B(K,P,I)}else{if("value"in z)return z.value;var j=z.get;return j===void 0?void 0:j.call(I)}},v=c(0),y=T(v),S=c(7),x=T(S);function T(B){return B&&B.__esModule?B:{default:B}}function k(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function A(B,O){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:B}function F(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(B,O):B.__proto__=O)}var N="\uFEFF",D=function(B){F(O,B);function O(P){k(this,O);var I=A(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return I.contentNode=document.createElement("span"),I.contentNode.setAttribute("contenteditable",!1),[].slice.call(I.domNode.childNodes).forEach(function(z){I.contentNode.appendChild(z)}),I.leftGuard=document.createTextNode(N),I.rightGuard=document.createTextNode(N),I.domNode.appendChild(I.leftGuard),I.domNode.appendChild(I.contentNode),I.domNode.appendChild(I.rightGuard),I}return d(O,[{key:"index",value:function(I,z){return I===this.leftGuard?0:I===this.rightGuard?1:p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"index",this).call(this,I,z)}},{key:"restore",value:function(I){var z=void 0,K=void 0,j=I.data.split(N).join("");if(I===this.leftGuard)if(this.prev instanceof x.default){var oe=this.prev.length();this.prev.insertAt(oe,j),z={startNode:this.prev.domNode,startOffset:oe+j.length}}else K=document.createTextNode(j),this.parent.insertBefore(y.default.create(K),this),z={startNode:K,startOffset:j.length};else I===this.rightGuard&&(this.next instanceof x.default?(this.next.insertAt(0,j),z={startNode:this.next.domNode,startOffset:j.length}):(K=document.createTextNode(j),this.parent.insertBefore(y.default.create(K),this.next),z={startNode:K,startOffset:j.length}));return I.data=N,z}},{key:"update",value:function(I,z){var K=this;I.forEach(function(j){if(j.type==="characterData"&&(j.target===K.leftGuard||j.target===K.rightGuard)){var oe=K.restore(j.target);oe&&(z.range=oe)}})}}]),O}(y.default.Embed);l.default=D},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.AlignStyle=l.AlignClass=l.AlignAttribute=void 0;var d=c(0),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}var y={scope:p.default.Scope.BLOCK,whitelist:["right","center","justify"]},S=new p.default.Attributor.Attribute("align","align",y),x=new p.default.Attributor.Class("align","ql-align",y),T=new p.default.Attributor.Style("align","text-align",y);l.AlignAttribute=S,l.AlignClass=x,l.AlignStyle=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundStyle=l.BackgroundClass=void 0;var d=c(0),p=y(d),v=c(26);function y(T){return T&&T.__esModule?T:{default:T}}var S=new p.default.Attributor.Class("background","ql-bg",{scope:p.default.Scope.INLINE}),x=new v.ColorAttributor("background","background-color",{scope:p.default.Scope.INLINE});l.BackgroundClass=S,l.BackgroundStyle=x},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.DirectionStyle=l.DirectionClass=l.DirectionAttribute=void 0;var d=c(0),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}var y={scope:p.default.Scope.BLOCK,whitelist:["rtl"]},S=new p.default.Attributor.Attribute("direction","dir",y),x=new p.default.Attributor.Class("direction","ql-direction",y),T=new p.default.Attributor.Style("direction","direction",y);l.DirectionAttribute=S,l.DirectionClass=x,l.DirectionStyle=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.FontClass=l.FontStyle=void 0;var d=function(){function B(O,P){for(var I=0;I<P.length;I++){var z=P[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,P,I){return P&&B(O.prototype,P),I&&B(O,I),O}}(),p=function B(O,P,I){O===null&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,P);if(z===void 0){var K=Object.getPrototypeOf(O);return K===null?void 0:B(K,P,I)}else{if("value"in z)return z.value;var j=z.get;return j===void 0?void 0:j.call(I)}},v=c(0),y=S(v);function S(B){return B&&B.__esModule?B:{default:B}}function x(B,O){if(!(B instanceof O))throw new TypeError("Cannot call a class as a function")}function T(B,O){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:B}function k(B,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);B.prototype=Object.create(O&&O.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(B,O):B.__proto__=O)}var A={scope:y.default.Scope.INLINE,whitelist:["serif","monospace"]},F=new y.default.Attributor.Class("font","ql-font",A),N=function(B){k(O,B);function O(){return x(this,O),T(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return d(O,[{key:"value",value:function(I){return p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"value",this).call(this,I).replace(/["']/g,"")}}]),O}(y.default.Attributor.Style),D=new N("font","font-family",A);l.FontStyle=D,l.FontClass=F},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.SizeStyle=l.SizeClass=void 0;var d=c(0),p=v(d);function v(x){return x&&x.__esModule?x:{default:x}}var y=new p.default.Attributor.Class("size","ql-size",{scope:p.default.Scope.INLINE,whitelist:["small","large","huge"]}),S=new p.default.Attributor.Style("size","font-size",{scope:p.default.Scope.INLINE,whitelist:["10px","18px","32px"]});l.SizeClass=y,l.SizeStyle=S},function(s,l,c){s.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{1:c(92),2:c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.getLastChangeIndex=l.default=void 0;var d=function(){function P(I,z){for(var K=0;K<z.length;K++){var j=z[K];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,z,K){return z&&P(I.prototype,z),K&&P(I,K),I}}(),p=c(0),v=k(p),y=c(5),S=k(y),x=c(9),T=k(x);function k(P){return P&&P.__esModule?P:{default:P}}function A(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function F(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function N(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var D=function(P){N(I,P);function I(z,K){A(this,I);var j=F(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,z,K));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(S.default.events.EDITOR_CHANGE,function(oe,ke,ae,Q){oe!==S.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||Q===S.default.sources.USER?j.record(ke,ae):j.transform(ke))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return d(I,[{key:"change",value:function(K,j){if(this.stack[K].length!==0){var oe=this.stack[K].pop();this.stack[j].push(oe),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(oe[K],S.default.sources.USER),this.ignoreChange=!1;var ke=O(oe[K]);this.quill.setSelection(ke)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(K,j){if(K.ops.length!==0){this.stack.redo=[];var oe=this.quill.getContents().diff(j),ke=Date.now();if(this.lastRecorded+this.options.delay>ke&&this.stack.undo.length>0){var ae=this.stack.undo.pop();oe=oe.compose(ae.undo),K=ae.redo.compose(K)}else this.lastRecorded=ke;this.stack.undo.push({redo:K,undo:oe}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(K){this.stack.undo.forEach(function(j){j.undo=K.transform(j.undo,!0),j.redo=K.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=K.transform(j.undo,!0),j.redo=K.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),I}(T.default);D.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function B(P){var I=P.ops[P.ops.length-1];return I==null?!1:I.insert!=null?typeof I.insert=="string"&&I.insert.endsWith(`
`):I.attributes!=null?Object.keys(I.attributes).some(function(z){return v.default.query(z,v.default.Scope.BLOCK)!=null}):!1}function O(P){var I=P.reduce(function(K,j){return K+=j.delete||0,K},0),z=P.length()-I;return B(P)&&(z-=1),z}l.default=D,l.getLastChangeIndex=O},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.BaseTooltip=void 0;var d=function(){function le(fe,ce){for(var Be=0;Be<ce.length;Be++){var Ce=ce[Be];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(fe,Ce.key,Ce)}}return function(fe,ce,Be){return ce&&le(fe.prototype,ce),Be&&le(fe,Be),fe}}(),p=function le(fe,ce,Be){fe===null&&(fe=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(fe,ce);if(Ce===void 0){var me=Object.getPrototypeOf(fe);return me===null?void 0:le(me,ce,Be)}else{if("value"in Ce)return Ce.value;var q=Ce.get;return q===void 0?void 0:q.call(Be)}},v=c(3),y=ke(v),S=c(2),x=ke(S),T=c(8),k=ke(T),A=c(23),F=ke(A),N=c(34),D=ke(N),B=c(59),O=ke(B),P=c(60),I=ke(P),z=c(28),K=ke(z),j=c(61),oe=ke(j);function ke(le){return le&&le.__esModule?le:{default:le}}function ae(le,fe){if(!(le instanceof fe))throw new TypeError("Cannot call a class as a function")}function Q(le,fe){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:le}function G(le,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);le.prototype=Object.create(fe&&fe.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(le,fe):le.__proto__=fe)}var ue=[!1,"center","right","justify"],pe=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],be=[!1,"serif","monospace"],qe=["1","2","3",!1],U=["small",!1,"large","huge"],Fe=function(le){G(fe,le);function fe(ce,Be){ae(this,fe);var Ce=Q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,ce,Be)),me=function q(Ze){if(!document.body.contains(ce.root))return document.body.removeEventListener("click",q);Ce.tooltip!=null&&!Ce.tooltip.root.contains(Ze.target)&&document.activeElement!==Ce.tooltip.textbox&&!Ce.quill.hasFocus()&&Ce.tooltip.hide(),Ce.pickers!=null&&Ce.pickers.forEach(function(We){We.container.contains(Ze.target)||We.close()})};return ce.emitter.listenDOM("click",document.body,me),Ce}return d(fe,[{key:"addModule",value:function(Be){var Ce=p(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"addModule",this).call(this,Be);return Be==="toolbar"&&this.extendToolbar(Ce),Ce}},{key:"buildButtons",value:function(Be,Ce){Be.forEach(function(me){var q=me.getAttribute("class")||"";q.split(/\s+/).forEach(function(Ze){if(!!Ze.startsWith("ql-")&&(Ze=Ze.slice(3),Ce[Ze]!=null))if(Ze==="direction")me.innerHTML=Ce[Ze][""]+Ce[Ze].rtl;else if(typeof Ce[Ze]=="string")me.innerHTML=Ce[Ze];else{var We=me.value||"";We!=null&&Ce[Ze][We]&&(me.innerHTML=Ce[Ze][We])}})})}},{key:"buildPickers",value:function(Be,Ce){var me=this;this.pickers=Be.map(function(Ze){if(Ze.classList.contains("ql-align"))return Ze.querySelector("option")==null&&re(Ze,ue),new I.default(Ze,Ce.align);if(Ze.classList.contains("ql-background")||Ze.classList.contains("ql-color")){var We=Ze.classList.contains("ql-background")?"background":"color";return Ze.querySelector("option")==null&&re(Ze,pe,We==="background"?"#ffffff":"#000000"),new O.default(Ze,Ce[We])}else return Ze.querySelector("option")==null&&(Ze.classList.contains("ql-font")?re(Ze,be):Ze.classList.contains("ql-header")?re(Ze,qe):Ze.classList.contains("ql-size")&&re(Ze,U)),new K.default(Ze)});var q=function(){me.pickers.forEach(function(We){We.update()})};this.quill.on(k.default.events.EDITOR_CHANGE,q)}}]),fe}(D.default);Fe.DEFAULTS=(0,y.default)(!0,{},D.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var fe=this,ce=this.container.querySelector("input.ql-image[type=file]");ce==null&&(ce=document.createElement("input"),ce.setAttribute("type","file"),ce.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ce.classList.add("ql-image"),ce.addEventListener("change",function(){if(ce.files!=null&&ce.files[0]!=null){var Be=new FileReader;Be.onload=function(Ce){var me=fe.quill.getSelection(!0);fe.quill.updateContents(new x.default().retain(me.index).delete(me.length).insert({image:Ce.target.result}),k.default.sources.USER),fe.quill.setSelection(me.index+1,k.default.sources.SILENT),ce.value=""},Be.readAsDataURL(ce.files[0])}}),this.container.appendChild(ce)),ce.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var De=function(le){G(fe,le);function fe(ce,Be){ae(this,fe);var Ce=Q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,ce,Be));return Ce.textbox=Ce.root.querySelector('input[type="text"]'),Ce.listen(),Ce}return d(fe,[{key:"listen",value:function(){var Be=this;this.textbox.addEventListener("keydown",function(Ce){F.default.match(Ce,"enter")?(Be.save(),Ce.preventDefault()):F.default.match(Ce,"escape")&&(Be.cancel(),Ce.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Ce!=null?this.textbox.value=Ce:Be!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Be)||""),this.root.setAttribute("data-mode",Be)}},{key:"restoreFocus",value:function(){var Be=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Be}},{key:"save",value:function(){var Be=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Ce=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Be,k.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Be,k.default.sources.USER)),this.quill.root.scrollTop=Ce;break}case"video":Be=Se(Be);case"formula":{if(!Be)break;var me=this.quill.getSelection(!0);if(me!=null){var q=me.index+me.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),Be,k.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",k.default.sources.USER),this.quill.setSelection(q+2,k.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),fe}(oe.default);function Se(le){var fe=le.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||le.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return fe?(fe[1]||"https")+"://www.youtube.com/embed/"+fe[2]+"?showinfo=0":(fe=le.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(fe[1]||"https")+"://player.vimeo.com/video/"+fe[2]+"/":le}function re(le,fe){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;fe.forEach(function(Be){var Ce=document.createElement("option");Be===ce?Ce.setAttribute("selected","selected"):Ce.setAttribute("value",Be),le.appendChild(Ce)})}l.BaseTooltip=De,l.default=Fe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function p(){this.head=this.tail=null,this.length=0}return p.prototype.append=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];this.insertBefore(v[0],null),v.length>1&&this.append.apply(this,v.slice(1))},p.prototype.contains=function(v){for(var y,S=this.iterator();y=S();)if(y===v)return!0;return!1},p.prototype.insertBefore=function(v,y){!v||(v.next=y,y!=null?(v.prev=y.prev,y.prev!=null&&(y.prev.next=v),y.prev=v,y===this.head&&(this.head=v)):this.tail!=null?(this.tail.next=v,v.prev=this.tail,this.tail=v):(v.prev=null,this.head=this.tail=v),this.length+=1)},p.prototype.offset=function(v){for(var y=0,S=this.head;S!=null;){if(S===v)return y;y+=S.length(),S=S.next}return-1},p.prototype.remove=function(v){!this.contains(v)||(v.prev!=null&&(v.prev.next=v.next),v.next!=null&&(v.next.prev=v.prev),v===this.head&&(this.head=v.next),v===this.tail&&(this.tail=v.prev),this.length-=1)},p.prototype.iterator=function(v){return v===void 0&&(v=this.head),function(){var y=v;return v!=null&&(v=v.next),y}},p.prototype.find=function(v,y){y===void 0&&(y=!1);for(var S,x=this.iterator();S=x();){var T=S.length();if(v<T||y&&v===T&&(S.next==null||S.next.length()!==0))return[S,v];v-=T}return[null,0]},p.prototype.forEach=function(v){for(var y,S=this.iterator();y=S();)v(y)},p.prototype.forEachAt=function(v,y,S){if(!(y<=0))for(var x=this.find(v),T=x[0],k=x[1],A,F=v-k,N=this.iterator(T);(A=N())&&F<v+y;){var D=A.length();v>F?S(A,v-F,Math.min(y,F+D-v)):S(A,0,Math.min(D,v+y-F)),F+=D}},p.prototype.map=function(v){return this.reduce(function(y,S){return y.push(v(S)),y},[])},p.prototype.reduce=function(v,y){for(var S,x=this.iterator();S=x();)y=v(y,S);return y},p}();l.default=d},function(s,l,c){var d=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var F in A)A.hasOwnProperty(F)&&(k[F]=A[F])};return function(k,A){T(k,A);function F(){this.constructor=k}k.prototype=A===null?Object.create(A):(F.prototype=A.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(17),v=c(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},S=100,x=function(T){d(k,T);function k(A){var F=T.call(this,A)||this;return F.scroll=F,F.observer=new MutationObserver(function(N){F.update(N)}),F.observer.observe(F.domNode,y),F.attach(),F}return k.prototype.detach=function(){T.prototype.detach.call(this),this.observer.disconnect()},k.prototype.deleteAt=function(A,F){this.update(),A===0&&F===this.length()?this.children.forEach(function(N){N.remove()}):T.prototype.deleteAt.call(this,A,F)},k.prototype.formatAt=function(A,F,N,D){this.update(),T.prototype.formatAt.call(this,A,F,N,D)},k.prototype.insertAt=function(A,F,N){this.update(),T.prototype.insertAt.call(this,A,F,N)},k.prototype.optimize=function(A,F){var N=this;A===void 0&&(A=[]),F===void 0&&(F={}),T.prototype.optimize.call(this,F);for(var D=[].slice.call(this.observer.takeRecords());D.length>0;)A.push(D.pop());for(var B=function(z,K){K===void 0&&(K=!0),!(z==null||z===N)&&z.domNode.parentNode!=null&&(z.domNode[v.DATA_KEY].mutations==null&&(z.domNode[v.DATA_KEY].mutations=[]),K&&B(z.parent))},O=function(z){z.domNode[v.DATA_KEY]==null||z.domNode[v.DATA_KEY].mutations==null||(z instanceof p.default&&z.children.forEach(O),z.optimize(F))},P=A,I=0;P.length>0;I+=1){if(I>=S)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(z){var K=v.find(z.target,!0);K!=null&&(K.domNode===z.target&&(z.type==="childList"?(B(v.find(z.previousSibling,!1)),[].forEach.call(z.addedNodes,function(j){var oe=v.find(j,!1);B(oe,!1),oe instanceof p.default&&oe.children.forEach(function(ke){B(ke,!1)})})):z.type==="attributes"&&B(K.prev)),B(K))}),this.children.forEach(O),P=[].slice.call(this.observer.takeRecords()),D=P.slice();D.length>0;)A.push(D.pop())}},k.prototype.update=function(A,F){var N=this;F===void 0&&(F={}),A=A||this.observer.takeRecords(),A.map(function(D){var B=v.find(D.target,!0);return B==null?null:B.domNode[v.DATA_KEY].mutations==null?(B.domNode[v.DATA_KEY].mutations=[D],B):(B.domNode[v.DATA_KEY].mutations.push(D),null)}).forEach(function(D){D==null||D===N||D.domNode[v.DATA_KEY]==null||D.update(D.domNode[v.DATA_KEY].mutations||[],F)}),this.domNode[v.DATA_KEY].mutations!=null&&T.prototype.update.call(this,this.domNode[v.DATA_KEY].mutations,F),this.optimize(A,F)},k.blotName="scroll",k.defaultChild="block",k.scope=v.Scope.BLOCK_BLOT,k.tagName="DIV",k}(p.default);l.default=x},function(s,l,c){var d=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,k){T.__proto__=k}||function(T,k){for(var A in k)k.hasOwnProperty(A)&&(T[A]=k[A])};return function(T,k){x(T,k);function A(){this.constructor=T}T.prototype=k===null?Object.create(k):(A.prototype=k.prototype,new A)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(18),v=c(1);function y(x,T){if(Object.keys(x).length!==Object.keys(T).length)return!1;for(var k in x)if(x[k]!==T[k])return!1;return!0}var S=function(x){d(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T.formats=function(k){if(k.tagName!==T.tagName)return x.formats.call(this,k)},T.prototype.format=function(k,A){var F=this;k===this.statics.blotName&&!A?(this.children.forEach(function(N){N instanceof p.default||(N=N.wrap(T.blotName,!0)),F.attributes.copy(N)}),this.unwrap()):x.prototype.format.call(this,k,A)},T.prototype.formatAt=function(k,A,F,N){if(this.formats()[F]!=null||v.query(F,v.Scope.ATTRIBUTE)){var D=this.isolate(k,A);D.format(F,N)}else x.prototype.formatAt.call(this,k,A,F,N)},T.prototype.optimize=function(k){x.prototype.optimize.call(this,k);var A=this.formats();if(Object.keys(A).length===0)return this.unwrap();var F=this.next;F instanceof T&&F.prev===this&&y(A,F.formats())&&(F.moveChildren(this),F.remove())},T.blotName="inline",T.scope=v.Scope.INLINE_BLOT,T.tagName="SPAN",T}(p.default);l.default=S},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var k in T)T.hasOwnProperty(k)&&(x[k]=T[k])};return function(x,T){S(x,T);function k(){this.constructor=x}x.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(18),v=c(1),y=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.formats=function(T){var k=v.query(x.blotName).tagName;if(T.tagName!==k)return S.formats.call(this,T)},x.prototype.format=function(T,k){v.query(T,v.Scope.BLOCK)!=null&&(T===this.statics.blotName&&!k?this.replaceWith(x.blotName):S.prototype.format.call(this,T,k))},x.prototype.formatAt=function(T,k,A,F){v.query(A,v.Scope.BLOCK)!=null?this.format(A,F):S.prototype.formatAt.call(this,T,k,A,F)},x.prototype.insertAt=function(T,k,A){if(A==null||v.query(k,v.Scope.INLINE)!=null)S.prototype.insertAt.call(this,T,k,A);else{var F=this.split(T),N=v.create(k,A);F.parent.insertBefore(N,F)}},x.prototype.update=function(T,k){navigator.userAgent.match(/Trident/)?this.build():S.prototype.update.call(this,T,k)},x.blotName="block",x.scope=v.Scope.BLOCK_BLOT,x.tagName="P",x}(p.default);l.default=y},function(s,l,c){var d=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var T in x)x.hasOwnProperty(T)&&(S[T]=x[T])};return function(S,x){y(S,x);function T(){this.constructor=S}S.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(19),v=function(y){d(S,y);function S(){return y!==null&&y.apply(this,arguments)||this}return S.formats=function(x){},S.prototype.format=function(x,T){y.prototype.formatAt.call(this,0,this.length(),x,T)},S.prototype.formatAt=function(x,T,k,A){x===0&&T===this.length()?this.format(k,A):y.prototype.formatAt.call(this,x,T,k,A)},S.prototype.formats=function(){return this.statics.formats(this.domNode)},S}(p.default);l.default=v},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var k in T)T.hasOwnProperty(k)&&(x[k]=T[k])};return function(x,T){S(x,T);function k(){this.constructor=x}x.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(19),v=c(1),y=function(S){d(x,S);function x(T){var k=S.call(this,T)||this;return k.text=k.statics.value(k.domNode),k}return x.create=function(T){return document.createTextNode(T)},x.value=function(T){var k=T.data;return k.normalize&&(k=k.normalize()),k},x.prototype.deleteAt=function(T,k){this.domNode.data=this.text=this.text.slice(0,T)+this.text.slice(T+k)},x.prototype.index=function(T,k){return this.domNode===T?k:-1},x.prototype.insertAt=function(T,k,A){A==null?(this.text=this.text.slice(0,T)+k+this.text.slice(T),this.domNode.data=this.text):S.prototype.insertAt.call(this,T,k,A)},x.prototype.length=function(){return this.text.length},x.prototype.optimize=function(T){S.prototype.optimize.call(this,T),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof x&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},x.prototype.position=function(T,k){return[this.domNode,T]},x.prototype.split=function(T,k){if(k===void 0&&(k=!1),!k){if(T===0)return this;if(T===this.length())return this.next}var A=v.create(this.domNode.splitText(T));return this.parent.insertBefore(A,this.next),this.text=this.statics.value(this.domNode),A},x.prototype.update=function(T,k){var A=this;T.some(function(F){return F.type==="characterData"&&F.target===A.domNode})&&(this.text=this.statics.value(this.domNode))},x.prototype.value=function(){return this.text},x.blotName="text",x.scope=v.Scope.INLINE_BLOT,x}(p.default);l.default=y},function(s,l,c){var d=document.createElement("div");if(d.classList.toggle("test-class",!1),d.classList.contains("test-class")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(v,y){return arguments.length>1&&!this.contains(v)==!y?y:p.call(this,v)}}String.prototype.startsWith||(String.prototype.startsWith=function(v,y){return y=y||0,this.substr(y,v.length)===v}),String.prototype.endsWith||(String.prototype.endsWith=function(v,y){var S=this.toString();(typeof y!="number"||!isFinite(y)||Math.floor(y)!==y||y>S.length)&&(y=S.length),y-=v.length;var x=S.indexOf(v,y);return x!==-1&&x===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var S=Object(this),x=S.length>>>0,T=arguments[1],k,A=0;A<x;A++)if(k=S[A],y.call(T,k,A,S))return k}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,l){var c=-1,d=1,p=0;function v(I,z,K){if(I==z)return I?[[p,I]]:[];(K<0||I.length<K)&&(K=null);var j=T(I,z),oe=I.substring(0,j);I=I.substring(j),z=z.substring(j),j=k(I,z);var ke=I.substring(I.length-j);I=I.substring(0,I.length-j),z=z.substring(0,z.length-j);var ae=y(I,z);return oe&&ae.unshift([p,oe]),ke&&ae.push([p,ke]),F(ae),K!=null&&(ae=B(ae,K)),ae=O(ae),ae}function y(I,z){var K;if(!I)return[[d,z]];if(!z)return[[c,I]];var j=I.length>z.length?I:z,oe=I.length>z.length?z:I,ke=j.indexOf(oe);if(ke!=-1)return K=[[d,j.substring(0,ke)],[p,oe],[d,j.substring(ke+oe.length)]],I.length>z.length&&(K[0][0]=K[2][0]=c),K;if(oe.length==1)return[[c,I],[d,z]];var ae=A(I,z);if(ae){var Q=ae[0],G=ae[1],ue=ae[2],pe=ae[3],be=ae[4],qe=v(Q,ue),U=v(G,pe);return qe.concat([[p,be]],U)}return S(I,z)}function S(I,z){for(var K=I.length,j=z.length,oe=Math.ceil((K+j)/2),ke=oe,ae=2*oe,Q=new Array(ae),G=new Array(ae),ue=0;ue<ae;ue++)Q[ue]=-1,G[ue]=-1;Q[ke+1]=0,G[ke+1]=0;for(var pe=K-j,be=pe%2!=0,qe=0,U=0,Fe=0,De=0,Se=0;Se<oe;Se++){for(var re=-Se+qe;re<=Se-U;re+=2){var le=ke+re,fe;re==-Se||re!=Se&&Q[le-1]<Q[le+1]?fe=Q[le+1]:fe=Q[le-1]+1;for(var ce=fe-re;fe<K&&ce<j&&I.charAt(fe)==z.charAt(ce);)fe++,ce++;if(Q[le]=fe,fe>K)U+=2;else if(ce>j)qe+=2;else if(be){var Be=ke+pe-re;if(Be>=0&&Be<ae&&G[Be]!=-1){var Ce=K-G[Be];if(fe>=Ce)return x(I,z,fe,ce)}}}for(var me=-Se+Fe;me<=Se-De;me+=2){var Be=ke+me,Ce;me==-Se||me!=Se&&G[Be-1]<G[Be+1]?Ce=G[Be+1]:Ce=G[Be-1]+1;for(var q=Ce-me;Ce<K&&q<j&&I.charAt(K-Ce-1)==z.charAt(j-q-1);)Ce++,q++;if(G[Be]=Ce,Ce>K)De+=2;else if(q>j)Fe+=2;else if(!be){var le=ke+pe-me;if(le>=0&&le<ae&&Q[le]!=-1){var fe=Q[le],ce=ke+fe-le;if(Ce=K-Ce,fe>=Ce)return x(I,z,fe,ce)}}}}return[[c,I],[d,z]]}function x(I,z,K,j){var oe=I.substring(0,K),ke=z.substring(0,j),ae=I.substring(K),Q=z.substring(j),G=v(oe,ke),ue=v(ae,Q);return G.concat(ue)}function T(I,z){if(!I||!z||I.charAt(0)!=z.charAt(0))return 0;for(var K=0,j=Math.min(I.length,z.length),oe=j,ke=0;K<oe;)I.substring(ke,oe)==z.substring(ke,oe)?(K=oe,ke=K):j=oe,oe=Math.floor((j-K)/2+K);return oe}function k(I,z){if(!I||!z||I.charAt(I.length-1)!=z.charAt(z.length-1))return 0;for(var K=0,j=Math.min(I.length,z.length),oe=j,ke=0;K<oe;)I.substring(I.length-oe,I.length-ke)==z.substring(z.length-oe,z.length-ke)?(K=oe,ke=K):j=oe,oe=Math.floor((j-K)/2+K);return oe}function A(I,z){var K=I.length>z.length?I:z,j=I.length>z.length?z:I;if(K.length<4||j.length*2<K.length)return null;function oe(U,Fe,De){for(var Se=U.substring(De,De+Math.floor(U.length/4)),re=-1,le="",fe,ce,Be,Ce;(re=Fe.indexOf(Se,re+1))!=-1;){var me=T(U.substring(De),Fe.substring(re)),q=k(U.substring(0,De),Fe.substring(0,re));le.length<q+me&&(le=Fe.substring(re-q,re)+Fe.substring(re,re+me),fe=U.substring(0,De-q),ce=U.substring(De+me),Be=Fe.substring(0,re-q),Ce=Fe.substring(re+me))}return le.length*2>=U.length?[fe,ce,Be,Ce,le]:null}var ke=oe(K,j,Math.ceil(K.length/4)),ae=oe(K,j,Math.ceil(K.length/2)),Q;if(!ke&&!ae)return null;ae?ke?Q=ke[4].length>ae[4].length?ke:ae:Q=ae:Q=ke;var G,ue,pe,be;I.length>z.length?(G=Q[0],ue=Q[1],pe=Q[2],be=Q[3]):(pe=Q[0],be=Q[1],G=Q[2],ue=Q[3]);var qe=Q[4];return[G,ue,pe,be,qe]}function F(I){I.push([p,""]);for(var z=0,K=0,j=0,oe="",ke="",ae;z<I.length;)switch(I[z][0]){case d:j++,ke+=I[z][1],z++;break;case c:K++,oe+=I[z][1],z++;break;case p:K+j>1?(K!==0&&j!==0&&(ae=T(ke,oe),ae!==0&&(z-K-j>0&&I[z-K-j-1][0]==p?I[z-K-j-1][1]+=ke.substring(0,ae):(I.splice(0,0,[p,ke.substring(0,ae)]),z++),ke=ke.substring(ae),oe=oe.substring(ae)),ae=k(ke,oe),ae!==0&&(I[z][1]=ke.substring(ke.length-ae)+I[z][1],ke=ke.substring(0,ke.length-ae),oe=oe.substring(0,oe.length-ae))),K===0?I.splice(z-j,K+j,[d,ke]):j===0?I.splice(z-K,K+j,[c,oe]):I.splice(z-K-j,K+j,[c,oe],[d,ke]),z=z-K-j+(K?1:0)+(j?1:0)+1):z!==0&&I[z-1][0]==p?(I[z-1][1]+=I[z][1],I.splice(z,1)):z++,j=0,K=0,oe="",ke="";break}I[I.length-1][1]===""&&I.pop();var Q=!1;for(z=1;z<I.length-1;)I[z-1][0]==p&&I[z+1][0]==p&&(I[z][1].substring(I[z][1].length-I[z-1][1].length)==I[z-1][1]?(I[z][1]=I[z-1][1]+I[z][1].substring(0,I[z][1].length-I[z-1][1].length),I[z+1][1]=I[z-1][1]+I[z+1][1],I.splice(z-1,1),Q=!0):I[z][1].substring(0,I[z+1][1].length)==I[z+1][1]&&(I[z-1][1]+=I[z+1][1],I[z][1]=I[z][1].substring(I[z+1][1].length)+I[z+1][1],I.splice(z+1,1),Q=!0)),z++;Q&&F(I)}var N=v;N.INSERT=d,N.DELETE=c,N.EQUAL=p,s.exports=N;function D(I,z){if(z===0)return[p,I];for(var K=0,j=0;j<I.length;j++){var oe=I[j];if(oe[0]===c||oe[0]===p){var ke=K+oe[1].length;if(z===ke)return[j+1,I];if(z<ke){I=I.slice();var ae=z-K,Q=[oe[0],oe[1].slice(0,ae)],G=[oe[0],oe[1].slice(ae)];return I.splice(j,1,Q,G),[j+1,I]}else K=ke}}throw new Error("cursor_pos is out of bounds!")}function B(I,z){var K=D(I,z),j=K[1],oe=K[0],ke=j[oe],ae=j[oe+1];if(ke==null)return I;if(ke[0]!==p)return I;if(ae!=null&&ke[1]+ae[1]===ae[1]+ke[1])return j.splice(oe,2,ae,ke),P(j,oe,2);if(ae!=null&&ae[1].indexOf(ke[1])===0){j.splice(oe,2,[ae[0],ke[1]],[0,ke[1]]);var Q=ae[1].slice(ke[1].length);return Q.length>0&&j.splice(oe+2,0,[ae[0],Q]),P(j,oe,3)}else return I}function O(I){for(var z=!1,K=function(ae){return ae.charCodeAt(0)>=56320&&ae.charCodeAt(0)<=57343},j=function(ae){return ae.charCodeAt(ae.length-1)>=55296&&ae.charCodeAt(ae.length-1)<=56319},oe=2;oe<I.length;oe+=1)I[oe-2][0]===p&&j(I[oe-2][1])&&I[oe-1][0]===c&&K(I[oe-1][1])&&I[oe][0]===d&&K(I[oe][1])&&(z=!0,I[oe-1][1]=I[oe-2][1].slice(-1)+I[oe-1][1],I[oe][1]=I[oe-2][1].slice(-1)+I[oe][1],I[oe-2][1]=I[oe-2][1].slice(0,-1));if(!z)return I;for(var ke=[],oe=0;oe<I.length;oe+=1)I[oe][1].length>0&&ke.push(I[oe]);return ke}function P(I,z,K){for(var j=z+K-1;j>=0&&j>=z-1;j--)if(j+1<I.length){var oe=I[j],ke=I[j+1];oe[0]===ke[1]&&I.splice(j,2,[oe[0],oe[1]+ke[1]])}return I}},function(s,l){l=s.exports=typeof Object.keys=="function"?Object.keys:c,l.shim=c;function c(d){var p=[];for(var v in d)p.push(v);return p}},function(s,l){var c=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";l=s.exports=c?d:p,l.supported=d;function d(v){return Object.prototype.toString.call(v)=="[object Arguments]"}l.unsupported=p;function p(v){return v&&typeof v=="object"&&typeof v.length=="number"&&Object.prototype.hasOwnProperty.call(v,"callee")&&!Object.prototype.propertyIsEnumerable.call(v,"callee")||!1}},function(s,l){var c=Object.prototype.hasOwnProperty,d="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(d=!1));function v(S,x,T){this.fn=S,this.context=x,this.once=T||!1}function y(){this._events=new p,this._eventsCount=0}y.prototype.eventNames=function(){var x=[],T,k;if(this._eventsCount===0)return x;for(k in T=this._events)c.call(T,k)&&x.push(d?k.slice(1):k);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(T)):x},y.prototype.listeners=function(x,T){var k=d?d+x:x,A=this._events[k];if(T)return!!A;if(!A)return[];if(A.fn)return[A.fn];for(var F=0,N=A.length,D=new Array(N);F<N;F++)D[F]=A[F].fn;return D},y.prototype.emit=function(x,T,k,A,F,N){var D=d?d+x:x;if(!this._events[D])return!1;var B=this._events[D],O=arguments.length,P,I;if(B.fn){switch(B.once&&this.removeListener(x,B.fn,void 0,!0),O){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,T),!0;case 3:return B.fn.call(B.context,T,k),!0;case 4:return B.fn.call(B.context,T,k,A),!0;case 5:return B.fn.call(B.context,T,k,A,F),!0;case 6:return B.fn.call(B.context,T,k,A,F,N),!0}for(I=1,P=new Array(O-1);I<O;I++)P[I-1]=arguments[I];B.fn.apply(B.context,P)}else{var z=B.length,K;for(I=0;I<z;I++)switch(B[I].once&&this.removeListener(x,B[I].fn,void 0,!0),O){case 1:B[I].fn.call(B[I].context);break;case 2:B[I].fn.call(B[I].context,T);break;case 3:B[I].fn.call(B[I].context,T,k);break;case 4:B[I].fn.call(B[I].context,T,k,A);break;default:if(!P)for(K=1,P=new Array(O-1);K<O;K++)P[K-1]=arguments[K];B[I].fn.apply(B[I].context,P)}}return!0},y.prototype.on=function(x,T,k){var A=new v(T,k||this),F=d?d+x:x;return this._events[F]?this._events[F].fn?this._events[F]=[this._events[F],A]:this._events[F].push(A):(this._events[F]=A,this._eventsCount++),this},y.prototype.once=function(x,T,k){var A=new v(T,k||this,!0),F=d?d+x:x;return this._events[F]?this._events[F].fn?this._events[F]=[this._events[F],A]:this._events[F].push(A):(this._events[F]=A,this._eventsCount++),this},y.prototype.removeListener=function(x,T,k,A){var F=d?d+x:x;if(!this._events[F])return this;if(!T)return--this._eventsCount===0?this._events=new p:delete this._events[F],this;var N=this._events[F];if(N.fn)N.fn===T&&(!A||N.once)&&(!k||N.context===k)&&(--this._eventsCount===0?this._events=new p:delete this._events[F]);else{for(var D=0,B=[],O=N.length;D<O;D++)(N[D].fn!==T||A&&!N[D].once||k&&N[D].context!==k)&&B.push(N[D]);B.length?this._events[F]=B.length===1?B[0]:B:--this._eventsCount===0?this._events=new p:delete this._events[F]}return this},y.prototype.removeAllListeners=function(x){var T;return x?(T=d?d+x:x,this._events[T]&&(--this._eventsCount===0?this._events=new p:delete this._events[T])):(this._events=new p,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prototype.setMaxListeners=function(){return this},y.prefixed=d,y.EventEmitter=y,typeof s<"u"&&(s.exports=y)},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.matchText=l.matchSpacing=l.matchNewline=l.matchBlot=l.matchAttributor=l.default=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},p=function(){function ve(se,xe){var ot=[],Xe=!0,jt=!1,qt=void 0;try{for(var vn=se[Symbol.iterator](),Kn;!(Xe=(Kn=vn.next()).done)&&(ot.push(Kn.value),!(xe&&ot.length===xe));Xe=!0);}catch(zn){jt=!0,qt=zn}finally{try{!Xe&&vn.return&&vn.return()}finally{if(jt)throw qt}}return ot}return function(se,xe){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return ve(se,xe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function ve(se,xe){for(var ot=0;ot<xe.length;ot++){var Xe=xe[ot];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(se,Xe.key,Xe)}}return function(se,xe,ot){return xe&&ve(se.prototype,xe),ot&&ve(se,ot),se}}(),y=c(3),S=G(y),x=c(2),T=G(x),k=c(0),A=G(k),F=c(5),N=G(F),D=c(10),B=G(D),O=c(9),P=G(O),I=c(36),z=c(37),K=c(13),j=G(K),oe=c(26),ke=c(38),ae=c(39),Q=c(40);function G(ve){return ve&&ve.__esModule?ve:{default:ve}}function ue(ve,se,xe){return se in ve?Object.defineProperty(ve,se,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ve[se]=xe,ve}function pe(ve,se){if(!(ve instanceof se))throw new TypeError("Cannot call a class as a function")}function be(ve,se){if(!ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se&&(typeof se=="object"||typeof se=="function")?se:ve}function qe(ve,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);ve.prototype=Object.create(se&&se.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(ve,se):ve.__proto__=se)}var U=(0,B.default)("quill:clipboard"),Fe="__ql-matcher",De=[[Node.TEXT_NODE,Oe],[Node.TEXT_NODE,He],["br",tt],[Node.ELEMENT_NODE,He],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,Ze],[Node.ELEMENT_NODE,Ve],["li",at],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",Qe]],Se=[I.AlignAttribute,ke.DirectionAttribute].reduce(function(ve,se){return ve[se.keyName]=se,ve},{}),re=[I.AlignStyle,z.BackgroundStyle,oe.ColorStyle,ke.DirectionStyle,ae.FontStyle,Q.SizeStyle].reduce(function(ve,se){return ve[se.keyName]=se,ve},{}),le=function(ve){qe(se,ve);function se(xe,ot){pe(this,se);var Xe=be(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,xe,ot));return Xe.quill.root.addEventListener("paste",Xe.onPaste.bind(Xe)),Xe.container=Xe.quill.addContainer("ql-clipboard"),Xe.container.setAttribute("contenteditable",!0),Xe.container.setAttribute("tabindex",-1),Xe.matchers=[],De.concat(Xe.options.matchers).forEach(function(jt){var qt=p(jt,2),vn=qt[0],Kn=qt[1];!ot.matchVisual&&Kn===Re||Xe.addMatcher(vn,Kn)}),Xe}return v(se,[{key:"addMatcher",value:function(ot,Xe){this.matchers.push([ot,Xe])}},{key:"convert",value:function(ot){if(typeof ot=="string")return this.container.innerHTML=ot.replace(/\>\r?\n +\</g,"><"),this.convert();var Xe=this.quill.getFormat(this.quill.selection.savedRange.index);if(Xe[j.default.blotName]){var jt=this.container.innerText;return this.container.innerHTML="",new T.default().insert(jt,ue({},j.default.blotName,Xe[j.default.blotName]))}var qt=this.prepareMatching(),vn=p(qt,2),Kn=vn[0],zn=vn[1],fn=me(this.container,Kn,zn);return Be(fn,`
`)&&fn.ops[fn.ops.length-1].attributes==null&&(fn=fn.compose(new T.default().retain(fn.length()-1).delete(1))),U.log("convert",this.container.innerHTML,fn),this.container.innerHTML="",fn}},{key:"dangerouslyPasteHTML",value:function(ot,Xe){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.default.sources.API;if(typeof ot=="string")this.quill.setContents(this.convert(ot),Xe),this.quill.setSelection(0,N.default.sources.SILENT);else{var qt=this.convert(Xe);this.quill.updateContents(new T.default().retain(ot).concat(qt),jt),this.quill.setSelection(ot+qt.length(),N.default.sources.SILENT)}}},{key:"onPaste",value:function(ot){var Xe=this;if(!(ot.defaultPrevented||!this.quill.isEnabled())){var jt=this.quill.getSelection(),qt=new T.default().retain(jt.index),vn=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(N.default.sources.SILENT),setTimeout(function(){qt=qt.concat(Xe.convert()).delete(jt.length),Xe.quill.updateContents(qt,N.default.sources.USER),Xe.quill.setSelection(qt.length()-jt.length,N.default.sources.SILENT),Xe.quill.scrollingContainer.scrollTop=vn,Xe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ot=this,Xe=[],jt=[];return this.matchers.forEach(function(qt){var vn=p(qt,2),Kn=vn[0],zn=vn[1];switch(Kn){case Node.TEXT_NODE:jt.push(zn);break;case Node.ELEMENT_NODE:Xe.push(zn);break;default:[].forEach.call(ot.container.querySelectorAll(Kn),function(fn){fn[Fe]=fn[Fe]||[],fn[Fe].push(zn)});break}}),[Xe,jt]}}]),se}(P.default);le.DEFAULTS={matchers:[],matchVisual:!0};function fe(ve,se,xe){return(typeof se>"u"?"undefined":d(se))==="object"?Object.keys(se).reduce(function(ot,Xe){return fe(ot,Xe,se[Xe])},ve):ve.reduce(function(ot,Xe){return Xe.attributes&&Xe.attributes[se]?ot.push(Xe):ot.insert(Xe.insert,(0,S.default)({},ue({},se,xe),Xe.attributes))},new T.default)}function ce(ve){if(ve.nodeType!==Node.ELEMENT_NODE)return{};var se="__ql-computed-style";return ve[se]||(ve[se]=window.getComputedStyle(ve))}function Be(ve,se){for(var xe="",ot=ve.ops.length-1;ot>=0&&xe.length<se.length;--ot){var Xe=ve.ops[ot];if(typeof Xe.insert!="string")break;xe=Xe.insert+xe}return xe.slice(-1*se.length)===se}function Ce(ve){if(ve.childNodes.length===0)return!1;var se=ce(ve);return["block","list-item"].indexOf(se.display)>-1}function me(ve,se,xe){return ve.nodeType===ve.TEXT_NODE?xe.reduce(function(ot,Xe){return Xe(ve,ot)},new T.default):ve.nodeType===ve.ELEMENT_NODE?[].reduce.call(ve.childNodes||[],function(ot,Xe){var jt=me(Xe,se,xe);return Xe.nodeType===ve.ELEMENT_NODE&&(jt=se.reduce(function(qt,vn){return vn(Xe,qt)},jt),jt=(Xe[Fe]||[]).reduce(function(qt,vn){return vn(Xe,qt)},jt)),ot.concat(jt)},new T.default):new T.default}function q(ve,se,xe){return fe(xe,ve,!0)}function Ze(ve,se){var xe=A.default.Attributor.Attribute.keys(ve),ot=A.default.Attributor.Class.keys(ve),Xe=A.default.Attributor.Style.keys(ve),jt={};return xe.concat(ot).concat(Xe).forEach(function(qt){var vn=A.default.query(qt,A.default.Scope.ATTRIBUTE);vn!=null&&(jt[vn.attrName]=vn.value(ve),jt[vn.attrName])||(vn=Se[qt],vn!=null&&(vn.attrName===qt||vn.keyName===qt)&&(jt[vn.attrName]=vn.value(ve)||void 0),vn=re[qt],vn!=null&&(vn.attrName===qt||vn.keyName===qt)&&(vn=re[qt],jt[vn.attrName]=vn.value(ve)||void 0))}),Object.keys(jt).length>0&&(se=fe(se,jt)),se}function We(ve,se){var xe=A.default.query(ve);if(xe==null)return se;if(xe.prototype instanceof A.default.Embed){var ot={},Xe=xe.value(ve);Xe!=null&&(ot[xe.blotName]=Xe,se=new T.default().insert(ot,xe.formats(ve)))}else typeof xe.formats=="function"&&(se=fe(se,xe.blotName,xe.formats(ve)));return se}function tt(ve,se){return Be(se,`
`)||se.insert(`
`),se}function Qe(){return new T.default}function at(ve,se){var xe=A.default.query(ve);if(xe==null||xe.blotName!=="list-item"||!Be(se,`
`))return se;for(var ot=-1,Xe=ve.parentNode;!Xe.classList.contains("ql-clipboard");)(A.default.query(Xe)||{}).blotName==="list"&&(ot+=1),Xe=Xe.parentNode;return ot<=0?se:se.compose(new T.default().retain(se.length()-1).retain(1,{indent:ot}))}function He(ve,se){return Be(se,`
`)||(Ce(ve)||se.length()>0&&ve.nextSibling&&Ce(ve.nextSibling))&&se.insert(`
`),se}function Re(ve,se){if(Ce(ve)&&ve.nextElementSibling!=null&&!Be(se,`

`)){var xe=ve.offsetHeight+parseFloat(ce(ve).marginTop)+parseFloat(ce(ve).marginBottom);ve.nextElementSibling.offsetTop>ve.offsetTop+xe*1.5&&se.insert(`
`)}return se}function Ve(ve,se){var xe={},ot=ve.style||{};return ot.fontStyle&&ce(ve).fontStyle==="italic"&&(xe.italic=!0),ot.fontWeight&&(ce(ve).fontWeight.startsWith("bold")||parseInt(ce(ve).fontWeight)>=700)&&(xe.bold=!0),Object.keys(xe).length>0&&(se=fe(se,xe)),parseFloat(ot.textIndent||0)>0&&(se=new T.default().insert("	").concat(se)),se}function Oe(ve,se){var xe=ve.data;if(ve.parentNode.tagName==="O:P")return se.insert(xe.trim());if(xe.trim().length===0&&ve.parentNode.classList.contains("ql-clipboard"))return se;if(!ce(ve.parentNode).whiteSpace.startsWith("pre")){var ot=function(jt,qt){return qt=qt.replace(/[^\u00a0]/g,""),qt.length<1&&jt?" ":qt};xe=xe.replace(/\r\n/g," ").replace(/\n/g," "),xe=xe.replace(/\s\s+/g,ot.bind(ot,!0)),(ve.previousSibling==null&&Ce(ve.parentNode)||ve.previousSibling!=null&&Ce(ve.previousSibling))&&(xe=xe.replace(/^\s+/,ot.bind(ot,!1))),(ve.nextSibling==null&&Ce(ve.parentNode)||ve.nextSibling!=null&&Ce(ve.nextSibling))&&(xe=xe.replace(/\s+$/,ot.bind(ot,!1)))}return se.insert(xe)}l.default=le,l.matchAttributor=Ze,l.matchBlot=We,l.matchNewline=He,l.matchSpacing=Re,l.matchText=Oe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,D){for(var B=0;B<D.length;B++){var O=D[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,D,B){return D&&F(N.prototype,D),B&&F(N,B),N}}(),p=function F(N,D,B){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,D);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,D,B)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(B)}},v=c(6),y=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function k(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var A=function(F){k(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,[{key:"optimize",value:function(B){p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,B),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return p(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),N}(y.default);A.blotName="bold",A.tagName=["STRONG","B"],l.default=A},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addControls=l.default=void 0;var d=function(){function Q(G,ue){var pe=[],be=!0,qe=!1,U=void 0;try{for(var Fe=G[Symbol.iterator](),De;!(be=(De=Fe.next()).done)&&(pe.push(De.value),!(ue&&pe.length===ue));be=!0);}catch(Se){qe=!0,U=Se}finally{try{!be&&Fe.return&&Fe.return()}finally{if(qe)throw U}}return pe}return function(G,ue){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function Q(G,ue){for(var pe=0;pe<ue.length;pe++){var be=ue[pe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(G,be.key,be)}}return function(G,ue,pe){return ue&&Q(G.prototype,ue),pe&&Q(G,pe),G}}(),v=c(2),y=B(v),S=c(0),x=B(S),T=c(5),k=B(T),A=c(10),F=B(A),N=c(9),D=B(N);function B(Q){return Q&&Q.__esModule?Q:{default:Q}}function O(Q,G,ue){return G in Q?Object.defineProperty(Q,G,{value:ue,enumerable:!0,configurable:!0,writable:!0}):Q[G]=ue,Q}function P(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function I(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function z(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var K=(0,F.default)("quill:toolbar"),j=function(Q){z(G,Q);function G(ue,pe){P(this,G);var be=I(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ue,pe));if(Array.isArray(be.options.container)){var qe=document.createElement("div");ke(qe,be.options.container),ue.container.parentNode.insertBefore(qe,ue.container),be.container=qe}else typeof be.options.container=="string"?be.container=document.querySelector(be.options.container):be.container=be.options.container;if(!(be.container instanceof HTMLElement)){var U;return U=K.error("Container required for toolbar",be.options),I(be,U)}return be.container.classList.add("ql-toolbar"),be.controls=[],be.handlers={},Object.keys(be.options.handlers).forEach(function(Fe){be.addHandler(Fe,be.options.handlers[Fe])}),[].forEach.call(be.container.querySelectorAll("button, select"),function(Fe){be.attach(Fe)}),be.quill.on(k.default.events.EDITOR_CHANGE,function(Fe,De){Fe===k.default.events.SELECTION_CHANGE&&be.update(De)}),be.quill.on(k.default.events.SCROLL_OPTIMIZE,function(){var Fe=be.quill.selection.getRange(),De=d(Fe,1),Se=De[0];be.update(Se)}),be}return p(G,[{key:"addHandler",value:function(pe,be){this.handlers[pe]=be}},{key:"attach",value:function(pe){var be=this,qe=[].find.call(pe.classList,function(Fe){return Fe.indexOf("ql-")===0});if(!!qe){if(qe=qe.slice(3),pe.tagName==="BUTTON"&&pe.setAttribute("type","button"),this.handlers[qe]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[qe]==null){K.warn("ignoring attaching to disabled format",qe,pe);return}if(x.default.query(qe)==null){K.warn("ignoring attaching to nonexistent format",qe,pe);return}}var U=pe.tagName==="SELECT"?"change":"click";pe.addEventListener(U,function(Fe){var De=void 0;if(pe.tagName==="SELECT"){if(pe.selectedIndex<0)return;var Se=pe.options[pe.selectedIndex];Se.hasAttribute("selected")?De=!1:De=Se.value||!1}else pe.classList.contains("ql-active")?De=!1:De=pe.value||!pe.hasAttribute("value"),Fe.preventDefault();be.quill.focus();var re=be.quill.selection.getRange(),le=d(re,1),fe=le[0];if(be.handlers[qe]!=null)be.handlers[qe].call(be,De);else if(x.default.query(qe).prototype instanceof x.default.Embed){if(De=prompt("Enter "+qe),!De)return;be.quill.updateContents(new y.default().retain(fe.index).delete(fe.length).insert(O({},qe,De)),k.default.sources.USER)}else be.quill.format(qe,De,k.default.sources.USER);be.update(fe)}),this.controls.push([qe,pe])}}},{key:"update",value:function(pe){var be=pe==null?{}:this.quill.getFormat(pe);this.controls.forEach(function(qe){var U=d(qe,2),Fe=U[0],De=U[1];if(De.tagName==="SELECT"){var Se=void 0;if(pe==null)Se=null;else if(be[Fe]==null)Se=De.querySelector("option[selected]");else if(!Array.isArray(be[Fe])){var re=be[Fe];typeof re=="string"&&(re=re.replace(/\"/g,'\\"')),Se=De.querySelector('option[value="'+re+'"]')}Se==null?(De.value="",De.selectedIndex=-1):Se.selected=!0}else if(pe==null)De.classList.remove("ql-active");else if(De.hasAttribute("value")){var le=be[Fe]===De.getAttribute("value")||be[Fe]!=null&&be[Fe].toString()===De.getAttribute("value")||be[Fe]==null&&!De.getAttribute("value");De.classList.toggle("ql-active",le)}else De.classList.toggle("ql-active",be[Fe]!=null)})}}]),G}(D.default);j.DEFAULTS={};function oe(Q,G,ue){var pe=document.createElement("button");pe.setAttribute("type","button"),pe.classList.add("ql-"+G),ue!=null&&(pe.value=ue),Q.appendChild(pe)}function ke(Q,G){Array.isArray(G[0])||(G=[G]),G.forEach(function(ue){var pe=document.createElement("span");pe.classList.add("ql-formats"),ue.forEach(function(be){if(typeof be=="string")oe(pe,be);else{var qe=Object.keys(be)[0],U=be[qe];Array.isArray(U)?ae(pe,qe,U):oe(pe,qe,U)}}),Q.appendChild(pe)})}function ae(Q,G,ue){var pe=document.createElement("select");pe.classList.add("ql-"+G),ue.forEach(function(be){var qe=document.createElement("option");be!==!1?qe.setAttribute("value",be):qe.setAttribute("selected","selected"),pe.appendChild(qe)}),Q.appendChild(pe)}j.DEFAULTS={container:null,handlers:{clean:function(){var G=this,ue=this.quill.getSelection();if(ue!=null)if(ue.length==0){var pe=this.quill.getFormat();Object.keys(pe).forEach(function(be){x.default.query(be,x.default.Scope.INLINE)!=null&&G.quill.format(be,!1)})}else this.quill.removeFormat(ue,k.default.sources.USER)},direction:function(G){var ue=this.quill.getFormat().align;G==="rtl"&&ue==null?this.quill.format("align","right",k.default.sources.USER):!G&&ue==="right"&&this.quill.format("align",!1,k.default.sources.USER),this.quill.format("direction",G,k.default.sources.USER)},indent:function(G){var ue=this.quill.getSelection(),pe=this.quill.getFormat(ue),be=parseInt(pe.indent||0);if(G==="+1"||G==="-1"){var qe=G==="+1"?1:-1;pe.direction==="rtl"&&(qe*=-1),this.quill.format("indent",be+qe,k.default.sources.USER)}},link:function(G){G===!0&&(G=prompt("Enter link URL:")),this.quill.format("link",G,k.default.sources.USER)},list:function(G){var ue=this.quill.getSelection(),pe=this.quill.getFormat(ue);G==="check"?pe.list==="checked"||pe.list==="unchecked"?this.quill.format("list",!1,k.default.sources.USER):this.quill.format("list","unchecked",k.default.sources.USER):this.quill.format("list",G,k.default.sources.USER)}}},l.default=j,l.addControls=ke},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,D){for(var B=0;B<D.length;B++){var O=D[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,D,B){return D&&F(N.prototype,D),B&&F(N,B),N}}(),p=function F(N,D,B){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,D);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,D,B)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(B)}},v=c(28),y=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function k(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var A=function(F){k(N,F);function N(D,B){x(this,N);var O=T(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,D));return O.label.innerHTML=B,O.container.classList.add("ql-color-picker"),[].slice.call(O.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),O}return d(N,[{key:"buildItem",value:function(B){var O=p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"buildItem",this).call(this,B);return O.style.backgroundColor=B.getAttribute("value")||"",O}},{key:"selectItem",value:function(B,O){p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"selectItem",this).call(this,B,O);var P=this.label.querySelector(".ql-color-label"),I=B&&B.getAttribute("data-value")||"";P&&(P.tagName==="line"?P.style.stroke=I:P.style.fill=I)}}]),N}(y.default);l.default=A},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,D){for(var B=0;B<D.length;B++){var O=D[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,D,B){return D&&F(N.prototype,D),B&&F(N,B),N}}(),p=function F(N,D,B){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,D);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,D,B)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(B)}},v=c(28),y=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function k(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var A=function(F){k(N,F);function N(D,B){x(this,N);var O=T(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,D));return O.container.classList.add("ql-icon-picker"),[].forEach.call(O.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=B[P.getAttribute("data-value")||""]}),O.defaultItem=O.container.querySelector(".ql-selected"),O.selectItem(O.defaultItem),O}return d(N,[{key:"selectItem",value:function(B,O){p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"selectItem",this).call(this,B,O),B=B||this.defaultItem,this.label.innerHTML=B.innerHTML}}]),N}(y.default);l.default=A},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function y(S,x){for(var T=0;T<x.length;T++){var k=x[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,x,T){return x&&y(S.prototype,x),T&&y(S,T),S}}();function p(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}var v=function(){function y(S,x){var T=this;p(this,y),this.quill=S,this.boundsContainer=x||document.body,this.root=S.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){T.root.style.marginTop=-1*T.quill.root.scrollTop+"px"}),this.hide()}return d(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(x){var T=x.left+x.width/2-this.root.offsetWidth/2,k=x.bottom+this.quill.root.scrollTop;this.root.style.left=T+"px",this.root.style.top=k+"px",this.root.classList.remove("ql-flip");var A=this.boundsContainer.getBoundingClientRect(),F=this.root.getBoundingClientRect(),N=0;if(F.right>A.right&&(N=A.right-F.right,this.root.style.left=T+N+"px"),F.left<A.left&&(N=A.left-F.left,this.root.style.left=T+N+"px"),F.bottom>A.bottom){var D=F.bottom-F.top,B=x.bottom-x.top+D;this.root.style.top=k-B+"px",this.root.classList.add("ql-flip")}return N}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y}();l.default=v},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function ae(Q,G){var ue=[],pe=!0,be=!1,qe=void 0;try{for(var U=Q[Symbol.iterator](),Fe;!(pe=(Fe=U.next()).done)&&(ue.push(Fe.value),!(G&&ue.length===G));pe=!0);}catch(De){be=!0,qe=De}finally{try{!pe&&U.return&&U.return()}finally{if(be)throw qe}}return ue}return function(Q,G){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return ae(Q,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function ae(Q,G,ue){Q===null&&(Q=Function.prototype);var pe=Object.getOwnPropertyDescriptor(Q,G);if(pe===void 0){var be=Object.getPrototypeOf(Q);return be===null?void 0:ae(be,G,ue)}else{if("value"in pe)return pe.value;var qe=pe.get;return qe===void 0?void 0:qe.call(ue)}},v=function(){function ae(Q,G){for(var ue=0;ue<G.length;ue++){var pe=G[ue];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(Q,pe.key,pe)}}return function(Q,G,ue){return G&&ae(Q.prototype,G),ue&&ae(Q,ue),Q}}(),y=c(3),S=P(y),x=c(8),T=P(x),k=c(43),A=P(k),F=c(27),N=P(F),D=c(15),B=c(41),O=P(B);function P(ae){return ae&&ae.__esModule?ae:{default:ae}}function I(ae,Q){if(!(ae instanceof Q))throw new TypeError("Cannot call a class as a function")}function z(ae,Q){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:ae}function K(ae,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);ae.prototype=Object.create(Q&&Q.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,Q):ae.__proto__=Q)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],oe=function(ae){K(Q,ae);function Q(G,ue){I(this,Q),ue.modules.toolbar!=null&&ue.modules.toolbar.container==null&&(ue.modules.toolbar.container=j);var pe=z(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,G,ue));return pe.quill.container.classList.add("ql-snow"),pe}return v(Q,[{key:"extendToolbar",value:function(ue){ue.container.classList.add("ql-snow"),this.buildButtons([].slice.call(ue.container.querySelectorAll("button")),O.default),this.buildPickers([].slice.call(ue.container.querySelectorAll("select")),O.default),this.tooltip=new ke(this.quill,this.options.bounds),ue.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(pe,be){ue.handlers.link.call(ue,!be.format.link)})}}]),Q}(A.default);oe.DEFAULTS=(0,S.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Q){if(Q){var G=this.quill.getSelection();if(G==null||G.length==0)return;var ue=this.quill.getText(G);/^\S+@\S+\.\S+$/.test(ue)&&ue.indexOf("mailto:")!==0&&(ue="mailto:"+ue);var pe=this.quill.theme.tooltip;pe.edit("link",ue)}else this.quill.format("link",!1)}}}}});var ke=function(ae){K(Q,ae);function Q(G,ue){I(this,Q);var pe=z(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,G,ue));return pe.preview=pe.root.querySelector("a.ql-preview"),pe}return v(Q,[{key:"listen",value:function(){var ue=this;p(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(pe){ue.root.classList.contains("ql-editing")?ue.save():ue.edit("link",ue.preview.textContent),pe.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(pe){if(ue.linkRange!=null){var be=ue.linkRange;ue.restoreFocus(),ue.quill.formatText(be,"link",!1,T.default.sources.USER),delete ue.linkRange}pe.preventDefault(),ue.hide()}),this.quill.on(T.default.events.SELECTION_CHANGE,function(pe,be,qe){if(pe!=null){if(pe.length===0&&qe===T.default.sources.USER){var U=ue.quill.scroll.descendant(N.default,pe.index),Fe=d(U,2),De=Fe[0],Se=Fe[1];if(De!=null){ue.linkRange=new D.Range(pe.index-Se,De.length());var re=N.default.formats(De.domNode);ue.preview.textContent=re,ue.preview.setAttribute("href",re),ue.show(),ue.position(ue.quill.getBounds(ue.linkRange));return}}else delete ue.linkRange;ue.hide()}})}},{key:"show",value:function(){p(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),Q}(k.BaseTooltip);ke.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),l.default=oe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(29),p=Xe(d),v=c(36),y=c(38),S=c(64),x=c(65),T=Xe(x),k=c(66),A=Xe(k),F=c(67),N=Xe(F),D=c(37),B=c(26),O=c(39),P=c(40),I=c(56),z=Xe(I),K=c(68),j=Xe(K),oe=c(27),ke=Xe(oe),ae=c(69),Q=Xe(ae),G=c(70),ue=Xe(G),pe=c(71),be=Xe(pe),qe=c(72),U=Xe(qe),Fe=c(73),De=Xe(Fe),Se=c(13),re=Xe(Se),le=c(74),fe=Xe(le),ce=c(75),Be=Xe(ce),Ce=c(57),me=Xe(Ce),q=c(41),Ze=Xe(q),We=c(28),tt=Xe(We),Qe=c(59),at=Xe(Qe),He=c(60),Re=Xe(He),Ve=c(61),Oe=Xe(Ve),ve=c(108),se=Xe(ve),xe=c(62),ot=Xe(xe);function Xe(jt){return jt&&jt.__esModule?jt:{default:jt}}p.default.register({"attributors/attribute/direction":y.DirectionAttribute,"attributors/class/align":v.AlignClass,"attributors/class/background":D.BackgroundClass,"attributors/class/color":B.ColorClass,"attributors/class/direction":y.DirectionClass,"attributors/class/font":O.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":v.AlignStyle,"attributors/style/background":D.BackgroundStyle,"attributors/style/color":B.ColorStyle,"attributors/style/direction":y.DirectionStyle,"attributors/style/font":O.FontStyle,"attributors/style/size":P.SizeStyle},!0),p.default.register({"formats/align":v.AlignClass,"formats/direction":y.DirectionClass,"formats/indent":S.IndentClass,"formats/background":D.BackgroundStyle,"formats/color":B.ColorStyle,"formats/font":O.FontClass,"formats/size":P.SizeClass,"formats/blockquote":T.default,"formats/code-block":re.default,"formats/header":A.default,"formats/list":N.default,"formats/bold":z.default,"formats/code":Se.Code,"formats/italic":j.default,"formats/link":ke.default,"formats/script":Q.default,"formats/strike":ue.default,"formats/underline":be.default,"formats/image":U.default,"formats/video":De.default,"formats/list/item":F.ListItem,"modules/formula":fe.default,"modules/syntax":Be.default,"modules/toolbar":me.default,"themes/bubble":se.default,"themes/snow":ot.default,"ui/icons":Ze.default,"ui/picker":tt.default,"ui/icon-picker":Re.default,"ui/color-picker":at.default,"ui/tooltip":Oe.default},!0),l.default=p.default},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.IndentClass=void 0;var d=function(){function N(D,B){for(var O=0;O<B.length;O++){var P=B[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,B,O){return B&&N(D.prototype,B),O&&N(D,O),D}}(),p=function N(D,B,O){D===null&&(D=Function.prototype);var P=Object.getOwnPropertyDescriptor(D,B);if(P===void 0){var I=Object.getPrototypeOf(D);return I===null?void 0:N(I,B,O)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(O)}},v=c(0),y=S(v);function S(N){return N&&N.__esModule?N:{default:N}}function x(N,D){if(!(N instanceof D))throw new TypeError("Cannot call a class as a function")}function T(N,D){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:N}function k(N,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);N.prototype=Object.create(D&&D.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(N,D):N.__proto__=D)}var A=function(N){k(D,N);function D(){return x(this,D),T(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return d(D,[{key:"add",value:function(O,P){if(P==="+1"||P==="-1"){var I=this.value(O)||0;P=P==="+1"?I+1:I-1}return P===0?(this.remove(O),!0):p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"add",this).call(this,O,P)}},{key:"canAdd",value:function(O,P){return p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"canAdd",this).call(this,O,P)||p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"canAdd",this).call(this,O,parseInt(P))}},{key:"value",value:function(O){return parseInt(p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"value",this).call(this,O))||void 0}}]),D}(y.default.Attributor.Class),F=new A("indent","ql-indent",{scope:y.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});l.IndentClass=F},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(4),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var T=function(k){x(A,k);function A(){return y(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(p.default);T.blotName="blockquote",T.tagName="blockquote",l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function A(F,N){for(var D=0;D<N.length;D++){var B=N[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}return function(F,N,D){return N&&A(F.prototype,N),D&&A(F,D),F}}(),p=c(4),v=y(p);function y(A){return A&&A.__esModule?A:{default:A}}function S(A,F){if(!(A instanceof F))throw new TypeError("Cannot call a class as a function")}function x(A,F){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:A}function T(A,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);A.prototype=Object.create(F&&F.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(A,F):A.__proto__=F)}var k=function(A){T(F,A);function F(){return S(this,F),x(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return d(F,null,[{key:"formats",value:function(D){return this.tagName.indexOf(D.tagName)+1}}]),F}(v.default);k.blotName="header",k.tagName=["H1","H2","H3","H4","H5","H6"],l.default=k},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.ListItem=void 0;var d=function(){function I(z,K){for(var j=0;j<K.length;j++){var oe=K[j];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(z,oe.key,oe)}}return function(z,K,j){return K&&I(z.prototype,K),j&&I(z,j),z}}(),p=function I(z,K,j){z===null&&(z=Function.prototype);var oe=Object.getOwnPropertyDescriptor(z,K);if(oe===void 0){var ke=Object.getPrototypeOf(z);return ke===null?void 0:I(ke,K,j)}else{if("value"in oe)return oe.value;var ae=oe.get;return ae===void 0?void 0:ae.call(j)}},v=c(0),y=A(v),S=c(4),x=A(S),T=c(25),k=A(T);function A(I){return I&&I.__esModule?I:{default:I}}function F(I,z,K){return z in I?Object.defineProperty(I,z,{value:K,enumerable:!0,configurable:!0,writable:!0}):I[z]=K,I}function N(I,z){if(!(I instanceof z))throw new TypeError("Cannot call a class as a function")}function D(I,z){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:I}function B(I,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);I.prototype=Object.create(z&&z.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(I,z):I.__proto__=z)}var O=function(I){B(z,I);function z(){return N(this,z),D(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return d(z,[{key:"format",value:function(j,oe){j===P.blotName&&!oe?this.replaceWith(y.default.create(this.statics.scope)):p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"format",this).call(this,j,oe)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,oe){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,oe),this):(this.parent.unwrap(),p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"replaceWith",this).call(this,j,oe))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:p(z.__proto__||Object.getPrototypeOf(z),"formats",this).call(this,j)}}]),z}(x.default);O.blotName="list-item",O.tagName="LI";var P=function(I){B(z,I),d(z,null,[{key:"create",value:function(j){var oe=j==="ordered"?"OL":"UL",ke=p(z.__proto__||Object.getPrototypeOf(z),"create",this).call(this,oe);return(j==="checked"||j==="unchecked")&&ke.setAttribute("data-checked",j==="checked"),ke}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function z(K){N(this,z);var j=D(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K)),oe=function(ae){if(ae.target.parentNode===K){var Q=j.statics.formats(K),G=y.default.find(ae.target);Q==="checked"?G.format("list","unchecked"):Q==="unchecked"&&G.format("list","checked")}};return K.addEventListener("touchstart",oe),K.addEventListener("mousedown",oe),j}return d(z,[{key:"format",value:function(j,oe){this.children.length>0&&this.children.tail.format(j,oe)}},{key:"formats",value:function(){return F({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,oe){if(j instanceof O)p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"insertBefore",this).call(this,j,oe);else{var ke=oe==null?this.length():oe.offset(this),ae=this.split(ke);ae.parent.insertBefore(j,ae)}}},{key:"optimize",value:function(j){p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"optimize",this).call(this,j);var oe=this.next;oe!=null&&oe.prev===this&&oe.statics.blotName===this.statics.blotName&&oe.domNode.tagName===this.domNode.tagName&&oe.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(oe.moveChildren(this),oe.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var oe=y.default.create(this.statics.defaultChild);j.moveChildren(oe),this.appendChild(oe)}p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"replace",this).call(this,j)}}]),z}(k.default);P.blotName="list",P.scope=y.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[O],l.ListItem=O,l.default=P},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(56),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var T=function(k){x(A,k);function A(){return y(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(p.default);T.blotName="italic",T.tagName=["EM","I"],l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,D){for(var B=0;B<D.length;B++){var O=D[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,D,B){return D&&F(N.prototype,D),B&&F(N,B),N}}(),p=function F(N,D,B){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,D);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,D,B)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(B)}},v=c(6),y=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function k(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var A=function(F){k(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,null,[{key:"create",value:function(B){return B==="super"?document.createElement("sup"):B==="sub"?document.createElement("sub"):p(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,B)}},{key:"formats",value:function(B){if(B.tagName==="SUB")return"sub";if(B.tagName==="SUP")return"super"}}]),N}(y.default);A.blotName="script",A.tagName=["SUB","SUP"],l.default=A},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(6),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var T=function(k){x(A,k);function A(){return y(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(p.default);T.blotName="strike",T.tagName="S",l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(6),p=v(d);function v(k){return k&&k.__esModule?k:{default:k}}function y(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var T=function(k){x(A,k);function A(){return y(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(p.default);T.blotName="underline",T.tagName="U",l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function D(B,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(B,I.key,I)}}return function(B,O,P){return O&&D(B.prototype,O),P&&D(B,P),B}}(),p=function D(B,O,P){B===null&&(B=Function.prototype);var I=Object.getOwnPropertyDescriptor(B,O);if(I===void 0){var z=Object.getPrototypeOf(B);return z===null?void 0:D(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(0),y=x(v),S=c(27);function x(D){return D&&D.__esModule?D:{default:D}}function T(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function k(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function A(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var F=["alt","height","width"],N=function(D){A(B,D);function B(){return T(this,B),k(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return d(B,[{key:"format",value:function(P,I){F.indexOf(P)>-1?I?this.domNode.setAttribute(P,I):this.domNode.removeAttribute(P):p(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"format",this).call(this,P,I)}}],[{key:"create",value:function(P){var I=p(B.__proto__||Object.getPrototypeOf(B),"create",this).call(this,P);return typeof P=="string"&&I.setAttribute("src",this.sanitize(P)),I}},{key:"formats",value:function(P){return F.reduce(function(I,z){return P.hasAttribute(z)&&(I[z]=P.getAttribute(z)),I},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,S.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),B}(y.default.Embed);N.blotName="image",N.tagName="IMG",l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function D(B,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(B,I.key,I)}}return function(B,O,P){return O&&D(B.prototype,O),P&&D(B,P),B}}(),p=function D(B,O,P){B===null&&(B=Function.prototype);var I=Object.getOwnPropertyDescriptor(B,O);if(I===void 0){var z=Object.getPrototypeOf(B);return z===null?void 0:D(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(4),y=c(27),S=x(y);function x(D){return D&&D.__esModule?D:{default:D}}function T(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function k(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function A(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var F=["height","width"],N=function(D){A(B,D);function B(){return T(this,B),k(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return d(B,[{key:"format",value:function(P,I){F.indexOf(P)>-1?I?this.domNode.setAttribute(P,I):this.domNode.removeAttribute(P):p(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"format",this).call(this,P,I)}}],[{key:"create",value:function(P){var I=p(B.__proto__||Object.getPrototypeOf(B),"create",this).call(this,P);return I.setAttribute("frameborder","0"),I.setAttribute("allowfullscreen",!0),I.setAttribute("src",this.sanitize(P)),I}},{key:"formats",value:function(P){return F.reduce(function(I,z){return P.hasAttribute(z)&&(I[z]=P.getAttribute(z)),I},{})}},{key:"sanitize",value:function(P){return S.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),B}(v.BlockEmbed);N.blotName="video",N.className="ql-video",N.tagName="IFRAME",l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.FormulaBlot=void 0;var d=function(){function P(I,z){for(var K=0;K<z.length;K++){var j=z[K];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,z,K){return z&&P(I.prototype,z),K&&P(I,K),I}}(),p=function P(I,z,K){I===null&&(I=Function.prototype);var j=Object.getOwnPropertyDescriptor(I,z);if(j===void 0){var oe=Object.getPrototypeOf(I);return oe===null?void 0:P(oe,z,K)}else{if("value"in j)return j.value;var ke=j.get;return ke===void 0?void 0:ke.call(K)}},v=c(35),y=A(v),S=c(5),x=A(S),T=c(9),k=A(T);function A(P){return P&&P.__esModule?P:{default:P}}function F(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function N(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function D(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var B=function(P){D(I,P);function I(){return F(this,I),N(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return d(I,null,[{key:"create",value:function(K){var j=p(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,K);return typeof K=="string"&&(window.katex.render(K,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",K)),j}},{key:"value",value:function(K){return K.getAttribute("data-value")}}]),I}(y.default);B.blotName="formula",B.className="ql-formula",B.tagName="SPAN";var O=function(P){D(I,P),d(I,null,[{key:"register",value:function(){x.default.register(B,!0)}}]);function I(){F(this,I);var z=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return z}return I}(k.default);l.FormulaBlot=B,l.default=O},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.CodeToken=l.CodeBlock=void 0;var d=function(){function K(j,oe){for(var ke=0;ke<oe.length;ke++){var ae=oe[ke];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(j,ae.key,ae)}}return function(j,oe,ke){return oe&&K(j.prototype,oe),ke&&K(j,ke),j}}(),p=function K(j,oe,ke){j===null&&(j=Function.prototype);var ae=Object.getOwnPropertyDescriptor(j,oe);if(ae===void 0){var Q=Object.getPrototypeOf(j);return Q===null?void 0:K(Q,oe,ke)}else{if("value"in ae)return ae.value;var G=ae.get;return G===void 0?void 0:G.call(ke)}},v=c(0),y=N(v),S=c(5),x=N(S),T=c(9),k=N(T),A=c(13),F=N(A);function N(K){return K&&K.__esModule?K:{default:K}}function D(K,j){if(!(K instanceof j))throw new TypeError("Cannot call a class as a function")}function B(K,j){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:K}function O(K,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);K.prototype=Object.create(j&&j.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(K,j):K.__proto__=j)}var P=function(K){O(j,K);function j(){return D(this,j),B(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return d(j,[{key:"replaceWith",value:function(ke){this.domNode.textContent=this.domNode.textContent,this.attach(),p(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,ke)}},{key:"highlight",value:function(ke){var ae=this.domNode.textContent;this.cachedText!==ae&&((ae.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=ke(ae),this.domNode.normalize(),this.attach()),this.cachedText=ae)}}]),j}(F.default);P.className="ql-syntax";var I=new y.default.Attributor.Class("token","hljs",{scope:y.default.Scope.INLINE}),z=function(K){O(j,K),d(j,null,[{key:"register",value:function(){x.default.register(I,!0),x.default.register(P,!0)}}]);function j(oe,ke){D(this,j);var ae=B(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,oe,ke));if(typeof ae.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var Q=null;return ae.quill.on(x.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(Q),Q=setTimeout(function(){ae.highlight(),Q=null},ae.options.interval)}),ae.highlight(),ae}return d(j,[{key:"highlight",value:function(){var ke=this;if(!this.quill.selection.composing){this.quill.update(x.default.sources.USER);var ae=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(Q){Q.highlight(ke.options.highlight)}),this.quill.update(x.default.sources.SILENT),ae!=null&&this.quill.setSelection(ae,x.default.sources.SILENT)}}}]),j}(k.default);z.DEFAULTS={highlight:function(){return window.hljs==null?null:function(K){var j=window.hljs.highlightAuto(K);return j.value}}(),interval:1e3},l.CodeBlock=P,l.CodeToken=I,l.default=z},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,l){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,l){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,l){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,l){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.BubbleTooltip=void 0;var d=function j(oe,ke,ae){oe===null&&(oe=Function.prototype);var Q=Object.getOwnPropertyDescriptor(oe,ke);if(Q===void 0){var G=Object.getPrototypeOf(oe);return G===null?void 0:j(G,ke,ae)}else{if("value"in Q)return Q.value;var ue=Q.get;return ue===void 0?void 0:ue.call(ae)}},p=function(){function j(oe,ke){for(var ae=0;ae<ke.length;ae++){var Q=ke[ae];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(oe,Q.key,Q)}}return function(oe,ke,ae){return ke&&j(oe.prototype,ke),ae&&j(oe,ae),oe}}(),v=c(3),y=D(v),S=c(8),x=D(S),T=c(43),k=D(T),A=c(15),F=c(41),N=D(F);function D(j){return j&&j.__esModule?j:{default:j}}function B(j,oe){if(!(j instanceof oe))throw new TypeError("Cannot call a class as a function")}function O(j,oe){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:j}function P(j,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);j.prototype=Object.create(oe&&oe.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(j,oe):j.__proto__=oe)}var I=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],z=function(j){P(oe,j);function oe(ke,ae){B(this,oe),ae.modules.toolbar!=null&&ae.modules.toolbar.container==null&&(ae.modules.toolbar.container=I);var Q=O(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,ke,ae));return Q.quill.container.classList.add("ql-bubble"),Q}return p(oe,[{key:"extendToolbar",value:function(ae){this.tooltip=new K(this.quill,this.options.bounds),this.tooltip.root.appendChild(ae.container),this.buildButtons([].slice.call(ae.container.querySelectorAll("button")),N.default),this.buildPickers([].slice.call(ae.container.querySelectorAll("select")),N.default)}}]),oe}(k.default);z.DEFAULTS=(0,y.default)(!0,{},k.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(oe){oe?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var K=function(j){P(oe,j);function oe(ke,ae){B(this,oe);var Q=O(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,ke,ae));return Q.quill.on(x.default.events.EDITOR_CHANGE,function(G,ue,pe,be){if(G===x.default.events.SELECTION_CHANGE)if(ue!=null&&ue.length>0&&be===x.default.sources.USER){Q.show(),Q.root.style.left="0px",Q.root.style.width="",Q.root.style.width=Q.root.offsetWidth+"px";var qe=Q.quill.getLines(ue.index,ue.length);if(qe.length===1)Q.position(Q.quill.getBounds(ue));else{var U=qe[qe.length-1],Fe=Q.quill.getIndex(U),De=Math.min(U.length()-1,ue.index+ue.length-Fe),Se=Q.quill.getBounds(new A.Range(Fe,De));Q.position(Se)}}else document.activeElement!==Q.textbox&&Q.quill.hasFocus()&&Q.hide()}),Q}return p(oe,[{key:"listen",value:function(){var ae=this;d(oe.prototype.__proto__||Object.getPrototypeOf(oe.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){ae.root.classList.remove("ql-editing")}),this.quill.on(x.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!ae.root.classList.contains("ql-hidden")){var Q=ae.quill.getSelection();Q!=null&&ae.position(ae.quill.getBounds(Q))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(ae){var Q=d(oe.prototype.__proto__||Object.getPrototypeOf(oe.prototype),"position",this).call(this,ae),G=this.root.querySelector(".ql-tooltip-arrow");if(G.style.marginLeft="",Q===0)return Q;G.style.marginLeft=-1*Q-G.offsetWidth/2+"px"}}]),oe}(T.BaseTooltip);K.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),l.BubbleTooltip=K,l.default=z},function(s,l,c){s.exports=c(63)}]).default})})(tAe);const fet=PAe(tAe.exports),det=F4({__name:"index",setup(e){const o=hC();return uce(()=>{new fet(o.value,{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:["Microsoft YaHei","Helvetica Neue","PingFang SC","sans-serif","simsun","serif","FangSong,serif","SimHei"]}],[{align:[]}],["clean"],["link","image","video"]]},theme:"snow"})}),(s,l)=>(ny(),V_("div",null,[KV("div",{ref_key:"quillRef",ref:o},null,512)]))}});const het=Owe(det,[["__scopeId","data-v-762e24e0"]]),pet={class:"page-container"},get=R4("wangEditor"),met=R4("tinymce"),vet=R4("quill"),bet={style:{"margin-top":"10px"}},Net=F4({__name:"editor",setup(e){const o=hC("wangEditor");return(s,l)=>{const c=RAe("Breadcrumb"),d=IAe,p=LAe,v=MAe;return ny(),V_("div",pet,[Xh(c),Xh(v,{class:"general-card page-main",title:s.$route.meta.title},{default:ey(()=>[Xh(p,{type:"button",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=y=>o.value=y)},{default:ey(()=>[Xh(d,{value:"wangEditor"},{default:ey(()=>[get]),_:1}),Xh(d,{value:"tinymce"},{default:ey(()=>[met]),_:1}),Xh(d,{value:"quill"},{default:ey(()=>[vet]),_:1})]),_:1},8,["modelValue"]),KV("div",bet,[o.value==="wangEditor"?(ny(),Cne(UQe,{key:0})):Sne("",!0),o.value==="tinymce"?(ny(),Cne(uet,{key:1})):Sne("",!0),o.value==="quill"?(ny(),Cne(het,{key:2})):Sne("",!0)])]),_:1},8,["title"])])}}});export{Net as default};
