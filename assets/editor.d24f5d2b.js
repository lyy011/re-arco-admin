import{d as z4,r as bC,E as $Ce,z as Zce,C as vU,F as MTe,bx as ITe,o as iy,e as J5,ai as DCe,f as bU,h as tp,w as ry,i as r4,g as FN,B as LTe,N as HTe,A as rge,by as jTe,bz as zTe,bA as sge,D as VTe,s as UTe,_ as BCe,bB as WTe,bC as qTe,c as ZTe,G as Wne,L as qne}from"./index.eea0dd1e.js";import"./index.40817fc7.js";import{C as GTe}from"./index.956fce5d.js";import{R as KTe,a as YTe}from"./index.b7f878bf.js";/* empty css              */var Zne;if(typeof global>"u"){if("ActiveXObject"in window){var ige="\u62B1\u6B49\uFF0CwangEditor V5+ \u7248\u672C\u5F00\u59CB\uFF0C\u4E0D\u5728\u652F\u6301 IE \u6D4F\u89C8\u5668";ige+=`
 Sorry, wangEditor V5+ versions do not support IE browser.`,console.error(ige)}age(),lge()}else global&&((Zne=global.navigator)===null||Zne===void 0?void 0:Zne.userAgent.match("QQBrowser"))&&(age(),lge());function age(){typeof globalThis>"u"&&(window.globalThis=window)}function lge(){typeof AggregateError>"u"&&(window.AggregateError=function(e,o){var s=new Error(o);return s.errors=e,s})}if(typeof global=="object"){var XTe=Object.getOwnPropertyDescriptor(global,"window");(!global.window||XTe.set)&&(global.window=global,global.requestAnimationFrame=function(){},global.navigator={userAgent:""},global.location={hostname:"0.0.0.0",port:0,protocol:"http:"},global.btoa=function(){},global.crypto={getRandomValues:function(e){return nodeCrypto.randomFillSync(e)}}),global.document!=null&&global.document.getElementsByTagName==null&&(global.document.getElementsByTagName=function(){return[]})}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function cge(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rf(e){var o,s;return cge(e)===!1?!1:(o=e.constructor,o===void 0?!0:(s=o.prototype,!(cge(s)===!1||s.hasOwnProperty("isPrototypeOf")===!1)))}function sf(e){for(var o=arguments.length,s=Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];{var c=sOe[e],d=c?typeof c=="function"?c.apply(null,s):c:"unknown error nr: "+e;throw Error("[Immer] "+d)}}function O4(e){return!!e&&!!e[ip]}function _4(e){return!!e&&(function(o){if(!o||typeof o!="object")return!1;var s=Object.getPrototypeOf(o);if(s===null)return!0;var l=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return l===Object||typeof l=="function"&&Function.toString.call(l)===iOe}(e)||Array.isArray(e)||!!e[vge]||!!e.constructor[vge]||Gce(e)||Kce(e))}function aP(e,o,s){s===void 0&&(s=!1),Q5(e)===0?(s?Object.keys:eue)(e).forEach(function(l){s&&typeof l=="symbol"||o(l,e[l],e)}):e.forEach(function(l,c){return o(c,l,e)})}function Q5(e){var o=e[ip];return o?o.i>3?o.i-4:o.i:Array.isArray(e)?1:Gce(e)?2:Kce(e)?3:0}function Fie(e,o){return Q5(e)===2?e.has(o):Object.prototype.hasOwnProperty.call(e,o)}function JTe(e,o){return Q5(e)===2?e.get(o):e[o]}function NCe(e,o,s){var l=Q5(e);l===2?e.set(o,s):l===3?(e.delete(o),e.add(s)):e[o]=s}function QTe(e,o){return e===o?e!==0||1/e==1/o:e!=e&&o!=o}function Gce(e){return oOe&&e instanceof Map}function Kce(e){return rOe&&e instanceof Set}function ZE(e){return e.o||e.t}function Yce(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var o=aOe(e);delete o[ip];for(var s=eue(o),l=0;l<s.length;l++){var c=s[l],d=o[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(o[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),o)}function Xce(e,o){return o===void 0&&(o=!1),Jce(e)||O4(e)||!_4(e)||(Q5(e)>1&&(e.set=e.add=e.clear=e.delete=eOe),Object.freeze(e),o&&aP(e,function(s,l){return Xce(l,!0)},!0)),e}function eOe(){sf(2)}function Jce(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function cy(e){var o=lOe[e];return o||sf(18,e),o}function uge(){return E5||sf(0),E5}function Gne(e,o){o&&(cy("Patches"),e.u=[],e.s=[],e.v=o)}function yU(e){Rie(e),e.p.forEach(tOe),e.p=null}function Rie(e){e===E5&&(E5=e.l)}function fge(e){return E5={p:[],l:E5,h:e,m:!0,_:0}}function tOe(e){var o=e[ip];o.i===0||o.i===1?o.j():o.O=!0}function Kne(e,o){o._=o.p.length;var s=o.p[0],l=e!==void 0&&e!==s;return o.h.g||cy("ES5").S(o,e,l),l?(s[ip].P&&(yU(o),sf(4)),_4(e)&&(e=wU(o,e),o.l||CU(o,e)),o.u&&cy("Patches").M(s[ip],e,o.u,o.s)):e=wU(o,s,[]),yU(o),o.u&&o.v(o.u,o.s),e!==PCe?e:void 0}function wU(e,o,s){if(Jce(o))return o;var l=o[ip];if(!l)return aP(o,function(d,p){return dge(e,l,o,d,p,s)},!0),o;if(l.A!==e)return o;if(!l.P)return CU(e,l.t,!0),l.t;if(!l.I){l.I=!0,l.A._--;var c=l.i===4||l.i===5?l.o=Yce(l.k):l.o;aP(l.i===3?new Set(c):c,function(d,p){return dge(e,l,c,d,p,s)}),CU(e,c,!1),s&&e.u&&cy("Patches").R(l,s,e.u,e.s)}return l.o}function dge(e,o,s,l,c,d){if(c===s&&sf(5),O4(c)){var p=wU(e,c,d&&o&&o.i!==3&&!Fie(o.D,l)?d.concat(l):void 0);if(NCe(s,l,p),!O4(p))return;e.m=!1}if(_4(c)&&!Jce(c)){if(!e.h.F&&e._<1)return;wU(e,c),o&&o.A.l||CU(e,c)}}function CU(e,o,s){s===void 0&&(s=!1),e.h.F&&e.m&&Xce(o,s)}function Yne(e,o){var s=e[ip];return(s?ZE(s):e)[o]}function hge(e,o){if(o in e)for(var s=Object.getPrototypeOf(e);s;){var l=Object.getOwnPropertyDescriptor(s,o);if(l)return l;s=Object.getPrototypeOf(s)}}function Mie(e){e.P||(e.P=!0,e.l&&Mie(e.l))}function Xne(e){e.o||(e.o=Yce(e.t))}function Iie(e,o,s){var l=Gce(o)?cy("MapSet").N(o,s):Kce(o)?cy("MapSet").T(o,s):e.g?function(c,d){var p=Array.isArray(c),v={i:p?1:0,A:d?d.A:uge(),P:!1,I:!1,D:{},l:d,t:c,k:null,o:null,j:null,C:!1},b=v,S=VV;p&&(b=[v],S=UV);var x=Proxy.revocable(b,S),T=x.revoke,E=x.proxy;return v.k=E,v.j=T,E}(o,s):cy("ES5").J(o,s);return(s?s.A:uge()).p.push(l),l}function nOe(e){return O4(e)||sf(22,e),function o(s){if(!_4(s))return s;var l,c=s[ip],d=Q5(s);if(c){if(!c.P&&(c.i<4||!cy("ES5").K(c)))return c.t;c.I=!0,l=pge(s,d),c.I=!1}else l=pge(s,d);return aP(l,function(p,v){c&&JTe(c.t,p)===v||NCe(l,p,o(v))}),d===3?new Set(l):l}(e)}function pge(e,o){switch(o){case 2:return new Map(e);case 3:return Array.from(e)}return Yce(e)}var gge,E5,Qce=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",oOe=typeof Map<"u",rOe=typeof Set<"u",mge=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",PCe=Qce?Symbol.for("immer-nothing"):((gge={})["immer-nothing"]=!0,gge),vge=Qce?Symbol.for("immer-draftable"):"__$immer_draftable",ip=Qce?Symbol.for("immer-state"):"__$immer_state",sOe={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},iOe=""+Object.prototype.constructor,eue=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,aOe=Object.getOwnPropertyDescriptors||function(e){var o={};return eue(e).forEach(function(s){o[s]=Object.getOwnPropertyDescriptor(e,s)}),o},lOe={},VV={get:function(e,o){if(o===ip)return e;var s=ZE(e);if(!Fie(s,o))return function(c,d,p){var v,b=hge(d,p);return b?"value"in b?b.value:(v=b.get)===null||v===void 0?void 0:v.call(c.k):void 0}(e,s,o);var l=s[o];return e.I||!_4(l)?l:l===Yne(e.t,o)?(Xne(e),e.o[o]=Iie(e.A.h,l,e)):l},has:function(e,o){return o in ZE(e)},ownKeys:function(e){return Reflect.ownKeys(ZE(e))},set:function(e,o,s){var l=hge(ZE(e),o);if(l!=null&&l.set)return l.set.call(e.k,s),!0;if(!e.P){var c=Yne(ZE(e),o),d=c==null?void 0:c[ip];if(d&&d.t===s)return e.o[o]=s,e.D[o]=!1,!0;if(QTe(s,c)&&(s!==void 0||Fie(e.t,o)))return!0;Xne(e),Mie(e)}return e.o[o]===s&&typeof s!="number"&&(s!==void 0||o in e.o)||(e.o[o]=s,e.D[o]=!0,!0)},deleteProperty:function(e,o){return Yne(e.t,o)!==void 0||o in e.t?(e.D[o]=!1,Xne(e),Mie(e)):delete e.D[o],e.o&&delete e.o[o],!0},getOwnPropertyDescriptor:function(e,o){var s=ZE(e),l=Reflect.getOwnPropertyDescriptor(s,o);return l&&{writable:!0,configurable:e.i!==1||o!=="length",enumerable:l.enumerable,value:s[o]}},defineProperty:function(){sf(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){sf(12)}},UV={};aP(VV,function(e,o){UV[e]=function(){return arguments[0]=arguments[0][0],o.apply(this,arguments)}}),UV.deleteProperty=function(e,o){return isNaN(parseInt(o))&&sf(13),VV.deleteProperty.call(this,e[0],o)},UV.set=function(e,o,s){return o!=="length"&&isNaN(parseInt(o))&&sf(14),VV.set.call(this,e[0],o,s,e[0])};var cOe=function(){function e(s){var l=this;this.g=mge,this.F=!0,this.produce=function(c,d,p){if(typeof c=="function"&&typeof d!="function"){var v=d;d=c;var b=l;return function(k){var F=this;k===void 0&&(k=v);for(var N=arguments.length,$=Array(N>1?N-1:0),D=1;D<N;D++)$[D-1]=arguments[D];return b.produce(k,function(O){var P;return(P=d).call.apply(P,[F,O].concat($))})}}var S;if(typeof d!="function"&&sf(6),p!==void 0&&typeof p!="function"&&sf(7),_4(c)){var x=fge(l),T=Iie(l,c,void 0),E=!0;try{S=d(T),E=!1}finally{E?yU(x):Rie(x)}return typeof Promise<"u"&&S instanceof Promise?S.then(function(k){return Gne(x,p),Kne(k,x)},function(k){throw yU(x),k}):(Gne(x,p),Kne(S,x))}if(!c||typeof c!="object")return(S=d(c))===PCe?void 0:(S===void 0&&(S=c),l.F&&Xce(S,!0),S);sf(21,c)},this.produceWithPatches=function(c,d){return typeof c=="function"?function(b){for(var S=arguments.length,x=Array(S>1?S-1:0),T=1;T<S;T++)x[T-1]=arguments[T];return l.produceWithPatches(b,function(E){return c.apply(void 0,[E].concat(x))})}:[l.produce(c,d,function(b,S){p=b,v=S}),p,v];var p,v},typeof(s==null?void 0:s.useProxies)=="boolean"&&this.setUseProxies(s.useProxies),typeof(s==null?void 0:s.autoFreeze)=="boolean"&&this.setAutoFreeze(s.autoFreeze)}var o=e.prototype;return o.createDraft=function(s){_4(s)||sf(8),O4(s)&&(s=nOe(s));var l=fge(this),c=Iie(this,s,void 0);return c[ip].C=!0,Rie(l),c},o.finishDraft=function(s,l){var c=s&&s[ip];c&&c.C||sf(9),c.I&&sf(10);var d=c.A;return Gne(d,l),Kne(void 0,d)},o.setAutoFreeze=function(s){this.F=s},o.setUseProxies=function(s){s&&!mge&&sf(20),this.g=s},o.applyPatches=function(s,l){var c;for(c=l.length-1;c>=0;c--){var d=l[c];if(d.path.length===0&&d.op==="replace"){s=d.value;break}}c>-1&&(l=l.slice(c+1));var p=cy("Patches").$;return O4(s)?p(s,l):this.produce(s,function(v){return p(v,l)})},e}(),ap=new cOe,lq=ap.produce;ap.produceWithPatches.bind(ap);ap.setAutoFreeze.bind(ap);ap.setUseProxies.bind(ap);ap.applyPatches.bind(ap);var bge=ap.createDraft.bind(ap),yge=ap.finishDraft.bind(ap);function Yv(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}var SU=new WeakMap,hB=new WeakMap,wge=new WeakMap,Cge=new WeakMap,Sge=new WeakMap,xge=new WeakMap;function Ege(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Hz(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Ege(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ege(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var uOe=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:o=>{for(var s of ze.pathRefs(e))jOe.transform(s,o);for(var l of ze.pointRefs(e))zOe.transform(l,o);for(var c of ze.rangeRefs(e))WOe.transform(c,o);var d=new Set,p=[],v=k=>{if(k){var F=k.join(",");d.has(F)||(d.add(F),p.push(k))}},b=SU.get(e)||[],S=fOe(o);for(var x of b){var T=Ht.transform(x,o);v(T)}for(var E of S)v(E);SU.set(e,p),Qt.transform(e,o),e.operations.push(o),ze.normalize(e),o.type==="set_selection"&&(e.marks=null),hB.get(e)||(hB.set(e,!0),Promise.resolve().then(()=>{hB.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(o,s)=>{var{selection:l}=e;if(l)if(gn.isExpanded(l))Qt.setNodes(e,{[o]:s},{match:Mo.isText,split:!0});else{var c=Hz(Hz({},ze.marks(e)||{}),{},{[o]:s});e.marks=c,hB.get(e)||e.onChange()}},deleteBackward:o=>{var{selection:s}=e;s&&gn.isCollapsed(s)&&Qt.delete(e,{unit:o,reverse:!0})},deleteForward:o=>{var{selection:s}=e;s&&gn.isCollapsed(s)&&Qt.delete(e,{unit:o})},deleteFragment:o=>{var{selection:s}=e;s&&gn.isExpanded(s)&&Qt.delete(e,{reverse:o==="backward"})},getFragment:()=>{var{selection:o}=e;return o?wo.fragment(e,o):[]},insertBreak:()=>{Qt.splitNodes(e,{always:!0})},insertFragment:o=>{Qt.insertFragment(e,o)},insertNode:o=>{Qt.insertNodes(e,o)},insertText:o=>{var{selection:s,marks:l}=e;if(s){if(l){var c=Hz({text:o},l);Qt.insertNodes(e,c)}else Qt.insertText(e,o);e.marks=null}},normalizeNode:o=>{var[s,l]=o;if(!Mo.isText(s)){if(ar.isElement(s)&&s.children.length===0){var c={text:""};Qt.insertNodes(e,c,{at:l.concat(0),voids:!0});return}for(var d=ze.isEditor(s)?!1:ar.isElement(s)&&(e.isInline(s)||s.children.length===0||Mo.isText(s.children[0])||e.isInline(s.children[0])),p=0,v=0;v<s.children.length;v++,p++){var b=wo.get(e,l);if(!Mo.isText(b)){var S=s.children[v],x=b.children[p-1],T=v===s.children.length-1,E=Mo.isText(S)||ar.isElement(S)&&e.isInline(S);if(E!==d)Qt.removeNodes(e,{at:l.concat(p),voids:!0}),p--;else if(ar.isElement(S)){if(e.isInline(S)){if(x==null||!Mo.isText(x)){var k={text:""};Qt.insertNodes(e,k,{at:l.concat(p),voids:!0}),p++}else if(T){var F={text:""};Qt.insertNodes(e,F,{at:l.concat(p+1),voids:!0}),p++}}}else x!=null&&Mo.isText(x)&&(Mo.equals(S,x,{loose:!0})?(Qt.mergeNodes(e,{at:l.concat(p),voids:!0}),p--):x.text===""?(Qt.removeNodes(e,{at:l.concat(p-1),voids:!0}),p--):S.text===""&&(Qt.removeNodes(e,{at:l.concat(p),voids:!0}),p--))}}}},removeMark:o=>{var{selection:s}=e;if(s)if(gn.isExpanded(s))Qt.unsetNodes(e,o,{match:Mo.isText,split:!0});else{var l=Hz({},ze.marks(e)||{});delete l[o],e.marks=l,hB.get(e)||e.onChange()}}};return e},fOe=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:o}=e;return Ht.levels(o)}case"insert_node":{var{node:s,path:l}=e,c=Ht.levels(l),d=Mo.isText(s)?[]:Array.from(wo.nodes(s),xe=>{var[,se]=xe;return l.concat(se)});return[...c,...d]}case"merge_node":{var{path:p}=e,v=Ht.ancestors(p),b=Ht.previous(p);return[...v,b]}case"move_node":{var{path:S,newPath:x}=e;if(Ht.equals(S,x))return[];var T=[],E=[];for(var k of Ht.ancestors(S)){var F=Ht.transform(k,e);T.push(F)}for(var N of Ht.ancestors(x)){var $=Ht.transform(N,e);E.push($)}var D=E[E.length-1],O=x[x.length-1],P=D.concat(O);return[...T,...E,P]}case"remove_node":{var{path:I}=e,z=Ht.ancestors(I);return[...z]}case"split_node":{var{path:K}=e,j=Ht.levels(K),oe=Ht.next(K);return[...j,oe]}default:return[]}};function dOe(e,o){if(e==null)return{};var s={},l=Object.keys(e),c,d;for(d=0;d<l.length;d++)c=l[d],!(o.indexOf(c)>=0)&&(s[c]=e[c]);return s}function py(e,o){if(e==null)return{};var s=dOe(e,o),l,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)l=d[c],!(o.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}var tue=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=!s,c=s?bOe(o):o,d=ys.None,p=ys.None,v=0,b=null,S=null;for(var x of c){var T=x.codePointAt(0);if(!T)break;var E=$Oe(x,T);if([d,p]=l?[p,E]:[E,d],i5(d,ys.ZWJ)&&i5(p,ys.ExtPict)&&(l?b=kge(o.substring(0,v)):b=kge(o.substring(0,o.length-v)),!b)||i5(d,ys.RI)&&i5(p,ys.RI)&&(S!==null?S=!S:l?S=!0:S=FOe(o.substring(0,o.length-v)),!S)||d!==ys.None&&p!==ys.None&&BOe(d,p))break;v+=x.length}return v||1},hOe=/\s/,pOe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,gOe=/['\u2018\u2019]/,mOe=function(o){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=0,c=!1;o.length>0;){var d=tue(o,s),[p,v]=nue(o,d,s);if(vOe(p,v,s))c=!0,l+=d;else if(!c)l+=d;else break;o=v}return l},nue=(e,o,s)=>{if(s){var l=e.length-o;return[e.slice(l,e.length),e.slice(0,l)]}return[e.slice(0,o),e.slice(o)]},vOe=function e(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(hOe.test(o))return!1;if(gOe.test(o)){var c=tue(s,l),[d,p]=nue(s,c,l);if(e(d,p,l))return!0}return!pOe.test(o)},bOe=function*(o){for(var s=o.length-1,l=0;l<o.length;l++){var c=o.charAt(s-l);if(wOe(c.charCodeAt(0))){var d=o.charAt(s-l-1);if(yOe(d.charCodeAt(0))){yield d+c,l++;continue}}yield c}},yOe=e=>e>=55296&&e<=56319,wOe=e=>e>=56320&&e<=57343,ys;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(ys||(ys={}));var COe=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,SOe=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,xOe=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,EOe=/^[\u1100-\u115F\uA960-\uA97C]$/,kOe=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,AOe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,TOe=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,OOe=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,_Oe=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,$Oe=(e,o)=>{var s=ys.Any;return e.search(COe)!==-1&&(s|=ys.Extend),o===8205&&(s|=ys.ZWJ),o>=127462&&o<=127487&&(s|=ys.RI),e.search(SOe)!==-1&&(s|=ys.Prepend),e.search(xOe)!==-1&&(s|=ys.SpacingMark),e.search(EOe)!==-1&&(s|=ys.L),e.search(kOe)!==-1&&(s|=ys.V),e.search(AOe)!==-1&&(s|=ys.T),e.search(TOe)!==-1&&(s|=ys.LV),e.search(OOe)!==-1&&(s|=ys.LVT),e.search(_Oe)!==-1&&(s|=ys.ExtPict),s};function i5(e,o){return(e&o)!==0}var DOe=[[ys.L,ys.L|ys.V|ys.LV|ys.LVT],[ys.LV|ys.V,ys.V|ys.T],[ys.LVT|ys.T,ys.T],[ys.Any,ys.Extend|ys.ZWJ],[ys.Any,ys.SpacingMark],[ys.Prepend,ys.Any],[ys.ZWJ,ys.ExtPict],[ys.RI,ys.RI]];function BOe(e,o){return DOe.findIndex(s=>i5(e,s[0])&&i5(o,s[1]))===-1}var NOe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,kge=e=>e.search(NOe)!==-1,POe=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,FOe=e=>{var o=e.match(POe);if(o===null)return!1;var s=o[0].length/2;return s%2===1},Age=e=>Rf(e)&&wo.isNodeList(e.children)&&!ze.isEditor(e),ar={isAncestor(e){return Rf(e)&&wo.isNodeList(e.children)},isElement:Age,isElementList(e){return Array.isArray(e)&&e.every(o=>ar.isElement(o))},isElementProps(e){return e.children!==void 0},isElementType:function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Age(o)&&o[l]===s},matches(e,o){for(var s in o)if(s!=="children"&&e[s]!==o[s])return!1;return!0}},ROe=["text"],MOe=["text"];function Tge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function EO(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Tge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Tge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Oge=new WeakMap,ze={above(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:s=!1,mode:l="lowest",at:c=e.selection,match:d}=o;if(!!c){var p=ze.path(e,c),v=l==="lowest";for(var[b,S]of ze.levels(e,{at:p,voids:s,match:d,reverse:v}))if(!Mo.isText(b)&&!Ht.equals(p,S))return[b,S]}},addMark(e,o,s){e.addMark(o,s)},after(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.point(e,o,{edge:"end"}),c=ze.end(e,[]),d={anchor:l,focus:c},{distance:p=1}=s,v=0,b;for(var S of ze.positions(e,EO(EO({},s),{},{at:d}))){if(v>p)break;v!==0&&(b=S),v++}return b},before(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.start(e,[]),c=ze.point(e,o,{edge:"start"}),d={anchor:l,focus:c},{distance:p=1}=s,v=0,b;for(var S of ze.positions(e,EO(EO({},s),{},{at:d,reverse:!0}))){if(v>p)break;v!==0&&(b=S),v++}return b},deleteBackward(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:s="character"}=o;e.deleteBackward(s)},deleteForward(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:s="character"}=o;e.deleteForward(s)},deleteFragment(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:s="forward"}=o;e.deleteFragment(s)},edges(e,o){return[ze.start(e,o),ze.end(e,o)]},end(e,o){return ze.point(e,o,{edge:"end"})},first(e,o){var s=ze.path(e,o,{edge:"start"});return ze.node(e,s)},fragment(e,o){var s=ze.range(e,o),l=wo.fragment(e,s);return l},hasBlocks(e,o){return o.children.some(s=>ze.isBlock(e,s))},hasInlines(e,o){return o.children.some(s=>Mo.isText(s)||ze.isInline(e,s))},hasTexts(e,o){return o.children.every(s=>Mo.isText(s))},insertBreak(e){e.insertBreak()},insertFragment(e,o){e.insertFragment(o)},insertNode(e,o){e.insertNode(o)},insertText(e,o){e.insertText(o)},isBlock(e,o){return ar.isElement(o)&&!e.isInline(o)},isEditor(e){if(!Rf(e))return!1;var o=Oge.get(e);if(o!==void 0)return o;var s=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteBackward=="function"&&typeof e.deleteForward=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isInline=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&(e.marks===null||Rf(e.marks))&&(e.selection===null||gn.isRange(e.selection))&&wo.isNodeList(e.children)&&Jw.isOperationList(e.operations);return Oge.set(e,s),s},isEnd(e,o,s){var l=ze.end(e,s);return Bs.equals(o,l)},isEdge(e,o,s){return ze.isStart(e,o,s)||ze.isEnd(e,o,s)},isEmpty(e,o){var{children:s}=o,[l]=s;return s.length===0||s.length===1&&Mo.isText(l)&&l.text===""&&!e.isVoid(o)},isInline(e,o){return ar.isElement(o)&&e.isInline(o)},isNormalizing(e){var o=wge.get(e);return o===void 0?!0:o},isStart(e,o,s){if(o.offset!==0)return!1;var l=ze.start(e,s);return Bs.equals(o,l)},isVoid(e,o){return ar.isElement(o)&&e.isVoid(o)},last(e,o){var s=ze.path(e,o,{edge:"end"});return ze.node(e,s)},leaf(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.path(e,o,s),c=wo.leaf(e,l);return[c,l]},*levels(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:s=e.selection,reverse:l=!1,voids:c=!1}=o,{match:d}=o;if(d==null&&(d=()=>!0),!!s){var p=[],v=ze.path(e,s);for(var[b,S]of wo.levels(e,v))if(!!d(b,S)&&(p.push([b,S]),!c&&ze.isVoid(e,b)))break;l&&p.reverse(),yield*p}},marks(e){var{marks:o,selection:s}=e;if(!s)return null;if(o)return o;if(gn.isExpanded(s)){var[l]=ze.nodes(e,{match:Mo.isText});if(l){var[c]=l,d=py(c,ROe);return d}else return{}}var{anchor:p}=s,{path:v}=p,[b]=ze.leaf(e,v);if(p.offset===0){var S=ze.previous(e,{at:v,match:Mo.isText}),x=ze.above(e,{match:N=>ze.isBlock(e,N)});if(S&&x){var[T,E]=S,[,k]=x;Ht.isAncestor(k,E)&&(b=T)}}var F=py(b,MOe);return F},next(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:s="lowest",voids:l=!1}=o,{match:c,at:d=e.selection}=o;if(!!d){var p=ze.after(e,d,{voids:l});if(!!p){var[,v]=ze.last(e,[]),b=[p.path,v];if(Ht.isPath(d)&&d.length===0)throw new Error("Cannot get the next node from the root node!");if(c==null)if(Ht.isPath(d)){var[S]=ze.parent(e,d);c=T=>S.children.includes(T)}else c=()=>!0;var[x]=ze.nodes(e,{at:b,match:c,mode:s,voids:l});return x}}},node(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.path(e,o,s),c=wo.get(e,l);return[c,l]},*nodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:s=e.selection,mode:l="all",universal:c=!1,reverse:d=!1,voids:p=!1}=o,{match:v}=o;if(v||(v=()=>!0),!!s){var b,S;if(IOe.isSpan(s))b=s[0],S=s[1];else{var x=ze.path(e,s,{edge:"start"}),T=ze.path(e,s,{edge:"end"});b=d?T:x,S=d?x:T}var E=wo.nodes(e,{reverse:d,from:b,to:S,pass:P=>{var[I]=P;return p?!1:ze.isVoid(e,I)}}),k=[],F;for(var[N,$]of E){var D=F&&Ht.compare($,F[1])===0;if(!(l==="highest"&&D)){if(!v(N,$)){if(c&&!D&&Mo.isText(N))return;continue}if(l==="lowest"&&D){F=[N,$];continue}var O=l==="lowest"?F:[N,$];O&&(c?k.push(O):yield O),F=[N,$]}}l==="lowest"&&F&&(c?k.push(F):yield F),c&&(yield*k)}},normalize(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:s=!1}=o,l=d=>SU.get(d)||[];if(!!ze.isNormalizing(e)){if(s){var c=Array.from(wo.nodes(e),d=>{var[,p]=d;return p});SU.set(e,c)}l(e).length!==0&&ze.withoutNormalizing(e,()=>{for(var d of l(e))if(wo.has(e,d)){var p=ze.node(e,d),[v,b]=p;ar.isElement(v)&&v.children.length===0&&e.normalizeNode(p)}for(var S=l(e).length*42,x=0;l(e).length!==0;){if(x>S)throw new Error(`
            Could not completely normalize the editor after `.concat(S,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var T=l(e).pop();if(wo.has(e,T)){var E=ze.node(e,T);e.normalizeNode(E)}x++}})}},parent(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=ze.path(e,o,s),c=Ht.parent(l),d=ze.node(e,c);return d},path(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:l,edge:c}=s;if(Ht.isPath(o)){if(c==="start"){var[,d]=wo.first(e,o);o=d}else if(c==="end"){var[,p]=wo.last(e,o);o=p}}return gn.isRange(o)&&(c==="start"?o=gn.start(o):c==="end"?o=gn.end(o):o=Ht.common(o.anchor.path,o.focus.path)),Bs.isPoint(o)&&(o=o.path),l!=null&&(o=o.slice(0,l)),o},hasPath(e,o){return wo.has(e,o)},pathRef(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:l="forward"}=s,c={current:o,affinity:l,unref(){var{current:p}=c,v=ze.pathRefs(e);return v.delete(c),c.current=null,p}},d=ze.pathRefs(e);return d.add(c),c},pathRefs(e){var o=Cge.get(e);return o||(o=new Set,Cge.set(e,o)),o},point(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:l="start"}=s;if(Ht.isPath(o)){var c;if(l==="end"){var[,d]=wo.last(e,o);c=d}else{var[,p]=wo.first(e,o);c=p}var v=wo.get(e,c);if(!Mo.isText(v))throw new Error("Cannot get the ".concat(l," point in the node at path [").concat(o,"] because it has no ").concat(l," text node."));return{path:c,offset:l==="end"?v.text.length:0}}if(gn.isRange(o)){var[b,S]=gn.edges(o);return l==="start"?b:S}return o},pointRef(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:l="forward"}=s,c={current:o,affinity:l,unref(){var{current:p}=c,v=ze.pointRefs(e);return v.delete(c),c.current=null,p}},d=ze.pointRefs(e);return d.add(c),c},pointRefs(e){var o=Sge.get(e);return o||(o=new Set,Sge.set(e,o)),o},*positions(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:s=e.selection,unit:l="offset",reverse:c=!1,voids:d=!1}=o;if(!s)return;var p=ze.range(e,s),[v,b]=gn.edges(p),S=c?b:v,x=!1,T="",E=0,k=0,F=0;for(var[N,$]of ze.nodes(e,{at:s,reverse:c,voids:d})){if(ar.isElement(N)){if(!d&&e.isVoid(N)){yield ze.start(e,$);continue}if(e.isInline(N))continue;if(ze.hasInlines(e,N)){var D=Ht.isAncestor($,b.path)?b:ze.end(e,$),O=Ht.isAncestor($,v.path)?v:ze.start(e,$);T=ze.string(e,{anchor:O,focus:D},{voids:d}),x=!0}}if(Mo.isText(N)){var P=Ht.equals($,S.path);for(P?(k=c?S.offset:N.text.length-S.offset,F=S.offset):(k=N.text.length,F=c?k:0),(P||x||l==="offset")&&(yield{path:$,offset:F},x=!1);;){if(E===0){if(T==="")break;E=I(T,l,c),T=nue(T,E,c)[1]}if(F=c?F-E:F+E,k=k-E,k<0){E=-k;break}E=0,yield{path:$,offset:F}}}}function I(z,K,j){return K==="character"?tue(z,j):K==="word"?mOe(z,j):K==="line"||K==="block"?z.length:1}},previous(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:s="lowest",voids:l=!1}=o,{match:c,at:d=e.selection}=o;if(!!d){var p=ze.before(e,d,{voids:l});if(!!p){var[,v]=ze.first(e,[]),b=[p.path,v];if(Ht.isPath(d)&&d.length===0)throw new Error("Cannot get the previous node from the root node!");if(c==null)if(Ht.isPath(d)){var[S]=ze.parent(e,d);c=T=>S.children.includes(T)}else c=()=>!0;var[x]=ze.nodes(e,{reverse:!0,at:b,match:c,mode:s,voids:l});return x}}},range(e,o,s){if(gn.isRange(o)&&!s)return o;var l=ze.start(e,o),c=ze.end(e,s||o);return{anchor:l,focus:c}},rangeRef(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:l="forward"}=s,c={current:o,affinity:l,unref(){var{current:p}=c,v=ze.rangeRefs(e);return v.delete(c),c.current=null,p}},d=ze.rangeRefs(e);return d.add(c),c},rangeRefs(e){var o=xge.get(e);return o||(o=new Set,xge.set(e,o)),o},removeMark(e,o){e.removeMark(o)},setNormalizing(e,o){wge.set(e,o)},start(e,o){return ze.point(e,o,{edge:"start"})},string(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:l=!1}=s,c=ze.range(e,o),[d,p]=gn.edges(c),v="";for(var[b,S]of ze.nodes(e,{at:c,match:Mo.isText,voids:l})){var x=b.text;Ht.equals(S,p.path)&&(x=x.slice(0,p.offset)),Ht.equals(S,d.path)&&(x=x.slice(d.offset)),v+=x}return v},unhangRange(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:l=!1}=s,[c,d]=gn.edges(o);if(c.offset!==0||d.offset!==0||gn.isCollapsed(o))return o;var p=ze.above(e,{at:d,match:k=>ze.isBlock(e,k)}),v=p?p[1]:[],b=ze.start(e,[]),S={anchor:b,focus:d},x=!0;for(var[T,E]of ze.nodes(e,{at:S,match:Mo.isText,reverse:!0,voids:l})){if(x){x=!1;continue}if(T.text!==""||Ht.isBefore(E,v)){d={path:E,offset:T.text.length};break}}return{anchor:c,focus:d}},void(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ze.above(e,EO(EO({},o),{},{match:s=>ze.isVoid(e,s)}))},withoutNormalizing(e,o){var s=ze.isNormalizing(e);ze.setNormalizing(e,!1);try{o()}finally{ze.setNormalizing(e,s)}ze.normalize(e)}},IOe={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(Ht.isPath)}},LOe=["children"],HOe=["text"],_ge=new WeakMap,wo={ancestor(e,o){var s=wo.get(e,o);if(Mo.isText(s))throw new Error("Cannot get the ancestor node at path [".concat(o,"] because it refers to a text node instead: ").concat(s));return s},*ancestors(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var l of Ht.ancestors(o,s)){var c=wo.ancestor(e,l),d=[c,l];yield d}},child(e,o){if(Mo.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var s=e.children[o];if(s==null)throw new Error("Cannot get child at index `".concat(o,"` in node: ").concat(JSON.stringify(e)));return s},*children(e,o){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:l=!1}=s,c=wo.ancestor(e,o),{children:d}=c,p=l?d.length-1:0;l?p>=0:p<d.length;){var v=wo.child(c,p),b=o.concat(p);yield[v,b],p=l?p-1:p+1}},common(e,o,s){var l=Ht.common(o,s),c=wo.get(e,l);return[c,l]},descendant(e,o){var s=wo.get(e,o);if(ze.isEditor(s))throw new Error("Cannot get the descendant node at path [".concat(o,"] because it refers to the root editor node instead: ").concat(s));return s},*descendants(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[s,l]of wo.nodes(e,o))l.length!==0&&(yield[s,l])},*elements(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[s,l]of wo.nodes(e,o))ar.isElement(s)&&(yield[s,l])},extractProps(e){if(ar.isAncestor(e)){var o=py(e,LOe);return o}else{var o=py(e,HOe);return o}},first(e,o){for(var s=o.slice(),l=wo.get(e,s);l&&!(Mo.isText(l)||l.children.length===0);)l=l.children[0],s.push(0);return[l,s]},fragment(e,o){if(Mo.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));var s=lq({children:e.children},l=>{var[c,d]=gn.edges(o),p=wo.nodes(l,{reverse:!0,pass:E=>{var[,k]=E;return!gn.includes(o,k)}});for(var[,v]of p){if(!gn.includes(o,v)){var b=wo.parent(l,v),S=v[v.length-1];b.children.splice(S,1)}if(Ht.equals(v,d.path)){var x=wo.leaf(l,v);x.text=x.text.slice(0,d.offset)}if(Ht.equals(v,c.path)){var T=wo.leaf(l,v);T.text=T.text.slice(c.offset)}}ze.isEditor(l)&&(l.selection=null)});return s.children},get(e,o){for(var s=e,l=0;l<o.length;l++){var c=o[l];if(Mo.isText(s)||!s.children[c])throw new Error("Cannot find a descendant at path [".concat(o,"] in node: ").concat(JSON.stringify(e)));s=s.children[c]}return s},has(e,o){for(var s=e,l=0;l<o.length;l++){var c=o[l];if(Mo.isText(s)||!s.children[c])return!1;s=s.children[c]}return!0},isNode(e){return Mo.isText(e)||ar.isElement(e)||ze.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var o=_ge.get(e);if(o!==void 0)return o;var s=e.every(l=>wo.isNode(l));return _ge.set(e,s),s},last(e,o){for(var s=o.slice(),l=wo.get(e,s);l&&!(Mo.isText(l)||l.children.length===0);){var c=l.children.length-1;l=l.children[c],s.push(c)}return[l,s]},leaf(e,o){var s=wo.get(e,o);if(!Mo.isText(s))throw new Error("Cannot get the leaf node at path [".concat(o,"] because it refers to a non-leaf node: ").concat(s));return s},*levels(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var l of Ht.levels(o,s)){var c=wo.get(e,l);yield[c,l]}},matches(e,o){return ar.isElement(e)&&ar.isElementProps(o)&&ar.matches(e,o)||Mo.isText(e)&&Mo.isTextProps(o)&&Mo.matches(e,o)},*nodes(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:s,reverse:l=!1}=o,{from:c=[],to:d}=o,p=new Set,v=[],b=e;!(d&&(l?Ht.isBefore(v,d):Ht.isAfter(v,d)));){if(p.has(b)||(yield[b,v]),!p.has(b)&&!Mo.isText(b)&&b.children.length!==0&&(s==null||s([b,v])===!1)){p.add(b);var S=l?b.children.length-1:0;Ht.isAncestor(v,c)&&(S=c[v.length]),v=v.concat(S),b=wo.get(e,v);continue}if(v.length===0)break;if(!l){var x=Ht.next(v);if(wo.has(e,x)){v=x,b=wo.get(e,v);continue}}if(l&&v[v.length-1]!==0){var T=Ht.previous(v);v=T,b=wo.get(e,v);continue}v=Ht.parent(v),b=wo.get(e,v),p.add(b)}},parent(e,o){var s=Ht.parent(o),l=wo.get(e,s);if(Mo.isText(l))throw new Error("Cannot get the parent of path [".concat(o,"] because it does not exist in the root."));return l},string(e){return Mo.isText(e)?e.text:e.children.map(wo.string).join("")},*texts(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[s,l]of wo.nodes(e,o))Mo.isText(s)&&(yield[s,l])}};function $ge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function El(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?$ge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$ge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Jw={isNodeOperation(e){return Jw.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Rf(e))return!1;switch(e.type){case"insert_node":return Ht.isPath(e.path)&&wo.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&Ht.isPath(e.path);case"merge_node":return typeof e.position=="number"&&Ht.isPath(e.path)&&Rf(e.properties);case"move_node":return Ht.isPath(e.path)&&Ht.isPath(e.newPath);case"remove_node":return Ht.isPath(e.path)&&wo.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&Ht.isPath(e.path);case"set_node":return Ht.isPath(e.path)&&Rf(e.properties)&&Rf(e.newProperties);case"set_selection":return e.properties===null&&gn.isRange(e.newProperties)||e.newProperties===null&&gn.isRange(e.properties)||Rf(e.properties)&&Rf(e.newProperties);case"split_node":return Ht.isPath(e.path)&&typeof e.position=="number"&&Rf(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(o=>Jw.isOperation(o))},isSelectionOperation(e){return Jw.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Jw.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return El(El({},e),{},{type:"remove_node"});case"insert_text":return El(El({},e),{},{type:"remove_text"});case"merge_node":return El(El({},e),{},{type:"split_node",path:Ht.previous(e.path)});case"move_node":{var{newPath:o,path:s}=e;if(Ht.equals(o,s))return e;if(Ht.isSibling(s,o))return El(El({},e),{},{path:o,newPath:s});var l=Ht.transform(s,e),c=Ht.transform(Ht.next(s),e);return El(El({},e),{},{path:l,newPath:c})}case"remove_node":return El(El({},e),{},{type:"insert_node"});case"remove_text":return El(El({},e),{},{type:"insert_text"});case"set_node":{var{properties:d,newProperties:p}=e;return El(El({},e),{},{properties:p,newProperties:d})}case"set_selection":{var{properties:v,newProperties:b}=e;return v==null?El(El({},e),{},{properties:b,newProperties:null}):b==null?El(El({},e),{},{properties:null,newProperties:v}):El(El({},e),{},{properties:b,newProperties:v})}case"split_node":return El(El({},e),{},{type:"merge_node",path:Ht.next(e.path)})}}},Ht={ancestors(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:s=!1}=o,l=Ht.levels(e,o);return s?l=l.slice(1):l=l.slice(0,-1),l},common(e,o){for(var s=[],l=0;l<e.length&&l<o.length;l++){var c=e[l],d=o[l];if(c!==d)break;s.push(c)}return s},compare(e,o){for(var s=Math.min(e.length,o.length),l=0;l<s;l++){if(e[l]<o[l])return-1;if(e[l]>o[l])return 1}return 0},endsAfter(e,o){var s=e.length-1,l=e.slice(0,s),c=o.slice(0,s),d=e[s],p=o[s];return Ht.equals(l,c)&&d>p},endsAt(e,o){var s=e.length,l=e.slice(0,s),c=o.slice(0,s);return Ht.equals(l,c)},endsBefore(e,o){var s=e.length-1,l=e.slice(0,s),c=o.slice(0,s),d=e[s],p=o[s];return Ht.equals(l,c)&&d<p},equals(e,o){return e.length===o.length&&e.every((s,l)=>s===o[l])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,o){return Ht.compare(e,o)===1},isAncestor(e,o){return e.length<o.length&&Ht.compare(e,o)===0},isBefore(e,o){return Ht.compare(e,o)===-1},isChild(e,o){return e.length===o.length+1&&Ht.compare(e,o)===0},isCommon(e,o){return e.length<=o.length&&Ht.compare(e,o)===0},isDescendant(e,o){return e.length>o.length&&Ht.compare(e,o)===0},isParent(e,o){return e.length+1===o.length&&Ht.compare(e,o)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,o){if(e.length!==o.length)return!1;var s=e.slice(0,-1),l=o.slice(0,-1),c=e[e.length-1],d=o[o.length-1];return c!==d&&Ht.equals(s,l)},levels(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:s=!1}=o,l=[],c=0;c<=e.length;c++)l.push(e.slice(0,c));return s&&l.reverse(),l},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var o=e[e.length-1];return e.slice(0,-1).concat(o+1)},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var o=e[e.length-1];if(o<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(o-1)},relative(e,o){if(!Ht.isAncestor(o,e)&&!Ht.equals(e,o))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(o,"], because it is not above or equal to the path."));return e.slice(o.length)},transform(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lq(e,l=>{var{affinity:c="forward"}=s;if(!(!e||(e==null?void 0:e.length)===0)){if(l===null)return null;switch(o.type){case"insert_node":{var{path:d}=o;(Ht.equals(d,l)||Ht.endsBefore(d,l)||Ht.isAncestor(d,l))&&(l[d.length-1]+=1);break}case"remove_node":{var{path:p}=o;if(Ht.equals(p,l)||Ht.isAncestor(p,l))return null;Ht.endsBefore(p,l)&&(l[p.length-1]-=1);break}case"merge_node":{var{path:v,position:b}=o;Ht.equals(v,l)||Ht.endsBefore(v,l)?l[v.length-1]-=1:Ht.isAncestor(v,l)&&(l[v.length-1]-=1,l[v.length]+=b);break}case"split_node":{var{path:S,position:x}=o;if(Ht.equals(S,l)){if(c==="forward")l[l.length-1]+=1;else if(c!=="backward")return null}else Ht.endsBefore(S,l)?l[S.length-1]+=1:Ht.isAncestor(S,l)&&e[S.length]>=x&&(l[S.length-1]+=1,l[S.length]-=x);break}case"move_node":{var{path:T,newPath:E}=o;if(Ht.equals(T,E))return;if(Ht.isAncestor(T,l)||Ht.equals(T,l)){var k=E.slice();return Ht.endsBefore(T,E)&&T.length<E.length&&(k[T.length-1]-=1),k.concat(l.slice(T.length))}else Ht.isSibling(T,E)&&(Ht.isAncestor(E,l)||Ht.equals(E,l))?Ht.endsBefore(T,l)?l[T.length-1]-=1:l[T.length-1]+=1:Ht.endsBefore(E,l)||Ht.equals(E,l)||Ht.isAncestor(E,l)?(Ht.endsBefore(T,l)&&(l[T.length-1]-=1),l[E.length-1]+=1):Ht.endsBefore(T,l)&&(Ht.equals(E,l)&&(l[E.length-1]+=1),l[T.length-1]-=1);break}}}})}},jOe={transform(e,o){var{current:s,affinity:l}=e;if(s!=null){var c=Ht.transform(s,o,{affinity:l});e.current=c,c==null&&e.unref()}}};function Dge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Bge(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Dge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Dge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Bs={compare(e,o){var s=Ht.compare(e.path,o.path);return s===0?e.offset<o.offset?-1:e.offset>o.offset?1:0:s},isAfter(e,o){return Bs.compare(e,o)===1},isBefore(e,o){return Bs.compare(e,o)===-1},equals(e,o){return e.offset===o.offset&&Ht.equals(e.path,o.path)},isPoint(e){return Rf(e)&&typeof e.offset=="number"&&Ht.isPath(e.path)},transform(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lq(e,l=>{if(l===null)return null;var{affinity:c="forward"}=s,{path:d,offset:p}=l;switch(o.type){case"insert_node":case"move_node":{l.path=Ht.transform(d,o,s);break}case"insert_text":{Ht.equals(o.path,d)&&o.offset<=p&&(l.offset+=o.text.length);break}case"merge_node":{Ht.equals(o.path,d)&&(l.offset+=o.position),l.path=Ht.transform(d,o,s);break}case"remove_text":{Ht.equals(o.path,d)&&o.offset<=p&&(l.offset-=Math.min(p-o.offset,o.text.length));break}case"remove_node":{if(Ht.equals(o.path,d)||Ht.isAncestor(o.path,d))return null;l.path=Ht.transform(d,o,s);break}case"split_node":{if(Ht.equals(o.path,d)){if(o.position===p&&c==null)return null;(o.position<p||o.position===p&&c==="forward")&&(l.offset-=o.position,l.path=Ht.transform(d,o,Bge(Bge({},s),{},{affinity:"forward"})))}else l.path=Ht.transform(d,o,s);break}}})}},zOe={transform(e,o){var{current:s,affinity:l}=e;if(s!=null){var c=Bs.transform(s,o,{affinity:l});e.current=c,c==null&&e.unref()}}},VOe=["anchor","focus"];function Nge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function UOe(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Nge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Nge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var gn={edges(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:s=!1}=o,{anchor:l,focus:c}=e;return gn.isBackward(e)===s?[l,c]:[c,l]},end(e){var[,o]=gn.edges(e);return o},equals(e,o){return Bs.equals(e.anchor,o.anchor)&&Bs.equals(e.focus,o.focus)},includes(e,o){if(gn.isRange(o)){if(gn.includes(e,o.anchor)||gn.includes(e,o.focus))return!0;var[s,l]=gn.edges(e),[c,d]=gn.edges(o);return Bs.isBefore(s,c)&&Bs.isAfter(l,d)}var[p,v]=gn.edges(e),b=!1,S=!1;return Bs.isPoint(o)?(b=Bs.compare(o,p)>=0,S=Bs.compare(o,v)<=0):(b=Ht.compare(o,p.path)>=0,S=Ht.compare(o,v.path)<=0),b&&S},intersection(e,o){var s=py(e,VOe),[l,c]=gn.edges(e),[d,p]=gn.edges(o),v=Bs.isBefore(l,d)?d:l,b=Bs.isBefore(c,p)?c:p;return Bs.isBefore(b,v)?null:UOe({anchor:v,focus:b},s)},isBackward(e){var{anchor:o,focus:s}=e;return Bs.isAfter(o,s)},isCollapsed(e){var{anchor:o,focus:s}=e;return Bs.equals(o,s)},isExpanded(e){return!gn.isCollapsed(e)},isForward(e){return!gn.isBackward(e)},isRange(e){return Rf(e)&&Bs.isPoint(e.anchor)&&Bs.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[o]=gn.edges(e);return o},transform(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return lq(e,l=>{if(l===null)return null;var{affinity:c="inward"}=s,d,p;if(c==="inward"){var v=gn.isCollapsed(l);gn.isForward(l)?(d="forward",p=v?d:"backward"):(d="backward",p=v?d:"forward")}else c==="outward"?gn.isForward(l)?(d="backward",p="forward"):(d="forward",p="backward"):(d=c,p=c);var b=Bs.transform(l.anchor,o,{affinity:d}),S=Bs.transform(l.focus,o,{affinity:p});if(!b||!S)return null;l.anchor=b,l.focus=S})}},WOe={transform(e,o){var{current:s,affinity:l}=e;if(s!=null){var c=gn.transform(s,o,{affinity:l});e.current=c,c==null&&e.unref()}}},FCe=(e,o)=>{for(var s in e){var l=e[s],c=o[s];if(Rf(l)&&Rf(c)){if(!FCe(l,c))return!1}else if(Array.isArray(l)&&Array.isArray(c)){if(l.length!==c.length)return!1;for(var d=0;d<l.length;d++)if(l[d]!==c[d])return!1}else if(l!==c)return!1}for(var p in o)if(e[p]===void 0&&o[p]!==void 0)return!1;return!0},qOe=["text"],ZOe=["anchor","focus"];function Pge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Jb(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Pge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Mo={equals(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:l=!1}=s;function c(d){var p=py(d,qOe);return p}return FCe(l?c(e):e,l?c(o):o)},isText(e){return Rf(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(o=>Mo.isText(o))},isTextProps(e){return e.text!==void 0},matches(e,o){for(var s in o)if(s!=="text"&&(!e.hasOwnProperty(s)||e[s]!==o[s]))return!1;return!0},decorations(e,o){var s=[Jb({},e)];for(var l of o){var c=py(l,ZOe),[d,p]=gn.edges(l),v=[],b=0;for(var S of s){var{length:x}=S.text,T=b;if(b+=x,d.offset<=T&&p.offset>=b){Object.assign(S,c),v.push(S);continue}if(d.offset!==p.offset&&(d.offset===b||p.offset===T)||d.offset>b||p.offset<T||p.offset===T&&T!==0){v.push(S);continue}var E=S,k=void 0,F=void 0;if(p.offset<b){var N=p.offset-T;F=Jb(Jb({},E),{},{text:E.text.slice(N)}),E=Jb(Jb({},E),{},{text:E.text.slice(0,N)})}if(d.offset>T){var $=d.offset-T;k=Jb(Jb({},E),{},{text:E.text.slice(0,$)}),E=Jb(Jb({},E),{},{text:E.text.slice($)})}Object.assign(E,c),k&&v.push(k),v.push(E),F&&v.push(F)}s=v}return s}};function Fge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function pB(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Fge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Fge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var GOe=(e,o,s)=>{switch(s.type){case"insert_node":{var{path:l,node:c}=s,d=wo.parent(e,l),p=l[l.length-1];if(p>d.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(l,"] because the destination is past the end of the node."));if(d.children.splice(p,0,c),o)for(var[v,b]of gn.points(o))o[b]=Bs.transform(v,s);break}case"insert_text":{var{path:S,offset:x,text:T}=s;if(T.length===0)break;var E=wo.leaf(e,S),k=E.text.slice(0,x),F=E.text.slice(x);if(E.text=k+T+F,o)for(var[N,$]of gn.points(o))o[$]=Bs.transform(N,s);break}case"merge_node":{var{path:D}=s,O=wo.get(e,D),P=Ht.previous(D),I=wo.get(e,P),z=wo.parent(e,D),K=D[D.length-1];if(Mo.isText(O)&&Mo.isText(I))I.text+=O.text;else if(!Mo.isText(O)&&!Mo.isText(I))I.children.push(...O.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(D,"] to nodes of different interfaces: ").concat(O," ").concat(I));if(z.children.splice(K,1),o)for(var[j,oe]of gn.points(o))o[oe]=Bs.transform(j,s);break}case"move_node":{var{path:xe,newPath:se}=s;if(Ht.isAncestor(xe,se))throw new Error("Cannot move a path [".concat(xe,"] to new path [").concat(se,"] because the destination is inside itself."));var Q=wo.get(e,xe),G=wo.parent(e,xe),ce=xe[xe.length-1];G.children.splice(ce,1);var he=Ht.transform(xe,s),ve=wo.get(e,Ht.parent(he)),qe=he[he.length-1];if(ve.children.splice(qe,0,Q),o)for(var[U,Fe]of gn.points(o))o[Fe]=Bs.transform(U,s);break}case"remove_node":{var{path:De}=s,Se=De[De.length-1],re=wo.parent(e,De);if(re.children.splice(Se,1),o)for(var[le,fe]of gn.points(o)){var ue=Bs.transform(le,s);if(o!=null&&ue!=null)o[fe]=ue;else{var Be=void 0,Ce=void 0;for(var[me,q]of wo.texts(e))if(Ht.compare(q,De)===-1)Be=[me,q];else{Ce=[me,q];break}var Ze=!1;Be&&Ce&&(Ht.equals(Ce[1],De)?Ze=!Ht.hasPrevious(Ce[1]):Ze=Ht.common(Be[1],De).length<Ht.common(Ce[1],De).length),Be&&!Ze?(le.path=Be[1],le.offset=Be[0].text.length):Ce?(le.path=Ce[1],le.offset=0):o=null}}break}case"remove_text":{var{path:We,offset:tt,text:Qe}=s;if(Qe.length===0)break;var it=wo.leaf(e,We),He=it.text.slice(0,tt),Re=it.text.slice(tt+Qe.length);if(it.text=He+Re,o)for(var[Ve,Oe]of gn.points(o))o[Oe]=Bs.transform(Ve,s);break}case"set_node":{var{path:be,properties:ie,newProperties:Ee}=s;if(be.length===0)throw new Error("Cannot set properties on the root node!");var ot=wo.get(e,be);for(var Xe in Ee){if(Xe==="children"||Xe==="text")throw new Error('Cannot set the "'.concat(Xe,'" property of nodes!'));var zt=Ee[Xe];zt==null?delete ot[Xe]:ot[Xe]=zt}for(var qt in ie)Ee.hasOwnProperty(qt)||delete ot[qt];break}case"set_selection":{var{newProperties:bn}=s;if(bn==null)o=bn;else{if(o==null){if(!gn.isRange(bn))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(bn)," when there is no current selection."));o=pB({},bn)}for(var Kn in bn){var zn=bn[Kn];if(zn==null){if(Kn==="anchor"||Kn==="focus")throw new Error('Cannot remove the "'.concat(Kn,'" selection property'));delete o[Kn]}else o[Kn]=zn}}break}case"split_node":{var{path:fn,position:oo,properties:ft}=s;if(fn.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(fn,"] because the root node cannot be split."));var Tt=wo.get(e,fn),sn=wo.parent(e,fn),kn=fn[fn.length-1],Pn;if(Mo.isText(Tt)){var $n=Tt.text.slice(0,oo),_o=Tt.text.slice(oo);Tt.text=$n,Pn=pB(pB({},ft),{},{text:_o})}else{var mr=Tt.children.slice(0,oo),Ot=Tt.children.slice(oo);Tt.children=mr,Pn=pB(pB({},ft),{},{children:Ot})}if(sn.children.splice(kn+1,0,Pn),o)for(var[Ct,wn]of gn.points(o))o[wn]=Bs.transform(Ct,s);break}}return o},KOe={transform(e,o){e.children=bge(e.children);var s=e.selection&&bge(e.selection);try{s=GOe(e,s,o)}finally{e.children=yge(e.children),s?e.selection=O4(s)?yge(s):s:e.selection=null}}},YOe=["text"],XOe=["children"];function Rge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Mge(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Rge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Rge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var JOe={insertNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{hanging:l=!1,voids:c=!1,mode:d="lowest"}=s,{at:p,match:v,select:b}=s;if(wo.isNode(o)&&(o=[o]),o.length!==0){var[S]=o;if(p||(e.selection?p=e.selection:e.children.length>0?p=ze.end(e,[]):p=[0],b=!0),b==null&&(b=!1),gn.isRange(p))if(l||(p=ze.unhangRange(e,p)),gn.isCollapsed(p))p=p.anchor;else{var[,x]=gn.edges(p),T=ze.pointRef(e,x);Qt.delete(e,{at:p}),p=T.unref()}if(Bs.isPoint(p)){v==null&&(Mo.isText(S)?v=K=>Mo.isText(K):e.isInline(S)?v=K=>Mo.isText(K)||ze.isInline(e,K):v=K=>ze.isBlock(e,K));var[E]=ze.nodes(e,{at:p.path,match:v,mode:d,voids:c});if(E){var[,k]=E,F=ze.pathRef(e,k),N=ze.isEnd(e,p,k);Qt.splitNodes(e,{at:p,match:v,mode:d,voids:c});var $=F.unref();p=N?Ht.next($):$}else return}var D=Ht.parent(p),O=p[p.length-1];if(!(!c&&ze.void(e,{at:D}))){for(var P of o){var I=D.concat(O);O++,e.apply({type:"insert_node",path:I,node:P}),p=Ht.next(p)}if(p=Ht.previous(p),b){var z=ze.end(e,p);z&&Qt.select(e,z)}}}})},liftNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{at:s=e.selection,mode:l="lowest",voids:c=!1}=o,{match:d}=o;if(d==null&&(d=Ht.isPath(s)?kO(e,s):P=>ze.isBlock(e,P)),!!s){var p=ze.nodes(e,{at:s,match:d,mode:l,voids:c}),v=Array.from(p,P=>{var[,I]=P;return ze.pathRef(e,I)});for(var b of v){var S=b.unref();if(S.length<2)throw new Error("Cannot lift node at a path [".concat(S,"] because it has a depth of less than `2`."));var x=ze.node(e,Ht.parent(S)),[T,E]=x,k=S[S.length-1],{length:F}=T.children;if(F===1){var N=Ht.next(E);Qt.moveNodes(e,{at:S,to:N,voids:c}),Qt.removeNodes(e,{at:E,voids:c})}else if(k===0)Qt.moveNodes(e,{at:S,to:E,voids:c});else if(k===F-1){var $=Ht.next(E);Qt.moveNodes(e,{at:S,to:$,voids:c})}else{var D=Ht.next(S),O=Ht.next(E);Qt.splitNodes(e,{at:D,voids:c}),Qt.moveNodes(e,{at:S,to:O,voids:c})}}}})},mergeNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{match:s,at:l=e.selection}=o,{hanging:c=!1,voids:d=!1,mode:p="lowest"}=o;if(!!l){if(s==null)if(Ht.isPath(l)){var[v]=ze.parent(e,l);s=xe=>v.children.includes(xe)}else s=xe=>ze.isBlock(e,xe);if(!c&&gn.isRange(l)&&(l=ze.unhangRange(e,l)),gn.isRange(l))if(gn.isCollapsed(l))l=l.anchor;else{var[,b]=gn.edges(l),S=ze.pointRef(e,b);Qt.delete(e,{at:l}),l=S.unref(),o.at==null&&Qt.select(e,l)}var[x]=ze.nodes(e,{at:l,match:s,voids:d,mode:p}),T=ze.previous(e,{at:l,match:s,voids:d,mode:p});if(!(!x||!T)){var[E,k]=x,[F,N]=T;if(!(k.length===0||N.length===0)){var $=Ht.next(N),D=Ht.common(k,N),O=Ht.isSibling(k,N),P=Array.from(ze.levels(e,{at:k}),xe=>{var[se]=xe;return se}).slice(D.length).slice(0,-1),I=ze.above(e,{at:k,mode:"highest",match:xe=>P.includes(xe)&&RCe(e,xe)}),z=I&&ze.pathRef(e,I[1]),K,j;if(Mo.isText(E)&&Mo.isText(F)){var oe=py(E,YOe);j=F.text.length,K=oe}else if(ar.isElement(E)&&ar.isElement(F)){var oe=py(E,XOe);j=F.children.length,K=oe}else throw new Error("Cannot merge the node at path [".concat(k,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(E)," ").concat(JSON.stringify(F)));O||Qt.moveNodes(e,{at:k,to:$,voids:d}),z&&Qt.removeNodes(e,{at:z.current,voids:d}),ar.isElement(F)&&ze.isEmpty(e,F)||Mo.isText(F)&&F.text===""&&N[N.length-1]!==0?Qt.removeNodes(e,{at:N,voids:d}):e.apply({type:"merge_node",path:$,position:j,properties:K}),z&&z.unref()}}}})},moveNodes(e,o){ze.withoutNormalizing(e,()=>{var{to:s,at:l=e.selection,mode:c="lowest",voids:d=!1}=o,{match:p}=o;if(!!l){p==null&&(p=Ht.isPath(l)?kO(e,l):k=>ze.isBlock(e,k));var v=ze.pathRef(e,s),b=ze.nodes(e,{at:l,match:p,mode:c,voids:d}),S=Array.from(b,k=>{var[,F]=k;return ze.pathRef(e,F)});for(var x of S){var T=x.unref(),E=v.current;T.length!==0&&e.apply({type:"move_node",path:T,newPath:E}),v.current&&Ht.isSibling(E,T)&&Ht.isAfter(E,T)&&(v.current=Ht.next(v.current))}v.unref()}})},removeNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{hanging:s=!1,voids:l=!1,mode:c="lowest"}=o,{at:d=e.selection,match:p}=o;if(!!d){p==null&&(p=Ht.isPath(d)?kO(e,d):E=>ze.isBlock(e,E)),!s&&gn.isRange(d)&&(d=ze.unhangRange(e,d));var v=ze.nodes(e,{at:d,match:p,mode:c,voids:l}),b=Array.from(v,E=>{var[,k]=E;return ze.pathRef(e,k)});for(var S of b){var x=S.unref();if(x){var[T]=ze.node(e,x);e.apply({type:"remove_node",path:x,node:T})}}}})},setNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{match:l,at:c=e.selection}=s,{hanging:d=!1,mode:p="lowest",split:v=!1,voids:b=!1}=s;if(!!c){if(l==null&&(l=Ht.isPath(c)?kO(e,c):z=>ze.isBlock(e,z)),!d&&gn.isRange(c)&&(c=ze.unhangRange(e,c)),v&&gn.isRange(c)){if(gn.isCollapsed(c)&&ze.leaf(e,c.anchor)[0].text.length>0)return;var S=ze.rangeRef(e,c,{affinity:"inward"}),[x,T]=gn.edges(c),E=p==="lowest"?"lowest":"highest",k=ze.isEnd(e,T,T.path);Qt.splitNodes(e,{at:T,match:l,mode:E,voids:b,always:!k});var F=ze.isStart(e,x,x.path);Qt.splitNodes(e,{at:x,match:l,mode:E,voids:b,always:!F}),c=S.unref(),s.at==null&&Qt.select(e,c)}for(var[N,$]of ze.nodes(e,{at:c,match:l,mode:p,voids:b})){var D={},O={};if($.length!==0){var P=!1;for(var I in o)I==="children"||I==="text"||o[I]!==N[I]&&(P=!0,N.hasOwnProperty(I)&&(D[I]=N[I]),o[I]!=null&&(O[I]=o[I]));P&&e.apply({type:"set_node",path:$,properties:D,newProperties:O})}}}})},splitNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{mode:s="lowest",voids:l=!1}=o,{match:c,at:d=e.selection,height:p=0,always:v=!1}=o;if(c==null&&(c=U=>ze.isBlock(e,U)),gn.isRange(d)&&(d=QOe(e,d)),Ht.isPath(d)){var b=d,S=ze.point(e,b),[x]=ze.parent(e,b);c=U=>U===x,p=S.path.length-b.length+1,d=S,v=!0}if(!!d){var T=ze.pointRef(e,d,{affinity:"backward"}),[E]=ze.nodes(e,{at:d,match:c,mode:s,voids:l});if(!!E){var k=ze.void(e,{at:d,mode:"highest"}),F=0;if(!l&&k){var[N,$]=k;if(ar.isElement(N)&&e.isInline(N)){var D=ze.after(e,$);if(!D){var O={text:""},P=Ht.next($);Qt.insertNodes(e,O,{at:P,voids:l}),D=ze.point(e,P)}d=D,v=!0}var I=d.path.length-$.length;p=I+1,v=!0}var z=ze.pointRef(e,d),K=d.path.length-p,[,j]=E,oe=d.path.slice(0,K),xe=p===0?d.offset:d.path[K]+F;for(var[se,Q]of ze.levels(e,{at:oe,reverse:!0,voids:l})){var G=!1;if(Q.length<j.length||Q.length===0||!l&&ze.isVoid(e,se))break;var ce=T.current,he=ze.isEnd(e,ce,Q);if(v||!T||!ze.isEdge(e,ce,Q)){G=!0;var ve=wo.extractProps(se);e.apply({type:"split_node",path:Q,position:xe,properties:ve})}xe=Q[Q.length-1]+(G||he?1:0)}if(o.at==null){var qe=z.current||ze.end(e,[]);Qt.select(e,qe)}T.unref(),z.unref()}}})},unsetNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(o)||(o=[o]);var l={};for(var c of o)l[c]=null;Qt.setNodes(e,l,s)},unwrapNodes(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{mode:s="lowest",split:l=!1,voids:c=!1}=o,{at:d=e.selection,match:p}=o;if(!!d){p==null&&(p=Ht.isPath(d)?kO(e,d):E=>ze.isBlock(e,E)),Ht.isPath(d)&&(d=ze.range(e,d));var v=gn.isRange(d)?ze.rangeRef(e,d):null,b=ze.nodes(e,{at:d,match:p,mode:s,voids:c}),S=Array.from(b,E=>{var[,k]=E;return ze.pathRef(e,k)}).reverse(),x=function(k){var F=k.unref(),[N]=ze.node(e,F),$=ze.range(e,F);l&&v&&($=gn.intersection(v.current,$)),Qt.liftNodes(e,{at:$,match:D=>ar.isAncestor(N)&&N.children.includes(D),voids:c})};for(var T of S)x(T);v&&v.unref()}})},wrapNodes(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{mode:l="lowest",split:c=!1,voids:d=!1}=s,{match:p,at:v=e.selection}=s;if(!!v){if(p==null&&(Ht.isPath(v)?p=kO(e,v):e.isInline(o)?p=$=>ze.isInline(e,$)||Mo.isText($):p=$=>ze.isBlock(e,$)),c&&gn.isRange(v)){var[b,S]=gn.edges(v),x=ze.rangeRef(e,v,{affinity:"inward"});Qt.splitNodes(e,{at:S,match:p,voids:d}),Qt.splitNodes(e,{at:b,match:p,voids:d}),v=x.unref(),s.at==null&&Qt.select(e,v)}var T=Array.from(ze.nodes(e,{at:v,match:e.isInline(o)?$=>ze.isBlock(e,$):$=>ze.isEditor($),mode:"lowest",voids:d}));for(var[,E]of T){var k=gn.isRange(v)?gn.intersection(v,ze.range(e,E)):v;if(!!k){var F=Array.from(ze.nodes(e,{at:k,match:p,mode:l,voids:d}));if(F.length>0){var N=function(){var[$]=F,D=F[F.length-1],[,O]=$,[,P]=D;if(O.length===0&&P.length===0)return"continue";var I=Ht.equals(O,P)?Ht.parent(O):Ht.common(O,P),z=ze.range(e,O,P),K=ze.node(e,I),[j]=K,oe=I.length+1,xe=Ht.next(P.slice(0,oe)),se=Mge(Mge({},o),{},{children:[]});Qt.insertNodes(e,se,{at:xe,voids:d}),Qt.moveNodes(e,{at:z,match:Q=>ar.isAncestor(j)&&j.children.includes(Q),to:xe.concat(0),voids:d})}();if(N==="continue")continue}}}}})}},RCe=(e,o)=>{if(ar.isElement(o)){var s=o;return ze.isVoid(e,o)?!0:s.children.length===1?RCe(e,s.children[0]):!1}else return!ze.isEditor(o)},QOe=(e,o)=>{if(gn.isCollapsed(o))return o.anchor;var[,s]=gn.edges(o),l=ze.pointRef(e,s);return Qt.delete(e,{at:o}),l.unref()},kO=(e,o)=>{var[s]=ze.node(e,o);return l=>l===s};function Ige(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function Lge(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Ige(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ige(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var e5e={collapse(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:s="anchor"}=o,{selection:l}=e;if(l){if(s==="anchor")Qt.select(e,l.anchor);else if(s==="focus")Qt.select(e,l.focus);else if(s==="start"){var[c]=gn.edges(l);Qt.select(e,c)}else if(s==="end"){var[,d]=gn.edges(l);Qt.select(e,d)}}else return},deselect(e){var{selection:o}=e;o&&e.apply({type:"set_selection",properties:o,newProperties:null})},move(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:s}=e,{distance:l=1,unit:c="character",reverse:d=!1}=o,{edge:p=null}=o;if(!!s){p==="start"&&(p=gn.isBackward(s)?"focus":"anchor"),p==="end"&&(p=gn.isBackward(s)?"anchor":"focus");var{anchor:v,focus:b}=s,S={distance:l,unit:c},x={};if(p==null||p==="anchor"){var T=d?ze.before(e,v,S):ze.after(e,v,S);T&&(x.anchor=T)}if(p==null||p==="focus"){var E=d?ze.before(e,b,S):ze.after(e,b,S);E&&(x.focus=E)}Qt.setSelection(e,x)}},select(e,o){var{selection:s}=e;if(o=ze.range(e,o),s){Qt.setSelection(e,o);return}if(!gn.isRange(o))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(o)));e.apply({type:"set_selection",properties:s,newProperties:o})},setPoint(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:l}=e,{edge:c="both"}=s;if(!!l){c==="start"&&(c=gn.isBackward(l)?"focus":"anchor"),c==="end"&&(c=gn.isBackward(l)?"anchor":"focus");var{anchor:d,focus:p}=l,v=c==="anchor"?d:p;Qt.setSelection(e,{[c==="anchor"?"anchor":"focus"]:Lge(Lge({},v),o)})}},setSelection(e,o){var{selection:s}=e,l={},c={};if(!!s){for(var d in o)(d==="anchor"&&o.anchor!=null&&!Bs.equals(o.anchor,s.anchor)||d==="focus"&&o.focus!=null&&!Bs.equals(o.focus,s.focus)||d!=="anchor"&&d!=="focus"&&o[d]!==s[d])&&(l[d]=s[d],c[d]=o[d]);Object.keys(l).length>0&&e.apply({type:"set_selection",properties:l,newProperties:c})}}},t5e={delete(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze.withoutNormalizing(e,()=>{var{reverse:s=!1,unit:l="character",distance:c=1,voids:d=!1}=o,{at:p=e.selection,hanging:v=!1}=o;if(!!p){if(gn.isRange(p)&&gn.isCollapsed(p)&&(p=p.anchor),Bs.isPoint(p)){var b=ze.void(e,{at:p,mode:"highest"});if(!d&&b){var[,S]=b;p=S}else{var x={unit:l,distance:c},T=s?ze.before(e,p,x)||ze.start(e,[]):ze.after(e,p,x)||ze.end(e,[]);p={anchor:p,focus:T},v=!0}}if(Ht.isPath(p)){Qt.removeNodes(e,{at:p,voids:d});return}if(!gn.isCollapsed(p)){if(!v){var[,E]=gn.edges(p),k=ze.end(e,[]);Bs.equals(E,k)||(p=ze.unhangRange(e,p,{voids:d}))}var[F,N]=gn.edges(p),$=ze.above(e,{match:Ze=>ze.isBlock(e,Ze),at:F,voids:d}),D=ze.above(e,{match:Ze=>ze.isBlock(e,Ze),at:N,voids:d}),O=$&&D&&!Ht.equals($[1],D[1]),P=Ht.equals(F.path,N.path),I=d?null:ze.void(e,{at:F,mode:"highest"}),z=d?null:ze.void(e,{at:N,mode:"highest"});if(I){var K=ze.before(e,F);K&&$&&Ht.isAncestor($[1],K.path)&&(F=K)}if(z){var j=ze.after(e,N);j&&D&&Ht.isAncestor(D[1],j.path)&&(N=j)}var oe=[],xe;for(var se of ze.nodes(e,{at:p,voids:d})){var[Q,G]=se;xe&&Ht.compare(G,xe)===0||(!d&&ze.isVoid(e,Q)||!Ht.isCommon(G,F.path)&&!Ht.isCommon(G,N.path))&&(oe.push(se),xe=G)}var ce=Array.from(oe,Ze=>{var[,We]=Ze;return ze.pathRef(e,We)}),he=ze.pointRef(e,F),ve=ze.pointRef(e,N);if(!P&&!I){var qe=he.current,[U]=ze.leaf(e,qe),{path:Fe}=qe,{offset:De}=F,Se=U.text.slice(De);Se.length>0&&e.apply({type:"remove_text",path:Fe,offset:De,text:Se})}for(var re of ce){var le=re.unref();Qt.removeNodes(e,{at:le,voids:d})}if(!z){var fe=ve.current,[ue]=ze.leaf(e,fe),{path:Be}=fe,Ce=P?F.offset:0,me=ue.text.slice(Ce,N.offset);me.length>0&&e.apply({type:"remove_text",path:Be,offset:Ce,text:me})}!P&&O&&ve.current&&he.current&&Qt.mergeNodes(e,{at:ve.current,hanging:!0,voids:d});var q=s?he.unref()||ve.unref():ve.unref()||he.unref();o.at==null&&q&&Qt.select(e,q)}}})},insertFragment(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{hanging:l=!1,voids:c=!1}=s,{at:d=e.selection}=s;if(!!o.length){if(d)if(gn.isRange(d))if(l||(d=ze.unhangRange(e,d)),gn.isCollapsed(d))d=d.anchor;else{var[,p]=gn.edges(d);if(!c&&ze.void(e,{at:p}))return;var v=ze.pointRef(e,p);Qt.delete(e,{at:d}),d=v.unref()}else Ht.isPath(d)&&(d=ze.start(e,d));else return;if(!(!c&&ze.void(e,{at:d}))){var b=ze.above(e,{at:d,match:ue=>ze.isInline(e,ue),mode:"highest",voids:c});if(b){var[,S]=b;if(ze.isEnd(e,d,S)){var x=ze.after(e,S);d=x}else if(ze.isStart(e,d,S)){var T=ze.before(e,S);d=T}}var E=ze.above(e,{match:ue=>ze.isBlock(e,ue),at:d,voids:c}),[,k]=E,F=ze.isStart(e,d,k),N=ze.isEnd(e,d,k),$=F&&N,D=!F||F&&N,O=!N,[,P]=wo.first({children:o},[]),[,I]=wo.last({children:o},[]),z=[],K=ue=>{var[Be,Ce]=ue,me=Ce.length===0;return me?!1:$?!0:!(D&&Ht.isAncestor(Ce,P)&&ar.isElement(Be)&&!e.isVoid(Be)&&!e.isInline(Be)||O&&Ht.isAncestor(Ce,I)&&ar.isElement(Be)&&!e.isVoid(Be)&&!e.isInline(Be))};for(var j of wo.nodes({children:o},{pass:K}))K(j)&&z.push(j);var oe=[],xe=[],se=[],Q=!0,G=!1;for(var[ce]of z)ar.isElement(ce)&&!e.isInline(ce)?(Q=!1,G=!0,xe.push(ce)):Q?oe.push(ce):se.push(ce);var[he]=ze.nodes(e,{at:d,match:ue=>Mo.isText(ue)||ze.isInline(e,ue),mode:"highest",voids:c}),[,ve]=he,qe=ze.isStart(e,d,ve),U=ze.isEnd(e,d,ve),Fe=ze.pathRef(e,N?Ht.next(k):k),De=ze.pathRef(e,U?Ht.next(ve):ve),Se=ze.pathRef(e,k);Qt.splitNodes(e,{at:d,match:ue=>G?ze.isBlock(e,ue):Mo.isText(ue)||ze.isInline(e,ue),mode:G?"lowest":"highest",voids:c});var re=ze.pathRef(e,!qe||qe&&U?Ht.next(ve):ve);if(Qt.insertNodes(e,oe,{at:re.current,match:ue=>Mo.isText(ue)||ze.isInline(e,ue),mode:"highest",voids:c}),$&&xe.length&&Qt.delete(e,{at:Se.unref(),voids:c}),Qt.insertNodes(e,xe,{at:Fe.current,match:ue=>ze.isBlock(e,ue),mode:"lowest",voids:c}),Qt.insertNodes(e,se,{at:De.current,match:ue=>Mo.isText(ue)||ze.isInline(e,ue),mode:"highest",voids:c}),!s.at){var le;se.length>0?le=Ht.previous(De.current):xe.length>0?le=Ht.previous(Fe.current):le=Ht.previous(re.current);var fe=ze.end(e,le);Qt.select(e,fe)}re.unref(),Fe.unref(),De.unref()}}})},insertText(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ze.withoutNormalizing(e,()=>{var{voids:l=!1}=s,{at:c=e.selection}=s;if(!!c){if(Ht.isPath(c)&&(c=ze.range(e,c)),gn.isRange(c))if(gn.isCollapsed(c))c=c.anchor;else{var d=gn.end(c);if(!l&&ze.void(e,{at:d}))return;var p=ze.pointRef(e,d);Qt.delete(e,{at:c,voids:l}),c=p.unref(),Qt.setSelection(e,{anchor:c,focus:c})}if(!(!l&&ze.void(e,{at:c}))){var{path:v,offset:b}=c;o.length>0&&e.apply({type:"insert_text",path:v,offset:b,text:o})}}})}};function Hge(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);o&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,l)}return s}function jz(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?Hge(Object(s),!0).forEach(function(l){Yv(e,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Hge(Object(s)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(s,l))})}return e}var Qt=jz(jz(jz(jz({},KOe),JOe),e5e),t5e),Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oue(e){var o={exports:{}};return e(o,o.exports),o.exports}var MCe=9007199254740991,n5e="[object Arguments]",o5e="[object Function]",r5e="[object GeneratorFunction]",Lie="[object Map]",s5e="[object Object]",jge="[object Promise]",Hie="[object Set]",i5e="[object String]",zge="[object WeakMap]",Vge="[object DataView]",a5e=/[\\^$.*+?()[\]{}|]/g,l5e=/^\[object .+?Constructor\]$/,c5e=/^(?:0|[1-9]\d*)$/,rue="\\ud800-\\udfff",ICe="\\u0300-\\u036f\\ufe20-\\ufe23",LCe="\\u20d0-\\u20f0",HCe="\\ufe0e\\ufe0f",u5e="["+rue+"]",jie="["+ICe+LCe+"]",zie="\\ud83c[\\udffb-\\udfff]",f5e="(?:"+jie+"|"+zie+")",jCe="[^"+rue+"]",zCe="(?:\\ud83c[\\udde6-\\uddff]){2}",VCe="[\\ud800-\\udbff][\\udc00-\\udfff]",UCe="\\u200d",WCe=f5e+"?",qCe="["+HCe+"]?",d5e="(?:"+UCe+"(?:"+[jCe,zCe,VCe].join("|")+")"+qCe+WCe+")*",h5e=qCe+WCe+d5e,p5e="(?:"+[jCe+jie+"?",jie,zCe,VCe,u5e].join("|")+")",g5e=RegExp(zie+"(?="+zie+")|"+p5e+h5e,"g"),m5e=RegExp("["+UCe+rue+ICe+LCe+HCe+"]"),v5e=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,b5e=typeof self=="object"&&self&&self.Object===Object&&self,V4=v5e||b5e||Function("return this")();function y5e(e,o){for(var s=-1,l=e?e.length:0,c=Array(l);++s<l;)c[s]=o(e[s],s,e);return c}function w5e(e){return e.split("")}function C5e(e,o){for(var s=-1,l=Array(e);++s<e;)l[s]=o(s);return l}function S5e(e,o){return y5e(o,function(s){return e[s]})}function x5e(e,o){return e==null?void 0:e[o]}function E5e(e){return m5e.test(e)}function k5e(e){var o=!1;if(e!=null&&typeof e.toString!="function")try{o=!!(e+"")}catch{}return o}function A5e(e){for(var o,s=[];!(o=e.next()).done;)s.push(o.value);return s}function T5e(e){var o=-1,s=Array(e.size);return e.forEach(function(l,c){s[++o]=[c,l]}),s}function O5e(e,o){return function(s){return e(o(s))}}function _5e(e){var o=-1,s=Array(e.size);return e.forEach(function(l){s[++o]=l}),s}function $5e(e){return E5e(e)?D5e(e):w5e(e)}function D5e(e){return e.match(g5e)||[]}var B5e=Function.prototype,cq=Object.prototype,Jne=V4["__core-js_shared__"],Uge=function(){var e=/[^.]+$/.exec(Jne&&Jne.keys&&Jne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ZCe=B5e.toString,uq=cq.hasOwnProperty,JP=cq.toString,N5e=RegExp("^"+ZCe.call(uq).replace(a5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wge=V4.Symbol,Qne=Wge?Wge.iterator:void 0,P5e=cq.propertyIsEnumerable,F5e=O5e(Object.keys,Object),Vie=QP(V4,"DataView"),Uie=QP(V4,"Map"),Wie=QP(V4,"Promise"),qie=QP(V4,"Set"),Zie=QP(V4,"WeakMap"),R5e=U4(Vie),M5e=U4(Uie),I5e=U4(Wie),L5e=U4(qie),H5e=U4(Zie);function j5e(e,o){var s=GCe(e)||K5e(e)?C5e(e.length,String):[],l=s.length,c=!!l;for(var d in e)(o||uq.call(e,d))&&!(c&&(d=="length"||q5e(d,l)))&&s.push(d);return s}function z5e(e){return JP.call(e)}function V5e(e){if(!YCe(e)||Z5e(e))return!1;var o=KCe(e)||k5e(e)?N5e:l5e;return o.test(U4(e))}function U5e(e){if(!G5e(e))return F5e(e);var o=[];for(var s in Object(e))uq.call(e,s)&&s!="constructor"&&o.push(s);return o}function W5e(e,o){var s=-1,l=e.length;for(o||(o=Array(l));++s<l;)o[s]=e[s];return o}function QP(e,o){var s=x5e(e,o);return V5e(s)?s:void 0}var GE=z5e;(Vie&&GE(new Vie(new ArrayBuffer(1)))!=Vge||Uie&&GE(new Uie)!=Lie||Wie&&GE(Wie.resolve())!=jge||qie&&GE(new qie)!=Hie||Zie&&GE(new Zie)!=zge)&&(GE=function(e){var o=JP.call(e),s=o==s5e?e.constructor:void 0,l=s?U4(s):void 0;if(l)switch(l){case R5e:return Vge;case M5e:return Lie;case I5e:return jge;case L5e:return Hie;case H5e:return zge}return o});function q5e(e,o){return o=o==null?MCe:o,!!o&&(typeof e=="number"||c5e.test(e))&&e>-1&&e%1==0&&e<o}function Z5e(e){return!!Uge&&Uge in e}function G5e(e){var o=e&&e.constructor,s=typeof o=="function"&&o.prototype||cq;return e===s}function U4(e){if(e!=null){try{return ZCe.call(e)}catch{}try{return e+""}catch{}}return""}function K5e(e){return Y5e(e)&&uq.call(e,"callee")&&(!P5e.call(e,"callee")||JP.call(e)==n5e)}var GCe=Array.isArray;function sue(e){return e!=null&&X5e(e.length)&&!KCe(e)}function Y5e(e){return XCe(e)&&sue(e)}function KCe(e){var o=YCe(e)?JP.call(e):"";return o==o5e||o==r5e}function X5e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MCe}function YCe(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function XCe(e){return!!e&&typeof e=="object"}function J5e(e){return typeof e=="string"||!GCe(e)&&XCe(e)&&JP.call(e)==i5e}function Q5e(e){if(!e)return[];if(sue(e))return J5e(e)?$5e(e):W5e(e);if(Qne&&e[Qne])return A5e(e[Qne]());var o=GE(e),s=o==Lie?T5e:o==Hie?_5e:t_e;return s(e)}function e_e(e){return sue(e)?j5e(e):U5e(e)}function t_e(e){return e?S5e(e,e_e(e)):[]}var qge=Q5e;function Zge(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function iue(e,o){e===void 0&&(e={}),o===void 0&&(o={}),Object.keys(o).forEach(function(s){typeof e[s]>"u"?e[s]=o[s]:Zge(o[s])&&Zge(e[s])&&Object.keys(o[s]).length>0&&iue(e[s],o[s])})}var JCe={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function eF(){var e=typeof document<"u"?document:{};return iue(e,JCe),e}var n_e={document:JCe,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){typeof setTimeout>"u"||clearTimeout(e)}};function W4(){var e=typeof window<"u"?window:{};return iue(e,n_e),e}function o_e(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o}function Gie(e){return Gie=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},Gie(e)}function xU(e,o){return xU=Object.setPrototypeOf||function(l,c){return l.__proto__=c,l},xU(e,o)}function r_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function WV(e,o,s){return r_e()?WV=Reflect.construct:WV=function(c,d,p){var v=[null];v.push.apply(v,d);var b=Function.bind.apply(c,v),S=new b;return p&&xU(S,p.prototype),S},WV.apply(null,arguments)}function s_e(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Kie(e){var o=typeof Map=="function"?new Map:void 0;return Kie=function(l){if(l===null||!s_e(l))return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(l))return o.get(l);o.set(l,c)}function c(){return WV(l,arguments,Gie(this).constructor)}return c.prototype=Object.create(l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),xU(c,l)},Kie(e)}function i_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a_e(e){var o=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return o},set:function(l){o.__proto__=l}})}var Qw=function(e){o_e(o,e);function o(s){var l;return l=e.call.apply(e,[this].concat(s))||this,a_e(i_e(l)),l}return o}(Kie(Array));function fq(e){e===void 0&&(e=[]);var o=[];return e.forEach(function(s){Array.isArray(s)?o.push.apply(o,fq(s)):o.push(s)}),o}function QCe(e,o){return Array.prototype.filter.call(e,o)}function l_e(e){for(var o=[],s=0;s<e.length;s+=1)o.indexOf(e[s])===-1&&o.push(e[s]);return o}function c_e(e){return e.toLowerCase().replace(/-(.)/g,function(o,s){return s.toUpperCase()})}function u_e(e,o){if(typeof e!="string")return[e];for(var s=[],l=o.querySelectorAll(e),c=0;c<l.length;c+=1)s.push(l[c]);return s}function _t(e,o){var s=W4(),l=eF(),c=[];if(!o&&e instanceof Qw)return e;if(!e)return new Qw(c);if(typeof e=="string"){var d=e.trim();if(d.indexOf("<")>=0&&d.indexOf(">")>=0){var p="div";d.indexOf("<li")===0&&(p="ul"),d.indexOf("<tr")===0&&(p="tbody"),(d.indexOf("<td")===0||d.indexOf("<th")===0)&&(p="tr"),d.indexOf("<tbody")===0&&(p="table"),d.indexOf("<option")===0&&(p="select");var v=l.createElement(p);v.innerHTML=d;for(var b=0;b<v.childNodes.length;b+=1)c.push(v.childNodes[b])}else c=u_e(e.trim(),o||l)}else if(e.nodeType||e===s||e===l)c.push(e);else if(Array.isArray(e)){if(e instanceof Qw)return e;c=e}return new Qw(l_e(c))}_t.fn=Qw.prototype;function k5(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=fq(o.map(function(c){return c.split(" ")}));return this.forEach(function(c){var d;(d=c.classList).add.apply(d,l)}),this}function A5(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=fq(o.map(function(c){return c.split(" ")}));return this.forEach(function(c){var d;(d=c.classList).remove.apply(d,l)}),this}function T5(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=fq(o.map(function(c){return c.split(" ")}));return QCe(this,function(c){return l.filter(function(d){return c.classList.contains(d)}).length>0}).length>0}function mg(e,o){if(arguments.length===1&&typeof e=="string")return this[0]?this[0].getAttribute(e):void 0;for(var s=0;s<this.length;s+=1)if(arguments.length===2)this[s].setAttribute(e,o);else for(var l in e)this[s][l]=e[l],this[s].setAttribute(l,e[l]);return this}function EU(e){for(var o=0;o<this.length;o+=1)this[o].removeAttribute(e);return this}function O5(){var e=this[0];if(!!e){var o={};if(e.dataset)for(var s in e.dataset)o[s]=e.dataset[s];else for(var l=0;l<e.attributes.length;l+=1){var c=e.attributes[l];c.name.indexOf("data-")>=0&&(o[c_e(c.name.split("data-")[1])]=c.value)}for(var d in o)o[d]==="false"?o[d]=!1:o[d]==="true"?o[d]=!0:parseFloat(o[d])===o[d]*1&&(o[d]*=1);return o}}function Uv(e){if(typeof e>"u"){var o=this[0];if(!o)return;if(o.multiple&&o.nodeName.toLowerCase()==="select"){for(var s=[],l=0;l<o.selectedOptions.length;l+=1)s.push(o.selectedOptions[l].value);return s}return o.value}for(var c=0;c<this.length;c+=1){var d=this[c];if(Array.isArray(e)&&d.multiple&&d.nodeName.toLowerCase()==="select")for(var p=0;p<d.options.length;p+=1)d.options[p].selected=e.indexOf(d.options[p].value)>=0;else d.value=e}return this}function Wv(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=o[0],c=o[1],d=o[2],p=o[3];typeof o[1]=="function"&&(l=o[0],d=o[1],p=o[2],c=void 0),p||(p=!1);function v(N){var $=N.target;if(!!$){var D=N.target.dom7EventData||[];if(D.indexOf(N)<0&&D.unshift(N),_t($).is(c))d.apply($,D);else for(var O=_t($).parents(),P=0;P<O.length;P+=1)_t(O[P]).is(c)&&d.apply(O[P],D)}}function b(N){var $=N&&N.target?N.target.dom7EventData||[]:[];$.indexOf(N)<0&&$.unshift(N),d.apply(this,$)}for(var S=l.split(" "),x,T=0;T<this.length;T+=1){var E=this[T];if(c)for(x=0;x<S.length;x+=1){var F=S[x];E.dom7LiveListeners||(E.dom7LiveListeners={}),E.dom7LiveListeners[F]||(E.dom7LiveListeners[F]=[]),E.dom7LiveListeners[F].push({listener:d,proxyListener:v}),E.addEventListener(F,v,p)}else for(x=0;x<S.length;x+=1){var k=S[x];E.dom7Listeners||(E.dom7Listeners={}),E.dom7Listeners[k]||(E.dom7Listeners[k]=[]),E.dom7Listeners[k].push({listener:d,proxyListener:b}),E.addEventListener(k,b,p)}}return this}function Gge(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];var l=o[0],c=o[1],d=o[2],p=o[3];typeof o[1]=="function"&&(l=o[0],d=o[1],p=o[2],c=void 0),p||(p=!1);for(var v=l.split(" "),b=0;b<v.length;b+=1)for(var S=v[b],x=0;x<this.length;x+=1){var T=this[x],E=void 0;if(!c&&T.dom7Listeners?E=T.dom7Listeners[S]:c&&T.dom7LiveListeners&&(E=T.dom7LiveListeners[S]),E&&E.length)for(var k=E.length-1;k>=0;k-=1){var F=E[k];d&&F.listener===d||d&&F.listener&&F.listener.dom7proxy&&F.listener.dom7proxy===d?(T.removeEventListener(S,F.proxyListener,p),E.splice(k,1)):d||(T.removeEventListener(S,F.proxyListener,p),E.splice(k,1))}}return this}function kU(){var e=W4();return this[0]===e?e.innerWidth:this.length>0?parseFloat(this.css("width")):null}function AU(){var e=W4();return this[0]===e?e.innerHeight:this.length>0?parseFloat(this.css("height")):null}function Kge(){if(this.length>0){var e=W4(),o=eF(),s=this[0],l=s.getBoundingClientRect(),c=o.body,d=s.clientTop||c.clientTop||0,p=s.clientLeft||c.clientLeft||0,v=s===e?e.scrollY:s.scrollTop,b=s===e?e.scrollX:s.scrollLeft;return{top:l.top+v-d,left:l.left+b-p}}return null}function _5(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this}function TU(){for(var e=W4(),o=0;o<this.length;o+=1){var s=this[o];s.style.display==="none"&&(s.style.display=""),e.getComputedStyle(s,null).getPropertyValue("display")==="none"&&(s.style.display="block")}return this}function OU(e,o){var s=W4(),l;if(arguments.length===1)if(typeof e=="string"){if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e)}else{for(l=0;l<this.length;l+=1)for(var c in e)this[l].style[c]=e[c];return this}if(arguments.length===2&&typeof e=="string"){for(l=0;l<this.length;l+=1)this[l].style[e]=o;return this}return this}function _U(e){return e?(this.forEach(function(o,s){e.apply(o,[o,s])}),this):this}function Yge(e){var o=QCe(this,e);return _t(o)}function yC(e){if(typeof e>"u")return this[0]?this[0].innerHTML:null;for(var o=0;o<this.length;o+=1)this[o].innerHTML=e;return this}function $U(e){if(typeof e>"u")return this[0]?this[0].textContent.trim():null;for(var o=0;o<this.length;o+=1)this[o].textContent=e;return this}function Xge(e){var o=W4(),s=eF(),l=this[0],c,d;if(!l||typeof e>"u")return!1;if(typeof e=="string"){if(l.matches)return l.matches(e);if(l.webkitMatchesSelector)return l.webkitMatchesSelector(e);if(l.msMatchesSelector)return l.msMatchesSelector(e);for(c=_t(e),d=0;d<c.length;d+=1)if(c[d]===l)return!0;return!1}if(e===s)return l===s;if(e===o)return l===o;if(e.nodeType||e instanceof Qw){for(c=e.nodeType?[e]:e,d=0;d<c.length;d+=1)if(c[d]===l)return!0;return!1}return!1}function vg(){for(var e,o=eF(),s=0;s<arguments.length;s+=1){e=s<0||arguments.length<=s?void 0:arguments[s];for(var l=0;l<this.length;l+=1)if(typeof e=="string"){var c=o.createElement("div");for(c.innerHTML=e;c.firstChild;)this[l].appendChild(c.firstChild)}else if(e instanceof Qw)for(var d=0;d<e.length;d+=1)this[l].appendChild(e[d]);else this[l].appendChild(e)}return this}function Jge(e){var o=eF(),s,l;for(s=0;s<this.length;s+=1)if(typeof e=="string"){var c=o.createElement("div");for(c.innerHTML=e,l=c.childNodes.length-1;l>=0;l-=1)this[s].insertBefore(c.childNodes[l],this[s].childNodes[0])}else if(e instanceof Qw)for(l=0;l<e.length;l+=1)this[s].insertBefore(e[l],this[s].childNodes[0]);else this[s].insertBefore(e,this[s].childNodes[0]);return this}function $5(e){for(var o=[],s=0;s<this.length;s+=1)this[s].parentNode!==null&&(e?_t(this[s].parentNode).is(e)&&o.push(this[s].parentNode):o.push(this[s].parentNode));return _t(o)}function DU(e){for(var o=[],s=0;s<this.length;s+=1)for(var l=this[s].parentNode;l;)e?_t(l).is(e)&&o.push(l):o.push(l),l=l.parentNode;return _t(o)}function D5(e){for(var o=[],s=0;s<this.length;s+=1)for(var l=this[s].querySelectorAll(e),c=0;c<l.length;c+=1)o.push(l[c]);return _t(o)}function B5(e){for(var o=[],s=0;s<this.length;s+=1)for(var l=this[s].children,c=0;c<l.length;c+=1)(!e||_t(l[c]).is(e))&&o.push(l[c]);return _t(o)}function N5(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}function P5(){for(var e=0;e<this.length;e+=1){var o=this[e];if(o.nodeType===1){for(var s=0;s<o.childNodes.length;s+=1)o.childNodes[s].parentNode&&o.childNodes[s].parentNode.removeChild(o.childNodes[s]);o.textContent=""}}return this}var f_e="resize scroll".split(" ");function eSe(e){function o(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];if(typeof l[0]>"u"){for(var d=0;d<this.length;d+=1)f_e.indexOf(e)<0&&(e in this[d]?this[d][e]():_t(this[d]).trigger(e));return this}return this.on.apply(this,[e].concat(l))}return o}var Qge=eSe("click"),wC=eSe("focus"),tSe=9007199254740991,d_e="[object Arguments]",h_e="[object Function]",p_e="[object GeneratorFunction]",g_e=/^(?:0|[1-9]\d*)$/;function m_e(e,o){for(var s=-1,l=e?e.length:0;++s<l&&o(e[s],s,e)!==!1;);return e}function v_e(e,o){for(var s=-1,l=Array(e);++s<e;)l[s]=o(s);return l}function b_e(e,o){return function(s){return e(o(s))}}var dq=Object.prototype,aue=dq.hasOwnProperty,nSe=dq.toString,y_e=dq.propertyIsEnumerable,w_e=b_e(Object.keys,Object);function C_e(e,o){var s=oSe(e)||D_e(e)?v_e(e.length,String):[],l=s.length,c=!!l;for(var d in e)(o||aue.call(e,d))&&!(c&&(d=="length"||O_e(d,l)))&&s.push(d);return s}var S_e=A_e(E_e),x_e=T_e();function E_e(e,o){return e&&x_e(e,o,M_e)}function k_e(e){if(!__e(e))return w_e(e);var o=[];for(var s in Object(e))aue.call(e,s)&&s!="constructor"&&o.push(s);return o}function A_e(e,o){return function(s,l){if(s==null)return s;if(!lue(s))return e(s,l);for(var c=s.length,d=o?c:-1,p=Object(s);(o?d--:++d<c)&&l(p[d],d,p)!==!1;);return s}}function T_e(e){return function(o,s,l){for(var c=-1,d=Object(o),p=l(o),v=p.length;v--;){var b=p[e?v:++c];if(s(d[b],b,d)===!1)break}return o}}function O_e(e,o){return o=o==null?tSe:o,!!o&&(typeof e=="number"||g_e.test(e))&&e>-1&&e%1==0&&e<o}function __e(e){var o=e&&e.constructor,s=typeof o=="function"&&o.prototype||dq;return e===s}function $_e(e,o){var s=oSe(e)?m_e:S_e;return s(e,typeof o=="function"?o:I_e)}function D_e(e){return B_e(e)&&aue.call(e,"callee")&&(!y_e.call(e,"callee")||nSe.call(e)==d_e)}var oSe=Array.isArray;function lue(e){return e!=null&&P_e(e.length)&&!N_e(e)}function B_e(e){return R_e(e)&&lue(e)}function N_e(e){var o=F_e(e)?nSe.call(e):"";return o==h_e||o==p_e}function P_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tSe}function F_e(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function R_e(e){return!!e&&typeof e=="object"}function M_e(e){return lue(e)?C_e(e):k_e(e)}function I_e(e){return e}var cue=$_e;{if(typeof navigator<"u"&&navigator.product==="ReactNative"&&typeof crypto>"u")throw new Error("React Native does not have a built-in secure random generator. If you don\u2019t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if(typeof msCrypto<"u"&&typeof crypto>"u")throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if(typeof crypto>"u")throw new Error("Your browser does not have secure random generator. If you don\u2019t need unpredictable IDs, you can use nanoid/non-secure.")}let rSe=(e=21)=>{let o="",s=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let l=s[e]&63;l<36?o+=l.toString(36):l<62?o+=(l-26).toString(36).toUpperCase():l<63?o+="_":o+="-"}return o};var sSe="Expected a function",eme=0/0,L_e="[object Symbol]",H_e=/^\s+|\s+$/g,j_e=/^[-+]0x[0-9a-f]+$/i,z_e=/^0b[01]+$/i,V_e=/^0o[0-7]+$/i,U_e=parseInt,W_e=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,q_e=typeof self=="object"&&self&&self.Object===Object&&self,Z_e=W_e||q_e||Function("return this")(),G_e=Object.prototype,K_e=G_e.toString,Y_e=Math.max,X_e=Math.min,eoe=function(){return Z_e.Date.now()};function J_e(e,o,s){var l,c,d,p,v,b,S=0,x=!1,T=!1,E=!0;if(typeof e!="function")throw new TypeError(sSe);o=tme(o)||0,BU(s)&&(x=!!s.leading,T="maxWait"in s,d=T?Y_e(tme(s.maxWait)||0,o):d,E="trailing"in s?!!s.trailing:E);function k(K){var j=l,oe=c;return l=c=void 0,S=K,p=e.apply(oe,j),p}function F(K){return S=K,v=setTimeout(D,o),x?k(K):p}function N(K){var j=K-b,oe=K-S,xe=o-j;return T?X_e(xe,d-oe):xe}function $(K){var j=K-b,oe=K-S;return b===void 0||j>=o||j<0||T&&oe>=d}function D(){var K=eoe();if($(K))return O(K);v=setTimeout(D,N(K))}function O(K){return v=void 0,E&&l?k(K):(l=c=void 0,p)}function P(){v!==void 0&&clearTimeout(v),S=0,l=b=c=v=void 0}function I(){return v===void 0?p:O(eoe())}function z(){var K=eoe(),j=$(K);if(l=arguments,c=this,b=K,j){if(v===void 0)return F(b);if(T)return v=setTimeout(D,o),k(b)}return v===void 0&&(v=setTimeout(D,o)),p}return z.cancel=P,z.flush=I,z}function Q_e(e,o,s){var l=!0,c=!0;if(typeof e!="function")throw new TypeError(sSe);return BU(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),J_e(e,o,{leading:l,maxWait:o,trailing:c})}function BU(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function e$e(e){return!!e&&typeof e=="object"}function t$e(e){return typeof e=="symbol"||e$e(e)&&K_e.call(e)==L_e}function tme(e){if(typeof e=="number")return e;if(t$e(e))return eme;if(BU(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=BU(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=e.replace(H_e,"");var s=z_e.test(e);return s||V_e.test(e)?U_e(e.slice(2),s?2:8):j_e.test(e)?eme:+e}var $4=Q_e;function n$e(e,o){return document.createElement(e,o)}function o$e(e,o,s){return document.createElementNS(e,o,s)}function r$e(e){return document.createTextNode(e)}function s$e(e){return document.createComment(e)}function i$e(e,o,s){e.insertBefore(o,s)}function a$e(e,o){e.removeChild(o)}function l$e(e,o){e.appendChild(o)}function c$e(e){return e.parentNode}function u$e(e){return e.nextSibling}function f$e(e){return e.tagName}function d$e(e,o){e.textContent=o}function h$e(e){return e.textContent}function p$e(e){return e.nodeType===1}function g$e(e){return e.nodeType===3}function m$e(e){return e.nodeType===8}const v$e={createElement:n$e,createElementNS:o$e,createTextNode:r$e,createComment:s$e,insertBefore:i$e,removeChild:a$e,appendChild:l$e,parentNode:c$e,nextSibling:u$e,tagName:f$e,setTextContent:d$e,getTextContent:h$e,isElement:p$e,isText:g$e,isComment:m$e};function lP(e,o,s,l,c){const d=o===void 0?void 0:o.key;return{sel:e,data:o,children:s,text:l,elm:c,key:d}}const Yie=Array.isArray;function qV(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}function toe(e){return e===void 0}function Qh(e){return e!==void 0}const nme=lP("",{},[],void 0,void 0);function gB(e,o){var s,l;const c=e.key===o.key,d=((s=e.data)===null||s===void 0?void 0:s.is)===((l=o.data)===null||l===void 0?void 0:l.is);return e.sel===o.sel&&c&&d}function b$e(e){return e.sel!==void 0}function y$e(e,o,s){var l;const c={};for(let d=o;d<=s;++d){const p=(l=e[d])===null||l===void 0?void 0:l.key;p!==void 0&&(c[p]=d)}return c}const w$e=["create","update","remove","destroy","pre","post"];function C$e(e,o){const s={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},l=o!==void 0?o:v$e;for(const E of w$e)for(const k of e){const F=k[E];F!==void 0&&s[E].push(F)}function c(E){const k=E.id?"#"+E.id:"",F=E.getAttribute("class"),N=F?"."+F.split(" ").join("."):"";return lP(l.tagName(E).toLowerCase()+k+N,{},[],void 0,E)}function d(E,k){return function(){if(--k===0){const N=l.parentNode(E);l.removeChild(N,E)}}}function p(E,k){var F,N;let $,D=E.data;if(D!==void 0){const I=(F=D.hook)===null||F===void 0?void 0:F.init;Qh(I)&&(I(E),D=E.data)}const O=E.children,P=E.sel;if(P==="!")toe(E.text)&&(E.text=""),E.elm=l.createComment(E.text);else if(P!==void 0){const I=P.indexOf("#"),z=P.indexOf(".",I),K=I>0?I:P.length,j=z>0?z:P.length,oe=I!==-1||z!==-1?P.slice(0,Math.min(K,j)):P,xe=E.elm=Qh(D)&&Qh($=D.ns)?l.createElementNS($,oe,D):l.createElement(oe,D);for(K<j&&xe.setAttribute("id",P.slice(K+1,j)),z>0&&xe.setAttribute("class",P.slice(j+1).replace(/\./g," ")),$=0;$<s.create.length;++$)s.create[$](nme,E);if(Yie(O))for($=0;$<O.length;++$){const Q=O[$];Q!=null&&l.appendChild(xe,p(Q,k))}else qV(E.text)&&l.appendChild(xe,l.createTextNode(E.text));const se=E.data.hook;Qh(se)&&((N=se.create)===null||N===void 0||N.call(se,nme,E),se.insert&&k.push(E))}else E.elm=l.createTextNode(E.text);return E.elm}function v(E,k,F,N,$,D){for(;N<=$;++N){const O=F[N];O!=null&&l.insertBefore(E,p(O,D),k)}}function b(E){var k,F;const N=E.data;if(N!==void 0){(F=(k=N==null?void 0:N.hook)===null||k===void 0?void 0:k.destroy)===null||F===void 0||F.call(k,E);for(let $=0;$<s.destroy.length;++$)s.destroy[$](E);if(E.children!==void 0)for(let $=0;$<E.children.length;++$){const D=E.children[$];D!=null&&typeof D!="string"&&b(D)}}}function S(E,k,F,N){for(var $,D;F<=N;++F){let O,P;const I=k[F];if(I!=null)if(Qh(I.sel)){b(I),O=s.remove.length+1,P=d(I.elm,O);for(let K=0;K<s.remove.length;++K)s.remove[K](I,P);const z=(D=($=I==null?void 0:I.data)===null||$===void 0?void 0:$.hook)===null||D===void 0?void 0:D.remove;Qh(z)?z(I,P):P()}else l.removeChild(E,I.elm)}}function x(E,k,F,N){let $=0,D=0,O=k.length-1,P=k[0],I=k[O],z=F.length-1,K=F[0],j=F[z],oe,xe,se,Q;for(;$<=O&&D<=z;)P==null?P=k[++$]:I==null?I=k[--O]:K==null?K=F[++D]:j==null?j=F[--z]:gB(P,K)?(T(P,K,N),P=k[++$],K=F[++D]):gB(I,j)?(T(I,j,N),I=k[--O],j=F[--z]):gB(P,j)?(T(P,j,N),l.insertBefore(E,P.elm,l.nextSibling(I.elm)),P=k[++$],j=F[--z]):gB(I,K)?(T(I,K,N),l.insertBefore(E,I.elm,P.elm),I=k[--O],K=F[++D]):(oe===void 0&&(oe=y$e(k,$,O)),xe=oe[K.key],toe(xe)?l.insertBefore(E,p(K,N),P.elm):(se=k[xe],se.sel!==K.sel?l.insertBefore(E,p(K,N),P.elm):(T(se,K,N),k[xe]=void 0,l.insertBefore(E,se.elm,P.elm))),K=F[++D]);($<=O||D<=z)&&($>O?(Q=F[z+1]==null?null:F[z+1].elm,v(E,Q,F,D,z,N)):S(E,k,$,O))}function T(E,k,F){var N,$,D,O,P;const I=(N=k.data)===null||N===void 0?void 0:N.hook;($=I==null?void 0:I.prepatch)===null||$===void 0||$.call(I,E,k);const z=k.elm=E.elm,K=E.children,j=k.children;if(E!==k){if(k.data!==void 0){for(let oe=0;oe<s.update.length;++oe)s.update[oe](E,k);(O=(D=k.data.hook)===null||D===void 0?void 0:D.update)===null||O===void 0||O.call(D,E,k)}toe(k.text)?Qh(K)&&Qh(j)?K!==j&&x(z,K,j,F):Qh(j)?(Qh(E.text)&&l.setTextContent(z,""),v(z,null,j,0,j.length-1,F)):Qh(K)?S(z,K,0,K.length-1):Qh(E.text)&&l.setTextContent(z,""):E.text!==k.text&&(Qh(K)&&S(z,K,0,K.length-1),l.setTextContent(z,k.text)),(P=I==null?void 0:I.postpatch)===null||P===void 0||P.call(I,E,k)}}return function(k,F){let N,$,D;const O=[];for(N=0;N<s.pre.length;++N)s.pre[N]();for(b$e(k)||(k=c(k)),gB(k,F)?T(k,F,O):($=k.elm,D=l.parentNode($),p(F,O),D!==null&&(l.insertBefore(D,F.elm,l.nextSibling($)),S(D,[k],0,0))),N=0;N<O.length;++N)O[N].data.hook.insert(O[N]);for(N=0;N<s.post.length;++N)s.post[N]();return F}}function iSe(e,o,s){if(e.ns="http://www.w3.org/2000/svg",s!=="foreignObject"&&o!==void 0)for(let l=0;l<o.length;++l){const c=o[l].data;c!==void 0&&iSe(c,o[l].children,o[l].sel)}}function F5(e,o,s){let l={},c,d,p;if(s!==void 0?(o!==null&&(l=o),Yie(s)?c=s:qV(s)?d=s.toString():s&&s.sel&&(c=[s])):o!=null&&(Yie(o)?c=o:qV(o)?d=o.toString():o&&o.sel?c=[o]:l=o),c!==void 0)for(p=0;p<c.length;++p)qV(c[p])&&(c[p]=lP(void 0,void 0,void 0,c[p],void 0));return e[0]==="s"&&e[1]==="v"&&e[2]==="g"&&(e.length===3||e[3]==="."||e[3]==="#")&&iSe(l,c,e),lP(e,l,c,d,void 0)}const S$e="http://www.w3.org/1999/xlink",x$e="http://www.w3.org/XML/1998/namespace",ome=58,E$e=120;function rme(e,o){let s;const l=o.elm;let c=e.data.attrs,d=o.data.attrs;if(!(!c&&!d)&&c!==d){c=c||{},d=d||{};for(s in d){const p=d[s];c[s]!==p&&(p===!0?l.setAttribute(s,""):p===!1?l.removeAttribute(s):s.charCodeAt(0)!==E$e?l.setAttribute(s,p):s.charCodeAt(3)===ome?l.setAttributeNS(x$e,s,p):s.charCodeAt(5)===ome?l.setAttributeNS(S$e,s,p):l.setAttribute(s,p))}for(s in c)s in d||l.removeAttribute(s)}}const k$e={create:rme,update:rme};function sme(e,o){let s,l;const c=o.elm;let d=e.data.class,p=o.data.class;if(!(!d&&!p)&&d!==p){d=d||{},p=p||{};for(l in d)d[l]&&!Object.prototype.hasOwnProperty.call(p,l)&&c.classList.remove(l);for(l in p)s=p[l],s!==d[l]&&c.classList[s?"add":"remove"](l)}}const A$e={create:sme,update:sme},ime=/[A-Z]/g;function ame(e,o){const s=o.elm;let l=e.data.dataset,c=o.data.dataset,d;if(!l&&!c||l===c)return;l=l||{},c=c||{};const p=s.dataset;for(d in l)c[d]||(p?d in p&&delete p[d]:s.removeAttribute("data-"+d.replace(ime,"-$&").toLowerCase()));for(d in c)l[d]!==c[d]&&(p?p[d]=c[d]:s.setAttribute("data-"+d.replace(ime,"-$&").toLowerCase(),c[d]))}const T$e={create:ame,update:ame};function aSe(e,o,s){if(typeof e=="function")e.call(o,s,o);else if(typeof e=="object")for(let l=0;l<e.length;l++)aSe(e[l],o,s)}function O$e(e,o){const s=e.type,l=o.data.on;l&&l[s]&&aSe(l[s],o,e)}function _$e(){return function e(o){O$e(o,e.vnode)}}function noe(e,o){const s=e.data.on,l=e.listener,c=e.elm,d=o&&o.data.on,p=o&&o.elm;let v;if(s!==d){if(s&&l)if(d)for(v in s)d[v]||c.removeEventListener(v,l,!1);else for(v in s)c.removeEventListener(v,l,!1);if(d){const b=o.listener=e.listener||_$e();if(b.vnode=o,s)for(v in d)s[v]||p.addEventListener(v,b,!1);else for(v in d)p.addEventListener(v,b,!1)}}}const $$e={create:noe,update:noe,destroy:noe};function lme(e,o){let s,l,c;const d=o.elm;let p=e.data.props,v=o.data.props;if(!(!p&&!v)&&p!==v){p=p||{},v=v||{};for(s in v)l=v[s],c=p[s],c!==l&&(s!=="value"||d[s]!==l)&&(d[s]=l)}}const D$e={create:lme,update:lme},cme=typeof window<"u"&&window.requestAnimationFrame.bind(window)||setTimeout,B$e=function(e){cme(function(){cme(e)})};let Xie=!1;function N$e(e,o,s){B$e(function(){e[o]=s})}function ume(e,o){let s,l;const c=o.elm;let d=e.data.style,p=o.data.style;if(!d&&!p||d===p)return;d=d||{},p=p||{};const v="delayed"in d;for(l in d)p[l]||(l[0]==="-"&&l[1]==="-"?c.style.removeProperty(l):c.style[l]="");for(l in p)if(s=p[l],l==="delayed"&&p.delayed)for(const b in p.delayed)s=p.delayed[b],(!v||s!==d.delayed[b])&&N$e(c.style,b,s);else l!=="remove"&&s!==d[l]&&(l[0]==="-"&&l[1]==="-"?c.style.setProperty(l,s):c.style[l]=s)}function P$e(e){let o,s;const l=e.elm,c=e.data.style;if(!(!c||!(o=c.destroy)))for(s in o)l.style[s]=o[s]}function F$e(e,o){const s=e.data.style;if(!s||!s.remove){o();return}Xie||(e.elm.offsetLeft,Xie=!0);let l;const c=e.elm;let d=0;const p=s.remove;let v=0;const b=[];for(l in p)b.push(l),c.style[l]=p[l];const x=getComputedStyle(c)["transition-property"].split(", ");for(;d<x.length;++d)b.indexOf(x[d])!==-1&&v++;c.addEventListener("transitionend",function(T){T.target===c&&--v,v===0&&o()})}function R$e(){Xie=!1}const M$e={pre:R$e,create:ume,update:ume,destroy:P$e,remove:F$e};function lSe(e,o){for(const s of e)s!=null&&s!==!1&&s!==""&&(Array.isArray(s)?lSe(s,o):typeof s=="string"||typeof s=="number"||typeof s=="boolean"?o.push(lP(void 0,void 0,void 0,String(s),void 0)):o.push(s));return o}function is(e,o,...s){const l=lSe(s,[]);return typeof e=="function"?e(o,l):l.length===1&&!l[0].sel&&l[0].text?F5(e,o,l[0].text):F5(e,o,l)}(function(e){})(is||(is={}));var I$e=1/0,L$e="[object Symbol]",H$e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,j$e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hq="\\ud800-\\udfff",cSe="\\u0300-\\u036f\\ufe20-\\ufe23",uSe="\\u20d0-\\u20f0",fSe="\\u2700-\\u27bf",dSe="a-z\\xdf-\\xf6\\xf8-\\xff",z$e="\\xac\\xb1\\xd7\\xf7",V$e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",U$e="\\u2000-\\u206f",W$e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hSe="A-Z\\xc0-\\xd6\\xd8-\\xde",pSe="\\ufe0e\\ufe0f",gSe=z$e+V$e+U$e+W$e,uue="['\u2019]",q$e="["+hq+"]",fme="["+gSe+"]",NU="["+cSe+uSe+"]",mSe="\\d+",Z$e="["+fSe+"]",vSe="["+dSe+"]",bSe="[^"+hq+gSe+mSe+fSe+dSe+hSe+"]",Jie="\\ud83c[\\udffb-\\udfff]",G$e="(?:"+NU+"|"+Jie+")",ySe="[^"+hq+"]",fue="(?:\\ud83c[\\udde6-\\uddff]){2}",due="[\\ud800-\\udbff][\\udc00-\\udfff]",e5="["+hSe+"]",wSe="\\u200d",dme="(?:"+vSe+"|"+bSe+")",K$e="(?:"+e5+"|"+bSe+")",hme="(?:"+uue+"(?:d|ll|m|re|s|t|ve))?",pme="(?:"+uue+"(?:D|LL|M|RE|S|T|VE))?",CSe=G$e+"?",SSe="["+pSe+"]?",Y$e="(?:"+wSe+"(?:"+[ySe,fue,due].join("|")+")"+SSe+CSe+")*",xSe=SSe+CSe+Y$e,X$e="(?:"+[Z$e,fue,due].join("|")+")"+xSe,J$e="(?:"+[ySe+NU+"?",NU,fue,due,q$e].join("|")+")",Q$e=RegExp(uue,"g"),eDe=RegExp(NU,"g"),tDe=RegExp(Jie+"(?="+Jie+")|"+J$e+xSe,"g"),nDe=RegExp([e5+"?"+vSe+"+"+hme+"(?="+[fme,e5,"$"].join("|")+")",K$e+"+"+pme+"(?="+[fme,e5+dme,"$"].join("|")+")",e5+"?"+dme+"+"+hme,e5+"+"+pme,mSe,X$e].join("|"),"g"),oDe=RegExp("["+wSe+hq+cSe+uSe+pSe+"]"),rDe=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sDe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},iDe=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,aDe=typeof self=="object"&&self&&self.Object===Object&&self,lDe=iDe||aDe||Function("return this")();function cDe(e,o,s,l){var c=-1,d=e?e.length:0;for(l&&d&&(s=e[++c]);++c<d;)s=o(s,e[c],c,e);return s}function uDe(e){return e.split("")}function fDe(e){return e.match(H$e)||[]}function dDe(e){return function(o){return e==null?void 0:e[o]}}var hDe=dDe(sDe);function ESe(e){return oDe.test(e)}function pDe(e){return rDe.test(e)}function gDe(e){return ESe(e)?mDe(e):uDe(e)}function mDe(e){return e.match(tDe)||[]}function vDe(e){return e.match(nDe)||[]}var bDe=Object.prototype,yDe=bDe.toString,gme=lDe.Symbol,mme=gme?gme.prototype:void 0,vme=mme?mme.toString:void 0;function wDe(e,o,s){var l=-1,c=e.length;o<0&&(o=-o>c?0:c+o),s=s>c?c:s,s<0&&(s+=c),c=o>s?0:s-o>>>0,o>>>=0;for(var d=Array(c);++l<c;)d[l]=e[l+o];return d}function CDe(e){if(typeof e=="string")return e;if(ADe(e))return vme?vme.call(e):"";var o=e+"";return o=="0"&&1/e==-I$e?"-0":o}function SDe(e,o,s){var l=e.length;return s=s===void 0?l:s,!o&&s>=l?e:wDe(e,o,s)}function xDe(e){return function(o){o=pq(o);var s=ESe(o)?gDe(o):void 0,l=s?s[0]:o.charAt(0),c=s?SDe(s,1).join(""):o.slice(1);return l[e]()+c}}function EDe(e){return function(o){return cDe(DDe(_De(o).replace(Q$e,"")),e,"")}}function kDe(e){return!!e&&typeof e=="object"}function ADe(e){return typeof e=="symbol"||kDe(e)&&yDe.call(e)==L$e}function pq(e){return e==null?"":CDe(e)}var TDe=EDe(function(e,o,s){return o=o.toLowerCase(),e+(s?ODe(o):o)});function ODe(e){return $De(pq(e).toLowerCase())}function _De(e){return e=pq(e),e&&e.replace(j$e,hDe).replace(eDe,"")}var $De=xDe("toUpperCase");function DDe(e,o,s){return e=pq(e),o=s?void 0:o,o===void 0?pDe(e)?vDe(e):fDe(e):e.match(o)||[]}var BDe=TDe,NDe=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),ooe={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},kSe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:NDe?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},hue={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var zz=1;zz<20;zz++)hue["f"+zz]=111+zz;function ASe(e,o,s){o&&!("byKey"in o)&&(s=o,o=null),Array.isArray(e)||(e=[e]);var l=e.map(function(p){return FDe(p,o)}),c=function(v){return l.some(function(b){return RDe(b,v)})},d=s==null?c:c(s);return d}function PDe(e,o){return ASe(e,{byKey:!0},o)}function FDe(e,o){var s=o&&o.byKey,l={};e=e.replace("++","+add");var c=e.split("+"),d=c.length;for(var p in ooe)l[ooe[p]]=!1;var v=!0,b=!1,S=void 0;try{for(var x=c[Symbol.iterator](),T;!(v=(T=x.next()).done);v=!0){var E=T.value,k=E.endsWith("?")&&E.length>1;k&&(E=E.slice(0,-1));var F=TSe(E),N=ooe[F];if(E.length>1&&!N&&!kSe[E]&&!hue[F])throw new TypeError('Unknown modifier: "'+E+'"');(d===1||!N)&&(s?l.key=F:l.which=MDe(E)),N&&(l[N]=k?null:!0)}}catch($){b=!0,S=$}finally{try{!v&&x.return&&x.return()}finally{if(b)throw S}}return l}function RDe(e,o){for(var s in e){var l=e[s],c=void 0;if(l!=null&&(s==="key"&&o.key!=null?c=o.key.toLowerCase():s==="which"?c=l===91&&o.which===93?91:o.which:c=o[s],!(c==null&&l===!1)&&c!==l))return!1}return!0}function MDe(e){e=TSe(e);var o=hue[e]||e.toUpperCase().charCodeAt(0);return o}function TSe(e){return e=e.toLowerCase(),e=kSe[e]||e,e}var IDe=ASe,roe=PDe,LDe="Expected a function",bme=0/0,HDe="[object Symbol]",jDe=/^\s+|\s+$/g,zDe=/^[-+]0x[0-9a-f]+$/i,VDe=/^0b[01]+$/i,UDe=/^0o[0-7]+$/i,WDe=parseInt,qDe=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,ZDe=typeof self=="object"&&self&&self.Object===Object&&self,GDe=qDe||ZDe||Function("return this")(),KDe=Object.prototype,YDe=KDe.toString,XDe=Math.max,JDe=Math.min,soe=function(){return GDe.Date.now()};function QDe(e,o,s){var l,c,d,p,v,b,S=0,x=!1,T=!1,E=!0;if(typeof e!="function")throw new TypeError(LDe);o=yme(o)||0,Qie(s)&&(x=!!s.leading,T="maxWait"in s,d=T?XDe(yme(s.maxWait)||0,o):d,E="trailing"in s?!!s.trailing:E);function k(K){var j=l,oe=c;return l=c=void 0,S=K,p=e.apply(oe,j),p}function F(K){return S=K,v=setTimeout(D,o),x?k(K):p}function N(K){var j=K-b,oe=K-S,xe=o-j;return T?JDe(xe,d-oe):xe}function $(K){var j=K-b,oe=K-S;return b===void 0||j>=o||j<0||T&&oe>=d}function D(){var K=soe();if($(K))return O(K);v=setTimeout(D,N(K))}function O(K){return v=void 0,E&&l?k(K):(l=c=void 0,p)}function P(){v!==void 0&&clearTimeout(v),S=0,l=b=c=v=void 0}function I(){return v===void 0?p:O(soe())}function z(){var K=soe(),j=$(K);if(l=arguments,c=this,b=K,j){if(v===void 0)return F(b);if(T)return v=setTimeout(D,o),k(b)}return v===void 0&&(v=setTimeout(D,o)),p}return z.cancel=P,z.flush=I,z}function Qie(e){var o=typeof e;return!!e&&(o=="object"||o=="function")}function e6e(e){return!!e&&typeof e=="object"}function t6e(e){return typeof e=="symbol"||e6e(e)&&YDe.call(e)==HDe}function yme(e){if(typeof e=="number")return e;if(t6e(e))return bme;if(Qie(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=Qie(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=e.replace(jDe,"");var s=VDe.test(e);return s||UDe.test(e)?WDe(e.slice(2),s?2:8):zDe.test(e)?bme:+e}var OSe=QDe,_Se=oue(function(e,o){var s=200,l="__lodash_hash_undefined__",c=9007199254740991,d="[object Arguments]",p="[object Array]",v="[object Boolean]",b="[object Date]",S="[object Error]",x="[object Function]",T="[object GeneratorFunction]",E="[object Map]",k="[object Number]",F="[object Object]",N="[object Promise]",$="[object RegExp]",D="[object Set]",O="[object String]",P="[object Symbol]",I="[object WeakMap]",z="[object ArrayBuffer]",K="[object DataView]",j="[object Float32Array]",oe="[object Float64Array]",xe="[object Int8Array]",se="[object Int16Array]",Q="[object Int32Array]",G="[object Uint8Array]",ce="[object Uint8ClampedArray]",he="[object Uint16Array]",ve="[object Uint32Array]",qe=/[\\^$.*+?()[\]{}|]/g,U=/\w*$/,Fe=/^\[object .+?Constructor\]$/,De=/^(?:0|[1-9]\d*)$/,Se={};Se[d]=Se[p]=Se[z]=Se[K]=Se[v]=Se[b]=Se[j]=Se[oe]=Se[xe]=Se[se]=Se[Q]=Se[E]=Se[k]=Se[F]=Se[$]=Se[D]=Se[O]=Se[P]=Se[G]=Se[ce]=Se[he]=Se[ve]=!0,Se[S]=Se[x]=Se[I]=!1;var re=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,le=typeof self=="object"&&self&&self.Object===Object&&self,fe=re||le||Function("return this")(),ue=o&&!o.nodeType&&o,Be=ue&&!0&&e&&!e.nodeType&&e,Ce=Be&&Be.exports===ue;function me(ae,Ke){return ae.set(Ke[0],Ke[1]),ae}function q(ae,Ke){return ae.add(Ke),ae}function Ze(ae,Ke){for(var St=-1,cn=ae?ae.length:0;++St<cn&&Ke(ae[St],St,ae)!==!1;);return ae}function We(ae,Ke){for(var St=-1,cn=Ke.length,Fn=ae.length;++St<cn;)ae[Fn+St]=Ke[St];return ae}function tt(ae,Ke,St,cn){var Fn=-1,Hn=ae?ae.length:0;for(cn&&Hn&&(St=ae[++Fn]);++Fn<Hn;)St=Ke(St,ae[Fn],Fn,ae);return St}function Qe(ae,Ke){for(var St=-1,cn=Array(ae);++St<ae;)cn[St]=Ke(St);return cn}function it(ae,Ke){return ae==null?void 0:ae[Ke]}function He(ae){var Ke=!1;if(ae!=null&&typeof ae.toString!="function")try{Ke=!!(ae+"")}catch{}return Ke}function Re(ae){var Ke=-1,St=Array(ae.size);return ae.forEach(function(cn,Fn){St[++Ke]=[Fn,cn]}),St}function Ve(ae,Ke){return function(St){return ae(Ke(St))}}function Oe(ae){var Ke=-1,St=Array(ae.size);return ae.forEach(function(cn){St[++Ke]=cn}),St}var be=Array.prototype,ie=Function.prototype,Ee=Object.prototype,ot=fe["__core-js_shared__"],Xe=function(){var ae=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return ae?"Symbol(src)_1."+ae:""}(),zt=ie.toString,qt=Ee.hasOwnProperty,bn=Ee.toString,Kn=RegExp("^"+zt.call(qt).replace(qe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zn=Ce?fe.Buffer:void 0,fn=fe.Symbol,oo=fe.Uint8Array,ft=Ve(Object.getPrototypeOf,Object),Tt=Object.create,sn=Ee.propertyIsEnumerable,kn=be.splice,Pn=Object.getOwnPropertySymbols,$n=zn?zn.isBuffer:void 0,_o=Ve(Object.keys,Object),mr=Cr(fe,"DataView"),Ot=Cr(fe,"Map"),Ct=Cr(fe,"Promise"),wn=Cr(fe,"Set"),xn=Cr(fe,"WeakMap"),pn=Cr(Object,"create"),eo=Sr(mr),yr=Sr(Ot),Ts=Sr(Ct),ci=Sr(wn),pr=Sr(xn),xi=fn?fn.prototype:void 0,wr=xi?xi.valueOf:void 0;function Jo(ae){var Ke=-1,St=ae?ae.length:0;for(this.clear();++Ke<St;){var cn=ae[Ke];this.set(cn[0],cn[1])}}function To(){this.__data__=pn?pn(null):{}}function Es(ae){return this.has(ae)&&delete this.__data__[ae]}function si(ae){var Ke=this.__data__;if(pn){var St=Ke[ae];return St===l?void 0:St}return qt.call(Ke,ae)?Ke[ae]:void 0}function Vr(ae){var Ke=this.__data__;return pn?Ke[ae]!==void 0:qt.call(Ke,ae)}function ui(ae,Ke){var St=this.__data__;return St[ae]=pn&&Ke===void 0?l:Ke,this}Jo.prototype.clear=To,Jo.prototype.delete=Es,Jo.prototype.get=si,Jo.prototype.has=Vr,Jo.prototype.set=ui;function Yr(ae){var Ke=-1,St=ae?ae.length:0;for(this.clear();++Ke<St;){var cn=ae[Ke];this.set(cn[0],cn[1])}}function ra(){this.__data__=[]}function ls(ae){var Ke=this.__data__,St=An(Ke,ae);if(St<0)return!1;var cn=Ke.length-1;return St==cn?Ke.pop():kn.call(Ke,St,1),!0}function Ti(ae){var Ke=this.__data__,St=An(Ke,ae);return St<0?void 0:Ke[St][1]}function dt(ae){return An(this.__data__,ae)>-1}function Le(ae,Ke){var St=this.__data__,cn=An(St,ae);return cn<0?St.push([ae,Ke]):St[cn][1]=Ke,this}Yr.prototype.clear=ra,Yr.prototype.delete=ls,Yr.prototype.get=Ti,Yr.prototype.has=dt,Yr.prototype.set=Le;function Pt(ae){var Ke=-1,St=ae?ae.length:0;for(this.clear();++Ke<St;){var cn=ae[Ke];this.set(cn[0],cn[1])}}function Zt(){this.__data__={hash:new Jo,map:new(Ot||Yr),string:new Jo}}function to(ae){return ka(this,ae).delete(ae)}function uo(ae){return ka(this,ae).get(ae)}function Xn(ae){return ka(this,ae).has(ae)}function vr(ae,Ke){return ka(this,ae).set(ae,Ke),this}Pt.prototype.clear=Zt,Pt.prototype.delete=to,Pt.prototype.get=uo,Pt.prototype.has=Xn,Pt.prototype.set=vr;function zo(ae){this.__data__=new Yr(ae)}function Fo(){this.__data__=new Yr}function Cs(ae){return this.__data__.delete(ae)}function dn(ae){return this.__data__.get(ae)}function lt(ae){return this.__data__.has(ae)}function ut(ae,Ke){var St=this.__data__;if(St instanceof Yr){var cn=St.__data__;if(!Ot||cn.length<s-1)return cn.push([ae,Ke]),this;St=this.__data__=new Pt(cn)}return St.set(ae,Ke),this}zo.prototype.clear=Fo,zo.prototype.delete=Cs,zo.prototype.get=dn,zo.prototype.has=lt,zo.prototype.set=ut;function en(ae,Ke){var St=xt(ae)||pt(ae)?Qe(ae.length,String):[],cn=St.length,Fn=!!cn;for(var Hn in ae)(Ke||qt.call(ae,Hn))&&!(Fn&&(Hn=="length"||mi(Hn,cn)))&&St.push(Hn);return St}function En(ae,Ke,St){var cn=ae[Ke];(!(qt.call(ae,Ke)&&Ue(cn,St))||St===void 0&&!(Ke in ae))&&(ae[Ke]=St)}function An(ae,Ke){for(var St=ae.length;St--;)if(Ue(ae[St][0],Ke))return St;return-1}function Un(ae,Ke){return ae&&da(Ke,Ss(Ke),ae)}function _n(ae,Ke,St,cn,Fn,Hn,Ro){var pe;if(cn&&(pe=Hn?cn(ae,Fn,Hn,Ro):cn(ae)),pe!==void 0)return pe;if(!xr(ae))return ae;var je=xt(ae);if(je){if(pe=sa(ae),!Ke)return Fi(ae,pe)}else{var et=Ws(ae),Nt=et==x||et==T;if(Do(ae))return Qo(ae,Ke);if(et==F||et==d||Nt&&!Hn){if(He(ae))return Hn?ae:{};if(pe=Oi(Nt?{}:ae),!Ke)return fl(ae,Un(pe,ae))}else{if(!Se[et])return Hn?ae:{};pe=Aa(ae,et,_n,Ke)}}Ro||(Ro=new zo);var Dn=Ro.get(ae);if(Dn)return Dn;if(Ro.set(ae,pe),!je)var mo=St?Ma(ae):Ss(ae);return Ze(mo||ae,function(Wn,Wr){mo&&(Wr=Wn,Wn=ae[Wr]),En(pe,Wr,_n(Wn,Ke,St,cn,Wr,ae,Ro))}),pe}function Jn(ae){return xr(ae)?Tt(ae):{}}function go(ae,Ke,St){var cn=Ke(ae);return xt(ae)?cn:We(cn,St(ae))}function $o(ae){return bn.call(ae)}function Hr(ae){if(!xr(ae)||ha(ae))return!1;var Ke=or(ae)||He(ae)?Kn:Fe;return Ke.test(Sr(ae))}function ks(ae){if(!hl(ae))return _o(ae);var Ke=[];for(var St in Object(ae))qt.call(ae,St)&&St!="constructor"&&Ke.push(St);return Ke}function Qo(ae,Ke){if(Ke)return ae.slice();var St=new ae.constructor(ae.length);return ae.copy(St),St}function fa(ae){var Ke=new ae.constructor(ae.byteLength);return new oo(Ke).set(new oo(ae)),Ke}function sr(ae,Ke){var St=Ke?fa(ae.buffer):ae.buffer;return new ae.constructor(St,ae.byteOffset,ae.byteLength)}function Tr(ae,Ke,St){var cn=Ke?St(Re(ae),!0):Re(ae);return tt(cn,me,new ae.constructor)}function Or(ae){var Ke=new ae.constructor(ae.source,U.exec(ae));return Ke.lastIndex=ae.lastIndex,Ke}function Js(ae,Ke,St){var cn=Ke?St(Oe(ae),!0):Oe(ae);return tt(cn,q,new ae.constructor)}function Ls(ae){return wr?Object(wr.call(ae)):{}}function Ea(ae,Ke){var St=Ke?fa(ae.buffer):ae.buffer;return new ae.constructor(St,ae.byteOffset,ae.length)}function Fi(ae,Ke){var St=-1,cn=ae.length;for(Ke||(Ke=Array(cn));++St<cn;)Ke[St]=ae[St];return Ke}function da(ae,Ke,St,cn){St||(St={});for(var Fn=-1,Hn=Ke.length;++Fn<Hn;){var Ro=Ke[Fn],pe=cn?cn(St[Ro],ae[Ro],Ro,St,ae):void 0;En(St,Ro,pe===void 0?ae[Ro]:pe)}return St}function fl(ae,Ke){return da(ae,Ri(ae),Ke)}function Ma(ae){return go(ae,Ss,Ri)}function ka(ae,Ke){var St=ae.__data__;return dl(Ke)?St[typeof Ke=="string"?"string":"hash"]:St.map}function Cr(ae,Ke){var St=it(ae,Ke);return Hr(St)?St:void 0}var Ri=Pn?Ve(Pn,Object):Hs,Ws=$o;(mr&&Ws(new mr(new ArrayBuffer(1)))!=K||Ot&&Ws(new Ot)!=E||Ct&&Ws(Ct.resolve())!=N||wn&&Ws(new wn)!=D||xn&&Ws(new xn)!=I)&&(Ws=function(ae){var Ke=bn.call(ae),St=Ke==F?ae.constructor:void 0,cn=St?Sr(St):void 0;if(cn)switch(cn){case eo:return K;case yr:return E;case Ts:return N;case ci:return D;case pr:return I}return Ke});function sa(ae){var Ke=ae.length,St=ae.constructor(Ke);return Ke&&typeof ae[0]=="string"&&qt.call(ae,"index")&&(St.index=ae.index,St.input=ae.input),St}function Oi(ae){return typeof ae.constructor=="function"&&!hl(ae)?Jn(ft(ae)):{}}function Aa(ae,Ke,St,cn){var Fn=ae.constructor;switch(Ke){case z:return fa(ae);case v:case b:return new Fn(+ae);case K:return sr(ae,cn);case j:case oe:case xe:case se:case Q:case G:case ce:case he:case ve:return Ea(ae,cn);case E:return Tr(ae,cn,St);case k:case O:return new Fn(ae);case $:return Or(ae);case D:return Js(ae,cn,St);case P:return Ls(ae)}}function mi(ae,Ke){return Ke=Ke==null?c:Ke,!!Ke&&(typeof ae=="number"||De.test(ae))&&ae>-1&&ae%1==0&&ae<Ke}function dl(ae){var Ke=typeof ae;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?ae!=="__proto__":ae===null}function ha(ae){return!!Xe&&Xe in ae}function hl(ae){var Ke=ae&&ae.constructor,St=typeof Ke=="function"&&Ke.prototype||Ee;return ae===St}function Sr(ae){if(ae!=null){try{return zt.call(ae)}catch{}try{return ae+""}catch{}}return""}function vi(ae){return _n(ae,!0,!0)}function Ue(ae,Ke){return ae===Ke||ae!==ae&&Ke!==Ke}function pt(ae){return mn(ae)&&qt.call(ae,"callee")&&(!sn.call(ae,"callee")||bn.call(ae)==d)}var xt=Array.isArray;function Gt(ae){return ae!=null&&Os(ae.length)&&!or(ae)}function mn(ae){return Ns(ae)&&Gt(ae)}var Do=$n||Mi;function or(ae){var Ke=xr(ae)?bn.call(ae):"";return Ke==x||Ke==T}function Os(ae){return typeof ae=="number"&&ae>-1&&ae%1==0&&ae<=c}function xr(ae){var Ke=typeof ae;return!!ae&&(Ke=="object"||Ke=="function")}function Ns(ae){return!!ae&&typeof ae=="object"}function Ss(ae){return Gt(ae)?en(ae):ks(ae)}function Hs(){return[]}function Mi(){return!1}e.exports=vi}),n6e=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},AO;function wme(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var o6e=0;function r6e(e){return"__private_"+o6e+++"_"+e}function s6e(e,o,s){const l=[];return e.forEach(c=>typeof c!="string"?l.push(c):o[Symbol.split](c).forEach((d,p,v)=>{d!==""&&l.push(d),p<v.length-1&&l.push(s)})),l}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function Cme(e,o){const s=/\$/g,l="$$$$";let c=[e];if(o==null)return c;for(const d of Object.keys(o))if(d!=="_"){let p=o[d];typeof p=="string"&&(p=s[Symbol.replace](p,l)),c=s6e(c,new RegExp(`%\\{${d}\\}`,"g"),p)}return c}var $Se=(AO=r6e("apply"),class{constructor(o){Object.defineProperty(this,AO,{value:i6e}),this.locale={strings:{},pluralize(s){return s===1?0:1}},Array.isArray(o)?o.forEach(wme(this,AO)[AO],this):wme(this,AO)[AO](o)}translate(o,s){return this.translateArray(o,s).join("")}translateArray(o,s){if(!n6e(this.locale.strings,o))throw new Error(`missing string: ${o}`);const l=this.locale.strings[o];if(typeof l=="object"){if(s&&typeof s.smart_count<"u"){const d=this.locale.pluralize(s.smart_count);return Cme(l[d],s)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return Cme(l,s)}});function i6e(e){if(!(e!=null&&e.strings))return;const o=this.locale;this.locale={...o,strings:{...o.strings,...e.strings}},this.locale.pluralize=e.pluralize||o.pluralize}var DSe=function(){var o={},s=o._fns={};o.emit=function(p,v,b,S,x,T,E){var k=l(p);k.length&&c(p,k,[v,b,S,x,T,E])},o.on=function(p,v){s[p]||(s[p]=[]),s[p].push(v)},o.once=function(p,v){function b(){v.apply(this,arguments),o.off(p,b)}this.on(p,b)},o.off=function(p,v){var b=[];if(p&&v){var S=this._fns[p],x=0,T=S?S.length:0;for(x;x<T;x++)S[x]!==v&&b.push(S[x])}b.length?this._fns[p]=b:delete this._fns[p]};function l(d){var p=s[d]?s[d]:[],v=d.indexOf(":"),b=v===-1?[d]:[d.substring(0,v),d.substring(v+1)],S=Object.keys(s),x=0,T=S.length;for(x;x<T;x++){var E=S[x];if(E==="*"&&(p=p.concat(s[E])),b.length===2&&b[0]===E){p=p.concat(s[E]);break}}return p}function c(d,p,v){var b=0,S=p.length;for(b;b<S&&p[b];b++)p[b].event=d,p[b].apply(p[b],v)}return o};let a6e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var l6e={urlAlphabet:a6e};let{urlAlphabet:c6e}=l6e;{if(typeof navigator<"u"&&navigator.product==="ReactNative"&&typeof crypto>"u")throw new Error("React Native does not have a built-in secure random generator. If you don\u2019t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if(typeof msCrypto<"u"&&typeof crypto>"u")throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if(typeof crypto>"u")throw new Error("Your browser does not have secure random generator. If you don\u2019t need unpredictable IDs, you can use nanoid/non-secure.")}let BSe=e=>crypto.getRandomValues(new Uint8Array(e)),NSe=(e,o,s)=>{let l=(2<<Math.log(e.length-1)/Math.LN2)-1,c=-~(1.6*l*o/e.length);return()=>{let d="";for(;;){let p=s(c),v=c;for(;v--;)if(d+=e[p[v]&l]||"",d.length===o)return d}}},u6e=(e,o)=>NSe(e,o,BSe),f6e=(e=21)=>{let o="",s=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let l=s[e]&63;l<36?o+=l.toString(36):l<62?o+=(l-26).toString(36).toUpperCase():l<63?o+="_":o+="-"}return o};var d6e={nanoid:f6e,customAlphabet:u6e,customRandom:NSe,urlAlphabet:c6e,random:BSe},ioe=function(o){if(typeof o!="number"||isNaN(o))throw new TypeError("Expected a number, got "+typeof o);var s=o<0,l=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(s&&(o=-o),o<1)return(s?"-":"")+o+" B";var c=Math.min(Math.floor(Math.log(o)/Math.log(1024)),l.length-1);o=Number(o/Math.pow(1024,c));var d=l[c];return o>=10||o%1===0?(s?"-":"")+o.toFixed(0)+" "+d:(s?"-":"")+o.toFixed(1)+" "+d};function PSe(e,o){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=o,this.parts=e.split(o)}PSe.prototype.match=function(e){var o=!0,s=this.parts,l,c=s.length,d;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)o=!1;else{for(d=(e||"").split(this.separator),l=0;o&&l<c;l++)s[l]!=="*"&&(l<d.length?o=s[l]===d[l]:o=!1);o=o&&d}else if(typeof e.splice=="function")for(o=[],l=e.length;l--;)this.match(e[l])&&(o[o.length]=e[l]);else if(typeof e=="object"){o={};for(var p in e)this.match(p)&&(o[p]=e[p])}return o};var h6e=function(e,o,s){var l=new PSe(e,s||/[\/\.]/);return typeof o<"u"?l.match(o):l},p6e=/[\/\+\.]/,g6e=function(e,o){function s(l){var c=h6e(l,e,p6e);return c&&c.length>=2}return o?s(o.split(";")[0]):s};function m6e(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var v6e=0;function b6e(e){return"__private_"+v6e+++"_"+e}var aoe=b6e("publish");class FSe{constructor(){Object.defineProperty(this,aoe,{value:y6e}),this.state={},this.callbacks=[]}getState(){return this.state}setState(o){const s={...this.state},l={...this.state,...o};this.state=l,m6e(this,aoe)[aoe](s,l,o)}subscribe(o){return this.callbacks.push(o),()=>{this.callbacks.splice(this.callbacks.indexOf(o),1)}}}function y6e(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];this.callbacks.forEach(l=>{l(...o)})}FSe.VERSION="2.0.3";var w6e=function(){return new FSe},RSe=function(o){const s=o.lastIndexOf(".");return s===-1||s===o.length-1?{name:o,extension:void 0}:{name:o.slice(0,s),extension:o.slice(s+1)}},Sme={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"},C6e=function(o){var s;if(o.type)return o.type;const l=o.name?(s=RSe(o.name).extension)==null?void 0:s.toLowerCase():null;return l&&l in Sme?Sme[l]:"application/octet-stream"};function S6e(e){return e.charCodeAt(0).toString(32)}function xme(e){let o="";return e.replace(/[^A-Z0-9]/ig,s=>(o+=`-${S6e(s)}`,"/"))+o}var x6e=function(o){let s="uppy";return typeof o.name=="string"&&(s+=`-${xme(o.name.toLowerCase())}`),o.type!==void 0&&(s+=`-${o.type}`),o.meta&&typeof o.meta.relativePath=="string"&&(s+=`-${xme(o.meta.relativePath.toLowerCase())}`),o.data.size!==void 0&&(s+=`-${o.data.size}`),o.data.lastModified!==void 0&&(s+=`-${o.data.lastModified}`),s},E6e=function(o){if(o==null&&(o=typeof navigator<"u"?navigator.userAgent:null),!o)return!0;const s=/Edge\/(\d+\.\d+)/.exec(o);if(!s)return!0;const l=s[1];let[c,d]=l.split(".");return c=parseInt(c,10),d=parseInt(d,10),c<15||c===15&&d<15063||c>18||c===18&&d>=18218},k6e=function(o,s){return s.name?s.name:o.split("/")[0]==="image"?`${o.split("/")[0]}.${o.split("/")[1]}`:"noname"};function loe(e){return e<10?`0${e}`:e.toString()}var ZV=function(){const o=new Date,s=loe(o.getHours()),l=loe(o.getMinutes()),c=loe(o.getSeconds());return`${s}:${l}:${c}`};const A6e={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.error(`[Uppy] [${ZV()}]`,...o)}},T6e={debug:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.debug(`[Uppy] [${ZV()}]`,...o)},warn:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.warn(`[Uppy] [${ZV()}]`,...o)},error:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return console.error(`[Uppy] [${ZV()}]`,...o)}};var MSe={justErrorsLogger:A6e,debugLogger:T6e},O6e={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},ISe=d6e;let LSe,HSe;function cr(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var _6e=0;function Vc(e){return"__private_"+_6e+++"_"+e}const{nanoid:$6e}=ISe,{justErrorsLogger:D6e,debugLogger:B6e}=MSe;class Fv extends Error{constructor(){super(...arguments),this.isRestriction=!0}}typeof AggregateError>"u"&&(globalThis.AggregateError=class extends Error{constructor(o,s){super(s),this.errors=o}});class N6e extends AggregateError{constructor(){super(...arguments),this.isRestriction=!0}}var rf=Vc("plugins"),mB=Vc("storeUnsubscribe"),Qb=Vc("emitter"),JE=Vc("preProcessors"),QE=Vc("uploaders"),sy=Vc("postProcessors"),RN=Vc("checkRestrictions"),coe=Vc("checkMinNumberOfFiles"),cP=Vc("checkRequiredMetaFieldsOnFile"),uoe=Vc("checkRequiredMetaFields"),au=Vc("showOrLogErrorAndThrow"),vB=Vc("assertNewUploadAllowed"),bB=Vc("checkAndCreateFileStateObject"),yB=Vc("startIfAutoProceed"),foe=Vc("addListeners"),Im=Vc("updateOnlineStatus"),ey=Vc("createUpload"),doe=Vc("getUpload"),s4=Vc("removeUpload"),ty=Vc("runUpload");LSe=Symbol.for("uppy test: getPlugins");HSe=Symbol.for("uppy test: createUpload");class jSe{constructor(o){Object.defineProperty(this,ty,{value:q6e}),Object.defineProperty(this,s4,{value:W6e}),Object.defineProperty(this,doe,{value:U6e}),Object.defineProperty(this,ey,{value:V6e}),Object.defineProperty(this,foe,{value:z6e}),Object.defineProperty(this,yB,{value:j6e}),Object.defineProperty(this,bB,{value:H6e}),Object.defineProperty(this,vB,{value:L6e}),Object.defineProperty(this,au,{value:I6e}),Object.defineProperty(this,uoe,{value:M6e}),Object.defineProperty(this,cP,{value:R6e}),Object.defineProperty(this,coe,{value:F6e}),Object.defineProperty(this,RN,{value:P6e}),Object.defineProperty(this,rf,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,mB,{writable:!0,value:void 0}),Object.defineProperty(this,Qb,{writable:!0,value:DSe()}),Object.defineProperty(this,JE,{writable:!0,value:new Set}),Object.defineProperty(this,QE,{writable:!0,value:new Set}),Object.defineProperty(this,sy,{writable:!0,value:new Set}),Object.defineProperty(this,Im,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=O6e;const s={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:l=>l,onBeforeUpload:l=>l,store:w6e(),logger:D6e,infoTimeout:5e3};if(this.opts={...s,...o,restrictions:{...s.restrictions,...o&&o.restrictions}},o&&o.logger&&o.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):o&&o.debug&&(this.opts.logger=B6e),this.log(`Using Core v${this.constructor.VERSION}`),this.opts.restrictions.allowedFileTypes&&this.opts.restrictions.allowedFileTypes!==null&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=$4(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:E6e(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),cr(this,mB)[mB]=this.store.subscribe((l,c,d)=>{this.emit("state-update",l,c,d),this.updateAll(c)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),cr(this,foe)[foe]()}emit(o){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];cr(this,Qb)[Qb].emit(o,...l)}on(o,s){return cr(this,Qb)[Qb].on(o,s),this}once(o,s){return cr(this,Qb)[Qb].once(o,s),this}off(o,s){return cr(this,Qb)[Qb].off(o,s),this}updateAll(o){this.iteratePlugins(s=>{s.update(o)})}setState(o){this.store.setState(o)}getState(){return this.store.getState()}get state(){return this.getState()}setFileState(o,s){if(!this.getState().files[o])throw new Error(`Can\u2019t set state for ${o} (the file could have been removed)`);this.setState({files:{...this.getState().files,[o]:{...this.getState().files[o],...s}}})}i18nInit(){const o=new $Se([this.defaultLocale,this.opts.locale]);this.i18n=o.translate.bind(o),this.i18nArray=o.translateArray.bind(o),this.locale=o.locale}setOptions(o){this.opts={...this.opts,...o,restrictions:{...this.opts.restrictions,...o&&o.restrictions}},o.meta&&this.setMeta(o.meta),this.i18nInit(),o.locale&&this.iteratePlugins(s=>{s.setOptions()}),this.setState()}resetProgress(){const o={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},s={...this.getState().files},l={};Object.keys(s).forEach(c=>{const d={...s[c]};d.progress={...d.progress,...o},l[c]=d}),this.setState({files:l,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(o){cr(this,JE)[JE].add(o)}removePreProcessor(o){return cr(this,JE)[JE].delete(o)}addPostProcessor(o){cr(this,sy)[sy].add(o)}removePostProcessor(o){return cr(this,sy)[sy].delete(o)}addUploader(o){cr(this,QE)[QE].add(o)}removeUploader(o){return cr(this,QE)[QE].delete(o)}setMeta(o){const s={...this.getState().meta,...o},l={...this.getState().files};Object.keys(l).forEach(c=>{l[c]={...l[c],meta:{...l[c].meta,...o}}}),this.log("Adding metadata:"),this.log(o),this.setState({meta:s,files:l})}setFileMeta(o,s){const l={...this.getState().files};if(!l[o]){this.log("Was trying to set metadata for a file that has been removed: ",o);return}const c={...l[o].meta,...s};l[o]={...l[o],meta:c},this.setState({files:l})}getFile(o){return this.getState().files[o]}getFiles(){const{files:o}=this.getState();return Object.values(o)}getObjectOfFilesPerState(){const{files:o,totalProgress:s,error:l}=this.getState(),c=Object.values(o),d=c.filter(F=>{let{progress:N}=F;return!N.uploadComplete&&N.uploadStarted}),p=c.filter(F=>!F.progress.uploadStarted),v=c.filter(F=>F.progress.uploadStarted||F.progress.preprocess||F.progress.postprocess),b=c.filter(F=>F.progress.uploadStarted),S=c.filter(F=>F.isPaused),x=c.filter(F=>F.progress.uploadComplete),T=c.filter(F=>F.error),E=d.filter(F=>!F.isPaused),k=c.filter(F=>F.progress.preprocess||F.progress.postprocess);return{newFiles:p,startedFiles:v,uploadStartedFiles:b,pausedFiles:S,completeFiles:x,erroredFiles:T,inProgressFiles:d,inProgressNotPausedFiles:E,processingFiles:k,isUploadStarted:b.length>0,isAllComplete:s===100&&x.length===c.length&&k.length===0,isAllErrored:!!l&&T.length===c.length,isAllPaused:d.length!==0&&S.length===d.length,isUploadInProgress:d.length>0,isSomeGhost:c.some(F=>F.isGhost)}}validateRestrictions(o,s){try{return cr(this,RN)[RN](o,s),{result:!0}}catch(l){return{result:!1,reason:l.message}}}checkIfFileAlreadyExists(o){const{files:s}=this.getState();return!!(s[o]&&!s[o].isGhost)}addFile(o){cr(this,vB)[vB](o);const{files:s}=this.getState();let l=cr(this,bB)[bB](s,o);return s[l.id]&&s[l.id].isGhost&&(l={...s[l.id],data:o.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)),this.setState({files:{...s,[l.id]:l}}),this.emit("file-added",l),this.emit("files-added",[l]),this.log(`Added file: ${l.name}, ${l.id}, mime type: ${l.type}`),cr(this,yB)[yB](),l.id}addFiles(o){cr(this,vB)[vB]();const s={...this.getState().files},l=[],c=[];for(let d=0;d<o.length;d++)try{let p=cr(this,bB)[bB](s,o[d]);s[p.id]&&s[p.id].isGhost&&(p={...s[p.id],data:o[d].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${p.name}, ${p.id}`)),s[p.id]=p,l.push(p)}catch(p){p.isRestriction||c.push(p)}if(this.setState({files:s}),l.forEach(d=>{this.emit("file-added",d)}),this.emit("files-added",l),l.length>5?this.log(`Added batch of ${l.length} files`):Object.keys(l).forEach(d=>{this.log(`Added file: ${l[d].name}
 id: ${l[d].id}
 type: ${l[d].type}`)}),l.length>0&&cr(this,yB)[yB](),c.length>0){let d=`Multiple errors occurred while adding files:
`;if(c.forEach(p=>{d+=`
 * ${p.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:c.length}),details:d},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(c,d);{const p=new Error(d);throw p.errors=c,p}}}removeFiles(o,s){const{files:l,currentUploads:c}=this.getState(),d={...l},p={...c},v=Object.create(null);o.forEach(T=>{l[T]&&(v[T]=l[T],delete d[T])});function b(T){return v[T]===void 0}Object.keys(p).forEach(T=>{const E=c[T].fileIDs.filter(b);if(E.length===0){delete p[T];return}p[T]={...c[T],fileIDs:E}});const S={currentUploads:p,files:d};Object.keys(d).length===0&&(S.allowNewUpload=!0,S.error=null,S.recoveredState=null),this.setState(S),this.calculateTotalProgress();const x=Object.keys(v);x.forEach(T=>{this.emit("file-removed",v[T],s)}),x.length>5?this.log(`Removed ${x.length} files`):this.log(`Removed files: ${x.join(", ")}`)}removeFile(o,s){s===void 0&&(s=null),this.removeFiles([o],s)}pauseResume(o){if(!this.getState().capabilities.resumableUploads||this.getFile(o).uploadComplete)return;const l=!(this.getFile(o).isPaused||!1);return this.setFileState(o,{isPaused:l}),this.emit("upload-pause",o,l),l}pauseAll(){const o={...this.getState().files};Object.keys(o).filter(l=>!o[l].progress.uploadComplete&&o[l].progress.uploadStarted).forEach(l=>{const c={...o[l],isPaused:!0};o[l]=c}),this.setState({files:o}),this.emit("pause-all")}resumeAll(){const o={...this.getState().files};Object.keys(o).filter(l=>!o[l].progress.uploadComplete&&o[l].progress.uploadStarted).forEach(l=>{const c={...o[l],isPaused:!1,error:null};o[l]=c}),this.setState({files:o}),this.emit("resume-all")}retryAll(){const o={...this.getState().files},s=Object.keys(o).filter(c=>o[c].error);if(s.forEach(c=>{const d={...o[c],isPaused:!1,error:null};o[c]=d}),this.setState({files:o,error:null}),this.emit("retry-all",s),s.length===0)return Promise.resolve({successful:[],failed:[]});const l=cr(this,ey)[ey](s,{forceAllowNewUpload:!0});return cr(this,ty)[ty](l)}cancelAll(){this.emit("cancel-all");const{files:o}=this.getState(),s=Object.keys(o);s.length&&this.removeFiles(s,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}retryUpload(o){this.setFileState(o,{error:null,isPaused:!1}),this.emit("upload-retry",o);const s=cr(this,ey)[ey]([o],{forceAllowNewUpload:!0});return cr(this,ty)[ty](s)}reset(){this.cancelAll()}logout(){this.iteratePlugins(o=>{o.provider&&o.provider.logout&&o.provider.logout()})}calculateProgress(o,s){if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const l=Number.isFinite(s.bytesTotal)&&s.bytesTotal>0;this.setFileState(o.id,{progress:{...this.getFile(o.id).progress,bytesUploaded:s.bytesUploaded,bytesTotal:s.bytesTotal,percentage:l?Math.round(s.bytesUploaded/s.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){const s=this.getFiles().filter(S=>S.progress.uploadStarted||S.progress.preprocess||S.progress.postprocess);if(s.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const l=s.filter(S=>S.progress.bytesTotal!=null),c=s.filter(S=>S.progress.bytesTotal==null);if(l.length===0){const S=s.length*100,x=c.reduce((E,k)=>E+k.progress.percentage,0),T=Math.round(x/S*100);this.setState({totalProgress:T});return}let d=l.reduce((S,x)=>S+x.progress.bytesTotal,0);const p=d/l.length;d+=p*c.length;let v=0;l.forEach(S=>{v+=S.progress.bytesUploaded}),c.forEach(S=>{v+=p*(S.progress.percentage||0)/100});let b=d===0?0:Math.round(v/d*100);b>100&&(b=100),this.setState({totalProgress:b}),this.emit("progress",b)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(o,s){if(typeof o!="function"){const p=`Expected a plugin class, but got ${o===null?"null":typeof o}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(p)}const l=new o(this,s),c=l.id;if(!c)throw new Error("Your plugin must have an id");if(!l.type)throw new Error("Your plugin must have a type");const d=this.getPlugin(c);if(d){const p=`Already found a plugin named '${d.id}'. Tried to use: '${c}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(p)}return o.VERSION&&this.log(`Using ${c} v${o.VERSION}`),l.type in cr(this,rf)[rf]?cr(this,rf)[rf][l.type].push(l):cr(this,rf)[rf][l.type]=[l],l.install(),this}getPlugin(o){for(const s of Object.values(cr(this,rf)[rf])){const l=s.find(c=>c.id===o);if(l!=null)return l}}[LSe](o){return cr(this,rf)[rf][o]}iteratePlugins(o){Object.values(cr(this,rf)[rf]).flat(1).forEach(o)}removePlugin(o){this.log(`Removing plugin ${o.id}`),this.emit("plugin-remove",o),o.uninstall&&o.uninstall();const s=cr(this,rf)[rf][o.type],l=s.findIndex(p=>p.id===o.id);l!==-1&&s.splice(l,1);const d={plugins:{...this.getState().plugins,[o.id]:void 0}};this.setState(d)}close(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.reset(),cr(this,mB)[mB](),this.iteratePlugins(o=>{this.removePlugin(o)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",cr(this,Im)[Im]),window.removeEventListener("offline",cr(this,Im)[Im]))}hideInfo(){const{info:o}=this.getState();this.setState({info:o.slice(1)}),this.emit("info-hidden")}info(o,s,l){s===void 0&&(s="info"),l===void 0&&(l=3e3);const c=typeof o=="object";this.setState({info:[...this.getState().info,{type:s,message:c?o.message:o,details:c?o.details:null}]}),setTimeout(()=>this.hideInfo(),l),this.emit("info-visible")}log(o,s){const{logger:l}=this.opts;switch(s){case"error":l.error(o);break;case"warning":l.warn(o);break;default:l.debug(o);break}}restore(o){return this.log(`Core: attempting to restore upload "${o}"`),this.getState().currentUploads[o]?cr(this,ty)[ty](o):(cr(this,s4)[s4](o),Promise.reject(new Error("Nonexistent upload")))}[HSe](){return cr(this,ey)[ey](...arguments)}addResultData(o,s){if(!cr(this,doe)[doe](o)){this.log(`Not setting result for an upload that has been removed: ${o}`);return}const{currentUploads:l}=this.getState(),c={...l[o],result:{...l[o].result,...s}};this.setState({currentUploads:{...l,[o]:c}})}upload(){var o;(o=cr(this,rf)[rf].uploader)!=null&&o.length||this.log("No uploader type plugins are used","warning");let{files:s}=this.getState();const l=this.opts.onBeforeUpload(s);return l===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(l&&typeof l=="object"&&(s=l,this.setState({files:s})),Promise.resolve().then(()=>{cr(this,coe)[coe](s),cr(this,uoe)[uoe](s)}).catch(c=>{cr(this,au)[au](c)}).then(()=>{const{currentUploads:c}=this.getState(),d=Object.values(c).flatMap(b=>b.fileIDs),p=[];Object.keys(s).forEach(b=>{const S=this.getFile(b);!S.progress.uploadStarted&&d.indexOf(b)===-1&&p.push(S.id)});const v=cr(this,ey)[ey](p);return cr(this,ty)[ty](v)}).catch(c=>{cr(this,au)[au](c,{showInformer:!1})}))}}function P6e(e,o){o===void 0&&(o=this.getFiles());const{maxFileSize:s,minFileSize:l,maxTotalFileSize:c,maxNumberOfFiles:d,allowedFileTypes:p}=this.opts.restrictions;if(d&&o.length+1>d)throw new Fv(`${this.i18n("youCanOnlyUploadX",{smart_count:d})}`);if(p&&!p.some(b=>b.indexOf("/")>-1?e.type?g6e(e.type.replace(/;.*?$/,""),b):!1:b[0]==="."&&e.extension?e.extension.toLowerCase()===b.substr(1).toLowerCase():!1)){const b=p.join(", ");throw new Fv(this.i18n("youCanOnlyUploadFileTypes",{types:b}))}if(c&&e.size!=null){let v=0;if(v+=e.size,o.forEach(b=>{v+=b.size}),v>c)throw new Fv(this.i18n("exceedsSize",{size:ioe(c),file:e.name}))}if(s&&e.size!=null&&e.size>s)throw new Fv(this.i18n("exceedsSize",{size:ioe(s),file:e.name}));if(l&&e.size!=null&&e.size<l)throw new Fv(this.i18n("inferiorSize",{size:ioe(l)}))}function F6e(e){const{minNumberOfFiles:o}=this.opts.restrictions;if(Object.keys(e).length<o)throw new Fv(`${this.i18n("youHaveToAtLeastSelectX",{smart_count:o})}`)}function R6e(e){const{requiredMetaFields:o}=this.opts.restrictions,{hasOwnProperty:s}=Object.prototype,l=[],c=[];for(let d=0;d<o.length;d++)if(!s.call(e.meta,o[d])||e.meta[o[d]]===""){const p=new Fv(`${this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})}`);l.push(p),c.push(o[d]),cr(this,au)[au](p,{file:e,showInformer:!1,throwErr:!1})}return this.setFileState(e.id,{missingRequiredMetaFields:c}),l}function M6e(e){const o=Object.keys(e).flatMap(s=>{const l=this.getFile(s);return cr(this,cP)[cP](l)});if(o.length)throw new N6e(o,`${this.i18n("missingRequiredMetaField")}`)}function I6e(e,o){let{showInformer:s=!0,file:l=null,throwErr:c=!0}=o===void 0?{}:o;const d=typeof e=="object"?e.message:e,p=typeof e=="object"&&e.details?e.details:"";let v=d;if(p&&(v+=` ${p}`),e.isRestriction?(this.log(v),this.emit("restriction-failed",l,e)):this.log(v,"error"),s&&this.info({message:d,details:p},"error",this.opts.infoTimeout),c)throw typeof e=="object"?e:new Error(e)}function L6e(e){const{allowNewUpload:o}=this.getState();o===!1&&cr(this,au)[au](new Fv(this.i18n("noMoreFilesAllowed")),{file:e})}function H6e(e,o){const s=C6e(o),l=k6e(s,o),c=RSe(l).extension,d=Boolean(o.isRemote),p=x6e({...o,type:s});if(this.checkIfFileAlreadyExists(p)){const T=new Fv(this.i18n("noDuplicates",{fileName:l}));cr(this,au)[au](T,{file:o})}const v=o.meta||{};v.name=l,v.type=s;const b=Number.isFinite(o.data.size)?o.data.size:null;let S={source:o.source||"",id:p,name:l,extension:c||"",meta:{...this.getState().meta,...v},type:s,data:o.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:b,uploadComplete:!1,uploadStarted:null},size:b,isRemote:d,remote:o.remote||"",preview:o.preview};const x=this.opts.onBeforeFileAdded(S,e);x===!1?cr(this,au)[au](new Fv("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:o}):typeof x=="object"&&x!==null&&(S=x);try{const T=Object.keys(e).map(E=>e[E]);cr(this,RN)[RN](S,T)}catch(T){cr(this,au)[au](T,{file:S})}return S}function j6e(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))}function z6e(){const e=(o,s,l)=>{let c=o.message||"Unknown error";o.details&&(c+=` ${o.details}`),this.setState({error:c}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:c,response:l})};this.on("error",e),this.on("upload-error",(o,s,l)=>{if(e(s,o,l),typeof s=="object"&&s.message){const c=new Error(s.message);c.details=s.message,s.details&&(c.details+=` ${s.details}`),c.message=this.i18n("failedToUpload",{file:o.name}),cr(this,au)[au](c,{throwErr:!1})}else cr(this,au)[au](s,{throwErr:!1})}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",o=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}this.setFileState(o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:o.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(o,s)=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const l=this.getFile(o.id).progress;this.setFileState(o.id,{progress:{...l,postprocess:cr(this,sy)[sy].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:l.bytesTotal},response:s,uploadURL:s.uploadURL,isPaused:!1}),o.size==null&&this.setFileState(o.id,{size:s.bytesUploaded||l.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(o,s)=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}this.setFileState(o.id,{progress:{...this.getFile(o.id).progress,preprocess:s}})}),this.on("preprocess-complete",o=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const s={...this.getState().files};s[o.id]={...s[o.id],progress:{...s[o.id].progress}},delete s[o.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(o,s)=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}this.setFileState(o.id,{progress:{...this.getState().files[o.id].progress,postprocess:s}})}),this.on("postprocess-complete",o=>{if(!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o.id}`);return}const s={...this.getState().files};s[o.id]={...s[o.id],progress:{...s[o.id].progress}},delete s[o.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",o=>{o&&cr(this,cP)[cP](o)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",cr(this,Im)[Im]),window.addEventListener("offline",cr(this,Im)[Im]),setTimeout(cr(this,Im)[Im],3e3))}function V6e(e,o){o===void 0&&(o={});const{forceAllowNewUpload:s=!1}=o,{allowNewUpload:l,currentUploads:c}=this.getState();if(!l&&!s)throw new Error("Cannot create a new upload: already uploading.");const d=$6e();return this.emit("upload",{id:d,fileIDs:e}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...c,[d]:{fileIDs:e,step:0,result:{}}}}),d}function U6e(e){const{currentUploads:o}=this.getState();return o[e]}function W6e(e){const o={...this.getState().currentUploads};delete o[e],this.setState({currentUploads:o})}async function q6e(e){let{currentUploads:o}=this.getState(),s=o[e];const l=s.step||0,c=[...cr(this,JE)[JE],...cr(this,QE)[QE],...cr(this,sy)[sy]];try{for(let p=l;p<c.length&&s;p++){const v=c[p],b={...s,step:p};this.setState({currentUploads:{...o,[e]:b}}),await v(b.fileIDs,e),o=this.getState().currentUploads,s=o[e]}}catch(p){throw this.emit("error",p),cr(this,s4)[s4](e),p}if(s){s.fileIDs.forEach(S=>{const x=this.getFile(S);x&&x.progress.postprocess&&this.emit("postprocess-complete",x)});const p=s.fileIDs.map(S=>this.getFile(S)),v=p.filter(S=>!S.error),b=p.filter(S=>S.error);await this.addResultData(e,{successful:v,failed:b,uploadID:e}),o=this.getState().currentUploads,s=o[e]}let d;return s&&(d=s.result,this.emit("complete",d),cr(this,s4)[s4](e)),d==null&&this.log(`Not setting result for an upload that has been removed: ${e}`),d}jSe.VERSION="2.1.3";var zSe=jSe,Z6e=oue(function(e,o){var s,l,c,d,p,v,b,S,x={},T=[],E=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(le,fe){for(var ue in fe)le[ue]=fe[ue];return le}function F(le){var fe=le.parentNode;fe&&fe.removeChild(le)}function N(le,fe,ue){var Be,Ce,me,q={};for(me in fe)me=="key"?Be=fe[me]:me=="ref"?Ce=fe[me]:q[me]=fe[me];if(arguments.length>2&&(q.children=arguments.length>3?s.call(arguments,2):ue),typeof le=="function"&&le.defaultProps!=null)for(me in le.defaultProps)q[me]===void 0&&(q[me]=le.defaultProps[me]);return $(le,q,Be,Ce,null)}function $(le,fe,ue,Be,Ce){var me={type:le,props:fe,key:ue,ref:Be,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ce==null?++c:Ce};return Ce==null&&l.vnode!=null&&l.vnode(me),me}function D(le){return le.children}function O(le,fe){this.props=le,this.context=fe}function P(le,fe){if(fe==null)return le.__?P(le.__,le.__.__k.indexOf(le)+1):null;for(var ue;fe<le.__k.length;fe++)if((ue=le.__k[fe])!=null&&ue.__e!=null)return ue.__e;return typeof le.type=="function"?P(le):null}function I(le){var fe,ue;if((le=le.__)!=null&&le.__c!=null){for(le.__e=le.__c.base=null,fe=0;fe<le.__k.length;fe++)if((ue=le.__k[fe])!=null&&ue.__e!=null){le.__e=le.__c.base=ue.__e;break}return I(le)}}function z(le){(!le.__d&&(le.__d=!0)&&p.push(le)&&!K.__r++||b!==l.debounceRendering)&&((b=l.debounceRendering)||v)(K)}function K(){for(var le;K.__r=p.length;)le=p.sort(function(fe,ue){return fe.__v.__b-ue.__v.__b}),p=[],le.some(function(fe){var ue,Be,Ce,me,q,Ze;fe.__d&&(q=(me=(ue=fe).__v).__e,(Ze=ue.__P)&&(Be=[],(Ce=k({},me)).__v=me.__v+1,ve(Ze,me,Ce,ue.__n,Ze.ownerSVGElement!==void 0,me.__h!=null?[q]:null,Be,q==null?P(me):q,me.__h),qe(Be,me),me.__e!=q&&I(me)))})}function j(le,fe,ue,Be,Ce,me,q,Ze,We,tt){var Qe,it,He,Re,Ve,Oe,be,ie=Be&&Be.__k||T,Ee=ie.length;for(ue.__k=[],Qe=0;Qe<fe.length;Qe++)if((Re=ue.__k[Qe]=(Re=fe[Qe])==null||typeof Re=="boolean"?null:typeof Re=="string"||typeof Re=="number"||typeof Re=="bigint"?$(null,Re,null,null,Re):Array.isArray(Re)?$(D,{children:Re},null,null,null):Re.__b>0?$(Re.type,Re.props,Re.key,null,Re.__v):Re)!=null){if(Re.__=ue,Re.__b=ue.__b+1,(He=ie[Qe])===null||He&&Re.key==He.key&&Re.type===He.type)ie[Qe]=void 0;else for(it=0;it<Ee;it++){if((He=ie[it])&&Re.key==He.key&&Re.type===He.type){ie[it]=void 0;break}He=null}ve(le,Re,He=He||x,Ce,me,q,Ze,We,tt),Ve=Re.__e,(it=Re.ref)&&He.ref!=it&&(be||(be=[]),He.ref&&be.push(He.ref,null,Re),be.push(it,Re.__c||Ve,Re)),Ve!=null?(Oe==null&&(Oe=Ve),typeof Re.type=="function"&&Re.__k===He.__k?Re.__d=We=oe(Re,We,le):We=xe(le,Re,He,ie,Ve,We),typeof ue.type=="function"&&(ue.__d=We)):We&&He.__e==We&&We.parentNode!=le&&(We=P(He))}for(ue.__e=Oe,Qe=Ee;Qe--;)ie[Qe]!=null&&(typeof ue.type=="function"&&ie[Qe].__e!=null&&ie[Qe].__e==ue.__d&&(ue.__d=P(Be,Qe+1)),De(ie[Qe],ie[Qe]));if(be)for(Qe=0;Qe<be.length;Qe++)Fe(be[Qe],be[++Qe],be[++Qe])}function oe(le,fe,ue){for(var Be,Ce=le.__k,me=0;Ce&&me<Ce.length;me++)(Be=Ce[me])&&(Be.__=le,fe=typeof Be.type=="function"?oe(Be,fe,ue):xe(ue,Be,Be,Ce,Be.__e,fe));return fe}function xe(le,fe,ue,Be,Ce,me){var q,Ze,We;if(fe.__d!==void 0)q=fe.__d,fe.__d=void 0;else if(ue==null||Ce!=me||Ce.parentNode==null)e:if(me==null||me.parentNode!==le)le.appendChild(Ce),q=null;else{for(Ze=me,We=0;(Ze=Ze.nextSibling)&&We<Be.length;We+=2)if(Ze==Ce)break e;le.insertBefore(Ce,me),q=me}return q!==void 0?q:Ce.nextSibling}function se(le,fe,ue,Be,Ce){var me;for(me in ue)me==="children"||me==="key"||me in fe||G(le,me,null,ue[me],Be);for(me in fe)Ce&&typeof fe[me]!="function"||me==="children"||me==="key"||me==="value"||me==="checked"||ue[me]===fe[me]||G(le,me,fe[me],ue[me],Be)}function Q(le,fe,ue){fe[0]==="-"?le.setProperty(fe,ue):le[fe]=ue==null?"":typeof ue!="number"||E.test(fe)?ue:ue+"px"}function G(le,fe,ue,Be,Ce){var me;e:if(fe==="style")if(typeof ue=="string")le.style.cssText=ue;else{if(typeof Be=="string"&&(le.style.cssText=Be=""),Be)for(fe in Be)ue&&fe in ue||Q(le.style,fe,"");if(ue)for(fe in ue)Be&&ue[fe]===Be[fe]||Q(le.style,fe,ue[fe])}else if(fe[0]==="o"&&fe[1]==="n")me=fe!==(fe=fe.replace(/Capture$/,"")),fe=fe.toLowerCase()in le?fe.toLowerCase().slice(2):fe.slice(2),le.l||(le.l={}),le.l[fe+me]=ue,ue?Be||le.addEventListener(fe,me?he:ce,me):le.removeEventListener(fe,me?he:ce,me);else if(fe!=="dangerouslySetInnerHTML"){if(Ce)fe=fe.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(fe!=="href"&&fe!=="list"&&fe!=="form"&&fe!=="tabIndex"&&fe!=="download"&&fe in le)try{le[fe]=ue==null?"":ue;break e}catch{}typeof ue=="function"||(ue!=null&&(ue!==!1||fe[0]==="a"&&fe[1]==="r")?le.setAttribute(fe,ue):le.removeAttribute(fe))}}function ce(le){this.l[le.type+!1](l.event?l.event(le):le)}function he(le){this.l[le.type+!0](l.event?l.event(le):le)}function ve(le,fe,ue,Be,Ce,me,q,Ze,We){var tt,Qe,it,He,Re,Ve,Oe,be,ie,Ee,ot,Xe=fe.type;if(fe.constructor!==void 0)return null;ue.__h!=null&&(We=ue.__h,Ze=fe.__e=ue.__e,fe.__h=null,me=[Ze]),(tt=l.__b)&&tt(fe);try{e:if(typeof Xe=="function"){if(be=fe.props,ie=(tt=Xe.contextType)&&Be[tt.__c],Ee=tt?ie?ie.props.value:tt.__:Be,ue.__c?Oe=(Qe=fe.__c=ue.__c).__=Qe.__E:("prototype"in Xe&&Xe.prototype.render?fe.__c=Qe=new Xe(be,Ee):(fe.__c=Qe=new O(be,Ee),Qe.constructor=Xe,Qe.render=Se),ie&&ie.sub(Qe),Qe.props=be,Qe.state||(Qe.state={}),Qe.context=Ee,Qe.__n=Be,it=Qe.__d=!0,Qe.__h=[]),Qe.__s==null&&(Qe.__s=Qe.state),Xe.getDerivedStateFromProps!=null&&(Qe.__s==Qe.state&&(Qe.__s=k({},Qe.__s)),k(Qe.__s,Xe.getDerivedStateFromProps(be,Qe.__s))),He=Qe.props,Re=Qe.state,it)Xe.getDerivedStateFromProps==null&&Qe.componentWillMount!=null&&Qe.componentWillMount(),Qe.componentDidMount!=null&&Qe.__h.push(Qe.componentDidMount);else{if(Xe.getDerivedStateFromProps==null&&be!==He&&Qe.componentWillReceiveProps!=null&&Qe.componentWillReceiveProps(be,Ee),!Qe.__e&&Qe.shouldComponentUpdate!=null&&Qe.shouldComponentUpdate(be,Qe.__s,Ee)===!1||fe.__v===ue.__v){Qe.props=be,Qe.state=Qe.__s,fe.__v!==ue.__v&&(Qe.__d=!1),Qe.__v=fe,fe.__e=ue.__e,fe.__k=ue.__k,fe.__k.forEach(function(zt){zt&&(zt.__=fe)}),Qe.__h.length&&q.push(Qe);break e}Qe.componentWillUpdate!=null&&Qe.componentWillUpdate(be,Qe.__s,Ee),Qe.componentDidUpdate!=null&&Qe.__h.push(function(){Qe.componentDidUpdate(He,Re,Ve)})}Qe.context=Ee,Qe.props=be,Qe.state=Qe.__s,(tt=l.__r)&&tt(fe),Qe.__d=!1,Qe.__v=fe,Qe.__P=le,tt=Qe.render(Qe.props,Qe.state,Qe.context),Qe.state=Qe.__s,Qe.getChildContext!=null&&(Be=k(k({},Be),Qe.getChildContext())),it||Qe.getSnapshotBeforeUpdate==null||(Ve=Qe.getSnapshotBeforeUpdate(He,Re)),ot=tt!=null&&tt.type===D&&tt.key==null?tt.props.children:tt,j(le,Array.isArray(ot)?ot:[ot],fe,ue,Be,Ce,me,q,Ze,We),Qe.base=fe.__e,fe.__h=null,Qe.__h.length&&q.push(Qe),Oe&&(Qe.__E=Qe.__=null),Qe.__e=!1}else me==null&&fe.__v===ue.__v?(fe.__k=ue.__k,fe.__e=ue.__e):fe.__e=U(ue.__e,fe,ue,Be,Ce,me,q,We);(tt=l.diffed)&&tt(fe)}catch(zt){fe.__v=null,(We||me!=null)&&(fe.__e=Ze,fe.__h=!!We,me[me.indexOf(Ze)]=null),l.__e(zt,fe,ue)}}function qe(le,fe){l.__c&&l.__c(fe,le),le.some(function(ue){try{le=ue.__h,ue.__h=[],le.some(function(Be){Be.call(ue)})}catch(Be){l.__e(Be,ue.__v)}})}function U(le,fe,ue,Be,Ce,me,q,Ze){var We,tt,Qe,it=ue.props,He=fe.props,Re=fe.type,Ve=0;if(Re==="svg"&&(Ce=!0),me!=null){for(;Ve<me.length;Ve++)if((We=me[Ve])&&"setAttribute"in We==!!Re&&(Re?We.localName===Re:We.nodeType===3)){le=We,me[Ve]=null;break}}if(le==null){if(Re===null)return document.createTextNode(He);le=Ce?document.createElementNS("http://www.w3.org/2000/svg",Re):document.createElement(Re,He.is&&He),me=null,Ze=!1}if(Re===null)it===He||Ze&&le.data===He||(le.data=He);else{if(me=me&&s.call(le.childNodes),tt=(it=ue.props||x).dangerouslySetInnerHTML,Qe=He.dangerouslySetInnerHTML,!Ze){if(me!=null)for(it={},Ve=0;Ve<le.attributes.length;Ve++)it[le.attributes[Ve].name]=le.attributes[Ve].value;(Qe||tt)&&(Qe&&(tt&&Qe.__html==tt.__html||Qe.__html===le.innerHTML)||(le.innerHTML=Qe&&Qe.__html||""))}if(se(le,He,it,Ce,Ze),Qe)fe.__k=[];else if(Ve=fe.props.children,j(le,Array.isArray(Ve)?Ve:[Ve],fe,ue,Be,Ce&&Re!=="foreignObject",me,q,me?me[0]:ue.__k&&P(ue,0),Ze),me!=null)for(Ve=me.length;Ve--;)me[Ve]!=null&&F(me[Ve]);Ze||("value"in He&&(Ve=He.value)!==void 0&&(Ve!==it.value||Ve!==le.value||Re==="progress"&&!Ve)&&G(le,"value",Ve,it.value,!1),"checked"in He&&(Ve=He.checked)!==void 0&&Ve!==le.checked&&G(le,"checked",Ve,it.checked,!1))}return le}function Fe(le,fe,ue){try{typeof le=="function"?le(fe):le.current=fe}catch(Be){l.__e(Be,ue)}}function De(le,fe,ue){var Be,Ce;if(l.unmount&&l.unmount(le),(Be=le.ref)&&(Be.current&&Be.current!==le.__e||Fe(Be,null,fe)),(Be=le.__c)!=null){if(Be.componentWillUnmount)try{Be.componentWillUnmount()}catch(me){l.__e(me,fe)}Be.base=Be.__P=null}if(Be=le.__k)for(Ce=0;Ce<Be.length;Ce++)Be[Ce]&&De(Be[Ce],fe,typeof le.type!="function");ue||le.__e==null||F(le.__e),le.__e=le.__d=void 0}function Se(le,fe,ue){return this.constructor(le,ue)}function re(le,fe,ue){var Be,Ce,me;l.__&&l.__(le,fe),Ce=(Be=typeof ue=="function")?null:ue&&ue.__k||fe.__k,me=[],ve(fe,le=(!Be&&ue||fe).__k=N(D,null,[le]),Ce||x,x,fe.ownerSVGElement!==void 0,!Be&&ue?[ue]:Ce?null:fe.firstChild?s.call(fe.childNodes):null,me,!Be&&ue?ue:Ce?Ce.__e:fe.firstChild,Be),qe(me,le)}s=T.slice,l={__e:function(le,fe){for(var ue,Be,Ce;fe=fe.__;)if((ue=fe.__c)&&!ue.__)try{if((Be=ue.constructor)&&Be.getDerivedStateFromError!=null&&(ue.setState(Be.getDerivedStateFromError(le)),Ce=ue.__d),ue.componentDidCatch!=null&&(ue.componentDidCatch(le),Ce=ue.__d),Ce)return ue.__E=ue}catch(me){le=me}throw le}},c=0,d=function(le){return le!=null&&le.constructor===void 0},O.prototype.setState=function(le,fe){var ue;ue=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof le=="function"&&(le=le(k({},ue),this.props)),le&&k(ue,le),le!=null&&this.__v&&(fe&&this.__h.push(fe),z(this))},O.prototype.forceUpdate=function(le){this.__v&&(this.__e=!0,le&&this.__h.push(le),z(this))},O.prototype.render=D,p=[],v=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,K.__r=0,S=0,o.Component=O,o.Fragment=D,o.cloneElement=function(le,fe,ue){var Be,Ce,me,q=k({},le.props);for(me in fe)me=="key"?Be=fe[me]:me=="ref"?Ce=fe[me]:q[me]=fe[me];return arguments.length>2&&(q.children=arguments.length>3?s.call(arguments,2):ue),$(le.type,q,Be||le.key,Ce||le.ref,null)},o.createContext=function(le,fe){var ue={__c:fe="__cC"+S++,__:le,Consumer:function(Be,Ce){return Be.children(Ce)},Provider:function(Be){var Ce,me;return this.getChildContext||(Ce=[],(me={})[fe]=this,this.getChildContext=function(){return me},this.shouldComponentUpdate=function(q){this.props.value!==q.value&&Ce.some(z)},this.sub=function(q){Ce.push(q);var Ze=q.componentWillUnmount;q.componentWillUnmount=function(){Ce.splice(Ce.indexOf(q),1),Ze&&Ze.call(q)}}),Be.children}};return ue.Provider.__=ue.Consumer.contextType=ue},o.createElement=N,o.createRef=function(){return{current:null}},o.h=N,o.hydrate=function le(fe,ue){re(fe,ue,le)},o.isValidElement=d,o.options=l,o.render=re,o.toChildArray=function le(fe,ue){return ue=ue||[],fe==null||typeof fe=="boolean"||(Array.isArray(fe)?fe.some(function(Be){le(Be,ue)}):ue.push(fe)),ue}}),G6e=function(o){return(o==null?void 0:o.nodeType)===Node.ELEMENT_NODE},K6e=function(o,s){return s===void 0&&(s=document),typeof o=="string"?s.querySelector(o):G6e(o)?o:null},pue=class{constructor(o,s){s===void 0&&(s={}),this.uppy=o,this.opts=s}getPluginState(){const{plugins:o}=this.uppy.getState();return o[this.id]||{}}setPluginState(o){const{plugins:s}=this.uppy.getState();this.uppy.setState({plugins:{...s,[this.id]:{...s[this.id],...o}}})}setOptions(o){this.opts={...this.opts,...o},this.setPluginState(),this.i18nInit()}i18nInit(){const o=new $Se([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=o.translate.bind(o),this.i18nArray=o.translateArray.bind(o),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};function Eme(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var Y6e=0;function X6e(e){return"__private_"+Y6e+++"_"+e}const{render:kme}=Z6e;function J6e(e){let o=null,s=null;return function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return s=c,o||(o=Promise.resolve().then(()=>(o=null,e(...s)))),o}}var wB=X6e("updateUI");class gue extends pue{constructor(){super(...arguments),Object.defineProperty(this,wB,{writable:!0,value:void 0})}mount(o,s){const l=s.id,c=K6e(o);if(c){this.isTargetDOMEl=!0;const v=document.createDocumentFragment();return Eme(this,wB)[wB]=J6e(b=>{!this.uppy.getPlugin(this.id)||(kme(this.render(b),v),this.afterUpdate())}),this.uppy.log(`Installing ${l} to a DOM element '${o}'`),this.opts.replaceTargetContent&&(c.innerHTML=""),kme(this.render(this.uppy.getState()),v),this.el=v.firstElementChild,c.appendChild(v),this.onMount(),this.el}let d;if(typeof o=="object"&&o instanceof gue)d=o;else if(typeof o=="function"){const v=o;this.uppy.iteratePlugins(b=>{if(b instanceof v)return d=b,!1})}if(d)return this.uppy.log(`Installing ${l} to ${d.id}`),this.parent=d,this.el=d.addTarget(s),this.onMount(),this.el;this.uppy.log(`Not installing ${l}`);let p=`Invalid target option given to ${l}.`;throw typeof o=="function"?p+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":p+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}update(o){if(this.el!=null){var s,l;(s=(l=Eme(this,wB))[wB])==null||s.call(l,o)}}unmount(){if(this.isTargetDOMEl){var o;(o=this.el)==null||o.remove()}this.onUnmount()}onMount(){}onUnmount(){}}var Q6e=gue;const{debugLogger:e8e}=MSe;var tF=zSe,t8e=zSe,n8e=Q6e,o8e=pue,r8e=e8e;tF.Uppy=t8e;tF.UIPlugin=n8e;tF.BasePlugin=o8e;tF.debugLogger=r8e;class s8e extends Error{constructor(o,s){s===void 0&&(s=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=o,this.isNetworkError=!0,this.request=s}}var mue=s8e,hoe=function(){return fetch(...arguments).catch(o=>{throw o.name==="AbortError"?o:new mue(o)})};class i8e extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}var a8e=i8e,Vz,Tw,_v,Ow,Ame;function Ov(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var l8e=0;function poe(e){return"__private_"+l8e+++"_"+e}function c8e(e){return e.replace(/\/$/,"")}async function goe(e){if(e.status===401)throw new a8e;const o=e.json();if(e.status<200||e.status>300){let s=`Failed request with status: ${e.status}. ${e.statusText}`;try{const l=await o;s=l.message?`${s} message: ${l.message}`:s,s=l.requestId?`${s} request-Id: ${l.requestId}`:s}finally{throw new Error(s)}}return o}var vue=(Ame=(Tw=poe("getPostResponseFunc"),_v=poe("getUrl"),Ow=poe("errorHandler"),Vz=class VSe{constructor(o,s){Object.defineProperty(this,Ow,{value:f8e}),Object.defineProperty(this,_v,{value:u8e}),Object.defineProperty(this,Tw,{writable:!0,value:l=>c=>l?c:this.onReceiveResponse(c)}),this.uppy=o,this.opts=s,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}get hostname(){const{companion:o}=this.uppy.getState(),s=this.opts.companionUrl;return c8e(o&&o[s]?o[s]:s)}headers(){const o=this.opts.companionHeaders||{};return Promise.resolve({...VSe.defaultHeaders,...o})}onReceiveResponse(o){const l=this.uppy.getState().companion||{},c=this.opts.companionUrl,{headers:d}=o;return d.has("i-am")&&d.get("i-am")!==l[c]&&this.uppy.setState({companion:{...l,[c]:d.get("i-am")}}),o}preflight(o){return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Ov(this,_v)[_v](o),{method:"OPTIONS"}).then(s=>(s.headers.has("access-control-allow-headers")&&(this.allowedHeaders=s.headers.get("access-control-allow-headers").split(",").map(l=>l.trim().toLowerCase())),this.preflightDone=!0,this.allowedHeaders.slice())).catch(s=>(this.uppy.log(`[CompanionClient] unable to make preflight request ${s}`,"warning"),this.preflightDone=!0,this.allowedHeaders.slice()))}preflightAndHeaders(o){return Promise.all([this.preflight(o),this.headers()]).then(s=>{let[l,c]=s;return Object.keys(c).forEach(d=>{l.includes(d.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${d}`),delete c[d])}),c})}get(o,s){const l="get";return this.preflightAndHeaders(o).then(c=>hoe(Ov(this,_v)[_v](o),{method:l,headers:c,credentials:this.opts.companionCookiesRule||"same-origin"})).then(Ov(this,Tw)[Tw](s)).then(goe).catch(Ov(this,Ow)[Ow](l,o))}post(o,s,l){const c="post";return this.preflightAndHeaders(o).then(d=>hoe(Ov(this,_v)[_v](o),{method:c,headers:d,credentials:this.opts.companionCookiesRule||"same-origin",body:JSON.stringify(s)})).then(Ov(this,Tw)[Tw](l)).then(goe).catch(Ov(this,Ow)[Ow](c,o))}delete(o,s,l){const c="delete";return this.preflightAndHeaders(o).then(d=>hoe(`${this.hostname}/${o}`,{method:c,headers:d,credentials:this.opts.companionCookiesRule||"same-origin",body:s?JSON.stringify(s):null})).then(Ov(this,Tw)[Tw](l)).then(goe).catch(Ov(this,Ow)[Ow](c,o))}}),Vz.VERSION="2.0.4",Vz.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${Vz.VERSION}`},Ame);function u8e(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`}function f8e(e,o){return s=>{var l;if(!((l=s)!=null&&l.isAuthError)){const c=new Error(`Could not ${e} ${Ov(this,_v)[_v](o)}`);c.cause=s,s=c}return Promise.reject(s)}}var d8e=(e,o)=>new Promise(s=>{localStorage.setItem(e,o),s()}),h8e=e=>Promise.resolve(localStorage.getItem(e)),p8e=e=>new Promise(o=>{localStorage.removeItem(e),o()}),g8e={setItem:d8e,getItem:h8e,removeItem:p8e};const m8e=e=>e.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");var v8e=class extends vue{constructor(o,s){super(o,s),this.provider=s.provider,this.id=this.provider,this.name=this.opts.name||m8e(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}headers(){return Promise.all([super.headers(),this.getAuthToken()]).then(o=>{let[s,l]=o;const c={};return l&&(c["uppy-auth-token"]=l),this.companionKeysParams&&(c["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...s,...c}})}onReceiveResponse(o){o=super.onReceiveResponse(o);const s=this.uppy.getPlugin(this.pluginId),c=s.getPluginState().authenticated?o.status!==401:o.status<400;return s.setPluginState({authenticated:c}),o}setAuthToken(o){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,o)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}authUrl(o){return o===void 0&&(o={}),this.preAuthToken&&(o.uppyPreAuthToken=this.preAuthToken),`${this.hostname}/${this.id}/connect?${new URLSearchParams(o)}`}fileUrl(o){return`${this.hostname}/${this.id}/get/${o}`}fetchPreAuthToken(){return this.companionKeysParams?this.post(`${this.id}/preauth/`,{params:this.companionKeysParams}).then(o=>{this.preAuthToken=o.token}).catch(o=>{this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${o}`,"warning")}):Promise.resolve()}list(o){return this.get(`${this.id}/list/${o||""}`)}logout(){return this.get(`${this.id}/logout`).then(o=>Promise.all([o,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(o=>{let[s]=o;return s})}static initPlugin(o,s,l){if(o.type="acquirer",o.files=[],l&&(o.opts={...l,...s}),s.serverUrl||s.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(s.companionAllowedHosts){const c=s.companionAllowedHosts;if(typeof c!="string"&&!Array.isArray(c)&&!(c instanceof RegExp))throw new TypeError(`${o.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);o.opts.companionAllowedHosts=c}else/^(?!https?:\/\/).*$/i.test(s.companionUrl)?o.opts.companionAllowedHosts=`https://${s.companionUrl.replace(/^\/\//,"")}`:o.opts.companionAllowedHosts=new URL(s.companionUrl).origin;o.storage=o.opts.storage||g8e}};const b8e=e=>e.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");var y8e=class extends vue{constructor(o,s){super(o,s),this.provider=s.provider,this.id=this.provider,this.name=this.opts.name||b8e(this.id),this.pluginId=this.opts.pluginId}fileUrl(o){return`${this.hostname}/search/${this.id}/get/${o}`}search(o,s){return s=s?`&${s}`:"",this.get(`search/${this.id}/list?q=${encodeURIComponent(o)}${s}`)}},Tv,_w,og,Ff,Uz;let Tme,Ome;function Fc(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var w8e=0;function CB(e){return"__private_"+w8e+++"_"+e}var C8e=(Tv=CB("queued"),_w=CB("emitter"),og=CB("isOpen"),Ff=CB("socket"),Uz=CB("handleMessage"),Tme=Symbol.for("uppy test: getSocket"),Ome=Symbol.for("uppy test: getQueued"),class{constructor(o){Object.defineProperty(this,Tv,{writable:!0,value:[]}),Object.defineProperty(this,_w,{writable:!0,value:DSe()}),Object.defineProperty(this,og,{writable:!0,value:!1}),Object.defineProperty(this,Ff,{writable:!0,value:void 0}),Object.defineProperty(this,Uz,{writable:!0,value:s=>{try{const l=JSON.parse(s.data);this.emit(l.action,l.payload)}catch(l){console.log(l)}}}),this.opts=o,(!o||o.autoOpen!==!1)&&this.open()}get isOpen(){return Fc(this,og)[og]}[Tme](){return Fc(this,Ff)[Ff]}[Ome](){return Fc(this,Tv)[Tv]}open(){Fc(this,Ff)[Ff]=new WebSocket(this.opts.target),Fc(this,Ff)[Ff].onopen=()=>{for(Fc(this,og)[og]=!0;Fc(this,Tv)[Tv].length>0&&Fc(this,og)[og];){const o=Fc(this,Tv)[Tv].shift();this.send(o.action,o.payload)}},Fc(this,Ff)[Ff].onclose=()=>{Fc(this,og)[og]=!1},Fc(this,Ff)[Ff].onmessage=Fc(this,Uz)[Uz]}close(){var o;(o=Fc(this,Ff)[Ff])==null||o.close()}send(o,s){if(!Fc(this,og)[og]){Fc(this,Tv)[Tv].push({action:o,payload:s});return}Fc(this,Ff)[Ff].send(JSON.stringify({action:o,payload:s}))}on(o,s){Fc(this,_w)[_w].on(o,s)}emit(o,s){Fc(this,_w)[_w].emit(o,s)}once(o,s){Fc(this,_w)[_w].once(o,s)}}),S8e={RequestClient:vue,Provider:v8e,SearchProvider:y8e,Socket:C8e};function x8e(e,o,s){const{progress:l,bytesUploaded:c,bytesTotal:d}=o;l&&(e.uppy.log(`Upload progress: ${l}`),e.uppy.emit("upload-progress",s,{uploader:e,bytesUploaded:c,bytesTotal:d}))}var E8e=$4(x8e,300,{leading:!0,trailing:!0}),k8e=function(o){const l=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(o)[1];return`${/^http:\/\//i.test(o)?"ws":"wss"}://${l}`},A8e=function(o){const s=[],l=[];function c(v){s.push(v)}function d(v){l.push(v)}return Promise.all(o.map(v=>v.then(c,d))).then(()=>({successful:s,failed:l}))},$w,TO;function SB(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var T8e=0;function _me(e){return"__private_"+T8e+++"_"+e}var $me=($w=_me("emitter"),TO=_me("events"),class{constructor(o){Object.defineProperty(this,$w,{writable:!0,value:void 0}),Object.defineProperty(this,TO,{writable:!0,value:[]}),SB(this,$w)[$w]=o}on(o,s){return SB(this,TO)[TO].push([o,s]),SB(this,$w)[$w].on(o,s)}remove(){for(const[o,s]of SB(this,TO)[TO].splice(0))SB(this,$w)[$w].off(o,s)}});function rg(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var O8e=0;function gq(e){return"__private_"+O8e+++"_"+e}var ny=gq("aliveTimer"),FE=gq("isDone"),xB=gq("onTimedOut"),RE=gq("timeout");class _8e{constructor(o,s){Object.defineProperty(this,ny,{writable:!0,value:void 0}),Object.defineProperty(this,FE,{writable:!0,value:!1}),Object.defineProperty(this,xB,{writable:!0,value:void 0}),Object.defineProperty(this,RE,{writable:!0,value:void 0}),rg(this,RE)[RE]=o,rg(this,xB)[xB]=s}progress(){rg(this,FE)[FE]||rg(this,RE)[RE]>0&&(clearTimeout(rg(this,ny)[ny]),rg(this,ny)[ny]=setTimeout(rg(this,xB)[xB],rg(this,RE)[RE]))}done(){rg(this,FE)[FE]||(clearTimeout(rg(this,ny)[ny]),rg(this,ny)[ny]=null,rg(this,FE)[FE]=!0)}}var Dme=_8e;function Ic(e,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw new TypeError("attempted to use private field on non-instance");return e}var $8e=0;function q4(e){return"__private_"+$8e+++"_"+e}function D8e(){return new Error("Cancelled")}var ep=q4("activeRequests"),bd=q4("queuedHandlers"),MN=q4("call"),TN=q4("queueNext"),eae=q4("next"),moe=q4("queue"),tae=q4("dequeue");class B8e{constructor(o){Object.defineProperty(this,tae,{value:M8e}),Object.defineProperty(this,moe,{value:R8e}),Object.defineProperty(this,eae,{value:F8e}),Object.defineProperty(this,TN,{value:P8e}),Object.defineProperty(this,MN,{value:N8e}),Object.defineProperty(this,ep,{writable:!0,value:0}),Object.defineProperty(this,bd,{writable:!0,value:[]}),typeof o!="number"||o===0?this.limit=1/0:this.limit=o}run(o,s){return Ic(this,ep)[ep]<this.limit?Ic(this,MN)[MN](o):Ic(this,moe)[moe](o,s)}wrapPromiseFunction(o,s){var l=this;return function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];let v;const b=new Promise((S,x)=>{v=l.run(()=>{let T,E;try{E=Promise.resolve(o(...d))}catch(k){E=Promise.reject(k)}return E.then(k=>{T?x(T):(v.done(),S(k))},k=>{T?x(T):(v.done(),x(k))}),()=>{T=D8e()}},s)});return b.abort=()=>{v.abort()},b}}}function N8e(e){Ic(this,ep)[ep]+=1;let o=!1,s;try{s=e()}catch(l){throw Ic(this,ep)[ep]-=1,l}return{abort:()=>{o||(o=!0,Ic(this,ep)[ep]-=1,s(),Ic(this,TN)[TN]())},done:()=>{o||(o=!0,Ic(this,ep)[ep]-=1,Ic(this,TN)[TN]())}}}function P8e(){queueMicrotask(()=>Ic(this,eae)[eae]())}function F8e(){if(Ic(this,ep)[ep]>=this.limit||Ic(this,bd)[bd].length===0)return;const e=Ic(this,bd)[bd].shift(),o=Ic(this,MN)[MN](e.fn);e.abort=o.abort,e.done=o.done}function R8e(e,o){o===void 0&&(o={});const s={fn:e,priority:o.priority||0,abort:()=>{Ic(this,tae)[tae](s)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},l=Ic(this,bd)[bd].findIndex(c=>s.priority>c.priority);return l===-1?Ic(this,bd)[bd].push(s):Ic(this,bd)[bd].splice(l,0,s),s}function M8e(e){const o=Ic(this,bd)[bd].indexOf(e);o!==-1&&Ic(this,bd)[bd].splice(o,1)}var I8e={RateLimitedQueue:B8e,internalRateLimitedQueue:Symbol("__queue")};function L8e(e){return e?e.readyState!==0&&e.readyState!==4||e.status===0:!1}var USe=L8e,H8e={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},Bme,Nme;const{nanoid:j8e}=ISe,{Provider:z8e,RequestClient:V8e,Socket:U8e}=S8e,{RateLimitedQueue:W8e,internalRateLimitedQueue:voe}=I8e;function Pme(e,o){let s=o;return s||(s=new Error("Upload error")),typeof s=="string"&&(s=new Error(s)),s instanceof Error||(s=Object.assign(new Error("Upload error"),{data:s})),USe(e)?(s=new mue(s,e),s):(s.request=e,s)}function Fme(e){return e.data.slice(0,e.data.size,e.meta.type)}var q8e=(Nme=Bme=class extends pue{constructor(o,s){super(o,s),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=H8e;const l={formData:!0,fieldName:s.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(c){let d={};try{d=JSON.parse(c)}catch(p){o.log(p)}return d},getResponseError(c,d){let p=new Error("Upload error");return USe(d)&&(p=new mue(p,d)),p},validateStatus(c){return c>=200&&c<300}};if(this.opts={...l,...s},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),voe in this.opts?this.requests=this.opts[voe]:this.requests=new W8e(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");this.uploaderEvents=Object.create(null)}getOptions(o){const s=this.uppy.getState().xhrUpload,{headers:l}=this.opts,c={...this.opts,...s||{},...o.xhrUpload||{},headers:{}};return typeof l=="function"?c.headers=l(o):Object.assign(c.headers,this.opts.headers),s&&Object.assign(c.headers,s.headers),o.xhrUpload&&Object.assign(c.headers,o.xhrUpload.headers),c}addMetadata(o,s,l){(Array.isArray(l.metaFields)?l.metaFields:Object.keys(s)).forEach(d=>{o.append(d,s[d])})}createFormDataUpload(o,s){const l=new FormData;this.addMetadata(l,o.meta,s);const c=Fme(o);return o.name?l.append(s.fieldName,c,o.meta.name):l.append(s.fieldName,c),l}createBundledUpload(o,s){const l=new FormData,{meta:c}=this.uppy.getState();return this.addMetadata(l,c,s),o.forEach(d=>{const p=this.getOptions(d),v=Fme(d);d.name?l.append(p.fieldName,v,d.name):l.append(p.fieldName,v)}),l}upload(o,s,l){const c=this.getOptions(o);return this.uppy.log(`uploading ${s} of ${l}`),new Promise((d,p)=>{this.uppy.emit("upload-started",o);const v=c.formData?this.createFormDataUpload(o,c):o.data,b=new XMLHttpRequest;this.uploaderEvents[o.id]=new $me(this.uppy);const S=new Dme(c.timeout,()=>{b.abort(),T.done();const E=new Error(this.i18n("timedOut",{seconds:Math.ceil(c.timeout/1e3)}));this.uppy.emit("upload-error",o,E),p(E)}),x=j8e();b.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${x} started`)}),b.upload.addEventListener("progress",E=>{this.uppy.log(`[XHRUpload] ${x} progress: ${E.loaded} / ${E.total}`),S.progress(),E.lengthComputable&&this.uppy.emit("upload-progress",o,{uploader:this,bytesUploaded:E.loaded,bytesTotal:E.total})}),b.addEventListener("load",E=>{if(this.uppy.log(`[XHRUpload] ${x} finished`),S.done(),T.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null),c.validateStatus(E.target.status,b.responseText,b)){const $=c.getResponseData(b.responseText,b),D=$[c.responseUrlFieldName],O={status:E.target.status,body:$,uploadURL:D};return this.uppy.emit("upload-success",o,O),D&&this.uppy.log(`Download ${o.name} from ${D}`),d(o)}const k=c.getResponseData(b.responseText,b),F=Pme(b,c.getResponseError(b.responseText,b)),N={status:E.target.status,body:k};return this.uppy.emit("upload-error",o,F,N),p(F)}),b.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${x} errored`),S.done(),T.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null);const E=Pme(b,c.getResponseError(b.responseText,b));return this.uppy.emit("upload-error",o,E),p(E)}),b.open(c.method.toUpperCase(),c.endpoint,!0),b.withCredentials=c.withCredentials,c.responseType!==""&&(b.responseType=c.responseType);const T=this.requests.run(()=>{this.uppy.emit("upload-started",o);const E=this.getOptions(o);return Object.keys(E.headers).forEach(k=>{b.setRequestHeader(k,E.headers[k])}),b.send(v),()=>{S.done(),b.abort()}});this.onFileRemove(o.id,()=>{T.abort(),p(new Error("File removed"))}),this.onCancelAll(o.id,()=>{T.abort(),p(new Error("Upload cancelled"))})})}uploadRemote(o){const s=this.getOptions(o);return new Promise((l,c)=>{this.uppy.emit("upload-started",o);const d={};(Array.isArray(s.metaFields)?s.metaFields:Object.keys(o.meta)).forEach(S=>{d[S]=o.meta[S]});const v=o.remote.providerOptions.provider?z8e:V8e;new v(this.uppy,o.remote.providerOptions).post(o.remote.url,{...o.remote.body,endpoint:s.endpoint,size:o.data.size,fieldname:s.fieldName,metadata:d,httpMethod:s.method,useFormData:s.formData,headers:s.headers}).then(S=>{const{token:x}=S,T=k8e(o.remote.companionUrl),E=new U8e({target:`${T}/api/${x}`,autoOpen:!1});this.uploaderEvents[o.id]=new $me(this.uppy),this.onFileRemove(o.id,()=>{E.send("cancel",{}),k.abort(),l(`upload ${o.id} was removed`)}),this.onCancelAll(o.id,()=>{E.send("cancel",{}),k.abort(),l(`upload ${o.id} was canceled`)}),this.onRetry(o.id,()=>{E.send("pause",{}),E.send("resume",{})}),this.onRetryAll(o.id,()=>{E.send("pause",{}),E.send("resume",{})}),E.on("progress",F=>E8e(this,F,o)),E.on("success",F=>{const N=s.getResponseData(F.response.responseText,F.response),$=N[s.responseUrlFieldName],D={status:F.response.status,body:N,uploadURL:$};return this.uppy.emit("upload-success",o,D),k.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null),l()}),E.on("error",F=>{const N=F.response,$=N?s.getResponseError(N.responseText,N):Object.assign(new Error(F.error.message),{cause:F.error});this.uppy.emit("upload-error",o,$),k.done(),this.uploaderEvents[o.id]&&(this.uploaderEvents[o.id].remove(),this.uploaderEvents[o.id]=null),c($)});const k=this.requests.run(()=>(E.open(),o.isPaused&&E.send("pause",{}),()=>E.close()))}).catch(S=>{this.uppy.emit("upload-error",o,S),c(S)})})}uploadBundle(o){return new Promise((s,l)=>{const{endpoint:c}=this.opts,{method:d}=this.opts,p=this.uppy.getState().xhrUpload,v=this.createBundledUpload(o,{...this.opts,...p||{}}),b=new XMLHttpRequest,S=new Dme(this.opts.timeout,()=>{b.abort();const T=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));x(T),l(T)}),x=T=>{o.forEach(E=>{this.uppy.emit("upload-error",E,T)})};b.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),S.progress()}),b.upload.addEventListener("progress",T=>{S.progress(),T.lengthComputable&&o.forEach(E=>{this.uppy.emit("upload-progress",E,{uploader:this,bytesUploaded:T.loaded/T.total*E.size,bytesTotal:E.size})})}),b.addEventListener("load",T=>{if(S.done(),this.opts.validateStatus(T.target.status,b.responseText,b)){const k=this.opts.getResponseData(b.responseText,b),F={status:T.target.status,body:k};return o.forEach(N=>{this.uppy.emit("upload-success",N,F)}),s()}const E=this.opts.getResponseError(b.responseText,b)||new Error("Upload error");return E.request=b,x(E),l(E)}),b.addEventListener("error",()=>{S.done();const T=this.opts.getResponseError(b.responseText,b)||new Error("Upload error");return x(T),l(T)}),this.uppy.on("cancel-all",()=>{S.done(),b.abort()}),b.open(d.toUpperCase(),c,!0),b.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(b.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(T=>{b.setRequestHeader(T,this.opts.headers[T])}),b.send(v),o.forEach(T=>{this.uppy.emit("upload-started",T)})})}uploadFiles(o){const s=o.map((l,c)=>{const d=parseInt(c,10)+1,p=o.length;return l.error?Promise.reject(new Error(l.error)):l.isRemote?this.uploadRemote(l,d,p):this.upload(l,d,p)});return A8e(s)}onFileRemove(o,s){this.uploaderEvents[o].on("file-removed",l=>{o===l.id&&s(l.id)})}onRetry(o,s){this.uploaderEvents[o].on("upload-retry",l=>{o===l&&s()})}onRetryAll(o,s){this.uploaderEvents[o].on("retry-all",()=>{!this.uppy.getFile(o)||s()})}onCancelAll(o,s){this.uploaderEvents[o].on("cancel-all",()=>{!this.uppy.getFile(o)||s()})}handleUpload(o){if(o.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[voe]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const s=o.map(l=>this.uppy.getFile(l));if(this.opts.bundle){if(s.some(c=>c.isRemote))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(s)}return this.uploadFiles(s).then(()=>null)}install(){if(this.opts.bundle){const{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){const{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}},Bme.VERSION="2.0.6",Nme),Rme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nF(e){var o={exports:{}};return e(o,o.exports),o.exports}var Dw,GV,Wz=function(e){return e&&e.Math==Math&&e},po=Wz(typeof globalThis=="object"&&globalThis)||Wz(typeof window=="object"&&window)||Wz(typeof self=="object"&&self)||Wz(typeof Rme=="object"&&Rme)||function(){return this}()||Function("return this")(),Z8e=Object.defineProperty,bue=function(e,o){try{Z8e(po,e,{value:o,configurable:!0,writable:!0})}catch{po[e]=o}return o},nC=po["__core-js_shared__"]||bue("__core-js_shared__",{}),yue=nF(function(e){(e.exports=function(o,s){return nC[o]||(nC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),WSe=Function.prototype,nae=WSe.bind,oae=WSe.call,G8e=nae&&nae.bind(oae),hr=nae?function(e){return e&&G8e(oae,e)}:function(e){return e&&function(){return oae.apply(e,arguments)}},K8e=po.TypeError,bg=function(e){if(e==null)throw K8e("Can't call method on "+e);return e},Y8e=po.Object,DC=function(e){return Y8e(bg(e))},X8e=hr({}.hasOwnProperty),wc=Object.hasOwn||function(e,o){return X8e(DC(e),o)},J8e=0,Q8e=Math.random(),e7e=hr(1 .toString),wue=function(e){return"Symbol("+(e===void 0?"":e)+")_"+e7e(++J8e+Q8e,36)},na=function(e){return typeof e=="function"},t7e=function(e){return na(e)?e:void 0},Z4=function(e,o){return arguments.length<2?t7e(po[e]):po[e]&&po[e][o]},d5=Z4("navigator","userAgent")||"",Mme=po.process,Ime=po.Deno,Lme=Mme&&Mme.versions||Ime&&Ime.version,Hme=Lme&&Lme.v8;Hme&&(GV=(Dw=Hme.split("."))[0]>0&&Dw[0]<4?1:+(Dw[0]+Dw[1])),!GV&&d5&&(!(Dw=d5.match(/Edge\/(\d+)/))||Dw[1]>=74)&&(Dw=d5.match(/Chrome\/(\d+)/))&&(GV=+Dw[1]);var uP=GV,Pi=function(e){try{return!!e()}catch{return!0}},rae=!!Object.getOwnPropertySymbols&&!Pi(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&uP&&uP<41}),Cue=rae&&!Symbol.sham&&typeof Symbol.iterator=="symbol",EB=yue("wks"),u4=po.Symbol,jme=u4&&u4.for,n7e=Cue?u4:u4&&u4.withoutSetter||wue,$l=function(e){if(!wc(EB,e)||!rae&&typeof EB[e]!="string"){var o="Symbol."+e;rae&&wc(u4,e)?EB[e]=u4[e]:EB[e]=Cue&&jme?jme(o):n7e(o)}return EB[e]},qSe={};qSe[$l("toStringTag")]="z";var Sue=String(qSe)==="[object z]",Du=!Pi(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Pa=function(e){return typeof e=="object"?e!==null:na(e)},sae=po.document,o7e=Pa(sae)&&Pa(sae.createElement),fP=function(e){return o7e?sae.createElement(e):{}},ZSe=!Du&&!Pi(function(){return Object.defineProperty(fP("div"),"a",{get:function(){return 7}}).a!=7}),r7e=po.String,s7e=po.TypeError,Cc=function(e){if(Pa(e))return e;throw s7e(r7e(e)+" is not an object")},kB=Function.prototype.call,li=kB.bind?kB.bind(kB):function(){return kB.apply(kB,arguments)},D4=hr({}.isPrototypeOf),i7e=po.Object,iae=Cue?function(e){return typeof e=="symbol"}:function(e){var o=Z4("Symbol");return na(o)&&D4(o.prototype,i7e(e))},a7e=po.String,mq=function(e){try{return a7e(e)}catch{return"Object"}},l7e=po.TypeError,CC=function(e){if(na(e))return e;throw l7e(mq(e)+" is not a function")},B4=function(e,o){var s=e[o];return s==null?void 0:CC(s)},c7e=po.TypeError,u7e=po.TypeError,f7e=$l("toPrimitive"),d7e=function(e,o){if(!Pa(e)||iae(e))return e;var s,l=B4(e,f7e);if(l){if(o===void 0&&(o="default"),s=li(l,e,o),!Pa(s)||iae(s))return s;throw u7e("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&na(p=c.toString)&&!Pa(v=li(p,c))||na(p=c.valueOf)&&!Pa(v=li(p,c))||d!=="string"&&na(p=c.toString)&&!Pa(v=li(p,c)))return v;throw c7e("Can't convert object to primitive value")}(e,o)},xue=function(e){var o=d7e(e,"string");return iae(o)?o:o+""},h7e=po.TypeError,zme=Object.defineProperty,Km={f:Du?zme:function(e,o,s){if(Cc(e),o=xue(o),Cc(s),ZSe)try{return zme(e,o,s)}catch{}if("get"in s||"set"in s)throw h7e("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},vq=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},zm=Du?function(e,o,s){return Km.f(e,o,vq(1,s))}:function(e,o,s){return e[o]=s,e},p7e=hr(Function.toString);na(nC.inspectSource)||(nC.inspectSource=function(e){return p7e(e)});var PU,IN,FU,bq=nC.inspectSource,Vme=po.WeakMap,GSe=na(Vme)&&/native code/.test(bq(Vme)),Ume=yue("keys"),Eue=function(e){return Ume[e]||(Ume[e]=wue(e))},yq={},aae=po.TypeError,g7e=po.WeakMap;if(GSe||nC.state){var ME=nC.state||(nC.state=new g7e),m7e=hr(ME.get),Wme=hr(ME.has),v7e=hr(ME.set);PU=function(e,o){if(Wme(ME,e))throw new aae("Object already initialized");return o.facade=e,v7e(ME,e,o),o},IN=function(e){return m7e(ME,e)||{}},FU=function(e){return Wme(ME,e)}}else{var OO=Eue("state");yq[OO]=!0,PU=function(e,o){if(wc(e,OO))throw new aae("Object already initialized");return o.facade=e,zm(e,OO,o),o},IN=function(e){return wc(e,OO)?e[OO]:{}},FU=function(e){return wc(e,OO)}}var Lf={set:PU,get:IN,has:FU,enforce:function(e){return FU(e)?IN(e):PU(e,{})},getterFor:function(e){return function(o){var s;if(!Pa(o)||(s=IN(o)).type!==e)throw aae("Incompatible receiver, "+e+" required");return s}}},KSe=Function.prototype,b7e=Du&&Object.getOwnPropertyDescriptor,boe=wc(KSe,"name"),e_={EXISTS:boe,PROPER:boe&&function(){}.name==="something",CONFIGURABLE:boe&&(!Du||Du&&b7e(KSe,"name").configurable)},eh=nF(function(e){var o=e_.CONFIGURABLE,s=Lf.get,l=Lf.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;na(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!wc(v,"name")||o&&v.name!==k)&&zm(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==po?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:zm(d,p,v)):T?d[p]=v:bue(p,v)})(Function.prototype,"toString",function(){return na(this)&&s(this).source||bq(this)})}),y7e=hr({}.toString),w7e=hr("".slice),Vm=function(e){return w7e(y7e(e),8,-1)},C7e=$l("toStringTag"),S7e=po.Object,x7e=Vm(function(){return arguments}())=="Arguments",wq=Sue?Vm:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=S7e(e),C7e))=="string"?s:x7e?Vm(o):(l=Vm(o))=="Object"&&na(o.callee)?"Arguments":l},E7e=Sue?{}.toString:function(){return"[object "+wq(this)+"]"};Sue||eh(Object.prototype,"toString",E7e,{unsafe:!0});var RU={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yoe=fP("span").classList,qme=yoe&&yoe.constructor&&yoe.constructor.prototype,YSe=qme===Object.prototype?void 0:qme,Zme=hr(hr.bind),N4=function(e,o){return CC(e),o===void 0?e:Zme?Zme(e,o):function(){return e.apply(o,arguments)}},woe=po.Object,k7e=hr("".split),Cq=Pi(function(){return!woe("z").propertyIsEnumerable(0)})?function(e){return Vm(e)=="String"?k7e(e,""):woe(e)}:woe,A7e=Math.ceil,T7e=Math.floor,oF=function(e){var o=+e;return o!=o||o===0?0:(o>0?T7e:A7e)(o)},O7e=Math.min,t_=function(e){return e>0?O7e(oF(e),9007199254740991):0},G4=function(e){return t_(e.length)},MU=Array.isArray||function(e){return Vm(e)=="Array"},XSe=function(){},_7e=[],JSe=Z4("Reflect","construct"),kue=/^\s*(?:class|function)\b/,$7e=hr(kue.exec),D7e=!kue.exec(XSe),AB=function(e){if(!na(e))return!1;try{return JSe(XSe,_7e,e),!0}catch{return!1}},Sq=!JSe||Pi(function(){var e;return AB(AB.call)||!AB(Object)||!AB(function(){e=!0})||e})?function(e){if(!na(e))return!1;switch(wq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return D7e||!!$7e(kue,bq(e))}:AB,B7e=$l("species"),Gme=po.Array,QSe=function(e,o){return new(function(s){var l;return MU(s)&&(l=s.constructor,(Sq(l)&&(l===Gme||MU(l.prototype))||Pa(l)&&(l=l[B7e])===null)&&(l=void 0)),l===void 0?Gme:l}(e))(o===0?0:o)},Kme=hr([].push),Bw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=DC(b),N=Cq(F),$=N4(S,x),D=G4(N),O=0,P=T||QSe,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:Kme(I,E)}else switch(e){case 4:return!1;case 7:Kme(I,E)}return d?-1:l||c?c:I}},n_={forEach:Bw(0),map:Bw(1),filter:Bw(2),some:Bw(3),every:Bw(4),find:Bw(5),findIndex:Bw(6),filterReject:Bw(7)},exe=function(e,o){var s=[][e];return!!s&&Pi(function(){s.call(null,o||function(){throw 1},1)})},N7e=n_.forEach,Coe=exe("forEach")?[].forEach:function(e){return N7e(this,e,arguments.length>1?arguments[1]:void 0)},txe=function(e){if(e&&e.forEach!==Coe)try{zm(e,"forEach",Coe)}catch{e.forEach=Coe}};for(var Soe in RU)RU[Soe]&&txe(po[Soe]&&po[Soe].prototype);txe(YSe);var Yme={}.propertyIsEnumerable,Xme=Object.getOwnPropertyDescriptor,P7e=Xme&&!Yme.call({1:2},1)?function(e){var o=Xme(this,e);return!!o&&o.enumerable}:Yme,nxe={f:P7e},BC=function(e){return Cq(bg(e))},Jme=Object.getOwnPropertyDescriptor,rF={f:Du?Jme:function(e,o){if(e=BC(e),o=xue(o),ZSe)try{return Jme(e,o)}catch{}if(wc(e,o))return vq(!li(nxe.f,e,o),e[o])}},F7e=Math.max,R7e=Math.min,R5=function(e,o){var s=oF(e);return s<0?F7e(s+o,0):R7e(s,o)},Qme=function(e){return function(o,s,l){var c,d=BC(o),p=G4(d),v=R5(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},oxe={includes:Qme(!0),indexOf:Qme(!1)},M7e=oxe.indexOf,e1e=hr([].push),rxe=function(e,o){var s,l=BC(e),c=0,d=[];for(s in l)!wc(yq,s)&&wc(l,s)&&e1e(d,s);for(;o.length>c;)wc(l,s=o[c++])&&(~M7e(d,s)||e1e(d,s));return d},IU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],I7e=IU.concat("length","prototype"),dP={f:Object.getOwnPropertyNames||function(e){return rxe(e,I7e)}},sxe={f:Object.getOwnPropertySymbols},L7e=hr([].concat),H7e=Z4("Reflect","ownKeys")||function(e){var o=dP.f(Cc(e)),s=sxe.f;return s?L7e(o,s(e)):o},j7e=function(e,o){for(var s=H7e(o),l=Km.f,c=rF.f,d=0;d<s.length;d++){var p=s[d];wc(e,p)||l(e,p,c(o,p))}},z7e=/#|\.prototype\./,sF=function(e,o){var s=U7e[V7e(e)];return s==q7e||s!=W7e&&(na(o)?Pi(o):!!o)},V7e=sF.normalize=function(e){return String(e).replace(z7e,".").toLowerCase()},U7e=sF.data={},W7e=sF.NATIVE="N",q7e=sF.POLYFILL="P",hP=sF,Z7e=rF.f,Ol=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?po:S?po[v]||bue(v,{}):(po[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=Z7e(s,l))&&p.value:s[l],!hP(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;j7e(d,c)}(e.sham||c&&c.sham)&&zm(d,"sham",!0),eh(s,l,d,e)}},h5=Object.keys||function(e){return rxe(e,IU)},G7e=Pi(function(){h5(1)});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function t1e(e){return Object.prototype.toString.call(e)==="[object Object]"}Ol({target:"Object",stat:!0,forced:G7e},{keys:function(e){return h5(DC(e))}});var K7e={isHistory(e){return t1e(o=e)!==!1&&((s=o.constructor)===void 0||t1e(l=s.prototype)!==!1&&l.hasOwnProperty("isPrototypeOf")!==!1)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||Jw.isOperationList(e.redos[0]))&&(e.undos.length===0||Jw.isOperationList(e.undos[0]));var o,s,l}},xoe=new WeakMap,Eoe=new WeakMap,a5={isHistoryEditor:e=>K7e.isHistory(e.history)&&ze.isEditor(e),isMerging:e=>Eoe.get(e),isSaving:e=>xoe.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,o){var s=a5.isMerging(e);Eoe.set(e,!1),o(),Eoe.set(e,s)},withoutSaving(e,o){var s=a5.isSaving(e);xoe.set(e,!1),o(),xoe.set(e,s)}},Y7e=(e,o)=>e.type==="set_selection"||!(!o||e.type!=="insert_text"||o.type!=="insert_text"||e.offset!==o.offset+o.text.length||!Ht.equals(e.path,o.path))||!(!o||e.type!=="remove_text"||o.type!=="remove_text"||e.offset+e.text.length!==o.offset||!Ht.equals(e.path,o.path)),X7e=(e,o)=>e.type!=="set_selection"||e.properties!=null&&e.newProperties!=null,J7e=(e,o)=>!(!o||e.type!=="set_selection"||o.type!=="set_selection"),Q7e=e=>e.type!=="set_selection",eBe=po.String,Sa=function(e){if(wq(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return eBe(e)},Aue=function(){var e=Cc(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},tBe=e_.PROPER,lae=RegExp.prototype,ixe=lae.toString,nBe=hr(Aue),oBe=Pi(function(){return ixe.call({source:"a",flags:"b"})!="/a/b"}),rBe=tBe&&ixe.name!="toString";(oBe||rBe)&&eh(RegExp.prototype,"toString",function(){var e=Cc(this),o=Sa(e.source),s=e.flags;return"/"+o+"/"+Sa(s===void 0&&D4(lae,e)&&!("flags"in lae)?nBe(e):s)},{unsafe:!0});var qz,sBe=Du?Object.defineProperties:function(e,o){Cc(e);for(var s,l=BC(o),c=h5(o),d=c.length,p=0;d>p;)Km.f(e,s=c[p++],l[s]);return e},cae=Z4("document","documentElement"),axe=Eue("IE_PROTO"),koe=function(){},lxe=function(e){return"<script>"+e+"<\/script>"},n1e=function(e){e.write(lxe("")),e.close();var o=e.parentWindow.Object;return e=null,o},KV=function(){try{qz=new ActiveXObject("htmlfile")}catch{}var e,o;KV=typeof document<"u"?document.domain&&qz?n1e(qz):((o=fP("iframe")).style.display="none",cae.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(lxe("document.F=Object")),e.close(),e.F):n1e(qz);for(var s=IU.length;s--;)delete KV.prototype[IU[s]];return KV()};yq[axe]=!0;var xq=Object.create||function(e,o){var s;return e!==null?(koe.prototype=Cc(e),s=new koe,koe.prototype=null,s[axe]=e):s=KV(),o===void 0?s:sBe(s,o)},uae=$l("unscopables"),fae=Array.prototype;fae[uae]==null&&Km.f(fae,uae,{configurable:!0,value:xq(null)});var LN=function(e){fae[uae][e]=!0},iBe=oxe.includes;Ol({target:"Array",proto:!0},{includes:function(e){return iBe(this,e,arguments.length>1?arguments[1]:void 0)}}),LN("includes");var aBe=$l("match"),Tue=function(e){var o;return Pa(e)&&((o=e[aBe])!==void 0?!!o:Vm(e)=="RegExp")},lBe=po.TypeError,Oue=function(e){if(Tue(e))throw lBe("The method doesn't accept regular expressions");return e},cBe=$l("match"),_ue=function(e){var o=/./;try{"/./"[e](o)}catch{try{return o[cBe]=!1,"/./"[e](o)}catch{}}return!1},uBe=hr("".indexOf);Ol({target:"String",proto:!0,forced:!_ue("includes")},{includes:function(e){return!!~uBe(Sa(bg(this)),Sa(Oue(e)),arguments.length>1?arguments[1]:void 0)}});var o1e,fBe=/"/g,dBe=hr("".replace);Ol({target:"String",proto:!0,forced:(o1e="anchor",Pi(function(){var e=""[o1e]('"');return e!==e.toLowerCase()||e.split('"').length>3}))},{anchor:function(e){return o="a",s="name",l=e,c=Sa(bg(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+dBe(Sa(l),fBe,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var dae=function(e,o,s){var l,c;Cc(e);try{if(!(l=B4(e,"return"))){if(o==="throw")throw s;return s}l=li(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return Cc(l),s},hBe=function(e,o,s,l){try{return l?o(Cc(s)[0],s[1]):o(s)}catch(c){dae(e,"throw",c)}},M5={},pBe=$l("iterator"),gBe=Array.prototype,cxe=function(e){return e!==void 0&&(M5.Array===e||gBe[pBe]===e)},pP=function(e,o,s){var l=xue(o);l in e?Km.f(e,l,vq(0,s)):e[l]=s},mBe=$l("iterator"),$ue=function(e){if(e!=null)return B4(e,mBe)||B4(e,"@@iterator")||M5[wq(e)]},vBe=po.TypeError,uxe=function(e,o){var s=arguments.length<2?$ue(e):o;if(CC(s))return Cc(li(s,e));throw vBe(mq(e)+" is not iterable")},r1e=po.Array,fxe=$l("iterator"),dxe=!1;try{var bBe=0,s1e={next:function(){return{done:!!bBe++}},return:function(){dxe=!0}};s1e[fxe]=function(){return this},Array.from(s1e,function(){throw 2})}catch{}var Due=function(e,o){if(!o&&!dxe)return!1;var s=!1;try{var l={};l[fxe]=function(){return{next:function(){return{done:s=!0}}}},e(l)}catch{}return s},yBe=!Due(function(e){Array.from(e)});Ol({target:"Array",stat:!0,forced:yBe},{from:function(e){var o=DC(e),s=Sq(this),l=arguments.length,c=l>1?arguments[1]:void 0,d=c!==void 0;d&&(c=N4(c,l>2?arguments[2]:void 0));var p,v,b,S,x,T,E=$ue(o),k=0;if(!E||this==r1e&&cxe(E))for(p=G4(o),v=s?new this(p):r1e(p);p>k;k++)T=d?c(o[k],k):o[k],pP(v,k,T);else for(x=(S=uxe(o,E)).next,v=s?new this:[];!(b=li(x,S)).done;k++)T=d?hBe(S,c,[b.value,k],!0):b.value,pP(v,k,T);return v.length=k,v}});var f4,i1e,a1e,wBe=hr("".charAt),l1e=hr("".charCodeAt),CBe=hr("".slice),c1e=function(e){return function(o,s){var l,c,d=Sa(bg(o)),p=oF(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=l1e(d,p))<55296||l>56319||p+1===v||(c=l1e(d,p+1))<56320||c>57343?e?wBe(d,p):l:e?CBe(d,p,p+2):c-56320+(l-55296<<10)+65536}},hxe={codeAt:c1e(!1),charAt:c1e(!0)},SBe=!Pi(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),u1e=Eue("IE_PROTO"),hae=po.Object,xBe=hae.prototype,LU=SBe?hae.getPrototypeOf:function(e){var o=DC(e);if(wc(o,u1e))return o[u1e];var s=o.constructor;return na(s)&&o instanceof s?s.prototype:o instanceof hae?xBe:null},pae=$l("iterator"),pxe=!1;[].keys&&("next"in(a1e=[].keys())?(i1e=LU(LU(a1e)))!==Object.prototype&&(f4=i1e):pxe=!0);var EBe=f4==null||Pi(function(){var e={};return f4[pae].call(e)!==e});EBe&&(f4={}),na(f4[pae])||eh(f4,pae,function(){return this});var Bue={IteratorPrototype:f4,BUGGY_SAFARI_ITERATORS:pxe},kBe=Km.f,f1e=$l("toStringTag"),HU=function(e,o,s){e&&!wc(e=s?e:e.prototype,f1e)&&kBe(e,f1e,{configurable:!0,value:o})},ABe=Bue.IteratorPrototype,TBe=function(){return this},OBe=po.String,_Be=po.TypeError,I5=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=hr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return Cc(l),function(d){if(typeof d=="object"||na(d))return d;throw _Be("Can't set "+OBe(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),$Be=e_.PROPER,DBe=e_.CONFIGURABLE,d1e=Bue.IteratorPrototype,Zz=Bue.BUGGY_SAFARI_ITERATORS,TB=$l("iterator"),BBe=function(){return this},Nue=function(e,o,s,l,c,d,p){(function(D,O,P,I){var z=O+" Iterator";D.prototype=xq(ABe,{next:vq(+!I,P)}),HU(D,z,!1),M5[z]=TBe})(s,o,l);var v,b,S,x=function(D){if(D===c&&N)return N;if(!Zz&&D in k)return k[D];switch(D){case"keys":case"values":case"entries":return function(){return new s(this,D)}}return function(){return new s(this)}},T=o+" Iterator",E=!1,k=e.prototype,F=k[TB]||k["@@iterator"]||c&&k[c],N=!Zz&&F||x(c),$=o=="Array"&&k.entries||F;if($&&(v=LU($.call(new e)))!==Object.prototype&&v.next&&(LU(v)!==d1e&&(I5?I5(v,d1e):na(v[TB])||eh(v,TB,BBe)),HU(v,T,!0)),$Be&&c=="values"&&F&&F.name!=="values"&&(DBe?zm(k,"name","values"):(E=!0,N=function(){return li(F,this)})),c)if(b={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in b)(Zz||E||!(S in k))&&eh(k,S,b[S]);else Ol({target:o,proto:!0,forced:Zz||E},b);return k[TB]!==N&&eh(k,TB,N,{name:c}),M5[o]=N,b},NBe=hxe.charAt,PBe=Lf.set,FBe=Lf.getterFor("String Iterator");Nue(String,"String",function(e){PBe(this,{type:"String Iterator",string:Sa(e),index:0})},function(){var e,o=FBe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=NBe(s,l),o.index+=e.length,{value:e,done:!1})});var Aoe,RBe=rF.f,h1e=hr("".endsWith),MBe=hr("".slice),IBe=Math.min,gxe=_ue("endsWith"),LBe=!(gxe||(Aoe=RBe(String.prototype,"endsWith"),!Aoe||Aoe.writable));Ol({target:"String",proto:!0,forced:!LBe&&!gxe},{endsWith:function(e){var o=Sa(bg(this));Oue(e);var s=arguments.length>1?arguments[1]:void 0,l=o.length,c=s===void 0?l:IBe(t_(s),l),d=Sa(e);return h1e?h1e(o,d,c):MBe(o,c-d.length,c)===d}});var HBe=hr([].join),jBe=Cq!=Object,zBe=exe("join",",");Ol({target:"Array",proto:!0,forced:jBe||!zBe},{join:function(e){return HBe(BC(this),e===void 0?",":e)}});var VBe=$l("species"),Eq=function(e){return uP>=51||!Pi(function(){var o=[];return(o.constructor={})[VBe]=function(){return{foo:1}},o[e](Boolean).foo!==1})},UBe=n_.map,WBe=Eq("map");Ol({target:"Array",proto:!0,forced:!WBe},{map:function(e){return UBe(this,e,arguments.length>1?arguments[1]:void 0)}});var Pue=po.RegExp,gae=Pi(function(){var e=Pue("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),qBe=gae||Pi(function(){return!Pue("a","y").sticky}),kq={BROKEN_CARET:gae||Pi(function(){var e=Pue("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:qBe,UNSUPPORTED_Y:gae},ZBe=po.RegExp,Fue=Pi(function(){var e=ZBe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),GBe=po.RegExp,Rue=Pi(function(){var e=GBe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),KBe=Lf.get,YBe=yue("native-string-replace",String.prototype.replace),jU=RegExp.prototype.exec,mae=jU,XBe=hr("".charAt),JBe=hr("".indexOf),QBe=hr("".replace),Toe=hr("".slice),Ooe=function(){var e=/a/,o=/b*/g;return li(jU,e,"a"),li(jU,o,"a"),e.lastIndex!==0||o.lastIndex!==0}(),p1e=kq.BROKEN_CARET,_oe=/()??/.exec("")[1]!==void 0;(Ooe||_oe||p1e||Fue||Rue)&&(mae=function(e){var o,s,l,c,d,p,v,b=this,S=KBe(b),x=Sa(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=li(mae,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=p1e&&b.sticky,F=li(Aue,b),N=b.source,$=0,D=x;if(k&&(F=QBe(F,"y",""),JBe(F,"g")===-1&&(F+="g"),D=Toe(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&XBe(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),_oe&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Ooe&&(l=b.lastIndex),c=li(jU,k?s:b,D),k?c?(c.input=Toe(c.input,$),c[0]=Toe(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:Ooe&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),_oe&&c&&c.length>1&&li(YBe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=xq(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var gP=mae;Ol({target:"RegExp",proto:!0,forced:/./.exec!==gP},{exec:gP});var Mue=Function.prototype,g1e=Mue.apply,eNe=Mue.bind,m1e=Mue.call,Iue=typeof Reflect=="object"&&Reflect.apply||(eNe?m1e.bind(g1e):function(){return m1e.apply(g1e,arguments)}),tNe=$l("species"),$oe=RegExp.prototype,Lue=function(e,o,s,l){var c=$l(e),d=!Pi(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Pi(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[tNe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=hr(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=hr(S),N=x.exec;return N===gP||N===$oe.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});eh(String.prototype,e,b[0]),eh($oe,c,b[1])}l&&zm($oe[c],"sham",!0)},nNe=hxe.charAt,Hue=function(e,o,s){return o+(s?nNe(e,o).length:1)},oNe=Math.floor,Doe=hr("".charAt),rNe=hr("".replace),Boe=hr("".slice),sNe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iNe=/\$([$&'`]|\d{1,2})/g,aNe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,b=iNe;return c!==void 0&&(c=DC(c),b=sNe),rNe(d,b,function(S,x){var T;switch(Doe(x,0)){case"$":return"$";case"&":return e;case"`":return Boe(o,0,s);case"'":return Boe(o,p);case"<":T=c[Boe(x,1,-1)];break;default:var E=+x;if(E===0)return S;if(E>v){var k=oNe(E/10);return k===0?S:k<=v?l[k-1]===void 0?Doe(x,1):l[k-1]+Doe(x,1):S}T=l[E-1]}return T===void 0?"":T})},lNe=po.TypeError,mP=function(e,o){var s=e.exec;if(na(s)){var l=li(s,e,o);return l!==null&&Cc(l),l}if(Vm(e)==="RegExp")return li(gP,e,o);throw lNe("RegExp#exec called on incompatible receiver")},vae=$l("replace"),cNe=Math.max,uNe=Math.min,fNe=hr([].concat),Noe=hr([].push),v1e=hr("".indexOf),b1e=hr("".slice),dNe="a".replace(/./,"$0")==="$0",y1e=!!/./[vae]&&/./[vae]("a","$0")==="";Lue("replace",function(e,o,s){var l=y1e?"$":"$0";return[function(c,d){var p=bg(this),v=c==null?void 0:B4(c,vae);return v?li(v,c,p,d):li(o,Sa(p),c,d)},function(c,d){var p=Cc(this),v=Sa(c);if(typeof d=="string"&&v1e(d,l)===-1&&v1e(d,"$<")===-1){var b=s(o,p,v,d);if(b.done)return b.value}var S=na(d);S||(d=Sa(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var E=[];;){var k=mP(p,v);if(k===null||(Noe(E,k),!x))break;Sa(k[0])===""&&(p.lastIndex=Hue(v,t_(p.lastIndex),T))}for(var F,N="",$=0,D=0;D<E.length;D++){for(var O=Sa((k=E[D])[0]),P=cNe(uNe(oF(k.index),v.length),0),I=[],z=1;z<k.length;z++)Noe(I,(F=k[z])===void 0?F:String(F));var K=k.groups;if(S){var j=fNe([O],I,P,v);K!==void 0&&Noe(j,K);var oe=Sa(Iue(d,void 0,j))}else oe=aNe(O,v,P,I,K,d);P>=$&&(N+=b1e(v,$,P)+oe,$=P+O.length)}return N+b1e(v,$)}]},!!Pi(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!dNe||y1e);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bae=function(e,o){return bae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},bae(e,o)};function o_(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=e}bae(e,o),e.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}var dg=function(){return dg=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},dg.apply(this,arguments)};function lg(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function ai(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function yae(e,o){for(var s=0,l=o.length,c=e.length;s<l;s++,c++)e[c]=o[s];return e}var hNe=0,w1e=function(){this.id=""+hNe++},pNe=Lf.set,gNe=Lf.getterFor("Array Iterator"),ON=Nue(Array,"Array",function(e,o){pNe(this,{type:"Array Iterator",target:BC(e),index:0,kind:o})},function(){var e=gNe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");M5.Arguments=M5.Array,LN("keys"),LN("values"),LN("entries");var L5=function(e,o,s){for(var l in o)eh(e,l,o[l],s);return e},mNe=po.Array,vNe=Math.max,wae=function(e,o,s){for(var l=G4(e),c=R5(o,l),d=R5(s===void 0?l:s,l),p=mNe(vNe(d-c,0)),v=0;c<d;c++,v++)pP(p,v,e[c]);return p.length=v,p},C1e=dP.f,S1e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],bNe={f:function(e){return S1e&&Vm(e)=="Window"?function(o){try{return C1e(o)}catch{return wae(S1e)}}(e):C1e(BC(e))}},x1e=Pi(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Gz=Object.isExtensible,i4=Pi(function(){Gz(1)})||x1e?function(e){return!!Pa(e)&&(!x1e||Vm(e)!="ArrayBuffer")&&(!Gz||Gz(e))}:Gz,yNe=!Pi(function(){return Object.isExtensible(Object.preventExtensions({}))}),Aq=nF(function(e){var o=Km.f,s=!1,l=wue("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=dP.f,b=hr([].splice),S={};S[l]=1,v(S).length&&(dP.f=function(x){for(var T=v(x),E=0,k=T.length;E<k;E++)if(T[E]===l){b(T,E,1);break}return T},Ol({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:bNe.f}))},fastKey:function(v,b){if(!Pa(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!wc(v,l)){if(!i4(v))return"F";if(!b)return"E";d(v)}return v[l].objectID},getWeakData:function(v,b){if(!wc(v,l)){if(!i4(v))return!0;if(!b)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return yNe&&s&&i4(v)&&!wc(v,l)&&d(v),v}};yq[l]=!0}),wNe=po.TypeError,YV=function(e,o){this.stopped=e,this.result=o},E1e=YV.prototype,vP=function(e,o,s){var l,c,d,p,v,b,S,x=s&&s.that,T=!(!s||!s.AS_ENTRIES),E=!(!s||!s.IS_ITERATOR),k=!(!s||!s.INTERRUPTED),F=N4(o,x),N=function(D){return l&&dae(l,"normal",D),new YV(!0,D)},$=function(D){return T?(Cc(D),k?F(D[0],D[1],N):F(D[0],D[1])):k?F(D,N):F(D)};if(E)l=e;else{if(!(c=$ue(e)))throw wNe(mq(e)+" is not iterable");if(cxe(c)){for(d=0,p=G4(e);p>d;d++)if((v=$(e[d]))&&D4(E1e,v))return v;return new YV(!1)}l=uxe(e,c)}for(b=l.next;!(S=li(b,l)).done;){try{v=$(S.value)}catch(D){dae(l,"throw",D)}if(typeof v=="object"&&v&&D4(E1e,v))return v}return new YV(!1)},CNe=po.TypeError,Tq=function(e,o){if(D4(o,e))return e;throw CNe("Incorrect invocation")},mxe=function(e,o,s){var l,c;return I5&&na(l=o.constructor)&&l!==s&&Pa(c=l.prototype)&&c!==s.prototype&&I5(e,c),e},vxe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=po[e],v=p&&p.prototype,b=p,S={},x=function($){var D=hr(v[$]);eh(v,$,$=="add"?function(O){return D(this,O===0?0:O),this}:$=="delete"?function(O){return!(c&&!Pa(O))&&D(this,O===0?0:O)}:$=="get"?function(O){return c&&!Pa(O)?void 0:D(this,O===0?0:O)}:$=="has"?function(O){return!(c&&!Pa(O))&&D(this,O===0?0:O)}:function(O,P){return D(this,O===0?0:O,P),this})};if(hP(e,!na(p)||!(c||v.forEach&&!Pi(function(){new p().entries().next()}))))b=s.getConstructor(o,e,l,d),Aq.enable();else if(hP(e,!0)){var T=new b,E=T[d](c?{}:-0,1)!=T,k=Pi(function(){T.has(1)}),F=Due(function($){new p($)}),N=!c&&Pi(function(){for(var $=new p,D=5;D--;)$[d](D,D);return!$.has(-0)});F||((b=o(function($,D){Tq($,v);var O=mxe(new p,$,b);return D!=null&&vP(D,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=b),(k||N)&&(x("delete"),x("has"),l&&x("get")),(N||E)&&x(d),c&&v.clear&&delete v.clear}return S[e]=b,Ol({global:!0,forced:b!=p},S),HU(b,e),c||s.setStrong(b,e,l),b},Kz=Aq.getWeakData,SNe=Lf.set,xNe=Lf.getterFor,ENe=n_.find,kNe=n_.findIndex,ANe=hr([].splice),TNe=0,Yz=function(e){return e.frozen||(e.frozen=new bxe)},bxe=function(){this.entries=[]},Poe=function(e,o){return ENe(e.entries,function(s){return s[0]===o})};bxe.prototype={get:function(e){var o=Poe(this,e);if(o)return o[1]},has:function(e){return!!Poe(this,e)},set:function(e,o){var s=Poe(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=kNe(this.entries,function(s){return s[0]===e});return~o&&ANe(this.entries,o,1),!!~o}};var OB,yxe={getConstructor:function(e,o,s,l){var c=e(function(b,S){Tq(b,d),SNe(b,{type:o,id:TNe++,frozen:void 0}),S!=null&&vP(S,b[l],{that:b,AS_ENTRIES:s})}),d=c.prototype,p=xNe(o),v=function(b,S,x){var T=p(b),E=Kz(Cc(S),!0);return E===!0?Yz(T).set(S,x):E[T.id]=x,b};return L5(d,{delete:function(b){var S=p(this);if(!Pa(b))return!1;var x=Kz(b);return x===!0?Yz(S).delete(b):x&&wc(x,S.id)&&delete x[S.id]},has:function(b){var S=p(this);if(!Pa(b))return!1;var x=Kz(b);return x===!0?Yz(S).has(b):x&&wc(x,S.id)}}),L5(d,s?{get:function(b){var S=p(this);if(Pa(b)){var x=Kz(b);return x===!0?Yz(S).get(b):x?x[S.id]:void 0}},set:function(b,S){return v(this,b,S)}}:{add:function(b){return v(this,b,!0)}}),c}},Xz=Lf.enforce,ONe=!po.ActiveXObject&&"ActiveXObject"in po,wxe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},_Ne=vxe("WeakMap",wxe,yxe);if(GSe&&ONe){OB=yxe.getConstructor(wxe,"WeakMap",!0),Aq.enable();var _B=_Ne.prototype,k1e=hr(_B.delete),Jz=hr(_B.has),A1e=hr(_B.get),T1e=hr(_B.set);L5(_B,{delete:function(e){if(Pa(e)&&!i4(e)){var o=Xz(this);return o.frozen||(o.frozen=new OB),k1e(this,e)||o.frozen.delete(e)}return k1e(this,e)},has:function(e){if(Pa(e)&&!i4(e)){var o=Xz(this);return o.frozen||(o.frozen=new OB),Jz(this,e)||o.frozen.has(e)}return Jz(this,e)},get:function(e){if(Pa(e)&&!i4(e)){var o=Xz(this);return o.frozen||(o.frozen=new OB),Jz(this,e)?A1e(this,e):o.frozen.get(e)}return A1e(this,e)},set:function(e,o){if(Pa(e)&&!i4(e)){var s=Xz(this);s.frozen||(s.frozen=new OB),Jz(this,e)?T1e(this,e,o):s.frozen.set(e,o)}else T1e(this,e,o);return this}})}var Foe=$l("iterator"),O1e=$l("toStringTag"),Roe=ON.values,Cxe=function(e,o){if(e){if(e[Foe]!==Roe)try{zm(e,Foe,Roe)}catch{e[Foe]=Roe}if(e[O1e]||zm(e,O1e,o),RU[o]){for(var s in ON)if(e[s]!==ON[s])try{zm(e,s,ON[s])}catch{e[s]=ON[s]}}}};for(var Moe in RU)Cxe(po[Moe]&&po[Moe].prototype,Moe);Cxe(YSe,"DOMTokenList");var Cae=new WeakMap,Sae=new WeakMap,jue=new WeakMap,Oq=new WeakMap,xae=new WeakMap,zU=new WeakMap,zue=new WeakMap,Eae=new WeakMap,XV=new WeakMap,_1e=new WeakMap,$1e=new WeakMap,D1e=new WeakMap,B1e=new WeakMap,bP=new WeakMap,H5=new WeakMap,Vue=new WeakMap,_q=new WeakMap,Uue=new WeakMap,$q=new WeakMap,JV=new WeakMap,Sxe=new WeakMap,d4=new WeakMap,kae=new WeakMap,N1e=new WeakMap,Ioe=new WeakMap,$Ne=n_.find,P1e=!0;"find"in[]&&Array(1).find(function(){P1e=!1}),Ol({target:"Array",proto:!0,forced:P1e},{find:function(e){return $Ne(this,e,arguments.length>1?arguments[1]:void 0)}}),LN("find"),Ol({global:!0},{globalThis:po});const DNe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"];OU&&(_t.fn.css=OU),vg&&(_t.fn.append=vg),k5&&(_t.fn.addClass=k5),A5&&(_t.fn.removeClass=A5),T5&&(_t.fn.hasClass=T5),Wv&&(_t.fn.on=Wv),wC&&(_t.fn.focus=wC),mg&&(_t.fn.attr=mg),EU&&(_t.fn.removeAttr=EU),_5&&(_t.fn.hide=_5),TU&&(_t.fn.show=TU),Kge&&(_t.fn.offset=Kge),kU&&(_t.fn.width=kU),AU&&(_t.fn.height=AU),$5&&(_t.fn.parent=$5),DU&&(_t.fn.parents=DU),Xge&&(_t.fn.is=Xge),O5&&(_t.fn.dataset=O5),Uv&&(_t.fn.val=Uv),$U&&(_t.fn.text=$U),yC&&(_t.fn.html=yC),B5&&(_t.fn.children=B5),N5&&(_t.fn.remove=N5),D5&&(_t.fn.find=D5),_U&&(_t.fn.each=_U),P5&&(_t.fn.empty=P5);var Hv,Wue=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Mm=function(e){return P4(e)&&e.nodeType===1},P4=function(e){var o=Wue(e);return!!o&&e instanceof o.Node},F1e=function(e){var o=e&&e.anchorNode&&Wue(e.anchorNode);return!!o&&e instanceof o.Selection},xxe=function(e){return P4(e)&&e.nodeType===3},que=function(e){var o,s,l;return(o=window.document.getElementById(e))!==null&&o!==void 0?o:((l=(s=window.document.activeElement)===null||s===void 0?void 0:s.shadowRoot)===null||l===void 0?void 0:l.getElementById(e))||null},Exe=function(e,o,s){for(var l,c=e.childNodes,d=c[o],p=o,v=!1,b=!1;(P4(l=d)&&l.nodeType===8||Mm(d)&&d.childNodes.length===0||Mm(d)&&d.getAttribute("contenteditable")==="false")&&(!v||!b);)p>=c.length?(v=!0,p=o-1,s="backward"):p<0?(b=!0,p=o+1,s="forward"):(d=c[p],o=p,p+=s==="forward"?1:-1);return[d,o]},BNe=function(e,o,s){return ai(Exe(e,o,s),1)[0]},NNe=function e(o){var s,l,c="";if(xxe(o)&&o.nodeValue)return o.nodeValue;if(Mm(o)){try{for(var d=lg(Array.from(o.childNodes)),p=d.next();!p.done;p=d.next())c+=e(p.value)}catch(b){s={error:b}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}var v=getComputedStyle(o).getPropertyValue("display");v!=="block"&&v!=="list"&&v!=="table-row"&&o.tagName!=="BR"||(c+=`
`)}return c};function kxe(e,o){if(!(e instanceof HTMLElement&&e.dataset.slateVoid==="true"))for(var s=e.childNodes,l=s.length;l--;){var c=s[l],d=c.nodeType;d==3?o(c,e):d!=1&&d!=9&&d!=11||kxe(c,o)}}function R1e(e){if(e.length===0)return"";var o=e[0];return o.nodeType!==Hv.ELEMENT_NODE?"":o.tagName.toLowerCase()}(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(Hv||(Hv={})),globalThis.navigator!==void 0&&globalThis.window!==void 0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&globalThis.window.MSStream;var Aae=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),HN=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent);var $B=typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),PNe=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),FNe=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Tae=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent);typeof navigator<"u"&&/.*QQBrowser/.test(navigator.userAgent);var DB=!FNe&&!PNe&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",wt={getWindow:function(e){var o=Sxe.get(e);if(!o)throw new Error("Unable to find a host window element for this editor");return o},findKey:function(e,o){var s=JV.get(o);return s||(s=new w1e,JV.set(o,s)),s},setNewKey:function(e){var o=new w1e;JV.set(e,o)},findPath:function(e,o){for(var s=[],l=o;;){var c=H5.get(l);if(c==null){if(ze.isEditor(l))return s;break}var d=bP.get(l);if(d==null)break;s.unshift(d),l=c}throw new Error("Unable to find the path for Slate node: "+JSON.stringify(o))},findDocumentOrShadowRoot:function(e){if(e.isDestroyed)return window.document;var o=wt.toDOMNode(e,e),s=o.getRootNode();return(s instanceof Document||s instanceof ShadowRoot)&&s.getSelection!=null?s:o.ownerDocument},getParentNode:function(e,o){return H5.get(o)||null},getParentsNodes:function(e,o){for(var s=[],l=o;l!==e&&l!=null;){var c=wt.getParentNode(e,l);if(c==null)break;s.push(c),l=c}return s},getTopNode:function(e,o){var s=[wt.findPath(e,o)[0]];return wo.get(e,s)},toDOMNode:function(e,o){var s;if(ze.isEditor(o))s=Vue.get(e);else{var l=wt.findKey(e,o);s=Uue.get(l)}if(!s)throw new Error("Cannot resolve a DOM node from Slate node: "+JSON.stringify(o));return s},hasDOMNode:function(e,o,s){s===void 0&&(s={});var l,c=s.editable,d=c!==void 0&&c,p=wt.toDOMNode(e,e);try{l=Mm(o)?o:o.parentElement}catch(v){if(!v.message.includes('Permission denied to access property "nodeType"'))throw v}return!!l&&l.closest("[data-slate-editor]")===p&&(!d||l.isContentEditable||!!l.getAttribute("data-slate-zero-width"))},toDOMRange:function(e,o){var s=o.anchor,l=o.focus,c=gn.isBackward(o),d=wt.toDOMPoint(e,s),p=gn.isCollapsed(o)?d:wt.toDOMPoint(e,l),v=wt.getWindow(e).document.createRange(),b=ai(c?p:d,2),S=b[0],x=b[1],T=ai(c?d:p,2),E=T[0],k=T[1],F=!!(Mm(S)?S:S.parentElement).getAttribute("data-slate-zero-width"),N=!!(Mm(E)?E:E.parentElement).getAttribute("data-slate-zero-width");return v.setStart(S,F?1:x),v.setEnd(E,N?1:k),v},toDOMPoint:function(e,o){var s,l,c,d=ai(ze.node(e,o.path),1)[0],p=wt.toDOMNode(e,d);ze.void(e,{at:o})&&(o={path:o.path,offset:0});var v=Array.from(p.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),b=0;try{for(var S=lg(v),x=S.next();!x.done;x=S.next()){var T=x.value,E=T.childNodes[0];if(E!=null&&E.textContent!=null){var k=E.textContent.length,F=T.getAttribute("data-slate-length"),N=b+(F==null?k:parseInt(F,10));if(o.offset<=N){c=[E,Math.min(k,Math.max(0,o.offset-b))];break}b=N}}}catch($){s={error:$}}finally{try{x&&!x.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(!c)throw new Error("Cannot resolve a DOM point from Slate point: "+JSON.stringify(o));return c},toSlateNode:function(e,o){var s=Mm(o)?o:o.parentElement;s&&!s.hasAttribute("data-slate-node")&&(s=s.closest("[data-slate-node]"));var l=s?_q.get(s):null;if(!l)throw new Error("Cannot resolve a Slate node from DOM node: "+s);return l},findEventRange:function(e,o){"nativeEvent"in o&&(o=o.nativeEvent);var s=o.clientX,l=o.clientY,c=o.target;if(s==null||l==null)throw new Error("Cannot resolve a Slate range from a DOM event: "+o);var d,p=wt.toSlateNode(e,o.target),v=wt.findPath(e,p);if(ze.isVoid(e,p)){var b=c.getBoundingClientRect(),S=e.isInline(p)?s-b.left<b.left+b.width-s:l-b.top<b.top+b.height-l,x=ze.point(e,v,{edge:S?"start":"end"}),T=S?ze.before(e,x):ze.after(e,x);if(T)return ze.range(e,T)}var E=this.getWindow(e).document;if(E.caretRangeFromPoint)d=E.caretRangeFromPoint(s,l);else{var k=E.caretPositionFromPoint(s,l);k&&((d=E.createRange()).setStart(k.offsetNode,k.offset),d.setEnd(k.offsetNode,k.offset))}if(!d)throw new Error("Cannot resolve a Slate range from a DOM event: "+o);return wt.toSlateRange(e,d,{exactMatch:!1,suppressThrow:!1})},toSlateRange:function(e,o,s){var l,c,d,p,v,b=s.exactMatch,S=s.suppressThrow;if((F1e(o)?o.anchorNode:o.startContainer)&&(F1e(o)?(l=o.anchorNode,c=o.anchorOffset,d=o.focusNode,p=o.focusOffset,v=Tae&&window.document.activeElement&&window.document.activeElement.shadowRoot?o.anchorNode===o.focusNode&&o.anchorOffset===o.focusOffset:o.isCollapsed):(l=o.startContainer,c=o.startOffset,d=o.endContainer,p=o.endOffset,v=o.collapsed)),l==null||d==null||c==null||p==null)throw new Error("Cannot resolve a Slate range from DOM range: "+o);var x=wt.toSlatePoint(e,[l,c],{exactMatch:b,suppressThrow:S});if(!x)return null;var T=v?x:wt.toSlatePoint(e,[d,p],{exactMatch:b,suppressThrow:S});if(!T)return null;var E={anchor:x,focus:T};return gn.isExpanded(E)&&gn.isForward(E)&&Mm(d)&&ze.void(e,{at:E.focus,mode:"highest"})&&(E=ze.unhangRange(e,E,{voids:!0})),E},toSlatePoint:function(e,o,s){var l,c=s.exactMatch,d=s.suppressThrow,p=ai(c?o:function(O){var P,I=ai(O,2),z=I[0],K=I[1];if(Mm(z)&&z.childNodes.length){var j=K===z.childNodes.length,oe=j?K-1:K;for(z=(P=ai(Exe(z,oe,j?"backward":"forward"),2))[0],j=(oe=P[1])<K;Mm(z)&&z.childNodes.length;){var xe=j?z.childNodes.length-1:0;z=BNe(z,xe,j?"backward":"forward")}K=j&&z.textContent!=null?z.textContent.length:0}return[z,K]}(o),2),v=p[0],b=p[1],S=v.parentNode,x=null,T=0;if(S){var E=S.closest('[data-slate-void="true"]'),k=S.closest("[data-slate-leaf]"),F=null;if(k){x=k.closest('[data-slate-node="text"]');var N=wt.getWindow(e).document.createRange();N.setStart(x,0),N.setEnd(v,b);var $=N.cloneContents();yae(yae([],ai(qge($.querySelectorAll("[data-slate-zero-width]")))),ai(qge($.querySelectorAll("[contenteditable=false]")))).forEach(function(O){O.parentNode.removeChild(O)}),T=$.textContent.length,F=x}else E&&((k=E.querySelector("[data-slate-leaf]"))?(x=k.closest('[data-slate-node="text"]'),T=(F=k).textContent.length,F.querySelectorAll("[data-slate-zero-width]").forEach(function(O){T-=O.textContent.length})):T=1);F&&T===F.textContent.length&&(S.hasAttribute("data-slate-zero-width")||HN&&((l=F.textContent)===null||l===void 0?void 0:l.endsWith(`
`)))&&T--}if(!x){if(d)return null;throw new Error("Cannot resolve a Slate point from DOM point: "+o)}var D=wt.toSlateNode(e,x);return{path:wt.findPath(e,D),offset:T}},hasRange:function(e,o){var s=o.anchor,l=o.focus;return ze.hasPath(e,s.path)&&ze.hasPath(e,l.path)},getNodeType:function(e){return ar.isElement(e)?e.type:""},checkNodeType:function(e,o){return this.getNodeType(e)===o},getNodesStr:function(e){return e.map(function(o){return wo.string(o)}).join("")},getSelectedElems:function(e){var o,s,l=[],c=ze.nodes(e,{universal:!0});try{for(var d=lg(c),p=d.next();!p.done;p=d.next()){var v=ai(p.value,1)[0];ar.isElement(v)&&l.push(v)}}catch(b){o={error:b}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return l},getSelectedNodeByType:function(e,o){var s=this,l=ai(ze.nodes(e,{match:function(d){return s.checkNodeType(d,o)},universal:!0}),1),c=l[0];return c==null?null:c[0]},getSelectedTextNode:function(e){var o=ai(ze.nodes(e,{match:function(l){return Mo.isText(l)},universal:!0}),1),s=o[0];return s==null?null:s[0]},isNodeSelected:function(e,o){var s=ai(ze.nodes(e,{match:function(c){return c===o},universal:!0}),1),l=s[0];return l!=null&&ai(l,1)[0]===o},isSelectionAtLineEnd:function(e,o){var s=e.selection;return!!s&&(ze.isEnd(e,s.anchor,o)||ze.isEnd(e,s.focus,o))},getTextarea:function(e){var o=Cae.get(e);if(o==null)throw new Error("Cannot find textarea instance by editor");return o},getToolbar:function(e){return Oq.get(e)||null},getHoverbar:function(e){return zU.get(e)||null},normalizeContent:function(e){e.children.forEach(function(o,s){e.normalizeNode([o,[s]])})},getLeftLengthOfMaxLength:function(e){var o=e.getConfig(),s=o.maxLength,l=o.onMaxLength;if(typeof s!="number"||s<=0)return 1/0;var c=s-e.getText().replace(/\r|\n|(\r\n)/g,"").length;return c<=0&&l&&l(e),c},cleanExposedTexNodeInSelectionBlock:function(e){var o,s,l,c,d=wt.getTextarea(e).$textArea,p=d==null?void 0:d[0].childNodes;if(p)try{for(var v=lg(Array.from(p)),b=v.next();!b.done;b=v.next()){var S=b.value;if(S.nodeType!==3)break;S.remove()}}catch(N){o={error:N}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}var x=ze.nodes(e,{match:function(N){return!(!ar.isElement(N)||e.isInline(N))},universal:!0});try{for(var T=lg(x),E=T.next();!E.done;E=T.next()){var k=E.value;if(k!=null){var F=k[0];kxe(wt.toDOMNode(e,F),function(N,$){var D=_t($);D.attr("data-slate-string")||D.attr("data-slate-zero-width")||D.attr("data-w-e-reserve")||$.removeChild(N)})}}}catch(N){l={error:N}}finally{try{E&&!E.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}},isLastNode:function(e,o){var s=e.children||[];return s[s.length-1]===o},genEmptyParagraph:function(){return{type:"paragraph",children:[{text:""}]}},isSelectedVoidNode:function(e){var o,s,l=ze.nodes(e,{match:function(v){return e.isVoid(v)}}),c=0;try{for(var d=lg(l),p=d.next();!p.done;p=d.next())p.value,c++}catch(v){o={error:v}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}return c>0},isSelectedEmptyParagraph:function(e){var o=e.selection;if(o==null||gn.isExpanded(o))return!1;var s=wt.getSelectedNodeByType(e,"paragraph");if(s===null)return!1;var l=s.children;return l.length===1&&(l[0].text===""||void 0)},isEmptyPath:function(e,o){var s=ze.node(e,o);if(s==null)return!1;var l=ai(s,1)[0].children;return l.length===1&&l[0].text===""}},RNe=1,Axe={},yP={};function MNe(e,o){var s=e.key,l=e.factory,c=e.config,d=dg(dg({},c),o||{});if(yP[s]!=null)throw new Error("Duplicated key '"+s+"' in menu items");yP[s]=l,function(p,v){v!=null&&(Axe[p]=v)}(s,d)}var INe=n_.filter,LNe=Eq("filter");Ol({target:"Array",proto:!0,forced:!LNe},{filter:function(e){return INe(this,e,arguments.length>1?arguments[1]:void 0)}});var Oae=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,M1e=hr("".replace),VU="["+Oae+"]",HNe=RegExp("^"+VU+VU+"*"),jNe=RegExp(VU+VU+"*$"),Loe=function(e){return function(o){var s=Sa(bg(o));return 1&e&&(s=M1e(s,HNe,"")),2&e&&(s=M1e(s,jNe,"")),s}},zNe={start:Loe(1),end:Loe(2),trim:Loe(3)},VNe=e_.PROPER,UNe=zNe.trim;Ol({target:"String",proto:!0,forced:function(e){return Pi(function(){return!!Oae[e]()||"\u200B\x85\u180E"[e]()!=="\u200B\x85\u180E"||VNe&&Oae[e].name!==e})}("trim")},{trim:function(){return UNe(this)}});var Zue=[];function WNe(e){Zue.push(e)}var Txe={};function qNe(e){var o=e.type,s=e.elemToHtml;Txe[o||""]=s}function ZNe(e,o,s){var l=s.isInline(e)?"span":"div";return"<"+l+">"+o+"</"+l+">"}function GNe(e,o){var s=e.type,l=s===void 0?"":s,c=e.children,d=c===void 0?[]:c,p=ze.isVoid(o,e),v="";p||(v=d.map(function(N){return zxe(N,o)}).join(""));var b=function(N){return Txe[N]||ZNe}(l),S=b(e,v,o),x="";if(x=typeof S=="string"?S:S.html||"",p||Zue.forEach(function(N){return x=N(e,x)}),typeof S=="string")return x;var T=S.prefix,E=T===void 0?"":T,k=S.suffix,F=k===void 0?"":k;return E&&(x=E+x),F&&(x+=F),x}var wP,_O,I1e,Hoe,UU=po.Promise,L1e=$l("species"),Gue=function(e){var o=Z4(e),s=Km.f;Du&&o&&!o[L1e]&&s(o,L1e,{configurable:!0,get:function(){return this}})},KNe=po.TypeError,YNe=$l("species"),Oxe=function(e,o){var s,l=Cc(e).constructor;return l===void 0||(s=Cc(l)[YNe])==null?o:function(c){if(Sq(c))return c;throw KNe(mq(c)+" is not a constructor")}(s)},_xe=hr([].slice),$xe=/(?:ipad|iphone|ipod).*applewebkit/i.test(d5),oC=Vm(po.process)=="process",_ae=po.setImmediate,$ae=po.clearImmediate,XNe=po.process,joe=po.Dispatch,JNe=po.Function,H1e=po.MessageChannel,QNe=po.String,zoe=0,jN={};try{wP=po.location}catch{}var Kue=function(e){if(wc(jN,e)){var o=jN[e];delete jN[e],o()}},Voe=function(e){return function(){Kue(e)}},j1e=function(e){Kue(e.data)},z1e=function(e){po.postMessage(QNe(e),wP.protocol+"//"+wP.host)};_ae&&$ae||(_ae=function(e){var o=_xe(arguments,1);return jN[++zoe]=function(){Iue(na(e)?e:JNe(e),void 0,o)},_O(zoe),zoe},$ae=function(e){delete jN[e]},oC?_O=function(e){XNe.nextTick(Voe(e))}:joe&&joe.now?_O=function(e){joe.now(Voe(e))}:H1e&&!$xe?(Hoe=(I1e=new H1e).port2,I1e.port1.onmessage=j1e,_O=N4(Hoe.postMessage,Hoe)):po.addEventListener&&na(po.postMessage)&&!po.importScripts&&wP&&wP.protocol!=="file:"&&!Pi(z1e)?(_O=z1e,po.addEventListener("message",j1e,!1)):_O="onreadystatechange"in fP("script")?function(e){cae.appendChild(fP("script")).onreadystatechange=function(){cae.removeChild(this),Kue(e)}}:function(e){setTimeout(Voe(e),0)});var BB,e4,zN,t5,Uoe,Woe,qoe,V1e,Dxe={set:_ae,clear:$ae},ePe=/ipad|iphone|ipod/i.test(d5)&&po.Pebble!==void 0,tPe=/web0s(?!.*chrome)/i.test(d5),nPe=rF.f,Zoe=Dxe.set,U1e=po.MutationObserver||po.WebKitMutationObserver,W1e=po.document,q1e=po.process,Qz=po.Promise,Z1e=nPe(po,"queueMicrotask"),Bxe=Z1e&&Z1e.value;Bxe||(BB=function(){var e,o;for(oC&&(e=q1e.domain)&&e.exit();e4;){o=e4.fn,e4=e4.next;try{o()}catch(s){throw e4?t5():zN=void 0,s}}zN=void 0,e&&e.enter()},$xe||oC||tPe||!U1e||!W1e?!ePe&&Qz&&Qz.resolve?((qoe=Qz.resolve(void 0)).constructor=Qz,V1e=N4(qoe.then,qoe),t5=function(){V1e(BB)}):oC?t5=function(){q1e.nextTick(BB)}:(Zoe=N4(Zoe,po),t5=function(){Zoe(BB)}):(Uoe=!0,Woe=W1e.createTextNode(""),new U1e(BB).observe(Woe,{characterData:!0}),t5=function(){Woe.data=Uoe=!Uoe}));var Goe,G1e,Nxe,K1e,Pxe=Bxe||function(e){var o={fn:e,next:void 0};zN&&(zN.next=o),e4||(e4=o,t5()),zN=o},oPe=function(e){var o,s;this.promise=new e(function(l,c){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=c}),this.resolve=CC(o),this.reject=CC(s)},Yue={f:function(e){return new oPe(e)}},Dae=function(e){try{return{error:!1,value:e()}}catch(o){return{error:!0,value:o}}},rPe=typeof window=="object",Fxe=Dxe.set,sPe=$l("species"),Dv="Promise",Y1e=Lf.getterFor(Dv),iPe=Lf.set,aPe=Lf.getterFor(Dv),KE=UU&&UU.prototype,Rv=UU,NB=KE,Rxe=po.TypeError,Bae=po.document,Xue=po.process,p5=Yue.f,lPe=p5,cPe=!!(Bae&&Bae.createEvent&&po.dispatchEvent),Mxe=na(po.PromiseRejectionEvent),Ixe=!1,VN=hP(Dv,function(){var e=bq(Rv),o=e!==String(Rv);if(!o&&uP===66)return!0;if(uP>=51&&/native code/.test(e))return!1;var s=new Rv(function(c){c(1)}),l=function(c){c(function(){},function(){})};return(s.constructor={})[sPe]=l,!(Ixe=s.then(function(){})instanceof l)||!o&&rPe&&!Mxe}),uPe=VN||!Due(function(e){Rv.all(e).catch(function(){})}),Lxe=function(e){var o;return!(!Pa(e)||!na(o=e.then))&&o},Jue=function(e,o){if(!e.notified){e.notified=!0;var s=e.reactions;Pxe(function(){for(var l=e.value,c=e.state==1,d=0;s.length>d;){var p,v,b,S=s[d++],x=c?S.ok:S.fail,T=S.resolve,E=S.reject,k=S.domain;try{x?(c||(e.rejection===2&&dPe(e),e.rejection=1),x===!0?p=l:(k&&k.enter(),p=x(l),k&&(k.exit(),b=!0)),p===S.promise?E(Rxe("Promise-chain cycle")):(v=Lxe(p))?li(v,p,T,E):T(p)):E(l)}catch(F){k&&!b&&k.exit(),E(F)}}e.reactions=[],e.notified=!1,o&&!e.rejection&&fPe(e)})}},Hxe=function(e,o,s){var l,c;cPe?((l=Bae.createEvent("Event")).promise=o,l.reason=s,l.initEvent(e,!1,!0),po.dispatchEvent(l)):l={promise:o,reason:s},!Mxe&&(c=po["on"+e])?c(l):e==="unhandledrejection"&&function(d,p){var v=po.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,p))}("Unhandled promise rejection",s)},fPe=function(e){li(Fxe,po,function(){var o,s=e.facade,l=e.value;if(X1e(e)&&(o=Dae(function(){oC?Xue.emit("unhandledRejection",l,s):Hxe("unhandledrejection",s,l)}),e.rejection=oC||X1e(e)?2:1,o.error))throw o.value})},X1e=function(e){return e.rejection!==1&&!e.parent},dPe=function(e){li(Fxe,po,function(){var o=e.facade;oC?Xue.emit("rejectionHandled",o):Hxe("rejectionhandled",o,e.value)})},l5=function(e,o,s){return function(l){e(o,l,s)}},g5=function(e,o,s){e.done||(e.done=!0,s&&(e=s),e.value=o,e.state=2,Jue(e,!0))},Nae=function(e,o,s){if(!e.done){e.done=!0,s&&(e=s);try{if(e.facade===o)throw Rxe("Promise can't be resolved itself");var l=Lxe(o);l?Pxe(function(){var c={done:!1};try{li(l,o,l5(Nae,c,e),l5(g5,c,e))}catch(d){g5(c,d,e)}}):(e.value=o,e.state=1,Jue(e,!1))}catch(c){g5({done:!1},c,e)}}};if(VN&&(NB=(Rv=function(e){Tq(this,NB),CC(e),li(Goe,this);var o=Y1e(this);try{e(l5(Nae,o),l5(g5,o))}catch(s){g5(o,s)}}).prototype,(Goe=function(e){iPe(this,{type:Dv,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=L5(NB,{then:function(e,o){var s=aPe(this),l=s.reactions,c=p5(Oxe(this,Rv));return c.ok=!na(e)||e,c.fail=na(o)&&o,c.domain=oC?Xue.domain:void 0,s.parent=!0,l[l.length]=c,s.state!=0&&Jue(s,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),G1e=function(){var e=new Goe,o=Y1e(e);this.promise=e,this.resolve=l5(Nae,o),this.reject=l5(g5,o)},Yue.f=p5=function(e){return e===Rv||e===Nxe?new G1e(e):lPe(e)},na(UU)&&KE!==Object.prototype)){K1e=KE.then,Ixe||(eh(KE,"then",function(e,o){var s=this;return new Rv(function(l,c){li(K1e,s,l,c)}).then(e,o)},{unsafe:!0}),eh(KE,"catch",NB.catch,{unsafe:!0}));try{delete KE.constructor}catch{}I5&&I5(KE,NB)}Ol({global:!0,wrap:!0,forced:VN},{Promise:Rv}),HU(Rv,Dv,!1),Gue(Dv),Nxe=Z4(Dv),Ol({target:Dv,stat:!0,forced:VN},{reject:function(e){var o=p5(this);return li(o.reject,void 0,e),o.promise}}),Ol({target:Dv,stat:!0,forced:VN},{resolve:function(e){return function(o,s){if(Cc(o),Pa(s)&&s.constructor===o)return s;var l=Yue.f(o);return(0,l.resolve)(s),l.promise}(this,e)}}),Ol({target:Dv,stat:!0,forced:uPe},{all:function(e){var o=this,s=p5(o),l=s.resolve,c=s.reject,d=Dae(function(){var p=CC(o.resolve),v=[],b=0,S=1;vP(e,function(x){var T=b++,E=!1;S++,li(p,o,x).then(function(k){E||(E=!0,v[T]=k,--S||l(v))},c)}),--S||l(v)});return d.error&&c(d.value),s.promise},race:function(e){var o=this,s=p5(o),l=s.reject,c=Dae(function(){var d=CC(o.resolve);vP(e,function(p){li(d,o,p).then(s.resolve,l)})});return c.error&&l(c.value),s.promise}});var $O=kq.UNSUPPORTED_Y,hPe=Math.min,jxe=[].push,pPe=hr(/./.exec),DO=hr(jxe),PB=hr("".slice);function yg(e){Promise.resolve().then(e)}function zxe(e,o){return ar.isElement(e)?GNe(e,o):function(s,l){var c=s.text;if(c==null)throw new Error("Current node is not slate Text "+JSON.stringify(s));var d=c;d=function(b){return b.replace(/ {2}/g," &nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/®/g,"&reg;").replace(/©/g,"&copy;").replace(/™/g,"&trade;")}(d);var p=wt.getParentsNodes(l,s).some(function(b){return wt.getNodeType(b)==="pre"});if(p||(d=d.replace(/\r\n|\r|\n/g,"<br>")),p&&(d=d.replace(/&nbsp;/g," ")),d===""){var v=wt.getParentNode(null,s);if(!v||v.children.length!==0)return d;d="<br>"}return Zue.forEach(function(b){return d=b(s,d)}),d}(e,o)}function Vxe(e){return"w-e-element-"+e}Lue("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p=Sa(bg(this)),v=d===void 0?4294967295:d>>>0;if(v===0)return[];if(c===void 0)return[p];if(!Tue(c))return li(o,p,c,v);for(var b,S,x,T=[],E=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),k=0,F=new RegExp(c.source,E+"g");(b=li(gP,F,p))&&!((S=F.lastIndex)>k&&(DO(T,PB(p,k,b.index)),b.length>1&&b.index<p.length&&Iue(jxe,T,wae(b,1)),x=b[0].length,k=S,T.length>=v));)F.lastIndex===b.index&&F.lastIndex++;return k===p.length?!x&&pPe(F,"")||DO(T,""):DO(T,PB(p,k)),T.length>v?wae(T,0,v):T}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:li(o,this,c,d)}:o,[function(c,d){var p=bg(this),v=c==null?void 0:B4(c,e);return v?li(v,c,p,d):li(l,Sa(p),c,d)},function(c,d){var p=Cc(this),v=Sa(c),b=s(l,p,v,d,l!==o);if(b.done)return b.value;var S=Oxe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+($O?"g":"y"),E=new S($O?"^(?:"+p.source+")":p,T),k=d===void 0?4294967295:d>>>0;if(k===0)return[];if(v.length===0)return mP(E,v)===null?[v]:[];for(var F=0,N=0,$=[];N<v.length;){E.lastIndex=$O?0:N;var D,O=mP(E,$O?PB(v,N):v);if(O===null||(D=hPe(t_(E.lastIndex+($O?N:0)),v.length))===F)N=Hue(v,N,x);else{if(DO($,PB(v,F,N)),$.length===k)return $;for(var P=1;P<=O.length-1;P++)if(DO($,O[P]),$.length===k)return $;N=F=D}}return DO($,PB(v,F)),$}]},!!Pi(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),$O);var J1e=function(e,o){var s=(o.top+o.bottom)/2;return e.top<=s&&e.bottom>=s},Q1e=function(e,o,s){var l=wt.toDOMRange(e,o).getBoundingClientRect(),c=wt.toDOMRange(e,s).getBoundingClientRect();return J1e(l,c)&&J1e(c,l)},Uxe=["span","b","strong","i","em","s","strike","u","font","sub","sup"],Wxe=[];function gPe(e){Wxe.push(e)}var Que=[];function mPe(e){Que.push(e)}var WU={};function vPe(e){var o=e.selector,s=e.parseElemHtml;WU[o]=s}var bPe=Km.f,yPe=dP.f,wPe=Lf.enforce,CPe=$l("match"),ay=po.RegExp,n5=ay.prototype,SPe=po.SyntaxError,xPe=hr(Aue),EPe=hr(n5.exec),eV=hr("".charAt),eve=hr("".replace),tve=hr("".indexOf),kPe=hr("".slice),APe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,h4=/a/g,Koe=/a/g,TPe=new ay(h4)!==h4,qxe=kq.MISSED_STICKY,OPe=kq.UNSUPPORTED_Y,_Pe=Du&&(!TPe||qxe||Fue||Rue||Pi(function(){return Koe[CPe]=!1,ay(h4)!=h4||ay(Koe)==Koe||ay(h4,"i")!="/a/i"}));if(hP("RegExp",_Pe)){for(var Nw=function(e,o){var s,l,c,d,p,v,b=D4(n5,this),S=Tue(e),x=o===void 0,T=[],E=e;if(!b&&S&&x&&e.constructor===Nw)return e;if((S||D4(n5,e))&&(e=e.source,x&&(o="flags"in E?E.flags:xPe(E))),e=e===void 0?"":Sa(e),o=o===void 0?"":Sa(o),E=e,Fue&&"dotAll"in h4&&(l=!!o&&tve(o,"s")>-1)&&(o=eve(o,/s/g,"")),s=o,qxe&&"sticky"in h4&&(c=!!o&&tve(o,"y")>-1)&&OPe&&(o=eve(o,/y/g,"")),Rue&&(d=function(k){for(var F,N=k.length,$=0,D="",O=[],P={},I=!1,z=!1,K=0,j="";$<=N;$++){if((F=eV(k,$))==="\\")F+=eV(k,++$);else if(F==="]")I=!1;else if(!I)switch(!0){case F==="[":I=!0;break;case F==="(":EPe(APe,kPe(k,$+1))&&($+=2,z=!0),D+=F,K++;continue;case(F===">"&&z):if(j===""||wc(P,j))throw new SPe("Invalid capture group name");P[j]=!0,O[O.length]=[j,K],z=!1,j="";continue}z?j+=F:D+=F}return[D,O]}(e),e=d[0],T=d[1]),p=mxe(ay(e,o),b?this:n5,Nw),(l||c||T.length)&&(v=wPe(p),l&&(v.dotAll=!0,v.raw=Nw(function(k){for(var F,N=k.length,$=0,D="",O=!1;$<=N;$++)(F=eV(k,$))!=="\\"?O||F!=="."?(F==="["?O=!0:F==="]"&&(O=!1),D+=F):D+="[\\s\\S]":D+=F+eV(k,++$);return D}(e),s)),c&&(v.sticky=!0),T.length&&(v.groups=T)),e!==E)try{zm(p,"source",E===""?"(?:)":E)}catch{}return p},$Pe=function(e){e in Nw||bPe(Nw,e,{configurable:!0,get:function(){return ay[e]},set:function(o){ay[e]=o}})},nve=yPe(ay),ove=0;nve.length>ove;)$Pe(nve[ove++]);n5.constructor=Nw,Nw.prototype=n5,eh(po,"RegExp",Nw)}Gue("RegExp");var DPe=new RegExp(String.fromCharCode(160),"g");function Zxe(e){return e.replace(DPe," ")}function rve(e,o){var s=e.length;if(s){var l=e[s-1];if(Mo.isText(l)){var c=Object.keys(l);if(c.length===1&&c[0]==="text")return l.text=l.text+o,!0}}return!1}function BPe(e,o,s){return{type:"paragraph",children:[{text:_t(e).text().replace(/\s+/gm," ")}]}}function Yoe(e,o){var s=function(d,p){var v=[];if(d.attr("data-w-e-is-void")!=null)return v;var b=d[0].childNodes;return b.length===1&&b[0].nodeName==="BR"?(v.push({text:""}),v):(b.forEach(function(S){if(S.nodeType!==Hv.ELEMENT_NODE){if(S.nodeType===Hv.TEXT_NODE){var x=S.textContent||"";if(x.trim()===""&&x.indexOf(`
`)>=0)return;x&&(x=Zxe(x),rve(v,x)||v.push({text:x}))}}else{if(S.nodeName==="BR")return void(rve(v,`
`)||v.push({text:`
`}));var T=efe(_t(S),p);Array.isArray(T)?T.forEach(function(E){return v.push(E)}):v.push(T)}}),v)}(e,o),l=function(d){for(var p in WU)if(d[0].matches(p))return WU[p];return BPe}(e),c=l(e[0],s,o);return Array.isArray(c)||(c=[c]),c.forEach(function(d){ze.isVoid(o,d)||(s.length===0&&(d.children=[{text:e.text().replace(/\s+/gm," ")}]),Que.forEach(function(p){d=p(e[0],d,o)}))}),c}function Xoe(e,o){e.parents("pre").length===0&&(e[0].innerHTML=e[0].innerHTML.replace(/\s+/gm," ").replace(/<br>/g,`
`));var s=e[0].textContent||"";s=function(c){return c.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&reg;/g,"\xAE").replace(/&copy;/g,"\xA9").replace(/&trade;/g,"\u2122")}(s);var l={text:s=Zxe(s)};return Que.forEach(function(c){l=c(e[0],l,o)}),l}function efe(e,o){Wxe.forEach(function(l){var c=l.selector,d=l.preParseHtml;e[0].matches(c)&&(e=_t(d(e[0])))});var s=R1e(e);return s==="span"?e.attr("data-w-e-type")?Yoe(e,o):Xoe(e,o):s==="code"?R1e(e.parent())==="pre"?Yoe(e,o):Xoe(e,o):Uxe.includes(s)?Xoe(e,o):Yoe(e,o)}function Gxe(e,o,s){var l=_t(s);return!!l.attr(o)||(l.attr(o,"true"),e.on("destroyed",function(){l.removeAttr(o)}),!1)}function Kxe(e,o){o===void 0&&(o="");var s=[];o===""&&(o="<p><br></p>"),o.indexOf("<")!==0&&(o=o.split(/\n/).map(function(c){return"<p>"+c+"</p>"}).join(""));var l=_t("<div>"+o+"</div>");return Array.from(l.children()).forEach(function(c){var d=efe(_t(c),e);Array.isArray(d)?d.forEach(function(p){return s.push(p)}):s.push(d)}),s}var NPe=Km.f,sve=Aq.fastKey,ive=Lf.set,Joe=Lf.getterFor,PPe={getConstructor:function(e,o,s,l){var c=e(function(S,x){Tq(S,d),ive(S,{type:o,index:xq(null),first:void 0,last:void 0,size:0}),Du||(S.size=0),x!=null&&vP(x,S[l],{that:S,AS_ENTRIES:s})}),d=c.prototype,p=Joe(o),v=function(S,x,T){var E,k,F=p(S),N=b(S,x);return N?N.value=T:(F.last=N={index:k=sve(x,!0),key:x,value:T,previous:E=F.last,next:void 0,removed:!1},F.first||(F.first=N),E&&(E.next=N),Du?F.size++:S.size++,k!=="F"&&(F.index[k]=N)),S},b=function(S,x){var T,E=p(S),k=sve(x);if(k!=="F")return E.index[k];for(T=E.first;T;T=T.next)if(T.key==x)return T};return L5(d,{clear:function(){for(var S=p(this),x=S.index,T=S.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete x[T.index],T=T.next;S.first=S.last=void 0,Du?S.size=0:this.size=0},delete:function(S){var x=this,T=p(x),E=b(x,S);if(E){var k=E.next,F=E.previous;delete T.index[E.index],E.removed=!0,F&&(F.next=k),k&&(k.previous=F),T.first==E&&(T.first=k),T.last==E&&(T.last=F),Du?T.size--:x.size--}return!!E},forEach:function(S){for(var x,T=p(this),E=N4(S,arguments.length>1?arguments[1]:void 0);x=x?x.next:T.first;)for(E(x.value,x.key,this);x&&x.removed;)x=x.previous},has:function(S){return!!b(this,S)}}),L5(d,s?{get:function(S){var x=b(this,S);return x&&x.value},set:function(S,x){return v(this,S===0?0:S,x)}}:{add:function(S){return v(this,S=S===0?0:S,S)}}),Du&&NPe(d,"size",{get:function(){return p(this).size}}),c},setStrong:function(e,o,s){var l=o+" Iterator",c=Joe(o),d=Joe(l);Nue(e,o,function(p,v){ive(this,{type:l,target:p,state:c(p),kind:v,last:void 0})},function(){for(var p=d(this),v=p.kind,b=p.last;b&&b.removed;)b=b.previous;return p.target&&(p.last=b=b?b.next:p.state.first)?v=="keys"?{value:b.key,done:!1}:v=="values"?{value:b.value,done:!1}:{value:[b.key,b.value],done:!1}:(p.target=void 0,{value:void 0,done:!0})},s?"entries":"values",!s,!0),Gue(o)}};vxe("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},PPe);var Yxe=new Set(["doctype","!doctype","meta","script","style","link","frame","iframe","title","svg"]);function ave(e,o){e.isInline(o)?(e.insertNode(o),o.type==="link"&&e.insertFragment([{text:""}])):Qt.insertNodes(e,o,{mode:"highest"})}var FPe=function(e){var o=e,s=o.onChange,l=o.insertText,c=o.apply,d=o.deleteBackward;return o.insertText=function(p){o.getConfig().readOnly||l(p)},o.apply=function(p){var v,b,S,x,T,E,k,F,N=[];switch(p.type){case"insert_text":case"remove_text":case"set_node":try{for(var $=lg(ze.levels(o,{at:p.path})),D=$.next();!D.done;D=$.next()){var O=ai(D.value,2),P=O[0],I=O[1],z=wt.findKey(o,P);N.push([I,z])}}catch(ve){v={error:ve}}finally{try{D&&!D.done&&(b=$.return)&&b.call($)}finally{if(v)throw v.error}}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":try{for(var K=lg(ze.levels(o,{at:Ht.parent(p.path)})),j=K.next();!j.done;j=K.next()){var oe=ai(j.value,2);P=oe[0],I=oe[1],z=wt.findKey(o,P),N.push([I,z])}}catch(ve){S={error:ve}}finally{try{j&&!j.done&&(x=K.return)&&x.call(K)}finally{if(S)throw S.error}}break;case"move_node":try{for(var xe=lg(ze.levels(o,{at:Ht.common(Ht.parent(p.path),Ht.parent(p.newPath))})),se=xe.next();!se.done;se=xe.next()){var Q=ai(se.value,2);P=Q[0],I=Q[1],z=wt.findKey(o,P),N.push([I,z])}}catch(ve){T={error:ve}}finally{try{se&&!se.done&&(E=xe.return)&&E.call(xe)}finally{if(T)throw T.error}}}c(p);try{for(var G=lg(N),ce=G.next();!ce.done;ce=G.next()){var he=ai(ce.value,2);I=he[0],z=he[1],P=ai(ze.node(o,I),1)[0],JV.set(P,z)}}catch(ve){k={error:ve}}finally{try{ce&&!ce.done&&(F=G.return)&&F.call(G)}finally{if(k)throw k.error}}},o.deleteBackward=function(p){if(p!=="line")return d(p);if(e.selection&&gn.isCollapsed(e.selection)){var v=ze.above(e,{match:function(T){return ze.isBlock(e,T)},at:e.selection});if(v){var b=ai(v,2)[1],S=ze.range(e,b,e.selection.anchor),x=function(T,E){var k=ze.range(T,gn.end(E)),F=Array.from(ze.positions(T,{at:E})),N=0,$=F.length,D=Math.floor($/2);if(Q1e(T,ze.range(T,F[N]),k))return ze.range(T,F[N],k);if(F.length<2)return ze.range(T,F[F.length-1],k);for(;D!==F.length&&D!==N;)Q1e(T,ze.range(T,F[D]),k)?$=D:N=D,D=Math.floor((N+$)/2);return ze.range(T,F[$],k)}(o,S);gn.isCollapsed(x)||Qt.delete(e,{at:x})}}},o.onChange=function(){var p=o.selection;p!=null&&kae.set(o,p),o.emit("change"),s()},o.handleTab=function(){o.insertText("    ")},o.getHtml=function(){var p=o.children;return(p===void 0?[]:p).map(function(v){return zxe(v,o)}).join("")},o.getText=function(){var p=o.children;return(p===void 0?[]:p).map(function(v){return wo.string(v)}).join(`
`)},o.getSelectionText=function(){var p=o.selection;return p==null?"":ze.string(e,p)},o.getElemsByType=function(p,v){var b,S;v===void 0&&(v=!1);var x=[],T=ze.nodes(o,{at:[],universal:!0});try{for(var E=lg(T),k=E.next();!k.done;k=E.next()){var F=ai(k.value,1)[0];if(ar.isElement(F)&&(v?F.type.indexOf(p)>=0:F.type===p)){var N=Vxe(wt.findKey(o,F).id);x.push(dg(dg({},F),{id:N}))}}}catch($){b={error:$}}finally{try{k&&!k.done&&(S=E.return)&&S.call(E)}finally{if(b)throw b.error}}return x},o.getElemsByTypePrefix=function(p){return o.getElemsByType(p,!0)},o.isEmpty=function(){var p=o.children,v=p===void 0?[]:p;if(v.length>1)return!1;var b=v[0];if(b==null)return!0;if(ar.isElement(b)&&b.type==="paragraph"){var S=b.children,x=S===void 0?[]:S;if(x.length>1)return!1;var T=x[0];if(T==null||Mo.isText(T)&&T.text==="")return!0}return!1},o.clear=function(){Qt.removeNodes(o,{at:{anchor:ze.start(o,[]),focus:ze.end(o,[])},mode:"highest"}),o.children.length===0&&Qt.insertNodes(o,[{type:"paragraph",children:[{text:""}]}])},o.getParentNode=function(p){return wt.getParentNode(o,p)},o.dangerouslyInsertHtml=function(p,v){if(p===void 0&&(p=""),v===void 0&&(v=!1),p){var b=document.createElement("div");b.innerHTML=p;var S=Array.from(b.childNodes);if(S=S.filter(function(k){var F=k.nodeType,N=k.nodeName;return F===Hv.TEXT_NODE||F===Hv.ELEMENT_NODE&&!Yxe.has(N.toLowerCase())}),S.length!==0){var x=o.selection;if(x!=null){var T=null;wt.isSelectedEmptyParagraph(o)&&!v&&(T=[x.focus.path[0]]),b.setAttribute("hidden","true"),document.body.appendChild(b);var E=0;S.forEach(function(k){var F=k.nodeType,N=k.nodeName,$=k.textContent,D=$===void 0?"":$;if(F!==Hv.TEXT_NODE)if(N!=="BR"){var O=k,P=!1;if(Uxe.includes(N.toLowerCase()))P=!0;else for(var I in WU)if(O.matches(I)){P=!0;break}if(P){var z=efe(_t(O),o);return Array.isArray(z)?(z.forEach(function(j){return ave(o,j)}),E++):(ave(o,z),E++),void(wt.isSelectedVoidNode(o)&&o.move(1))}var K=window.getComputedStyle(O).display;wt.isSelectedEmptyParagraph(o)||K.indexOf("inline")<0&&o.insertBreak(),o.dangerouslyInsertHtml(O.innerHTML,!0)}else o.insertText(`
`);else{if(!D||!D.trim())return;o.insertNode({text:D})}}),E&&T&&wt.isEmptyPath(o,T)&&Qt.removeNodes(o,{at:T}),b.remove()}}}},o.setHtml=function(p){p===void 0&&(p="");var v=o.isDisabled(),b=o.isFocused(),S=JSON.stringify(o.selection);o.enable(),o.focus(),o.clear();var x=Kxe(o,p);if(Qt.insertFragment(o,x),b||(o.deselect(),o.blur()),v&&(o.deselect(),o.disable()),o.isFocused())try{o.select(JSON.parse(S))}catch{o.select(ze.start(o,[]))}},o},RPe=function(e){var o=e,s=o.insertText;return o.insertFragment,o.setFragmentData=function(l){var c=o.selection;if(c){var d=ai(gn.edges(c),2),p=d[0],v=d[1],b=ze.void(o,{at:p.path}),S=ze.void(o,{at:v.path});if(!gn.isCollapsed(c)||b){var x=wt.toDOMRange(o,c),T=x.cloneContents(),E=T.childNodes[0];if(T.childNodes.forEach(function(z){z.textContent&&z.textContent.trim()!==""&&(E=z)}),S){var k=ai(S,1)[0],F=x.cloneRange(),N=wt.toDOMNode(o,k);F.setEndAfter(N),T=F.cloneContents()}if(b&&(E=T.querySelector("[data-slate-spacer]")),Array.from(T.querySelectorAll("[data-slate-zero-width]")).forEach(function(z){var K=z.getAttribute("data-slate-zero-width")==="n";z.textContent=K?`
`:""}),xxe(E)){var $=E.ownerDocument.createElement("span");$.style.whiteSpace="pre",$.appendChild(E),T.appendChild($),E=$}var D=o.getFragment(),O=JSON.stringify(D),P=window.btoa(encodeURIComponent(O));E.setAttribute("data-slate-fragment",P),l.setData("application/x-slate-fragment",P);var I=T.ownerDocument.createElement("div");return I.appendChild(T),I.setAttribute("hidden","true"),T.ownerDocument.body.appendChild(I),l.setData("text/html",I.innerHTML),l.setData("text/plain",NNe(I)),T.ownerDocument.body.removeChild(I),l}}},o.insertData=function(l){var c,d,p=l.getData("application/x-slate-fragment");if(p){var v=decodeURIComponent(window.atob(p)),b=JSON.parse(v);o.insertFragment(b)}else{var S=l.getData("text/plain"),x=l.getData("text/html");if(x)o.dangerouslyInsertHtml(x);else if(S){var T=S.split(/\r\n|\r|\n/),E=!1;try{for(var k=lg(T),F=k.next();!F.done;F=k.next()){var N=F.value;E&&Qt.splitNodes(o,{always:!0}),s(N),E=!0}}catch($){c={error:$}}finally{try{F&&!F.done&&(d=k.return)&&d.call(k)}finally{if(c)throw c.error}}}}},o},_N=function(e){return e!=null},MPe={object:!0,function:!0,undefined:!0},IPe=function(e){if(!function(o){return!!_N(o)&&hasOwnProperty.call(MPe,typeof o)}(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch{return!1}},LPe=/^\s*class[\s{/}]/,HPe=Function.prototype.toString,lve=function(e){return!!function(o){if(typeof o!="function"||!hasOwnProperty.call(o,"length"))return!1;try{if(typeof o.length!="number"||typeof o.call!="function"||typeof o.apply!="function")return!1}catch{return!1}return!IPe(o)}(e)&&!LPe.test(HPe.call(e))},tfe=function(e){return e!=null},jPe=Object.keys,zPe=function(){try{return Object.keys("primitive"),!0}catch{return!1}}()?Object.keys:function(e){return jPe(tfe(e)?Object(e):e)},VPe=function(e){if(!tfe(e))throw new TypeError("Cannot use null or undefined");return e},UPe=Math.max,cve=function(){var e,o=Object.assign;return typeof o=="function"&&(o(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}()?Object.assign:function(e,o){var s,l,c,d=UPe(arguments.length,2);for(e=Object(VPe(e)),c=function(p){try{e[p]=o[p]}catch(v){s||(s=v)}},l=1;l<d;++l)zPe(o=arguments[l]).forEach(c);if(s!==void 0)throw s;return e},WPe=Array.prototype.forEach,qPe=Object.create,ZPe=function(e,o){var s;for(s in e)o[s]=e[s]},uve=function(e){var o=qPe(null);return WPe.call(arguments,function(s){tfe(s)&&ZPe(Object(s),o)}),o},Qoe="razdwatrzy",GPe=String.prototype.indexOf,FB=typeof Qoe.contains=="function"&&Qoe.contains("dwa")===!0&&Qoe.contains("foo")===!1?String.prototype.contains:function(e){return GPe.call(this,e,arguments[1])>-1},tV=nF(function(e){var o=e.exports=function(s,l){var c,d,p,v,b;return arguments.length<2||typeof s!="string"?(v=l,l=s,s=null):v=arguments[2],_N(s)?(c=FB.call(s,"c"),d=FB.call(s,"e"),p=FB.call(s,"w")):(c=p=!0,d=!1),b={value:l,configurable:c,enumerable:d,writable:p},v?cve(uve(v),b):b};o.gs=function(s,l,c){var d,p,v,b;return typeof s!="string"?(v=c,c=l,l=s,s=null):v=arguments[3],_N(l)?lve(l)?_N(c)?lve(c)||(v=c,c=void 0):c=void 0:(v=l,l=c=void 0):l=void 0,_N(s)?(d=FB.call(s,"c"),p=FB.call(s,"e")):(d=!0,p=!1),b={get:l,set:c,configurable:d,enumerable:p},v?cve(uve(v),b):b}}),ere=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e},KPe=nF(function(e,o){var s,l,c,d,p,v,b,S=Function.prototype.apply,x=Function.prototype.call,T=Object.create,E=Object.defineProperty,k=Object.defineProperties,F=Object.prototype.hasOwnProperty,N={configurable:!0,enumerable:!1,writable:!0};s=function($,D){var O;return ere(D),F.call(this,"__ee__")?O=this.__ee__:(O=N.value=T(null),E(this,"__ee__",N),N.value=null),O[$]?typeof O[$]=="object"?O[$].push(D):O[$]=[O[$],D]:O[$]=D,this},l=function($,D){var O,P;return ere(D),P=this,s.call(this,$,O=function(){c.call(P,$,O),S.call(D,this,arguments)}),O.__eeOnceListener__=D,this},c=function($,D){var O,P,I,z;if(ere(D),!F.call(this,"__ee__"))return this;if(!(O=this.__ee__)[$])return this;if(typeof(P=O[$])=="object")for(z=0;I=P[z];++z)I!==D&&I.__eeOnceListener__!==D||(P.length===2?O[$]=P[z?0:1]:P.splice(z,1));else P!==D&&P.__eeOnceListener__!==D||delete O[$];return this},d=function($){var D,O,P,I,z;if(F.call(this,"__ee__")&&(I=this.__ee__[$]))if(typeof I=="object"){for(O=arguments.length,z=new Array(O-1),D=1;D<O;++D)z[D-1]=arguments[D];for(I=I.slice(),D=0;P=I[D];++D)S.call(P,this,z)}else switch(arguments.length){case 1:x.call(I,this);break;case 2:x.call(I,this,arguments[1]);break;case 3:x.call(I,this,arguments[1],arguments[2]);break;default:for(O=arguments.length,z=new Array(O-1),D=1;D<O;++D)z[D-1]=arguments[D];S.call(I,this,z)}},p={on:s,once:l,off:c,emit:d},v={on:tV(s),once:tV(l),off:tV(c),emit:tV(d)},b=k({},v),e.exports=o=function($){return $==null?T(b):k(Object($),v)},o.methods=p});function nV(e){var o=N1e.get(e);return o==null&&(o=KPe(),N1e.set(e,o)),o}var qU=new WeakMap;function fve(e,o){var s=qU.get(e);s==null&&(s=new Set,qU.set(e,s)),s.add(o)}function YPe(e){return qU.get(e)||new Set}function XPe(e){qU.set(e,new Set)}function nfe(e){var o=wt.getTextarea(e).$textAreaContainer,s=o.width(),l=o.height(),c=o.offset();return{top:c.top,left:c.left,width:s,height:l}}function ofe(e){var o={top:"0",left:"0"},s=e.selection;if(s==null)return o;var l=nfe(e);if(l==null)return o;var c=l.top,d=l.left,p=l.width,v=l.height,b=wt.toDOMRange(e,s).getClientRects()[0];if(b==null)return o;b.width;var S=b.height,x={},T=b.top-c,E=b.left-d;if(E>p/2){var k=p-E;x.right=k+5+"px"}else x.left=E+5+"px";if(T>v/2){var F=v-T;x.bottom=F+5+"px"}else{var N=T+S;N<0&&(N=0),x.top=N+5+"px"}return x}function rfe(e,o,s){s===void 0&&(s="modal");var l={top:"0",left:"0"};if(e.selection==null)return l;var c=ar.isElement(o)&&e.isVoid(o),d=ar.isElement(o)&&e.isInline(o),p=$q.get(o);if(p==null)return l;var v=p.getBoundingClientRect(),b=v.top,S=v.left,x=v.height,T=v.width;if(c){var E=function(j){var oe=[];oe.push(j);for(var xe=0;oe.length>0;){var se=oe.pop();if(se==null||++xe>1e4)break;var Q=se.nodeName;if(se.nodeType===1){var G=Q.toLowerCase();if(DNe.includes(G)||G==="iframe"||G==="video")return se;var ce=se.children||[],he=ce.length;if(he)for(var ve=he-1;ve>=0;ve--)oe.push(ce[ve])}}return null}(p);if(E!=null){var k=E.getBoundingClientRect();b=k.top,x=k.height}}var F=nfe(e);if(F==null)return l;var N=F.top,$=F.left,D=F.width,O=F.height,P={},I=b-N,z=S-$;if(s==="bar")return P.left=z+"px",I>40?P.bottom=O-I+5+"px":P.top=I+x+5+"px",P;if(s==="modal"){var K;return c?d?z>(D-T)/2?P.right=D-z+5+"px":P.left=z+T+5+"px":P.left="20px":P.left=z+"px",c?((K=I)<0&&(K=0),P.top=K+"px"):I>(O-x)/2?P.bottom=O-I+5+"px":((K=I+x)<0&&(K=0),P.top=K+5+"px"),P}throw new Error("type '"+s+"' is invalid")}function Pae(e,o){yg(function(){var s=nfe(e);if(s!=null){var l,c=s.top,d=s.left,p=s.width,v=s.height,b=o.offset(),S=b.top,x=b.left,T=o.width(),E=o.height(),k=S-c,F=x-d,N=o.attr("style");if(N.indexOf("top")>=0&&(l=k+E-v)>0){var $=o.css("top"),D=parseInt($.toString())-l;D<0&&(D=0),o.css("top",D+"px")}if(N.indexOf("bottom")>=0&&S<0){var O=o.css("bottom"),P=parseInt(O.toString())-Math.abs(S);o.css("bottom",P+"px")}if(N.indexOf("left")>=0&&(l=F+T-p)>0){var I=o.css("left"),z=parseInt(I.toString())-l;z<0&&(z=0),o.css("left",z+"px")}if(N.indexOf("right")>=0&&x<0){var K=o.css("right"),j=parseInt(K.toString())-Math.abs(x);o.css("right",j+"px")}}})}var JPe=Eq("slice"),QPe=$l("species"),tre=po.Array,eFe=Math.max;Ol({target:"Array",proto:!0,forced:!JPe},{slice:function(e,o){var s,l,c,d=BC(this),p=G4(d),v=R5(e,p),b=R5(o===void 0?p:o,p);if(MU(d)&&(s=d.constructor,(Sq(s)&&(s===tre||MU(s.prototype))||Pa(s)&&(s=s[QPe])===null)&&(s=void 0),s===tre||s===void 0))return _xe(d,v,b);for(l=new(s===void 0?tre:s)(eFe(b-v,0)),c=0;v<b;v++,c++)v in d&&pP(l,c,d[v]);return l.length=c,l}});var tFe=rF.f,dve=hr("".startsWith),nFe=hr("".slice),oFe=Math.min,Xxe=_ue("startsWith"),rFe=!Xxe&&!!function(){var e=tFe(String.prototype,"startsWith");return e&&!e.writable}();Ol({target:"String",proto:!0,forced:!rFe&&!Xxe},{startsWith:function(e){var o=Sa(bg(this));Oue(e);var s=t_(oFe(arguments.length>1?arguments[1]:void 0,o.length)),l=Sa(e);return dve?dve(o,l,s):nFe(o,s,s+l.length)===l}});var BO=Object.assign,hve=Object.defineProperty,sFe=hr([].concat),pve=!BO||Pi(function(){if(Du&&BO({b:1},BO(hve({},"a",{enumerable:!0,get:function(){hve(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},o={},s=Symbol(),l="abcdefghijklmnopqrst";return e[s]=7,l.split("").forEach(function(c){o[c]=c}),BO({},e)[s]!=7||h5(BO({},o)).join("")!=l})?function(e,o){for(var s=DC(e),l=arguments.length,c=1,d=sxe.f,p=nxe.f;l>c;)for(var v,b=Cq(arguments[c++]),S=d?sFe(h5(b),d(b)):h5(b),x=S.length,T=0;x>T;)v=S[T++],Du&&!li(p,b,v)||(s[v]=b[v]);return s}:BO;Ol({target:"Object",stat:!0,forced:Object.assign!==pve},{assign:pve});var iFe=["props","attrs","style","dataset","on","hook"];function Jxe(e){var o=e.data,s=o===void 0?{}:o,l=e.children,c=l===void 0?[]:l;Object.keys(s).forEach(function(d){var p,v,b=s[d];if(d!=="key"){if(!iFe.includes(d)){if(d.startsWith("data-")){var S=d.slice(5);return S=BDe(S),function(x,T){x.data==null&&(x.data={});var E=x.data;E.dataset==null&&(E.dataset={}),Object.assign(E.dataset,T)}(e,((p={})[S]=b,p)),void delete s[d]}(function(x,T){x.data==null&&(x.data={});var E=x.data;E.props==null&&(E.props={}),Object.assign(E.props,T)})(e,(v={},v[d]=b,v)),delete s[d]}}else e.key=b}),c.length>0&&c.forEach(function(d){typeof d!="string"&&Jxe(d)})}var sfe=[];function aFe(e){sfe.push(e)}var Qxe={};function lFe(e){var o=e.type,s=e.renderElem;Qxe[o||""]=s}function cFe(e,o,s){var l=s.isInline(e)?"span":"div";return is(l,null,o)}function uFe(e,o){var s,l=wt.findKey(o,e),c=o.isInline(e),d=ze.isVoid(o,e),p=Vxe(l.id),v={id:p,key:l.id,"data-slate-node":"element","data-slate-inline":c},b=e.type,S=e.children,x=S===void 0?[]:S,T=function(O){return Qxe[O]||cFe}(b);s=d?null:x.map(function(O,P){return Fae(O,P,e,o)});var E=T(e,s,o);if(d){v["data-slate-void"]=!0;var k=c?"span":"div",F=ai(wo.texts(e),1),N=ai(F[0],1)[0],$=Fae(N,0,e,o),D=is(k,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},$);E=is(k,{style:{position:"relative"}},E,D),bP.set(N,0),H5.set(N,e)}return E.data==null&&(E.data={}),Object.assign(E.data,v),d||c||(E=function(O,P){var I=P;return sfe.forEach(function(z){I=z(O,P)}),I}(e,E)),yg(function(){var O=que(p);O!=null&&(Uue.set(l,O),$q.set(e,O),_q.set(O,e))}),E}function gve(e,o){return o===void 0&&(o=!1),is("span",{"data-slate-string":!0},o?e+`
`:e)}function nre(e,o){return e===void 0&&(e=0),o===void 0&&(o=!1),is("span",{"data-slate-zero-width":o?"n":"z","data-slate-length":e},"\uFEFF",o?is("br",null):null)}function fFe(e,o,s){if(e.text==null)throw new Error("Current node is not slate Text "+JSON.stringify(e));var l=wt.findKey(s,e),c=s.getConfig().decorate;if(c==null)throw new Error("Can not get config.decorate");var d=wt.findPath(s,e),p=c([e,d]),v=Mo.decorations(e,p),b=v.map(function(T,E){var k=function(F,N,$,D,O){N===void 0&&(N=!1);var P=F.text,I=wt.findPath(O,$),z=Ht.parent(I);if(ze.isEditor(D))throw new Error("Text node "+JSON.stringify($)+" parent is Editor");return O.isVoid(D)?nre(wo.string(D).length):P!==""||D.children[D.children.length-1]!==$||O.isInline(D)||ze.string(O,z)!==""?P===""?nre():N&&P.slice(-1)===`
`?gve(P,!0):gve(P):nre(0,!0)}(T,E===v.length-1,e,o,s);return k=function(F,N){var $=N;return sfe.forEach(function(D){$=D(F,$)}),$}(T,k),is("span",{"data-slate-leaf":!0},k)}),S=function(T){return"w-e-text-"+T}(l.id),x=is("span",{"data-slate-node":"text",id:S,key:l.id},b);return yg(function(){var T=que(S);T!=null&&(Uue.set(l,T),$q.set(e,T),_q.set(T,e))}),x}function Fae(e,o,s,l){return bP.set(e,o),H5.set(e,s),ar.isElement(e)?uFe(e,l):fFe(e,s,l)}function dFe(e,o){var s,l=e.$scroll,c=function(N){return"w-e-textarea-"+N}(e.id),d=o.getConfig(),p=d.readOnly,v=d.autoFocus,b=function(N,$){return $===void 0&&($=!1),F5("div#"+N,{props:{contentEditable:!$}})}(c,p),S=o.children||[];b.children=S.map(function(N,$){var D=Fae(N,$,o,o);return Jxe(D),D});var x=$1e.get(e);if(x==null&&(x=!0),x){var T=function(N,$){return _t(`<div
        id="`+N+`"
        data-slate-editor
        data-slate-node="value"
        suppressContentEditableWarning
        role="textarea"
        spellCheck="true"
        autoCorrect="true"
        autoCapitalize="true"
    ></div>`)}(c);l.append(T),e.$textArea=T,s=T[0],(k=C$e([A$e,D$e,M$e,T$e,$$e,k$e]))(s,b),$1e.set(e,!1),D1e.set(e,k)}else{var E=B1e.get(e),k=D1e.get(e);if(E==null||k==null)return;s=E.elm,k(E,b)}if(s!=null||(s=que(c))!=null){if((x?v:o.isFocused())&&s.focus({preventScroll:!0}),x){var F=Wue(s);F&&Sxe.set(o,F)}Vue.set(o,s),$q.set(o,s),_q.set(s,o),B1e.set(e,b)}}function mve(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function vve(e,o){return(!o||e!=="hidden")&&e!=="visible"&&e!=="clip"}function ore(e,o){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var s=getComputedStyle(e,null);return vve(s.overflowY,o)||vve(s.overflowX,o)||function(l){var c=function(d){if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}}(l);return!!c&&(c.clientHeight<l.scrollHeight||c.clientWidth<l.scrollWidth)}(e)}return!1}function oV(e,o,s,l,c,d,p,v){return d<e&&p>o||d>e&&p<o?0:d<=e&&v<=s||p>=o&&v>=s?d-e-l:p>o&&v<s||d<e&&v>s?p-o+c:0}function bve(e,o){var s=window,l=o.scrollMode,c=o.block,d=o.inline,p=o.boundary,v=o.skipOverflowHiddenElements,b=typeof p=="function"?p:function(We){return We!==p};if(!mve(e))throw new TypeError("Invalid target");for(var S=document.scrollingElement||document.documentElement,x=[],T=e;mve(T)&&b(T);){if((T=T.parentElement)===S){x.push(T);break}T!=null&&T===document.body&&ore(T)&&!ore(document.documentElement)||T!=null&&ore(T,v)&&x.push(T)}for(var E=s.visualViewport?s.visualViewport.width:innerWidth,k=s.visualViewport?s.visualViewport.height:innerHeight,F=window.scrollX||pageXOffset,N=window.scrollY||pageYOffset,$=e.getBoundingClientRect(),D=$.height,O=$.width,P=$.top,I=$.right,z=$.bottom,K=$.left,j=c==="start"||c==="nearest"?P:c==="end"?z:P+D/2,oe=d==="center"?K+O/2:d==="end"?I:K,xe=[],se=0;se<x.length;se++){var Q=x[se],G=Q.getBoundingClientRect(),ce=G.height,he=G.width,ve=G.top,qe=G.right,U=G.bottom,Fe=G.left;if(l==="if-needed"&&P>=0&&K>=0&&z<=k&&I<=E&&P>=ve&&z<=U&&K>=Fe&&I<=qe)return xe;var De=getComputedStyle(Q),Se=parseInt(De.borderLeftWidth,10),re=parseInt(De.borderTopWidth,10),le=parseInt(De.borderRightWidth,10),fe=parseInt(De.borderBottomWidth,10),ue=0,Be=0,Ce="offsetWidth"in Q?Q.offsetWidth-Q.clientWidth-Se-le:0,me="offsetHeight"in Q?Q.offsetHeight-Q.clientHeight-re-fe:0;if(S===Q)ue=c==="start"?j:c==="end"?j-k:c==="nearest"?oV(N,N+k,k,re,fe,N+j,N+j+D,D):j-k/2,Be=d==="start"?oe:d==="center"?oe-E/2:d==="end"?oe-E:oV(F,F+E,E,Se,le,F+oe,F+oe+O,O),ue=Math.max(0,ue+N),Be=Math.max(0,Be+F);else{ue=c==="start"?j-ve-re:c==="end"?j-U+fe+me:c==="nearest"?oV(ve,U,ce,re,fe+me,j,j+D,D):j-(ve+ce/2)+me/2,Be=d==="start"?oe-Fe-Se:d==="center"?oe-(Fe+he/2)+Ce/2:d==="end"?oe-qe+le+Ce:oV(Fe,qe,he,Se,le+Ce,oe,oe+O,O);var q=Q.scrollLeft,Ze=Q.scrollTop;j+=Ze-(ue=Math.max(0,Math.min(Ze+ue,Q.scrollHeight-ce+me))),oe+=q-(Be=Math.max(0,Math.min(q+Be,Q.scrollWidth-he+Ce)))}xe.push({el:Q,top:ue,left:Be})}return xe}function yve(e){return e===Object(e)&&Object.keys(e).length!==0}function hFe(e,o){var s=!e.ownerDocument.documentElement.contains(e);if(yve(o)&&typeof o.behavior=="function")return o.behavior(s?[]:bve(e,o));if(!s){var l=function(c){return c===!1?{block:"end",inline:"nearest"}:yve(c)?c:{block:"start",inline:"nearest"}}(o);return function(c,d){d===void 0&&(d="auto");var p="scrollBehavior"in document.body.style;c.forEach(function(v){var b=v.el,S=v.top,x=v.left;b.scroll&&p?b.scroll({top:S,left:x,behavior:d}):(b.scrollTop=S,b.scrollLeft=x)})}(bve(e,l),l.behavior)}}function sg(e,o){return P4(o)&&wt.hasDOMNode(e,o,{editable:!0})}function wve(e,o){if(e.getConfig().readOnly)return!1;var s=o5(e,o)&&wt.toSlateNode(e,o);return ze.isVoid(e,s)}function o5(e,o){return P4(o)&&wt.hasDOMNode(e,o)}function eEe(e,o,s){s===void 0&&(s=!1);var l=o.selection,c=o.getConfig(),d=wt.findDocumentOrShadowRoot(o).getSelection();if(d&&(!e.isComposing||s)&&o.isFocused()){var p=d.type!=="None";if(l||p){var v=Vue.get(o),b=!1;if(v.contains(d.anchorNode)&&v.contains(d.focusNode)&&(b=!0),p&&b&&l){var S=wt.toSlateRange(o,d,{exactMatch:!0,suppressThrow:!0});if(S&&gn.equals(S,l)){var x=!0;if(gn.isCollapsed(l)){var T=d.anchorNode,E=d.anchorOffset;if(T===v){var k=v.childNodes,F=void 0;(F=k[E])&&F.matches("table")&&(x=!1),(F=k[E-1])&&F.matches("table")&&(x=!1)}}if(x)return}}if(!l||wt.hasRange(o,l)){e.isUpdatingSelection=!0;var N=l&&wt.toDOMRange(o,l);if(N){gn.isBackward(l)?d.setBaseAndExtent(N.endContainer,N.endOffset,N.startContainer,N.startOffset):d.setBaseAndExtent(N.startContainer,N.startOffset,N.endContainer,N.endOffset);var $=N.startContainer.parentElement;if(!$.closest("[data-slate-spacer]")){$.getBoundingClientRect=N.getBoundingClientRect.bind(N);var D=document.body;hFe($,{scrollMode:"if-needed",boundary:c.scroll?v.parentElement:D,block:"end",behavior:"smooth"}),delete $.getBoundingClientRect}}else d.removeAllRanges();setTimeout(function(){N&&HN&&v.focus(),e.isUpdatingSelection=!1})}else o.selection=wt.toSlateRange(o,d,{exactMatch:!1,suppressThrow:!1})}}}var rre=new WeakMap,Cve=new WeakMap,pFe={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",tab:"tab",selectAll:"mod+a"},gFe={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},mFe={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},cl=function(e){var o=pFe[e],s=gFe[e],l=mFe[e],c=o&&roe(o),d=s&&roe(s),p=l&&roe(l);return function(v){return!(!c||!c(v))||!!(Aae&&d&&d(v))||!(Aae||!p||!p(v))}},kl={isBold:cl("bold"),isCompose:cl("compose"),isMoveBackward:cl("moveBackward"),isMoveForward:cl("moveForward"),isDeleteBackward:cl("deleteBackward"),isDeleteForward:cl("deleteForward"),isDeleteLineBackward:cl("deleteLineBackward"),isDeleteLineForward:cl("deleteLineForward"),isDeleteWordBackward:cl("deleteWordBackward"),isDeleteWordForward:cl("deleteWordForward"),isExtendBackward:cl("extendBackward"),isExtendForward:cl("extendForward"),isExtendLineBackward:cl("extendLineBackward"),isExtendLineForward:cl("extendLineForward"),isItalic:cl("italic"),isMoveLineBackward:cl("moveLineBackward"),isMoveLineForward:cl("moveLineForward"),isMoveWordBackward:cl("moveWordBackward"),isMoveWordForward:cl("moveWordForward"),isRedo:cl("redo"),isSplitBlock:cl("splitBlock"),isTransposeCharacter:cl("transposeCharacter"),isUndo:cl("undo"),isTab:cl("tab"),isSelectAll:cl("selectAll")};function Rc(e){e.preventDefault()}var vFe={beforeinput:function(e,o,s){var l=e,c=s.getConfig().readOnly;if(DB&&!c&&sg(s,l.target)){var d=s.selection,p=l.inputType,v=l.dataTransfer||l.data||void 0;if(p!=="insertCompositionText"&&p!=="deleteCompositionText"){if(l.preventDefault(),!p.startsWith("delete")||p.startsWith("deleteBy")){var b=ai(l.getTargetRanges(),1)[0];if(b){var S=wt.toSlateRange(s,b,{exactMatch:!1,suppressThrow:!1});d&&gn.equals(d,S)||Qt.select(s,S)}}if(d&&gn.isExpanded(d)&&p.startsWith("delete")){var x=p.endsWith("Backward")?"backward":"forward";ze.deleteFragment(s,{direction:x})}else switch(p){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":ze.deleteFragment(s);break;case"deleteContent":case"deleteContentForward":ze.deleteForward(s);break;case"deleteContentBackward":ze.deleteBackward(s);break;case"deleteEntireSoftLine":ze.deleteBackward(s,{unit:"line"}),ze.deleteForward(s,{unit:"line"});break;case"deleteHardLineBackward":ze.deleteBackward(s,{unit:"block"});break;case"deleteSoftLineBackward":ze.deleteBackward(s,{unit:"line"});break;case"deleteHardLineForward":ze.deleteForward(s,{unit:"block"});break;case"deleteSoftLineForward":ze.deleteForward(s,{unit:"line"});break;case"deleteWordBackward":ze.deleteBackward(s,{unit:"word"});break;case"deleteWordForward":ze.deleteForward(s,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":ze.insertBreak(s);break;case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if(p==="insertFromPaste"&&!Ioe.get(s))break;v instanceof DataTransfer?s.insertData(v):typeof v=="string"&&ze.insertText(s,v)}}}},blur:function(e,o,s){var l=e,c=o.isUpdatingSelection,d=o.latestElement;if(!s.getConfig().readOnly&&!c&&sg(s,l.target)){var p=wt.findDocumentOrShadowRoot(s);if(d!==p.activeElement){var v=l.relatedTarget;if(!(v===wt.toDOMNode(s,s)||Mm(v)&&v.hasAttribute("data-slate-spacer"))){if(v!=null&&P4(v)&&wt.hasDOMNode(s,v)){var b=wt.toSlateNode(s,v);if(ar.isElement(b)&&!s.isVoid(b))return}if($B){var S=p.getSelection();S==null||S.removeAllRanges()}d4.delete(s)}}}},focus:function(e,o,s){var l=wt.toDOMNode(s,s),c=wt.findDocumentOrShadowRoot(s);o.latestElement=c.activeElement,HN&&e.target!==l?l.focus():d4.set(s,!0)},click:function(e,o,s){if(!s.getConfig().readOnly&&o5(s,e.target)&&P4(e.target)){var l=wt.toSlateNode(s,e.target),c=wt.findPath(s,l);if(ze.hasPath(s,c)&&wo.get(s,c)===l){var d=ze.start(s,c),p=ze.end(s,c),v=ze.void(s,{at:d}),b=ze.void(s,{at:p});if(v&&b&&Ht.equals(v[1],b[1])){var S=ze.range(s,d);Qt.select(s,S)}}}},compositionstart:function(e,o,s){if(sg(s,e.target)){var l=s.selection;if(l&&gn.isExpanded(l)&&(ze.deleteFragment(s),Promise.resolve().then(function(){eEe(o,s,!0)})),l&&gn.isCollapsed(l)){var c=wt.toDOMRange(s,l).startContainer,d=c.textContent||"";rre.set(s,d),Cve.set(s,c)}o.isComposing=!0,function(p,v){var b;v.getConfig().placeholder&&v.isEmpty()&&p.showPlaceholder&&((b=p.$placeholder)===null||b===void 0||b.hide(),p.showPlaceholder=!1)}(o,s)}},compositionend:function(e,o,s){var l=e;if(sg(s,l.target)){o.isComposing=!1;var c=s.selection;if(c!=null){(Tae||HN)&&wt.cleanExposedTexNodeInSelectionBlock(s);for(var d=gn.isBackward(c)?c.focus:c.anchor,p=ai(ze.node(s,[d.path[0]]),1)[0],v=0;v<d.path.length;v++){var b=ai(ze.node(s,d.path.slice(0,v+1)),1)[0];if(ar.isElement(b)&&(($B||HN)&&b.type==="link"||b.type==="code")){wt.setNewKey(p);break}}var S=l.data;if(S){if(s.getConfig().maxLength){var x=wt.getLeftLengthOfMaxLength(s);x<S.length?(wt.toDOMRange(s,c).startContainer.textContent=rre.get(s)||"",x>0&&ze.insertText(s,S.slice(0,x)),o.changeViewState()):ze.insertText(s,S)}else ze.insertText(s,S);$B||setTimeout(function(){var T=s.selection;if(T!=null){var E=Cve.get(s);E!=null&&wt.toDOMRange(s,T).startContainer!==E&&(E.textContent=rre.get(s)||"")}})}}}},compositionupdate:function(e,o,s){sg(s,e.target)&&(o.isComposing=!0)},keydown:function(e,o,s){var l=e,c=s.selection;if(!s.getConfig().readOnly&&!o.isComposing&&sg(s,l.target)){if(function(p,v){var b=Oq.get(p),S=b&&b.getMenus(),x=zU.get(p),T=x&&x.getMenus(),E=dg(dg({},S),T);for(var k in E){var F=E[k],N=F.hotkey;if(N&&IDe(N,v)&&!F.isDisabled(p)){var $=F.getValue(p);F.exec(p,$)}}}(s,l),kl.isTab(l))return Rc(l),void s.handleTab();if(kl.isRedo(l))return Rc(l),void(typeof s.redo=="function"&&s.redo());if(kl.isUndo(l))return Rc(l),void(typeof s.undo=="function"&&s.undo());if(kl.isMoveLineBackward(l))return Rc(l),void Qt.move(s,{unit:"line",reverse:!0});if(kl.isMoveLineForward(l))return Rc(l),void Qt.move(s,{unit:"line"});if(kl.isExtendLineBackward(l))return Rc(l),void Qt.move(s,{unit:"line",edge:"focus",reverse:!0});if(kl.isExtendLineForward(l))return Rc(l),void Qt.move(s,{unit:"line",edge:"focus"});if(kl.isMoveBackward(l))return Rc(l),void(c&&gn.isCollapsed(c)?Qt.move(s,{reverse:!0}):Qt.collapse(s,{edge:"start"}));if(kl.isMoveForward(l))return Rc(l),void(c&&gn.isCollapsed(c)?Qt.move(s):Qt.collapse(s,{edge:"end"}));if(kl.isMoveWordBackward(l))return Rc(l),c&&gn.isExpanded(c)&&Qt.collapse(s,{edge:"focus"}),void Qt.move(s,{unit:"word",reverse:!0});if(kl.isMoveWordForward(l))return Rc(l),c&&gn.isExpanded(c)&&Qt.collapse(s,{edge:"focus"}),void Qt.move(s,{unit:"word"});if(kl.isSelectAll(l))return Rc(l),void s.selectAll();if(DB){if((Tae||$B)&&c&&(kl.isDeleteBackward(l)||kl.isDeleteForward(l))&&gn.isCollapsed(c)){var d=wo.parent(s,c.anchor.path);if(ar.isElement(d)&&ze.isVoid(s,d)&&ze.isInline(s,d))return l.preventDefault(),void Qt.delete(s,{unit:"block"})}}else{if(kl.isBold(l)||kl.isItalic(l)||kl.isTransposeCharacter(l))return void Rc(l);if(kl.isSplitBlock(l))return Rc(l),void ze.insertBreak(s);if(kl.isDeleteBackward(l))return Rc(l),void(c&&gn.isExpanded(c)?ze.deleteFragment(s,{direction:"backward"}):ze.deleteBackward(s));if(kl.isDeleteForward(l))return Rc(l),void(c&&gn.isExpanded(c)?ze.deleteFragment(s,{direction:"forward"}):ze.deleteForward(s));if(kl.isDeleteLineBackward(l))return Rc(l),void(c&&gn.isExpanded(c)?ze.deleteFragment(s,{direction:"backward"}):ze.deleteBackward(s,{unit:"line"}));if(kl.isDeleteLineForward(l))return Rc(l),void(c&&gn.isExpanded(c)?ze.deleteFragment(s,{direction:"forward"}):ze.deleteForward(s,{unit:"line"}));if(kl.isDeleteWordBackward(l))return Rc(l),void(c&&gn.isExpanded(c)?ze.deleteFragment(s,{direction:"backward"}):ze.deleteBackward(s,{unit:"word"}));if(kl.isDeleteWordForward(l))return Rc(l),void(c&&gn.isExpanded(c)?ze.deleteFragment(s,{direction:"forward"}):ze.deleteForward(s,{unit:"word"}))}}},keypress:function(e,o,s){if(!DB&&!s.getConfig().readOnly&&sg(s,e.target)){e.preventDefault();var l=e.key;ze.insertText(s,l)}},copy:function(e,o,s){var l=e;if(sg(s,l.target)){l.preventDefault();var c=l.clipboardData;c!=null&&s.setFragmentData(c)}},cut:function(e,o,s){var l=e,c=s.selection;if(!s.getConfig().readOnly&&sg(s,l.target)){l.preventDefault();var d=l.clipboardData;if(d!=null&&(s.setFragmentData(d),c))if(gn.isExpanded(c))ze.deleteFragment(s);else{var p=wo.parent(s,c.anchor.path);ze.isVoid(s,p)&&Qt.delete(s)}}},paste:function(e,o,s){Ioe.set(s,!0);var l=e;if(!s.getConfig().readOnly&&sg(s,l.target)){var c=s.getConfig().customPaste;if(c&&c(s,l)===!1)return void Ioe.set(s,!1);if(!DB||function(p){return p.clipboardData&&p.clipboardData.getData("text/plain")!==""&&p.clipboardData.types.length===1}(l)){l.preventDefault();var d=l.clipboardData;d!=null&&s.insertData(d)}}},dragover:function(e,o,s){if(o5(s,e.target)){var l=wt.toSlateNode(s,e.target);ze.isVoid(s,l)&&e.preventDefault()}},dragstart:function(e,o,s){var l=e;if(o5(s,l.target)&&!s.getConfig().readOnly){var c=wt.toSlateNode(s,l.target),d=wt.findPath(s,c);if(ze.isVoid(s,c)||ze.void(s,{at:d,voids:!0})){var p=ze.range(s,d);Qt.select(s,p)}var v=l.dataTransfer;v!=null&&(o.isDraggingInternally=!0,s.setFragmentData(v))}},dragend:function(e,o,s){var l=e;s.getConfig().readOnly||o.isDraggingInternally&&o5(s,l.target)&&(o.isDraggingInternally=!1)},drop:function(e,o,s){var l=e,c=l.dataTransfer;if(!s.getConfig().readOnly&&o5(s,l.target)&&c!=null&&!(DB&&$B&&c.files.length>0)){l.preventDefault();var d=s.selection,p=wt.findEventRange(s,l);Qt.select(s,p),o.isDraggingInternally&&(d&&Qt.delete(s,{at:d}),o.isDraggingInternally=!1),s.insertData(c),s.isFocused()||s.focus()}}},bFe=1,yFe=function(){function e(o){var s=this;this.id=bFe++,this.$textArea=null,this.$progressBar=_t('<div class="w-e-progress-bar"></div>'),this.$maxLengthInfo=_t('<div class="w-e-max-length-info"></div>'),this.isComposing=!1,this.isUpdatingSelection=!1,this.isDraggingInternally=!1,this.latestElement=null,this.showPlaceholder=!1,this.$placeholder=null,this.latestEditorSelection=null,this.onDOMSelectionChange=$4(function(){var p=s.editorInstance;(function(v,b){var S=v.isComposing,x=v.isUpdatingSelection,T=v.isDraggingInternally;if(!(b.getConfig().readOnly||S||x||T)){var E=wt.findDocumentOrShadowRoot(b),k=E.activeElement,F=wt.toDOMNode(b,b),N=E.getSelection();if(k===F?(v.latestElement=k,d4.set(b,!0)):d4.delete(b),!N)return Qt.deselect(b);var $=N.anchorNode,D=N.focusNode,O=sg(b,$)||wve(b,$),P=sg(b,D)||wve(b,D);if(O&&P){var I=wt.toSlateRange(b,N,{exactMatch:!1,suppressThrow:!1});Qt.select(b,I)}else Qt.deselect(b)}})(s,p)},100);var l=_t(o);if(l.length===0)throw new Error("Cannot find textarea DOM by selector '"+o+"'");this.$box=l;var c=_t('<div class="w-e-text-container"></div>');c.append(this.$progressBar),c.append(this.$maxLengthInfo),l.append(c);var d=_t('<div class="w-e-scroll"></div>');c.append(d),this.$scroll=d,this.$textAreaContainer=c,yg(function(){var p=s.editorInstance,v=wt.getWindow(p);v.document.addEventListener("selectionchange",s.onDOMSelectionChange),p.on("destroyed",function(){v.document.removeEventListener("selectionchange",s.onDOMSelectionChange)}),c.on("click",function(){return p.hidePanelOrModal()}),p.on("change",s.changeViewState.bind(s));var b=p.getConfig().onChange;b&&p.on("change",function(){return b(p)}),s.onFocusAndOnBlur(),p.on("change",s.changeMaxLengthInfo.bind(s)),s.bindEvent()})}return Object.defineProperty(e.prototype,"editorInstance",{get:function(){var o=Sae.get(this);if(o==null)throw new Error("Can not get editor instance");return o},enumerable:!1,configurable:!0}),e.prototype.bindEvent=function(){var o=this,s=this.$textArea,l=this.$scroll,c=this.editorInstance;s!=null&&(cue(vFe,function(d,p){s.on(p,function(v){d(v,o,c)})}),c.getConfig().scroll&&(l.css("overflow-y","auto"),l.on("scroll",$4(function(){c.emit("scroll")},100))))},e.prototype.onFocusAndOnBlur=function(){var o=this,s=this.editorInstance,l=s.getConfig(),c=l.onBlur,d=l.onFocus;this.latestEditorSelection=s.selection,s.on("change",function(){o.latestEditorSelection==null&&s.selection!=null?setTimeout(function(){return d&&d(s)}):o.latestEditorSelection!=null&&s.selection==null&&setTimeout(function(){return c&&c(s)}),o.latestEditorSelection=s.selection})},e.prototype.changeMaxLengthInfo=function(){var o=this.editorInstance,s=o.getConfig().maxLength;if(s){var l=s-wt.getLeftLengthOfMaxLength(o);this.$maxLengthInfo[0].innerHTML=l+"/"+s}},e.prototype.changeProgress=function(o){var s=this.$progressBar;s.css("width",o+"%"),o>=100&&setTimeout(function(){s.hide(),s.css("width","0"),s.show()},1e3)},e.prototype.changeViewState=function(){var o=this,s=this.editorInstance;dFe(this,s),function(l,c){var d,p=c.getConfig().placeholder;if(p){var v=c.isEmpty();if(v&&!l.showPlaceholder&&!l.isComposing){if(l.$placeholder==null){var b=_t('<div class="w-e-text-placeholder">'+p+"</div>");l.$textAreaContainer.append(b),l.$placeholder=b}return l.$placeholder.show(),void(l.showPlaceholder=!0)}!v&&l.showPlaceholder&&((d=l.$placeholder)===null||d===void 0||d.hide(),l.showPlaceholder=!1)}}(this,s),yg(function(){eEe(o,s)})},e.prototype.destroy=function(){this.$textAreaContainer.remove()},e}();Lue("match",function(e,o,s){return[function(l){var c=bg(this),d=l==null?void 0:B4(l,e);return d?li(d,l,c):new RegExp(l)[e](Sa(c))},function(l){var c=Cc(this),d=Sa(l),p=s(o,c,d);if(p.done)return p.value;if(!c.global)return mP(c,d);var v=c.unicode;c.lastIndex=0;for(var b,S=[],x=0;(b=mP(c,d))!==null;){var T=Sa(b[0]);S[x]=T,T===""&&(c.lastIndex=Hue(d,t_(c.lastIndex),v)),x++}return x===0?null:S}]});function ife(e){e.removeAttr("width"),e.removeAttr("height"),e.removeAttr("fill"),e.removeAttr("class"),e.removeAttr("t"),e.removeAttr("p-id");var o=e.children();o.length&&ife(o)}function afe(){return _t('<svg viewBox="0 0 1024 1024"><path d="M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z"></path></svg>')}function tEe(){return _t('<div class="w-e-bar-divider"></div>')}function nEe(e,o,s,l,c){if(c===void 0&&(c=!1),o){if(l){var d=Aae?"cmd":"ctrl";l=l.replace("mod",d)}if(c)l&&(e.attr("data-tooltip",l),e.addClass("w-e-menu-tooltip-v5"),e.addClass("tooltip-right"));else{var p=l?s+`
`+l:s;e.attr("data-tooltip",p),e.addClass("w-e-menu-tooltip-v5")}}}var lfe=function(){function e(o,s,l){var c=this;l===void 0&&(l=!1),this.$elem=_t('<div class="w-e-bar-item"></div>'),this.$button=_t('<button type="button"></button>'),this.disabled=!1,this.menu=s;var d=s.tag,p=s.width;if(d!=="button")throw new Error("Invalid tag '"+d+"', expected 'button'");var v=s.title,b=s.hotkey,S=b===void 0?"":b,x=s.iconSvg,T=x===void 0?"":x,E=this.$button;if(T){var k=_t(T);ife(k),E.append(k)}else E.text(v);nEe(E,T,v,S,l),l&&T&&E.append(_t('<span class="title">'+v+"</span>")),p&&E.css("width",p+"px"),E.attr("data-menu-key",o),this.$elem.append(E),yg(function(){return c.init()})}return e.prototype.init=function(){var o=this;this.setActive(),this.setDisabled(),this.$button.on("click",function(s){s.preventDefault(),np(o).hidePanelOrModal(),o.disabled||(o.exec(),o.onButtonClick())})},e.prototype.exec=function(){var o=np(this),s=this.menu,l=s.getValue(o);s.exec(o,l)},e.prototype.setActive=function(){var o=np(this),s=this.$button,l="active";this.menu.isActive(o)?s.addClass(l):s.removeClass(l)},e.prototype.setDisabled=function(){var o=np(this),s=this.$button,l=this.menu.isDisabled(o);(o.selection==null||o.isDisabled())&&(l=!0),this.menu.alwaysEnable&&(l=!1);var c="disabled";l?s.addClass(c):s.removeClass(c),this.disabled=l},e.prototype.changeMenuState=function(){this.setActive(),this.setDisabled()},e}(),wFe=function(e){function o(s,l,c){return c===void 0&&(c=!1),e.call(this,s,l,c)||this}return o_(o,e),o.prototype.onButtonClick=function(){},o}(lfe),cfe=function(){function e(o){this.isShow=!1,this.showTime=0,this.record(o)}return e.prototype.record=function(o){var s=Eae.get(o);s==null&&(s=new Set,Eae.set(o,s)),s.add(this),XV.set(this,o)},e.prototype.renderContent=function(o){var s=this.$elem;s.empty(),s.append(o);var l=this.genSelfElem();l&&s.append(l)},e.prototype.appendTo=function(o){var s=this.$elem;o.append(s)},e.prototype.show=function(){if(!this.isShow){this.showTime=Date.now(),this.$elem.show(),this.isShow=!0;var o=XV.get(this);o&&o.emit("modalOrPanelShow",this)}},e.prototype.hide=function(){if(this.isShow&&!(Date.now()-this.showTime<200)){this.$elem.hide(),this.isShow=!1;var o=XV.get(this);o&&o.emit("modalOrPanelHide")}},e}(),CFe=function(e){function o(s){var l=e.call(this,s)||this;return l.type="dropPanel",l.$elem=_t('<div class="w-e-drop-panel"></div>'),l}return o_(o,e),o.prototype.genSelfElem=function(){return null},o}(cfe),SFe=function(e){function o(s,l,c){c===void 0&&(c=!1);var d=e.call(this,s,l,c)||this;if(d.dropPanel=null,d.menu=l,l.showDropPanel){var p=afe();d.$button.append(p)}return d}return o_(o,e),o.prototype.onButtonClick=function(){this.menu.showDropPanel&&this.handleDropPanel()},o.prototype.handleDropPanel=function(){var s=this.menu;if(s.getPanelContentElem!=null){var l=np(this);if(this.dropPanel==null){var c=new CFe(l),d=s.getPanelContentElem(l);c.renderContent(d),c.appendTo(this.$elem),c.show(),this.dropPanel=c}else{var p=this.dropPanel;p.isShow?p.hide():(d=s.getPanelContentElem(l),p.renderContent(d),p.show())}var v=this.dropPanel;if(v.isShow){var b=this.$elem,S=b.offset().left,x=b.parents(".w-e-bar");S-x.offset().left>=x.width()/2?v.$elem.css({left:"none",right:"0"}):v.$elem.css({left:"0",right:"none"})}}},o}(lfe),xFe=function(e){function o(s,l){l===void 0&&(l=0);var c=e.call(this,s)||this;c.type="modal",c.$elem=_t('<div class="w-e-modal"></div>'),c.width=0,l&&(c.width=l);var d=c.$elem;return d.on("click",function(p){return p.stopPropagation()}),d.on("keyup",function(p){p.code==="Escape"&&(c.hide(),s.restoreSelection())}),c}return o_(o,e),o.prototype.genSelfElem=function(){var s=this,l=_t('<span class="btn-close"><svg viewBox="0 0 1024 1024"><path d="M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z"></path></svg></span>'),c=XV.get(this);return l.on("click",function(){s.hide(),c==null||c.restoreSelection()}),l},o.prototype.setStyle=function(s){var l=this.width,c=this.$elem;c.attr("style",""),l&&c.css("width",l+"px"),c.css(s)},o}(cfe);function op(e,o,s){var l=_t('<label class="babel-container"></label>');l.append("<span>"+e+"</span>");var c=_t('<input type="text" id="'+o+'" placeholder="'+(s||"")+'">');return l.append(c),[l[0],c[0]]}function r_(e,o){var s=_t('<div class="button-container"></div>'),l=_t('<button type="button" id="'+e+'">'+o+"</button>");return s.append(l),[s[0],l[0]]}var EFe=function(e){function o(s,l,c){c===void 0&&(c=!1);var d=e.call(this,s,l,c)||this;return d.$body=_t("body"),d.modal=null,d.menu=l,d}return o_(o,e),o.prototype.onButtonClick=function(){this.menu.showModal&&this.handleModal()},o.prototype.getPosition=function(){var s=np(this),l=this.menu.getModalPositionNode(s);return ar.isElement(l)?rfe(s,l,"modal"):ofe(s)},o.prototype.handleModal=function(){var s=np(this),l=this.menu;if(this.modal==null){var c=new xFe(s,l.modalWidth);this.renderAndShowModal(c,!0),this.modal=c}else(c=this.modal).isShow?c.hide():this.renderAndShowModal(c,!1)},o.prototype.renderAndShowModal=function(s,l){l===void 0&&(l=!1);var c=np(this),d=this.menu;if(d.getModalContentElem!=null){var p=wt.getTextarea(c),v=wt.getToolbar(c),b=((v==null?void 0:v.getConfig())||{}).modalAppendToBody,S=d.getModalContentElem(c);if(s.renderContent(S),b)s.setStyle({left:"0",right:"0"});else{var x=this.getPosition();s.setStyle(x)}l&&(b?s.appendTo(this.$body):s.appendTo(p.$textAreaContainer)),s.show(),b||Pae(c,s.$elem),setTimeout(function(){c.blur()})}},o}(lfe),kFe=function(e){function o(s,l){var c=e.call(this,s)||this;return c.type="selectList",c.$elem=_t('<div class="w-e-select-list"></div>'),l&&c.$elem.css("width",l+"px"),c.$elem.on("click",function(d){d.stopPropagation()}),c}return o_(o,e),o.prototype.renderList=function(s){var l=this.$elem;l.empty();var c=_t("<ul></ul>");s.forEach(function(d){var p=d.value,v=d.text,b=d.selected,S=d.styleForRenderMenuList,x=_t('<li data-value="'+p+'"></li>');if(S&&x.css(S),b){var T=_t('<svg viewBox="0 0 1446 1024"><path d="M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z"></path></svg>');x.append(T),x.addClass("selected")}x.append(_t('<span data-value="'+p+'">'+v+"</span>")),x.attr("title",v),c.append(x)}),l.append(c)},o.prototype.genSelfElem=function(){return null},o}(cfe),AFe=function(){function e(o,s,l){var c=this;l===void 0&&(l=!1),this.$elem=_t('<div class="w-e-bar-item"></div>'),this.$button=_t('<button type="button" class="select-button"></button>'),this.disabled=!1,this.selectList=null;var d=s.tag,p=s.title,v=s.width,b=s.iconSvg,S=b===void 0?"":b,x=s.hotkey,T=x===void 0?"":x;if(d!=="select")throw new Error("Invalid tag '"+d+"', expected 'select'");var E=this.$button;v&&E.css("width",v+"px"),E.attr("data-menu-key",o),nEe(E,S,p,T,l),this.$elem.append(E),this.menu=s,yg(function(){return c.init()})}return e.prototype.init=function(){var o=this;this.setSelectedValue(),this.$button.on("click",function(s){s.preventDefault(),np(o).hidePanelOrModal(),o.trigger()})},e.prototype.trigger=function(){var o=this,s=np(this);if(!s.isDisabled()&&!this.disabled){var l=this.menu;if(this.selectList==null){this.selectList=new kFe(s,l.selectPanelWidth);var c=this.selectList,d=l.getOptions(s);c.renderList(d),c.appendTo(this.$elem),c.show(),c.$elem.on("click","li",function(p){var v=p.target;if(v!=null){p.preventDefault();var b=_t(v).attr("data-value");o.onChange(b)}})}else(c=this.selectList).isShow?c.hide():(d=l.getOptions(s),c.renderList(d),c.show())}},e.prototype.onChange=function(o){var s=np(this),l=this.menu;l.exec&&l.exec(s,o)},e.prototype.setSelectedValue=function(){var o=np(this),s=this.menu,l=s.getValue(o),c=function(v,b){for(var S=v.length,x="",T=0;T<S;T++){var E=v[T];if(E.value===b){x=E.text;break}}return x}(s.getOptions(o),l.toString()),d=this.$button,p=afe();d.empty(),d.text(c),d.append(p)},e.prototype.setDisabled=function(){var o=np(this),s=this.menu.isDisabled(o),l=this.$button;(o.selection==null||o.isDisabled())&&(s=!0);var c="disabled";s?l.addClass(c):l.removeClass(c),this.disabled=s},e.prototype.changeMenuState=function(){this.setSelectedValue(),this.setDisabled()},e}(),Sve=function(){function e(o){this.$elem=_t('<div class="w-e-bar-item w-e-bar-item-group"></div>'),this.$container=_t('<div class="w-e-bar-item-menus-container"></div>'),this.$button=_t('<button type="button"></button>');var s=o.key,l=o.iconSvg,c=o.title,d=this.$elem,p=this.$button;if(l){var v=_t(l);ife(v),p.append(v)}else p.text(c);p.attr("data-menu-key",s);var b=afe();p.append(b),d.append(p);var S=this.$container;d.append(S);var x=this.createObserver();this.observe(x)}return e.prototype.appendBarItem=function(o){var s=o.$elem;this.$container.append(s)},e.prototype.observe=function(o){var s=this.$container;o.observe(s[0],{childList:!0,subtree:!0,attributes:!0})},e.prototype.createObserver=function(){var o=this,s=this.$container,l=this.$button,c=new MutationObserver(function(){var d=s.find("button"),p=d.length;if(p!==0){var v=0;d.each(function(b){_t(b).hasClass("disabled")&&v++}),c.disconnect(),v===p?l.addClass("disabled"):l.removeClass("disabled"),o.observe(c)}});return c},e}(),xve=new WeakMap;function np(e){var o=zue.get(e);if(o==null)throw new Error("Can not get editor instance");return o}function oEe(e,o,s){s===void 0&&(s=!1);var l=xve.get(o);if(l)return l;var c=o.tag;if(c==="button"){var d=o.showDropPanel,p=o.showModal;l=d?new SFe(e,o,s):p?new EFe(e,o,s):new wFe(e,o,s)}if(c==="select"&&(l=new AFe(e,o,s)),l==null)throw new Error("Invalid tag in menu "+JSON.stringify(o));return xve.set(o,l),l}function TFe(e,o){var s=e.selection;return s!=null&&!gn.isCollapsed(s)&&!wt.getSelectedElems(e).some(function(l){if(e.isVoid(l))return!0;var c=l.type;return!!["pre","code","table"].includes(c)||void 0})&&!!Mo.isText(o)}var OFe=function(){function e(){var o=this;this.$elem=_t('<div class="w-e-bar w-e-bar-hidden w-e-hover-bar"></div>'),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null,this.isShow=!1,this.changeHoverbarState=OSe(function(){var s=o.isShow,l=o.getSelectedNodeAndMenuKeys()||{},c=l.node,d=c===void 0?null:c,p=l.menuKeys,v=p===void 0?[]:p;d!=null&&o.changeItemsState(),!(d&&ar.isElement(d)&&s&&o.isSamePath(d,o.prevSelectedNode))&&(o.hideAndClean(),d!=null&&(o.registerItems(v),o.setPosition(d),o.show()),o.prevSelectedNode=d)},200),yg(function(){var s=o.getEditorInstance(),l=o.$elem;l.on("mousedown",function(d){return d.preventDefault()}),wt.getTextarea(s).$textAreaContainer.append(l),s.on("change",o.changeHoverbarState);var c=o.hideAndClean.bind(o);s.on("scroll",c),s.on("fullScreen",c),s.on("unFullScreen",c)})}return e.prototype.getMenus=function(){return this.menus},e.prototype.hideAndClean=function(){var o=this.$elem;o.removeClass("w-e-bar-show").addClass("w-e-bar-hidden"),this.hoverbarItems=[],o.empty(),this.isShow=!1},e.prototype.checkPositionBottom=function(){var o=this.$elem,s=!1,l=window.innerHeight;l&&l>=360&&l-o[0].getBoundingClientRect().bottom<360&&(s=!0),s?o.addClass("w-e-bar-bottom"):o.removeClass("w-e-bar-bottom")},e.prototype.show=function(){this.$elem.removeClass("w-e-bar-hidden").addClass("w-e-bar-show"),this.isShow=!0,this.checkPositionBottom()},e.prototype.changeItemsState=function(){var o=this;yg(function(){o.hoverbarItems.forEach(function(s){s.changeMenuState()})})},e.prototype.registerItems=function(o){var s=this,l=this.$elem;o.forEach(function(c){if(c!=="|")s.registerSingleItem(c);else{var d=tEe();l.append(d)}})},e.prototype.registerSingleItem=function(o){var s=this.getEditorInstance(),l=this.menus,c=l[o];if(c==null){var d=yP[o];if(d==null)throw new Error("Not found menu item factory by key '"+o+"'");if(typeof d!="function")throw new Error("Menu item factory (key='"+o+"') is not a function");c=d(),l[o]=c}var p=oEe(o,c);this.hoverbarItems.push(p),zue.set(p,s),this.$elem.append(p.$elem)},e.prototype.setPosition=function(o){var s=this.getEditorInstance(),l=this.$elem;if(l.attr("style",""),ar.isElement(o)){var c=rfe(s,o,"bar");return l.css(c),void Pae(s,l)}if(Mo.isText(o))return c=ofe(s),l.css(c),void Pae(s,l);throw new Error("hoverbar.setPosition error, current selected node is not elem nor text")},e.prototype.getSelectedNodeAndMenuKeys=function(){var o=this.getEditorInstance();if(o.selection==null)return null;var s=this.getHoverbarKeysConf(),l=null,c=[],d=function(v){var b=s[v],S=b.match,x=b.menuKeys,T=x===void 0?[]:x,E=S||function(N,$){return wt.checkNodeType($,v)},k=ai(ze.nodes(o,{match:function(N){return E(o,N)},universal:!0}),1),F=k[0];if(F!=null)return l=F[0],c=T,"break"};for(var p in s)if(d(p)==="break")break;return l==null||c.length===0?null:{node:l,menuKeys:c}},e.prototype.getEditorInstance=function(){var o=xae.get(this);if(o==null)throw new Error("Can not get editor instance");return o},e.prototype.getHoverbarKeysConf=function(){var o=this.getEditorInstance().getConfig().hoverbarKeys,s=o===void 0?{}:o,l=s.text;return l&&l.match==null&&(l.match=TFe),s},e.prototype.isSamePath=function(o,s){if(o==null||s==null)return!1;var l=wt.findPath(null,o),c=wt.findPath(null,s);return Ht.equals(l,c)},e.prototype.destroy=function(){this.changeHoverbarState.cancel(),this.$elem.remove(),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null},e}();function rEe(e,o,s,l){if(bP.set(e,o),H5.set(e,s),ar.isElement(e)){var c=e.children;if((c===void 0?[]:c).forEach(function(v,b){return rEe(v,b,e,l)}),ze.isVoid(l,e)){var d=ai(wo.texts(e),1),p=ai(d[0],1)[0];bP.set(p,0),H5.set(p,e)}}}function _Fe(e){var o=e.selector,s=o===void 0?"":o,l=e.config,c=l===void 0?{}:l,d=e.content,p=e.html,v=e.plugins,b=v===void 0?[]:v,S=(D=>{var O=D,{apply:P}=O;return O.history={undos:[],redos:[]},O.redo=()=>{var{history:I}=O,{redos:z}=I;if(z.length>0){var K=z[z.length-1];a5.withoutSaving(O,()=>{ze.withoutNormalizing(O,()=>{for(var j of K)O.apply(j)})}),I.redos.pop(),I.undos.push(K)}},O.undo=()=>{var{history:I}=O,{undos:z}=I;if(z.length>0){var K=z[z.length-1];a5.withoutSaving(O,()=>{ze.withoutNormalizing(O,()=>{var j=K.map(Jw.inverse).reverse();for(var oe of j)O.apply(oe)})}),I.redos.push(K),I.undos.pop()}},O.apply=I=>{var{operations:z,history:K}=O,{undos:j}=K,oe=j[j.length-1],xe=oe&&oe[oe.length-1],se=J7e(I,xe),Q=a5.isSaving(O),G=a5.isMerging(O);if(Q==null&&(Q=X7e(I)),Q){if(G==null&&(G=oe!=null&&(z.length!==0||Y7e(I,xe)||se)),oe&&G)se&&oe.pop(),oe.push(I);else{var ce=[I];j.push(ce)}for(;j.length>100;)j.shift();Q7e(I)&&(K.redos=[])}P(I)},O})(function(D){var O=D,P=O.insertText,I=O.insertNode,z=O.insertFragment,K=O.dangerouslyInsertHtml;return O.insertText=function(j){if(O.getConfig().maxLength){var oe=wt.getLeftLengthOfMaxLength(O);oe<=0||(oe<j.length?P(j.slice(0,oe)):P(j))}else P(j)},O.insertNode=function(j){if(O.getConfig().maxLength){var oe=wt.getLeftLengthOfMaxLength(O);oe<=0||oe<wo.string(j).length||I(j)}else I(j)},O.insertFragment=function(j){if(O.getConfig().maxLength)if(j.length!==1)j.forEach(function(xe){O.insertNode(xe)});else{var oe=j[0];if(wt.getLeftLengthOfMaxLength(O)<wo.string(oe).length)return;z(j)}else z(j)},O.dangerouslyInsertHtml=function(j,oe){if(j===void 0&&(j=""),oe===void 0&&(oe=!1),j)if(O.getConfig().maxLength){var xe=wt.getLeftLengthOfMaxLength(O);if(!(xe<=0)){var se=document.createElement("div");se.innerHTML=j;var Q=Array.from(se.childNodes).reduce(function(G,ce){var he=ce.nodeType,ve=ce.nodeName;return ce?he===Hv.TEXT_NODE?G+(ce.textContent||""):he===Hv.ELEMENT_NODE?Yxe.has(ve.toLowerCase())?G:G+(ce.textContent||""):G:G},"");xe<Q.length||K(j,oe)}}else K(j,oe)},O}(function(D){var O=D;return O.on=function(P,I){var z=nV(O);if(z.on(P,I),P==="destroyed"&&fve(O,I),P!=="destroyed"){var K=function(){return z.off(P,I)};z.on("destroyed",K),fve(O,K)}},O.once=function(P,I){nV(O).once(P,I)},O.off=function(P,I){nV(O).off(P,I)},O.emit=function(P){for(var I=[],z=1;z<arguments.length;z++)I[z-1]=arguments[z];var K=nV(O);K.emit.apply(K,yae([P],ai(I))),P==="destroyed"&&(YPe(O).forEach(function(j){return K.off("destroyed",j)}),XPe(O))},O}(function(D){var O=D;return O.select=function(P){Qt.select(O,P)},O.deselect=function(){var P=O.selection,I=wt.findDocumentOrShadowRoot(O).getSelection();I&&I.rangeCount>0&&I.removeAllRanges(),P&&Qt.deselect(D)},O.move=function(P,I){I===void 0&&(I=!1),P&&(P<0||Qt.move(D,{distance:P,unit:"character",reverse:I}))},O.moveReverse=function(P){O.move(P,!0)},O.restoreSelection=function(){var P=kae.get(O);P!=null&&(O.focus(),Qt.select(O,P))},O.getSelectionPosition=function(){return ofe(O)},O.getNodePosition=function(P){return rfe(O,P)},O.isSelectedAll=function(){var P=O.selection;if(P==null)return!1;var I=ai(gn.edges(P),2),z=I[0],K=I[1],j=ai(ze.edges(O,[]),2),oe=j[0],xe=j[1];return!(!Bs.equals(z,oe)||!Bs.equals(K,xe))},O.selectAll=function(){var P=ze.start(O,[]),I=ze.end(O,[]);Qt.select(O,{anchor:P,focus:I})},O}(FPe(function(D){var O=D;return O.getAllMenuKeys=function(){var P=[];for(var I in yP)P.push(I);return P},O.getConfig=function(){var P=_1e.get(O);if(P==null)throw new Error("Can not get editor config");return P},O.getMenuConfig=function(P){var I=O.getConfig().MENU_CONF;return(I===void 0?{}:I)[P]||{}},O.alert=function(P,I){I===void 0&&(I="info");var z=O.getConfig().customAlert;z&&z(P,I)},O}(function(D){var O=D;return O.id="wangEditor-"+RNe++,O.isDestroyed=!1,O.isFullScreen=!1,O.focus=function(P){if(wt.toDOMNode(O,O).focus({preventScroll:!0}),d4.set(O,!0),P){var I=ze.end(O,[]);Qt.select(O,I)}else{var z=kae.get(O);z?Qt.select(O,z):Qt.select(O,ze.start(O,[]))}},O.isFocused=function(){return!!d4.get(O)},O.blur=function(){wt.toDOMNode(O,O).blur(),Qt.deselect(O),d4.set(O,!1)},O.updateView=function(){wt.getTextarea(O).changeViewState();var P=wt.getToolbar(O);P&&P.changeToolbarState();var I=wt.getHoverbar(O);I&&I.changeHoverbarState()},O.destroy=function(){if(!O.isDestroyed){var P=wt.getTextarea(O);P.destroy(),Cae.delete(O),Sae.delete(P);var I=wt.getToolbar(O);I&&(I.destroy(),Oq.delete(O),jue.delete(I));var z=wt.getHoverbar(O);z&&(z.destroy(),zU.delete(O),xae.delete(z)),O.isDestroyed=!0,O.emit("destroyed")}},O.scrollToElem=function(P){if(!O.getConfig().scroll){var I="\u7F16\u8F91\u5668\u7981\u7528\u4E86 scroll \uFF0C\u7F16\u8F91\u5668\u5185\u5BB9\u65E0\u6CD5\u6EDA\u52A8\uFF0C\u8BF7\u81EA\u884C\u5B9E\u73B0\u8BE5\u529F\u80FD";return I+=`
You has disabled editor scroll, please do this yourself`,void console.warn(I)}var z=_t("#"+P);if(z.length!==0){var K=z[0];if(!wt.hasDOMNode(O,K))return I="Element (found by id is '"+P+"') is not in editor DOM",I+=`
 \u901A\u8FC7 id '`+P+"' \u627E\u5230\u7684 element \u4E0D\u5728 editor DOM \u4E4B\u5185",void console.error(I,K);var j=wt.getTextarea(O),oe=j.$textAreaContainer,xe=j.$scroll,se=z.offset().top,Q=oe.offset().top;xe[0].scrollBy({top:se-Q,behavior:"smooth"})}},O.showProgressBar=function(P){P<1||wt.getTextarea(O).changeProgress(P)},O.hidePanelOrModal=function(){var P=Eae.get(O);P!=null&&P.forEach(function(I){return I.hide()})},O.enable=function(){O.getConfig().readOnly=!1,O.updateView()},O.disable=function(){O.getConfig().readOnly=!0,O.updateView()},O.isDisabled=function(){return O.getConfig().readOnly},O.toDOMNode=function(P){return wt.toDOMNode(O,P)},O.fullScreen=function(){if(!O.isFullScreen){var P=null,I=wt.getToolbar(O);I&&(P=I.$box);var z=wt.getTextarea(O).$box.parent();if(P&&P.parent()[0]!==z[0])throw new Error(`Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent
\u4E0D\u80FD\u8BBE\u7F6E\u5168\u5C4F\uFF0C\u56E0\u4E3A toolbar DOM \u7236\u8282\u70B9\u548C textarea DOM \u7236\u8282\u70B9\u4E0D\u4E00\u81F4`);z.addClass("w-e-full-screen-container");var K=z.css("z-index");z.attr("data-z-index",K.toString()),O.isFullScreen=!0,O.emit("fullScreen")}},O.unFullScreen=function(){if(O.isFullScreen){var P=wt.getTextarea(O).$box.parent();setTimeout(function(){P.removeClass("w-e-full-screen-container"),O.isFullScreen=!1,O.emit("unFullScreen")},200)}},O.getEditableContainer=function(){return wt.getTextarea(O).$textAreaContainer[0]},O}(RPe(uOe()))))))));if(s&&function(D,O){return Gxe(D,"data-w-e-textarea",O)}(S,s))throw new Error("Repeated create editor by selector '"+s+"'");var x=function(D){D===void 0&&(D={});var O=_Se(Axe),P={},I=D.MENU_CONF,z=I===void 0?{}:I;return cue(O,function(K,j){P[j]=dg(dg({},K),z[j]||{})}),delete D.MENU_CONF,dg({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return[]},maxLength:0,MENU_CONF:P,hoverbarKeys:{},customAlert:function(K,j){window.alert(j+`:
`+K)}},D)}(c);_1e.set(S,x);var T=x.hoverbarKeys,E=T===void 0?{}:T;if(b.forEach(function(D){S=D(S)}),p!=null&&(S.children=Kxe(S,p)),d&&d.length&&(S.children=d),S.children.length===0&&(S.children=[{type:"paragraph",children:[{text:""}]}]),wt.normalizeContent(S),s){var k=new yFe(s);Cae.set(S,k),Sae.set(k,S),k.changeViewState(),yg(function(){var D=k.$scroll;D!=null&&D.height()<300&&console.warn(`\u7F16\u8F91\u533A\u57DF\u9AD8\u5EA6 < 300px \u8FD9\u53EF\u80FD\u4F1A\u5BFC\u81F4 modal hoverbar \u5B9A\u4F4D\u5F02\u5E38
Textarea height < 300px . This may be cause modal and hoverbar position error`,D)});var F=void 0;Object.keys(E).length>0&&(F=new OFe,xae.set(F,S),zU.set(S,F)),S.on("change",function(){S.hidePanelOrModal()}),S.on("scroll",function(){S.hidePanelOrModal()})}else S.children.forEach(function(D,O){return rEe(D,O,S,S)});var N=x.onCreated,$=x.onDestroyed;return N&&S.on("created",function(){return N(S)}),$&&S.on("destroyed",function(){return $(S)}),yg(function(){return S.emit("created")}),S}var $Fe=Eq("splice"),DFe=po.TypeError,BFe=Math.max,NFe=Math.min;Ol({target:"Array",proto:!0,forced:!$Fe},{splice:function(e,o){var s,l,c,d,p,v,b=DC(this),S=G4(b),x=R5(e,S),T=arguments.length;if(T===0?s=l=0:T===1?(s=0,l=S-x):(s=T-2,l=NFe(BFe(oF(o),0),S-x)),S+s-l>9007199254740991)throw DFe("Maximum allowed length exceeded");for(c=QSe(b,l),d=0;d<l;d++)(p=x+d)in b&&pP(c,d,b[p]);if(c.length=l,s<l){for(d=x;d<S-l;d++)v=d+s,(p=d+l)in b?b[v]=b[p]:delete b[v];for(d=S;d>S-l+s;d--)delete b[d-1]}else if(s>l)for(d=S-l;d>x;d--)v=d+s-1,(p=d+l-1)in b?b[v]=b[p]:delete b[v];for(d=0;d<s;d++)b[d+x]=arguments[d+2];return b.length=S-l+s,c}});var PFe=function(){function e(o,s){var l=this;this.$toolbar=_t('<div class="w-e-bar w-e-bar-show w-e-toolbar"></div>'),this.menus={},this.toolbarItems=[],this.config={},this.changeToolbarState=OSe(function(){l.toolbarItems.forEach(function(p){p.changeMenuState()})},200),this.config=s;var c=_t(o);if(c.length===0)throw new Error("Cannot find toolbar DOM by selector '"+o+"'");this.$box=c;var d=this.$toolbar;d.on("mousedown",function(p){return p.preventDefault()}),c.append(d),yg(function(){l.registerItems(),l.changeToolbarState(),l.getEditorInstance().on("change",l.changeToolbarState)})}return e.prototype.getMenus=function(){return this.menus},e.prototype.getConfig=function(){return this.config},e.prototype.registerItems=function(){var o=this,s="",l=this.$toolbar,c=this.config,d=c.toolbarKeys,p=d===void 0?[]:d,v=c.insertKeys,b=v===void 0?{index:0,keys:[]}:v,S=c.excludeKeys,x=S===void 0?[]:S,T=_Se(p);b.keys.length>0&&(typeof b.keys=="string"&&(b.keys=[b.keys]),b.keys.forEach(function(F,N){T.splice(b.index+N,0,F)}));var E=T.filter(function(F){if(typeof F=="string"){if(x.includes(F))return!1}else if(x.includes(F.key))return!1;return!0}),k=E.length;E.forEach(function(F,N){if(F==="|"){if(N===0||N+1===k||s==="|")return;var $=tEe();return l.append($),void(s=F)}if(typeof F=="string")return o.registerSingleItem(F,o),void(s=F);o.registerGroup(F),s="group"})},e.prototype.registerGroup=function(o){var s=this,l=this.$toolbar,c=function(S){return new Sve(S)}(o),d=o.menuKeys,p=d===void 0?[]:d,v=this.config.excludeKeys,b=v===void 0?[]:v;p.forEach(function(S){b.includes(S)||s.registerSingleItem(S,c)}),l.append(c.$elem)},e.prototype.registerSingleItem=function(o,s){var l=this.getEditorInstance(),c=s instanceof Sve,d=this.menus,p=d[o];if(p==null){var v=yP[o];if(v==null)throw new Error("Not found menu item factory by key '"+o+"'");if(typeof v!="function")throw new Error("Menu item factory (key='"+o+"') is not a function");p=v(),d[o]=p}else console.warn("Duplicated toolbar menu key '"+o+`'
\u91CD\u590D\u6CE8\u518C\u4E86\u83DC\u5355\u680F menu '`+o+"'");var b=oEe(o,p,c);this.toolbarItems.push(b),zue.set(b,l),c?s.appendBarItem(b):s.$toolbar.append(b.$elem)},e.prototype.getEditorInstance=function(){var o=jue.get(this);if(o==null)throw new Error("Can not get editor instance");return o},e.prototype.destroy=function(){this.$toolbar.remove(),this.menus={},this.toolbarItems=[]},e}();function FFe(e,o){if(e==null)throw new Error("Cannot create toolbar, because editor is null");var s=o.selector,l=o.config,c=l===void 0?{}:l;if(function(v,b){return Gxe(v,"data-w-e-toolbar",b)}(e,s))throw new Error("Repeated create toolbar by selector '"+s+"'");var d=dg({toolbarKeys:[],excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1},c||{}),p=new PFe(s,d);return jue.set(p,e),Oq.set(e,p),p}var RFe=e_.EXISTS,MFe=Km.f,sEe=Function.prototype,IFe=hr(sEe.toString),iEe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,LFe=hr(iEe.exec);function aEe(e){var o=e.server,s=o===void 0?"":o,l=e.fieldName,c=l===void 0?"":l,d=e.maxFileSize,p=d===void 0?10485760:d,v=e.maxNumberOfFiles,b=v===void 0?100:v,S=e.meta,x=S===void 0?{}:S,T=e.metaWithUrl,E=T!==void 0&&T,k=e.headers,F=k===void 0?{}:k,N=e.withCredentials,$=N!==void 0&&N,D=e.timeout,O=D===void 0?1e4:D,P=e.onBeforeUpload,I=P===void 0?function(ce){return ce}:P,z=e.onSuccess,K=z===void 0?function(ce,he){}:z,j=e.onError,oe=j===void 0?function(ce,he,ve){console.error(ce.name+" upload error",he,ve)}:j,xe=e.onProgress,se=xe===void 0?function(ce){}:xe;if(!s)throw new Error(`Cannot get upload server address
\u6CA1\u6709\u914D\u7F6E\u4E0A\u4F20\u5730\u5740`);if(!c)throw new Error(`Cannot get fieldName
\u6CA1\u6709\u914D\u7F6E fieldName`);var Q=s;E&&(Q=function(ce,he){var ve=ai(ce.split("#"),2),qe=ve[0],U=ve[1],Fe=[];cue(he,function(Se,re){Fe.push(re+"="+Se)});var De=Fe.join("&");return qe=qe.indexOf("?")>0?qe+"&"+De:qe+"?"+De,U?qe+"#"+U:qe}(Q,x));var G=new tF({onBeforeUpload:I,restrictions:{maxFileSize:p,maxNumberOfFiles:b},meta:x}).use(q8e,{endpoint:Q,headers:F,formData:!0,fieldName:c,bundle:!0,withCredentials:$,timeout:O});return G.on("upload-success",function(ce,he){var ve=he.body,qe=ve===void 0?{}:ve;try{K(ce,qe)}catch(U){console.error("wangEditor upload file - onSuccess error",U)}G.removeFile(ce.id)}),G.on("progress",function(ce){ce<1||se(ce)}),G.on("upload-error",function(ce,he,ve){try{oe(ce,he,ve)}catch(qe){console.error("wangEditor upload file - onError error",qe)}G.removeFile(ce.id)}),G.on("restriction-failed",function(ce,he){try{oe(ce,he)}catch(ve){console.error("wangEditor upload file - onError error",ve)}G.removeFile(ce.id)}),G}function rC(e){return rC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},rC(e)}function HFe(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}function Mc(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?Object(arguments[o]):{},l=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&l.push.apply(l,Object.getOwnPropertySymbols(s).filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.forEach(function(c){HFe(e,c,s[c])})}return e}function my(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function Eve(e,o){for(var s=0;s<o.length;s++){var l=o[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function vy(e,o,s){return o&&Eve(e.prototype,o),s&&Eve(e,s),e}function F4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CP(e,o){if(o&&(rC(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4(e)}function j5(e){return j5=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},j5(e)}function Rae(e,o){return Rae=Object.setPrototypeOf||function(s,l){return s.__proto__=l,s},Rae(e,o)}function Dq(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&Rae(e,o)}Du&&!RFe&&MFe(sEe,"name",{configurable:!0,get:function(){try{return LFe(iEe,IFe(this))[1]}catch{return""}}});var jFe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,o){console&&console[e]&&console[e].apply(console,o)}},ly=new(function(){function e(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};my(this,e),this.init(o,s)}return vy(e,[{key:"init",value:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=o||jFe,this.options=s,this.debug=s.debug}},{key:"setDebug",value:function(o){this.debug=o}},{key:"log",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"log","",!0)}},{key:"warn",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"warn","",!0)}},{key:"error",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"error","")}},{key:"deprecate",value:function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(o,s,l,c){return c&&!this.debug?null:(typeof o[0]=="string"&&(o[0]="".concat(l).concat(this.prefix," ").concat(o[0])),this.logger[s](o))}},{key:"create",value:function(o){return new e(this.logger,Mc({},{prefix:"".concat(this.prefix,":").concat(o,":")},this.options))}}]),e}()),SC=function(){function e(){my(this,e),this.observers={}}return vy(e,[{key:"on",value:function(o,s){var l=this;return o.split(" ").forEach(function(c){l.observers[c]=l.observers[c]||[],l.observers[c].push(s)}),this}},{key:"off",value:function(o,s){this.observers[o]&&(s?this.observers[o]=this.observers[o].filter(function(l){return l!==s}):delete this.observers[o])}},{key:"emit",value:function(o){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];if(this.observers[o]){var d=[].concat(this.observers[o]);d.forEach(function(v){v.apply(void 0,l)})}if(this.observers["*"]){var p=[].concat(this.observers["*"]);p.forEach(function(v){v.apply(v,[o].concat(l))})}}}]),e}();function RB(){var e,o,s=new Promise(function(l,c){e=l,o=c});return s.resolve=e,s.reject=o,s}function kve(e){return e==null?"":""+e}function zFe(e,o,s){e.forEach(function(l){o[l]&&(s[l]=o[l])})}function ufe(e,o,s){function l(v){return v&&v.indexOf("###")>-1?v.replace(/###/g,"."):v}function c(){return!e||typeof e=="string"}for(var d=typeof o!="string"?[].concat(o):o.split(".");d.length>1;){if(c())return{};var p=l(d.shift());!e[p]&&s&&(e[p]=new s),e=Object.prototype.hasOwnProperty.call(e,p)?e[p]:{}}return c()?{}:{obj:e,k:l(d.shift())}}function Ave(e,o,s){var l=ufe(e,o,Object);l.obj[l.k]=s}function ZU(e,o){var s=ufe(e,o),l=s.obj,c=s.k;if(l)return l[c]}function Tve(e,o,s){var l=ZU(e,s);return l!==void 0?l:ZU(o,s)}function lEe(e,o,s){for(var l in o)l!=="__proto__"&&l!=="constructor"&&(l in e?typeof e[l]=="string"||e[l]instanceof String||typeof o[l]=="string"||o[l]instanceof String?s&&(e[l]=o[l]):lEe(e[l],o[l],s):e[l]=o[l]);return e}function NO(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var VFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function UFe(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(o){return VFe[o]}):e}var Bq=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function cEe(e,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[o])return e[o];for(var l=o.split(s),c=e,d=0;d<l.length;++d){if(!c||typeof c[l[d]]=="string"&&d+1<l.length)return;if(c[l[d]]===void 0){for(var p=2,v=l.slice(d,d+p).join(s),b=c[v];b===void 0&&l.length>d+p;)p++,b=c[v=l.slice(d,d+p).join(s)];if(b===void 0)return;if(typeof b=="string")return b;if(v&&typeof b[v]=="string")return b[v];var S=l.slice(d+p).join(s);return S?cEe(b,S,s):void 0}c=c[l[d]]}return c}}var WFe=function(e){function o(s){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return my(this,o),l=CP(this,j5(o).call(this)),Bq&&SC.call(F4(l)),l.data=s||{},l.options=c,l.options.keySeparator===void 0&&(l.options.keySeparator="."),l.options.ignoreJSONStructure===void 0&&(l.options.ignoreJSONStructure=!0),l}return Dq(o,SC),vy(o,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var l=this.options.ns.indexOf(s);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(s,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,v=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure,b=[s,l];c&&typeof c!="string"&&(b=b.concat(c)),c&&typeof c=="string"&&(b=b.concat(p?c.split(p):c)),s.indexOf(".")>-1&&(b=s.split("."));var S=ZU(this.data,b);return S||!v||typeof c!="string"?S:cEe(this.data&&this.data[s]&&this.data[s][l],c,p)}},{key:"addResource",value:function(s,l,c,d){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},v=this.options.keySeparator;v===void 0&&(v=".");var b=[s,l];c&&(b=b.concat(v?c.split(v):c)),s.indexOf(".")>-1&&(d=l,l=(b=s.split("."))[1]),this.addNamespaces(l),Ave(this.data,b,d),p.silent||this.emit("added",s,l,c,d)}},{key:"addResources",value:function(s,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var p in c)typeof c[p]!="string"&&Object.prototype.toString.apply(c[p])!=="[object Array]"||this.addResource(s,l,p,c[p],{silent:!0});d.silent||this.emit("added",s,l,c)}},{key:"addResourceBundle",value:function(s,l,c,d,p){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},b=[s,l];s.indexOf(".")>-1&&(d=c,c=l,l=(b=s.split("."))[1]),this.addNamespaces(l);var S=ZU(this.data,b)||{};d?lEe(S,c,p):S=Mc({},S,c),Ave(this.data,b,S),v.silent||this.emit("added",s,l,c)}},{key:"removeResourceBundle",value:function(s,l){this.hasResourceBundle(s,l)&&delete this.data[s][l],this.removeNamespaces(l),this.emit("removed",s,l)}},{key:"hasResourceBundle",value:function(s,l){return this.getResource(s,l)!==void 0}},{key:"getResourceBundle",value:function(s,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Mc({},{},this.getResource(s,l)):this.getResource(s,l)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"toJSON",value:function(){return this.data}}]),o}(),uEe={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,o,s,l,c){var d=this;return e.forEach(function(p){d.processors[p]&&(o=d.processors[p].process(o,s,l,c))}),o}},Ove={},_ve=function(e){function o(s){var l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return my(this,o),l=CP(this,j5(o).call(this)),Bq&&SC.call(F4(l)),zFe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,F4(l)),l.options=c,l.options.keySeparator===void 0&&(l.options.keySeparator="."),l.logger=ly.create("translator"),l}return Dq(o,SC),vy(o,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var c=this.resolve(s,l);return c&&c.res!==void 0}},{key:"extractFromKey",value:function(s,l){var c=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");var d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,p=l.ns||this.options.defaultNS;if(c&&s.indexOf(c)>-1){var v=s.match(this.interpolator.nestingRegexp);if(v&&v.length>0)return{key:s,namespaces:p};var b=s.split(c);(c!==d||c===d&&this.options.ns.indexOf(b[0])>-1)&&(p=b.shift()),s=b.join(d)}return typeof p=="string"&&(p=[p]),{key:s,namespaces:p}}},{key:"translate",value:function(s,l,c){var d=this;if(rC(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var p=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,v=this.extractFromKey(s[s.length-1],l),b=v.key,S=v.namespaces,x=S[S.length-1],T=l.lng||this.language,E=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T&&T.toLowerCase()==="cimode"){if(E){var k=l.nsSeparator||this.options.nsSeparator;return x+k+b}return b}var F=this.resolve(s,l),N=F&&F.res,$=F&&F.usedKey||b,D=F&&F.exactUsedKey||b,O=Object.prototype.toString.apply(N),P=["[object Number]","[object Function]","[object RegExp]"],I=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,K=typeof N!="string"&&typeof N!="boolean"&&typeof N!="number";if(z&&N&&K&&P.indexOf(O)<0&&(typeof I!="string"||O!=="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler($,N,Mc({},l,{ns:S})):"key '".concat(b," (").concat(this.language,")' returned an object instead of string.");if(p){var j=O==="[object Array]",oe=j?[]:{},xe=j?D:$;for(var se in N)if(Object.prototype.hasOwnProperty.call(N,se)){var Q="".concat(xe).concat(p).concat(se);oe[se]=this.translate(Q,Mc({},l,{joinArrays:!1,ns:S})),oe[se]===Q&&(oe[se]=N[se])}N=oe}}else if(z&&typeof I=="string"&&O==="[object Array]")(N=N.join(I))&&(N=this.extendTranslation(N,s,l,c));else{var G=!1,ce=!1,he=l.count!==void 0&&typeof l.count!="string",ve=o.hasDefaultValue(l),qe=he?this.pluralResolver.getSuffix(T,l.count):"",U=l["defaultValue".concat(qe)]||l.defaultValue;!this.isValidLookup(N)&&ve&&(G=!0,N=U),this.isValidLookup(N)||(ce=!0,N=b);var Fe=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,De=Fe&&ce?void 0:N,Se=ve&&U!==N&&this.options.updateMissing;if(ce||G||Se){if(this.logger.log(Se?"updateKey":"missingKey",T,x,b,Se?U:N),p){var re=this.resolve(b,Mc({},l,{keySeparator:!1}));re&&re.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var le=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var ue=0;ue<fe.length;ue++)le.push(fe[ue]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(l.lng||this.language):le.push(l.lng||this.language);var Be=function(Ce,me,q){d.options.missingKeyHandler?d.options.missingKeyHandler(Ce,x,me,Se?q:De,Se,l):d.backendConnector&&d.backendConnector.saveMissing&&d.backendConnector.saveMissing(Ce,x,me,Se?q:De,Se,l),d.emit("missingKey",Ce,x,me,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&he?le.forEach(function(Ce){d.pluralResolver.getSuffixes(Ce).forEach(function(me){Be([Ce],b+me,l["defaultValue".concat(me)]||U)})}):Be(le,b,U))}N=this.extendTranslation(N,s,l,F,c),ce&&N===b&&this.options.appendNamespaceToMissingKey&&(N="".concat(x,":").concat(b)),(ce||G)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(N))}return N}},{key:"extendTranslation",value:function(s,l,c,d,p){var v=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,c,d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(Mc({},c,{interpolation:Mc({},this.options.interpolation,c.interpolation)}));var b,S=c.interpolation&&c.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(S){var x=s.match(this.interpolator.nestingRegexp);b=x&&x.length}var T=c.replace&&typeof c.replace!="string"?c.replace:c;if(this.options.interpolation.defaultVariables&&(T=Mc({},this.options.interpolation.defaultVariables,T)),s=this.interpolator.interpolate(s,T,c.lng||this.language,c),S){var E=s.match(this.interpolator.nestingRegexp);b<(E&&E.length)&&(c.nest=!1)}c.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var N=arguments.length,$=new Array(N),D=0;D<N;D++)$[D]=arguments[D];return p&&p[0]===$[0]&&!c.context?(v.logger.warn("It seems you are nesting recursively key: ".concat($[0]," in key: ").concat(l[0])),null):v.translate.apply(v,$.concat([l]))},c)),c.interpolation&&this.interpolator.reset()}var k=c.postProcess||this.options.postProcess,F=typeof k=="string"?[k]:k;return s!=null&&F&&F.length&&c.applyPostProcessor!==!1&&(s=uEe.handle(F,s,l,this.options&&this.options.postProcessPassResolved?Mc({i18nResolved:d},c):c,this)),s}},{key:"resolve",value:function(s){var l,c,d,p,v,b=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof s=="string"&&(s=[s]),s.forEach(function(x){if(!b.isValidLookup(l)){var T=b.extractFromKey(x,S),E=T.key;c=E;var k=T.namespaces;b.options.fallbackNS&&(k=k.concat(b.options.fallbackNS));var F=S.count!==void 0&&typeof S.count!="string",N=S.context!==void 0&&(typeof S.context=="string"||typeof S.context=="number")&&S.context!=="",$=S.lngs?S.lngs:b.languageUtils.toResolveHierarchy(S.lng||b.language,S.fallbackLng);k.forEach(function(D){b.isValidLookup(l)||(v=D,!Ove["".concat($[0],"-").concat(D)]&&b.utils&&b.utils.hasLoadedNamespace&&!b.utils.hasLoadedNamespace(v)&&(Ove["".concat($[0],"-").concat(D)]=!0,b.logger.warn('key "'.concat(c,'" for languages "').concat($.join(", "),`" won't get resolved as namespace "`).concat(v,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),$.forEach(function(O){if(!b.isValidLookup(l)){p=O;var P,I,z=E,K=[z];for(b.i18nFormat&&b.i18nFormat.addLookupKeys?b.i18nFormat.addLookupKeys(K,E,O,D,S):(F&&(P=b.pluralResolver.getSuffix(O,S.count)),F&&N&&K.push(z+P),N&&K.push(z+="".concat(b.options.contextSeparator).concat(S.context)),F&&K.push(z+=P));I=K.pop();)b.isValidLookup(l)||(d=I,l=b.getResource(O,D,I,S))}}))})}}),{res:l,usedKey:c,exactUsedKey:d,usedLng:p,usedNS:v}}},{key:"isValidLookup",value:function(s){return!(s===void 0||!this.options.returnNull&&s===null||!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,l,c,d):this.resourceStore.getResource(s,l,c,d)}}],[{key:"hasDefaultValue",value:function(s){var l="defaultValue";for(var c in s)if(Object.prototype.hasOwnProperty.call(s,c)&&l===c.substring(0,l.length)&&s[c]!==void 0)return!0;return!1}}]),o}();function sre(e){return e.charAt(0).toUpperCase()+e.slice(1)}var qFe=function(){function e(o){my(this,e),this.options=o,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ly.create("languageUtils")}return vy(e,[{key:"getScriptPartFromCode",value:function(o){if(!o||o.indexOf("-")<0)return null;var s=o.split("-");return s.length===2?null:(s.pop(),s[s.length-1].toLowerCase()==="x"?null:this.formatLanguageCode(s.join("-")))}},{key:"getLanguagePartFromCode",value:function(o){if(!o||o.indexOf("-")<0)return o;var s=o.split("-");return this.formatLanguageCode(s[0])}},{key:"formatLanguageCode",value:function(o){if(typeof o=="string"&&o.indexOf("-")>-1){var s=["hans","hant","latn","cyrl","cans","mong","arab"],l=o.split("-");return this.options.lowerCaseLng?l=l.map(function(c){return c.toLowerCase()}):l.length===2?(l[0]=l[0].toLowerCase(),l[1]=l[1].toUpperCase(),s.indexOf(l[1].toLowerCase())>-1&&(l[1]=sre(l[1].toLowerCase()))):l.length===3&&(l[0]=l[0].toLowerCase(),l[1].length===2&&(l[1]=l[1].toUpperCase()),l[0]!=="sgn"&&l[2].length===2&&(l[2]=l[2].toUpperCase()),s.indexOf(l[1].toLowerCase())>-1&&(l[1]=sre(l[1].toLowerCase())),s.indexOf(l[2].toLowerCase())>-1&&(l[2]=sre(l[2].toLowerCase()))),l.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?o.toLowerCase():o}},{key:"isWhitelisted",value:function(o){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(o)}},{key:"isSupportedCode",value:function(o){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(o=this.getLanguagePartFromCode(o)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(o)>-1}},{key:"getBestMatchFromCodes",value:function(o){var s,l=this;return o?(o.forEach(function(c){if(!s){var d=l.formatLanguageCode(c);l.options.supportedLngs&&!l.isSupportedCode(d)||(s=d)}}),!s&&this.options.supportedLngs&&o.forEach(function(c){if(!s){var d=l.getLanguagePartFromCode(c);if(l.isSupportedCode(d))return s=d;s=l.options.supportedLngs.find(function(p){if(p.indexOf(d)===0)return p})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s):null}},{key:"getFallbackCodes",value:function(o,s){if(!o)return[];if(typeof o=="function"&&(o=o(s)),typeof o=="string"&&(o=[o]),Object.prototype.toString.apply(o)==="[object Array]")return o;if(!s)return o.default||[];var l=o[s];return l||(l=o[this.getScriptPartFromCode(s)]),l||(l=o[this.formatLanguageCode(s)]),l||(l=o[this.getLanguagePartFromCode(s)]),l||(l=o.default),l||[]}},{key:"toResolveHierarchy",value:function(o,s){var l=this,c=this.getFallbackCodes(s||this.options.fallbackLng||[],o),d=[],p=function(v){v&&(l.isSupportedCode(v)?d.push(v):l.logger.warn("rejecting language code not found in supportedLngs: ".concat(v)))};return typeof o=="string"&&o.indexOf("-")>-1?(this.options.load!=="languageOnly"&&p(this.formatLanguageCode(o)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&p(this.getScriptPartFromCode(o)),this.options.load!=="currentOnly"&&p(this.getLanguagePartFromCode(o))):typeof o=="string"&&p(this.formatLanguageCode(o)),c.forEach(function(v){d.indexOf(v)<0&&p(l.formatLanguageCode(v))}),d}}]),e}(),ZFe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],GFe={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}};function KFe(){var e={};return ZFe.forEach(function(o){o.lngs.forEach(function(s){e[s]={numbers:o.nr,plurals:GFe[o.fc]}})}),e}var YFe=function(){function e(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};my(this,e),this.languageUtils=o,this.options=s,this.logger=ly.create("pluralResolver"),this.rules=KFe()}return vy(e,[{key:"addRule",value:function(o,s){this.rules[o]=s}},{key:"getRule",value:function(o){return this.rules[o]||this.rules[this.languageUtils.getLanguagePartFromCode(o)]}},{key:"needsPlural",value:function(o){var s=this.getRule(o);return s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(o,s){return this.getSuffixes(o).map(function(l){return s+l})}},{key:"getSuffixes",value:function(o){var s=this,l=this.getRule(o);return l?l.numbers.map(function(c){return s.getSuffix(o,c)}):[]}},{key:"getSuffix",value:function(o,s){var l=this,c=this.getRule(o);if(c){var d=c.noAbs?c.plurals(s):c.plurals(Math.abs(s)),p=c.numbers[d];this.options.simplifyPluralSuffix&&c.numbers.length===2&&c.numbers[0]===1&&(p===2?p="plural":p===1&&(p=""));var v=function(){return l.options.prepend&&p.toString()?l.options.prepend+p.toString():p.toString()};return this.options.compatibilityJSON==="v1"?p===1?"":typeof p=="number"?"_plural_".concat(p.toString()):v():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&c.numbers.length===2&&c.numbers[0]===1?v():this.options.prepend&&d.toString()?this.options.prepend+d.toString():d.toString()}return this.logger.warn("no plural rule found for: ".concat(o)),""}}]),e}(),XFe=function(){function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};my(this,e),this.logger=ly.create("interpolator"),this.options=o,this.format=o.interpolation&&o.interpolation.format||function(s){return s},this.init(o)}return vy(e,[{key:"init",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o.interpolation||(o.interpolation={escapeValue:!0});var s=o.interpolation;this.escape=s.escape!==void 0?s.escape:UFe,this.escapeValue=s.escapeValue===void 0||s.escapeValue,this.useRawValueToEscape=s.useRawValueToEscape!==void 0&&s.useRawValueToEscape,this.prefix=s.prefix?NO(s.prefix):s.prefixEscaped||"{{",this.suffix=s.suffix?NO(s.suffix):s.suffixEscaped||"}}",this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||",",this.unescapePrefix=s.unescapeSuffix?"":s.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":s.unescapeSuffix||"",this.nestingPrefix=s.nestingPrefix?NO(s.nestingPrefix):s.nestingPrefixEscaped||NO("$t("),this.nestingSuffix=s.nestingSuffix?NO(s.nestingSuffix):s.nestingSuffixEscaped||NO(")"),this.nestingOptionsSeparator=s.nestingOptionsSeparator?s.nestingOptionsSeparator:s.nestingOptionsSeparator||",",this.maxReplaces=s.maxReplaces?s.maxReplaces:1e3,this.alwaysFormat=s.alwaysFormat!==void 0&&s.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var o="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(o,"g");var s="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(s,"g");var l="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(l,"g")}},{key:"interpolate",value:function(o,s,l,c){var d,p,v,b=this,S=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function x(N){return N.replace(/\$/g,"$$$$")}var T=function(N){if(N.indexOf(b.formatSeparator)<0){var $=Tve(s,S,N);return b.alwaysFormat?b.format($,void 0,l,Mc({},c,s,{interpolationkey:N})):$}var D=N.split(b.formatSeparator),O=D.shift().trim(),P=D.join(b.formatSeparator).trim();return b.format(Tve(s,S,O),P,l,Mc({},c,s,{interpolationkey:O}))};this.resetRegExp();var E=c&&c.missingInterpolationHandler||this.options.missingInterpolationHandler,k=c&&c.interpolation&&c.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,F=[{regex:this.regexpUnescape,safeValue:function(N){return x(N)}},{regex:this.regexp,safeValue:function(N){return b.escapeValue?x(b.escape(N)):x(N)}}];return F.forEach(function(N){for(v=0;d=N.regex.exec(o);){if((p=T(d[1].trim()))===void 0)if(typeof E=="function"){var $=E(o,d,c);p=typeof $=="string"?$:""}else{if(k){p=d[0];continue}b.logger.warn("missed to pass in variable ".concat(d[1]," for interpolating ").concat(o)),p=""}else typeof p=="string"||b.useRawValueToEscape||(p=kve(p));var D=N.safeValue(p);if(o=o.replace(d[0],D),k?(N.regex.lastIndex+=D.length,N.regex.lastIndex-=d[0].length):N.regex.lastIndex=0,++v>=b.maxReplaces)break}}),o}},{key:"nest",value:function(o,s){var l,c,d=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=Mc({},p);function b(E,k){var F=this.nestingOptionsSeparator;if(E.indexOf(F)<0)return E;var N=E.split(new RegExp("".concat(F,"[ ]*{"))),$="{".concat(N[1]);E=N[0],$=($=this.interpolate($,v)).replace(/'/g,'"');try{v=JSON.parse($),k&&(v=Mc({},k,v))}catch(D){return this.logger.warn("failed parsing options string in nesting for key ".concat(E),D),"".concat(E).concat(F).concat($)}return delete v.defaultValue,E}for(v.applyPostProcessor=!1,delete v.defaultValue;l=this.nestingRegexp.exec(o);){var S=[],x=!1;if(l[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(l[1])){var T=l[1].split(this.formatSeparator).map(function(E){return E.trim()});l[1]=T.shift(),S=T,x=!0}if((c=s(b.call(this,l[1].trim(),v),v))&&l[0]===o&&typeof c!="string")return c;typeof c!="string"&&(c=kve(c)),c||(this.logger.warn("missed to resolve ".concat(l[1]," for nesting ").concat(o)),c=""),x&&(c=S.reduce(function(E,k){return d.format(E,k,p.lng,Mc({},p,{interpolationkey:l[1].trim()}))},c.trim())),o=o.replace(l[0],c),this.regexp.lastIndex=0}return o}}]),e}(),JFe=function(e){function o(s,l,c){var d,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return my(this,o),d=CP(this,j5(o).call(this)),Bq&&SC.call(F4(d)),d.backend=s,d.store=l,d.services=c,d.languageUtils=c.languageUtils,d.options=p,d.logger=ly.create("backendConnector"),d.state={},d.queue=[],d.backend&&d.backend.init&&d.backend.init(c,p.backend,p),d}return Dq(o,SC),vy(o,[{key:"queueLoad",value:function(s,l,c,d){var p=this,v=[],b=[],S=[],x=[];return s.forEach(function(T){var E=!0;l.forEach(function(k){var F="".concat(T,"|").concat(k);!c.reload&&p.store.hasResourceBundle(T,k)?p.state[F]=2:p.state[F]<0||(p.state[F]===1?b.indexOf(F)<0&&b.push(F):(p.state[F]=1,E=!1,b.indexOf(F)<0&&b.push(F),v.indexOf(F)<0&&v.push(F),x.indexOf(k)<0&&x.push(k)))}),E||S.push(T)}),(v.length||b.length)&&this.queue.push({pending:b,loaded:{},errors:[],callback:d}),{toLoad:v,pending:b,toLoadLanguages:S,toLoadNamespaces:x}}},{key:"loaded",value:function(s,l,c){var d=s.split("|"),p=d[0],v=d[1];l&&this.emit("failedLoading",p,v,l),c&&this.store.addResourceBundle(p,v,c),this.state[s]=l?-1:2;var b={};this.queue.forEach(function(S){(function(x,T,E,k){var F=ufe(x,T,Object),N=F.obj,$=F.k;N[$]=N[$]||[],k&&(N[$]=N[$].concat(E)),k||N[$].push(E)})(S.loaded,[p],v),function(x,T){for(var E=x.indexOf(T);E!==-1;)x.splice(E,1),E=x.indexOf(T)}(S.pending,s),l&&S.errors.push(l),S.pending.length!==0||S.done||(Object.keys(S.loaded).forEach(function(x){b[x]||(b[x]=[]),S.loaded[x].length&&S.loaded[x].forEach(function(T){b[x].indexOf(T)<0&&b[x].push(T)})}),S.done=!0,S.errors.length?S.callback(S.errors):S.callback())}),this.emit("loaded",b),this.queue=this.queue.filter(function(S){return!S.done})}},{key:"read",value:function(s,l,c){var d=this,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,b=arguments.length>5?arguments[5]:void 0;return s.length?this.backend[c](s,l,function(S,x){S&&x&&p<5?setTimeout(function(){d.read.call(d,s,l,c,p+1,2*v,b)},v):b(S,x)}):b(null,{})}},{key:"prepareLoading",value:function(s,l){var c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),p&&p();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof l=="string"&&(l=[l]);var v=this.queueLoad(s,l,d,p);if(!v.toLoad.length)return v.pending.length||p(),null;v.toLoad.forEach(function(b){c.loadOne(b)})}},{key:"load",value:function(s,l,c){this.prepareLoading(s,l,{},c)}},{key:"reload",value:function(s,l,c){this.prepareLoading(s,l,{reload:!0},c)}},{key:"loadOne",value:function(s){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=s.split("|"),p=d[0],v=d[1];this.read(p,v,"read",void 0,void 0,function(b,S){b&&l.logger.warn("".concat(c,"loading namespace ").concat(v," for language ").concat(p," failed"),b),!b&&S&&l.logger.log("".concat(c,"loaded namespace ").concat(v," for language ").concat(p),S),l.loaded(s,b,S)})}},{key:"saveMissing",value:function(s,l,c,d,p){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)?this.logger.warn('did not save key "'.concat(c,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):c!=null&&c!==""&&(this.backend&&this.backend.create&&this.backend.create(s,l,c,d,null,Mc({},v,{isUpdate:p})),s&&s[0]&&this.store.addResource(s[0],l,c,d))}}]),o}();function QFe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var o={};if(rC(e[1])==="object"&&(o=e[1]),typeof e[1]=="string"&&(o.defaultValue=e[1]),typeof e[2]=="string"&&(o.tDescription=e[2]),rC(e[2])==="object"||rC(e[3])==="object"){var s=e[3]||e[2];Object.keys(s).forEach(function(l){o[l]=s[l]})}return o},interpolation:{escapeValue:!0,format:function(e,o,s,l){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function $ve(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function rV(){}var eRe=function(e){function o(){var s,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;if(my(this,o),s=CP(this,j5(o).call(this)),Bq&&SC.call(F4(s)),s.options=$ve(l),s.services={},s.logger=ly,s.modules={external:[]},c&&!s.isInitialized&&!l.isClone){if(!s.options.initImmediate)return s.init(l,c),CP(s,F4(s));setTimeout(function(){s.init(l,c)},0)}return s}return Dq(o,SC),vy(o,[{key:"init",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;function d(k){return k?typeof k=="function"?new k:k:null}if(typeof l=="function"&&(c=l,l={}),l.whitelist&&!l.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),l.nonExplicitWhitelist&&!l.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Mc({},QFe(),this.options,$ve(l)),this.format=this.options.interpolation.format,c||(c=rV),!this.options.isClone){this.modules.logger?ly.init(d(this.modules.logger),this.options):ly.init(null,this.options);var p=new qFe(this.options);this.store=new WFe(this.options.resources,this.options);var v=this.services;v.logger=ly,v.resourceStore=this.store,v.languageUtils=p,v.pluralResolver=new YFe(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v.interpolator=new XFe(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new JFe(d(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(k){for(var F=arguments.length,N=new Array(F>1?F-1:0),$=1;$<F;$++)N[$-1]=arguments[$];s.emit.apply(s,[k].concat(N))}),this.modules.languageDetector&&(v.languageDetector=d(this.modules.languageDetector),v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=d(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new _ve(this.services,this.options),this.translator.on("*",function(k){for(var F=arguments.length,N=new Array(F>1?F-1:0),$=1;$<F;$++)N[$-1]=arguments[$];s.emit.apply(s,[k].concat(N))}),this.modules.external.forEach(function(k){k.init&&k.init(s)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.length>0&&b[0]!=="dev"&&(this.options.lng=b[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var S=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];S.forEach(function(k){s[k]=function(){var F;return(F=s.store)[k].apply(F,arguments)}});var x=["addResource","addResources","addResourceBundle","removeResourceBundle"];x.forEach(function(k){s[k]=function(){var F;return(F=s.store)[k].apply(F,arguments),s}});var T=RB(),E=function(){var k=function(F,N){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),T.resolve(N),c(F,N)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return k(null,s.t.bind(s));s.changeLanguage(s.options.lng,k)};return this.options.resources||!this.options.initImmediate?E():setTimeout(E,0),T}},{key:"loadResources",value:function(s){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rV,d=c,p=typeof s=="string"?s:this.language;if(typeof s=="function"&&(d=s),!this.options.resources||this.options.partialBundledLanguages){if(p&&p.toLowerCase()==="cimode")return d();var v=[],b=function(x){x&&l.services.languageUtils.toResolveHierarchy(x).forEach(function(T){v.indexOf(T)<0&&v.push(T)})};if(p)b(p);else{var S=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);S.forEach(function(x){return b(x)})}this.options.preload&&this.options.preload.forEach(function(x){return b(x)}),this.services.backendConnector.load(v,this.options.ns,d)}else d(null)}},{key:"reloadResources",value:function(s,l,c){var d=RB();return s||(s=this.languages),l||(l=this.options.ns),c||(c=rV),this.services.backendConnector.reload(s,l,function(p){d.resolve(),c(p)}),d}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&uEe.addPostProcessor(s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"changeLanguage",value:function(s,l){var c=this;this.isLanguageChangingTo=s;var d=RB();this.emit("languageChanging",s);var p=function(v){s||v||!c.services.languageDetector||(v=[]);var b=typeof v=="string"?v:c.services.languageUtils.getBestMatchFromCodes(v);b&&(c.language||(c.language=b,c.languages=c.services.languageUtils.toResolveHierarchy(b)),c.translator.language||c.translator.changeLanguage(b),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage(b)),c.loadResources(b,function(S){(function(x,T){T?(c.language=T,c.languages=c.services.languageUtils.toResolveHierarchy(T),c.translator.changeLanguage(T),c.isLanguageChangingTo=void 0,c.emit("languageChanged",T),c.logger.log("languageChanged",T)):c.isLanguageChangingTo=void 0,d.resolve(function(){return c.t.apply(c,arguments)}),l&&l(x,function(){return c.t.apply(c,arguments)})})(S,b)})};return s||!this.services.languageDetector||this.services.languageDetector.async?!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(p):p(s):p(this.services.languageDetector.detect()),d}},{key:"getFixedT",value:function(s,l,c){var d=this,p=function v(b,S){var x;if(rC(S)!=="object"){for(var T=arguments.length,E=new Array(T>2?T-2:0),k=2;k<T;k++)E[k-2]=arguments[k];x=d.options.overloadTranslationOptionHandler([b,S].concat(E))}else x=Mc({},S);x.lng=x.lng||v.lng,x.lngs=x.lngs||v.lngs,x.ns=x.ns||v.ns;var F=d.options.keySeparator||".",N=c?"".concat(c).concat(F).concat(b):b;return d.t(N,x)};return typeof s=="string"?p.lng=s:p.lngs=s,p.ns=l,p.keyPrefix=c,p}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var d=this.languages[0],p=!!this.options&&this.options.fallbackLng,v=this.languages[this.languages.length-1];if(d.toLowerCase()==="cimode")return!0;var b=function(x,T){var E=l.services.backendConnector.state["".concat(x,"|").concat(T)];return E===-1||E===2};if(c.precheck){var S=c.precheck(this,b);if(S!==void 0)return S}return!!this.hasResourceBundle(d,s)||!this.services.backendConnector.backend||!(!b(d,s)||p&&!b(v,s))}},{key:"loadNamespaces",value:function(s,l){var c=this,d=RB();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(p){c.options.ns.indexOf(p)<0&&c.options.ns.push(p)}),this.loadResources(function(p){d.resolve(),l&&l(p)}),d):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(s,l){var c=RB();typeof s=="string"&&(s=[s]);var d=this.options.preload||[],p=s.filter(function(v){return d.indexOf(v)<0});return p.length?(this.options.preload=d.concat(p),this.loadResources(function(v){c.resolve(),l&&l(v)}),c):(l&&l(),Promise.resolve())}},{key:"dir",value:function(s){return s||(s=this.languages&&this.languages.length>0?this.languages[0]:this.language),s?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(s))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;return new o(s,l)}},{key:"cloneInstance",value:function(){var s=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rV,d=Mc({},this.options,l,{isClone:!0}),p=new o(d),v=["store","services","language"];return v.forEach(function(b){p[b]=s[b]}),p.services=Mc({},this.services),p.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p.translator=new _ve(p.services,p.options),p.translator.on("*",function(b){for(var S=arguments.length,x=new Array(S>1?S-1:0),T=1;T<S;T++)x[T-1]=arguments[T];p.emit.apply(p,[b].concat(x))}),p.init(d,c),p.translator.options=p.options,p.translator.backendConnector.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),o}(),GU=new eRe,tRe="translation";function nh(e,o){GU.addResourceBundle(e,tRe,o,!0,!0)}GU.init({lng:"zh-CN",resources:{}});var Co=GU.t.bind(GU),nRe={editor:{more:"More",justify:"Justify",indent:"Indent",image:"Image",video:"Video"}},oRe={editor:{more:"\u66F4\u591A",justify:"\u5BF9\u9F50",indent:"\u7F29\u8FDB",image:"\u56FE\u7247",video:"\u89C6\u9891"}};nh("en",nRe);nh("zh-CN",oRe);nh("en",{common:{ok:"OK",delete:"Delete",enter:"Enter"},blockQuote:{title:"Quote"},codeBlock:{title:"Code block"},color:{color:"Font color",bgColor:"Back color",default:"Default color",clear:"Clear back color"},divider:{title:"Divider"},emotion:{title:"Emotion"},fontSize:{title:"Font size",default:"Default"},fontFamily:{title:"Font family",default:"Default"},fullScreen:{title:"Full screen"},header:{title:"Header",text:"Text"},image:{netImage:"Net image",delete:"Delete image",edit:"Edit image",viewLink:"View link",src:"Image src",desc:"Description",link:"Image link"},indent:{decrease:"Decrease",increase:"Increase"},justify:{left:"Left",right:"Right",center:"Center",justify:"Justify"},lineHeight:{title:"Line height",default:"Default"},link:{insert:"Insert link",text:"Link text",url:"Link source",unLink:"Unlink",edit:"Edit link",view:"View link"},textStyle:{bold:"Bold",clear:"Clear styles",code:"Inline code",italic:"Italic",sub:"Sub",sup:"Sup",through:"Through",underline:"Underline"},undo:{undo:"undo",redo:"Redo"},todo:{todo:"Todo"}}),nh("zh-CN",{common:{ok:"\u786E\u5B9A",delete:"\u5220\u9664",enter:"\u56DE\u8F66"},blockQuote:{title:"\u5F15\u7528"},codeBlock:{title:"\u4EE3\u7801\u5757"},color:{color:"\u6587\u5B57\u989C\u8272",bgColor:"\u80CC\u666F\u8272",default:"\u9ED8\u8BA4\u989C\u8272",clear:"\u6E05\u9664\u80CC\u666F\u8272"},divider:{title:"\u5206\u5272\u7EBF"},emotion:{title:"\u8868\u60C5"},fontSize:{title:"\u5B57\u53F7",default:"\u9ED8\u8BA4\u5B57\u53F7"},fontFamily:{title:"\u5B57\u4F53",default:"\u9ED8\u8BA4\u5B57\u4F53"},fullScreen:{title:"\u5168\u5C4F"},header:{title:"\u6807\u9898",text:"\u6B63\u6587"},image:{netImage:"\u7F51\u7EDC\u56FE\u7247",delete:"\u5220\u9664\u56FE\u7247",edit:"\u7F16\u8F91\u56FE\u7247",viewLink:"\u67E5\u770B\u94FE\u63A5",src:"\u56FE\u7247\u5730\u5740",desc:"\u56FE\u7247\u63CF\u8FF0",link:"\u56FE\u7247\u94FE\u63A5"},indent:{decrease:"\u51CF\u5C11\u7F29\u8FDB",increase:"\u589E\u52A0\u7F29\u8FDB"},justify:{left:"\u5DE6\u5BF9\u9F50",right:"\u53F3\u5BF9\u9F50",center:"\u5C45\u4E2D\u5BF9\u9F50",justify:"\u4E24\u7AEF\u5BF9\u9F50"},lineHeight:{title:"\u884C\u9AD8",default:"\u9ED8\u8BA4\u884C\u9AD8"},link:{insert:"\u63D2\u5165\u94FE\u63A5",text:"\u94FE\u63A5\u6587\u672C",url:"\u94FE\u63A5\u5730\u5740",unLink:"\u53D6\u6D88\u94FE\u63A5",edit:"\u4FEE\u6539\u94FE\u63A5",view:"\u67E5\u770B\u94FE\u63A5"},textStyle:{bold:"\u7C97\u4F53",clear:"\u6E05\u9664\u683C\u5F0F",code:"\u884C\u5185\u4EE3\u7801",italic:"\u659C\u4F53",sub:"\u4E0B\u6807",sup:"\u4E0A\u6807",through:"\u5220\u9664\u7EBF",underline:"\u4E0B\u5212\u7EBF"},undo:{undo:"\u64A4\u9500",redo:"\u91CD\u505A"},todo:{todo:"\u5F85\u529E"}});var rRe={type:"paragraph",renderElem:function(e,o,s){return is("p",null,o)}},sRe={type:"paragraph",elemToHtml:function(e,o){return o===""?"<p><br></p>":"<p>"+o+"</p>"}},KU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iRe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nq(e){var o={exports:{}};return e(o,o.exports),o.exports}var Pw,QV,sV=function(e){return e&&e.Math==Math&&e},ws=sV(typeof globalThis=="object"&&globalThis)||sV(typeof window=="object"&&window)||sV(typeof self=="object"&&self)||sV(typeof KU=="object"&&KU)||function(){return this}()||Function("return this")(),_l=function(e){try{return!!e()}catch{return!0}},qm=!_l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),MB=Function.prototype.call,rc=MB.bind?MB.bind(MB):function(){return MB.apply(MB,arguments)},Dve={}.propertyIsEnumerable,Bve=Object.getOwnPropertyDescriptor,aRe=Bve&&!Dve.call({1:2},1)?function(e){var o=Bve(this,e);return!!o&&o.enumerable}:Dve,fEe={f:aRe},ffe=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},dEe=Function.prototype,Mae=dEe.bind,Iae=dEe.call,lRe=Mae&&Mae.bind(Iae),es=Mae?function(e){return e&&lRe(Iae,e)}:function(e){return e&&function(){return Iae.apply(e,arguments)}},cRe=es({}.toString),uRe=es("".slice),sC=function(e){return uRe(cRe(e),8,-1)},ire=ws.Object,fRe=es("".split),Pq=_l(function(){return!ire("z").propertyIsEnumerable(0)})?function(e){return sC(e)=="String"?fRe(e,""):ire(e)}:ire,dRe=ws.TypeError,wg=function(e){if(e==null)throw dRe("Can't call method on "+e);return e},s_=function(e){return Pq(wg(e))},af=function(e){return typeof e=="function"},cg=function(e){return typeof e=="object"?e!==null:af(e)},hRe=function(e){return af(e)?e:void 0},iF=function(e,o){return arguments.length<2?hRe(ws[e]):ws[e]&&ws[e][o]},hEe=es({}.isPrototypeOf),are=iF("navigator","userAgent")||"",Nve=ws.process,Pve=ws.Deno,Fve=Nve&&Nve.versions||Pve&&Pve.version,Rve=Fve&&Fve.v8;Rve&&(QV=(Pw=Rve.split("."))[0]>0&&Pw[0]<4?1:+(Pw[0]+Pw[1])),!QV&&are&&(!(Pw=are.match(/Edge\/(\d+)/))||Pw[1]>=74)&&(Pw=are.match(/Chrome\/(\d+)/))&&(QV=+Pw[1]);var Lae=QV,Hae=!!Object.getOwnPropertySymbols&&!_l(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Lae&&Lae<41}),dfe=Hae&&!Symbol.sham&&typeof Symbol.iterator=="symbol",pRe=ws.Object,jae=dfe?function(e){return typeof e=="symbol"}:function(e){var o=iF("Symbol");return af(o)&&hEe(o.prototype,pRe(e))},gRe=ws.String,pEe=function(e){try{return gRe(e)}catch{return"Object"}},mRe=ws.TypeError,gEe=function(e){if(af(e))return e;throw mRe(pEe(e)+" is not a function")},Fq=function(e,o){var s=e[o];return s==null?void 0:gEe(s)},vRe=ws.TypeError,bRe=Object.defineProperty,hfe=function(e,o){try{bRe(ws,e,{value:o,configurable:!0,writable:!0})}catch{ws[e]=o}return o},iC=ws["__core-js_shared__"]||hfe("__core-js_shared__",{}),pfe=Nq(function(e){(e.exports=function(o,s){return iC[o]||(iC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),yRe=ws.Object,aF=function(e){return yRe(wg(e))},wRe=es({}.hasOwnProperty),hg=Object.hasOwn||function(e,o){return wRe(aF(e),o)},CRe=0,SRe=Math.random(),xRe=es(1 .toString),mEe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+xRe(++CRe+SRe,36)},IB=pfe("wks"),p4=ws.Symbol,Mve=p4&&p4.for,ERe=dfe?p4:p4&&p4.withoutSetter||mEe,dp=function(e){if(!hg(IB,e)||!Hae&&typeof IB[e]!="string"){var o="Symbol."+e;Hae&&hg(p4,e)?IB[e]=p4[e]:IB[e]=dfe&&Mve?Mve(o):ERe(o)}return IB[e]},kRe=ws.TypeError,ARe=dp("toPrimitive"),TRe=function(e,o){if(!cg(e)||jae(e))return e;var s,l=Fq(e,ARe);if(l){if(o===void 0&&(o="default"),s=rc(l,e,o),!cg(s)||jae(s))return s;throw kRe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&af(p=c.toString)&&!cg(v=rc(p,c))||af(p=c.valueOf)&&!cg(v=rc(p,c))||d!=="string"&&af(p=c.toString)&&!cg(v=rc(p,c)))return v;throw vRe("Can't convert object to primitive value")}(e,o)},gfe=function(e){var o=TRe(e,"string");return jae(o)?o:o+""},zae=ws.document,ORe=cg(zae)&&cg(zae.createElement),mfe=function(e){return ORe?zae.createElement(e):{}},vEe=!qm&&!_l(function(){return Object.defineProperty(mfe("div"),"a",{get:function(){return 7}}).a!=7}),Ive=Object.getOwnPropertyDescriptor,vfe={f:qm?Ive:function(e,o){if(e=s_(e),o=gfe(o),vEe)try{return Ive(e,o)}catch{}if(hg(e,o))return ffe(!rc(fEe.f,e,o),e[o])}},_Re=ws.String,$Re=ws.TypeError,lp=function(e){if(cg(e))return e;throw $Re(_Re(e)+" is not an object")},DRe=ws.TypeError,Lve=Object.defineProperty,i_={f:qm?Lve:function(e,o,s){if(lp(e),o=gfe(o),lp(s),vEe)try{return Lve(e,o,s)}catch{}if("get"in s||"set"in s)throw DRe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},z5=qm?function(e,o,s){return i_.f(e,o,ffe(1,s))}:function(e,o,s){return e[o]=s,e},BRe=es(Function.toString);af(iC.inspectSource)||(iC.inspectSource=function(e){return BRe(e)});var YU,UN,XU,bfe=iC.inspectSource,Hve=ws.WeakMap,NRe=af(Hve)&&/native code/.test(bfe(Hve)),jve=pfe("keys"),bEe=function(e){return jve[e]||(jve[e]=mEe(e))},yfe={},Vae=ws.TypeError,PRe=ws.WeakMap;if(NRe||iC.state){var IE=iC.state||(iC.state=new PRe),FRe=es(IE.get),zve=es(IE.has),RRe=es(IE.set);YU=function(e,o){if(zve(IE,e))throw new Vae("Object already initialized");return o.facade=e,RRe(IE,e,o),o},UN=function(e){return FRe(IE,e)||{}},XU=function(e){return zve(IE,e)}}else{var PO=bEe("state");yfe[PO]=!0,YU=function(e,o){if(hg(e,PO))throw new Vae("Object already initialized");return o.facade=e,z5(e,PO,o),o},UN=function(e){return hg(e,PO)?e[PO]:{}},XU=function(e){return hg(e,PO)}}var Uae={set:YU,get:UN,has:XU,enforce:function(e){return XU(e)?UN(e):YU(e,{})},getterFor:function(e){return function(o){var s;if(!cg(o)||(s=UN(o)).type!==e)throw Vae("Incompatible receiver, "+e+" required");return s}}},yEe=Function.prototype,MRe=qm&&Object.getOwnPropertyDescriptor,lre=hg(yEe,"name"),Rq={EXISTS:lre,PROPER:lre&&function(){}.name==="something",CONFIGURABLE:lre&&(!qm||qm&&MRe(yEe,"name").configurable)},SP=Nq(function(e){var o=Rq.CONFIGURABLE,s=Uae.get,l=Uae.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;af(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!hg(v,"name")||o&&v.name!==k)&&z5(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==ws?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:z5(d,p,v)):T?d[p]=v:hfe(p,v)})(Function.prototype,"toString",function(){return af(this)&&s(this).source||bfe(this)})}),IRe=Math.ceil,LRe=Math.floor,a_=function(e){var o=+e;return o!=o||o===0?0:(o>0?LRe:IRe)(o)},HRe=Math.max,jRe=Math.min,xP=function(e,o){var s=a_(e);return s<0?HRe(s+o,0):jRe(s,o)},zRe=Math.min,lF=function(e){return e>0?zRe(a_(e),9007199254740991):0},Mq=function(e){return lF(e.length)},Vve=function(e){return function(o,s,l){var c,d=s_(o),p=Mq(d),v=xP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},wEe={includes:Vve(!0),indexOf:Vve(!1)},VRe=wEe.indexOf,Uve=es([].push),CEe=function(e,o){var s,l=s_(e),c=0,d=[];for(s in l)!hg(yfe,s)&&hg(l,s)&&Uve(d,s);for(;o.length>c;)hg(l,s=o[c++])&&(~VRe(d,s)||Uve(d,s));return d},JU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],URe=JU.concat("length","prototype"),WRe={f:Object.getOwnPropertyNames||function(e){return CEe(e,URe)}},SEe={f:Object.getOwnPropertySymbols},qRe=es([].concat),ZRe=iF("Reflect","ownKeys")||function(e){var o=WRe.f(lp(e)),s=SEe.f;return s?qRe(o,s(e)):o},GRe=function(e,o){for(var s=ZRe(o),l=i_.f,c=vfe.f,d=0;d<s.length;d++){var p=s[d];hg(e,p)||l(e,p,c(o,p))}},KRe=/#|\.prototype\./,cF=function(e,o){var s=XRe[YRe(e)];return s==QRe||s!=JRe&&(af(o)?_l(o):!!o)},YRe=cF.normalize=function(e){return String(e).replace(KRe,".").toLowerCase()},XRe=cF.data={},JRe=cF.NATIVE="N",QRe=cF.POLYFILL="P",e9e=cF,t9e=vfe.f,cu=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?ws:S?ws[v]||hfe(v,{}):(ws[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=t9e(s,l))&&p.value:s[l],!e9e(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;GRe(d,c)}(e.sham||c&&c.sham)&&z5(d,"sham",!0),SP(s,l,d,e)}},Wve=es(es.bind),QU=Array.isArray||function(e){return sC(e)=="Array"},xEe={};xEe[dp("toStringTag")]="z";var wfe=String(xEe)==="[object z]",n9e=dp("toStringTag"),o9e=ws.Object,r9e=sC(function(){return arguments}())=="Arguments",Cfe=wfe?sC:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=o9e(e),n9e))=="string"?s:r9e?sC(o):(l=sC(o))=="Object"&&af(o.callee)?"Arguments":l},EEe=function(){},s9e=[],kEe=iF("Reflect","construct"),Sfe=/^\s*(?:class|function)\b/,i9e=es(Sfe.exec),a9e=!Sfe.exec(EEe),LB=function(e){if(!af(e))return!1;try{return kEe(EEe,s9e,e),!0}catch{return!1}},xfe=!kEe||_l(function(){var e;return LB(LB.call)||!LB(Object)||!LB(function(){e=!0})||e})?function(e){if(!af(e))return!1;switch(Cfe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return a9e||!!i9e(Sfe,bfe(e))}:LB,l9e=dp("species"),qve=ws.Array,c9e=function(e,o){return new(function(s){var l;return QU(s)&&(l=s.constructor,(xfe(l)&&(l===qve||QU(l.prototype))||cg(l)&&(l=l[l9e])===null)&&(l=void 0)),l===void 0?qve:l}(e))(o===0?0:o)},Zve=es([].push),Fw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=aF(b),N=Pq(F),$=function(z,K){return gEe(z),K===void 0?z:Wve?Wve(z,K):function(){return z.apply(K,arguments)}}(S,x),D=Mq(N),O=0,P=T||c9e,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:Zve(I,E)}else switch(e){case 4:return!1;case 7:Zve(I,E)}return d?-1:l||c?c:I}},Iq={forEach:Fw(0),map:Fw(1),filter:Fw(2),some:Fw(3),every:Fw(4),find:Fw(5),findIndex:Fw(6),filterReject:Fw(7)},u9e=dp("species"),Efe=function(e){return Lae>=51||!_l(function(){var o=[];return(o.constructor={})[u9e]=function(){return{foo:1}},o[e](Boolean).foo!==1})},f9e=Iq.filter;cu({target:"Array",proto:!0,forced:!Efe("filter")},{filter:function(e){return f9e(this,e,arguments.length>1?arguments[1]:void 0)}});var d9e=wfe?{}.toString:function(){return"[object "+Cfe(this)+"]"};wfe||SP(Object.prototype,"toString",d9e,{unsafe:!0});var iV,h9e=ws.String,Al=function(e){if(Cfe(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return h9e(e)},AEe=function(){var e=lp(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},kfe=ws.RegExp,Wae=_l(function(){var e=kfe("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),p9e=Wae||_l(function(){return!kfe("a","y").sticky}),TEe={BROKEN_CARET:Wae||_l(function(){var e=kfe("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:p9e,UNSUPPORTED_Y:Wae},m5=Object.keys||function(e){return CEe(e,JU)},g9e=qm?Object.defineProperties:function(e,o){lp(e);for(var s,l=s_(o),c=m5(o),d=c.length,p=0;d>p;)i_.f(e,s=c[p++],l[s]);return e},m9e=iF("document","documentElement"),OEe=bEe("IE_PROTO"),cre=function(){},_Ee=function(e){return"<script>"+e+"<\/script>"},Gve=function(e){e.write(_Ee("")),e.close();var o=e.parentWindow.Object;return e=null,o},eU=function(){try{iV=new ActiveXObject("htmlfile")}catch{}var e,o;eU=typeof document<"u"?document.domain&&iV?Gve(iV):((o=mfe("iframe")).style.display="none",m9e.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(_Ee("document.F=Object")),e.close(),e.F):Gve(iV);for(var s=JU.length;s--;)delete eU.prototype[JU[s]];return eU()};yfe[OEe]=!0;var Kve,ure,$Ee=Object.create||function(e,o){var s;return e!==null?(cre.prototype=lp(e),s=new cre,cre.prototype=null,s[OEe]=e):s=eU(),o===void 0?s:g9e(s,o)},v9e=ws.RegExp,b9e=_l(function(){var e=v9e(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),y9e=ws.RegExp,w9e=_l(function(){var e=y9e("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),C9e=Uae.get,S9e=pfe("native-string-replace",String.prototype.replace),eW=RegExp.prototype.exec,qae=eW,x9e=es("".charAt),E9e=es("".indexOf),k9e=es("".replace),fre=es("".slice),dre=(ure=/b*/g,rc(eW,Kve=/a/,"a"),rc(eW,ure,"a"),Kve.lastIndex!==0||ure.lastIndex!==0),Yve=TEe.BROKEN_CARET,hre=/()??/.exec("")[1]!==void 0;(dre||hre||Yve||b9e||w9e)&&(qae=function(e){var o,s,l,c,d,p,v,b=this,S=C9e(b),x=Al(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=rc(qae,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=Yve&&b.sticky,F=rc(AEe,b),N=b.source,$=0,D=x;if(k&&(F=k9e(F,"y",""),E9e(F,"g")===-1&&(F+="g"),D=fre(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&x9e(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),hre&&(s=new RegExp("^"+N+"$(?!\\s)",F)),dre&&(l=b.lastIndex),c=rc(eW,k?s:b,D),k?c?(c.input=fre(c.input,$),c[0]=fre(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:dre&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),hre&&c&&c.length>1&&rc(S9e,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=$Ee(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var EP=qae;cu({target:"RegExp",proto:!0,forced:/./.exec!==EP},{exec:EP});var Afe=Function.prototype,Xve=Afe.apply,A9e=Afe.bind,Jve=Afe.call,DEe=typeof Reflect=="object"&&Reflect.apply||(A9e?Jve.bind(Xve):function(){return Jve.apply(Xve,arguments)}),T9e=dp("species"),pre=RegExp.prototype,Tfe=function(e,o,s,l){var c=dp(e),d=!_l(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!_l(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[T9e]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=es(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=es(S),N=x.exec;return N===EP||N===pre.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});SP(String.prototype,e,b[0]),SP(pre,c,b[1])}l&&z5(pre[c],"sham",!0)},O9e=es("".charAt),Qve=es("".charCodeAt),_9e=es("".slice),e0e=function(e){return function(o,s){var l,c,d=Al(wg(o)),p=a_(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=Qve(d,p))<55296||l>56319||p+1===v||(c=Qve(d,p+1))<56320||c>57343?e?O9e(d,p):l:e?_9e(d,p,p+2):c-56320+(l-55296<<10)+65536}},$9e={codeAt:e0e(!1),charAt:e0e(!0)}.charAt,Ofe=function(e,o,s){return o+(s?$9e(e,o).length:1)},D9e=Math.floor,gre=es("".charAt),B9e=es("".replace),mre=es("".slice),N9e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P9e=/\$([$&'`]|\d{1,2})/g,F9e=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,b=P9e;return c!==void 0&&(c=aF(c),b=N9e),B9e(d,b,function(S,x){var T;switch(gre(x,0)){case"$":return"$";case"&":return e;case"`":return mre(o,0,s);case"'":return mre(o,p);case"<":T=c[mre(x,1,-1)];break;default:var E=+x;if(E===0)return S;if(E>v){var k=D9e(E/10);return k===0?S:k<=v?l[k-1]===void 0?gre(x,1):l[k-1]+gre(x,1):S}T=l[E-1]}return T===void 0?"":T})},R9e=ws.TypeError,kP=function(e,o){var s=e.exec;if(af(s)){var l=rc(s,e,o);return l!==null&&lp(l),l}if(sC(e)==="RegExp")return rc(EP,e,o);throw R9e("RegExp#exec called on incompatible receiver")},Zae=dp("replace"),M9e=Math.max,I9e=Math.min,L9e=es([].concat),vre=es([].push),t0e=es("".indexOf),n0e=es("".slice),H9e="a".replace(/./,"$0")==="$0",o0e=!!/./[Zae]&&/./[Zae]("a","$0")==="";Tfe("replace",function(e,o,s){var l=o0e?"$":"$0";return[function(c,d){var p=wg(this),v=c==null?void 0:Fq(c,Zae);return v?rc(v,c,p,d):rc(o,Al(p),c,d)},function(c,d){var p=lp(this),v=Al(c);if(typeof d=="string"&&t0e(d,l)===-1&&t0e(d,"$<")===-1){var b=s(o,p,v,d);if(b.done)return b.value}var S=af(d);S||(d=Al(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var E=[];;){var k=kP(p,v);if(k===null||(vre(E,k),!x))break;Al(k[0])===""&&(p.lastIndex=Ofe(v,lF(p.lastIndex),T))}for(var F,N="",$=0,D=0;D<E.length;D++){for(var O=Al((k=E[D])[0]),P=M9e(I9e(a_(k.index),v.length),0),I=[],z=1;z<k.length;z++)vre(I,(F=k[z])===void 0?F:String(F));var K=k.groups;if(S){var j=L9e([O],I,P,v);K!==void 0&&vre(j,K);var oe=Al(DEe(d,void 0,j))}else oe=F9e(O,v,P,I,K,d);P>=$&&(N+=n0e(v,$,P)+oe,$=P+O.length)}return N+n0e(v,$)}]},!!_l(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!H9e||o0e);var Gae=dp("unscopables"),Kae=Array.prototype;Kae[Gae]==null&&i_.f(Kae,Gae,{configurable:!0,value:$Ee(null)});var BEe=function(e){Kae[Gae][e]=!0},j9e=Iq.find,r0e=!0;"find"in[]&&Array(1).find(function(){r0e=!1}),cu({target:"Array",proto:!0,forced:r0e},{find:function(e){return j9e(this,e,arguments.length>1?arguments[1]:void 0)}}),BEe("find");var z9e=dp("match"),NEe=function(e){var o;return cg(e)&&((o=e[z9e])!==void 0?!!o:sC(e)=="RegExp")},V9e=ws.TypeError,U9e=dp("species"),W9e=function(e,o){var s,l=lp(e).constructor;return l===void 0||(s=lp(l)[U9e])==null?o:function(c){if(xfe(c))return c;throw V9e(pEe(c)+" is not a constructor")}(s)},PEe=function(e,o,s){var l=gfe(o);l in e?i_.f(e,l,ffe(0,s)):e[l]=s},q9e=ws.Array,Z9e=Math.max,s0e=function(e,o,s){for(var l=Mq(e),c=xP(o,l),d=xP(s===void 0?l:s,l),p=q9e(Z9e(d-c,0)),v=0;c<d;c++,v++)PEe(p,v,e[c]);return p.length=v,p},FO=TEe.UNSUPPORTED_Y,G9e=Math.min,FEe=[].push,K9e=es(/./.exec),RO=es(FEe),HB=es("".slice);Tfe("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p=Al(wg(this)),v=d===void 0?4294967295:d>>>0;if(v===0)return[];if(c===void 0)return[p];if(!NEe(c))return rc(o,p,c,v);for(var b,S,x,T=[],E=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),k=0,F=new RegExp(c.source,E+"g");(b=rc(EP,F,p))&&!((S=F.lastIndex)>k&&(RO(T,HB(p,k,b.index)),b.length>1&&b.index<p.length&&DEe(FEe,T,s0e(b,1)),x=b[0].length,k=S,T.length>=v));)F.lastIndex===b.index&&F.lastIndex++;return k===p.length?!x&&K9e(F,"")||RO(T,""):RO(T,HB(p,k)),T.length>v?s0e(T,0,v):T}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:rc(o,this,c,d)}:o,[function(c,d){var p=wg(this),v=c==null?void 0:Fq(c,e);return v?rc(v,c,p,d):rc(l,Al(p),c,d)},function(c,d){var p=lp(this),v=Al(c),b=s(l,p,v,d,l!==o);if(b.done)return b.value;var S=W9e(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(FO?"g":"y"),E=new S(FO?"^(?:"+p.source+")":p,T),k=d===void 0?4294967295:d>>>0;if(k===0)return[];if(v.length===0)return kP(E,v)===null?[v]:[];for(var F=0,N=0,$=[];N<v.length;){E.lastIndex=FO?0:N;var D,O=kP(E,FO?HB(v,N):v);if(O===null||(D=G9e(lF(E.lastIndex+(FO?N:0)),v.length))===F)N=Ofe(v,N,x);else{if(RO($,HB(v,F,N)),$.length===k)return $;for(var P=1;P<=O.length-1;P++)if(RO($,O[P]),$.length===k)return $;N=F=D}}return RO($,HB(v,F)),$}]},!!_l(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),FO);var jB,Yae=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,i0e=es("".replace),tW="["+Yae+"]",Y9e=RegExp("^"+tW+tW+"*"),X9e=RegExp(tW+tW+"*$"),bre=function(e){return function(o){var s=Al(wg(o));return 1&e&&(s=i0e(s,Y9e,"")),2&e&&(s=i0e(s,X9e,"")),s}},J9e={start:bre(1),end:bre(2),trim:bre(3)},Q9e=Rq.PROPER,eMe=J9e.trim;function _fe(e){return _t("<div>"+e+"</div>").children().filter(function(o){return o.tagName!=="BR"}).length===0}function l_(e){return e.length===0?"":e[0].outerHTML}function c_(e){return e.length?e[0].tagName.toLowerCase():""}function Um(e,o){for(var s="",l=(e.attr("style")||"").split(";"),c=l.length,d=0;d<c;d++){var p=l[d];if(p){var v=p.split(":");v[0].trim()===o&&(s=v[1].trim())}}return s}cu({target:"String",proto:!0,forced:(jB="trim",_l(function(){return!!Yae[jB]()||"\u200B\x85\u180E"[jB]()!=="\u200B\x85\u180E"||Q9e&&Yae[jB].name!==jB}))},{trim:function(){return eMe(this)}}),cu({global:!0},{globalThis:ws}),OU&&(_t.fn.css=OU),vg&&(_t.fn.append=vg),Jge&&(_t.fn.prepend=Jge),k5&&(_t.fn.addClass=k5),A5&&(_t.fn.removeClass=A5),T5&&(_t.fn.hasClass=T5),Wv&&(_t.fn.on=Wv),Gge&&(_t.fn.off=Gge),wC&&(_t.fn.focus=wC),mg&&(_t.fn.attr=mg),EU&&(_t.fn.removeAttr=EU),_5&&(_t.fn.hide=_5),TU&&(_t.fn.show=TU),DU&&(_t.fn.parents=DU),O5&&(_t.fn.dataset=O5),Uv&&(_t.fn.val=Uv),$U&&(_t.fn.text=$U),yC&&(_t.fn.html=yC),B5&&(_t.fn.children=B5),N5&&(_t.fn.remove=N5),D5&&(_t.fn.find=D5),kU&&(_t.fn.width=kU),AU&&(_t.fn.height=AU),Yge&&(_t.fn.filter=Yge),P5&&(_t.fn.empty=P5);var tMe={selector:"p:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e);return(o=o.filter(function(c){return!!Mo.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"paragraph",children:o}}},Xae=function(e,o){return Xae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},Xae(e,o)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ul(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=e}Xae(e,o),e.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}var xC=function(){return xC=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},xC.apply(this,arguments)};function NC(e,o,s,l){return new(s||(s=Promise))(function(c,d){function p(S){try{b(l.next(S))}catch(x){d(x)}}function v(S){try{b(l.throw(S))}catch(x){d(x)}}function b(S){var x;S.done?c(S.value):(x=S.value,x instanceof s?x:new s(function(T){T(x)})).then(p,v)}b((l=l.apply(e,o||[])).next())})}function PC(e,o){var s,l,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(b){return function(S){return function(x){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,l=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=o.call(e,p)}catch(T){x=[6,T],l=0}finally{s=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([b,S])}}}function REe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function a0e(e){var o=gi(ze.nodes(e,{match:function(p){return e.children[0]===p},mode:"highest"}),1),s=o[0];if(s==null)return!1;var l=s[0];if(!ar.isElement(l)||l.type==="paragraph"||wo.string(l)!=="")return!1;var c=l.children,d=c===void 0?[]:c;return!!Mo.isText(d[0])&&(Qt.setNodes(e,{type:"paragraph"}),!0)}var nMe={renderElems:[rRe],elemsToHtml:[sRe],parseElemsHtml:[tMe],editorPlugin:function(e){var o=e.deleteBackward,s=e.deleteForward;e.insertText,e.insertBreak;var l=e;return l.deleteBackward=function(c){a0e(l)||o(c)},l.deleteForward=function(c){a0e(l)||s(c)},l}},oMe=/"/g,rMe=es("".replace),$N=function(e,o,s,l){var c=Al(wg(e)),d="<"+o;return s!==""&&(d+=" "+s+'="'+rMe(Al(l),oMe,"&quot;")+'"'),d+">"+c+"</"+o+">"},DN=function(e){return _l(function(){var o=""[e]('"');return o!==o.toLowerCase()||o.split('"').length>3})};function yre(e,o){var s=o,l=e,c=l.bold,d=l.italic,p=l.underline;return c&&(s="<strong>"+s+"</strong>"),l.code&&(s="<code>"+s+"</code>"),d&&(s="<em>"+s+"</em>"),p&&(s="<u>"+s+"</u>"),l.through&&(s="<s>"+s+"</s>"),l.sub&&(s="<sub>"+s+"</sub>"),l.sup&&(s="<sup>"+s+"</sup>"),s}function LE(e,o){return e.length!==0&&(!!e[0].matches(o)||e.find(o).length>0)}cu({target:"String",proto:!0,forced:DN("bold")},{bold:function(){return $N(this,"b","","")}}),cu({target:"String",proto:!0,forced:DN("italics")},{italics:function(){return $N(this,"i","","")}}),cu({target:"String",proto:!0,forced:DN("sub")},{sub:function(){return $N(this,"sub","","")}}),cu({target:"String",proto:!0,forced:DN("sup")},{sup:function(){return $N(this,"sup","","")}});var l0e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},wre=mfe("span").classList,c0e=wre&&wre.constructor&&wre.constructor.prototype,sMe=c0e===Object.prototype?void 0:c0e,MEe=function(e,o){var s=[][e];return!!s&&_l(function(){s.call(null,o||function(){throw 1},1)})},iMe=Iq.forEach,Cre=MEe("forEach")?[].forEach:function(e){return iMe(this,e,arguments.length>1?arguments[1]:void 0)},IEe=function(e){if(e&&e.forEach!==Cre)try{z5(e,"forEach",Cre)}catch{e.forEach=Cre}};for(var Sre in l0e)l0e[Sre]&&IEe(ws[Sre]&&ws[Sre].prototype);function LEe(e,o){return e.selection==null||!!gi(ze.nodes(e,{match:function(s){return wt.getNodeType(s)==="pre"||!!ze.isVoid(e,s)},universal:!0}),1)[0]}function aMe(e,o){Object.keys(o).forEach(function(s){s!=="text"&&ze.removeMark(e,s)})}IEe(sMe),cu({target:"Object",stat:!0,forced:_l(function(){m5(1)})},{keys:function(e){return m5(aF(e))}});var K4=function(){function e(){this.marksNeedToRemove=[],this.tag="button"}return e.prototype.getValue=function(o){var s=this.mark,l=ze.marks(o);return l?l[s]:!!gi(ze.nodes(o,{match:function(c){return c[s]===!0}}),1)[0]},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){return LEe(o,this.mark)},e.prototype.exec=function(o,s){var l=this.mark,c=this.marksNeedToRemove;s?o.removeMark(l):(o.addMark(l,!0),c&&c.forEach(function(d){return o.removeMark(d)}))},e}(),lMe='<svg viewBox="0 0 1024 1024"><path d="M707.872 484.64A254.88 254.88 0 0 0 768 320c0-141.152-114.848-256-256-256H192v896h384c141.152 0 256-114.848 256-256a256.096 256.096 0 0 0-124.128-219.36zM384 192h101.504c55.968 0 101.504 57.408 101.504 128s-45.536 128-101.504 128H384V192z m159.008 640H384v-256h159.008c58.464 0 106.016 57.408 106.016 128s-47.552 128-106.016 128z"></path></svg>',cMe='<svg viewBox="0 0 1024 1024"><path d="M704 64l128 0 0 416c0 159.072-143.264 288-320 288s-320-128.928-320-288l0-416 128 0 0 416c0 40.16 18.24 78.688 51.36 108.512 36.896 33.216 86.848 51.488 140.64 51.488s103.744-18.304 140.64-51.488c33.12-29.792 51.36-68.352 51.36-108.512l0-416zM192 832l640 0 0 128-640 0z"></path></svg>',uMe='<svg viewBox="0 0 1024 1024"><path d="M896 64v64h-128L448 896h128v64H128v-64h128L576 128h-128V64z"></path></svg>',fMe='<svg viewBox="0 0 1024 1024"><path d="M1024 512v64h-234.496c27.52 38.496 42.496 82.688 42.496 128 0 70.88-36.672 139.04-100.576 186.976C672.064 935.488 594.144 960 512 960s-160.064-24.512-219.424-69.024C228.64 843.04 192 774.88 192 704h128c0 69.376 87.936 128 192 128s192-58.624 192-128-87.936-128-192-128H0v-64h299.52a385.984 385.984 0 0 1-6.944-5.024C228.64 459.04 192 390.88 192 320s36.672-139.04 100.576-186.976C351.936 88.512 429.856 64 512 64s160.064 24.512 219.424 69.024C795.328 180.96 832 249.12 832 320h-128c0-69.376-87.936-128-192-128s-192 58.624-192 128 87.936 128 192 128c78.976 0 154.048 22.688 212.48 64H1024z"></path></svg>',dMe='<svg viewBox="0 0 1024 1024"><path d="M576 736l96 96 320-320L672 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224z"></path></svg>',HEe='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',jEe='<svg viewBox="0 0 1024 1024"><path d="M924.402464 1023.068211H0.679665V99.345412h461.861399v98.909208H99.596867v725.896389h725.896389V561.206811h98.909208z" p-id="10909"></path><path d="M930.805104 22.977336l69.965436 69.965436-453.492405 453.492404-69.965435-69.901489z" p-id="10910"></path><path d="M1022.464381 304.030081h-98.917201V99.345412H709.230573V0.428211h313.233808z"></path></svg>',hMe='<svg viewBox="0 0 1024 1024"><path d="M64 864h896v96H64zM360.58 576h302.85l81.53 224h102.16L579.24 64H444.77L176.89 800h102.16l81.53-224zM512 159.96L628.49 480H395.52L512 159.96z"></path></svg>',pMe='<svg viewBox="0 0 1024 1024"><path d="M510.030769 315.076923l84.676923 196.923077h-177.230769l76.8-196.923077h15.753846zM945.230769 157.538462v708.923076c0 43.323077-35.446154 78.769231-78.769231 78.769231H157.538462c-43.323077 0-78.769231-35.446154-78.769231-78.769231V157.538462c0-43.323077 35.446154-78.769231 78.769231-78.769231h708.923076c43.323077 0 78.769231 35.446154 78.769231 78.769231z m-108.307692 643.938461L600.615385 216.615385c-5.907692-11.815385-15.753846-19.692308-29.538462-19.692308h-139.815385c-11.815385 0-23.630769 7.876923-27.56923 19.692308l-216.615385 584.861538c-3.938462 11.815385 3.938462 25.6 17.723077 25.6h80.738462c11.815385 0 23.630769-9.846154 27.56923-21.661538l63.015385-175.261539h263.876923l68.923077 175.261539c3.938462 11.815385 15.753846 21.661538 27.569231 21.661538h80.738461c13.784615 0 23.630769-13.784615 19.692308-25.6z"></path></svg>',gMe='<svg viewBox="0 0 1024 1024"><path d="M64 512h384v128h-128V1024h-128V640h-128z m896-256H708.2496v768h-136.4992V256H320V128h640z"></path></svg>',mMe='<svg viewBox="0 0 1024 1024"><path d="M956.788364 152.110545h-24.110546l23.924364 9.029819 0.186182 121.018181h-65.070546l-86.574545-130.048H566.551273v650.14691l130.048 64.977454v65.163636h-390.050909v-65.163636l129.954909-64.977454V152.110545H198.283636L111.429818 282.065455H46.545455V69.259636C46.545455 33.792 82.664727 22.062545 98.955636 22.062545h812.683637c23.738182 0 45.056 15.173818 45.056 41.053091V169.425455v-17.221819z"></path></svg>',vMe='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m256-512v384l-256-192z"></path></svg>',bMe='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',yMe='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',wMe='<svg viewBox="0 0 1024 1024"><path d="M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',CMe='<svg viewBox="0 0 1024 1024"><path d="M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',SMe='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z"></path></svg>',xMe='<svg viewBox="0 0 1024 1024"><path d="M768 206.016v50.016h128v64h-192V174.016l128-60V64h-128V0h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',EMe='<svg viewBox="0 0 1024 1024"><path d="M768 910.016v50.016h128v64h-192v-146.016l128-60V768h-128v-64h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',kMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="bold",s.title=Co("textStyle.bold"),s.iconSvg=lMe,s.hotkey="mod+b",s}return ul(o,e),o}(K4),AMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="code",s.title=Co("textStyle.code"),s.iconSvg=dMe,s.hotkey="mod+e",s}return ul(o,e),o}(K4),TMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="italic",s.title=Co("textStyle.italic"),s.iconSvg=uMe,s.hotkey="mod+i",s}return ul(o,e),o}(K4),OMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="through",s.title=Co("textStyle.through"),s.iconSvg=fMe,s.hotkey="mod+shift+x",s}return ul(o,e),o}(K4),_Me=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="underline",s.title=Co("textStyle.underline"),s.iconSvg=cMe,s.hotkey="mod+u",s}return ul(o,e),o}(K4),$Me=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="sub",s.marksNeedToRemove=["sup"],s.title=Co("textStyle.sub"),s.iconSvg=EMe,s.hotkey="",s}return ul(o,e),o}(K4),DMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.mark="sup",s.marksNeedToRemove=["sub"],s.title=Co("textStyle.sup"),s.iconSvg=xMe,s.hotkey="",s}return ul(o,e),o}(K4),BMe=function(){function e(){this.title=Co("textStyle.clear"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M969.382408 288.738615l-319.401123-270.852152a67.074236 67.074236 0 0 0-96.459139 5.74922l-505.931379 574.922021a68.35184 68.35184 0 0 0-17.886463 47.910169 74.101061 74.101061 0 0 0 24.274486 47.910168l156.50655 132.232065h373.060512L975.131628 383.281347a67.074236 67.074236 0 0 0-5.74922-96.459139z m-440.134747 433.746725H264.144729l-90.071117-78.572676c-5.74922-5.74922-12.137243-12.137243-12.137243-17.886463a36.411728 36.411728 0 0 1 5.749221-24.274485l210.804741-240.828447 265.102932 228.691204z m-439.495945 180.781036h843.218964a60.047411 60.047411 0 1 1 0 120.733624H89.751716a60.047411 60.047411 0 1 1 0-120.733624z m0 0"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return LEe(o)},e.prototype.exec=function(o,s){var l,c,d=ze.nodes(o,{match:function(b){return Mo.isText(b)},universal:!0});try{for(var p=REe(d),v=p.next();!v.done;v=p.next())aMe(o,v.value[0])}catch(b){l={error:b}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(l)throw l.error}}},e}(),NMe={renderStyle:function(e,o){var s=e,l=s.bold,c=s.italic,d=s.underline,p=s.code,v=s.through,b=s.sub,S=s.sup,x=o;return l&&(x=is("strong",null,x)),p&&(x=is("code",null,x)),c&&(x=is("em",null,x)),d&&(x=is("u",null,x)),v&&(x=is("s",null,x)),b&&(x=is("sub",null,x)),S&&(x=is("sup",null,x)),x},menus:[{key:"bold",factory:function(){return new kMe}},{key:"underline",factory:function(){return new _Me}},{key:"italic",factory:function(){return new TMe}},{key:"through",factory:function(){return new OMe}},{key:"code",factory:function(){return new AMe}},{key:"sub",factory:function(){return new $Me}},{key:"sup",factory:function(){return new DMe}},{key:"clearStyle",factory:function(){return new BMe}}],styleToHtml:function(e,o){if(!Mo.isText(e))return o;if(_fe(o))return yre(e,o);var s=_t(o);if(c_(s)==="br")return yre(e,"<br>");var l=s.html();return l=yre(e,l),s.html(l),l_(s)},parseStyleHtml:function(e,o,s){var l=_t(e);if(!Mo.isText(o))return o;var c=o;return LE(l,"b,strong")&&(c.bold=!0),LE(l,"i,em")&&(c.italic=!0),LE(l,"u")&&(c.underline=!0),LE(l,"s,strike")&&(c.through=!0),LE(l,"sub")&&(c.sub=!0),LE(l,"sup")&&(c.sup=!0),LE(l,"code")&&(c.code=!0),c}};function uF(e){return function(o,s,l){return is("h"+e,null,s)}}var PMe={type:"header1",renderElem:uF(1)},FMe={type:"header2",renderElem:uF(2)},RMe={type:"header3",renderElem:uF(3)},MMe={type:"header4",renderElem:uF(4)},IMe={type:"header5",renderElem:uF(5)},LMe=Rq.PROPER,Jae=RegExp.prototype,zEe=Jae.toString,HMe=es(AEe),jMe=_l(function(){return zEe.call({source:"a",flags:"b"})!="/a/b"}),zMe=LMe&&zEe.name!="toString";(jMe||zMe)&&SP(RegExp.prototype,"toString",function(){var e=lp(this),o=Al(e.source),s=e.flags;return"/"+o+"/"+Al(s===void 0&&hEe(Jae,e)&&!("flags"in Jae)?HMe(e):s)},{unsafe:!0});var xre,VMe=ws.TypeError,VEe=function(e){if(NEe(e))throw VMe("The method doesn't accept regular expressions");return e},UMe=dp("match"),UEe=function(e){var o=/./;try{"/./"[e](o)}catch{try{return o[UMe]=!1,"/./"[e](o)}catch{}}return!1},WMe=vfe.f,u0e=es("".startsWith),qMe=es("".slice),ZMe=Math.min,f0e=UEe("startsWith");function WEe(e){var o=gi(ze.nodes(e,{match:function(c){return wt.getNodeType(c).startsWith("header")},universal:!0}),1),s=o[0];if(s==null)return"paragraph";var l=gi(s,1)[0];return wt.getNodeType(l)}function qEe(e){return e.selection==null||!gi(ze.nodes(e,{match:function(o){var s=wt.getNodeType(o);return s==="paragraph"||!!s.startsWith("header")},universal:!0,mode:"highest"}),1)[0]}function ZEe(e,o){o&&Qt.setNodes(e,{type:o})}cu({target:"String",proto:!0,forced:!!(f0e||(xre=WMe(String.prototype,"startsWith"),!xre||xre.writable))&&!f0e},{startsWith:function(e){var o=Al(wg(this));VEe(e);var s=lF(ZMe(arguments.length>1?arguments[1]:void 0,o.length)),l=Al(e);return u0e?u0e(o,l,s):qMe(o,s,s+l.length)===l}});var GMe=function(){function e(){this.title=Co("header.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 960c-51.2 0-102.4-3.2-153.6-3.2-51.2 0-99.2 3.2-150.4 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 57.6-28.8 86.4-48 19.2-12.8 19.2-60.8 19.2-80v-224-19.2c-9.6-3.2-19.2-3.2-28.8-3.2H320c-9.6 0-19.2 0-28.8 3.2V780.8c0 22.4 0 80 22.4 92.8 28.8 19.2 96-6.4 96 44.8 0 16-9.6 41.6-28.8 41.6-54.4 0-105.6-3.2-160-3.2-48 0-96 3.2-147.2 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 51.2-28.8 80-48 19.2-12.8 19.2-60.8 19.2-83.2V294.4c0-28.8 3.2-115.2-22.4-131.2-25.6-16-86.4 9.6-86.4-41.6 0-16 6.4-41.6 28.8-41.6 51.2 0 105.6 3.2 156.8 3.2 48 0 96-3.2 144-3.2 19.2 0 28.8 22.4 28.8 41.6 0 48-57.6 25.6-83.2 41.6-19.2 12.8-19.2 73.6-19.2 92.8v201.6c6.4 3.2 16 3.2 22.4 3.2h400c6.4 0 12.8 0 22.4-3.2V256c0-22.4 0-80-19.2-92.8-28.8-16-86.4 6.4-86.4-41.6 0-16 9.6-41.6 28.8-41.6 51.2 0 99.2 3.2 150.4 3.2 48 0 99.2-3.2 147.2-3.2 19.2 0 28.8 22.4 28.8 41.6 0 51.2-57.6 25.6-86.4 41.6-19.2 12.8-19.2 70.4-19.2 92.8v537.6c0 19.2 0 67.2 19.2 80 28.8 19.2 89.6-6.4 89.6 44.8 0 19.2-6.4 41.6-28.8 41.6z"></path></svg>',this.tag="select",this.width=60}return e.prototype.getOptions=function(o){var s=[{value:"header1",text:"H1",styleForRenderMenuList:{"font-size":"32px","font-weight":"bold"}},{value:"header2",text:"H2",styleForRenderMenuList:{"font-size":"24px","font-weight":"bold"}},{value:"header3",text:"H3",styleForRenderMenuList:{"font-size":"18px","font-weight":"bold"}},{value:"header4",text:"H4",styleForRenderMenuList:{"font-size":"16px","font-weight":"bold"}},{value:"header5",text:"H5",styleForRenderMenuList:{"font-size":"13px","font-weight":"bold"}},{value:"paragraph",text:Co("header.text")}],l=this.getValue(o).toString();return s.forEach(function(c){c.value===l?c.selected=!0:delete c.selected}),s},e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){return WEe(o)},e.prototype.isDisabled=function(o){return qEe(o)},e.prototype.exec=function(o,s){ZEe(o,s.toString())},e}(),fF=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){return WEe(o)},e.prototype.isActive=function(o){return this.getValue(o)===this.type},e.prototype.isDisabled=function(o){return qEe(o)},e.prototype.exec=function(o,s){var l=this.type;ZEe(o,s===l?"paragraph":l)},e}(),KMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H1",s.type="header1",s}return ul(o,e),o}(fF),YMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H2",s.type="header2",s}return ul(o,e),o}(fF),XMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H3",s.type="header3",s}return ul(o,e),o}(fF),JMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H4",s.type="header4",s}return ul(o,e),o}(fF),QMe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="H5",s.type="header5",s}return ul(o,e),o}(fF),eIe={key:"headerSelect",factory:function(){return new GMe}},tIe={key:"header1",factory:function(){return new KMe}},nIe={key:"header2",factory:function(){return new YMe}},oIe={key:"header3",factory:function(){return new XMe}},rIe={key:"header4",factory:function(){return new JMe}},sIe={key:"header5",factory:function(){return new QMe}};function zB(e){return function(o,s){return"<h"+e+">"+s+"</h"+e+">"}}function VB(e){return function(o,s,l){var c=_t(o);return(s=s.filter(function(d){return!!Mo.isText(d)||!!l.isInline(d)})).length===0&&(s=[{text:c.text().replace(/\s+/gm," ")}]),{type:"header"+e,children:s}}}var iIe={renderElems:[PMe,FMe,RMe,MMe,IMe],elemsToHtml:[{type:"header1",elemToHtml:zB(1)},{type:"header2",elemToHtml:zB(2)},{type:"header3",elemToHtml:zB(3)},{type:"header4",elemToHtml:zB(4)},{type:"header5",elemToHtml:zB(5)}],parseElemsHtml:[{selector:"h1:not([data-w-e-type])",parseElemHtml:VB(1)},{selector:"h2:not([data-w-e-type])",parseElemHtml:VB(2)},{selector:"h3:not([data-w-e-type])",parseElemHtml:VB(3)},{selector:"h4:not([data-w-e-type])",parseElemHtml:VB(4)},{selector:"h5:not([data-w-e-type])",parseElemHtml:VB(5)}],menus:[eIe,tIe,nIe,oIe,rIe,sIe],editorPlugin:function(e){var o=e.insertBreak;e.insertNode;var s=e;return s.insertBreak=function(){var l=gi(ze.nodes(s,{match:function(c){return wt.getNodeType(c).startsWith("header")},universal:!0}),1)[0];l&&wt.isSelectionAtLineEnd(e,l[1])?Qt.insertNodes(s,{type:"paragraph",children:[{text:""}]},{mode:"highest"}):o()},s}},MO=Object.assign,d0e=Object.defineProperty,aIe=es([].concat),h0e=!MO||_l(function(){if(qm&&MO({b:1},MO(d0e({},"a",{enumerable:!0,get:function(){d0e(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},o={},s=Symbol(),l="abcdefghijklmnopqrst";return e[s]=7,l.split("").forEach(function(c){o[c]=c}),MO({},e)[s]!=7||m5(MO({},o)).join("")!=l})?function(e,o){for(var s=aF(e),l=arguments.length,c=1,d=SEe.f,p=fEe.f;l>c;)for(var v,b=Pq(arguments[c++]),S=d?aIe(m5(b),d(b)):m5(b),x=S.length,T=0;x>T;)v=S[T++],qm&&!rc(p,b,v)||(s[v]=b[v]);return s}:MO;function R4(e,o){e.data==null&&(e.data={});var s=e.data;s.style==null&&(s.style={}),Object.assign(s.style,o)}cu({target:"Object",stat:!0,forced:Object.assign!==h0e},{assign:h0e});var lIe={selector:"font",preParseHtml:function(e){var o=_t(e);if(c_(o)!=="font")return e;var s=o.attr("color")||"";return s&&(o.removeAttr("color"),o.css("color",s)),o[0]}},GEe=function(){function e(){this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.exec=function(o,s){},e.prototype.getValue=function(o){var s=this.mark,l=ze.marks(o);return l&&l[s]?l[s]:""},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){return o.selection==null||!!gi(ze.nodes(o,{match:function(s){return wt.getNodeType(s)==="pre"||!!ze.isVoid(o,s)},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(o){var s=this.mark;if(this.$content==null){var l=_t('<ul class="w-e-panel-content-color"></ul>');l.on("click","li",function(S){var x=S.target;if(x!=null&&(S.preventDefault(),o.selection!=null)){var T=_t(x).attr("data-value");T==="0"?ze.removeMark(o,s):ze.addMark(o,s,T)}}),this.$content=l}var c=this.$content;if(c==null)return document.createElement("ul");c.empty();var d=this.getValue(o),p=o.getMenuConfig(s).colors;(p===void 0?[]:p).forEach(function(S){var x=_t('<div class="color-block" data-value="'+S+'"></div>');x.css("background-color",S);var T=_t('<li data-value="'+S+'"></li>');d===S&&T.addClass("active"),T.append(x),c.append(T)});var v="";s==="color"&&(v=Co("color.default")),s==="bgColor"&&(v=Co("color.clear"));var b=_t(`
      <li data-value="0" class="clear">
        <svg viewBox="0 0 1024 1024"><path d="M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z"></path></svg>
        `+v+`
      </li>
    `);return c.prepend(b),c[0]},e}(),cIe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("color.color"),s.iconSvg=hMe,s.mark="color",s}return ul(o,e),o}(GEe),uIe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("color.bgColor"),s.iconSvg=pMe,s.mark="bgColor",s}return ul(o,e),o}(GEe),p0e=["rgb(0, 0, 0)","rgb(38, 38, 38)","rgb(89, 89, 89)","rgb(140, 140, 140)","rgb(191, 191, 191)","rgb(217, 217, 217)","rgb(233, 233, 233)","rgb(245, 245, 245)","rgb(250, 250, 250)","rgb(255, 255, 255)","rgb(225, 60, 57)","rgb(231, 95, 51)","rgb(235, 144, 58)","rgb(245, 219, 77)","rgb(114, 192, 64)","rgb(89, 191, 192)","rgb(66, 144, 247)","rgb(54, 88, 226)","rgb(106, 57, 201)","rgb(216, 68, 147)","rgb(251, 233, 230)","rgb(252, 237, 225)","rgb(252, 239, 212)","rgb(252, 251, 207)","rgb(231, 246, 213)","rgb(218, 244, 240)","rgb(217, 237, 250)","rgb(224, 232, 250)","rgb(237, 225, 248)","rgb(246, 226, 234)","rgb(255, 163, 158)","rgb(255, 187, 150)","rgb(255, 213, 145)","rgb(255, 251, 143)","rgb(183, 235, 143)","rgb(135, 232, 222)","rgb(145, 213, 255)","rgb(173, 198, 255)","rgb(211, 173, 247)","rgb(255, 173, 210)","rgb(255, 77, 79)","rgb(255, 122, 69)","rgb(255, 169, 64)","rgb(255, 236, 61)","rgb(115, 209, 61)","rgb(54, 207, 201)","rgb(64, 169, 255)","rgb(89, 126, 247)","rgb(146, 84, 222)","rgb(247, 89, 171)","rgb(207, 19, 34)","rgb(212, 56, 13)","rgb(212, 107, 8)","rgb(212, 177, 6)","rgb(56, 158, 13)","rgb(8, 151, 156)","rgb(9, 109, 217)","rgb(29, 57, 196)","rgb(83, 29, 171)","rgb(196, 29, 127)","rgb(130, 0, 20)","rgb(135, 20, 0)","rgb(135, 56, 0)","rgb(97, 71, 0)","rgb(19, 82, 0)","rgb(0, 71, 79)","rgb(0, 58, 140)","rgb(6, 17, 120)","rgb(34, 7, 94)","rgb(120, 6, 80)"],fIe={renderStyle:function(e,o){var s=e,l=s.color,c=s.bgColor,d=o;return l&&R4(d,{color:l}),c&&R4(d,{backgroundColor:c}),d},styleToHtml:function(e,o){if(!Mo.isText(e))return o;var s,l=e,c=l.color,d=l.bgColor;return c||d?((_fe(o)||c_(s=_t(o))!=="span")&&(s=_t("<span>"+o+"</span>")),c&&s.css("color",c),d&&s.css("background-color",d),l_(s)):o},preParseHtml:[lIe],parseStyleHtml:function(e,o,s){var l=_t(e);if(!Mo.isText(o))return o;var c=o,d=Um(l,"color");d&&(c.color=d);var p=Um(l,"background-color");return p||(p=Um(l,"background")),p&&(c.bgColor=p),c},menus:[{key:"color",factory:function(){return new cIe},config:{colors:p0e}},{key:"bgColor",factory:function(){return new uIe},config:{colors:p0e}}]},dIe=function(e){if(typeof e!="string")return!1;var o=e.match(hIe);if(!o)return!1;var s=o[1];return s?!!(pIe.test(s)||gIe.test(s)):!1},hIe=/^(?:\w+:)?\/\/(\S+)$/,pIe=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,gIe=/^[^\s\.]+\.\S{2,}$/,mIe=wEe.includes;function Lq(e){return e===void 0&&(e="r"),e+"-"+rSe()}function $fe(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function KEe(e,o,s,l){return NC(this,void 0,void 0,function(){var c,d;return PC(this,function(p){switch(p.label){case 0:return(c=o.getMenuConfig(e).checkLink)?[4,c(s,l)]:[3,2];case 1:if(typeof(d=p.sent())=="string")return o.alert(d,"error"),[2,!1];if(d==null)return[2,!1];p.label=2;case 2:return[2,!0]}})})}function YEe(e,o,s){return NC(this,void 0,void 0,function(){var l;return PC(this,function(c){switch(c.label){case 0:return(l=o.getMenuConfig(e).parseLinkUrl)?[4,l(s)]:[3,2];case 1:return[2,c.sent()];case 2:return[2,s]}})})}function Dfe(e){return e.selection==null||!!wt.getSelectedElems(e).some(function(o){var s=o.type;return!!e.isVoid(o)||!!["pre","code","link"].includes(s)||void 0})}function Ere(e,o){return{type:"link",url:$fe(e),children:o?[{text:o}]:[]}}function XEe(e,o,s){return NC(this,void 0,void 0,function(){var l,c,d;return PC(this,function(p){switch(p.label){case 0:return s?(o||(o=s),e.restoreSelection(),Dfe(e)?[2]:[4,KEe("insertLink",e,o,s)]):[2];case 1:return p.sent()?[4,YEe("insertLink",e,s)]:[2];case 2:return l=p.sent(),(c=e.selection)==null?[2]:(gn.isCollapsed(c)?(e.insertText(" "),d=Ere(l,o),Qt.insertNodes(e,d),e.insertFragment([{text:" "}])):ze.string(e,c)!==o?(e.deleteFragment(),d=Ere(l,o),Qt.insertNodes(e,d)):(d=Ere(l),Qt.wrapNodes(e,d,{split:!0}),Qt.collapse(e,{edge:"end"})),[2])}})})}cu({target:"Array",proto:!0},{includes:function(e){return mIe(this,e,arguments.length>1?arguments[1]:void 0)}}),BEe("includes");var vIe={type:"link",renderElem:function(e,o,s){var l=e,c=l.url,d=l.target;return is("a",{href:c,target:d===void 0?"_blank":d},o)}},bIe={type:"link",elemToHtml:function(e,o){var s=e,l=s.url,c=s.target;return'<a href="'+l+'" target="'+(c===void 0?"_blank":c)+'">'+o+"</a>"}},yIe={selector:"a:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e);return(o=o.filter(function(c){return!!Mo.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"link",url:l.attr("href")||"",target:l.attr("target")||"",children:o}}};function kre(){return Lq("w-e-insert-link")}var wIe=function(){function e(){this.title=Co("link.insert"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M440.224 635.776a51.84 51.84 0 0 1-36.768-15.232c-95.136-95.136-95.136-249.92 0-345.056l192-192C641.536 37.408 702.816 12.032 768 12.032s126.432 25.376 172.544 71.456c95.136 95.136 95.136 249.92 0 345.056l-87.776 87.776a51.968 51.968 0 1 1-73.536-73.536l87.776-87.776a140.16 140.16 0 0 0 0-197.984c-26.432-26.432-61.6-40.992-99.008-40.992s-72.544 14.56-99.008 40.992l-192 192a140.16 140.16 0 0 0 0 197.984 51.968 51.968 0 0 1-36.768 88.768z"></path><path d="M256 1012a242.4 242.4 0 0 1-172.544-71.456c-95.136-95.136-95.136-249.92 0-345.056l87.776-87.776a51.968 51.968 0 1 1 73.536 73.536l-87.776 87.776a140.16 140.16 0 0 0 0 197.984c26.432 26.432 61.6 40.992 99.008 40.992s72.544-14.56 99.008-40.992l192-192a140.16 140.16 0 0 0 0-197.984 51.968 51.968 0 1 1 73.536-73.536c95.136 95.136 95.136 249.92 0 345.056l-192 192A242.4 242.4 0 0 1 256 1012z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.textInputId=kre(),this.urlInputId=kre(),this.buttonId=kre()}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return Dfe(o)},e.prototype.getModalPositionNode=function(o){return null},e.prototype.getModalContentElem=function(o){var s=o.selection,l=this,c=l.textInputId,d=l.urlInputId,p=l.buttonId,v=gi(op(Co("link.text"),c),2),b=v[0],S=v[1],x=_t(S),T=gi(op(Co("link.url"),d),2),E=T[0],k=T[1],F=_t(k),N=gi(r_(p,Co("common.ok")),1)[0];if(this.$content==null){var $=_t("<div></div>");$.on("click","#"+p,function(P){P.preventDefault();var I=$.find("#"+c).val(),z=$.find("#"+d).val();XEe(o,I,z),o.hidePanelOrModal()}),this.$content=$}var D=this.$content;if(D.empty(),D.append(b),D.append(E),D.append(N),s==null||gn.isCollapsed(s))x.val("");else{var O=ze.string(o,s);x.val(O)}return F.val(""),setTimeout(function(){x.focus()}),D[0]},e}();function g0e(){return Lq("w-e-update-link")}var CIe=function(){function e(){this.title=Co("link.edit"),this.iconSvg=HEe,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.urlInputId=g0e(),this.buttonId=g0e()}return e.prototype.getSelectedLinkElem=function(o){var s=wt.getSelectedNodeByType(o,"link");return s==null?null:s},e.prototype.getValue=function(o){var s=this.getSelectedLinkElem(o);return s&&s.url||""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedLinkElem(o)==null},e.prototype.getModalPositionNode=function(o){return wt.getSelectedNodeByType(o,"link")},e.prototype.getModalContentElem=function(o){var s=this.urlInputId,l=this.buttonId,c=gi(op(Co("link.url"),s),2),d=c[0],p=c[1],v=_t(p),b=gi(r_(l,Co("common.ok")),1)[0];if(this.$content==null){var S=_t("<div></div>");S.on("click","button",function(E){E.preventDefault(),o.restoreSelection();var k=wt.getSelectedNodeByType(o,"link"),F=k?wo.string(k):"",N=S.find("#"+s).val();(function($,D,O){NC(this,void 0,void 0,function(){var P,I;return PC(this,function(z){switch(z.label){case 0:return O?[4,KEe("editLink",$,D,O)]:[2];case 1:return z.sent()?[4,YEe("editLink",$,O)]:[2];case 2:return P=z.sent(),I={url:$fe(P)},Qt.setNodes($,I,{match:function(K){return wt.checkNodeType(K,"link")}}),[2]}})})})(o,F,N),o.hidePanelOrModal()}),this.$content=S}var x=this.$content;x.empty(),x.append(d),x.append(b);var T=this.getValue(o);return v.val(T),setTimeout(function(){v.focus()}),x[0]},e}(),SIe=function(){function e(){this.title=Co("link.unLink"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||wt.getSelectedNodeByType(o,"link")==null},e.prototype.exec=function(o,s){this.isDisabled(o)||Qt.unwrapNodes(o,{match:function(l){return wt.checkNodeType(l,"link")}})},e}(),xIe=function(){function e(){this.title=Co("link.view"),this.iconSvg=jEe,this.tag="button"}return e.prototype.getSelectedLinkElem=function(o){var s=wt.getSelectedNodeByType(o,"link");return s==null?null:s},e.prototype.getValue=function(o){var s=this.getSelectedLinkElem(o);return s&&s.url||""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedLinkElem(o)==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){if(!s||typeof s!="string")throw new Error("View link failed, link url is '"+s+"'");window.open(s,"_blank")}},e}(),m0e={checkLink:function(e,o){return!0},parseLinkUrl:function(e){return e}},EIe={renderElems:[vIe],elemsToHtml:[bIe],parseElemsHtml:[yIe],menus:[{key:"insertLink",factory:function(){return new wIe},config:m0e},{key:"editLink",factory:function(){return new CIe},config:m0e},{key:"unLink",factory:function(){return new SIe}},{key:"viewLink",factory:function(){return new xIe}}],editorPlugin:function(e){var o=e.isInline,s=e.insertData,l=e.normalizeNode;e.insertNode,e.insertText;var c=e;return c.isInline=function(d){return d.type==="link"||o(d)},c.insertData=function(d){var p=d.getData("text/plain");if(dIe(p)){if(!Dfe(c)){var v=c.selection;if(v!=null){var b=ze.string(c,v);XEe(c,b,p)}}}else s(d)},c.normalizeNode=function(d){var p=gi(d,2),v=p[0],b=p[1];return wt.getNodeType(v)!=="link"?l([v,b]):wo.string(v)===""?Qt.removeNodes(c,{at:b}):l([v,b])},c}},kIe=es(1 .valueOf),AIe=ws.RangeError,TIe=ws.RangeError,JEe=ws.String,QEe=Math.floor,Qae=es(function(e){var o=Al(wg(this)),s="",l=a_(e);if(l<0||l==1/0)throw AIe("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))1&l&&(s+=o);return s}),v0e=es("".slice),UB=es(1 .toFixed),c5=function(e,o,s){return o===0?s:o%2==1?c5(e,o-1,s*e):c5(e*e,o/2,s)},IO=function(e,o,s){for(var l=-1,c=s;++l<6;)c+=o*e[l],e[l]=c%1e7,c=QEe(c/1e7)},Are=function(e,o){for(var s=6,l=0;--s>=0;)l+=e[s],e[s]=QEe(l/o),l=l%o*1e7},b0e=function(e){for(var o=6,s="";--o>=0;)if(s!==""||o===0||e[o]!==0){var l=JEe(e[o]);s=s===""?l:s+Qae("0",7-l.length)+l}return s};function e4e(e,o){return"w-e-image-container-"+wt.findKey(e,o).id}function OIe(e,o,s,l){var c=_t("body"),d=e4e(e,o),p=l.width,v=l.height,b=0,S=0,x=0,T=!1,E=null;function k(D){E=function(){var I=_t("#"+d);if(I.length===0)throw new Error("Cannot find image container elem");return I}(),b=D;var O=E.find("img");if(O.length===0)throw new Error("Cannot find image elem");S=O.width(),x=O.height(),c.on("mousemove",F),c.on("mouseup",N);var P=wt.getHoverbar(e);P&&P.hideAndClean()}var F=$4(function(D){D.preventDefault();var O=D.clientX,P=S+(T?b-O:O-b),I=x*(P/S);E!=null&&(P<=15||I<=15||(E.css("width",P+"px"),E.css("height",I+"px")))},100);function N(D){if(c.off("mousemove",F),E!=null){var O=E.width().toFixed(2),P=E.height().toFixed(2),I={style:xC(xC({},o.style),{width:O+"px",height:P+"px"})};Qt.setNodes(e,I,{at:wt.findPath(e,o)}),c.off("mouseup",N)}}var $={};return p&&($.width=p),v&&($.height=v),is("div",{id:d,style:$,className:"w-e-image-container w-e-selected-image-container",on:{mousedown:function(D){var O=_t(D.target);O.hasClass("w-e-image-dragger")&&(D.preventDefault(),(O.hasClass("left-top")||O.hasClass("left-bottom"))&&(T=!0),k(D.clientX))}}},s,is("div",{className:"w-e-image-dragger left-top"}),is("div",{className:"w-e-image-dragger right-top"}),is("div",{className:"w-e-image-dragger left-bottom"}),is("div",{className:"w-e-image-dragger right-bottom"}))}cu({target:"Number",proto:!0,forced:_l(function(){return UB(8e-5,3)!=="0.000"||UB(.9,0)!=="1"||UB(1.255,2)!=="1.25"||UB(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!_l(function(){UB({})})},{toFixed:function(e){var o,s,l,c,d=kIe(this),p=a_(e),v=[0,0,0,0,0,0],b="",S="0";if(p<0||p>20)throw TIe("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return JEe(d);if(d<0&&(b="-",d=-d),d>1e-21)if(s=(o=function(x){for(var T=0,E=x;E>=4096;)T+=12,E/=4096;for(;E>=2;)T+=1,E/=2;return T}(d*c5(2,69,1))-69)<0?d*c5(2,-o,1):d/c5(2,o,1),s*=4503599627370496,(o=52-o)>0){for(IO(v,0,s),l=p;l>=7;)IO(v,1e7,0),l-=7;for(IO(v,c5(10,l,1),0),l=o-1;l>=23;)Are(v,1<<23),l-=23;Are(v,1<<l),IO(v,1,1),Are(v,2),S=b0e(v)}else IO(v,0,s),IO(v,1<<-o,0),S=b0e(v)+Qae("0",p);return S=p>0?b+((c=S.length)<=p?"0."+Qae("0",p-c)+S:v0e(S,0,c-p)+"."+v0e(S,c-p)):b+S}});var _Ie={type:"image",renderElem:function(e,o,s){var l=e,c=l.src,d=l.alt,p=d===void 0?"":d,v=l.href,b=v===void 0?"":v,S=l.style,x=S===void 0?{}:S,T=x.width,E=T===void 0?"":T,k=x.height,F=k===void 0?"":k,N=wt.isNodeSelected(s,e),$={};E&&($.width="100%"),F&&($.height="100%");var D=is("img",{style:$,src:c,alt:p,"data-href":b}),O=s.isDisabled();return N&&!O?OIe(s,e,D,{width:E,height:F}):function(P,I,z,K){var j=K.width,oe=K.height,xe={};j&&(xe.width=j),oe&&(xe.height=oe);var se=e4e(P,I);return is("div",{id:se,style:xe,className:"w-e-image-container"},z)}(s,e,D,{width:E,height:F})}},$Ie={type:"image",elemToHtml:function(e,o){var s=e,l=s.src,c=s.alt,d=c===void 0?"":c,p=s.href,v=p===void 0?"":p,b=s.style,S=b===void 0?{}:b,x=S.width,T=x===void 0?"":x,E=S.height,k=E===void 0?"":E,F="";return T&&(F+="width: "+T+";"),k&&(F+="height: "+k+";"),'<img src="'+l+'" alt="'+d+'" data-href="'+v+'" style="'+F+'"/>'}},DIe={selector:"img:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e),c=l.attr("data-href")||"";return c=decodeURIComponent(c),{type:"image",src:l.attr("src")||"",alt:l.attr("alt")||"",href:c,style:{width:Um(l,"width"),height:Um(l,"height")},children:[{text:""}]}}};function t4e(e,o,s,l,c){return l===void 0&&(l=""),c===void 0&&(c=""),NC(this,void 0,void 0,function(){var d,p;return PC(this,function(v){switch(v.label){case 0:return(d=o.getMenuConfig(e).checkImage)?[4,d(s,l,c)]:[3,2];case 1:if(typeof(p=v.sent())=="string")return o.alert(p,"error"),[2,!1];if(p==null)return[2,!1];v.label=2;case 2:return[2,!0]}})})}function n4e(e,o,s){return NC(this,void 0,void 0,function(){var l;return PC(this,function(c){switch(c.label){case 0:return(l=o.getMenuConfig(e).parseImageSrc)?[4,l(s)]:[3,2];case 1:return[2,c.sent()];case 2:return[2,s]}})})}function g4(e,o,s,l){return s===void 0&&(s=""),l===void 0&&(l=""),NC(this,void 0,void 0,function(){var c,d,p;return PC(this,function(v){switch(v.label){case 0:return[4,t4e("insertImage",e,o,s,l)];case 1:return v.sent()?[4,n4e("insertImage",e,o)]:[2];case 2:return c=v.sent(),d={type:"image",src:$fe(c),href:l,alt:s,style:{},children:[{text:""}]},e.selection===null&&e.restoreSelection(),wt.getSelectedNodeByType(e,"image")&&e.move(1),Hq(e)?[2]:(Qt.insertNodes(e,d),(p=e.getMenuConfig("insertImage").onInsertedImage)&&p(d),[2])}})})}function BIe(e,o,s,l,c){return s===void 0&&(s=""),l===void 0&&(l=""),c===void 0&&(c={}),NC(this,void 0,void 0,function(){var d,p,v,b,S,x;return PC(this,function(T){switch(T.label){case 0:return[4,t4e("editImage",e,o,s,l)];case 1:return T.sent()?[4,n4e("editImage",e,o)]:[2];case 2:return d=T.sent(),(p=wt.getSelectedNodeByType(e,"image"))==null?[2]:(v=p.style,b={src:d,alt:s,href:l,style:xC(xC({},v===void 0?{}:v),c)},Qt.setNodes(e,b,{match:function(E){return wt.checkNodeType(E,"image")}}),S=wt.getSelectedNodeByType(e,"image"),(x=e.getMenuConfig("editImage").onUpdatedImage)&&x(S),[2])}})})}function Hq(e){var o=e.selection;return o==null||!gn.isCollapsed(o)||!!gi(ze.nodes(e,{match:function(s){var l=wt.getNodeType(s);return l==="code"||l==="pre"||l==="link"||l==="list-item"||!!l.startsWith("header")||l==="blockquote"||!!ze.isVoid(e,s)},universal:!0}),1)[0]}function aV(){return Lq("w-e-insert-image")}var NIe=function(){function e(){this.title=Co("image.netImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=aV(),this.altInputId=aV(),this.hrefInputId=aV(),this.buttonId=aV()}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return Hq(o)},e.prototype.getModalPositionNode=function(o){return null},e.prototype.getModalContentElem=function(o){var s=this,l=this,c=l.srcInputId,d=l.altInputId,p=l.hrefInputId,v=l.buttonId,b=gi(op(Co("image.src"),c),2),S=b[0],x=b[1],T=_t(x),E=gi(op(Co("image.desc"),d),2),k=E[0],F=E[1],N=_t(F),$=gi(op(Co("image.link"),p),2),D=$[0],O=$[1],P=_t(O),I=gi(r_(v,Co("common.ok")),1)[0];if(this.$content==null){var z=_t("<div></div>");z.on("click","#"+v,function(j){j.preventDefault();var oe=z.find("#"+c).val().trim(),xe=z.find("#"+d).val().trim(),se=z.find("#"+p).val().trim();s.insertImage(o,oe,xe,se),o.hidePanelOrModal()}),this.$content=z}var K=this.$content;return K.empty(),K.append(S),K.append(k),K.append(D),K.append(I),T.val(""),N.val(""),P.val(""),setTimeout(function(){T.focus()}),K[0]},e.prototype.insertImage=function(o,s,l,c){l===void 0&&(l=""),c===void 0&&(c=""),s&&(o.restoreSelection(),this.isDisabled(o)||g4(o,s,l,c))},e}(),PIe=function(){function e(){this.title=Co("image.delete"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||wt.getSelectedNodeByType(o,"image")==null},e.prototype.exec=function(o,s){this.isDisabled(o)||Qt.removeNodes(o,{match:function(l){return wt.checkNodeType(l,"image")}})},e}();function lV(){return Lq("w-e-edit-image")}var FIe=function(){function e(){this.title=Co("image.edit"),this.iconSvg=HEe,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=lV(),this.altInputId=lV(),this.hrefInputId=lV(),this.buttonId=lV()}return e.prototype.getValue=function(o){return""},e.prototype.getImageNode=function(o){return wt.getSelectedNodeByType(o,"image")},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"image")==null},e.prototype.getModalPositionNode=function(o){return this.getImageNode(o)},e.prototype.getModalContentElem=function(o){var s=this,l=this,c=l.srcInputId,d=l.altInputId,p=l.hrefInputId,v=l.buttonId,b=this.getImageNode(o);if(b==null)throw new Error("Not found selected image node");var S=gi(op(Co("image.src"),c),2),x=S[0],T=S[1],E=_t(T),k=gi(op(Co("image.desc"),d),2),F=k[0],N=k[1],$=_t(N),D=gi(op(Co("image.link"),p),2),O=D[0],P=D[1],I=_t(P),z=gi(r_(v,Co("common.ok")),1)[0];if(this.$content==null){var K=_t("<div></div>");K.on("click","#"+v,function(he){he.preventDefault();var ve=K.find("#"+c).val(),qe=K.find("#"+d).val(),U=K.find("#"+p).val();s.updateImage(o,ve,qe,U),o.hidePanelOrModal()}),this.$content=K}var j=this.$content;j.empty(),j.append(x),j.append(F),j.append(O),j.append(z);var oe=b,xe=oe.src,se=oe.alt,Q=se===void 0?"":se,G=oe.href,ce=G===void 0?"":G;return E.val(xe),$.val(Q),I.val(ce),setTimeout(function(){E.focus()}),j[0]},e.prototype.updateImage=function(o,s,l,c,d){l===void 0&&(l=""),c===void 0&&(c=""),d===void 0&&(d={}),s&&(o.restoreSelection(),this.isDisabled(o)||BIe(o,s,l,c,d))},e}(),RIe=function(){function e(){this.title=Co("image.viewLink"),this.iconSvg=jEe,this.tag="button"}return e.prototype.getValue=function(o){var s=wt.getSelectedNodeByType(o,"image");return s&&s.href||""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||!this.getValue(o)},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){if(!s||typeof s!="string")throw new Error("View image link failed, image.href is '"+s+"'");window.open(s,"_blank")}},e}(),Bfe=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.getSelectedNode=function(o){return wt.getSelectedNodeByType(o,"image")},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedNode(o)==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=this.getSelectedNode(o);if(l!=null){var c=wt.getHoverbar(o);c&&c.hideAndClean();var d=l.style,p={style:xC(xC({},d===void 0?{}:d),{width:this.value,height:""})};Qt.setNodes(o,p,{match:function(v){return wt.checkNodeType(v,"image")}})}}},e}(),MIe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="30%",s.value="30%",s}return ul(o,e),o}(Bfe),IIe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="50%",s.value="50%",s}return ul(o,e),o}(Bfe),LIe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title="100%",s.value="100%",s}return ul(o,e),o}(Bfe),y0e={onInsertedImage:function(e){},onUpdatedImage:function(e){},checkImage:function(e,o,s){return!0},parseImageSrc:function(e){return e}},HIe={renderElems:[_Ie],elemsToHtml:[$Ie],parseElemsHtml:[DIe],menus:[{key:"insertImage",factory:function(){return new NIe},config:y0e},{key:"deleteImage",factory:function(){return new PIe}},{key:"editImage",factory:function(){return new FIe},config:y0e},{key:"viewImageLink",factory:function(){return new RIe}},{key:"imageWidth30",factory:function(){return new MIe}},{key:"imageWidth50",factory:function(){return new IIe}},{key:"imageWidth100",factory:function(){return new LIe}}],editorPlugin:function(e){var o=e.isInline,s=e.isVoid;e.insertNode;var l=e;return l.isInline=function(c){return c.type==="image"||o(c)},l.isVoid=function(c){return c.type==="image"||s(c)},l}},jIe={type:"todo",renderElem:function(e,o,s){var l=!1;s.isDisabled()&&(l=!0);var c=e.checked,d=is("div",{style:{margin:"5px 0"}},is("span",{contentEditable:!1,style:{marginRight:"0.5em"}},is("input",{type:"checkbox",checked:c,disabled:l,on:{change:function(p){var v=wt.findPath(s,e),b={checked:p.target.checked};Qt.setNodes(s,b,{at:v})}}})),is("span",null,o));return d}},zIe=function(){function e(){this.title=Co("todo.todo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M278.755556 403.911111l-79.644445 79.644445L455.111111 739.555556l568.888889-568.888889-79.644444-79.644445L455.111111 580.266667l-176.355555-176.355556zM910.222222 910.222222H113.777778V113.777778h568.888889V0H113.777778C51.2 0 0 51.2 0 113.777778v796.444444c0 62.577778 51.2 113.777778 113.777778 113.777778h796.444444c62.577778 0 113.777778-51.2 113.777778-113.777778V455.111111h-113.777778v455.111111z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!!wt.getSelectedNodeByType(o,"todo")},e.prototype.isDisabled=function(o){return o.selection==null||!!wt.getSelectedElems(o).some(function(s){if(ze.isVoid(o,s)&&ze.isBlock(o,s))return!0;var l=s.type;return!!["pre","table","list-item"].includes(l)||void 0})},e.prototype.exec=function(o,s){var l=this.isActive(o);Qt.setNodes(o,{type:l?"paragraph":"todo"})},e}(),VIe={selector:'div[data-w-e-type="todo"]',parseElemHtml:function(e,o,s){var l=_t(e);(o=o.filter(function(d){return!!Mo.isText(d)||!!s.isInline(d)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]);var c=!1;return l.find('input[type="checkbox"]').attr("checked")!=null&&(c=!0),{type:"todo",checked:c,children:o}}},UIe={renderElems:[jIe],elemsToHtml:[{type:"todo",elemToHtml:function(e,o){return'<div data-w-e-type="todo"><input type="checkbox" disabled '+(e.checked?"checked":"")+">"+o+"</div>"}}],preParseHtml:[{selector:"ul.w-e-todo",preParseHtml:function(e){var o=_t(e).find("li"),s=_t('<div data-w-e-type="todo"></div>'),l=o.find("input[type]");return s.append(l),o.children()[0].remove(),s[0].innerHTML=s[0].innerHTML+o[0].innerHTML,s[0]}}],parseElemsHtml:[VIe],menus:[{key:"todo",factory:function(){return new zIe}}],editorPlugin:function(e){var o=e.deleteBackward,s=e;return s.deleteBackward=function(l){var c=e.selection;if(c&&gn.isCollapsed(c)){var d=wt.getSelectedNodeByType(e,"todo");if(d&&wo.string(d).length===0)return void Qt.setNodes(e,{type:"paragraph"},{mode:"highest"})}o(l)},s}},WIe={type:"blockquote",renderElem:function(e,o,s){return is("blockquote",null,o)}},qIe={type:"blockquote",elemToHtml:function(e,o){return"<blockquote>"+o+"</blockquote>"}},ZIe={selector:"blockquote:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e);return(o=o.filter(function(c){return!!Mo.isText(c)||!!s.isInline(c)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]),{type:"blockquote",children:o}}},GIe=function(){function e(){this.title=Co("blockQuote.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M894.6 907.1H605.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C752.7 180.4 711.3 315.8 711.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z m-472 0H133.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C280.7 180.4 239.3 315.8 239.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!!wt.getSelectedNodeByType(o,"blockquote")},e.prototype.isDisabled=function(o){return o.selection==null||!gi(ze.nodes(o,{match:function(s){var l=wt.getNodeType(s);return l==="paragraph"||l==="blockquote"},universal:!0,mode:"highest"}),1)[0]},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=this.isActive(o)?"paragraph":"blockquote";Qt.setNodes(o,{type:l},{mode:"highest"})}},e}(),KIe={key:"blockquote",factory:function(){return new GIe}},YIe=es([].slice),XIe=Efe("slice"),JIe=dp("species"),Tre=ws.Array,QIe=Math.max;cu({target:"Array",proto:!0,forced:!XIe},{slice:function(e,o){var s,l,c,d=s_(this),p=Mq(d),v=xP(e,p),b=xP(o===void 0?p:o,p);if(QU(d)&&(s=d.constructor,(xfe(s)&&(s===Tre||QU(s.prototype))||cg(s)&&(s=s[JIe])===null)&&(s=void 0),s===Tre||s===void 0))return YIe(d,v,b);for(l=new(s===void 0?Tre:s)(QIe(b-v,0)),c=0;v<b;v++,c++)v in d&&PEe(l,c,d[v]);return l.length=c,l}});var eLe={renderElems:[WIe],elemsToHtml:[qIe],parseElemsHtml:[ZIe],menus:[KIe],editorPlugin:function(e){var o=e.insertBreak,s=e.insertText,l=e;return l.insertBreak=function(){var c=l.selection;if(c==null)return o();var d=gi(ze.nodes(e,{match:function(x){return wt.checkNodeType(x,"blockquote")},universal:!0}),1)[0];if(!d)return o();var p=d[0],v=wt.findPath(e,p),b=ze.end(e,v);if(Bs.equals(b,c.focus)){var S=wo.string(p);if(S&&S.slice(-1)===`
`)return e.deleteBackward("character"),void Qt.insertNodes(l,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}s(`
`)},l}},tLe=function(){function e(){this.title=Co("emotion.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.exec=function(o,s){},e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||!!gi(ze.nodes(o,{match:function(s){return wt.getNodeType(s)==="pre"||!!ze.isVoid(o,s)},universal:!0}),1)[0]},e.prototype.getPanelContentElem=function(o){if(this.$content==null){var s=_t('<ul class="w-e-panel-content-emotion"></ul>');s.on("click","li",function(d){var p=d.target;if(p!=null){d.preventDefault();var v=_t(p).text();o.insertText(v)}}),this.$content=s}var l=this.$content;if(l==null)return document.createElement("ul");l.empty();var c=o.getMenuConfig("emotion").emotions;return(c===void 0?[]:c).forEach(function(d){var p=_t("<li>"+d+"</li>");l.append(p)}),l[0]},e}(),nLe={menus:[{key:"emotion",factory:function(){return new tLe},config:{emotions:"\u{1F600} \u{1F603} \u{1F604} \u{1F601} \u{1F606} \u{1F605} \u{1F602} \u{1F923} \u{1F60A} \u{1F607} \u{1F642} \u{1F643} \u{1F609} \u{1F60C} \u{1F60D} \u{1F618} \u{1F617} \u{1F619} \u{1F61A} \u{1F60B} \u{1F61B} \u{1F61D} \u{1F61C} \u{1F913} \u{1F60E} \u{1F60F} \u{1F612} \u{1F61E} \u{1F614} \u{1F61F} \u{1F615} \u{1F641} \u{1F623} \u{1F616} \u{1F62B} \u{1F629} \u{1F622} \u{1F62D} \u{1F624} \u{1F620} \u{1F621} \u{1F633} \u{1F631} \u{1F628} \u{1F917} \u{1F914} \u{1F636} \u{1F611} \u{1F62C} \u{1F644} \u{1F62F} \u{1F634} \u{1F637} \u{1F911} \u{1F608} \u{1F921} \u{1F4A9} \u{1F47B} \u{1F480} \u{1F440} \u{1F463} \u{1F450} \u{1F64C} \u{1F44F} \u{1F91D} \u{1F44D} \u{1F44E} \u{1F44A} \u270A \u{1F91B} \u{1F91C} \u{1F91E} \u270C\uFE0F \u{1F918} \u{1F44C} \u{1F448} \u{1F449} \u{1F446} \u{1F447} \u261D\uFE0F \u270B \u{1F91A} \u{1F590} \u{1F596} \u{1F44B} \u{1F919} \u{1F4AA} \u{1F595} \u270D\uFE0F \u{1F64F}".split(" ")}}]},oLe={1:"12px",2:"14px",3:"16px",4:"19px",5:"24px",6:"32px",7:"48px"},rLe={selector:"font",preParseHtml:function(e){var o=_t(e);if(c_(o)!=="font")return e;var s=o.attr("size")||"";s&&(o.removeAttr("size"),o.css("font-size",oLe[s]));var l=o.attr("face")||"";return l&&(o.removeAttr("face"),o.css("font-family",l)),o[0]}},sLe=es("".indexOf);cu({target:"String",proto:!0,forced:!UEe("includes")},{includes:function(e){return!!~sLe(Al(wg(this)),Al(VEe(e)),arguments.length>1?arguments[1]:void 0)}});var Rw,tU,cV=function(e){return e&&e.Math==Math&&e},Rs=cV(typeof globalThis=="object"&&globalThis)||cV(typeof window=="object"&&window)||cV(typeof self=="object"&&self)||cV(typeof KU=="object"&&KU)||function(){return this}()||Function("return this")(),Nfe=Function.prototype,w0e=Nfe.apply,iLe=Nfe.bind,C0e=Nfe.call,o4e=typeof Reflect=="object"&&Reflect.apply||(iLe?C0e.bind(w0e):function(){return C0e.apply(w0e,arguments)}),r4e=Function.prototype,ele=r4e.bind,tle=r4e.call,aLe=ele&&ele.bind(tle),sc=ele?function(e){return e&&aLe(tle,e)}:function(e){return e&&function(){return tle.apply(e,arguments)}},lf=function(e){return typeof e=="function"},cp=function(e){try{return!!e()}catch{return!0}},th=!cp(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),WB=Function.prototype.call,Hm=WB.bind?WB.bind(WB):function(){return WB.apply(WB,arguments)},S0e={}.propertyIsEnumerable,x0e=Object.getOwnPropertyDescriptor,lLe=x0e&&!S0e.call({1:2},1)?function(e){var o=x0e(this,e);return!!o&&o.enumerable}:S0e,Pfe={f:lLe},M4=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},cLe=sc({}.toString),uLe=sc("".slice),m4=function(e){return uLe(cLe(e),8,-1)},Ore=Rs.Object,fLe=sc("".split),s4e=cp(function(){return!Ore("z").propertyIsEnumerable(0)})?function(e){return m4(e)=="String"?fLe(e,""):Ore(e)}:Ore,dLe=Rs.TypeError,Ffe=function(e){if(e==null)throw dLe("Can't call method on "+e);return e},Xv=function(e){return s4e(Ffe(e))},ug=function(e){return typeof e=="object"?e!==null:lf(e)},ig={},E0e=function(e){return lf(e)?e:void 0},dF=function(e,o){return arguments.length<2?E0e(ig[e])||E0e(Rs[e]):ig[e]&&ig[e][o]||Rs[e]&&Rs[e][o]},i4e=sc({}.isPrototypeOf),_re=dF("navigator","userAgent")||"",k0e=Rs.process,A0e=Rs.Deno,T0e=k0e&&k0e.versions||A0e&&A0e.version,O0e=T0e&&T0e.v8;O0e&&(tU=(Rw=O0e.split("."))[0]>0&&Rw[0]<4?1:+(Rw[0]+Rw[1])),!tU&&_re&&(!(Rw=_re.match(/Edge\/(\d+)/))||Rw[1]>=74)&&(Rw=_re.match(/Chrome\/(\d+)/))&&(tU=+Rw[1]);var nW=tU,$v=!!Object.getOwnPropertySymbols&&!cp(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&nW&&nW<41}),Rfe=$v&&!Symbol.sham&&typeof Symbol.iterator=="symbol",hLe=Rs.Object,v5=Rfe?function(e){return typeof e=="symbol"}:function(e){var o=dF("Symbol");return lf(o)&&i4e(o.prototype,hLe(e))},pLe=Rs.String,gLe=Rs.TypeError,a4e=function(e){if(lf(e))return e;throw gLe(function(o){try{return pLe(o)}catch{return"Object"}}(e)+" is not a function")},mLe=Rs.TypeError,vLe=Object.defineProperty,aC=Rs["__core-js_shared__"]||function(e,o){try{vLe(Rs,e,{value:o,configurable:!0,writable:!0})}catch{Rs[e]=o}return o}("__core-js_shared__",{}),Y4=Nq(function(e){(e.exports=function(o,s){return aC[o]||(aC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"pure",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),bLe=Rs.Object,hF=function(e){return bLe(Ffe(e))},yLe=sc({}.hasOwnProperty),pi=Object.hasOwn||function(e,o){return yLe(hF(e),o)},wLe=0,CLe=Math.random(),SLe=sc(1 .toString),oW=function(e){return"Symbol("+(e===void 0?"":e)+")_"+SLe(++wLe+CLe,36)},qB=Y4("wks"),v4=Rs.Symbol,_0e=v4&&v4.for,xLe=Rfe?v4:v4&&v4.withoutSetter||oW,hp=function(e){if(!pi(qB,e)||!$v&&typeof qB[e]!="string"){var o="Symbol."+e;$v&&pi(v4,e)?qB[e]=v4[e]:qB[e]=Rfe&&_0e?_0e(o):xLe(o)}return qB[e]},ELe=Rs.TypeError,kLe=hp("toPrimitive"),ALe=function(e,o){if(!ug(e)||v5(e))return e;var s,l,c=(s=e[kLe])==null?void 0:a4e(s);if(c){if(o===void 0&&(o="default"),l=Hm(c,e,o),!ug(l)||v5(l))return l;throw ELe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(d,p){var v,b;if(p==="string"&&lf(v=d.toString)&&!ug(b=Hm(v,d))||lf(v=d.valueOf)&&!ug(b=Hm(v,d))||p!=="string"&&lf(v=d.toString)&&!ug(b=Hm(v,d)))return b;throw mLe("Can't convert object to primitive value")}(e,o)},u_=function(e){var o=ALe(e,"string");return v5(o)?o:o+""},nle=Rs.document,TLe=ug(nle)&&ug(nle.createElement),l4e=function(e){return TLe?nle.createElement(e):{}},c4e=!th&&!cp(function(){return Object.defineProperty(l4e("div"),"a",{get:function(){return 7}}).a!=7}),$0e=Object.getOwnPropertyDescriptor,Mfe={f:th?$0e:function(e,o){if(e=Xv(e),o=u_(o),c4e)try{return $0e(e,o)}catch{}if(pi(e,o))return M4(!Hm(Pfe.f,e,o),e[o])}},OLe=/#|\.prototype\./,pF=function(e,o){var s=$Le[_Le(e)];return s==BLe||s!=DLe&&(lf(o)?cp(o):!!o)},_Le=pF.normalize=function(e){return String(e).replace(OLe,".").toLowerCase()},$Le=pF.data={},DLe=pF.NATIVE="N",BLe=pF.POLYFILL="P",NLe=pF,D0e=sc(sc.bind),u4e=function(e,o){return a4e(e),o===void 0?e:D0e?D0e(e,o):function(){return e.apply(o,arguments)}},PLe=Rs.String,FLe=Rs.TypeError,I4=function(e){if(ug(e))return e;throw FLe(PLe(e)+" is not an object")},RLe=Rs.TypeError,B0e=Object.defineProperty,X4={f:th?B0e:function(e,o,s){if(I4(e),o=u_(o),I4(s),c4e)try{return B0e(e,o,s)}catch{}if("get"in s||"set"in s)throw RLe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},Bv=th?function(e,o,s){return X4.f(e,o,M4(1,s))}:function(e,o,s){return e[o]=s,e},MLe=Mfe.f,ILe=function(e){var o=function(s,l,c){if(this instanceof o){switch(arguments.length){case 0:return new e;case 1:return new e(s);case 2:return new e(s,l)}return new e(s,l,c)}return o4e(e,this,arguments)};return o.prototype=e.prototype,o},Kw=function(e,o){var s,l,c,d,p,v,b,S,x=e.target,T=e.global,E=e.stat,k=e.proto,F=T?Rs:E?Rs[x]:(Rs[x]||{}).prototype,N=T?ig:ig[x]||Bv(ig,x,{})[x],$=N.prototype;for(c in o)s=!NLe(T?c:x+(E?".":"#")+c,e.forced)&&F&&pi(F,c),p=N[c],s&&(v=e.noTargetGet?(S=MLe(F,c))&&S.value:F[c]),d=s&&v?v:o[c],s&&typeof p==typeof d||(b=e.bind&&s?u4e(d,Rs):e.wrap&&s?ILe(d):k&&lf(d)?sc(d):d,(e.sham||d&&d.sham||p&&p.sham)&&Bv(b,"sham",!0),Bv(N,c,b),k&&(pi(ig,l=x+"Prototype")||Bv(ig,l,{}),Bv(ig[l],c,d),e.real&&$&&!$[c]&&Bv($,c,d)))},rW=Array.isArray||function(e){return m4(e)=="Array"},LLe=Math.ceil,HLe=Math.floor,Ife=function(e){var o=+e;return o!=o||o===0?0:(o>0?HLe:LLe)(o)},jLe=Math.min,jq=function(e){return(o=e.length)>0?jLe(Ife(o),9007199254740991):0;var o},ole=function(e,o,s){var l=u_(o);l in e?X4.f(e,l,M4(0,s)):e[l]=s},f4e={};f4e[hp("toStringTag")]="z";var Lfe=String(f4e)==="[object z]",zLe=hp("toStringTag"),VLe=Rs.Object,ULe=m4(function(){return arguments}())=="Arguments",zq=Lfe?m4:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=VLe(e),zLe))=="string"?s:ULe?m4(o):(l=m4(o))=="Object"&&lf(o.callee)?"Arguments":l},WLe=sc(Function.toString);lf(aC.inspectSource)||(aC.inspectSource=function(e){return WLe(e)});var d4e=aC.inspectSource,h4e=function(){},qLe=[],p4e=dF("Reflect","construct"),Hfe=/^\s*(?:class|function)\b/,ZLe=sc(Hfe.exec),GLe=!Hfe.exec(h4e),ZB=function(e){if(!lf(e))return!1;try{return p4e(h4e,qLe,e),!0}catch{return!1}},KLe=!p4e||cp(function(){var e;return ZB(ZB.call)||!ZB(Object)||!ZB(function(){e=!0})||e})?function(e){if(!lf(e))return!1;switch(zq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return GLe||!!ZLe(Hfe,d4e(e))}:ZB,YLe=hp("species"),N0e=Rs.Array,g4e=function(e,o){return new(function(s){var l;return rW(s)&&(l=s.constructor,(KLe(l)&&(l===N0e||rW(l.prototype))||ug(l)&&(l=l[YLe])===null)&&(l=void 0)),l===void 0?N0e:l}(e))(o===0?0:o)},XLe=hp("species"),m4e=hp("isConcatSpreadable"),P0e=Rs.TypeError,JLe=nW>=51||!cp(function(){var e=[];return e[m4e]=!1,e.concat()[0]!==e}),QLe=function(e){return nW>=51||!cp(function(){var o=[];return(o.constructor={})[XLe]=function(){return{foo:1}},o[e](Boolean).foo!==1})}("concat"),eHe=function(e){if(!ug(e))return!1;var o=e[m4e];return o!==void 0?!!o:rW(e)};Kw({target:"Array",proto:!0,forced:!JLe||!QLe},{concat:function(e){var o,s,l,c,d,p=hF(this),v=g4e(p,0),b=0;for(o=-1,l=arguments.length;o<l;o++)if(eHe(d=o===-1?p:arguments[o])){if(b+(c=jq(d))>9007199254740991)throw P0e("Maximum allowed index exceeded");for(s=0;s<c;s++,b++)s in d&&ole(v,b,d[s])}else{if(b>=9007199254740991)throw P0e("Maximum allowed index exceeded");ole(v,b++,d)}return v.length=b,v}});var uV,tHe=Rs.String,sW=function(e){if(zq(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return tHe(e)},nHe=Math.max,oHe=Math.min,rle=function(e,o){var s=Ife(e);return s<0?nHe(s+o,0):oHe(s,o)},F0e=function(e){return function(o,s,l){var c,d=Xv(o),p=jq(d),v=rle(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},rHe={includes:F0e(!0),indexOf:F0e(!1)},gF={},sHe=rHe.indexOf,R0e=sc([].push),v4e=function(e,o){var s,l=Xv(e),c=0,d=[];for(s in l)!pi(gF,s)&&pi(l,s)&&R0e(d,s);for(;o.length>c;)pi(l,s=o[c++])&&(~sHe(d,s)||R0e(d,s));return d},iW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jfe=Object.keys||function(e){return v4e(e,iW)},iHe=th?Object.defineProperties:function(e,o){I4(e);for(var s,l=Xv(o),c=jfe(o),d=c.length,p=0;d>p;)X4.f(e,s=c[p++],l[s]);return e},aHe=dF("document","documentElement"),M0e=Y4("keys"),Vq=function(e){return M0e[e]||(M0e[e]=oW(e))},b4e=Vq("IE_PROTO"),$re=function(){},y4e=function(e){return"<script>"+e+"<\/script>"},I0e=function(e){e.write(y4e("")),e.close();var o=e.parentWindow.Object;return e=null,o},nU=function(){try{uV=new ActiveXObject("htmlfile")}catch{}var e,o;nU=typeof document<"u"?document.domain&&uV?I0e(uV):((o=l4e("iframe")).style.display="none",aHe.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(y4e("document.F=Object")),e.close(),e.F):I0e(uV);for(var s=iW.length;s--;)delete nU.prototype[iW[s]];return nU()};gF[b4e]=!0;var aW,WN,lW,L4=Object.create||function(e,o){var s;return e!==null?($re.prototype=I4(e),s=new $re,$re.prototype=null,s[b4e]=e):s=nU(),o===void 0?s:iHe(s,o)},lHe=iW.concat("length","prototype"),w4e={f:Object.getOwnPropertyNames||function(e){return v4e(e,lHe)}},cHe=Rs.Array,uHe=Math.max,C4e=w4e.f,S4e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],fHe=function(e){try{return C4e(e)}catch{return function(s,l,c){for(var d=jq(s),p=rle(l,d),v=rle(c===void 0?d:c,d),b=cHe(uHe(v-p,0)),S=0;p<v;p++,S++)ole(b,S,s[p]);return b.length=S,b}(S4e)}},x4e={f:function(e){return S4e&&m4(e)=="Window"?fHe(e):C4e(Xv(e))}},Dre={f:Object.getOwnPropertySymbols},dHe=sc([].slice),V5=function(e,o,s,l){l&&l.enumerable?e[o]=s:Bv(e,o,s)},zfe={f:hp},hHe=X4.f,yc=function(e){var o=ig.Symbol||(ig.Symbol={});pi(o,e)||hHe(o,e,{value:zfe.f(e)})},pHe=Lfe?{}.toString:function(){return"[object "+zq(this)+"]"},gHe=X4.f,L0e=hp("toStringTag"),cW=function(e,o,s,l){if(e){var c=s?e:e.prototype;pi(c,L0e)||gHe(c,L0e,{configurable:!0,value:o}),l&&!Lfe&&Bv(c,"toString",pHe)}},H0e=Rs.WeakMap,mHe=lf(H0e)&&/native code/.test(d4e(H0e)),sle=Rs.TypeError,vHe=Rs.WeakMap;if(mHe||aC.state){var HE=aC.state||(aC.state=new vHe),bHe=sc(HE.get),j0e=sc(HE.has),yHe=sc(HE.set);aW=function(e,o){if(j0e(HE,e))throw new sle("Object already initialized");return o.facade=e,yHe(HE,e,o),o},WN=function(e){return bHe(HE,e)||{}},lW=function(e){return j0e(HE,e)}}else{var LO=Vq("state");gF[LO]=!0,aW=function(e,o){if(pi(e,LO))throw new sle("Object already initialized");return o.facade=e,Bv(e,LO,o),o},WN=function(e){return pi(e,LO)?e[LO]:{}},lW=function(e){return pi(e,LO)}}var f_={set:aW,get:WN,has:lW,enforce:function(e){return lW(e)?WN(e):aW(e,{})},getterFor:function(e){return function(o){var s;if(!ug(o)||(s=WN(o)).type!==e)throw sle("Incompatible receiver, "+e+" required");return s}}},z0e=sc([].push),Mw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=hF(b),N=s4e(F),$=u4e(S,x),D=jq(N),O=0,P=T||g4e,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:z0e(I,E)}else switch(e){case 4:return!1;case 7:z0e(I,E)}return d?-1:l||c?c:I}},Uq={forEach:Mw(0),map:Mw(1),filter:Mw(2),some:Mw(3),every:Mw(4),find:Mw(5),findIndex:Mw(6),filterReject:Mw(7)}.forEach,Jd=Vq("hidden"),V0e=hp("toPrimitive"),wHe=f_.set,U0e=f_.getterFor("Symbol"),jm=Object.prototype,Yw=Rs.Symbol,eC=Yw&&Yw.prototype,W0e=Rs.TypeError,Bre=Rs.QObject,GB=dF("JSON","stringify"),E4e=Mfe.f,Xw=X4.f,k4e=x4e.f,CHe=Pfe.f,A4e=sc([].push),gy=Y4("symbols"),mF=Y4("op-symbols"),Nre=Y4("string-to-symbol-registry"),Pre=Y4("symbol-to-string-registry"),SHe=Y4("wks"),Fre=!Bre||!Bre.prototype||!Bre.prototype.findChild,ile=th&&cp(function(){return L4(Xw({},"a",{get:function(){return Xw(this,"a",{value:7}).a}})).a!=7})?function(e,o,s){var l=E4e(jm,o);l&&delete jm[o],Xw(e,o,s),l&&e!==jm&&Xw(jm,o,l)}:Xw,Rre=function(e,o){var s=gy[e]=L4(eC);return wHe(s,{type:"Symbol",tag:e,description:o}),th||(s.description=o),s},uW=function(e,o,s){e===jm&&uW(mF,o,s),I4(e);var l=u_(o);return I4(s),pi(gy,l)?(s.enumerable?(pi(e,Jd)&&e[Jd][l]&&(e[Jd][l]=!1),s=L4(s,{enumerable:M4(0,!1)})):(pi(e,Jd)||Xw(e,Jd,M4(1,{})),e[Jd][l]=!0),ile(e,l,s)):Xw(e,l,s)},q0e=function(e,o){I4(e);var s=Xv(o),l=jfe(s).concat(ale(s));return Uq(l,function(c){th&&!Hm(T4e,s,c)||uW(e,c,s[c])}),e},T4e=function(e){var o=u_(e),s=Hm(CHe,this,o);return!(this===jm&&pi(gy,o)&&!pi(mF,o))&&(!(s||!pi(this,o)||!pi(gy,o)||pi(this,Jd)&&this[Jd][o])||s)},Z0e=function(e,o){var s=Xv(e),l=u_(o);if(s!==jm||!pi(gy,l)||pi(mF,l)){var c=E4e(s,l);return!c||!pi(gy,l)||pi(s,Jd)&&s[Jd][l]||(c.enumerable=!0),c}},G0e=function(e){var o=k4e(Xv(e)),s=[];return Uq(o,function(l){pi(gy,l)||pi(gF,l)||A4e(s,l)}),s},ale=function(e){var o=e===jm,s=k4e(o?mF:Xv(e)),l=[];return Uq(s,function(c){!pi(gy,c)||o&&!pi(jm,c)||A4e(l,gy[c])}),l};if($v||(eC=(Yw=function(){if(i4e(eC,this))throw W0e("Symbol is not a constructor");var e=arguments.length&&arguments[0]!==void 0?sW(arguments[0]):void 0,o=oW(e),s=function(l){this===jm&&Hm(s,mF,l),pi(this,Jd)&&pi(this[Jd],o)&&(this[Jd][o]=!1),ile(this,o,M4(1,l))};return th&&Fre&&ile(jm,o,{configurable:!0,set:s}),Rre(o,e)}).prototype,V5(eC,"toString",function(){return U0e(this).tag}),V5(Yw,"withoutSetter",function(e){return Rre(oW(e),e)}),Pfe.f=T4e,X4.f=uW,Mfe.f=Z0e,w4e.f=x4e.f=G0e,Dre.f=ale,zfe.f=function(e){return Rre(hp(e),e)},th&&Xw(eC,"description",{configurable:!0,get:function(){return U0e(this).description}})),Kw({global:!0,wrap:!0,forced:!$v,sham:!$v},{Symbol:Yw}),Uq(jfe(SHe),function(e){yc(e)}),Kw({target:"Symbol",stat:!0,forced:!$v},{for:function(e){var o=sW(e);if(pi(Nre,o))return Nre[o];var s=Yw(o);return Nre[o]=s,Pre[s]=o,s},keyFor:function(e){if(!v5(e))throw W0e(e+" is not a symbol");if(pi(Pre,e))return Pre[e]},useSetter:function(){Fre=!0},useSimple:function(){Fre=!1}}),Kw({target:"Object",stat:!0,forced:!$v,sham:!th},{create:function(e,o){return o===void 0?L4(e):q0e(L4(e),o)},defineProperty:uW,defineProperties:q0e,getOwnPropertyDescriptor:Z0e}),Kw({target:"Object",stat:!0,forced:!$v},{getOwnPropertyNames:G0e,getOwnPropertySymbols:ale}),Kw({target:"Object",stat:!0,forced:cp(function(){Dre.f(1)})},{getOwnPropertySymbols:function(e){return Dre.f(hF(e))}}),GB){var xHe=!$v||cp(function(){var e=Yw();return GB([e])!="[null]"||GB({a:e})!="{}"||GB(Object(e))!="{}"});Kw({target:"JSON",stat:!0,forced:xHe},{stringify:function(e,o,s){var l=dHe(arguments),c=o;if((ug(o)||e!==void 0)&&!v5(e))return rW(o)||(o=function(d,p){if(lf(c)&&(p=Hm(c,this,d,p)),!v5(p))return p}),l[1]=o,o4e(GB,null,l)}})}if(!eC[V0e]){var EHe=eC.valueOf;V5(eC,V0e,function(e){return Hm(EHe,this)})}cW(Yw,"Symbol"),gF[Jd]=!0,yc("asyncIterator"),yc("hasInstance"),yc("isConcatSpreadable"),yc("iterator"),yc("match"),yc("matchAll"),yc("replace"),yc("search"),yc("species"),yc("split"),yc("toPrimitive"),yc("toStringTag"),yc("unscopables"),cW(Rs.JSON,"JSON",!0);var tC,K0e,Y0e,kHe=ig.Symbol,b4={},O4e=Function.prototype,AHe=th&&Object.getOwnPropertyDescriptor,Mre=pi(O4e,"name"),THe={EXISTS:Mre,PROPER:Mre&&function(){}.name==="something",CONFIGURABLE:Mre&&(!th||th&&AHe(O4e,"name").configurable)},OHe=!cp(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),X0e=Vq("IE_PROTO"),lle=Rs.Object,_He=lle.prototype,cle=OHe?lle.getPrototypeOf:function(e){var o=hF(e);if(pi(o,X0e))return o[X0e];var s=o.constructor;return lf(s)&&o instanceof s?s.prototype:o instanceof lle?_He:null},ule=hp("iterator"),_4e=!1;[].keys&&("next"in(Y0e=[].keys())?(K0e=cle(cle(Y0e)))!==Object.prototype&&(tC=K0e):_4e=!0);var $He=tC==null||cp(function(){var e={};return tC[ule].call(e)!==e});tC=$He?{}:L4(tC),lf(tC[ule])||V5(tC,ule,function(){return this});var $4e={IteratorPrototype:tC,BUGGY_SAFARI_ITERATORS:_4e},DHe=$4e.IteratorPrototype,BHe=function(){return this};Rs.String,Rs.TypeError;Object.setPrototypeOf||"__proto__"in{}&&function(){var e,o=!1,s={};try{(e=sc(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}}();var NHe=THe.PROPER,fV=$4e.BUGGY_SAFARI_ITERATORS,Ire=hp("iterator"),PHe=function(){return this},D4e=function(e,o,s,l,c,d,p){(function(D,O,P,I){var z=O+" Iterator";D.prototype=L4(DHe,{next:M4(+!I,P)}),cW(D,z,!1,!0),b4[z]=BHe})(s,o,l);var v,b,S,x=function(D){if(D===c&&N)return N;if(!fV&&D in k)return k[D];switch(D){case"keys":case"values":case"entries":return function(){return new s(this,D)}}return function(){return new s(this)}},T=o+" Iterator",E=!1,k=e.prototype,F=k[Ire]||k["@@iterator"]||c&&k[c],N=!fV&&F||x(c),$=o=="Array"&&k.entries||F;if($&&(v=cle($.call(new e)))!==Object.prototype&&v.next&&(cW(v,T,!0,!0),b4[T]=PHe),NHe&&c=="values"&&F&&F.name!=="values"&&(E=!0,N=function(){return Hm(F,this)}),c)if(b={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in b)(fV||E||!(S in k))&&V5(k,S,b[S]);else Kw({target:o,proto:!0,forced:fV||E},b);return p&&k[Ire]!==N&&V5(k,Ire,N,{name:c}),b4[o]=N,b},FHe=f_.set,RHe=f_.getterFor("Array Iterator");D4e(Array,"Array",function(e,o){FHe(this,{type:"Array Iterator",target:Xv(e),index:0,kind:o})},function(){var e=RHe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values"),b4.Arguments=b4.Array;var J0e=hp("toStringTag");for(var Lre in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Q0e=Rs[Lre],Hre=Q0e&&Q0e.prototype;Hre&&zq(Hre)!==J0e&&Bv(Hre,J0e,Lre),b4[Lre]=b4.Array}var MHe=kHe;yc("asyncDispose"),yc("dispose"),yc("matcher"),yc("metadata"),yc("observable"),yc("patternMatch"),yc("replaceAll");var dV=MHe,IHe=sc("".charAt),ebe=sc("".charCodeAt),LHe=sc("".slice),tbe=function(e){return function(o,s){var l,c,d=sW(Ffe(o)),p=Ife(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=ebe(d,p))<55296||l>56319||p+1===v||(c=ebe(d,p+1))<56320||c>57343?e?IHe(d,p):l:e?LHe(d,p,p+2):c-56320+(l-55296<<10)+65536}},HHe={codeAt:tbe(!1),charAt:tbe(!0)}.charAt,jHe=f_.set,zHe=f_.getterFor("String Iterator");D4e(String,"String",function(e){jHe(this,{type:"String Iterator",string:sW(e),index:0})},function(){var e,o=zHe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=HHe(s,l),o.index+=e.length,{value:e,done:!1})});var VHe=zfe.f("iterator"),UHe=Nq(function(e){function o(s){return typeof dV=="function"&&typeof VHe=="symbol"?(e.exports=o=function(l){return typeof l},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(l){return l&&typeof dV=="function"&&l.constructor===dV&&l!==dV.prototype?"symbol":typeof l},e.exports.default=e.exports,e.exports.__esModule=!0),o(s)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0}),B4e=iRe(UHe),WHe=Rq.EXISTS,qHe=i_.f,N4e=Function.prototype,ZHe=es(N4e.toString),P4e=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,GHe=es(P4e.exec);qm&&!WHe&&qHe(N4e,"name",{configurable:!0,get:function(){try{return GHe(P4e,ZHe(this))[1]}catch{return""}}});var F4e=function(){function e(){this.tag="select",this.width=80}return e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){var s=this.mark,l=ze.marks(o);return l&&l[s]?l[s]:""},e.prototype.isDisabled=function(o){return o.selection==null||(this.mark,!!gi(ze.nodes(o,{match:function(s){return wt.getNodeType(s)==="pre"||!!ze.isVoid(o,s)},universal:!0}),1)[0])},e.prototype.exec=function(o,s){var l=this.mark;s?o.addMark(l,s):o.removeMark(l)},e}(),KHe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("fontSize.title"),s.iconSvg=gMe,s.mark="fontSize",s}return ul(o,e),o.prototype.getOptions=function(s){var l=[],c=s.getMenuConfig(this.mark).fontSizeList,d=c===void 0?[]:c;l.push({text:Co("fontSize.default"),value:""}),d.forEach(function(v){if(typeof v=="string")l.push({text:v,value:v});else if(B4e(v)==="object"){var b=v.name,S=v.value;l.push({text:b,value:S})}});var p=this.getValue(s);return l.forEach(function(v){v.value===p?v.selected=!0:delete v.selected}),l},o}(F4e),YHe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("fontFamily.title"),s.iconSvg=mMe,s.mark="fontFamily",s.selectPanelWidth=150,s}return ul(o,e),o.prototype.getOptions=function(s){var l=[],c=s.getMenuConfig(this.mark).fontFamilyList,d=c===void 0?[]:c;l.push({text:Co("fontFamily.default"),value:""}),d.forEach(function(v){if(typeof v=="string")l.push({text:v,value:v,styleForRenderMenuList:{"font-family":v}});else if(B4e(v)==="object"){var b=v.name,S=v.value;l.push({text:b,value:S,styleForRenderMenuList:{"font-family":S}})}});var p=this.getValue(s);return l.forEach(function(v){v.value===p?v.selected=!0:delete v.selected}),l},o}(F4e),XHe={renderStyle:function(e,o){var s=e,l=s.fontSize,c=s.fontFamily,d=o;return l&&R4(d,{fontSize:l}),c&&R4(d,{fontFamily:c}),d},styleToHtml:function(e,o){if(!Mo.isText(e))return o;var s,l=e,c=l.fontSize,d=l.fontFamily;return c||d?((_fe(o)||c_(s=_t(o))!=="span")&&(s=_t("<span>"+o+"</span>")),c&&s.css("font-size",c),d&&s.css("font-family",d),l_(s)):o},preParseHtml:[rLe],parseStyleHtml:function(e,o,s){var l=_t(e);if(!Mo.isText(o))return o;var c=o,d=s.getMenuConfig("fontSize").fontSizeList,p=d===void 0?[]:d,v=Um(l,"font-size"),b=p.find(function(k){return k.value&&k.value===v})||p.includes(v);v&&b&&(c.fontSize=v);var S=s.getMenuConfig("fontFamily").fontFamilyList,x=S===void 0?[]:S,T=Um(l,"font-family"),E=x.find(function(k){return k.value&&k.value===T})||x.includes(T);return T&&E&&(c.fontFamily=T),c},menus:[{key:"fontSize",factory:function(){return new KHe},config:{fontSizeList:["12px",{name:"13px",value:"13px"},"14px","15px","16px","19px",{name:"22px",value:"22px"},"24px","29px","32px","40px","48px"]}},{key:"fontFamily",factory:function(){return new YHe},config:{fontFamilyList:["\u9ED1\u4F53",{name:"\u4EFF\u5B8B",value:"\u4EFF\u5B8B"},"\u6977\u4F53","\u6807\u6977\u4F53","\u534E\u6587\u4EFF\u5B8B","\u534E\u6587\u6977\u4F53",{name:"\u5B8B\u4F53",value:"\u5B8B\u4F53"},"\u5FAE\u8F6F\u96C5\u9ED1","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}}]},JHe={selector:"p,h1,h2,h3,h4,h5",preParseHtml:function(e){var o=_t(e),s=Um(o,"padding-left");return/\dem/.test(s)&&o.css("text-indent","2em"),/\dpx/.test(s)&&parseInt(s,10)%32==0&&o.css("text-indent","2em"),o[0]}},R4e=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){var s=gi(ze.nodes(o,{match:function(c){return!!c.indent},universal:!0}),1),l=s[0];return l==null?"":gi(l,1)[0].indent||""},e.prototype.isActive=function(o){return!1},e.prototype.getMatchNode=function(o){var s=gi(ze.nodes(o,{match:function(l){var c=wt.getNodeType(l);return c==="paragraph"||!!c.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return s==null?null:s[0]},e}(),QHe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("indent.decrease"),s.iconSvg=vMe,s}return ul(o,e),o.prototype.isDisabled=function(s){var l=this.getMatchNode(s);return l==null||!l.indent},o.prototype.exec=function(s,l){Qt.setNodes(s,{indent:null},{match:function(c){return ar.isElement(c)}})},o}(R4e),eje=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("indent.increase"),s.iconSvg=bMe,s}return ul(o,e),o.prototype.isDisabled=function(s){var l=this.getMatchNode(s);return l==null||!!l.indent},o.prototype.exec=function(s,l){Qt.setNodes(s,{indent:"2em"},{match:function(c){return ar.isElement(c)},mode:"highest"})},o}(R4e),tje={renderStyle:function(e,o){if(!ar.isElement(e))return o;var s=e.indent,l=o;return s&&R4(l,{textIndent:s}),l},styleToHtml:function(e,o){if(!ar.isElement(e))return o;var s=e.indent;if(!s)return o;var l=_t(o);return l.css("text-indent",s),l_(l)},preParseHtml:[JHe],parseStyleHtml:function(e,o,s){var l=_t(e);if(!ar.isElement(o))return o;var c=o,d=Um(l,"text-indent"),p=parseInt(d,10);return d&&p>0&&(c.indent=d),c},menus:[{key:"indent",factory:function(){return new eje}},{key:"delIndent",factory:function(){return new QHe}}]},Wq=function(){function e(){this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.getMatchNode=function(o){var s=gi(ze.nodes(o,{match:function(l){var c=wt.getNodeType(l);return c==="paragraph"||c==="blockquote"||!!c.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return s==null?null:s[0]},e.prototype.isDisabled=function(o){return o.selection==null||!!wt.getSelectedElems(o).some(function(s){if(ze.isVoid(o,s)&&ze.isBlock(o,s))return!0;var l=s.type;return!!["pre","code"].includes(l)||void 0})},e}(),nje=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.left"),s.iconSvg=yMe,s}return ul(o,e),o.prototype.exec=function(s,l){Qt.setNodes(s,{textAlign:"left"},{match:function(c){return ar.isElement(c)&&!s.isInline(c)}})},o}(Wq),oje=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.right"),s.iconSvg=wMe,s}return ul(o,e),o.prototype.exec=function(s,l){Qt.setNodes(s,{textAlign:"right"},{match:function(c){return ar.isElement(c)&&!s.isInline(c)}})},o}(Wq),rje=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.center"),s.iconSvg=CMe,s}return ul(o,e),o.prototype.exec=function(s,l){Qt.setNodes(s,{textAlign:"center"},{match:function(c){return ar.isElement(c)&&!s.isInline(c)}})},o}(Wq),sje=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.title=Co("justify.justify"),s.iconSvg=SMe,s}return ul(o,e),o.prototype.exec=function(s,l){Qt.setNodes(s,{textAlign:"justify"},{match:function(c){return ar.isElement(c)&&!s.isInline(c)}})},o}(Wq),ije={renderStyle:function(e,o){if(!ar.isElement(e))return o;var s=e.textAlign,l=o;return s&&R4(l,{textAlign:s}),l},styleToHtml:function(e,o){if(!ar.isElement(e))return o;var s=e.textAlign;if(!s)return o;var l=_t(o);return l.css("text-align",s),l_(l)},parseStyleHtml:function(e,o,s){var l=_t(e);if(!ar.isElement(o))return o;var c=o,d=Um(l,"text-align");return d&&(c.textAlign=d),c},menus:[{key:"justifyLeft",factory:function(){return new nje}},{key:"justifyRight",factory:function(){return new oje}},{key:"justifyCenter",factory:function(){return new rje}},{key:"justifyJustify",factory:function(){return new sje}}]},aje=function(){function e(){this.title=Co("lineHeight.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M964 788a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526zM198.93 144.306c6.668-5.798 16.774-5.094 22.573 1.574l122.26 140.582a16 16 0 0 1 3.927 10.5c0 8.836-7.164 16-16 16h-61.8a8 8 0 0 0-8 8v390.077h69.819a16 16 0 0 1 10.502 3.928c6.666 5.8 7.37 15.906 1.57 22.573L221.476 878.123a16 16 0 0 1-1.57 1.57c-6.668 5.8-16.774 5.097-22.574-1.57L75.051 737.538a16 16 0 0 1-3.928-10.5c0-8.837 7.163-16 16-16h69.822V312.96H87.127a16 16 0 0 1-10.502-3.928c-6.666-5.8-7.37-15.906-1.57-22.573l122.303-140.582a16 16 0 0 1 1.572-1.572zM964 465a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z m0-323a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z"></path></svg>',this.tag="select",this.width=80}return e.prototype.getOptions=function(o){var s=[],l=o.getMenuConfig("lineHeight").lineHeightList,c=l===void 0?[]:l;s.push({text:Co("lineHeight.default"),value:""}),c.forEach(function(p){s.push({text:p,value:p})});var d=this.getValue(o);return s.forEach(function(p){p.value===d?p.selected=!0:delete p.selected}),s},e.prototype.getMatchNode=function(o){var s=gi(ze.nodes(o,{match:function(l){var c=wt.getNodeType(l);return!!c.startsWith("header")||!!["paragraph","blockquote","list-item"].includes(c)},universal:!0,mode:"highest"}),1)[0];return s==null?null:s[0]},e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){var s=this.getMatchNode(o);return s==null?"":ar.isElement(s)&&s.lineHeight||""},e.prototype.isDisabled=function(o){return o.selection==null||this.getMatchNode(o)==null},e.prototype.exec=function(o,s){Qt.setNodes(o,{lineHeight:s.toString()},{mode:"highest"})},e}(),lje={renderStyle:function(e,o){if(!ar.isElement(e))return o;var s=e.lineHeight,l=o;return s&&R4(l,{lineHeight:s}),l},styleToHtml:function(e,o){if(!ar.isElement(e))return o;var s=e.lineHeight;if(!s)return o;var l=_t(o);return l.css("line-height",s),l_(l)},parseStyleHtml:function(e,o,s){var l=_t(e);if(!ar.isElement(o))return o;var c=o,d=s.getMenuConfig("lineHeight").lineHeightList,p=d===void 0?[]:d,v=Um(l,"line-height");return v&&p.includes(v)&&(c.lineHeight=v),c},menus:[{key:"lineHeight",factory:function(){return new aje},config:{lineHeightList:["1","1.15","1.5","2","2.5","3"]}}]},cje=function(){function e(){this.title=Co("undo.redo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0.00032 576a510.72 510.72 0 0 0 173.344 384l84.672-96A383.136 383.136 0 0 1 128.00032 576C128.00032 363.936 299.93632 192 512.00032 192c106.048 0 202.048 42.976 271.52 112.48L640.00032 448h384V64l-149.984 149.984A510.272 510.272 0 0 0 512.00032 64C229.21632 64 0.00032 293.216 0.00032 576z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null},e.prototype.exec=function(o,s){typeof o.redo=="function"&&o.redo()},e}(),uje=function(){function e(){this.title=Co("undo.undo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 64A510.272 510.272 0 0 0 149.984 213.984L0.032 64v384h384L240.512 304.48A382.784 382.784 0 0 1 512.032 192c212.064 0 384 171.936 384 384 0 114.688-50.304 217.632-130.016 288l84.672 96a510.72 510.72 0 0 0 173.344-384c0-282.784-229.216-512-512-512z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null},e.prototype.exec=function(o,s){typeof o.undo=="function"&&o.undo()},e}(),fje={menus:[{key:"redo",factory:function(){return new cje}},{key:"undo",factory:function(){return new uje}}]},dje={type:"divider",renderElem:function(e,o,s){var l=wt.isNodeSelected(s,e);return F5("div",{props:{contentEditable:!1,className:"w-e-textarea-divider"},dataset:{selected:l?"true":""},style:{},on:{mousedown:function(c){return c.preventDefault()}}},[F5("hr")])}},hje={type:"divider",elemToHtml:function(e,o){return"<hr/>"}},pje={selector:"hr:not([data-w-e-type])",parseElemHtml:function(e,o,s){return{type:"divider",children:[{text:""}]}}},gje=function(){function e(){this.title=Co("divider.title"),this.iconSvg='<svg viewBox="0 0 1092 1024"><path d="M0 51.2m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M819.2 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M409.6 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 870.4m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||!!wt.getSelectedElems(o).some(function(s){if(o.isVoid(s))return!0;var l=wt.getNodeType(s);return l==="table"||l==="pre"||void 0})},e.prototype.exec=function(o,s){Qt.insertNodes(o,{type:"divider",children:[{text:""}]},{mode:"highest"})},e}(),mje={renderElems:[dje],elemsToHtml:[hje],parseElemsHtml:[pje],menus:[{key:"divider",factory:function(){return new gje}}],editorPlugin:function(e){var o=e.isVoid,s=e.normalizeNode,l=e;return l.isVoid=function(c){return c.type==="divider"||o(c)},l.normalizeNode=function(c){var d=gi(c,2),p=d[0],v=d[1];if(wt.getNodeType(p)!=="divider")return s([p,v]);wt.isLastNode(l,p)&&Qt.insertNodes(l,wt.genEmptyParagraph(),{at:[v[0]+1]})},l}},vje=Iq.map;cu({target:"Array",proto:!0,forced:!Efe("map")},{map:function(e){return vje(this,e,arguments.length>1?arguments[1]:void 0)}});var bje=es([].join),yje=Pq!=Object,wje=MEe("join",",");cu({target:"Array",proto:!0,forced:yje||!wje},{join:function(e){return bje(s_(this),e===void 0?",":e)}});var Cje=function(){function e(){this.title=Co("codeBlock.title"),this.iconSvg='<svg viewBox="0 0 1280 1024"><path d="M832 736l96 96 320-320L928 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224zM701.312 150.528l69.472 18.944-192 704.032-69.472-18.944 192-704.032z"></path></svg>',this.tag="button"}return e.prototype.getSelectCodeElem=function(o){var s=wt.getSelectedNodeByType(o,"code");if(s==null)return null;var l=wt.getParentNode(o,s);return l==null||wt.getNodeType(l)!=="pre"?null:s},e.prototype.getValue=function(o){var s=this.getSelectCodeElem(o);return s==null?"":s.language||""},e.prototype.isActive=function(o){return!!this.getSelectCodeElem(o)},e.prototype.isDisabled=function(o){if(o.selection==null)return!0;var s=wt.getSelectedElems(o);return!!s.some(function(l){return o.isVoid(l)})||!s.some(function(l){var c=wt.getNodeType(l);if(c==="pre"||c==="paragraph")return!0})},e.prototype.exec=function(o,s){this.isActive(o)?this.changeToPlainText(o):this.changeToCodeBlock(o,s.toString())},e.prototype.changeToPlainText=function(o){var s=this.getSelectCodeElem(o);if(s!=null){var l=wo.string(s);Qt.removeNodes(o,{mode:"highest"});var c=l.split(`
`).map(function(d){return{type:"paragraph",children:[{text:d}]}});Qt.insertNodes(o,c,{mode:"highest"})}},e.prototype.changeToCodeBlock=function(o,s){var l,c,d=[],p=ze.nodes(o,{match:function(T){return o.children.includes(T)},universal:!0});try{for(var v=REe(p),b=v.next();!b.done;b=v.next()){var S=gi(b.value,1)[0];S&&d.push(wo.string(S))}}catch(T){l={error:T}}finally{try{b&&!b.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}Qt.removeNodes(o,{mode:"highest"});var x={type:"pre",children:[{type:"code",language:s,children:[{text:d.join(`
`)}]}]};Qt.insertNodes(o,x,{mode:"highest"})},e}(),Sje={key:"codeBlock",factory:function(){return new Cje}};cu({target:"String",proto:!0,forced:DN("anchor")},{anchor:function(e){return $N(this,"a","name",e)}}),Tfe("match",function(e,o,s){return[function(l){var c=wg(this),d=l==null?void 0:Fq(l,e);return d?rc(d,l,c):new RegExp(l)[e](Al(c))},function(l){var c=lp(this),d=Al(l),p=s(o,c,d);if(p.done)return p.value;if(!c.global)return kP(c,d);var v=c.unicode;c.lastIndex=0;for(var b,S=[],x=0;(b=kP(c,d))!==null;){var T=Al(b[0]);S[x]=T,T===""&&(c.lastIndex=Ofe(d,lF(c.lastIndex),v)),x++}return x===0?null:S}]});var xje={type:"pre",renderElem:function(e,o,s){return is("pre",null,o)}},Eje={type:"code",renderElem:function(e,o,s){return is("code",null,o)}},kje={selector:"pre:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e);return(o=o.filter(function(c){return wt.getNodeType(c)==="code"})).length===0&&(o=[{type:"code",language:"",children:[{text:l[0].textContent||""}]}]),{type:"pre",children:o.filter(function(c){return wt.getNodeType(c)==="code"})}}},Aje={menus:[Sje],editorPlugin:function(e){var o=e.insertBreak,s=e.normalizeNode,l=e.insertData;e.insertNode;var c=e;return c.insertBreak=function(){var d=wt.getSelectedNodeByType(c,"code");if(d!=null){var p=function(S,x){var T=x.selection;if(T==null)return"";var E=wo.string(S),k=T.anchor.offset,F=E.slice(0,k).split(`
`),N=F.length;return N===0?"":F[N-1]}(d,c);if(p){var v=p.match(/^\s+/);if(v!=null&&v[0]!=null){var b=v[0];return void c.insertText(`
`+b)}}c.insertText(`
`)}else o()},c.normalizeNode=function(d){var p=gi(d,2),v=p[0],b=p[1],S=wt.getNodeType(v);return S==="code"&&b.length<=1&&Qt.setNodes(c,{type:"paragraph"},{at:b}),S==="pre"&&(wt.isLastNode(c,v)&&Qt.insertNodes(c,wt.genEmptyParagraph(),{at:[b[0]+1]}),wt.getNodeType(v.children[0])!=="code"&&(Qt.unwrapNodes(c),Qt.setNodes(c,{type:"paragraph"},{mode:"highest"}))),s([v,b])},c.insertData=function(d){if(wt.getSelectedNodeByType(c,"code")!=null){var p=d.getData("text/plain");ze.insertText(c,p)}else l(d)},c},renderElems:[xje,Eje],elemsToHtml:[{type:"code",elemToHtml:function(e,o){return"<code>"+o+"</code>"}},{type:"pre",elemToHtml:function(e,o){return"<pre>"+o+"</pre>"}}],preParseHtml:[{selector:"pre>code",preParseHtml:function(e){var o=_t(e);if(c_(o)!=="code")return e;var s=o.find("xmp");if(s.length===0)return e;var l=s.text();return s.remove(),o.text(l),o[0]}}],parseElemsHtml:[{selector:"pre:not([data-w-e-type])>code",parseElemHtml:function(e,o,s){return{type:"code",language:"",children:[{text:_t(e)[0].textContent||""}]}}},kje]},Tje=function(){function e(){this.title=Co("fullScreen.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M133.705143 335.433143V133.851429h201.581714a29.622857 29.622857 0 0 0 29.622857-29.549715V68.754286a29.622857 29.622857 0 0 0-29.622857-29.622857H61.732571A22.893714 22.893714 0 0 0 38.765714 62.025143V335.725714c0 16.310857 13.238857 29.622857 29.622857 29.622857h35.547429a29.842286 29.842286 0 0 0 29.696-29.842285zM690.980571 133.851429h201.581715v201.654857c0 16.310857 13.238857 29.549714 29.622857 29.549714h35.547428a29.622857 29.622857 0 0 0 29.549715-29.549714V61.952a22.893714 22.893714 0 0 0-22.820572-22.893714h-273.554285a29.622857 29.622857 0 0 0-29.549715 29.622857v35.547428c0 16.310857 13.238857 29.696 29.622857 29.696zM335.286857 892.781714H133.705143V691.2a29.622857 29.622857 0 0 0-29.622857-29.622857H68.534857a29.622857 29.622857 0 0 0-29.549714 29.622857v273.554286c0 12.653714 10.24 22.893714 22.820571 22.893714h273.554286a29.622857 29.622857 0 0 0 29.696-29.622857v-35.547429a29.769143 29.769143 0 0 0-29.769143-29.696z m557.348572-201.581714v201.581714H690.907429a29.622857 29.622857 0 0 0-29.622858 29.622857v35.547429c0 16.310857 13.238857 29.622857 29.622858 29.622857h273.554285c12.580571 0 22.893714-10.313143 22.893715-22.893714V691.2a29.622857 29.622857 0 0 0-29.622858-29.622857h-35.547428a29.622857 29.622857 0 0 0-29.696 29.622857z"></path></svg>',this.tag="button",this.alwaysEnable=!0}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return o.isFullScreen},e.prototype.isDisabled=function(o){return!1},e.prototype.exec=function(o,s){o.isFullScreen?o.unFullScreen():o.fullScreen()},e}(),Oje={menus:[{key:"fullScreen",factory:function(){return new Tje}}]},_je=function(){function e(){this.title=Co("common.enter"),this.iconSvg='<svg viewBox="0 0 1255 1024"><path d="M1095.111111 731.477333h-625.777778V1024L0 658.318222 469.333333 292.408889v292.636444h625.777778V0h156.444445v731.477333z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!!gn.isExpanded(s)},e.prototype.exec=function(o,s){var l=o.selection;if(l!=null){var c=[l.anchor.path[0]];Qt.insertNodes(o,{type:"paragraph",children:[{text:""}]},{at:c}),o.select(ze.start(o,c))}},e}(),$je=[NMe,fIe,XHe,tje,ije,lje,HIe,mje,nLe,EIe,Aje,eLe,iIe,nMe,UIe,fje,Oje,{menus:[{key:"enter",factory:function(){return new _je}}]}];nh("en",{listModule:{unOrderedList:"Unordered list",orderedList:"Ordered list"}}),nh("zh-CN",{listModule:{unOrderedList:"\u65E0\u5E8F\u5217\u8868",orderedList:"\u6709\u5E8F\u5217\u8868"}});var nbe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vfe(e){var o={exports:{}};return e(o,o.exports),o.exports}var Iw,oU,hV=function(e){return e&&e.Math==Math&&e},as=hV(typeof globalThis=="object"&&globalThis)||hV(typeof window=="object"&&window)||hV(typeof self=="object"&&self)||hV(typeof nbe=="object"&&nbe)||function(){return this}()||Function("return this")(),M4e=Function.prototype,fle=M4e.bind,dle=M4e.call,Dje=fle&&fle.bind(dle),Vs=fle?function(e){return e&&Dje(dle,e)}:function(e){return e&&function(){return dle.apply(e,arguments)}},Gl=function(e){try{return!!e()}catch{return!0}},Bje=Vs({}.toString),Nje=Vs("".slice),uy=function(e){return Nje(Bje(e),8,-1)},jre=as.Object,Pje=Vs("".split),I4e=Gl(function(){return!jre("z").propertyIsEnumerable(0)})?function(e){return uy(e)=="String"?Pje(e,""):jre(e)}:jre,Fje=as.TypeError,qq=function(e){if(e==null)throw Fje("Can't call method on "+e);return e},d_=function(e){return I4e(qq(e))},Rje=Object.defineProperty,Ufe=function(e,o){try{Rje(as,e,{value:o,configurable:!0,writable:!0})}catch{as[e]=o}return o},lC=as["__core-js_shared__"]||Ufe("__core-js_shared__",{}),Wfe=Vfe(function(e){(e.exports=function(o,s){return lC[o]||(lC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),Mje=as.Object,vF=function(e){return Mje(qq(e))},Ije=Vs({}.hasOwnProperty),fu=Object.hasOwn||function(e,o){return Ije(vF(e),o)},Lje=0,Hje=Math.random(),jje=Vs(1 .toString),qfe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+jje(++Lje+Hje,36)},Kl=function(e){return typeof e=="function"},zje=function(e){return Kl(e)?e:void 0},bF=function(e,o){return arguments.length<2?zje(as[e]):as[e]&&as[e][o]},zre=bF("navigator","userAgent")||"",obe=as.process,rbe=as.Deno,sbe=obe&&obe.versions||rbe&&rbe.version,ibe=sbe&&sbe.v8;ibe&&(oU=(Iw=ibe.split("."))[0]>0&&Iw[0]<4?1:+(Iw[0]+Iw[1])),!oU&&zre&&(!(Iw=zre.match(/Edge\/(\d+)/))||Iw[1]>=74)&&(Iw=zre.match(/Chrome\/(\d+)/))&&(oU=+Iw[1]);var pV,hle=oU,ple=!!Object.getOwnPropertySymbols&&!Gl(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&hle&&hle<41}),Zfe=ple&&!Symbol.sham&&typeof Symbol.iterator=="symbol",KB=Wfe("wks"),y4=as.Symbol,abe=y4&&y4.for,Vje=Zfe?y4:y4&&y4.withoutSetter||qfe,uf=function(e){if(!fu(KB,e)||!ple&&typeof KB[e]!="string"){var o="Symbol."+e;ple&&fu(y4,e)?KB[e]=y4[e]:KB[e]=Zfe&&abe?abe(o):Vje(o)}return KB[e]},Zl=function(e){return typeof e=="object"?e!==null:Kl(e)},Uje=as.String,Wje=as.TypeError,oh=function(e){if(Zl(e))return e;throw Wje(Uje(e)+" is not an object")},EC=!Gl(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),gle=as.document,qje=Zl(gle)&&Zl(gle.createElement),Gfe=function(e){return qje?gle.createElement(e):{}},L4e=!EC&&!Gl(function(){return Object.defineProperty(Gfe("div"),"a",{get:function(){return 7}}).a!=7}),YB=Function.prototype.call,uu=YB.bind?YB.bind(YB):function(){return YB.apply(YB,arguments)},fW=Vs({}.isPrototypeOf),Zje=as.Object,mle=Zfe?function(e){return typeof e=="symbol"}:function(e){var o=bF("Symbol");return Kl(o)&&fW(o.prototype,Zje(e))},Gje=as.String,vle=function(e){try{return Gje(e)}catch{return"Object"}},Kje=as.TypeError,Kfe=function(e){if(Kl(e))return e;throw Kje(vle(e)+" is not a function")},AP=function(e,o){var s=e[o];return s==null?void 0:Kfe(s)},Yje=as.TypeError,Xje=as.TypeError,Jje=uf("toPrimitive"),Qje=function(e,o){if(!Zl(e)||mle(e))return e;var s,l=AP(e,Jje);if(l){if(o===void 0&&(o="default"),s=uu(l,e,o),!Zl(s)||mle(s))return s;throw Xje("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&Kl(p=c.toString)&&!Zl(v=uu(p,c))||Kl(p=c.valueOf)&&!Zl(v=uu(p,c))||d!=="string"&&Kl(p=c.toString)&&!Zl(v=uu(p,c)))return v;throw Yje("Can't convert object to primitive value")}(e,o)},Yfe=function(e){var o=Qje(e,"string");return mle(o)?o:o+""},eze=as.TypeError,lbe=Object.defineProperty,J4={f:EC?lbe:function(e,o,s){if(oh(e),o=Yfe(o),oh(s),L4e)try{return lbe(e,o,s)}catch{}if("get"in s||"set"in s)throw eze("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},tze=Math.ceil,nze=Math.floor,yF=function(e){var o=+e;return o!=o||o===0?0:(o>0?nze:tze)(o)},oze=Math.max,rze=Math.min,ble=function(e,o){var s=yF(e);return s<0?oze(s+o,0):rze(s,o)},sze=Math.min,H4e=function(e){return e>0?sze(yF(e),9007199254740991):0},h_=function(e){return H4e(e.length)},cbe=function(e){return function(o,s,l){var c,d=d_(o),p=h_(d),v=ble(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},j4e={includes:cbe(!0),indexOf:cbe(!1)},Zq={},ize=j4e.indexOf,ube=Vs([].push),z4e=function(e,o){var s,l=d_(e),c=0,d=[];for(s in l)!fu(Zq,s)&&fu(l,s)&&ube(d,s);for(;o.length>c;)fu(l,s=o[c++])&&(~ize(d,s)||ube(d,s));return d},dW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],aze=Object.keys||function(e){return z4e(e,dW)},lze=EC?Object.defineProperties:function(e,o){oh(e);for(var s,l=d_(o),c=aze(o),d=c.length,p=0;d>p;)J4.f(e,s=c[p++],l[s]);return e},cze=bF("document","documentElement"),fbe=Wfe("keys"),Xfe=function(e){return fbe[e]||(fbe[e]=qfe(e))},V4e=Xfe("IE_PROTO"),Vre=function(){},U4e=function(e){return"<script>"+e+"<\/script>"},dbe=function(e){e.write(U4e("")),e.close();var o=e.parentWindow.Object;return e=null,o},rU=function(){try{pV=new ActiveXObject("htmlfile")}catch{}var e,o;rU=typeof document<"u"?document.domain&&pV?dbe(pV):((o=Gfe("iframe")).style.display="none",cze.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(U4e("document.F=Object")),e.close(),e.F):dbe(pV);for(var s=dW.length;s--;)delete rU.prototype[dW[s]];return rU()};Zq[V4e]=!0;var Jfe=Object.create||function(e,o){var s;return e!==null?(Vre.prototype=oh(e),s=new Vre,Vre.prototype=null,s[V4e]=e):s=rU(),o===void 0?s:lze(s,o)},yle=uf("unscopables"),wle=Array.prototype;wle[yle]==null&&J4.f(wle,yle,{configurable:!0,value:Jfe(null)});var qN=function(e){wle[yle][e]=!0},U5={},uze=Vs(Function.toString);Kl(lC.inspectSource)||(lC.inspectSource=function(e){return uze(e)});var hW,ZN,pW,Qfe=lC.inspectSource,hbe=as.WeakMap,W4e=Kl(hbe)&&/native code/.test(Qfe(hbe)),Gq=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},fy=EC?function(e,o,s){return J4.f(e,o,Gq(1,s))}:function(e,o,s){return e[o]=s,e},Cle=as.TypeError,fze=as.WeakMap;if(W4e||lC.state){var jE=lC.state||(lC.state=new fze),dze=Vs(jE.get),pbe=Vs(jE.has),hze=Vs(jE.set);hW=function(e,o){if(pbe(jE,e))throw new Cle("Object already initialized");return o.facade=e,hze(jE,e,o),o},ZN=function(e){return dze(jE,e)||{}},pW=function(e){return pbe(jE,e)}}else{var HO=Xfe("state");Zq[HO]=!0,hW=function(e,o){if(fu(e,HO))throw new Cle("Object already initialized");return o.facade=e,fy(e,HO,o),o},ZN=function(e){return fu(e,HO)?e[HO]:{}},pW=function(e){return fu(e,HO)}}var w4,gbe,mbe,qv={set:hW,get:ZN,has:pW,enforce:function(e){return pW(e)?ZN(e):hW(e,{})},getterFor:function(e){return function(o){var s;if(!Zl(o)||(s=ZN(o)).type!==e)throw Cle("Incompatible receiver, "+e+" required");return s}}},vbe={}.propertyIsEnumerable,bbe=Object.getOwnPropertyDescriptor,pze={f:bbe&&!vbe.call({1:2},1)?function(e){var o=bbe(this,e);return!!o&&o.enumerable}:vbe},ybe=Object.getOwnPropertyDescriptor,q4e={f:EC?ybe:function(e,o){if(e=d_(e),o=Yfe(o),L4e)try{return ybe(e,o)}catch{}if(fu(e,o))return Gq(!uu(pze.f,e,o),e[o])}},Z4e=Function.prototype,gze=EC&&Object.getOwnPropertyDescriptor,Ure=fu(Z4e,"name"),ede={EXISTS:Ure,PROPER:Ure&&function(){}.name==="something",CONFIGURABLE:Ure&&(!EC||EC&&gze(Z4e,"name").configurable)},jv=Vfe(function(e){var o=ede.CONFIGURABLE,s=qv.get,l=qv.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;Kl(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!fu(v,"name")||o&&v.name!==k)&&fy(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==as?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:fy(d,p,v)):T?d[p]=v:Ufe(p,v)})(Function.prototype,"toString",function(){return Kl(this)&&s(this).source||Qfe(this)})}),mze=dW.concat("length","prototype"),gW={f:Object.getOwnPropertyNames||function(e){return z4e(e,mze)}},vze={f:Object.getOwnPropertySymbols},bze=Vs([].concat),yze=bF("Reflect","ownKeys")||function(e){var o=gW.f(oh(e)),s=vze.f;return s?bze(o,s(e)):o},wze=function(e,o){for(var s=yze(o),l=J4.f,c=q4e.f,d=0;d<s.length;d++){var p=s[d];fu(e,p)||l(e,p,c(o,p))}},Cze=/#|\.prototype\./,wF=function(e,o){var s=xze[Sze(e)];return s==kze||s!=Eze&&(Kl(o)?Gl(o):!!o)},Sze=wF.normalize=function(e){return String(e).replace(Cze,".").toLowerCase()},xze=wF.data={},Eze=wF.NATIVE="N",kze=wF.POLYFILL="P",Sle=wF,Aze=q4e.f,kC=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?as:S?as[v]||Ufe(v,{}):(as[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=Aze(s,l))&&p.value:s[l],!Sle(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;wze(d,c)}(e.sham||c&&c.sham)&&fy(d,"sham",!0),jv(s,l,d,e)}},Tze=!Gl(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wbe=Xfe("IE_PROTO"),xle=as.Object,Oze=xle.prototype,mW=Tze?xle.getPrototypeOf:function(e){var o=vF(e);if(fu(o,wbe))return o[wbe];var s=o.constructor;return Kl(s)&&o instanceof s?s.prototype:o instanceof xle?Oze:null},Ele=uf("iterator"),G4e=!1;[].keys&&("next"in(mbe=[].keys())?(gbe=mW(mW(mbe)))!==Object.prototype&&(w4=gbe):G4e=!0);var _ze=w4==null||Gl(function(){var e={};return w4[Ele].call(e)!==e});_ze&&(w4={}),Kl(w4[Ele])||jv(w4,Ele,function(){return this});var tde={IteratorPrototype:w4,BUGGY_SAFARI_ITERATORS:G4e},$ze=J4.f,Cbe=uf("toStringTag"),kle=function(e,o,s){e&&!fu(e=s?e:e.prototype,Cbe)&&$ze(e,Cbe,{configurable:!0,value:o})},Dze=tde.IteratorPrototype,Bze=function(){return this},Nze=as.String,Pze=as.TypeError,vW=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=Vs(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return oh(l),function(d){if(typeof d=="object"||Kl(d))return d;throw Pze("Can't set "+Nze(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),Fze=ede.PROPER,Rze=ede.CONFIGURABLE,Sbe=tde.IteratorPrototype,gV=tde.BUGGY_SAFARI_ITERATORS,XB=uf("iterator"),Mze=function(){return this},K4e=function(e,o,s,l,c,d,p){(function(D,O,P,I){var z=O+" Iterator";D.prototype=Jfe(Dze,{next:Gq(+!I,P)}),kle(D,z,!1),U5[z]=Bze})(s,o,l);var v,b,S,x=function(D){if(D===c&&N)return N;if(!gV&&D in k)return k[D];switch(D){case"keys":case"values":case"entries":return function(){return new s(this,D)}}return function(){return new s(this)}},T=o+" Iterator",E=!1,k=e.prototype,F=k[XB]||k["@@iterator"]||c&&k[c],N=!gV&&F||x(c),$=o=="Array"&&k.entries||F;if($&&(v=mW($.call(new e)))!==Object.prototype&&v.next&&(mW(v)!==Sbe&&(vW?vW(v,Sbe):Kl(v[XB])||jv(v,XB,Mze)),kle(v,T,!0)),Fze&&c=="values"&&F&&F.name!=="values"&&(Rze?fy(k,"name","values"):(E=!0,N=function(){return uu(F,this)})),c)if(b={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in b)(gV||E||!(S in k))&&jv(k,S,b[S]);else kC({target:o,proto:!0,forced:gV||E},b);return k[XB]!==N&&jv(k,XB,N,{name:c}),U5[o]=N,b},Ize=qv.set,Lze=qv.getterFor("Array Iterator"),BN=K4e(Array,"Array",function(e,o){Ize(this,{type:"Array Iterator",target:d_(e),index:0,kind:o})},function(){var e=Lze(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");U5.Arguments=U5.Array,qN("keys"),qN("values"),qN("entries");var Y4e={};Y4e[uf("toStringTag")]="z";var nde=String(Y4e)==="[object z]",Hze=uf("toStringTag"),jze=as.Object,zze=uy(function(){return arguments}())=="Arguments",Kq=nde?uy:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=jze(e),Hze))=="string"?s:zze?uy(o):(l=uy(o))=="Object"&&Kl(o.callee)?"Arguments":l},Vze=nde?{}.toString:function(){return"[object "+Kq(this)+"]"};nde||jv(Object.prototype,"toString",Vze,{unsafe:!0});var Uze=as.String,oy=function(e){if(Kq(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Uze(e)},Wze=Vs("".charAt),xbe=Vs("".charCodeAt),qze=Vs("".slice),Ebe=function(e){return function(o,s){var l,c,d=oy(qq(o)),p=yF(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=xbe(d,p))<55296||l>56319||p+1===v||(c=xbe(d,p+1))<56320||c>57343?e?Wze(d,p):l:e?qze(d,p,p+2):c-56320+(l-55296<<10)+65536}},X4e={codeAt:Ebe(!1),charAt:Ebe(!0)},Zze=X4e.charAt,Gze=qv.set,Kze=qv.getterFor("String Iterator");K4e(String,"String",function(e){Gze(this,{type:"String Iterator",string:oy(e),index:0})},function(){var e,o=Kze(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=Zze(s,l),o.index+=e.length,{value:e,done:!1})});var Ale=function(e,o,s){for(var l in o)jv(e,l,o[l],s);return e},Yze=as.Array,Xze=Math.max,J4e=gW.f,Q4e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Jze=function(e){try{return J4e(e)}catch{return function(s,l,c){for(var d,p,v,b,S=h_(s),x=ble(l,S),T=ble(c===void 0?S:c,S),E=Yze(Xze(T-x,0)),k=0;x<T;x++,k++)d=E,p=k,v=s[x],b=void 0,(b=Yfe(p))in d?J4.f(d,b,Gq(0,v)):d[b]=v;return E.length=k,E}(Q4e)}},Qze={f:function(e){return Q4e&&uy(e)=="Window"?Jze(e):J4e(d_(e))}},kbe=Gl(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),mV=Object.isExtensible,a4=Gl(function(){mV(1)})||kbe?function(e){return!!Zl(e)&&(!kbe||uy(e)!="ArrayBuffer")&&(!mV||mV(e))}:mV,eVe=!Gl(function(){return Object.isExtensible(Object.preventExtensions({}))}),ode=Vfe(function(e){var o=J4.f,s=!1,l=qfe("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=gW.f,b=Vs([].splice),S={};S[l]=1,v(S).length&&(gW.f=function(x){for(var T=v(x),E=0,k=T.length;E<k;E++)if(T[E]===l){b(T,E,1);break}return T},kC({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Qze.f}))},fastKey:function(v,b){if(!Zl(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!fu(v,l)){if(!a4(v))return"F";if(!b)return"E";d(v)}return v[l].objectID},getWeakData:function(v,b){if(!fu(v,l)){if(!a4(v))return!0;if(!b)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return eVe&&s&&a4(v)&&!fu(v,l)&&d(v),v}};Zq[l]=!0}),Abe=Vs(Vs.bind),rde=function(e,o){return Kfe(e),o===void 0?e:Abe?Abe(e,o):function(){return e.apply(o,arguments)}},tVe=uf("iterator"),nVe=Array.prototype,oVe=uf("iterator"),Tbe=function(e){if(e!=null)return AP(e,oVe)||AP(e,"@@iterator")||U5[Kq(e)]},rVe=as.TypeError,Obe=function(e,o,s){var l,c;oh(e);try{if(!(l=AP(e,"return"))){if(o==="throw")throw s;return s}l=uu(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return oh(l),s},sVe=as.TypeError,sU=function(e,o){this.stopped=e,this.result=o},_be=sU.prototype,e3e=function(e,o,s){var l,c,d,p,v,b,S,x,T=s&&s.that,E=!(!s||!s.AS_ENTRIES),k=!(!s||!s.IS_ITERATOR),F=!(!s||!s.INTERRUPTED),N=rde(o,T),$=function(O){return l&&Obe(l,"normal",O),new sU(!0,O)},D=function(O){return E?(oh(O),F?N(O[0],O[1],$):N(O[0],O[1])):F?N(O,$):N(O)};if(k)l=e;else{if(!(c=Tbe(e)))throw sVe(vle(e)+" is not iterable");if((x=c)!==void 0&&(U5.Array===x||nVe[tVe]===x)){for(d=0,p=h_(e);p>d;d++)if((v=D(e[d]))&&fW(_be,v))return v;return new sU(!1)}l=function(O,P){var I=arguments.length<2?Tbe(O):P;if(Kfe(I))return oh(uu(I,O));throw rVe(vle(O)+" is not iterable")}(e,c)}for(b=l.next;!(S=uu(b,l)).done;){try{v=D(S.value)}catch(O){Obe(l,"throw",O)}if(typeof v=="object"&&v&&fW(_be,v))return v}return new sU(!1)},iVe=as.TypeError,t3e=function(e,o){if(fW(o,e))return e;throw iVe("Incorrect invocation")},n3e=uf("iterator"),o3e=!1;try{var aVe=0,$be={next:function(){return{done:!!aVe++}},return:function(){o3e=!0}};$be[n3e]=function(){return this},Array.from($be,function(){throw 2})}catch{}var Tle=Array.isArray||function(e){return uy(e)=="Array"},r3e=function(){},lVe=[],s3e=bF("Reflect","construct"),sde=/^\s*(?:class|function)\b/,cVe=Vs(sde.exec),uVe=!sde.exec(r3e),JB=function(e){if(!Kl(e))return!1;try{return s3e(r3e,lVe,e),!0}catch{return!1}},fVe=!s3e||Gl(function(){var e;return JB(JB.call)||!JB(Object)||!JB(function(){e=!0})||e})?function(e){if(!Kl(e))return!1;switch(Kq(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return uVe||!!cVe(sde,Qfe(e))}:JB,dVe=uf("species"),Dbe=as.Array,i3e=function(e,o){return new(function(s){var l;return Tle(s)&&(l=s.constructor,(fVe(l)&&(l===Dbe||Tle(l.prototype))||Zl(l)&&(l=l[dVe])===null)&&(l=void 0)),l===void 0?Dbe:l}(e))(o===0?0:o)},Bbe=Vs([].push),Lw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=vF(b),N=I4e(F),$=rde(S,x),D=h_(N),O=0,P=T||i3e,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:Bbe(I,E)}else switch(e){case 4:return!1;case 7:Bbe(I,E)}return d?-1:l||c?c:I}},ide={forEach:Lw(0),map:Lw(1),filter:Lw(2),some:Lw(3),every:Lw(4),find:Lw(5),findIndex:Lw(6),filterReject:Lw(7)},vV=ode.getWeakData,hVe=qv.set,pVe=qv.getterFor,gVe=ide.find,mVe=ide.findIndex,vVe=Vs([].splice),bVe=0,bV=function(e){return e.frozen||(e.frozen=new a3e)},a3e=function(){this.entries=[]},Wre=function(e,o){return gVe(e.entries,function(s){return s[0]===o})};a3e.prototype={get:function(e){var o=Wre(this,e);if(o)return o[1]},has:function(e){return!!Wre(this,e)},set:function(e,o){var s=Wre(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=mVe(this.entries,function(s){return s[0]===e});return~o&&vVe(this.entries,o,1),!!~o}};var QB,l3e={getConstructor:function(e,o,s,l){var c=e(function(b,S){t3e(b,d),hVe(b,{type:o,id:bVe++,frozen:void 0}),S!=null&&e3e(S,b[l],{that:b,AS_ENTRIES:s})}),d=c.prototype,p=pVe(o),v=function(b,S,x){var T=p(b),E=vV(oh(S),!0);return E===!0?bV(T).set(S,x):E[T.id]=x,b};return Ale(d,{delete:function(b){var S=p(this);if(!Zl(b))return!1;var x=vV(b);return x===!0?bV(S).delete(b):x&&fu(x,S.id)&&delete x[S.id]},has:function(b){var S=p(this);if(!Zl(b))return!1;var x=vV(b);return x===!0?bV(S).has(b):x&&fu(x,S.id)}}),Ale(d,s?{get:function(b){var S=p(this);if(Zl(b)){var x=vV(b);return x===!0?bV(S).get(b):x?x[S.id]:void 0}},set:function(b,S){return v(this,b,S)}}:{add:function(b){return v(this,b,!0)}}),c}},yV=qv.enforce,yVe=!as.ActiveXObject&&"ActiveXObject"in as,c3e=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},wVe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=as[e],v=p&&p.prototype,b=p,S={},x=function($){var D=Vs(v[$]);jv(v,$,$=="add"?function(O){return D(this,O===0?0:O),this}:$=="delete"?function(O){return!(c&&!Zl(O))&&D(this,O===0?0:O)}:$=="get"?function(O){return c&&!Zl(O)?void 0:D(this,O===0?0:O)}:$=="has"?function(O){return!(c&&!Zl(O))&&D(this,O===0?0:O)}:function(O,P){return D(this,O===0?0:O,P),this})};if(Sle(e,!Kl(p)||!(c||v.forEach&&!Gl(function(){new p().entries().next()}))))b=s.getConstructor(o,e,l,d),ode.enable();else if(Sle(e,!0)){var T=new b,E=T[d](c?{}:-0,1)!=T,k=Gl(function(){T.has(1)}),F=function($,D){if(!D&&!o3e)return!1;var O=!1;try{var P={};P[n3e]=function(){return{next:function(){return{done:O=!0}}}},$(P)}catch{}return O}(function($){new p($)}),N=!c&&Gl(function(){for(var $=new p,D=5;D--;)$[d](D,D);return!$.has(-0)});F||((b=o(function($,D){t3e($,v);var O=function(P,I,z){var K,j;return vW&&Kl(K=I.constructor)&&K!==z&&Zl(j=K.prototype)&&j!==z.prototype&&vW(P,j),P}(new p,$,b);return D!=null&&e3e(D,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=b),(k||N)&&(x("delete"),x("has"),l&&x("get")),(N||E)&&x(d),c&&v.clear&&delete v.clear}return S[e]=b,kC({global:!0,forced:b!=p},S),kle(b,e),c||s.setStrong(b,e,l),b}("WeakMap",c3e,l3e);if(W4e&&yVe){QB=l3e.getConstructor(c3e,"WeakMap",!0),ode.enable();var eN=wVe.prototype,Nbe=Vs(eN.delete),wV=Vs(eN.has),Pbe=Vs(eN.get),Fbe=Vs(eN.set);Ale(eN,{delete:function(e){if(Zl(e)&&!a4(e)){var o=yV(this);return o.frozen||(o.frozen=new QB),Nbe(this,e)||o.frozen.delete(e)}return Nbe(this,e)},has:function(e){if(Zl(e)&&!a4(e)){var o=yV(this);return o.frozen||(o.frozen=new QB),wV(this,e)||o.frozen.has(e)}return wV(this,e)},get:function(e){if(Zl(e)&&!a4(e)){var o=yV(this);return o.frozen||(o.frozen=new QB),wV(this,e)?Pbe(this,e):o.frozen.get(e)}return Pbe(this,e)},set:function(e,o){if(Zl(e)&&!a4(e)){var s=yV(this);s.frozen||(s.frozen=new QB),wV(this,e)?Fbe(this,e,o):s.frozen.set(e,o)}else Fbe(this,e,o);return this}})}var u3e={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},qre=Gfe("span").classList,Rbe=qre&&qre.constructor&&qre.constructor.prototype,CVe=Rbe===Object.prototype?void 0:Rbe,Zre=uf("iterator"),Mbe=uf("toStringTag"),Gre=BN.values,f3e=function(e,o){if(e){if(e[Zre]!==Gre)try{fy(e,Zre,Gre)}catch{e[Zre]=Gre}if(e[Mbe]||fy(e,Mbe,o),u3e[o]){for(var s in BN)if(e[s]!==BN[s])try{fy(e,s,BN[s])}catch{e[s]=BN[s]}}}};for(var Kre in u3e)f3e(as[Kre]&&as[Kre].prototype,Kre);f3e(CVe,"DOMTokenList");var Ole=new WeakMap,SVe={type:"list-item",renderElem:function(e,o,s){Ole.set(e,s);var l=e,c=l.level,d=c===void 0?0:c,p=l.ordered,v={margin:"5px 0 5px "+20*d+"px"},b="";if(p!==void 0&&p){var S=function(T,E){var k=E,F=k.type,N=k.level,$=N===void 0?0:N,D=k.ordered,O=D!==void 0&&D;if(!O)return-1;var P=1,I=E,z=wt.findPath(T,I);if(z[0]===0)return 1;for(;z[0]>0;){var K=Ht.previous(z),j=ze.node(T,K);if(j==null)break;var oe=j[0],xe=oe.level,se=xe===void 0?0:xe,Q=oe.type,G=oe.ordered;if(Q!==F||se<$)break;if(se===$){if(G!==O)break;P++}I=oe,z=K}return P}(s,e);b=S+"."}else b=function(T){T===void 0&&(T=0);var E="";switch(T){case 0:E="\u2022";break;case 1:E="\u25E6";break;default:E="\u25AA"}return E}(d);var x=function(T){var E,k=T.children||[],F=k.length;if(F===0)return"";for(var N=0;N<F&&!E;N++){var $=k[N];Mo.isText($)&&(E=$)}return E==null?"":E.color||""}(e);return is("div",{style:v},is("span",{contentEditable:!1,style:{marginRight:"0.5em",color:x},"data-w-e-reserve":!0},b),is("span",null,o))}},_le=function(e,o){return _le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},_le(e,o)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function d3e(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function s(){this.constructor=e}_le(e,o),e.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}function Ibe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function GN(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function Lbe(e){return ze.nodes(e,{at:e.selection||void 0,match:function(o){return wt.findPath(e,o).length===1}})}var xVe=j4e.includes;kC({target:"Array",proto:!0},{includes:function(e){return xVe(this,e,arguments.length>1?arguments[1]:void 0)}}),qN("includes");var Hbe,Yre,EVe=function(){var e=oh(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},ade=as.RegExp,$le=Gl(function(){var e=ade("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),kVe=$le||Gl(function(){return!ade("a","y").sticky}),AVe={BROKEN_CARET:$le||Gl(function(){var e=ade("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:kVe,UNSUPPORTED_Y:$le},TVe=as.RegExp,OVe=Gl(function(){var e=TVe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),_Ve=as.RegExp,$Ve=Gl(function(){var e=_Ve("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),DVe=qv.get,BVe=Wfe("native-string-replace",String.prototype.replace),bW=RegExp.prototype.exec,Dle=bW,NVe=Vs("".charAt),PVe=Vs("".indexOf),FVe=Vs("".replace),Xre=Vs("".slice),Jre=(Yre=/b*/g,uu(bW,Hbe=/a/,"a"),uu(bW,Yre,"a"),Hbe.lastIndex!==0||Yre.lastIndex!==0),jbe=AVe.BROKEN_CARET,Qre=/()??/.exec("")[1]!==void 0;(Jre||Qre||jbe||OVe||$Ve)&&(Dle=function(e){var o,s,l,c,d,p,v,b=this,S=DVe(b),x=oy(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=uu(Dle,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=jbe&&b.sticky,F=uu(EVe,b),N=b.source,$=0,D=x;if(k&&(F=FVe(F,"y",""),PVe(F,"g")===-1&&(F+="g"),D=Xre(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&NVe(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),Qre&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Jre&&(l=b.lastIndex),c=uu(bW,k?s:b,D),k?c?(c.input=Xre(c.input,$),c[0]=Xre(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:Jre&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),Qre&&c&&c.length>1&&uu(BVe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=Jfe(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var yW=Dle;kC({target:"RegExp",proto:!0,forced:/./.exec!==yW},{exec:yW});var h3e=function(){function e(){this.type="list-item",this.tag="button"}return e.prototype.getListNode=function(o){var s=this.type;return wt.getSelectedNodeByType(o,s)},e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){var s=this.getListNode(o);if(s==null)return!1;var l=s.ordered;return(l!==void 0&&l)===this.ordered},e.prototype.isDisabled=function(o){return o.selection==null||!!wt.getSelectedElems(o).some(function(s){if(ze.isVoid(o,s)&&ze.isBlock(o,s))return!0;var l=s.type;return!!["pre","code","table"].includes(l)||void 0})},e.prototype.exec=function(o,s){this.isActive(o)?Qt.setNodes(o,{type:"paragraph",ordered:void 0,level:void 0}):Qt.setNodes(o,{type:"list-item",ordered:this.ordered,indent:void 0})},e}(),RVe='<svg viewBox="0 0 1024 1024"><path d="M384 64h640v128H384V64z m0 384h640v128H384v-128z m0 384h640v128H384v-128zM0 128a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z"></path></svg>',MVe='<svg viewBox="0 0 1024 1024"><path d="M384 832h640v128H384z m0-384h640v128H384z m0-384h640v128H384zM192 0v256H128V64H64V0zM128 526.016v50.016h128v64H64v-146.016l128-60V384H64v-64h192v146.016zM256 704v320H64v-64h128v-64H64v-64h128v-64H64v-64z"></path></svg>',IVe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.ordered=!1,s.title=Co("listModule.unOrderedList"),s.iconSvg=RVe,s}return d3e(o,e),o}(h3e),LVe=function(e){function o(){var s=e!==null&&e.apply(this,arguments)||this;return s.ordered=!0,s.title=Co("listModule.orderedList"),s.iconSvg=MVe,s}return d3e(o,e),o}(h3e),HVe={key:"bulletedList",factory:function(){return new IVe}},jVe={key:"numberedList",factory:function(){return new LVe}},zbe=[],Vbe,zVe={type:"list-item",elemToHtml:function(e,o){var s="",l="",c=e.ordered,d=c!==void 0&&c?"ol":"ul",p=function(S){var x=Ole.get(S);if(x==null)return 0;var T=S,E=T.type,k=T.ordered,F=k!==void 0&&k,N=T.level,$=N===void 0?0:N,D=wt.findPath(x,S);if(D[0]===0)return $+1;var O=Ht.previous(D),P=ze.node(x,O);if(!P)return 0;var I=GN(P,1)[0];if(wt.getNodeType(I)!==E)return $+1;var z=I,K=z.ordered,j=K!==void 0&&K,oe=z.level,xe=oe===void 0?0:oe;return xe<$?$-xe:xe>$?0:xe===$?j===F?0:1:0}(e);if(p>0)for(var v=0;v<p;v++)s+="<"+d+">",zbe.push(d);var b=function(S){var x=Ole.get(S);if(x==null)return 0;var T=S,E=T.type,k=T.ordered,F=k!==void 0&&k,N=T.level,$=N===void 0?0:N,D=wt.findPath(x,S);if(D[0]===x.children.length-1)return $+1;var O=Ht.next(D),P=ze.node(x,O);if(!P)return 0;var I=GN(P,1)[0];if(wt.getNodeType(I)!==E)return $+1;var z=I,K=z.ordered,j=K!==void 0&&K,oe=z.level,xe=oe===void 0?0:oe;return xe<$?$-xe:xe>$?0:xe===$?j===F?0:1:0}(e);if(b>0)for(v=0;v<b;v++)l+="</"+zbe.pop()+">";return{html:"<li>"+o+"</li>",prefix:s,suffix:l}}},VVe=uf("species"),UVe=ide.filter,WVe=(Vbe="filter",hle>=51||!Gl(function(){var e=[];return(e.constructor={})[VVe]=function(){return{foo:1}},e[Vbe](Boolean).foo!==1}));kC({target:"Array",proto:!0,forced:!WVe},{filter:function(e){return UVe(this,e,arguments.length>1?arguments[1]:void 0)}});var lde=Function.prototype,Ube=lde.apply,qVe=lde.bind,Wbe=lde.call,ZVe=typeof Reflect=="object"&&Reflect.apply||(qVe?Wbe.bind(Ube):function(){return Wbe.apply(Ube,arguments)}),GVe=uf("species"),ese=RegExp.prototype,KVe=X4e.charAt,YVe=function(e,o,s){return o+(s?KVe(e,o).length:1)},XVe=Math.floor,tse=Vs("".charAt),JVe=Vs("".replace),nse=Vs("".slice),QVe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,eUe=/\$([$&'`]|\d{1,2})/g,tUe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,b=eUe;return c!==void 0&&(c=vF(c),b=QVe),JVe(d,b,function(S,x){var T;switch(tse(x,0)){case"$":return"$";case"&":return e;case"`":return nse(o,0,s);case"'":return nse(o,p);case"<":T=c[nse(x,1,-1)];break;default:var E=+x;if(E===0)return S;if(E>v){var k=XVe(E/10);return k===0?S:k<=v?l[k-1]===void 0?tse(x,1):l[k-1]+tse(x,1):S}T=l[E-1]}return T===void 0?"":T})},nUe=as.TypeError,oUe=function(e,o){var s=e.exec;if(Kl(s)){var l=uu(s,e,o);return l!==null&&oh(l),l}if(uy(e)==="RegExp")return uu(yW,e,o);throw nUe("RegExp#exec called on incompatible receiver")},Ble=uf("replace"),rUe=Math.max,sUe=Math.min,iUe=Vs([].concat),ose=Vs([].push),qbe=Vs("".indexOf),Zbe=Vs("".slice),aUe="a".replace(/./,"$0")==="$0",Gbe=!!/./[Ble]&&/./[Ble]("a","$0")==="";(function(e,o,s,l){var c=uf(e),d=!Gl(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Gl(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[GVe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=Vs(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=Vs(S),N=x.exec;return N===yW||N===ese.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});jv(String.prototype,e,b[0]),jv(ese,c,b[1])}l&&fy(ese[c],"sham",!0)})("replace",function(e,o,s){var l=Gbe?"$":"$0";return[function(c,d){var p=qq(this),v=c==null?void 0:AP(c,Ble);return v?uu(v,c,p,d):uu(o,oy(p),c,d)},function(c,d){var p=oh(this),v=oy(c);if(typeof d=="string"&&qbe(d,l)===-1&&qbe(d,"$<")===-1){var b=s(o,p,v,d);if(b.done)return b.value}var S=Kl(d);S||(d=oy(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var E=[];;){var k=oUe(p,v);if(k===null||(ose(E,k),!x))break;oy(k[0])===""&&(p.lastIndex=YVe(v,H4e(p.lastIndex),T))}for(var F,N="",$=0,D=0;D<E.length;D++){for(var O=oy((k=E[D])[0]),P=rUe(sUe(yF(k.index),v.length),0),I=[],z=1;z<k.length;z++)ose(I,(F=k[z])===void 0?F:String(F));var K=k.groups;if(S){var j=iUe([O],I,P,v);K!==void 0&&ose(j,K);var oe=oy(ZVe(d,void 0,j))}else oe=tUe(O,v,P,I,K,d);P>=$&&(N+=Zbe(v,$,P)+oe,$=P+O.length)}return N+Zbe(v,$)}]},!!Gl(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!aUe||Gbe);var lUe=as.TypeError,p3e=function(e,o,s,l,c,d,p,v){for(var b,S,x=c,T=0,E=!!p&&rde(p,v);T<l;){if(T in s){if(b=E?E(s[T],T,o):s[T],d>0&&Tle(b))S=h_(b),x=p3e(e,o,b,S,x,d-1)-1;else{if(x>=9007199254740991)throw lUe("Exceed the acceptable array length");e[x]=b}x++}T++}return x},cUe=p3e;function rse(e){return e.length?e[0].tagName.toLowerCase():""}kC({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,o=vF(this),s=h_(o),l=i3e(o,0);return l.length=cUe(l,o,o,s,0,e===void 0?1:yF(e)),l}}),qN("flat"),kC({global:!0},{globalThis:as}),vg&&(_t.fn.append=vg),mg&&(_t.fn.attr=mg),$5&&(_t.fn.parent=$5);var uUe={renderElems:[SVe],editorPlugin:function(e){var o=e.deleteBackward,s=e.handleTab,l=e.normalizeNode,c=e;return c.deleteBackward=function(d){var p=c.selection;if(p!=null)if(gn.isExpanded(p))o(d);else{var v=wt.getSelectedNodeByType(c,"list-item");if(v!=null)if(p.focus.offset!==0)o(d);else{var b=v.level,S=b===void 0?0:b;S>0?Qt.setNodes(c,{level:S-1}):Qt.setNodes(c,{type:"paragraph",ordered:void 0,level:void 0})}else o(d)}else o(d)},c.handleTab=function(){var d,p,v,b,S=c.selection;if(S!=null){if(gn.isCollapsed(S)){var x=wt.getSelectedNodeByType(c,"list-item");if(x==null)return void s();if(S.focus.offset===0){var T=x.level,E=T===void 0?0:T;return void Qt.setNodes(c,{level:E+1})}}if(gn.isExpanded(S)){var k=0,F=!1;try{for(var N=Ibe(Lbe(c)),$=N.next();!$.done;$=N.next()){var D=GN($.value,1)[0];wt.getNodeType(D)==="list-item"?k++:F=!0}}catch(j){d={error:j}}finally{try{$&&!$.done&&(p=N.return)&&p.call(N)}finally{if(d)throw d.error}}if(F||k<=1)return void s();try{for(var O=Ibe(Lbe(c)),P=O.next();!P.done;P=O.next()){var I=GN(P.value,2),z=(D=I[0],I[1]),K=D.level;E=K===void 0?0:K,Qt.setNodes(c,{level:E+1},{at:z})}}catch(j){v={error:j}}finally{try{P&&!P.done&&(b=O.return)&&b.call(O)}finally{if(v)throw v.error}}}else s()}else s()},c.normalizeNode=function(d){var p=GN(d,2),v=p[0],b=p[1],S=wt.getNodeType(v);return S!=="bulleted-list"&&S!=="numbered-list"||Qt.unwrapNodes(c,{at:b}),l([v,b])},c},menus:[HVe,jVe],elemsToHtml:[zVe],parseElemsHtml:[{selector:"ul:not([data-w-e-type]),ol:not([data-w-e-type])",parseElemHtml:function(e,o,s){return o.flat(1/0)}},{selector:"li:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e);(o=o.filter(function(p){return!!Mo.isText(p)||!!s.isInline(p)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]);var c=function(p){return rse(p.parent())==="ol"}(l),d=function(p){for(var v=0,b=p.parent(),S=rse(b);S==="ul"||S==="ol";)S=rse(b=b.parent()),v++;return v-1}(l);return{type:"list-item",ordered:c,level:d,children:o}}}]},g3e=oue(function(e,o){var s=200,l="__lodash_hash_undefined__",c=1,d=2,p=9007199254740991,v="[object Arguments]",b="[object Array]",S="[object AsyncFunction]",x="[object Boolean]",T="[object Date]",E="[object Error]",k="[object Function]",F="[object GeneratorFunction]",N="[object Map]",$="[object Number]",D="[object Null]",O="[object Object]",P="[object Promise]",I="[object Proxy]",z="[object RegExp]",K="[object Set]",j="[object String]",oe="[object Symbol]",xe="[object Undefined]",se="[object WeakMap]",Q="[object ArrayBuffer]",G="[object DataView]",ce="[object Float32Array]",he="[object Float64Array]",ve="[object Int8Array]",qe="[object Int16Array]",U="[object Int32Array]",Fe="[object Uint8Array]",De="[object Uint8ClampedArray]",Se="[object Uint16Array]",re="[object Uint32Array]",le=/[\\^$.*+?()[\]{}|]/g,fe=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,Be={};Be[ce]=Be[he]=Be[ve]=Be[qe]=Be[U]=Be[Fe]=Be[De]=Be[Se]=Be[re]=!0,Be[v]=Be[b]=Be[Q]=Be[x]=Be[G]=Be[T]=Be[E]=Be[k]=Be[N]=Be[$]=Be[O]=Be[z]=Be[K]=Be[j]=Be[se]=!1;var Ce=typeof Tl=="object"&&Tl&&Tl.Object===Object&&Tl,me=typeof self=="object"&&self&&self.Object===Object&&self,q=Ce||me||Function("return this")(),Ze=o&&!o.nodeType&&o,We=Ze&&!0&&e&&!e.nodeType&&e,tt=We&&We.exports===Ze,Qe=tt&&Ce.process,it=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch{}}(),He=it&&it.isTypedArray;function Re(ae,Ke){for(var St=-1,cn=ae==null?0:ae.length,Fn=0,Hn=[];++St<cn;){var Ro=ae[St];Ke(Ro,St,ae)&&(Hn[Fn++]=Ro)}return Hn}function Ve(ae,Ke){for(var St=-1,cn=Ke.length,Fn=ae.length;++St<cn;)ae[Fn+St]=Ke[St];return ae}function Oe(ae,Ke){for(var St=-1,cn=ae==null?0:ae.length;++St<cn;)if(Ke(ae[St],St,ae))return!0;return!1}function be(ae,Ke){for(var St=-1,cn=Array(ae);++St<ae;)cn[St]=Ke(St);return cn}function ie(ae){return function(Ke){return ae(Ke)}}function Ee(ae,Ke){return ae.has(Ke)}function ot(ae,Ke){return ae==null?void 0:ae[Ke]}function Xe(ae){var Ke=-1,St=Array(ae.size);return ae.forEach(function(cn,Fn){St[++Ke]=[Fn,cn]}),St}function zt(ae,Ke){return function(St){return ae(Ke(St))}}function qt(ae){var Ke=-1,St=Array(ae.size);return ae.forEach(function(cn){St[++Ke]=cn}),St}var bn=Array.prototype,Kn=Function.prototype,zn=Object.prototype,fn=q["__core-js_shared__"],oo=Kn.toString,ft=zn.hasOwnProperty,Tt=function(){var ae=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return ae?"Symbol(src)_1."+ae:""}(),sn=zn.toString,kn=RegExp("^"+oo.call(ft).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pn=tt?q.Buffer:void 0,$n=q.Symbol,_o=q.Uint8Array,mr=zn.propertyIsEnumerable,Ot=bn.splice,Ct=$n?$n.toStringTag:void 0,wn=Object.getOwnPropertySymbols,xn=Pn?Pn.isBuffer:void 0,pn=zt(Object.keys,Object),eo=Ri(q,"DataView"),yr=Ri(q,"Map"),Ts=Ri(q,"Promise"),ci=Ri(q,"Set"),pr=Ri(q,"WeakMap"),xi=Ri(Object,"create"),wr=Sr(eo),Jo=Sr(yr),To=Sr(Ts),Es=Sr(ci),si=Sr(pr),Vr=$n?$n.prototype:void 0,ui=Vr?Vr.valueOf:void 0;function Yr(ae){var Ke=-1,St=ae==null?0:ae.length;for(this.clear();++Ke<St;){var cn=ae[Ke];this.set(cn[0],cn[1])}}function ra(){this.__data__=xi?xi(null):{},this.size=0}function ls(ae){var Ke=this.has(ae)&&delete this.__data__[ae];return this.size-=Ke?1:0,Ke}function Ti(ae){var Ke=this.__data__;if(xi){var St=Ke[ae];return St===l?void 0:St}return ft.call(Ke,ae)?Ke[ae]:void 0}function dt(ae){var Ke=this.__data__;return xi?Ke[ae]!==void 0:ft.call(Ke,ae)}function Le(ae,Ke){var St=this.__data__;return this.size+=this.has(ae)?0:1,St[ae]=xi&&Ke===void 0?l:Ke,this}Yr.prototype.clear=ra,Yr.prototype.delete=ls,Yr.prototype.get=Ti,Yr.prototype.has=dt,Yr.prototype.set=Le;function Pt(ae){var Ke=-1,St=ae==null?0:ae.length;for(this.clear();++Ke<St;){var cn=ae[Ke];this.set(cn[0],cn[1])}}function Zt(){this.__data__=[],this.size=0}function to(ae){var Ke=this.__data__,St=Qo(Ke,ae);if(St<0)return!1;var cn=Ke.length-1;return St==cn?Ke.pop():Ot.call(Ke,St,1),--this.size,!0}function uo(ae){var Ke=this.__data__,St=Qo(Ke,ae);return St<0?void 0:Ke[St][1]}function Xn(ae){return Qo(this.__data__,ae)>-1}function vr(ae,Ke){var St=this.__data__,cn=Qo(St,ae);return cn<0?(++this.size,St.push([ae,Ke])):St[cn][1]=Ke,this}Pt.prototype.clear=Zt,Pt.prototype.delete=to,Pt.prototype.get=uo,Pt.prototype.has=Xn,Pt.prototype.set=vr;function zo(ae){var Ke=-1,St=ae==null?0:ae.length;for(this.clear();++Ke<St;){var cn=ae[Ke];this.set(cn[0],cn[1])}}function Fo(){this.size=0,this.__data__={hash:new Yr,map:new(yr||Pt),string:new Yr}}function Cs(ae){var Ke=Cr(this,ae).delete(ae);return this.size-=Ke?1:0,Ke}function dn(ae){return Cr(this,ae).get(ae)}function lt(ae){return Cr(this,ae).has(ae)}function ut(ae,Ke){var St=Cr(this,ae),cn=St.size;return St.set(ae,Ke),this.size+=St.size==cn?0:1,this}zo.prototype.clear=Fo,zo.prototype.delete=Cs,zo.prototype.get=dn,zo.prototype.has=lt,zo.prototype.set=ut;function en(ae){var Ke=-1,St=ae==null?0:ae.length;for(this.__data__=new zo;++Ke<St;)this.add(ae[Ke])}function En(ae){return this.__data__.set(ae,l),this}function An(ae){return this.__data__.has(ae)}en.prototype.add=en.prototype.push=En,en.prototype.has=An;function Un(ae){var Ke=this.__data__=new Pt(ae);this.size=Ke.size}function _n(){this.__data__=new Pt,this.size=0}function Jn(ae){var Ke=this.__data__,St=Ke.delete(ae);return this.size=Ke.size,St}function go(ae){return this.__data__.get(ae)}function $o(ae){return this.__data__.has(ae)}function Hr(ae,Ke){var St=this.__data__;if(St instanceof Pt){var cn=St.__data__;if(!yr||cn.length<s-1)return cn.push([ae,Ke]),this.size=++St.size,this;St=this.__data__=new zo(cn)}return St.set(ae,Ke),this.size=St.size,this}Un.prototype.clear=_n,Un.prototype.delete=Jn,Un.prototype.get=go,Un.prototype.has=$o,Un.prototype.set=Hr;function ks(ae,Ke){var St=pt(ae),cn=!St&&Ue(ae),Fn=!St&&!cn&&Gt(ae),Hn=!St&&!cn&&!Fn&&Ns(ae),Ro=St||cn||Fn||Hn,pe=Ro?be(ae.length,String):[],je=pe.length;for(var et in ae)(Ke||ft.call(ae,et))&&!(Ro&&(et=="length"||Fn&&(et=="offset"||et=="parent")||Hn&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Aa(et,je)))&&pe.push(et);return pe}function Qo(ae,Ke){for(var St=ae.length;St--;)if(vi(ae[St][0],Ke))return St;return-1}function fa(ae,Ke,St){var cn=Ke(ae);return pt(ae)?cn:Ve(cn,St(ae))}function sr(ae){return ae==null?ae===void 0?xe:D:Ct&&Ct in Object(ae)?Ws(ae):hl(ae)}function Tr(ae){return xr(ae)&&sr(ae)==v}function Or(ae,Ke,St,cn,Fn){return ae===Ke?!0:ae==null||Ke==null||!xr(ae)&&!xr(Ke)?ae!==ae&&Ke!==Ke:Js(ae,Ke,St,cn,Or,Fn)}function Js(ae,Ke,St,cn,Fn,Hn){var Ro=pt(ae),pe=pt(Ke),je=Ro?b:Oi(ae),et=pe?b:Oi(Ke);je=je==v?O:je,et=et==v?O:et;var Nt=je==O,Dn=et==O,mo=je==et;if(mo&&Gt(ae)){if(!Gt(Ke))return!1;Ro=!0,Nt=!1}if(mo&&!Nt)return Hn||(Hn=new Un),Ro||Ns(ae)?da(ae,Ke,St,cn,Fn,Hn):fl(ae,Ke,je,St,cn,Fn,Hn);if(!(St&c)){var Wn=Nt&&ft.call(ae,"__wrapped__"),Wr=Dn&&ft.call(Ke,"__wrapped__");if(Wn||Wr){var cs=Wn?ae.value():ae,nn=Wr?Ke.value():Ke;return Hn||(Hn=new Un),Fn(cs,nn,St,cn,Hn)}}return mo?(Hn||(Hn=new Un),Ma(ae,Ke,St,cn,Fn,Hn)):!1}function Ls(ae){if(!Os(ae)||dl(ae))return!1;var Ke=Do(ae)?kn:fe;return Ke.test(Sr(ae))}function Ea(ae){return xr(ae)&&or(ae.length)&&!!Be[sr(ae)]}function Fi(ae){if(!ha(ae))return pn(ae);var Ke=[];for(var St in Object(ae))ft.call(ae,St)&&St!="constructor"&&Ke.push(St);return Ke}function da(ae,Ke,St,cn,Fn,Hn){var Ro=St&c,pe=ae.length,je=Ke.length;if(pe!=je&&!(Ro&&je>pe))return!1;var et=Hn.get(ae);if(et&&Hn.get(Ke))return et==Ke;var Nt=-1,Dn=!0,mo=St&d?new en:void 0;for(Hn.set(ae,Ke),Hn.set(Ke,ae);++Nt<pe;){var Wn=ae[Nt],Wr=Ke[Nt];if(cn)var cs=Ro?cn(Wr,Wn,Nt,Ke,ae,Hn):cn(Wn,Wr,Nt,ae,Ke,Hn);if(cs!==void 0){if(cs)continue;Dn=!1;break}if(mo){if(!Oe(Ke,function(nn,Qs){if(!Ee(mo,Qs)&&(Wn===nn||Fn(Wn,nn,St,cn,Hn)))return mo.push(Qs)})){Dn=!1;break}}else if(!(Wn===Wr||Fn(Wn,Wr,St,cn,Hn))){Dn=!1;break}}return Hn.delete(ae),Hn.delete(Ke),Dn}function fl(ae,Ke,St,cn,Fn,Hn,Ro){switch(St){case G:if(ae.byteLength!=Ke.byteLength||ae.byteOffset!=Ke.byteOffset)return!1;ae=ae.buffer,Ke=Ke.buffer;case Q:return!(ae.byteLength!=Ke.byteLength||!Hn(new _o(ae),new _o(Ke)));case x:case T:case $:return vi(+ae,+Ke);case E:return ae.name==Ke.name&&ae.message==Ke.message;case z:case j:return ae==Ke+"";case N:var pe=Xe;case K:var je=cn&c;if(pe||(pe=qt),ae.size!=Ke.size&&!je)return!1;var et=Ro.get(ae);if(et)return et==Ke;cn|=d,Ro.set(ae,Ke);var Nt=da(pe(ae),pe(Ke),cn,Fn,Hn,Ro);return Ro.delete(ae),Nt;case oe:if(ui)return ui.call(ae)==ui.call(Ke)}return!1}function Ma(ae,Ke,St,cn,Fn,Hn){var Ro=St&c,pe=ka(ae),je=pe.length,et=ka(Ke),Nt=et.length;if(je!=Nt&&!Ro)return!1;for(var Dn=je;Dn--;){var mo=pe[Dn];if(!(Ro?mo in Ke:ft.call(Ke,mo)))return!1}var Wn=Hn.get(ae);if(Wn&&Hn.get(Ke))return Wn==Ke;var Wr=!0;Hn.set(ae,Ke),Hn.set(Ke,ae);for(var cs=Ro;++Dn<je;){mo=pe[Dn];var nn=ae[mo],Qs=Ke[mo];if(cn)var ps=Ro?cn(Qs,nn,mo,Ke,ae,Hn):cn(nn,Qs,mo,ae,Ke,Hn);if(!(ps===void 0?nn===Qs||Fn(nn,Qs,St,cn,Hn):ps)){Wr=!1;break}cs||(cs=mo=="constructor")}if(Wr&&!cs){var ei=ae.constructor,Dl=Ke.constructor;ei!=Dl&&"constructor"in ae&&"constructor"in Ke&&!(typeof ei=="function"&&ei instanceof ei&&typeof Dl=="function"&&Dl instanceof Dl)&&(Wr=!1)}return Hn.delete(ae),Hn.delete(Ke),Wr}function ka(ae){return fa(ae,Ss,sa)}function Cr(ae,Ke){var St=ae.__data__;return mi(Ke)?St[typeof Ke=="string"?"string":"hash"]:St.map}function Ri(ae,Ke){var St=ot(ae,Ke);return Ls(St)?St:void 0}function Ws(ae){var Ke=ft.call(ae,Ct),St=ae[Ct];try{ae[Ct]=void 0;var cn=!0}catch{}var Fn=sn.call(ae);return cn&&(Ke?ae[Ct]=St:delete ae[Ct]),Fn}var sa=wn?function(ae){return ae==null?[]:(ae=Object(ae),Re(wn(ae),function(Ke){return mr.call(ae,Ke)}))}:Hs,Oi=sr;(eo&&Oi(new eo(new ArrayBuffer(1)))!=G||yr&&Oi(new yr)!=N||Ts&&Oi(Ts.resolve())!=P||ci&&Oi(new ci)!=K||pr&&Oi(new pr)!=se)&&(Oi=function(ae){var Ke=sr(ae),St=Ke==O?ae.constructor:void 0,cn=St?Sr(St):"";if(cn)switch(cn){case wr:return G;case Jo:return N;case To:return P;case Es:return K;case si:return se}return Ke});function Aa(ae,Ke){return Ke=Ke==null?p:Ke,!!Ke&&(typeof ae=="number"||ue.test(ae))&&ae>-1&&ae%1==0&&ae<Ke}function mi(ae){var Ke=typeof ae;return Ke=="string"||Ke=="number"||Ke=="symbol"||Ke=="boolean"?ae!=="__proto__":ae===null}function dl(ae){return!!Tt&&Tt in ae}function ha(ae){var Ke=ae&&ae.constructor,St=typeof Ke=="function"&&Ke.prototype||zn;return ae===St}function hl(ae){return sn.call(ae)}function Sr(ae){if(ae!=null){try{return oo.call(ae)}catch{}try{return ae+""}catch{}}return""}function vi(ae,Ke){return ae===Ke||ae!==ae&&Ke!==Ke}var Ue=Tr(function(){return arguments}())?Tr:function(ae){return xr(ae)&&ft.call(ae,"callee")&&!mr.call(ae,"callee")},pt=Array.isArray;function xt(ae){return ae!=null&&or(ae.length)&&!Do(ae)}var Gt=xn||Mi;function mn(ae,Ke){return Or(ae,Ke)}function Do(ae){if(!Os(ae))return!1;var Ke=sr(ae);return Ke==k||Ke==F||Ke==S||Ke==I}function or(ae){return typeof ae=="number"&&ae>-1&&ae%1==0&&ae<=p}function Os(ae){var Ke=typeof ae;return ae!=null&&(Ke=="object"||Ke=="function")}function xr(ae){return ae!=null&&typeof ae=="object"}var Ns=He?ie(He):Ea;function Ss(ae){return xt(ae)?ks(ae):Fi(ae)}function Hs(){return[]}function Mi(){return!1}e.exports=mn});nh("en",{tableModule:{deleteCol:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",widthAuto:"Width auto",insertCol:"Insert column",insertRow:"Insert row",insertTable:"Insert table",header:"Header"}}),nh("zh-CN",{tableModule:{deleteCol:"\u5220\u9664\u5217",deleteRow:"\u5220\u9664\u884C",deleteTable:"\u5220\u9664\u8868\u683C",widthAuto:"\u5BBD\u5EA6\u81EA\u9002\u5E94",insertCol:"\u63D2\u5165\u5217",insertRow:"\u63D2\u5165\u884C",insertTable:"\u63D2\u5165\u8868\u683C",header:"\u8868\u5934"}});var Kbe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m3e(e){var o={exports:{}};return e(o,o.exports),o.exports}var Hw,iU,CV=function(e){return e&&e.Math==Math&&e},Is=CV(typeof globalThis=="object"&&globalThis)||CV(typeof window=="object"&&window)||CV(typeof self=="object"&&self)||CV(typeof Kbe=="object"&&Kbe)||function(){return this}()||Function("return this")(),zc=function(e){try{return!!e()}catch{return!0}},AC=!zc(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),tN=Function.prototype.call,Lc=tN.bind?tN.bind(tN):function(){return tN.apply(tN,arguments)},Ybe={}.propertyIsEnumerable,Xbe=Object.getOwnPropertyDescriptor,fUe={f:Xbe&&!Ybe.call({1:2},1)?function(e){var o=Xbe(this,e);return!!o&&o.enumerable}:Ybe},cde=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},v3e=Function.prototype,Nle=v3e.bind,Ple=v3e.call,dUe=Nle&&Nle.bind(Ple),Xs=Nle?function(e){return e&&dUe(Ple,e)}:function(e){return e&&function(){return Ple.apply(e,arguments)}},hUe=Xs({}.toString),pUe=Xs("".slice),cC=function(e){return pUe(hUe(e),8,-1)},sse=Is.Object,gUe=Xs("".split),b3e=zc(function(){return!sse("z").propertyIsEnumerable(0)})?function(e){return cC(e)=="String"?gUe(e,""):sse(e)}:sse,mUe=Is.TypeError,TC=function(e){if(e==null)throw mUe("Can't call method on "+e);return e},CF=function(e){return b3e(TC(e))},cf=function(e){return typeof e=="function"},fg=function(e){return typeof e=="object"?e!==null:cf(e)},vUe=function(e){return cf(e)?e:void 0},SF=function(e,o){return arguments.length<2?vUe(Is[e]):Is[e]&&Is[e][o]},y3e=Xs({}.isPrototypeOf),ise=SF("navigator","userAgent")||"",Jbe=Is.process,Qbe=Is.Deno,eye=Jbe&&Jbe.versions||Qbe&&Qbe.version,tye=eye&&eye.v8;tye&&(iU=(Hw=tye.split("."))[0]>0&&Hw[0]<4?1:+(Hw[0]+Hw[1])),!iU&&ise&&(!(Hw=ise.match(/Edge\/(\d+)/))||Hw[1]>=74)&&(Hw=ise.match(/Chrome\/(\d+)/))&&(iU=+Hw[1]);var Fle=iU,Rle=!!Object.getOwnPropertySymbols&&!zc(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Fle&&Fle<41}),ude=Rle&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bUe=Is.Object,Mle=ude?function(e){return typeof e=="symbol"}:function(e){var o=SF("Symbol");return cf(o)&&y3e(o.prototype,bUe(e))},yUe=Is.String,w3e=function(e){try{return yUe(e)}catch{return"Object"}},wUe=Is.TypeError,C3e=function(e){if(cf(e))return e;throw wUe(w3e(e)+" is not a function")},fde=function(e,o){var s=e[o];return s==null?void 0:C3e(s)},CUe=Is.TypeError,SUe=Object.defineProperty,dde=function(e,o){try{SUe(Is,e,{value:o,configurable:!0,writable:!0})}catch{Is[e]=o}return o},uC=Is["__core-js_shared__"]||dde("__core-js_shared__",{}),hde=m3e(function(e){(e.exports=function(o,s){return uC[o]||(uC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),xUe=Is.Object,pde=function(e){return xUe(TC(e))},EUe=Xs({}.hasOwnProperty),pg=Object.hasOwn||function(e,o){return EUe(pde(e),o)},kUe=0,AUe=Math.random(),TUe=Xs(1 .toString),S3e=function(e){return"Symbol("+(e===void 0?"":e)+")_"+TUe(++kUe+AUe,36)},nN=hde("wks"),C4=Is.Symbol,nye=C4&&C4.for,OUe=ude?C4:C4&&C4.withoutSetter||S3e,Sg=function(e){if(!pg(nN,e)||!Rle&&typeof nN[e]!="string"){var o="Symbol."+e;Rle&&pg(C4,e)?nN[e]=C4[e]:nN[e]=ude&&nye?nye(o):OUe(o)}return nN[e]},_Ue=Is.TypeError,$Ue=Sg("toPrimitive"),DUe=function(e,o){if(!fg(e)||Mle(e))return e;var s,l=fde(e,$Ue);if(l){if(o===void 0&&(o="default"),s=Lc(l,e,o),!fg(s)||Mle(s))return s;throw _Ue("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&cf(p=c.toString)&&!fg(v=Lc(p,c))||cf(p=c.valueOf)&&!fg(v=Lc(p,c))||d!=="string"&&cf(p=c.toString)&&!fg(v=Lc(p,c)))return v;throw CUe("Can't convert object to primitive value")}(e,o)},gde=function(e){var o=DUe(e,"string");return Mle(o)?o:o+""},Ile=Is.document,BUe=fg(Ile)&&fg(Ile.createElement),mde=function(e){return BUe?Ile.createElement(e):{}},x3e=!AC&&!zc(function(){return Object.defineProperty(mde("div"),"a",{get:function(){return 7}}).a!=7}),oye=Object.getOwnPropertyDescriptor,E3e={f:AC?oye:function(e,o){if(e=CF(e),o=gde(o),x3e)try{return oye(e,o)}catch{}if(pg(e,o))return cde(!Lc(fUe.f,e,o),e[o])}},NUe=Is.String,PUe=Is.TypeError,Cg=function(e){if(fg(e))return e;throw PUe(NUe(e)+" is not an object")},FUe=Is.TypeError,rye=Object.defineProperty,xF={f:AC?rye:function(e,o,s){if(Cg(e),o=gde(o),Cg(s),x3e)try{return rye(e,o,s)}catch{}if("get"in s||"set"in s)throw FUe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},W5=AC?function(e,o,s){return xF.f(e,o,cde(1,s))}:function(e,o,s){return e[o]=s,e},RUe=Xs(Function.toString);cf(uC.inspectSource)||(uC.inspectSource=function(e){return RUe(e)});var wW,KN,CW,vde=uC.inspectSource,sye=Is.WeakMap,MUe=cf(sye)&&/native code/.test(vde(sye)),iye=hde("keys"),k3e=function(e){return iye[e]||(iye[e]=S3e(e))},bde={},Lle=Is.TypeError,IUe=Is.WeakMap;if(MUe||uC.state){var zE=uC.state||(uC.state=new IUe),LUe=Xs(zE.get),aye=Xs(zE.has),HUe=Xs(zE.set);wW=function(e,o){if(aye(zE,e))throw new Lle("Object already initialized");return o.facade=e,HUe(zE,e,o),o},KN=function(e){return LUe(zE,e)||{}},CW=function(e){return aye(zE,e)}}else{var jO=k3e("state");bde[jO]=!0,wW=function(e,o){if(pg(e,jO))throw new Lle("Object already initialized");return o.facade=e,W5(e,jO,o),o},KN=function(e){return pg(e,jO)?e[jO]:{}},CW=function(e){return pg(e,jO)}}var Hle={set:wW,get:KN,has:CW,enforce:function(e){return CW(e)?KN(e):wW(e,{})},getterFor:function(e){return function(o){var s;if(!fg(o)||(s=KN(o)).type!==e)throw Lle("Incompatible receiver, "+e+" required");return s}}},A3e=Function.prototype,jUe=AC&&Object.getOwnPropertyDescriptor,ase=pg(A3e,"name"),yde={EXISTS:ase,PROPER:ase&&function(){}.name==="something",CONFIGURABLE:ase&&(!AC||AC&&jUe(A3e,"name").configurable)},TP=m3e(function(e){var o=yde.CONFIGURABLE,s=Hle.get,l=Hle.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;cf(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!pg(v,"name")||o&&v.name!==k)&&W5(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==Is?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:W5(d,p,v)):T?d[p]=v:dde(p,v)})(Function.prototype,"toString",function(){return cf(this)&&s(this).source||vde(this)})}),zUe=Math.ceil,VUe=Math.floor,Yq=function(e){var o=+e;return o!=o||o===0?0:(o>0?VUe:zUe)(o)},UUe=Math.max,WUe=Math.min,OP=function(e,o){var s=Yq(e);return s<0?UUe(s+o,0):WUe(s,o)},qUe=Math.min,wde=function(e){return e>0?qUe(Yq(e),9007199254740991):0},Xq=function(e){return wde(e.length)},lye=function(e){return function(o,s,l){var c,d=CF(o),p=Xq(d),v=OP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},ZUe={includes:lye(!0),indexOf:lye(!1)}.indexOf,cye=Xs([].push),T3e=function(e,o){var s,l=CF(e),c=0,d=[];for(s in l)!pg(bde,s)&&pg(l,s)&&cye(d,s);for(;o.length>c;)pg(l,s=o[c++])&&(~ZUe(d,s)||cye(d,s));return d},SW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],GUe=SW.concat("length","prototype"),KUe={f:Object.getOwnPropertyNames||function(e){return T3e(e,GUe)}},YUe={f:Object.getOwnPropertySymbols},XUe=Xs([].concat),JUe=SF("Reflect","ownKeys")||function(e){var o=KUe.f(Cg(e)),s=YUe.f;return s?XUe(o,s(e)):o},QUe=function(e,o){for(var s=JUe(o),l=xF.f,c=E3e.f,d=0;d<s.length;d++){var p=s[d];pg(e,p)||l(e,p,c(o,p))}},eWe=/#|\.prototype\./,EF=function(e,o){var s=nWe[tWe(e)];return s==rWe||s!=oWe&&(cf(o)?zc(o):!!o)},tWe=EF.normalize=function(e){return String(e).replace(eWe,".").toLowerCase()},nWe=EF.data={},oWe=EF.NATIVE="N",rWe=EF.POLYFILL="P",sWe=EF,iWe=E3e.f,OC=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?Is:S?Is[v]||dde(v,{}):(Is[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=iWe(s,l))&&p.value:s[l],!sWe(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;QUe(d,c)}(e.sham||c&&c.sham)&&W5(d,"sham",!0),TP(s,l,d,e)}},O3e={};O3e[Sg("toStringTag")]="z";var uye,Cde=String(O3e)==="[object z]",aWe=Sg("toStringTag"),lWe=Is.Object,cWe=cC(function(){return arguments}())=="Arguments",Sde=Cde?cC:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=lWe(e),aWe))=="string"?s:cWe?cC(o):(l=cC(o))=="Object"&&cf(o.callee)?"Arguments":l},uWe=Is.String,Mf=function(e){if(Sde(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return uWe(e)},fWe=/"/g,dWe=Xs("".replace);OC({target:"String",proto:!0,forced:(uye="anchor",zc(function(){var e=""[uye]('"');return e!==e.toLowerCase()||e.split('"').length>3}))},{anchor:function(e){return o="a",s="name",l=e,c=Mf(TC(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+dWe(Mf(l),fWe,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var SV,_3e=function(){var e=Cg(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},xde=Is.RegExp,jle=zc(function(){var e=xde("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),hWe=jle||zc(function(){return!xde("a","y").sticky}),$3e={BROKEN_CARET:jle||zc(function(){var e=xde("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:hWe,UNSUPPORTED_Y:jle},pWe=Object.keys||function(e){return T3e(e,SW)},gWe=AC?Object.defineProperties:function(e,o){Cg(e);for(var s,l=CF(o),c=pWe(o),d=c.length,p=0;d>p;)xF.f(e,s=c[p++],l[s]);return e},mWe=SF("document","documentElement"),D3e=k3e("IE_PROTO"),lse=function(){},B3e=function(e){return"<script>"+e+"<\/script>"},fye=function(e){e.write(B3e("")),e.close();var o=e.parentWindow.Object;return e=null,o},aU=function(){try{SV=new ActiveXObject("htmlfile")}catch{}var e,o;aU=typeof document<"u"?document.domain&&SV?fye(SV):((o=mde("iframe")).style.display="none",mWe.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(B3e("document.F=Object")),e.close(),e.F):fye(SV);for(var s=SW.length;s--;)delete aU.prototype[SW[s]];return aU()};bde[D3e]=!0;var dye,cse,N3e=Object.create||function(e,o){var s;return e!==null?(lse.prototype=Cg(e),s=new lse,lse.prototype=null,s[D3e]=e):s=aU(),o===void 0?s:gWe(s,o)},vWe=Is.RegExp,bWe=zc(function(){var e=vWe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),yWe=Is.RegExp,wWe=zc(function(){var e=yWe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),CWe=Hle.get,SWe=hde("native-string-replace",String.prototype.replace),xW=RegExp.prototype.exec,zle=xW,xWe=Xs("".charAt),EWe=Xs("".indexOf),kWe=Xs("".replace),use=Xs("".slice),fse=(cse=/b*/g,Lc(xW,dye=/a/,"a"),Lc(xW,cse,"a"),dye.lastIndex!==0||cse.lastIndex!==0),hye=$3e.BROKEN_CARET,dse=/()??/.exec("")[1]!==void 0;(fse||dse||hye||bWe||wWe)&&(zle=function(e){var o,s,l,c,d,p,v,b=this,S=CWe(b),x=Mf(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=Lc(zle,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=hye&&b.sticky,F=Lc(_3e,b),N=b.source,$=0,D=x;if(k&&(F=kWe(F,"y",""),EWe(F,"g")===-1&&(F+="g"),D=use(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&xWe(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),dse&&(s=new RegExp("^"+N+"$(?!\\s)",F)),fse&&(l=b.lastIndex),c=Lc(xW,k?s:b,D),k?c?(c.input=use(c.input,$),c[0]=use(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:fse&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),dse&&c&&c.length>1&&Lc(SWe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=N3e(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var _P=zle;OC({target:"RegExp",proto:!0,forced:/./.exec!==_P},{exec:_P});var EW=Array.isArray||function(e){return cC(e)=="Array"},P3e=function(){},AWe=[],F3e=SF("Reflect","construct"),Ede=/^\s*(?:class|function)\b/,TWe=Xs(Ede.exec),OWe=!Ede.exec(P3e),oN=function(e){if(!cf(e))return!1;try{return F3e(P3e,AWe,e),!0}catch{return!1}},kde=!F3e||zc(function(){var e;return oN(oN.call)||!oN(Object)||!oN(function(){e=!0})||e})?function(e){if(!cf(e))return!1;switch(Sde(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return OWe||!!TWe(Ede,vde(e))}:oN,R3e=function(e,o,s){var l=gde(o);l in e?xF.f(e,l,cde(0,s)):e[l]=s},_We=Sg("species"),Ade=function(e){return Fle>=51||!zc(function(){var o=[];return(o.constructor={})[_We]=function(){return{foo:1}},o[e](Boolean).foo!==1})},$We=Xs([].slice),DWe=Ade("slice"),BWe=Sg("species"),hse=Is.Array,NWe=Math.max;function Zm(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function pye(e){var o=e.selection;if(o==null)return!1;var s=Zm(ze.nodes(e,{match:function(d){return wt.checkNodeType(d,"table-cell")}}),1)[0];if(s){var l=Zm(s,2)[1],c=ze.start(e,l);if(Bs.equals(o.anchor,c))return!0}return!1}function gye(e,o){var s,l,c=ze.nodes(e,{at:o,match:function(b){return wt.getNodeType(b)==="table"}}),d=!1;try{for(var p=function(b){var S=typeof Symbol=="function"&&Symbol.iterator,x=S&&b[S],T=0;if(x)return x.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&T>=b.length&&(b=void 0),{value:b&&b[T++],done:!b}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),v=p.next();!v.done;v=p.next())v.value,d=!0}catch(b){s={error:b}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return d}OC({target:"Array",proto:!0,forced:!DWe},{slice:function(e,o){var s,l,c,d=CF(this),p=Xq(d),v=OP(e,p),b=OP(o===void 0?p:o,p);if(EW(d)&&(s=d.constructor,(kde(s)&&(s===hse||EW(s.prototype))||fg(s)&&(s=s[BWe])===null)&&(s=void 0),s===hse||s===void 0))return $We(d,v,b);for(l=new(s===void 0?hse:s)(NWe(b-v,0)),c=0;v<b;v++,c++)v in d&&R3e(l,c,d[v]);return l.length=c,l}});var mye=Xs(Xs.bind),PWe=Sg("species"),vye=Is.Array,FWe=function(e,o){return new(function(s){var l;return EW(s)&&(l=s.constructor,(kde(l)&&(l===vye||EW(l.prototype))||fg(l)&&(l=l[PWe])===null)&&(l=void 0)),l===void 0?vye:l}(e))(o===0?0:o)},bye=Xs([].push),jw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=pde(b),N=b3e(F),$=function(z,K){return C3e(z),K===void 0?z:mye?mye(z,K):function(){return z.apply(K,arguments)}}(S,x),D=Xq(N),O=0,P=T||FWe,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:bye(I,E)}else switch(e){case 4:return!1;case 7:bye(I,E)}return d?-1:l||c?c:I}},Jq={forEach:jw(0),map:jw(1),filter:jw(2),some:jw(3),every:jw(4),find:jw(5),findIndex:jw(6),filterReject:jw(7)},RWe=Jq.map;OC({target:"Array",proto:!0,forced:!Ade("map")},{map:function(e){return RWe(this,e,arguments.length>1?arguments[1]:void 0)}});var MWe=Cde?{}.toString:function(){return"[object "+Sde(this)+"]"};function Qq(e){var o=e.children||[];return o.length===0?[]:(o[0]||{}).children||[]}function M3e(e){return Qq(e).every(function(o){return!!o.isHeader})}Cde||TP(Object.prototype,"toString",MWe,{unsafe:!0});var IWe=yde.PROPER,Vle=RegExp.prototype,I3e=Vle.toString,LWe=Xs(_3e),HWe=zc(function(){return I3e.call({source:"a",flags:"b"})!="/a/b"}),jWe=IWe&&I3e.name!="toString";(HWe||jWe)&&TP(RegExp.prototype,"toString",function(){var e=Cg(this),o=Mf(e.source),s=e.flags;return"/"+o+"/"+Mf(s===void 0&&y3e(Vle,e)&&!("flags"in Vle)?LWe(e):s)},{unsafe:!0});var Ule=Sg("unscopables"),Wle=Array.prototype;Wle[Ule]==null&&xF.f(Wle,Ule,{configurable:!0,value:N3e(null)});var yye,zWe=Jq.find,wye=!0;"find"in[]&&Array(1).find(function(){wye=!1}),OC({target:"Array",proto:!0,forced:wye},{find:function(e){return zWe(this,e,arguments.length>1?arguments[1]:void 0)}}),yye="find",Wle[Ule][yye]=!0;var Tde=Function.prototype,Cye=Tde.apply,VWe=Tde.bind,Sye=Tde.call,L3e=typeof Reflect=="object"&&Reflect.apply||(VWe?Sye.bind(Cye):function(){return Sye.apply(Cye,arguments)}),UWe=Sg("species"),pse=RegExp.prototype,H3e=function(e,o,s,l){var c=Sg(e),d=!zc(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!zc(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[UWe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=Xs(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=Xs(S),N=x.exec;return N===_P||N===pse.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});TP(String.prototype,e,b[0]),TP(pse,c,b[1])}l&&W5(pse[c],"sham",!0)},WWe=Sg("match"),qWe=Is.TypeError,ZWe=Sg("species"),GWe=function(e,o){var s,l=Cg(e).constructor;return l===void 0||(s=Cg(l)[ZWe])==null?o:function(c){if(kde(c))return c;throw qWe(w3e(c)+" is not a constructor")}(s)},KWe=Xs("".charAt),xye=Xs("".charCodeAt),YWe=Xs("".slice),Eye=function(e){return function(o,s){var l,c,d=Mf(TC(o)),p=Yq(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=xye(d,p))<55296||l>56319||p+1===v||(c=xye(d,p+1))<56320||c>57343?e?KWe(d,p):l:e?YWe(d,p,p+2):c-56320+(l-55296<<10)+65536}},XWe={codeAt:Eye(!1),charAt:Eye(!0)}.charAt,j3e=function(e,o,s){return o+(s?XWe(e,o).length:1)},JWe=Is.Array,QWe=Math.max,kye=function(e,o,s){for(var l=Xq(e),c=OP(o,l),d=OP(s===void 0?l:s,l),p=JWe(QWe(d-c,0)),v=0;c<d;c++,v++)R3e(p,v,e[c]);return p.length=v,p},eqe=Is.TypeError,qle=function(e,o){var s=e.exec;if(cf(s)){var l=Lc(s,e,o);return l!==null&&Cg(l),l}if(cC(e)==="RegExp")return Lc(_P,e,o);throw eqe("RegExp#exec called on incompatible receiver")},zO=$3e.UNSUPPORTED_Y,tqe=Math.min,z3e=[].push,nqe=Xs(/./.exec),VO=Xs(z3e),rN=Xs("".slice);H3e("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p,v,b=Mf(TC(this)),S=d===void 0?4294967295:d>>>0;if(S===0)return[];if(c===void 0)return[b];if(!fg(p=c)||!((v=p[WWe])!==void 0?v:cC(p)=="RegExp"))return Lc(o,b,c,S);for(var x,T,E,k=[],F=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),N=0,$=new RegExp(c.source,F+"g");(x=Lc(_P,$,b))&&!((T=$.lastIndex)>N&&(VO(k,rN(b,N,x.index)),x.length>1&&x.index<b.length&&L3e(z3e,k,kye(x,1)),E=x[0].length,N=T,k.length>=S));)$.lastIndex===x.index&&$.lastIndex++;return N===b.length?!E&&nqe($,"")||VO(k,""):VO(k,rN(b,N)),k.length>S?kye(k,0,S):k}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:Lc(o,this,c,d)}:o,[function(c,d){var p=TC(this),v=c==null?void 0:fde(c,e);return v?Lc(v,c,p,d):Lc(l,Mf(p),c,d)},function(c,d){var p=Cg(this),v=Mf(c),b=s(l,p,v,d,l!==o);if(b.done)return b.value;var S=GWe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(zO?"g":"y"),E=new S(zO?"^(?:"+p.source+")":p,T),k=d===void 0?4294967295:d>>>0;if(k===0)return[];if(v.length===0)return qle(E,v)===null?[v]:[];for(var F=0,N=0,$=[];N<v.length;){E.lastIndex=zO?0:N;var D,O=qle(E,zO?rN(v,N):v);if(O===null||(D=tqe(wde(E.lastIndex+(zO?N:0)),v.length))===F)N=j3e(v,N,x);else{if(VO($,rN(v,F,N)),$.length===k)return $;for(var P=1;P<=O.length-1;P++)if(VO($,O[P]),$.length===k)return $;N=F=D}}return VO($,rN(v,F)),$}]},!!zc(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),zO);var Zle=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Aye=Xs("".replace),kW="["+Zle+"]",oqe=RegExp("^"+kW+kW+"*"),rqe=RegExp(kW+kW+"*$"),gse=function(e){return function(o){var s=Mf(TC(o));return 1&e&&(s=Aye(s,oqe,"")),2&e&&(s=Aye(s,rqe,"")),s}},sqe={start:gse(1),end:gse(2),trim:gse(3)},iqe=yde.PROPER,aqe=sqe.trim;function V3e(e){return e.length?e[0].tagName.toLowerCase():""}OC({target:"String",proto:!0,forced:function(e){return zc(function(){return!!Zle[e]()||"\u200B\x85\u180E"[e]()!=="\u200B\x85\u180E"||iqe&&Zle[e].name!==e})}("trim")},{trim:function(){return aqe(this)}}),OC({global:!0},{globalThis:Is}),vg&&(_t.fn.append=vg),Wv&&(_t.fn.on=Wv),wC&&(_t.fn.focus=wC),mg&&(_t.fn.attr=mg),Uv&&(_t.fn.val=Uv),yC&&(_t.fn.html=yC),O5&&(_t.fn.dataset=O5),k5&&(_t.fn.addClass=k5),A5&&(_t.fn.removeClass=A5),B5&&(_t.fn.children=B5),_U&&(_t.fn.each=_U),D5&&(_t.fn.find=D5);var $P=!1,U3e=0,W3e=0,DP=null,BP=null,YN=_t("body");function q3e(e){$P=!1,BP=null,DP=null,YN.off("mousemove",Z3e),YN.off("mouseup",q3e)}YN.on("mousedown",function(e){var o=e.target;if((o.tagName==="TH"||o.tagName==="TD")&&o.style.cursor==="col-resize"){o.style.cursor="auto",e.preventDefault(),$P=!0;var s=e.clientX;U3e=s;var l=o.getBoundingClientRect().width;W3e=l,YN.on("mousemove",Z3e),YN.on("mouseup",q3e)}});var Z3e=$4(function(e){if($P&&BP!=null&&DP!=null){e.preventDefault();var o=e.clientX,s=W3e+(o-U3e);(s=Math.floor(100*s)/100)<30&&(s=30),Qt.setNodes(BP,{width:s.toString()},{at:DP})}},100),lqe={type:"table",renderElem:function(e,o,s){var l=function(S,x){if(S.isDisabled())return!1;var T=S.selection;if(T==null||gn.isCollapsed(T))return!0;var E=T.anchor,k=T.focus,F=wt.findPath(S,x),N=ze.start(S,F),$=ze.end(S,F),D=Bs.compare(E,$)<=0&&Bs.compare(E,N)>=0,O=Bs.compare(k,$)<=0&&Bs.compare(k,N)>=0;return!!(D&&O&&Ht.equals(E.path.slice(0,3),k.path.slice(0,3)))}(s,e),c=e.width,d=c===void 0?"auto":c,p=wt.isNodeSelected(s,e),v=Qq(e),b=is("div",{className:"table-container","data-selected":p,on:{mousedown:function(S){if(S.target.tagName==="DIV"&&S.preventDefault(),!s.isDisabled()){var x=wt.findPath(s,e),T=ze.start(s,x),E=s.selection;E!=null?E.anchor.path[0]!==x[0]&&s.select(T):s.select(T)}}}},is("table",{width:d,contentEditable:l},is("colgroup",null,v.map(function(S){var x=S.width;return is("col",{width:x===void 0?"auto":x})})),is("tbody",null,o)));return b}},cqe={type:"table-row",renderElem:function(e,o,s){return is("tr",null,o)}},uqe={type:"table-cell",renderElem:function(e,o,s){var l=function(E,k){var F=wt.getParentNode(E,k);if(F==null)return!1;var N=wt.getParentNode(E,F);return N!=null&&Qq(N).some(function($){return $===k})}(s,e),c=e,d=c.colSpan,p=d===void 0?1:d,v=c.rowSpan,b=v===void 0?1:v,S=c.isHeader,x=S!==void 0&&S;if(!l)return is("td",{colSpan:p,rowSpan:b},o);var T=is(x?"th":"td",{colSpan:p,rowSpan:b,style:{borderRightWidth:"3px"},on:{mousemove:$4(function(E){var k=this.elm;if(k!=null){var F=k.getBoundingClientRect(),N=F.left,$=F.width,D=F.top,O=F.height,P=E.clientX,I=E.clientY;$P||(P>N+$-5&&P<N+$&&I>D&&I<D+O?(k.style.cursor="col-resize",BP=s,DP=wt.findPath(s,e)):$P||(k.style.cursor="auto",BP=null,DP=null))}},100)}},o);return T}},fqe={type:"table",elemToHtml:function(e,o){var s=e.width;return'<table style="width: '+(s===void 0?"auto":s)+';"><tbody>'+o+"</tbody></table>"}},dqe={type:"table-row",elemToHtml:function(e,o){return"<tr>"+o+"</tr>"}},hqe={type:"table-cell",elemToHtml:function(e,o){var s=e,l=s.colSpan,c=l===void 0?1:l,d=s.rowSpan,p=d===void 0?1:d,v=s.isHeader,b=v!==void 0&&v,S=s.width,x=b?"th":"td";return"<"+x+' colSpan="'+c+'" rowSpan="'+p+'" width="'+(S===void 0?"auto":S)+'">'+o+"</"+x+">"}},pqe={selector:"table",preParseHtml:function(e){var o=_t(e);if(V3e(o)!=="table")return e;var s=o.find("tbody");if(s.length===0)return e;var l=o.find("tr");return o.append(l),s.remove(),o[0]}},gqe=Jq.filter;OC({target:"Array",proto:!0,forced:!Ade("filter")},{filter:function(e){return gqe(this,e,arguments.length>1?arguments[1]:void 0)}});var mqe=Math.floor,mse=Xs("".charAt),vqe=Xs("".replace),vse=Xs("".slice),bqe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,yqe=/\$([$&'`]|\d{1,2})/g,wqe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,b=yqe;return c!==void 0&&(c=pde(c),b=bqe),vqe(d,b,function(S,x){var T;switch(mse(x,0)){case"$":return"$";case"&":return e;case"`":return vse(o,0,s);case"'":return vse(o,p);case"<":T=c[vse(x,1,-1)];break;default:var E=+x;if(E===0)return S;if(E>v){var k=mqe(E/10);return k===0?S:k<=v?l[k-1]===void 0?mse(x,1):l[k-1]+mse(x,1):S}T=l[E-1]}return T===void 0?"":T})},Gle=Sg("replace"),Cqe=Math.max,Sqe=Math.min,xqe=Xs([].concat),bse=Xs([].push),Tye=Xs("".indexOf),Oye=Xs("".slice),Eqe="a".replace(/./,"$0")==="$0",_ye=!!/./[Gle]&&/./[Gle]("a","$0")==="";H3e("replace",function(e,o,s){var l=_ye?"$":"$0";return[function(c,d){var p=TC(this),v=c==null?void 0:fde(c,Gle);return v?Lc(v,c,p,d):Lc(o,Mf(p),c,d)},function(c,d){var p=Cg(this),v=Mf(c);if(typeof d=="string"&&Tye(d,l)===-1&&Tye(d,"$<")===-1){var b=s(o,p,v,d);if(b.done)return b.value}var S=cf(d);S||(d=Mf(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var E=[];;){var k=qle(p,v);if(k===null||(bse(E,k),!x))break;Mf(k[0])===""&&(p.lastIndex=j3e(v,wde(p.lastIndex),T))}for(var F,N="",$=0,D=0;D<E.length;D++){for(var O=Mf((k=E[D])[0]),P=Cqe(Sqe(Yq(k.index),v.length),0),I=[],z=1;z<k.length;z++)bse(I,(F=k[z])===void 0?F:String(F));var K=k.groups;if(S){var j=xqe([O],I,P,v);K!==void 0&&bse(j,K);var oe=Mf(L3e(d,void 0,j))}else oe=wqe(O,v,P,I,K,d);P>=$&&(N+=Oye(v,$,P)+oe,$=P+O.length)}return N+Oye(v,$)}]},!!zc(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!Eqe||_ye);var kqe={selector:"td:not([data-w-e-type]),th:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e);(o=o.filter(function(v){return!!Mo.isText(v)||!!s.isInline(v)})).length===0&&(o=[{text:l.text().replace(/\s+/gm," ")}]);var c=parseInt(l.attr("colSpan")||"1"),d=parseInt(l.attr("rowSpan")||"1"),p=l.attr("width")||"auto";return{type:"table-cell",isHeader:V3e(l)==="th",colSpan:c,rowSpan:d,width:p,children:o}}},Aqe={selector:"tr:not([data-w-e-type])",parseElemHtml:function(e,o,s){return{type:"table-row",children:o.filter(function(l){return wt.getNodeType(l)==="table-cell"})}}},Tqe={selector:"table:not([data-w-e-type])",parseElemHtml:function(e,o,s){var l=_t(e),c="auto";return function(d,p){for(var v="",b=(d.attr("style")||"").split(";"),S=b.length,x=0;x<S;x++){var T=b[x];if(T){var E=T.split(":");E[0].trim()===p&&(v=E[1].trim())}}return v}(l,"width")==="100%"&&(c="100%"),l.attr("width")==="100%"&&(c="100%"),{type:"table",width:c,children:o.filter(function(d){return wt.getNodeType(d)==="table-row"})}}},Oqe=function(){function e(){this.title=Co("tableModule.insertTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||!!wt.getSelectedElems(o).some(function(l){var c=wt.getNodeType(l);return c==="pre"||c==="table"||c==="list-item"||!!o.isVoid(l)})},e.prototype.getPanelContentElem=function(o){var s=this;if(this.$content)return this.$content[0];for(var l=_t('<div class="w-e-panel-content-table"></div>'),c=_t("<span>0 &times; 0</span>"),d=_t("<table></table>"),p=0;p<10;p++){for(var v=_t("<tr></tr>"),b=0;b<10;b++){var S=_t("<td></td>");S.attr("data-x",b.toString()),S.attr("data-y",p.toString()),v.append(S),S.on("mouseenter",function(x){var T=x.target;if(T!=null){var E=_t(T).dataset(),k=E.x,F=E.y;c[0].innerHTML=k+1+" &times; "+(F+1),d.children().each(function(N){_t(N).children().each(function($){var D=_t($),O=D.dataset(),P=O.x,I=O.y;P<=k&&I<=F?D.addClass("active"):D.removeClass("active")})})}}),S.on("click",function(x){x.preventDefault();var T=x.target;if(T!=null){var E=_t(T).dataset(),k=E.x,F=E.y;s.insertTable(o,F+1,k+1)}})}d.append(v)}return l.append(d),l.append(c),this.$content=l,l[0]},e.prototype.insertTable=function(o,s,l){var c=parseInt(s,10),d=parseInt(l,10);if(c&&d&&!(c<=0||d<=0)){wt.isSelectedEmptyParagraph(o)&&Qt.removeNodes(o,{mode:"highest"});var p=function(v,b){for(var S=[],x=0;x<v;x++){for(var T=[],E=0;E<b;E++){var k={type:"table-cell",children:[{text:""}]};x===0&&(k.isHeader=!0),T.push(k)}S.push({type:"table-row",children:T})}return{type:"table",width:"auto",children:S}}(c,d);Qt.insertNodes(o,p,{mode:"highest"})}},e}(),_qe=function(){function e(){this.title=Co("tableModule.deleteTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return o.selection==null||wt.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){this.isDisabled(o)||Qt.removeNodes(o,{mode:"highest"})},e}(),$qe=function(){function e(){this.title=Co("tableModule.insertRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Zm(ze.nodes(o,{match:function(k){return wt.checkNodeType(k,"table-cell")},universal:!0}),1),c=Zm(l[0],2),d=c[0],p=c[1],v=wt.getParentNode(o,d),b=(v==null?void 0:v.children.length)||0;if(b!==0){for(var S={type:"table-row",children:[]},x=0;x<b;x++)S.children.push({type:"table-cell",children:[{text:""}]});var T=Ht.parent(p),E=Ht.next(T);Qt.insertNodes(o,S,{at:E})}}},e}(),Dqe=function(){function e(){this.title=Co("tableModule.deleteRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"table-row")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Zm(ze.nodes(o,{match:function(b){return wt.checkNodeType(b,"table-row")},universal:!0}),1),c=Zm(l[0],2),d=c[0],p=c[1],v=wt.getParentNode(o,d);((v==null?void 0:v.children.length)||0)<=1?Qt.removeNodes(o,{mode:"highest"}):Qt.removeNodes(o,{at:p})}},e}(),$ye={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yse=mde("span").classList,Dye=yse&&yse.constructor&&yse.constructor.prototype,Bqe=Dye===Object.prototype?void 0:Dye,Nqe=Jq.forEach,Pqe=function(e,o){var s=[][e];return!!s&&zc(function(){s.call(null,o||function(){throw 1},1)})}("forEach"),wse=Pqe?[].forEach:function(e){return Nqe(this,e,arguments.length>1?arguments[1]:void 0)},G3e=function(e){if(e&&e.forEach!==wse)try{W5(e,"forEach",wse)}catch{e.forEach=wse}};for(var Cse in $ye)$ye[Cse]&&G3e(Is[Cse]&&Is[Cse].prototype);G3e(Bqe);var Fqe=function(){function e(){this.title=Co("tableModule.insertCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Zm(ze.nodes(o,{match:function(S){return wt.checkNodeType(S,"table-cell")},universal:!0}),1),c=Zm(l[0],2),d=c[0],p=c[1],v=wt.getParentNode(o,d);if(v!=null){var b=wt.getParentNode(o,v);b!=null&&(b.children||[]).forEach(function(S,x){ar.isElement(S)&&(S.children||[]).forEach(function(T){var E=wt.findPath(o,T);if(E.length===p.length&&g3e(E.slice(-1),p.slice(-1))){var k={type:"table-cell",children:[{text:""}]};x===0&&M3e(b)&&(k.isHeader=!0),Qt.insertNodes(o,k,{at:E})}})})}}},e}(),Rqe=function(){function e(){this.title=Co("tableModule.deleteCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"table-cell")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=Zm(ze.nodes(o,{match:function(x){return wt.checkNodeType(x,"table-cell")},universal:!0}),1),c=Zm(l[0],2),d=c[0],p=c[1],v=wt.getParentNode(o,d),b=(v==null?void 0:v.children.length)||0;if(!v||b<=1)Qt.removeNodes(o,{mode:"highest"});else{var S=wt.getParentNode(o,v);S!=null&&(S.children||[]).forEach(function(x){ar.isElement(x)&&(x.children||[]).forEach(function(T){var E=wt.findPath(o,T);E.length===p.length&&g3e(E.slice(-1),p.slice(-1))&&Qt.removeNodes(o,{at:E})})})}}},e}(),Mqe=function(){function e(){this.title=Co("tableModule.header"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){var s=wt.getSelectedNodeByType(o,"table");return s!=null&&M3e(s)},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l=!s,c=wt.getSelectedNodeByType(o,"table");c!=null&&Qq(c).forEach(function(d){return Qt.setNodes(o,{isHeader:l},{at:wt.findPath(o,d)})})}},e}(),Iqe=function(){function e(){this.title=Co("tableModule.widthAuto"),this.iconSvg='<svg viewBox="0 0 1228 1024"><path d="M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){var s=wt.getSelectedNodeByType(o,"table");return s!=null&&s.width==="100%"},e.prototype.isActive=function(o){return!!this.getValue(o)},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||wt.getSelectedNodeByType(o,"table")==null},e.prototype.exec=function(o,s){if(!this.isDisabled(o)){var l={width:s?"auto":"100%"};Qt.setNodes(o,l,{mode:"highest"})}},e}(),Lqe={renderElems:[lqe,cqe,uqe],elemsToHtml:[fqe,dqe,hqe],preParseHtml:[pqe],parseElemsHtml:[kqe,Aqe,Tqe],menus:[{key:"insertTable",factory:function(){return new Oqe}},{key:"deleteTable",factory:function(){return new _qe}},{key:"insertTableRow",factory:function(){return new $qe}},{key:"deleteTableRow",factory:function(){return new Dqe}},{key:"insertTableCol",factory:function(){return new Fqe}},{key:"deleteTableCol",factory:function(){return new Rqe}},{key:"tableHeader",factory:function(){return new Mqe}},{key:"tableFullWidth",factory:function(){return new Iqe}}],editorPlugin:function(e){var o=e.insertBreak,s=e.deleteBackward,l=e.deleteForward,c=e.normalizeNode,d=e.insertData,p=e.handleTab,v=e.selectAll,b=e;return b.insertBreak=function(){wt.getSelectedNodeByType(b,"table")==null?o():b.insertText(`
`)},b.deleteBackward=function(S){if(!pye(b)){var x=b.selection;if(x){var T=ze.before(b,x);if(T){var E=gye(b,T),k=gye(b,x);if(E&&!k)return}}s(S)}},b.handleTab=function(){var S;if(wt.getSelectedNodeByType(b,"table")){var x=ze.above(e);wt.checkNodeType(x[0],"table-cell")&&Qt.select(e,x[1]);var T=ze.next(e);if(T)T[0]&&T[0].text&&(T=(S=ze.above(e,{at:T[1]}))!==null&&S!==void 0?S:T),Qt.select(e,T[1]);else{var E=b.children||[],k=E.length;if(wt.checkNodeType(E[k-1],"table")){var F=wt.genEmptyParagraph();Qt.insertNodes(b,F,{at:[k]}),b.handleTab()}}}else p()},b.deleteForward=function(S){pye(b)||l(S)},b.normalizeNode=function(S){var x=Zm(S,2),T=x[0],E=x[1];if(wt.getNodeType(T)!=="table")return c([T,E]);if(wt.isLastNode(b,T)){var k=wt.genEmptyParagraph();Qt.insertNodes(b,k,{at:[E[0]+1]})}},b.insertData=function(S){if(wt.getSelectedNodeByType(b,"table")!=null){var x=S.getData("text/plain");x===`
`||/<img[^>]+>/.test(S.getData("text/html"))?d(S):ze.insertText(b,x)}else d(S)},b.selectAll=function(){var S=b.selection;if(S!=null){var x=wt.getSelectedNodeByType(b,"table-cell");if(x!=null){var T=S.anchor,E=S.focus;if(Ht.equals(T.path.slice(0,3),E.path.slice(0,3)))if(wo.string(x).length!==0){var k=wt.findPath(b,x),F={anchor:ze.start(b,k),focus:ze.end(b,k)};b.select(F)}else v();else v()}else v()}else v()},b}};nh("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"Video source",videoSrcPlaceHolder:"Video file url, or third-party <iframe>",videoPoster:"Video poster",videoPosterPlaceHolder:"Poster image url",ok:"Ok",editSize:"Edit size",width:"Width",height:"Height"}}),nh("zh-CN",{videoModule:{delete:"\u5220\u9664\u89C6\u9891",uploadVideo:"\u4E0A\u4F20\u89C6\u9891",insertVideo:"\u63D2\u5165\u89C6\u9891",videoSrc:"\u89C6\u9891\u5730\u5740",videoSrcPlaceHolder:"\u89C6\u9891\u6587\u4EF6 url \u6216\u7B2C\u4E09\u65B9 <iframe>",videoPoster:"\u89C6\u9891\u5C01\u9762",videoPosterPlaceHolder:"\u5C01\u9762\u56FE\u7247 url",ok:"\u786E\u5B9A",editSize:"\u4FEE\u6539\u5C3A\u5BF8",width:"\u5BBD\u5EA6",height:"\u9AD8\u5EA6"}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AW=function(){return AW=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},AW.apply(this,arguments)};function eZ(e,o,s,l){return new(s||(s=Promise))(function(c,d){function p(S){try{b(l.next(S))}catch(x){d(x)}}function v(S){try{b(l.throw(S))}catch(x){d(x)}}function b(S){var x;S.done?c(S.value):(x=S.value,x instanceof s?x:new s(function(T){T(x)})).then(p,v)}b((l=l.apply(e,o||[])).next())})}function tZ(e,o){var s,l,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(b){return function(S){return function(x){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,l=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=o.call(e,p)}catch(T){x=[6,T],l=0}finally{s=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([b,S])}}}function Hqe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function S4(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var l,c,d=s.call(e),p=[];try{for(;(o===void 0||o-- >0)&&!(l=d.next()).done;)p.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(c)throw c.error}}return p}function jqe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=e[Symbol.asyncIterator];return s?s.call(e):(e=Hqe(e),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(c){o[c]=e[c]&&function(d){return new Promise(function(p,v){(function(b,S,x,T){Promise.resolve(T).then(function(E){b({value:E,done:x})},S)})(p,v,(d=e[c](d)).done,d.value)})}}}var Bye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ode(e){var o={exports:{}};return e(o,o.exports),o.exports}var zw,lU,xV=function(e){return e&&e.Math==Math&&e},Eo=xV(typeof globalThis=="object"&&globalThis)||xV(typeof window=="object"&&window)||xV(typeof self=="object"&&self)||xV(typeof Bye=="object"&&Bye)||function(){return this}()||Function("return this")(),Ra=function(e){try{return!!e()}catch{return!0}},Zv=!Ra(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),sN=Function.prototype.call,xa=sN.bind?sN.bind(sN):function(){return sN.apply(sN,arguments)},Nye={}.propertyIsEnumerable,Pye=Object.getOwnPropertyDescriptor,zqe={f:Pye&&!Nye.call({1:2},1)?function(e){var o=Pye(this,e);return!!o&&o.enumerable}:Nye},nZ=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},K3e=Function.prototype,Kle=K3e.bind,Yle=K3e.call,Vqe=Kle&&Kle.bind(Yle),vs=Kle?function(e){return e&&Vqe(Yle,e)}:function(e){return e&&function(){return Yle.apply(e,arguments)}},Uqe=vs({}.toString),Wqe=vs("".slice),zv=function(e){return Wqe(Uqe(e),8,-1)},Sse=Eo.Object,qqe=vs("".split),_de=Ra(function(){return!Sse("z").propertyIsEnumerable(0)})?function(e){return zv(e)=="String"?qqe(e,""):Sse(e)}:Sse,Zqe=Eo.TypeError,kF=function(e){if(e==null)throw Zqe("Can't call method on "+e);return e},FC=function(e){return _de(kF(e))},oa=function(e){return typeof e=="function"},Ka=function(e){return typeof e=="object"?e!==null:oa(e)},Gqe=function(e){return oa(e)?e:void 0},H4=function(e,o){return arguments.length<2?Gqe(Eo[e]):Eo[e]&&Eo[e][o]},NP=vs({}.isPrototypeOf),b5=H4("navigator","userAgent")||"",Fye=Eo.process,Rye=Eo.Deno,Mye=Fye&&Fye.versions||Rye&&Rye.version,Iye=Mye&&Mye.v8;Iye&&(lU=(zw=Iye.split("."))[0]>0&&zw[0]<4?1:+(zw[0]+zw[1])),!lU&&b5&&(!(zw=b5.match(/Edge\/(\d+)/))||zw[1]>=74)&&(zw=b5.match(/Chrome\/(\d+)/))&&(lU=+zw[1]);var PP=lU,Xle=!!Object.getOwnPropertySymbols&&!Ra(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&PP&&PP<41}),$de=Xle&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Kqe=Eo.Object,Jle=$de?function(e){return typeof e=="symbol"}:function(e){var o=H4("Symbol");return oa(o)&&NP(o.prototype,Kqe(e))},Yqe=Eo.String,TW=function(e){try{return Yqe(e)}catch{return"Object"}},Xqe=Eo.TypeError,_C=function(e){if(oa(e))return e;throw Xqe(TW(e)+" is not a function")},FP=function(e,o){var s=e[o];return s==null?void 0:_C(s)},Jqe=Eo.TypeError,Qqe=Object.defineProperty,Dde=function(e,o){try{Qqe(Eo,e,{value:o,configurable:!0,writable:!0})}catch{Eo[e]=o}return o},fC=Eo["__core-js_shared__"]||Dde("__core-js_shared__",{}),Bde=Ode(function(e){(e.exports=function(o,s){return fC[o]||(fC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),eZe=Eo.Object,oZ=function(e){return eZe(kF(e))},tZe=vs({}.hasOwnProperty),Hc=Object.hasOwn||function(e,o){return tZe(oZ(e),o)},nZe=0,oZe=Math.random(),rZe=vs(1 .toString),Nde=function(e){return"Symbol("+(e===void 0?"":e)+")_"+rZe(++nZe+oZe,36)},iN=Bde("wks"),x4=Eo.Symbol,Lye=x4&&x4.for,sZe=$de?x4:x4&&x4.withoutSetter||Nde,Sc=function(e){if(!Hc(iN,e)||!Xle&&typeof iN[e]!="string"){var o="Symbol."+e;Xle&&Hc(x4,e)?iN[e]=x4[e]:iN[e]=$de&&Lye?Lye(o):sZe(o)}return iN[e]},iZe=Eo.TypeError,aZe=Sc("toPrimitive"),lZe=function(e,o){if(!Ka(e)||Jle(e))return e;var s,l=FP(e,aZe);if(l){if(o===void 0&&(o="default"),s=xa(l,e,o),!Ka(s)||Jle(s))return s;throw iZe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&oa(p=c.toString)&&!Ka(v=xa(p,c))||oa(p=c.valueOf)&&!Ka(v=xa(p,c))||d!=="string"&&oa(p=c.toString)&&!Ka(v=xa(p,c)))return v;throw Jqe("Can't convert object to primitive value")}(e,o)},Pde=function(e){var o=lZe(e,"string");return Jle(o)?o:o+""},Qle=Eo.document,cZe=Ka(Qle)&&Ka(Qle.createElement),RP=function(e){return cZe?Qle.createElement(e):{}},Y3e=!Zv&&!Ra(function(){return Object.defineProperty(RP("div"),"a",{get:function(){return 7}}).a!=7}),Hye=Object.getOwnPropertyDescriptor,Fde={f:Zv?Hye:function(e,o){if(e=FC(e),o=Pde(o),Y3e)try{return Hye(e,o)}catch{}if(Hc(e,o))return nZ(!xa(zqe.f,e,o),e[o])}},uZe=Eo.String,fZe=Eo.TypeError,Nu=function(e){if(Ka(e))return e;throw fZe(uZe(e)+" is not an object")},dZe=Eo.TypeError,jye=Object.defineProperty,by={f:Zv?jye:function(e,o,s){if(Nu(e),o=Pde(o),Nu(s),Y3e)try{return jye(e,o,s)}catch{}if("get"in s||"set"in s)throw dZe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},dy=Zv?function(e,o,s){return by.f(e,o,nZ(1,s))}:function(e,o,s){return e[o]=s,e},hZe=vs(Function.toString);oa(fC.inspectSource)||(fC.inspectSource=function(e){return hZe(e)});var OW,XN,_W,rZ=fC.inspectSource,zye=Eo.WeakMap,X3e=oa(zye)&&/native code/.test(rZ(zye)),Vye=Bde("keys"),Rde=function(e){return Vye[e]||(Vye[e]=Nde(e))},sZ={},ece=Eo.TypeError,pZe=Eo.WeakMap;if(X3e||fC.state){var VE=fC.state||(fC.state=new pZe),gZe=vs(VE.get),Uye=vs(VE.has),mZe=vs(VE.set);OW=function(e,o){if(Uye(VE,e))throw new ece("Object already initialized");return o.facade=e,mZe(VE,e,o),o},XN=function(e){return gZe(VE,e)||{}},_W=function(e){return Uye(VE,e)}}else{var UO=Rde("state");sZ[UO]=!0,OW=function(e,o){if(Hc(e,UO))throw new ece("Object already initialized");return o.facade=e,dy(e,UO,o),o},XN=function(e){return Hc(e,UO)?e[UO]:{}},_W=function(e){return Hc(e,UO)}}var up={set:OW,get:XN,has:_W,enforce:function(e){return _W(e)?XN(e):OW(e,{})},getterFor:function(e){return function(o){var s;if(!Ka(o)||(s=XN(o)).type!==e)throw ece("Incompatible receiver, "+e+" required");return s}}},J3e=Function.prototype,vZe=Zv&&Object.getOwnPropertyDescriptor,xse=Hc(J3e,"name"),p_={EXISTS:xse,PROPER:xse&&function(){}.name==="something",CONFIGURABLE:xse&&(!Zv||Zv&&vZe(J3e,"name").configurable)},rp=Ode(function(e){var o=p_.CONFIGURABLE,s=up.get,l=up.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;oa(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Hc(v,"name")||o&&v.name!==k)&&dy(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==Eo?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:dy(d,p,v)):T?d[p]=v:Dde(p,v)})(Function.prototype,"toString",function(){return oa(this)&&s(this).source||rZ(this)})}),bZe=Math.ceil,yZe=Math.floor,iZ=function(e){var o=+e;return o!=o||o===0?0:(o>0?yZe:bZe)(o)},wZe=Math.max,CZe=Math.min,MP=function(e,o){var s=iZ(e);return s<0?wZe(s+o,0):CZe(s,o)},SZe=Math.min,Q3e=function(e){return e>0?SZe(iZ(e),9007199254740991):0},AF=function(e){return Q3e(e.length)},Wye=function(e){return function(o,s,l){var c,d=FC(o),p=AF(d),v=MP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},eke={includes:Wye(!0),indexOf:Wye(!1)},xZe=eke.indexOf,qye=vs([].push),tke=function(e,o){var s,l=FC(e),c=0,d=[];for(s in l)!Hc(sZ,s)&&Hc(l,s)&&qye(d,s);for(;o.length>c;)Hc(l,s=o[c++])&&(~xZe(d,s)||qye(d,s));return d},$W=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],EZe=$W.concat("length","prototype"),DW={f:Object.getOwnPropertyNames||function(e){return tke(e,EZe)}},kZe={f:Object.getOwnPropertySymbols},AZe=vs([].concat),TZe=H4("Reflect","ownKeys")||function(e){var o=DW.f(Nu(e)),s=kZe.f;return s?AZe(o,s(e)):o},OZe=function(e,o){for(var s=TZe(o),l=by.f,c=Fde.f,d=0;d<s.length;d++){var p=s[d];Hc(e,p)||l(e,p,c(o,p))}},_Ze=/#|\.prototype\./,TF=function(e,o){var s=DZe[$Ze(e)];return s==NZe||s!=BZe&&(oa(o)?Ra(o):!!o)},$Ze=TF.normalize=function(e){return String(e).replace(_Ze,".").toLowerCase()},DZe=TF.data={},BZe=TF.NATIVE="N",NZe=TF.POLYFILL="P",BW=TF,PZe=Fde.f,Qd=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?Eo:S?Eo[v]||Dde(v,{}):(Eo[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=PZe(s,l))&&p.value:s[l],!BW(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;OZe(d,c)}(e.sham||c&&c.sham)&&dy(d,"sham",!0),rp(s,l,d,e)}},nke={};nke[Sc("toStringTag")]="z";var aN,Mde=String(nke)==="[object z]",FZe=Sc("toStringTag"),RZe=Eo.Object,MZe=zv(function(){return arguments}())=="Arguments",aZ=Mde?zv:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=RZe(e),FZe))=="string"?s:MZe?zv(o):(l=zv(o))=="Object"&&oa(o.callee)?"Arguments":l},IZe=Eo.String,ag=function(e){if(aZ(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return IZe(e)},tce=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,Zye=vs("".replace),NW="["+tce+"]",LZe=RegExp("^"+NW+NW+"*"),HZe=RegExp(NW+NW+"*$"),Ese=function(e){return function(o){var s=ag(kF(o));return 1&e&&(s=Zye(s,LZe,"")),2&e&&(s=Zye(s,HZe,"")),s}},jZe={start:Ese(1),end:Ese(2),trim:Ese(3)},zZe=p_.PROPER,VZe=jZe.trim;function Gye(e){return e.length?e[0].tagName.toLowerCase():""}function oke(e,o,s){o===void 0&&(o="auto"),s===void 0&&(s="auto");var l=_t(e);return l.attr("width",o),l.attr("height",s),l[0].outerHTML}Qd({target:"String",proto:!0,forced:(aN="trim",Ra(function(){return!!tce[aN]()||"\u200B\x85\u180E"[aN]()!=="\u200B\x85\u180E"||zZe&&tce[aN].name!==aN}))},{trim:function(){return VZe(this)}}),Qd({global:!0},{globalThis:Eo}),vg&&(_t.fn.append=vg),Wv&&(_t.fn.on=Wv),wC&&(_t.fn.focus=wC),mg&&(_t.fn.attr=mg),Uv&&(_t.fn.val=Uv),yC&&(_t.fn.html=yC),$5&&(_t.fn.parent=$5),T5&&(_t.fn.hasClass=T5),P5&&(_t.fn.empty=P5);var UZe={type:"video",renderElem:function(e,o,s){var l,c=e,d=c.src,p=d===void 0?"":d,v=c.poster,b=v===void 0?"":v,S=c.width,x=S===void 0?"auto":S,T=c.height,E=T===void 0?"auto":T,k=wt.isNodeSelected(s,e);if(p.trim().indexOf("<iframe ")===0){var F=oke(p,x,E);l=is("div",{className:"w-e-textarea-video-container","data-selected":k?"true":"",innerHTML:F})}else{var N=is("video",{poster:b,controls:!0},is("source",{src:p,type:"video/mp4"}),`Sorry, your browser doesn't support embedded videos.
 \u62B1\u6B49\uFF0C\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 video \u89C6\u9891`);x!=="auto"&&(N.data.width=x),E!=="auto"&&(N.data.height=E),l=is("div",{className:"w-e-textarea-video-container","data-selected":k?"true":""},N)}return F5("div",{props:{contentEditable:!1},on:{mousedown:function($){return $.preventDefault()}}},l)}},EV,WZe={type:"video",elemToHtml:function(e,o){var s=e,l=s.src,c=l===void 0?"":l,d=s.poster,p=d===void 0?"":d,v=s.width,b=v===void 0?"auto":v,S=s.height,x=S===void 0?"auto":S,T=`<div data-w-e-type="video" data-w-e-is-void>
`;return c.trim().indexOf("<iframe ")===0?T+=oke(c,b,x):T+='<video poster="'+p+'" controls="true" width="'+b+'" height="'+x+'"><source src="'+c+'" type="video/mp4"/></video>',T+=`
</div>`}},qZe=Object.keys||function(e){return tke(e,$W)},ZZe=Zv?Object.defineProperties:function(e,o){Nu(e);for(var s,l=FC(o),c=qZe(o),d=c.length,p=0;d>p;)by.f(e,s=c[p++],l[s]);return e},nce=H4("document","documentElement"),rke=Rde("IE_PROTO"),kse=function(){},ske=function(e){return"<script>"+e+"<\/script>"},Kye=function(e){e.write(ske("")),e.close();var o=e.parentWindow.Object;return e=null,o},cU=function(){try{EV=new ActiveXObject("htmlfile")}catch{}var e,o;cU=typeof document<"u"?document.domain&&EV?Kye(EV):((o=RP("iframe")).style.display="none",nce.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(ske("document.F=Object")),e.close(),e.F):Kye(EV);for(var s=$W.length;s--;)delete cU.prototype[$W[s]];return cU()};sZ[rke]=!0;var Ide=Object.create||function(e,o){var s;return e!==null?(kse.prototype=Nu(e),s=new kse,kse.prototype=null,s[rke]=e):s=cU(),o===void 0?s:ZZe(s,o)},oce=Sc("unscopables"),rce=Array.prototype;rce[oce]==null&&by.f(rce,oce,{configurable:!0,value:Ide(null)});var JN=function(e){rce[oce][e]=!0},GZe=eke.includes;Qd({target:"Array",proto:!0},{includes:function(e){return GZe(this,e,arguments.length>1?arguments[1]:void 0)}}),JN("includes");var KZe={selector:"iframe,video,p",preParseHtml:function(e){var o=_t(e),s=o;if(Gye(o)==="p"){var l=o.children();if(l.length===1){var c=l[0],d=c.tagName.toLowerCase();["iframe","video"].includes(d)&&(s=_t(c))}}var p=Gye(s);if(p!=="iframe"&&p!=="video"||s.parent().attr("data-w-e-type")==="video")return s[0];var v=_t('<div data-w-e-type="video" data-w-e-is-void></div>');return v.append(s),v[0]}},Yye=vs(vs.bind),IP=function(e,o){return _C(e),o===void 0?e:Yye?Yye(e,o):function(){return e.apply(o,arguments)}},PW=Array.isArray||function(e){return zv(e)=="Array"},ike=function(){},YZe=[],ake=H4("Reflect","construct"),Lde=/^\s*(?:class|function)\b/,XZe=vs(Lde.exec),JZe=!Lde.exec(ike),lN=function(e){if(!oa(e))return!1;try{return ake(ike,YZe,e),!0}catch{return!1}},Hde=!ake||Ra(function(){var e;return lN(lN.call)||!lN(Object)||!lN(function(){e=!0})||e})?function(e){if(!oa(e))return!1;switch(aZ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return JZe||!!XZe(Lde,rZ(e))}:lN,QZe=Sc("species"),Xye=Eo.Array,eGe=function(e,o){return new(function(s){var l;return PW(s)&&(l=s.constructor,(Hde(l)&&(l===Xye||PW(l.prototype))||Ka(l)&&(l=l[QZe])===null)&&(l=void 0)),l===void 0?Xye:l}(e))(o===0?0:o)},Jye=vs([].push),Vw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=oZ(b),N=_de(F),$=IP(S,x),D=AF(N),O=0,P=T||eGe,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:Jye(I,E)}else switch(e){case 4:return!1;case 7:Jye(I,E)}return d?-1:l||c?c:I}},jde={forEach:Vw(0),map:Vw(1),filter:Vw(2),some:Vw(3),every:Vw(4),find:Vw(5),findIndex:Vw(6),filterReject:Vw(7)},tGe=jde.find,Qye=!0;"find"in[]&&Array(1).find(function(){Qye=!1}),Qd({target:"Array",proto:!0,forced:Qye},{find:function(e){return tGe(this,e,arguments.length>1?arguments[1]:void 0)}}),JN("find");var nGe=Mde?{}.toString:function(){return"[object "+aZ(this)+"]"};function e2e(e,o,s,l){return o===void 0&&(o=""),s===void 0&&(s="auto"),l===void 0&&(l="auto"),{type:"video",src:e,poster:o,width:s,height:l,children:[{text:""}]}}Mde||rp(Object.prototype,"toString",nGe,{unsafe:!0});var t2e,Ase,oGe={selector:'div[data-w-e-type="video"]',parseElemHtml:function(e,o,s){var l=_t(e),c="",d="",p="auto",v="auto",b=l.find("iframe");if(b.length>0)return p=b.attr("width")||"auto",v=b.attr("height")||"auto",e2e(c=b[0].outerHTML,d,p,v);var S=l.find("video");return(c=S.attr("src")||"")||S.length>0&&(c=S.find("source").attr("src")||""),p=S.attr("width")||"auto",v=S.attr("height")||"auto",e2e(c,d=S.attr("poster")||"",p,v)}},lke=function(){var e=Nu(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},zde=Eo.RegExp,sce=Ra(function(){var e=zde("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),rGe=sce||Ra(function(){return!zde("a","y").sticky}),sGe={BROKEN_CARET:sce||Ra(function(){var e=zde("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:rGe,UNSUPPORTED_Y:sce},iGe=Eo.RegExp,aGe=Ra(function(){var e=iGe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),lGe=Eo.RegExp,cGe=Ra(function(){var e=lGe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),uGe=up.get,fGe=Bde("native-string-replace",String.prototype.replace),FW=RegExp.prototype.exec,ice=FW,dGe=vs("".charAt),hGe=vs("".indexOf),pGe=vs("".replace),Tse=vs("".slice),Ose=(Ase=/b*/g,xa(FW,t2e=/a/,"a"),xa(FW,Ase,"a"),t2e.lastIndex!==0||Ase.lastIndex!==0),n2e=sGe.BROKEN_CARET,_se=/()??/.exec("")[1]!==void 0;(Ose||_se||n2e||aGe||cGe)&&(ice=function(e){var o,s,l,c,d,p,v,b=this,S=uGe(b),x=ag(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=xa(ice,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=n2e&&b.sticky,F=xa(lke,b),N=b.source,$=0,D=x;if(k&&(F=pGe(F,"y",""),hGe(F,"g")===-1&&(F+="g"),D=Tse(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&dGe(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),_se&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Ose&&(l=b.lastIndex),c=xa(FW,k?s:b,D),k?c?(c.input=Tse(c.input,$),c[0]=Tse(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:Ose&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),_se&&c&&c.length>1&&xa(fGe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=Ide(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var RW=ice;Qd({target:"RegExp",proto:!0,forced:/./.exec!==RW},{exec:RW});var Vde=Function.prototype,o2e=Vde.apply,gGe=Vde.bind,r2e=Vde.call,cke=typeof Reflect=="object"&&Reflect.apply||(gGe?r2e.bind(o2e):function(){return r2e.apply(o2e,arguments)}),mGe=Sc("species"),$se=RegExp.prototype,vGe=vs("".charAt),s2e=vs("".charCodeAt),bGe=vs("".slice),i2e=function(e){return function(o,s){var l,c,d=ag(kF(o)),p=iZ(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=s2e(d,p))<55296||l>56319||p+1===v||(c=s2e(d,p+1))<56320||c>57343?e?vGe(d,p):l:e?bGe(d,p,p+2):c-56320+(l-55296<<10)+65536}},uke={codeAt:i2e(!1),charAt:i2e(!0)},yGe=uke.charAt,wGe=function(e,o,s){return o+(s?yGe(e,o).length:1)},CGe=Math.floor,Dse=vs("".charAt),SGe=vs("".replace),Bse=vs("".slice),xGe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,EGe=/\$([$&'`]|\d{1,2})/g,kGe=function(e,o,s,l,c,d){var p=s+e.length,v=l.length,b=EGe;return c!==void 0&&(c=oZ(c),b=xGe),SGe(d,b,function(S,x){var T;switch(Dse(x,0)){case"$":return"$";case"&":return e;case"`":return Bse(o,0,s);case"'":return Bse(o,p);case"<":T=c[Bse(x,1,-1)];break;default:var E=+x;if(E===0)return S;if(E>v){var k=CGe(E/10);return k===0?S:k<=v?l[k-1]===void 0?Dse(x,1):l[k-1]+Dse(x,1):S}T=l[E-1]}return T===void 0?"":T})},AGe=Eo.TypeError,TGe=function(e,o){var s=e.exec;if(oa(s)){var l=xa(s,e,o);return l!==null&&Nu(l),l}if(zv(e)==="RegExp")return xa(RW,e,o);throw AGe("RegExp#exec called on incompatible receiver")},ace=Sc("replace"),OGe=Math.max,_Ge=Math.min,$Ge=vs([].concat),Nse=vs([].push),a2e=vs("".indexOf),l2e=vs("".slice),DGe="a".replace(/./,"$0")==="$0",c2e=!!/./[ace]&&/./[ace]("a","$0")==="";function fke(e){return e===void 0&&(e="r"),e+"-"+rSe()}(function(e,o,s,l){var c=Sc(e),d=!Ra(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Ra(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[mGe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=vs(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=vs(S),N=x.exec;return N===RW||N===$se.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});rp(String.prototype,e,b[0]),rp($se,c,b[1])}l&&dy($se[c],"sham",!0)})("replace",function(e,o,s){var l=c2e?"$":"$0";return[function(c,d){var p=kF(this),v=c==null?void 0:FP(c,ace);return v?xa(v,c,p,d):xa(o,ag(p),c,d)},function(c,d){var p=Nu(this),v=ag(c);if(typeof d=="string"&&a2e(d,l)===-1&&a2e(d,"$<")===-1){var b=s(o,p,v,d);if(b.done)return b.value}var S=oa(d);S||(d=ag(d));var x=p.global;if(x){var T=p.unicode;p.lastIndex=0}for(var E=[];;){var k=TGe(p,v);if(k===null||(Nse(E,k),!x))break;ag(k[0])===""&&(p.lastIndex=wGe(v,Q3e(p.lastIndex),T))}for(var F,N="",$=0,D=0;D<E.length;D++){for(var O=ag((k=E[D])[0]),P=OGe(_Ge(iZ(k.index),v.length),0),I=[],z=1;z<k.length;z++)Nse(I,(F=k[z])===void 0?F:String(F));var K=k.groups;if(S){var j=$Ge([O],I,P,v);K!==void 0&&Nse(j,K);var oe=ag(cke(d,void 0,j))}else oe=kGe(O,v,P,I,K,d);P>=$&&(N+=l2e(v,$,P)+oe,$=P+O.length)}return N+l2e(v,$)}]},!!Ra(function(){var e=/./;return e.exec=function(){var o=[];return o.groups={a:"7"},o},"".replace(e,"$<a>")!=="7"})||!DGe||c2e);var MW=Eo.Promise,IW=function(e,o,s){for(var l in o)rp(e,l,o[l],s);return e},BGe=Eo.String,NGe=Eo.TypeError,q5=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=vs(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return Nu(l),function(d){if(typeof d=="object"||oa(d))return d;throw NGe("Can't set "+BGe(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),PGe=by.f,u2e=Sc("toStringTag"),LW=function(e,o,s){e&&!Hc(e=s?e:e.prototype,u2e)&&PGe(e,u2e,{configurable:!0,value:o})},f2e=Sc("species"),FGe=Eo.TypeError,Ude=function(e,o){if(NP(o,e))return e;throw FGe("Incorrect invocation")},Z5={},RGe=Sc("iterator"),MGe=Array.prototype,IGe=Sc("iterator"),d2e=function(e){if(e!=null)return FP(e,IGe)||FP(e,"@@iterator")||Z5[aZ(e)]},LGe=Eo.TypeError,h2e=function(e,o,s){var l,c;Nu(e);try{if(!(l=FP(e,"return"))){if(o==="throw")throw s;return s}l=xa(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return Nu(l),s},HGe=Eo.TypeError,uU=function(e,o){this.stopped=e,this.result=o},p2e=uU.prototype,HW=function(e,o,s){var l,c,d,p,v,b,S,x,T=s&&s.that,E=!(!s||!s.AS_ENTRIES),k=!(!s||!s.IS_ITERATOR),F=!(!s||!s.INTERRUPTED),N=IP(o,T),$=function(O){return l&&h2e(l,"normal",O),new uU(!0,O)},D=function(O){return E?(Nu(O),F?N(O[0],O[1],$):N(O[0],O[1])):F?N(O,$):N(O)};if(k)l=e;else{if(!(c=d2e(e)))throw HGe(TW(e)+" is not iterable");if((x=c)!==void 0&&(Z5.Array===x||MGe[RGe]===x)){for(d=0,p=AF(e);p>d;d++)if((v=D(e[d]))&&NP(p2e,v))return v;return new uU(!1)}l=function(O,P){var I=arguments.length<2?d2e(O):P;if(_C(I))return Nu(xa(I,O));throw LGe(TW(O)+" is not iterable")}(e,c)}for(b=l.next;!(S=xa(b,l)).done;){try{v=D(S.value)}catch(O){h2e(l,"throw",O)}if(typeof v=="object"&&v&&NP(p2e,v))return v}return new uU(!1)},dke=Sc("iterator"),hke=!1;try{var jGe=0,g2e={next:function(){return{done:!!jGe++}},return:function(){hke=!0}};g2e[dke]=function(){return this},Array.from(g2e,function(){throw 2})}catch{}var LP,WO,m2e,Pse,pke=function(e,o){if(!o&&!hke)return!1;var s=!1;try{var l={};l[dke]=function(){return{next:function(){return{done:s=!0}}}},e(l)}catch{}return s},zGe=Eo.TypeError,VGe=Sc("species"),UGe=function(e,o){var s,l=Nu(e).constructor;return l===void 0||(s=Nu(l)[VGe])==null?o:function(c){if(Hde(c))return c;throw zGe(TW(c)+" is not a constructor")}(s)},gke=vs([].slice),mke=/(?:ipad|iphone|ipod).*applewebkit/i.test(b5),dC=zv(Eo.process)=="process",lce=Eo.setImmediate,cce=Eo.clearImmediate,WGe=Eo.process,Fse=Eo.Dispatch,qGe=Eo.Function,v2e=Eo.MessageChannel,ZGe=Eo.String,Rse=0,QN={};try{LP=Eo.location}catch{}var Wde=function(e){if(Hc(QN,e)){var o=QN[e];delete QN[e],o()}},Mse=function(e){return function(){Wde(e)}},b2e=function(e){Wde(e.data)},y2e=function(e){Eo.postMessage(ZGe(e),LP.protocol+"//"+LP.host)};lce&&cce||(lce=function(e){var o=gke(arguments,1);return QN[++Rse]=function(){cke(oa(e)?e:qGe(e),void 0,o)},WO(Rse),Rse},cce=function(e){delete QN[e]},dC?WO=function(e){WGe.nextTick(Mse(e))}:Fse&&Fse.now?WO=function(e){Fse.now(Mse(e))}:v2e&&!mke?(Pse=(m2e=new v2e).port2,m2e.port1.onmessage=b2e,WO=IP(Pse.postMessage,Pse)):Eo.addEventListener&&oa(Eo.postMessage)&&!Eo.importScripts&&LP&&LP.protocol!=="file:"&&!Ra(y2e)?(WO=y2e,Eo.addEventListener("message",b2e,!1)):WO="onreadystatechange"in RP("script")?function(e){nce.appendChild(RP("script")).onreadystatechange=function(){nce.removeChild(this),Wde(e)}}:function(e){setTimeout(Mse(e),0)});var cN,t4,eP,r5,Ise,Lse,Hse,w2e,vke={set:lce,clear:cce},GGe=/ipad|iphone|ipod/i.test(b5)&&Eo.Pebble!==void 0,KGe=/web0s(?!.*chrome)/i.test(b5),YGe=Fde.f,jse=vke.set,C2e=Eo.MutationObserver||Eo.WebKitMutationObserver,S2e=Eo.document,x2e=Eo.process,kV=Eo.Promise,E2e=YGe(Eo,"queueMicrotask"),bke=E2e&&E2e.value;bke||(cN=function(){var e,o;for(dC&&(e=x2e.domain)&&e.exit();t4;){o=t4.fn,t4=t4.next;try{o()}catch(s){throw t4?r5():eP=void 0,s}}eP=void 0,e&&e.enter()},mke||dC||KGe||!C2e||!S2e?!GGe&&kV&&kV.resolve?((Hse=kV.resolve(void 0)).constructor=kV,w2e=IP(Hse.then,Hse),r5=function(){w2e(cN)}):dC?r5=function(){x2e.nextTick(cN)}:(jse=IP(jse,Eo),r5=function(){jse(cN)}):(Ise=!0,Lse=S2e.createTextNode(""),new C2e(cN).observe(Lse,{characterData:!0}),r5=function(){Lse.data=Ise=!Ise}));var zse,k2e,yke,A2e,wke=bke||function(e){var o={fn:e,next:void 0};eP&&(eP.next=o),t4||(t4=o,r5()),eP=o},XGe=function(e){var o,s;this.promise=new e(function(l,c){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=c}),this.resolve=_C(o),this.reject=_C(s)},qde={f:function(e){return new XGe(e)}},uce=function(e){try{return{error:!1,value:e()}}catch(o){return{error:!0,value:o}}},JGe=typeof window=="object",Cke=vke.set,QGe=Sc("species"),Nv="Promise",T2e=up.getterFor(Nv),eKe=up.set,tKe=up.getterFor(Nv),YE=MW&&MW.prototype,Mv=MW,uN=YE,Ske=Eo.TypeError,fce=Eo.document,Zde=Eo.process,y5=qde.f,nKe=y5,oKe=!!(fce&&fce.createEvent&&Eo.dispatchEvent),xke=oa(Eo.PromiseRejectionEvent),Eke=!1,tP=BW(Nv,function(){var e=rZ(Mv),o=e!==String(Mv);if(!o&&PP===66)return!0;if(PP>=51&&/native code/.test(e))return!1;var s=new Mv(function(c){c(1)}),l=function(c){c(function(){},function(){})};return(s.constructor={})[QGe]=l,!(Eke=s.then(function(){})instanceof l)||!o&&JGe&&!xke}),rKe=tP||!pke(function(e){Mv.all(e).catch(function(){})}),kke=function(e){var o;return!(!Ka(e)||!oa(o=e.then))&&o},Gde=function(e,o){if(!e.notified){e.notified=!0;var s=e.reactions;wke(function(){for(var l=e.value,c=e.state==1,d=0;s.length>d;){var p,v,b,S=s[d++],x=c?S.ok:S.fail,T=S.resolve,E=S.reject,k=S.domain;try{x?(c||(e.rejection===2&&iKe(e),e.rejection=1),x===!0?p=l:(k&&k.enter(),p=x(l),k&&(k.exit(),b=!0)),p===S.promise?E(Ske("Promise-chain cycle")):(v=kke(p))?xa(v,p,T,E):T(p)):E(l)}catch(F){k&&!b&&k.exit(),E(F)}}e.reactions=[],e.notified=!1,o&&!e.rejection&&sKe(e)})}},Ake=function(e,o,s){var l,c;oKe?((l=fce.createEvent("Event")).promise=o,l.reason=s,l.initEvent(e,!1,!0),Eo.dispatchEvent(l)):l={promise:o,reason:s},!xke&&(c=Eo["on"+e])?c(l):e==="unhandledrejection"&&function(d,p){var v=Eo.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,p))}("Unhandled promise rejection",s)},sKe=function(e){xa(Cke,Eo,function(){var o,s=e.facade,l=e.value;if(O2e(e)&&(o=uce(function(){dC?Zde.emit("unhandledRejection",l,s):Ake("unhandledrejection",s,l)}),e.rejection=dC||O2e(e)?2:1,o.error))throw o.value})},O2e=function(e){return e.rejection!==1&&!e.parent},iKe=function(e){xa(Cke,Eo,function(){var o=e.facade;dC?Zde.emit("rejectionHandled",o):Ake("rejectionhandled",o,e.value)})},u5=function(e,o,s){return function(l){e(o,l,s)}},w5=function(e,o,s){e.done||(e.done=!0,s&&(e=s),e.value=o,e.state=2,Gde(e,!0))},dce=function(e,o,s){if(!e.done){e.done=!0,s&&(e=s);try{if(e.facade===o)throw Ske("Promise can't be resolved itself");var l=kke(o);l?wke(function(){var c={done:!1};try{xa(l,o,u5(dce,c,e),u5(w5,c,e))}catch(d){w5(c,d,e)}}):(e.value=o,e.state=1,Gde(e,!1))}catch(c){w5({done:!1},c,e)}}};if(tP&&(uN=(Mv=function(e){Ude(this,uN),_C(e),xa(zse,this);var o=T2e(this);try{e(u5(dce,o),u5(w5,o))}catch(s){w5(o,s)}}).prototype,(zse=function(e){eKe(this,{type:Nv,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=IW(uN,{then:function(e,o){var s=tKe(this),l=s.reactions,c=y5(UGe(this,Mv));return c.ok=!oa(e)||e,c.fail=oa(o)&&o,c.domain=dC?Zde.domain:void 0,s.parent=!0,l[l.length]=c,s.state!=0&&Gde(s,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),k2e=function(){var e=new zse,o=T2e(e);this.promise=e,this.resolve=u5(dce,o),this.reject=u5(w5,o)},qde.f=y5=function(e){return e===Mv||e===yke?new k2e(e):nKe(e)},oa(MW)&&YE!==Object.prototype)){A2e=YE.then,Eke||(rp(YE,"then",function(e,o){var s=this;return new Mv(function(l,c){xa(A2e,s,l,c)}).then(e,o)},{unsafe:!0}),rp(YE,"catch",uN.catch,{unsafe:!0}));try{delete YE.constructor}catch{}q5&&q5(YE,uN)}function HP(e,o,s){return s===void 0&&(s=""),eZ(this,void 0,void 0,function(){var l,c,d,p,v,b,S;return tZ(this,function(x){switch(x.label){case 0:return o?(e.restoreSelection(),l=e.getMenuConfig("insertVideo"),c=l.onInsertedVideo,d=l.checkVideo,p=l.parseVideoSrc,[4,d(o,s)]):[2];case 1:return typeof(v=x.sent())=="string"?(e.alert(v,"error"),[2]):v==null?[2]:[4,p(o)];case 2:return(b=x.sent()).trim().indexOf("<iframe ")!==0&&(b=b.replace(/</g,"&lt;").replace(/>/g,"&gt;")),S={type:"video",src:b,poster:s,children:[{text:""}]},Promise.resolve().then(function(){Qt.insertNodes(e,S)}),c(S),[2]}})})}function Vse(){return fke("w-e-insert-video")}Qd({global:!0,wrap:!0,forced:tP},{Promise:Mv}),LW(Mv,Nv,!1),function(e){var o=H4(e),s=by.f;Zv&&o&&!o[f2e]&&s(o,f2e,{configurable:!0,get:function(){return this}})}(Nv),yke=H4(Nv),Qd({target:Nv,stat:!0,forced:tP},{reject:function(e){var o=y5(this);return xa(o.reject,void 0,e),o.promise}}),Qd({target:Nv,stat:!0,forced:tP},{resolve:function(e){return function(o,s){if(Nu(o),Ka(s)&&s.constructor===o)return s;var l=qde.f(o);return(0,l.resolve)(s),l.promise}(this,e)}}),Qd({target:Nv,stat:!0,forced:rKe},{all:function(e){var o=this,s=y5(o),l=s.resolve,c=s.reject,d=uce(function(){var p=_C(o.resolve),v=[],b=0,S=1;HW(e,function(x){var T=b++,E=!1;S++,xa(p,o,x).then(function(k){E||(E=!0,v[T]=k,--S||l(v))},c)}),--S||l(v)});return d.error&&c(d.value),s.promise},race:function(e){var o=this,s=y5(o),l=s.reject,c=uce(function(){var d=_C(o.resolve);HW(e,function(p){xa(d,o,p).then(s.resolve,l)})});return c.error&&l(c.value),s.promise}});var aKe=function(){function e(){this.title=Co("videoModule.insertVideo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=Vse(),this.posterInputId=Vse(),this.buttonId=Vse()}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||!!wt.getSelectedElems(o).some(function(l){var c=wt.getNodeType(l);return c==="pre"||c==="list-item"||!!o.isVoid(l)})},e.prototype.getModalPositionNode=function(o){return null},e.prototype.getModalContentElem=function(o){var s=this,l=this,c=l.srcInputId,d=l.posterInputId,p=l.buttonId,v=S4(op(Co("videoModule.videoSrc"),c,Co("videoModule.videoSrcPlaceHolder")),2),b=v[0],S=v[1],x=S4(op(Co("videoModule.videoPoster"),d,Co("videoModule.videoPosterPlaceHolder")),2),T=x[0],E=x[1],k=_t(S),F=_t(E),N=S4(r_(p,Co("videoModule.ok")),1)[0];if(this.$content==null){var $=_t("<div></div>");$.on("click","#"+p,function(O){return eZ(s,void 0,void 0,function(){var P,I;return tZ(this,function(z){switch(z.label){case 0:return O.preventDefault(),P=$.find("#"+c).val().trim(),I=$.find("#"+d).val().trim(),[4,HP(o,P,I)];case 1:return z.sent(),o.hidePanelOrModal(),[2]}})})}),this.$content=$}var D=this.$content;return D.empty(),D.append(b),D.append(T),D.append(N),k.val(""),F.val(""),setTimeout(function(){k.focus()}),D[0]},e}(),lKe=vs([].join),cKe=_de!=Object,uKe=function(e,o){var s=[][e];return!!s&&Ra(function(){s.call(null,o||function(){throw 1},1)})}("join",",");Qd({target:"Array",proto:!0,forced:cKe||!uKe},{join:function(e){return lKe(FC(this),e===void 0?",":e)}});var E4,_2e,$2e,fKe=!Ra(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),D2e=Rde("IE_PROTO"),hce=Eo.Object,dKe=hce.prototype,jW=fKe?hce.getPrototypeOf:function(e){var o=oZ(e);if(Hc(o,D2e))return o[D2e];var s=o.constructor;return oa(s)&&o instanceof s?s.prototype:o instanceof hce?dKe:null},pce=Sc("iterator"),Tke=!1;[].keys&&("next"in($2e=[].keys())?(_2e=jW(jW($2e)))!==Object.prototype&&(E4=_2e):Tke=!0);var hKe=E4==null||Ra(function(){var e={};return E4[pce].call(e)!==e});hKe&&(E4={}),oa(E4[pce])||rp(E4,pce,function(){return this});var Kde={IteratorPrototype:E4,BUGGY_SAFARI_ITERATORS:Tke},pKe=Kde.IteratorPrototype,gKe=function(){return this},mKe=p_.PROPER,vKe=p_.CONFIGURABLE,B2e=Kde.IteratorPrototype,AV=Kde.BUGGY_SAFARI_ITERATORS,fN=Sc("iterator"),bKe=function(){return this},Oke=function(e,o,s,l,c,d,p){(function(D,O,P,I){var z=O+" Iterator";D.prototype=Ide(pKe,{next:nZ(+!I,P)}),LW(D,z,!1),Z5[z]=gKe})(s,o,l);var v,b,S,x=function(D){if(D===c&&N)return N;if(!AV&&D in k)return k[D];switch(D){case"keys":case"values":case"entries":return function(){return new s(this,D)}}return function(){return new s(this)}},T=o+" Iterator",E=!1,k=e.prototype,F=k[fN]||k["@@iterator"]||c&&k[c],N=!AV&&F||x(c),$=o=="Array"&&k.entries||F;if($&&(v=jW($.call(new e)))!==Object.prototype&&v.next&&(jW(v)!==B2e&&(q5?q5(v,B2e):oa(v[fN])||rp(v,fN,bKe)),LW(v,T,!0)),mKe&&c=="values"&&F&&F.name!=="values"&&(vKe?dy(k,"name","values"):(E=!0,N=function(){return xa(F,this)})),c)if(b={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in b)(AV||E||!(S in k))&&rp(k,S,b[S]);else Qd({target:o,proto:!0,forced:AV||E},b);return k[fN]!==N&&rp(k,fN,N,{name:c}),Z5[o]=N,b},yKe=up.set,wKe=up.getterFor("Array Iterator"),NN=Oke(Array,"Array",function(e,o){yKe(this,{type:"Array Iterator",target:FC(e),index:0,kind:o})},function(){var e=wKe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");Z5.Arguments=Z5.Array,JN("keys"),JN("values"),JN("entries");var CKe=uke.charAt,SKe=up.set,xKe=up.getterFor("String Iterator");Oke(String,"String",function(e){SKe(this,{type:"String Iterator",string:ag(e),index:0})},function(){var e,o=xKe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=CKe(s,l),o.index+=e.length,{value:e,done:!1})});var _ke=function(e,o,s){var l=Pde(o);l in e?by.f(e,l,nZ(0,s)):e[l]=s},EKe=Eo.Array,kKe=Math.max,$ke=DW.f,Dke=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],AKe=function(e){try{return $ke(e)}catch{return function(s,l,c){for(var d=AF(s),p=MP(l,d),v=MP(c===void 0?d:c,d),b=EKe(kKe(v-p,0)),S=0;p<v;p++,S++)_ke(b,S,s[p]);return b.length=S,b}(Dke)}},TKe={f:function(e){return Dke&&zv(e)=="Window"?AKe(e):$ke(FC(e))}},N2e=Ra(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),TV=Object.isExtensible,l4=Ra(function(){TV(1)})||N2e?function(e){return!!Ka(e)&&(!N2e||zv(e)!="ArrayBuffer")&&(!TV||TV(e))}:TV,OKe=!Ra(function(){return Object.isExtensible(Object.preventExtensions({}))}),Yde=Ode(function(e){var o=by.f,s=!1,l=Nde("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=DW.f,b=vs([].splice),S={};S[l]=1,v(S).length&&(DW.f=function(x){for(var T=v(x),E=0,k=T.length;E<k;E++)if(T[E]===l){b(T,E,1);break}return T},Qd({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:TKe.f}))},fastKey:function(v,b){if(!Ka(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!Hc(v,l)){if(!l4(v))return"F";if(!b)return"E";d(v)}return v[l].objectID},getWeakData:function(v,b){if(!Hc(v,l)){if(!l4(v))return!0;if(!b)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return OKe&&s&&l4(v)&&!Hc(v,l)&&d(v),v}};sZ[l]=!0}),OV=Yde.getWeakData,_Ke=up.set,$Ke=up.getterFor,DKe=jde.find,BKe=jde.findIndex,NKe=vs([].splice),PKe=0,_V=function(e){return e.frozen||(e.frozen=new Bke)},Bke=function(){this.entries=[]},Use=function(e,o){return DKe(e.entries,function(s){return s[0]===o})};Bke.prototype={get:function(e){var o=Use(this,e);if(o)return o[1]},has:function(e){return!!Use(this,e)},set:function(e,o){var s=Use(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=BKe(this.entries,function(s){return s[0]===e});return~o&&NKe(this.entries,o,1),!!~o}};var dN,Nke={getConstructor:function(e,o,s,l){var c=e(function(b,S){Ude(b,d),_Ke(b,{type:o,id:PKe++,frozen:void 0}),S!=null&&HW(S,b[l],{that:b,AS_ENTRIES:s})}),d=c.prototype,p=$Ke(o),v=function(b,S,x){var T=p(b),E=OV(Nu(S),!0);return E===!0?_V(T).set(S,x):E[T.id]=x,b};return IW(d,{delete:function(b){var S=p(this);if(!Ka(b))return!1;var x=OV(b);return x===!0?_V(S).delete(b):x&&Hc(x,S.id)&&delete x[S.id]},has:function(b){var S=p(this);if(!Ka(b))return!1;var x=OV(b);return x===!0?_V(S).has(b):x&&Hc(x,S.id)}}),IW(d,s?{get:function(b){var S=p(this);if(Ka(b)){var x=OV(b);return x===!0?_V(S).get(b):x?x[S.id]:void 0}},set:function(b,S){return v(this,b,S)}}:{add:function(b){return v(this,b,!0)}}),c}},$V=up.enforce,FKe=!Eo.ActiveXObject&&"ActiveXObject"in Eo,Pke=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},RKe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=Eo[e],v=p&&p.prototype,b=p,S={},x=function($){var D=vs(v[$]);rp(v,$,$=="add"?function(O){return D(this,O===0?0:O),this}:$=="delete"?function(O){return!(c&&!Ka(O))&&D(this,O===0?0:O)}:$=="get"?function(O){return c&&!Ka(O)?void 0:D(this,O===0?0:O)}:$=="has"?function(O){return!(c&&!Ka(O))&&D(this,O===0?0:O)}:function(O,P){return D(this,O===0?0:O,P),this})};if(BW(e,!oa(p)||!(c||v.forEach&&!Ra(function(){new p().entries().next()}))))b=s.getConstructor(o,e,l,d),Yde.enable();else if(BW(e,!0)){var T=new b,E=T[d](c?{}:-0,1)!=T,k=Ra(function(){T.has(1)}),F=pke(function($){new p($)}),N=!c&&Ra(function(){for(var $=new p,D=5;D--;)$[d](D,D);return!$.has(-0)});F||((b=o(function($,D){Ude($,v);var O=function(P,I,z){var K,j;return q5&&oa(K=I.constructor)&&K!==z&&Ka(j=K.prototype)&&j!==z.prototype&&q5(P,j),P}(new p,$,b);return D!=null&&HW(D,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=b),(k||N)&&(x("delete"),x("has"),l&&x("get")),(N||E)&&x(d),c&&v.clear&&delete v.clear}return S[e]=b,Qd({global:!0,forced:b!=p},S),LW(b,e),c||s.setStrong(b,e,l),b}("WeakMap",Pke,Nke);if(X3e&&FKe){dN=Nke.getConstructor(Pke,"WeakMap",!0),Yde.enable();var hN=RKe.prototype,P2e=vs(hN.delete),DV=vs(hN.has),F2e=vs(hN.get),R2e=vs(hN.set);IW(hN,{delete:function(e){if(Ka(e)&&!l4(e)){var o=$V(this);return o.frozen||(o.frozen=new dN),P2e(this,e)||o.frozen.delete(e)}return P2e(this,e)},has:function(e){if(Ka(e)&&!l4(e)){var o=$V(this);return o.frozen||(o.frozen=new dN),DV(this,e)||o.frozen.has(e)}return DV(this,e)},get:function(e){if(Ka(e)&&!l4(e)){var o=$V(this);return o.frozen||(o.frozen=new dN),DV(this,e)?F2e(this,e):o.frozen.get(e)}return F2e(this,e)},set:function(e,o){if(Ka(e)&&!l4(e)){var s=$V(this);s.frozen||(s.frozen=new dN),DV(this,e)?R2e(this,e,o):s.frozen.set(e,o)}else R2e(this,e,o);return this}})}var Fke={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wse=RP("span").classList,M2e=Wse&&Wse.constructor&&Wse.constructor.prototype,MKe=M2e===Object.prototype?void 0:M2e,qse=Sc("iterator"),I2e=Sc("toStringTag"),Zse=NN.values,Rke=function(e,o){if(e){if(e[qse]!==Zse)try{dy(e,qse,Zse)}catch{e[qse]=Zse}if(e[I2e]||dy(e,I2e,o),Fke[o]){for(var s in NN)if(e[s]!==NN[s])try{dy(e,s,NN[s])}catch{e[s]=NN[s]}}}};for(var Gse in Fke)Rke(Eo[Gse]&&Eo[Gse].prototype,Gse);Rke(MKe,"DOMTokenList");var IKe=p_.EXISTS,LKe=by.f,Mke=Function.prototype,HKe=vs(Mke.toString),Ike=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,jKe=vs(Ike.exec);Zv&&!IKe&&LKe(Mke,"name",{configurable:!0,get:function(){try{return jKe(Ike,HKe(this))[1]}catch{return""}}});var zKe=Sc("species"),VKe=function(e){return PP>=51||!Ra(function(){var o=[];return(o.constructor={})[zKe]=function(){return{foo:1}},o[e](Boolean).foo!==1})}("slice"),UKe=Sc("species"),Kse=Eo.Array,WKe=Math.max;function Lke(e){return e.getMenuConfig("uploadVideo")}Qd({target:"Array",proto:!0,forced:!VKe},{slice:function(e,o){var s,l,c,d=FC(this),p=AF(d),v=MP(e,p),b=MP(o===void 0?p:o,p);if(PW(d)&&(s=d.constructor,(Hde(s)&&(s===Kse||PW(s.prototype))||Ka(s)&&(s=s[UKe])===null)&&(s=void 0),s===Kse||s===void 0))return gke(d,v,b);for(l=new(s===void 0?Kse:s)(WKe(b-v,0)),c=0;v<b;v++,c++)v in d&&_ke(l,c,d[v]);return l.length=c,l}});var L2e=new WeakMap;function qKe(e,o){return eZ(this,void 0,void 0,function(){var s,l,c,d;return tZ(this,function(p){switch(p.label){case 0:return s=function(v){var b=L2e.get(v);if(b!=null)return b;var S=Lke(v),x=S.onSuccess,T=S.onProgress,E=S.onFailed,k=S.customInsert,F=S.onError;return b=aEe(AW(AW({},S),{onProgress:function(N){v.showProgressBar(N),T&&T(N)},onSuccess:function(N,$){if(k)return k($,function(oe,xe){return HP(v,oe,xe)}),void x(N,$);var D=$.errno,O=D===void 0?1:D,P=$.data,I=P===void 0?{}:P;if(O===0){var z=I.url,K=z===void 0?"":z,j=I.poster;HP(v,K,j===void 0?"":j),x(N,$)}else E(N,$)},onError:function(N,$,D){F(N,$,D)}})),L2e.set(v,b),b}(e),l=o.name,c=o.type,d=o.size,s.addFile({name:l,type:c,size:d,data:o}),[4,s.upload()];case 1:return p.sent(),[2]}})})}var ZKe=function(){function e(){this.title=Co("videoModule.uploadVideo"),this.iconSvg='<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){var l=this.getMenuConfig(o),c=l.allowedFileTypes,d=c===void 0?[]:c,p=l.customBrowseAndUpload;if(p)p(function(x,T){return HP(o,x,T)});else{var v="";d.length>0&&(v='accept="'+d.join(", ")+'"');var b=_t("body"),S=_t('<input type="file" '+v+" multiple/>");S.hide(),b.append(S),S.click(),S.on("change",function(){var x=S[0].files;(function(T,E){var k,F;eZ(this,void 0,void 0,function(){var N,$,D,O,P,I;return tZ(this,function(z){switch(z.label){case 0:if(E==null)return[2];N=Array.prototype.slice.call(E),$=Lke(T).customUpload,z.label=1;case 1:z.trys.push([1,9,10,15]),D=jqe(N),z.label=2;case 2:return[4,D.next()];case 3:return(O=z.sent()).done?[3,8]:(P=O.value,$?[4,$(P,function(K,j){return HP(T,K,j)})]:[3,5]);case 4:return z.sent(),[3,7];case 5:return[4,qKe(T,P)];case 6:z.sent(),z.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return I=z.sent(),k={error:I},[3,15];case 10:return z.trys.push([10,,13,14]),O&&!O.done&&(F=D.return)?[4,F.call(D)]:[3,12];case 11:z.sent(),z.label=12;case 12:return[3,14];case 13:if(k)throw k.error;return[7];case 14:return[7];case 15:return[2]}})})})(o,x)})}},e.prototype.isDisabled=function(o){var s=o.selection;return s==null||!gn.isCollapsed(s)||!!wt.getSelectedElems(o).some(function(l){var c=wt.getNodeType(l);return c==="pre"||c==="list-item"||!!o.isVoid(l)})},e.prototype.getMenuConfig=function(o){return o.getMenuConfig("uploadVideo")},e}(),GKe=p_.PROPER,gce=RegExp.prototype,Hke=gce.toString,KKe=vs(lke),YKe=Ra(function(){return Hke.call({source:"a",flags:"b"})!="/a/b"}),XKe=GKe&&Hke.name!="toString";function Yse(){return fke("w-e-insert-video")}(YKe||XKe)&&rp(RegExp.prototype,"toString",function(){var e=Nu(this),o=ag(e.source),s=e.flags;return"/"+o+"/"+ag(s===void 0&&NP(gce,e)&&!("flags"in gce)?KKe(e):s)},{unsafe:!0});var JKe=function(){function e(){this.title=Co("videoModule.editSize"),this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.widthInputId=Yse(),this.heightInputId=Yse(),this.buttonId=Yse()}return e.prototype.getSelectedVideoNode=function(o){return wt.getSelectedNodeByType(o,"video")},e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.exec=function(o,s){},e.prototype.isDisabled=function(o){return o.selection==null||this.getSelectedVideoNode(o)==null},e.prototype.getModalPositionNode=function(o){return this.getSelectedVideoNode(o)},e.prototype.getModalContentElem=function(o){var s=this,l=s.widthInputId,c=s.heightInputId,d=s.buttonId,p=S4(op(Co("videoModule.width"),l,"auto"),2),v=p[0],b=p[1],S=_t(b),x=S4(op(Co("videoModule.height"),c,"auto"),2),T=x[0],E=x[1],k=_t(E),F=S4(r_(d,Co("videoModule.ok")),1)[0];if(this.$content==null){var N=_t("<div></div>");N.on("click","#"+d,function(K){K.preventDefault();var j=N.find("#"+l).val().trim(),oe=N.find("#"+c).val().trim(),xe=parseInt(j),se=parseInt(oe),Q=xe?xe.toString():"auto",G=se?se.toString():"auto";o.restoreSelection(),Qt.setNodes(o,{width:Q,height:G},{match:function(ce){return wt.checkNodeType(ce,"video")}}),o.hidePanelOrModal()}),this.$content=N}var $=this.$content;$.empty(),$.append(v),$.append(T),$.append(F);var D=this.getSelectedVideoNode(o);if(D==null)return $[0];var O=D.width,P=O===void 0?"auto":O,I=D.height,z=I===void 0?"auto":I;return S.val(P),k.val(z),setTimeout(function(){S.focus()}),$[0]},e}(),QKe={renderElems:[UZe],elemsToHtml:[WZe],preParseHtml:[KZe],parseElemsHtml:[oGe],menus:[{key:"insertVideo",factory:function(){return new aKe},config:{onInsertedVideo:function(e){},checkVideo:function(e,o){return!0},parseVideoSrc:function(e){return e}}},{key:"uploadVideo",factory:function(){return new ZKe},config:{server:"",fieldName:"wangeditor-uploaded-video",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["video/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(e){return e},onProgress:function(e){},onSuccess:function(e,o){},onFailed:function(e,o){console.error("'"+e.name+"' upload failed",o)},onError:function(e,o,s){console.error("'"+e.name+" upload error",o,s)}}},{key:"editVideoSize",factory:function(){return new JKe}}],editorPlugin:function(e){var o=e.isVoid,s=e.normalizeNode,l=e;return l.isVoid=function(c){return c.type==="video"||o(c)},l.normalizeNode=function(c){var d=S4(c,2),p=d[0],v=d[1];return wt.getNodeType(p)==="video"&&wt.isLastNode(l,p)&&Qt.insertNodes(l,wt.genEmptyParagraph(),{at:[v[0]+1]}),s([p,v])},l}};nh("en",{uploadImgModule:{uploadImage:"Upload Image",uploadError:"{{fileName}} upload error"}}),nh("zh-CN",{uploadImgModule:{uploadImage:"\u4E0A\u4F20\u56FE\u7247",uploadError:"{{fileName}} \u4E0A\u4F20\u51FA\u9519"}});var H2e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xde(e){var o={exports:{}};return e(o,o.exports),o.exports}var Uw,fU,BV=function(e){return e&&e.Math==Math&&e},xo=BV(typeof globalThis=="object"&&globalThis)||BV(typeof window=="object"&&window)||BV(typeof self=="object"&&self)||BV(typeof H2e=="object"&&H2e)||function(){return this}()||Function("return this")(),Ya=function(e){try{return!!e()}catch{return!0}},Gv=!Ya(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),pN=Function.prototype.call,Wi=pN.bind?pN.bind(pN):function(){return pN.apply(pN,arguments)},j2e={}.propertyIsEnumerable,z2e=Object.getOwnPropertyDescriptor,eYe={f:z2e&&!j2e.call({1:2},1)?function(e){var o=z2e(this,e);return!!o&&o.enumerable}:j2e},lZ=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},jke=Function.prototype,mce=jke.bind,vce=jke.call,tYe=mce&&mce.bind(vce),Ms=mce?function(e){return e&&tYe(vce,e)}:function(e){return e&&function(){return vce.apply(e,arguments)}},nYe=Ms({}.toString),oYe=Ms("".slice),Wm=function(e){return oYe(nYe(e),8,-1)},Xse=xo.Object,rYe=Ms("".split),Jde=Ya(function(){return!Xse("z").propertyIsEnumerable(0)})?function(e){return Wm(e)=="String"?rYe(e,""):Xse(e)}:Xse,sYe=xo.TypeError,jP=function(e){if(e==null)throw sYe("Can't call method on "+e);return e},RC=function(e){return Jde(jP(e))},ua=function(e){return typeof e=="function"},Fa=function(e){return typeof e=="object"?e!==null:ua(e)},iYe=function(e){return ua(e)?e:void 0},j4=function(e,o){return arguments.length<2?iYe(xo[e]):xo[e]&&xo[e][o]},zP=Ms({}.isPrototypeOf),C5=j4("navigator","userAgent")||"",V2e=xo.process,U2e=xo.Deno,W2e=V2e&&V2e.versions||U2e&&U2e.version,q2e=W2e&&W2e.v8;q2e&&(fU=(Uw=q2e.split("."))[0]>0&&Uw[0]<4?1:+(Uw[0]+Uw[1])),!fU&&C5&&(!(Uw=C5.match(/Edge\/(\d+)/))||Uw[1]>=74)&&(Uw=C5.match(/Chrome\/(\d+)/))&&(fU=+Uw[1]);var VP=fU,bce=!!Object.getOwnPropertySymbols&&!Ya(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&VP&&VP<41}),Qde=bce&&!Symbol.sham&&typeof Symbol.iterator=="symbol",aYe=xo.Object,yce=Qde?function(e){return typeof e=="symbol"}:function(e){var o=j4("Symbol");return ua(o)&&zP(o.prototype,aYe(e))},lYe=xo.String,zW=function(e){try{return lYe(e)}catch{return"Object"}},cYe=xo.TypeError,$C=function(e){if(ua(e))return e;throw cYe(zW(e)+" is not a function")},UP=function(e,o){var s=e[o];return s==null?void 0:$C(s)},uYe=xo.TypeError,fYe=Object.defineProperty,ehe=function(e,o){try{fYe(xo,e,{value:o,configurable:!0,writable:!0})}catch{xo[e]=o}return o},hC=xo["__core-js_shared__"]||ehe("__core-js_shared__",{}),the=Xde(function(e){(e.exports=function(o,s){return hC[o]||(hC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),dYe=xo.Object,nhe=function(e){return dYe(jP(e))},hYe=Ms({}.hasOwnProperty),jc=Object.hasOwn||function(e,o){return hYe(nhe(e),o)},pYe=0,gYe=Math.random(),mYe=Ms(1 .toString),ohe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+mYe(++pYe+gYe,36)},gN=the("wks"),k4=xo.Symbol,Z2e=k4&&k4.for,vYe=Qde?k4:k4&&k4.withoutSetter||ohe,xc=function(e){if(!jc(gN,e)||!bce&&typeof gN[e]!="string"){var o="Symbol."+e;bce&&jc(k4,e)?gN[e]=k4[e]:gN[e]=Qde&&Z2e?Z2e(o):vYe(o)}return gN[e]},bYe=xo.TypeError,yYe=xc("toPrimitive"),wYe=function(e,o){if(!Fa(e)||yce(e))return e;var s,l=UP(e,yYe);if(l){if(o===void 0&&(o="default"),s=Wi(l,e,o),!Fa(s)||yce(s))return s;throw bYe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&ua(p=c.toString)&&!Fa(v=Wi(p,c))||ua(p=c.valueOf)&&!Fa(v=Wi(p,c))||d!=="string"&&ua(p=c.toString)&&!Fa(v=Wi(p,c)))return v;throw uYe("Can't convert object to primitive value")}(e,o)},rhe=function(e){var o=wYe(e,"string");return yce(o)?o:o+""},wce=xo.document,CYe=Fa(wce)&&Fa(wce.createElement),WP=function(e){return CYe?wce.createElement(e):{}},zke=!Gv&&!Ya(function(){return Object.defineProperty(WP("div"),"a",{get:function(){return 7}}).a!=7}),G2e=Object.getOwnPropertyDescriptor,she={f:Gv?G2e:function(e,o){if(e=RC(e),o=rhe(o),zke)try{return G2e(e,o)}catch{}if(jc(e,o))return lZ(!Wi(eYe.f,e,o),e[o])}},SYe=xo.String,xYe=xo.TypeError,Pu=function(e){if(Fa(e))return e;throw xYe(SYe(e)+" is not an object")},EYe=xo.TypeError,K2e=Object.defineProperty,yy={f:Gv?K2e:function(e,o,s){if(Pu(e),o=rhe(o),Pu(s),zke)try{return K2e(e,o,s)}catch{}if("get"in s||"set"in s)throw EYe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},Vv=Gv?function(e,o,s){return yy.f(e,o,lZ(1,s))}:function(e,o,s){return e[o]=s,e},kYe=Ms(Function.toString);ua(hC.inspectSource)||(hC.inspectSource=function(e){return kYe(e)});var VW,nP,UW,cZ=hC.inspectSource,Y2e=xo.WeakMap,Vke=ua(Y2e)&&/native code/.test(cZ(Y2e)),X2e=the("keys"),ihe=function(e){return X2e[e]||(X2e[e]=ohe(e))},uZ={},Cce=xo.TypeError,AYe=xo.WeakMap;if(Vke||hC.state){var UE=hC.state||(hC.state=new AYe),TYe=Ms(UE.get),J2e=Ms(UE.has),OYe=Ms(UE.set);VW=function(e,o){if(J2e(UE,e))throw new Cce("Object already initialized");return o.facade=e,OYe(UE,e,o),o},nP=function(e){return TYe(UE,e)||{}},UW=function(e){return J2e(UE,e)}}else{var qO=ihe("state");uZ[qO]=!0,VW=function(e,o){if(jc(e,qO))throw new Cce("Object already initialized");return o.facade=e,Vv(e,qO,o),o},nP=function(e){return jc(e,qO)?e[qO]:{}},UW=function(e){return jc(e,qO)}}var fp={set:VW,get:nP,has:UW,enforce:function(e){return UW(e)?nP(e):VW(e,{})},getterFor:function(e){return function(o){var s;if(!Fa(o)||(s=nP(o)).type!==e)throw Cce("Incompatible receiver, "+e+" required");return s}}},Uke=Function.prototype,_Ye=Gv&&Object.getOwnPropertyDescriptor,Jse=jc(Uke,"name"),OF={EXISTS:Jse,PROPER:Jse&&function(){}.name==="something",CONFIGURABLE:Jse&&(!Gv||Gv&&_Ye(Uke,"name").configurable)},sp=Xde(function(e){var o=OF.CONFIGURABLE,s=fp.get,l=fp.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;ua(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!jc(v,"name")||o&&v.name!==k)&&Vv(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==xo?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:Vv(d,p,v)):T?d[p]=v:ehe(p,v)})(Function.prototype,"toString",function(){return ua(this)&&s(this).source||cZ(this)})}),$Ye=Math.ceil,DYe=Math.floor,ahe=function(e){var o=+e;return o!=o||o===0?0:(o>0?DYe:$Ye)(o)},BYe=Math.max,NYe=Math.min,qP=function(e,o){var s=ahe(e);return s<0?BYe(s+o,0):NYe(s,o)},PYe=Math.min,Wke=function(e){return e>0?PYe(ahe(e),9007199254740991):0},_F=function(e){return Wke(e.length)},Q2e=function(e){return function(o,s,l){var c,d=RC(o),p=_F(d),v=qP(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},FYe={includes:Q2e(!0),indexOf:Q2e(!1)}.indexOf,ewe=Ms([].push),qke=function(e,o){var s,l=RC(e),c=0,d=[];for(s in l)!jc(uZ,s)&&jc(l,s)&&ewe(d,s);for(;o.length>c;)jc(l,s=o[c++])&&(~FYe(d,s)||ewe(d,s));return d},WW=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],RYe=WW.concat("length","prototype"),qW={f:Object.getOwnPropertyNames||function(e){return qke(e,RYe)}},MYe={f:Object.getOwnPropertySymbols},IYe=Ms([].concat),LYe=j4("Reflect","ownKeys")||function(e){var o=qW.f(Pu(e)),s=MYe.f;return s?IYe(o,s(e)):o},HYe=function(e,o){for(var s=LYe(o),l=yy.f,c=she.f,d=0;d<s.length;d++){var p=s[d];jc(e,p)||l(e,p,c(o,p))}},jYe=/#|\.prototype\./,$F=function(e,o){var s=VYe[zYe(e)];return s==WYe||s!=UYe&&(ua(o)?Ya(o):!!o)},zYe=$F.normalize=function(e){return String(e).replace(jYe,".").toLowerCase()},VYe=$F.data={},UYe=$F.NATIVE="N",WYe=$F.POLYFILL="P",ZW=$F,qYe=she.f,Iv=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?xo:S?xo[v]||ehe(v,{}):(xo[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=qYe(s,l))&&p.value:s[l],!ZW(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;HYe(d,c)}(e.sham||c&&c.sham)&&Vv(d,"sham",!0),sp(s,l,d,e)}},GW=Array.isArray||function(e){return Wm(e)=="Array"},Zke={};Zke[xc("toStringTag")]="z";var twe,lhe=String(Zke)==="[object z]",ZYe=xc("toStringTag"),GYe=xo.Object,KYe=Wm(function(){return arguments}())=="Arguments",fZ=lhe?Wm:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=GYe(e),ZYe))=="string"?s:KYe?Wm(o):(l=Wm(o))=="Object"&&ua(o.callee)?"Arguments":l},Gke=function(){},YYe=[],Kke=j4("Reflect","construct"),che=/^\s*(?:class|function)\b/,XYe=Ms(che.exec),JYe=!che.exec(Gke),mN=function(e){if(!ua(e))return!1;try{return Kke(Gke,YYe,e),!0}catch{return!1}},uhe=!Kke||Ya(function(){var e;return mN(mN.call)||!mN(Object)||!mN(function(){e=!0})||e})?function(e){if(!ua(e))return!1;switch(fZ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return JYe||!!XYe(che,cZ(e))}:mN,Yke=function(e,o,s){var l=rhe(o);l in e?yy.f(e,l,lZ(0,s)):e[l]=s},QYe=xc("species"),Xke=Ms([].slice),eXe=(twe="slice",VP>=51||!Ya(function(){var e=[];return(e.constructor={})[QYe]=function(){return{foo:1}},e[twe](Boolean).foo!==1})),tXe=xc("species"),Qse=xo.Array,nXe=Math.max;Iv({target:"Array",proto:!0,forced:!eXe},{slice:function(e,o){var s,l,c,d=RC(this),p=_F(d),v=qP(e,p),b=qP(o===void 0?p:o,p);if(GW(d)&&(s=d.constructor,(uhe(s)&&(s===Qse||GW(s.prototype))||Fa(s)&&(s=s[tXe])===null)&&(s=void 0),s===Qse||s===void 0))return Xke(d,v,b);for(l=new(s===void 0?Qse:s)(nXe(b-v,0)),c=0;v<b;v++,c++)v in d&&Yke(l,c,d[v]);return l.length=c,l}});var oXe=lhe?{}.toString:function(){return"[object "+fZ(this)+"]"};lhe||sp(Object.prototype,"toString",oXe,{unsafe:!0});var NV,rXe=xo.String,pC=function(e){if(fZ(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return rXe(e)},Jke=function(){var e=Pu(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},fhe=xo.RegExp,Sce=Ya(function(){var e=fhe("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),sXe=Sce||Ya(function(){return!fhe("a","y").sticky}),Qke={BROKEN_CARET:Sce||Ya(function(){var e=fhe("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:sXe,UNSUPPORTED_Y:Sce},iXe=Object.keys||function(e){return qke(e,WW)},aXe=Gv?Object.defineProperties:function(e,o){Pu(e);for(var s,l=RC(o),c=iXe(o),d=c.length,p=0;d>p;)yy.f(e,s=c[p++],l[s]);return e},xce=j4("document","documentElement"),eAe=ihe("IE_PROTO"),eie=function(){},tAe=function(e){return"<script>"+e+"<\/script>"},nwe=function(e){e.write(tAe("")),e.close();var o=e.parentWindow.Object;return e=null,o},dU=function(){try{NV=new ActiveXObject("htmlfile")}catch{}var e,o;dU=typeof document<"u"?document.domain&&NV?nwe(NV):((o=WP("iframe")).style.display="none",xce.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(tAe("document.F=Object")),e.close(),e.F):nwe(NV);for(var s=WW.length;s--;)delete dU.prototype[WW[s]];return dU()};uZ[eAe]=!0;var owe,tie,dhe=Object.create||function(e,o){var s;return e!==null?(eie.prototype=Pu(e),s=new eie,eie.prototype=null,s[eAe]=e):s=dU(),o===void 0?s:aXe(s,o)},lXe=xo.RegExp,cXe=Ya(function(){var e=lXe(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),uXe=xo.RegExp,fXe=Ya(function(){var e=uXe("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),dXe=fp.get,hXe=the("native-string-replace",String.prototype.replace),KW=RegExp.prototype.exec,Ece=KW,pXe=Ms("".charAt),gXe=Ms("".indexOf),mXe=Ms("".replace),nie=Ms("".slice),oie=(tie=/b*/g,Wi(KW,owe=/a/,"a"),Wi(KW,tie,"a"),owe.lastIndex!==0||tie.lastIndex!==0),rwe=Qke.BROKEN_CARET,rie=/()??/.exec("")[1]!==void 0;(oie||rie||rwe||cXe||fXe)&&(Ece=function(e){var o,s,l,c,d,p,v,b=this,S=dXe(b),x=pC(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=Wi(Ece,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=rwe&&b.sticky,F=Wi(Jke,b),N=b.source,$=0,D=x;if(k&&(F=mXe(F,"y",""),gXe(F,"g")===-1&&(F+="g"),D=nie(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&pXe(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),rie&&(s=new RegExp("^"+N+"$(?!\\s)",F)),oie&&(l=b.lastIndex),c=Wi(KW,k?s:b,D),k?c?(c.input=nie(c.input,$),c[0]=nie(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:oie&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),rie&&c&&c.length>1&&Wi(hXe,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=dhe(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var ZP=Ece;Iv({target:"RegExp",proto:!0,forced:/./.exec!==ZP},{exec:ZP});var hhe=Function.prototype,swe=hhe.apply,vXe=hhe.bind,iwe=hhe.call,nAe=typeof Reflect=="object"&&Reflect.apply||(vXe?iwe.bind(swe):function(){return iwe.apply(swe,arguments)}),bXe=xc("species"),sie=RegExp.prototype,yXe=xc("match"),wXe=xo.TypeError,CXe=xc("species"),oAe=function(e,o){var s,l=Pu(e).constructor;return l===void 0||(s=Pu(l)[CXe])==null?o:function(c){if(uhe(c))return c;throw wXe(zW(c)+" is not a constructor")}(s)},SXe=Ms("".charAt),awe=Ms("".charCodeAt),xXe=Ms("".slice),lwe=function(e){return function(o,s){var l,c,d=pC(jP(o)),p=ahe(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=awe(d,p))<55296||l>56319||p+1===v||(c=awe(d,p+1))<56320||c>57343?e?SXe(d,p):l:e?xXe(d,p,p+2):c-56320+(l-55296<<10)+65536}},rAe={codeAt:lwe(!1),charAt:lwe(!0)},EXe=rAe.charAt,kXe=function(e,o,s){return o+(s?EXe(e,o).length:1)},AXe=xo.Array,TXe=Math.max,kce=function(e,o,s){for(var l=_F(e),c=qP(o,l),d=qP(s===void 0?l:s,l),p=AXe(TXe(d-c,0)),v=0;c<d;c++,v++)Yke(p,v,e[c]);return p.length=v,p},OXe=xo.TypeError,cwe=function(e,o){var s=e.exec;if(ua(s)){var l=Wi(s,e,o);return l!==null&&Pu(l),l}if(Wm(e)==="RegExp")return Wi(ZP,e,o);throw OXe("RegExp#exec called on incompatible receiver")},ZO=Qke.UNSUPPORTED_Y,_Xe=Math.min,sAe=[].push,$Xe=Ms(/./.exec),GO=Ms(sAe),vN=Ms("".slice);(function(e,o,s,l){var c=xc(e),d=!Ya(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Ya(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[bXe]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=Ms(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=Ms(S),N=x.exec;return N===ZP||N===sie.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});sp(String.prototype,e,b[0]),sp(sie,c,b[1])}l&&Vv(sie[c],"sham",!0)})("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p,v,b=pC(jP(this)),S=d===void 0?4294967295:d>>>0;if(S===0)return[];if(c===void 0)return[b];if(!Fa(p=c)||!((v=p[yXe])!==void 0?v:Wm(p)=="RegExp"))return Wi(o,b,c,S);for(var x,T,E,k=[],F=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),N=0,$=new RegExp(c.source,F+"g");(x=Wi(ZP,$,b))&&!((T=$.lastIndex)>N&&(GO(k,vN(b,N,x.index)),x.length>1&&x.index<b.length&&nAe(sAe,k,kce(x,1)),E=x[0].length,N=T,k.length>=S));)$.lastIndex===x.index&&$.lastIndex++;return N===b.length?!E&&$Xe($,"")||GO(k,""):GO(k,vN(b,N)),k.length>S?kce(k,0,S):k}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:Wi(o,this,c,d)}:o,[function(c,d){var p=jP(this),v=c==null?void 0:UP(c,e);return v?Wi(v,c,p,d):Wi(l,pC(p),c,d)},function(c,d){var p=Pu(this),v=pC(c),b=s(l,p,v,d,l!==o);if(b.done)return b.value;var S=oAe(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(ZO?"g":"y"),E=new S(ZO?"^(?:"+p.source+")":p,T),k=d===void 0?4294967295:d>>>0;if(k===0)return[];if(v.length===0)return cwe(E,v)===null?[v]:[];for(var F=0,N=0,$=[];N<v.length;){E.lastIndex=ZO?0:N;var D,O=cwe(E,ZO?vN(v,N):v);if(O===null||(D=_Xe(Wke(E.lastIndex+(ZO?N:0)),v.length))===F)N=kXe(v,N,x);else{if(GO($,vN(v,F,N)),$.length===k)return $;for(var P=1;P<=O.length-1;P++)if(GO($,O[P]),$.length===k)return $;N=F=D}}return GO($,vN(v,F)),$}]},!!Ya(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),ZO);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YW=function(){return YW=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e},YW.apply(this,arguments)};function phe(e,o,s,l){return new(s||(s=Promise))(function(c,d){function p(S){try{b(l.next(S))}catch(x){d(x)}}function v(S){try{b(l.throw(S))}catch(x){d(x)}}function b(S){var x;S.done?c(S.value):(x=S.value,x instanceof s?x:new s(function(T){T(x)})).then(p,v)}b((l=l.apply(e,o||[])).next())})}function ghe(e,o){var s,l,c,d,p={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(b){return function(S){return function(x){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return p.label++,{value:x[1],done:!1};case 5:p.label++,l=x[1],x=[0];continue;case 7:x=p.ops.pop(),p.trys.pop();continue;default:if(c=p.trys,!((c=c.length>0&&c[c.length-1])||x[0]!==6&&x[0]!==2)){p=0;continue}if(x[0]===3&&(!c||x[1]>c[0]&&x[1]<c[3])){p.label=x[1];break}if(x[0]===6&&p.label<c[1]){p.label=c[1],c=x;break}if(c&&p.label<c[2]){p.label=c[2],p.ops.push(x);break}c[2]&&p.ops.pop(),p.trys.pop();continue}x=o.call(e,p)}catch(T){x=[6,T],l=0}finally{s=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([b,S])}}}function DXe(e){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&e[o],l=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function BXe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,s=e[Symbol.asyncIterator];return s?s.call(e):(e=DXe(e),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(c){o[c]=e[c]&&function(d){return new Promise(function(p,v){(function(b,S,x,T){Promise.resolve(T).then(function(E){b({value:E,done:x})},S)})(p,v,(d=e[c](d)).done,d.value)})}}}var Ace=xc("unscopables"),Tce=Array.prototype;Tce[Ace]==null&&yy.f(Tce,Ace,{configurable:!0,value:dhe(null)});var A4,uwe,fwe,iie=function(e){Tce[Ace][e]=!0},G5={},NXe=!Ya(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),dwe=ihe("IE_PROTO"),Oce=xo.Object,PXe=Oce.prototype,XW=NXe?Oce.getPrototypeOf:function(e){var o=nhe(e);if(jc(o,dwe))return o[dwe];var s=o.constructor;return ua(s)&&o instanceof s?s.prototype:o instanceof Oce?PXe:null},_ce=xc("iterator"),iAe=!1;[].keys&&("next"in(fwe=[].keys())?(uwe=XW(XW(fwe)))!==Object.prototype&&(A4=uwe):iAe=!0);var FXe=A4==null||Ya(function(){var e={};return A4[_ce].call(e)!==e});FXe&&(A4={}),ua(A4[_ce])||sp(A4,_ce,function(){return this});var mhe={IteratorPrototype:A4,BUGGY_SAFARI_ITERATORS:iAe},RXe=yy.f,hwe=xc("toStringTag"),JW=function(e,o,s){e&&!jc(e=s?e:e.prototype,hwe)&&RXe(e,hwe,{configurable:!0,value:o})},MXe=mhe.IteratorPrototype,IXe=function(){return this},LXe=xo.String,HXe=xo.TypeError,K5=Object.setPrototypeOf||("__proto__"in{}?function(){var e,o=!1,s={};try{(e=Ms(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(s,[]),o=s instanceof Array}catch{}return function(l,c){return Pu(l),function(d){if(typeof d=="object"||ua(d))return d;throw HXe("Can't set "+LXe(d)+" as a prototype")}(c),o?e(l,c):l.__proto__=c,l}}():void 0),jXe=OF.PROPER,zXe=OF.CONFIGURABLE,pwe=mhe.IteratorPrototype,PV=mhe.BUGGY_SAFARI_ITERATORS,bN=xc("iterator"),VXe=function(){return this},aAe=function(e,o,s,l,c,d,p){(function(D,O,P,I){var z=O+" Iterator";D.prototype=dhe(MXe,{next:lZ(+!I,P)}),JW(D,z,!1),G5[z]=IXe})(s,o,l);var v,b,S,x=function(D){if(D===c&&N)return N;if(!PV&&D in k)return k[D];switch(D){case"keys":case"values":case"entries":return function(){return new s(this,D)}}return function(){return new s(this)}},T=o+" Iterator",E=!1,k=e.prototype,F=k[bN]||k["@@iterator"]||c&&k[c],N=!PV&&F||x(c),$=o=="Array"&&k.entries||F;if($&&(v=XW($.call(new e)))!==Object.prototype&&v.next&&(XW(v)!==pwe&&(K5?K5(v,pwe):ua(v[bN])||sp(v,bN,VXe)),JW(v,T,!0)),jXe&&c=="values"&&F&&F.name!=="values"&&(zXe?Vv(k,"name","values"):(E=!0,N=function(){return Wi(F,this)})),c)if(b={values:x("values"),keys:d?N:x("keys"),entries:x("entries")},p)for(S in b)(PV||E||!(S in k))&&sp(k,S,b[S]);else Iv({target:o,proto:!0,forced:PV||E},b);return k[bN]!==N&&sp(k,bN,N,{name:c}),G5[o]=N,b},UXe=fp.set,WXe=fp.getterFor("Array Iterator"),PN=aAe(Array,"Array",function(e,o){UXe(this,{type:"Array Iterator",target:RC(e),index:0,kind:o})},function(){var e=WXe(this),o=e.target,s=e.kind,l=e.index++;return!o||l>=o.length?(e.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l,done:!1}:s=="values"?{value:o[l],done:!1}:{value:[l,o[l]],done:!1}},"values");G5.Arguments=G5.Array,iie("keys"),iie("values"),iie("entries");var qXe=rAe.charAt,ZXe=fp.set,GXe=fp.getterFor("String Iterator");aAe(String,"String",function(e){ZXe(this,{type:"String Iterator",string:pC(e),index:0})},function(){var e,o=GXe(this),s=o.string,l=o.index;return l>=s.length?{value:void 0,done:!0}:(e=qXe(s,l),o.index+=e.length,{value:e,done:!1})});var QW=function(e,o,s){for(var l in o)sp(e,l,o[l],s);return e},gwe=qW.f,mwe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],KXe={f:function(e){return mwe&&Wm(e)=="Window"?function(o){try{return gwe(o)}catch{return kce(mwe)}}(e):gwe(RC(e))}},vwe=Ya(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),FV=Object.isExtensible,c4=Ya(function(){FV(1)})||vwe?function(e){return!!Fa(e)&&(!vwe||Wm(e)!="ArrayBuffer")&&(!FV||FV(e))}:FV,YXe=!Ya(function(){return Object.isExtensible(Object.preventExtensions({}))}),vhe=Xde(function(e){var o=yy.f,s=!1,l=ohe("meta"),c=0,d=function(v){o(v,l,{value:{objectID:"O"+c++,weakData:{}}})},p=e.exports={enable:function(){p.enable=function(){},s=!0;var v=qW.f,b=Ms([].splice),S={};S[l]=1,v(S).length&&(qW.f=function(x){for(var T=v(x),E=0,k=T.length;E<k;E++)if(T[E]===l){b(T,E,1);break}return T},Iv({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:KXe.f}))},fastKey:function(v,b){if(!Fa(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!jc(v,l)){if(!c4(v))return"F";if(!b)return"E";d(v)}return v[l].objectID},getWeakData:function(v,b){if(!jc(v,l)){if(!c4(v))return!0;if(!b)return!1;d(v)}return v[l].weakData},onFreeze:function(v){return YXe&&s&&c4(v)&&!jc(v,l)&&d(v),v}};uZ[l]=!0}),bwe=Ms(Ms.bind),GP=function(e,o){return $C(e),o===void 0?e:bwe?bwe(e,o):function(){return e.apply(o,arguments)}},XXe=xc("iterator"),JXe=Array.prototype,QXe=xc("iterator"),ywe=function(e){if(e!=null)return UP(e,QXe)||UP(e,"@@iterator")||G5[fZ(e)]},eJe=xo.TypeError,wwe=function(e,o,s){var l,c;Pu(e);try{if(!(l=UP(e,"return"))){if(o==="throw")throw s;return s}l=Wi(l,e)}catch(d){c=!0,l=d}if(o==="throw")throw s;if(c)throw l;return Pu(l),s},tJe=xo.TypeError,hU=function(e,o){this.stopped=e,this.result=o},Cwe=hU.prototype,eq=function(e,o,s){var l,c,d,p,v,b,S,x,T=s&&s.that,E=!(!s||!s.AS_ENTRIES),k=!(!s||!s.IS_ITERATOR),F=!(!s||!s.INTERRUPTED),N=GP(o,T),$=function(O){return l&&wwe(l,"normal",O),new hU(!0,O)},D=function(O){return E?(Pu(O),F?N(O[0],O[1],$):N(O[0],O[1])):F?N(O,$):N(O)};if(k)l=e;else{if(!(c=ywe(e)))throw tJe(zW(e)+" is not iterable");if((x=c)!==void 0&&(G5.Array===x||JXe[XXe]===x)){for(d=0,p=_F(e);p>d;d++)if((v=D(e[d]))&&zP(Cwe,v))return v;return new hU(!1)}l=function(O,P){var I=arguments.length<2?ywe(O):P;if($C(I))return Pu(Wi(I,O));throw eJe(zW(O)+" is not iterable")}(e,c)}for(b=l.next;!(S=Wi(b,l)).done;){try{v=D(S.value)}catch(O){wwe(l,"throw",O)}if(typeof v=="object"&&v&&zP(Cwe,v))return v}return new hU(!1)},nJe=xo.TypeError,bhe=function(e,o){if(zP(o,e))return e;throw nJe("Incorrect invocation")},lAe=xc("iterator"),cAe=!1;try{var oJe=0,Swe={next:function(){return{done:!!oJe++}},return:function(){cAe=!0}};Swe[lAe]=function(){return this},Array.from(Swe,function(){throw 2})}catch{}var uAe=function(e,o){if(!o&&!cAe)return!1;var s=!1;try{var l={};l[lAe]=function(){return{next:function(){return{done:s=!0}}}},e(l)}catch{}return s},rJe=xc("species"),xwe=xo.Array,sJe=function(e,o){return new(function(s){var l;return GW(s)&&(l=s.constructor,(uhe(l)&&(l===xwe||GW(l.prototype))||Fa(l)&&(l=l[rJe])===null)&&(l=void 0)),l===void 0?xwe:l}(e))(o===0?0:o)},Ewe=Ms([].push),Ww=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=nhe(b),N=Jde(F),$=GP(S,x),D=_F(N),O=0,P=T||sJe,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:Ewe(I,E)}else switch(e){case 4:return!1;case 7:Ewe(I,E)}return d?-1:l||c?c:I}},yhe={forEach:Ww(0),map:Ww(1),filter:Ww(2),some:Ww(3),every:Ww(4),find:Ww(5),findIndex:Ww(6),filterReject:Ww(7)},RV=vhe.getWeakData,iJe=fp.set,aJe=fp.getterFor,lJe=yhe.find,cJe=yhe.findIndex,uJe=Ms([].splice),fJe=0,MV=function(e){return e.frozen||(e.frozen=new fAe)},fAe=function(){this.entries=[]},aie=function(e,o){return lJe(e.entries,function(s){return s[0]===o})};fAe.prototype={get:function(e){var o=aie(this,e);if(o)return o[1]},has:function(e){return!!aie(this,e)},set:function(e,o){var s=aie(this,e);s?s[1]=o:this.entries.push([e,o])},delete:function(e){var o=cJe(this.entries,function(s){return s[0]===e});return~o&&uJe(this.entries,o,1),!!~o}};var yN,dAe={getConstructor:function(e,o,s,l){var c=e(function(b,S){bhe(b,d),iJe(b,{type:o,id:fJe++,frozen:void 0}),S!=null&&eq(S,b[l],{that:b,AS_ENTRIES:s})}),d=c.prototype,p=aJe(o),v=function(b,S,x){var T=p(b),E=RV(Pu(S),!0);return E===!0?MV(T).set(S,x):E[T.id]=x,b};return QW(d,{delete:function(b){var S=p(this);if(!Fa(b))return!1;var x=RV(b);return x===!0?MV(S).delete(b):x&&jc(x,S.id)&&delete x[S.id]},has:function(b){var S=p(this);if(!Fa(b))return!1;var x=RV(b);return x===!0?MV(S).has(b):x&&jc(x,S.id)}}),QW(d,s?{get:function(b){var S=p(this);if(Fa(b)){var x=RV(b);return x===!0?MV(S).get(b):x?x[S.id]:void 0}},set:function(b,S){return v(this,b,S)}}:{add:function(b){return v(this,b,!0)}}),c}},IV=fp.enforce,dJe=!xo.ActiveXObject&&"ActiveXObject"in xo,hAe=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},hJe=function(e,o,s){var l=e.indexOf("Map")!==-1,c=e.indexOf("Weak")!==-1,d=l?"set":"add",p=xo[e],v=p&&p.prototype,b=p,S={},x=function($){var D=Ms(v[$]);sp(v,$,$=="add"?function(O){return D(this,O===0?0:O),this}:$=="delete"?function(O){return!(c&&!Fa(O))&&D(this,O===0?0:O)}:$=="get"?function(O){return c&&!Fa(O)?void 0:D(this,O===0?0:O)}:$=="has"?function(O){return!(c&&!Fa(O))&&D(this,O===0?0:O)}:function(O,P){return D(this,O===0?0:O,P),this})};if(ZW(e,!ua(p)||!(c||v.forEach&&!Ya(function(){new p().entries().next()}))))b=s.getConstructor(o,e,l,d),vhe.enable();else if(ZW(e,!0)){var T=new b,E=T[d](c?{}:-0,1)!=T,k=Ya(function(){T.has(1)}),F=uAe(function($){new p($)}),N=!c&&Ya(function(){for(var $=new p,D=5;D--;)$[d](D,D);return!$.has(-0)});F||((b=o(function($,D){bhe($,v);var O=function(P,I,z){var K,j;return K5&&ua(K=I.constructor)&&K!==z&&Fa(j=K.prototype)&&j!==z.prototype&&K5(P,j),P}(new p,$,b);return D!=null&&eq(D,O[d],{that:O,AS_ENTRIES:l}),O})).prototype=v,v.constructor=b),(k||N)&&(x("delete"),x("has"),l&&x("get")),(N||E)&&x(d),c&&v.clear&&delete v.clear}return S[e]=b,Iv({global:!0,forced:b!=p},S),JW(b,e),c||s.setStrong(b,e,l),b}("WeakMap",hAe,dAe);if(Vke&&dJe){yN=dAe.getConstructor(hAe,"WeakMap",!0),vhe.enable();var wN=hJe.prototype,kwe=Ms(wN.delete),LV=Ms(wN.has),Awe=Ms(wN.get),Twe=Ms(wN.set);QW(wN,{delete:function(e){if(Fa(e)&&!c4(e)){var o=IV(this);return o.frozen||(o.frozen=new yN),kwe(this,e)||o.frozen.delete(e)}return kwe(this,e)},has:function(e){if(Fa(e)&&!c4(e)){var o=IV(this);return o.frozen||(o.frozen=new yN),LV(this,e)||o.frozen.has(e)}return LV(this,e)},get:function(e){if(Fa(e)&&!c4(e)){var o=IV(this);return o.frozen||(o.frozen=new yN),LV(this,e)?Awe(this,e):o.frozen.get(e)}return Awe(this,e)},set:function(e,o){if(Fa(e)&&!c4(e)){var s=IV(this);s.frozen||(s.frozen=new yN),LV(this,e)?Twe(this,e,o):s.frozen.set(e,o)}else Twe(this,e,o);return this}})}var tq={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},lie=WP("span").classList,Owe=lie&&lie.constructor&&lie.constructor.prototype,pAe=Owe===Object.prototype?void 0:Owe,cie=xc("iterator"),_we=xc("toStringTag"),uie=PN.values,gAe=function(e,o){if(e){if(e[cie]!==uie)try{Vv(e,cie,uie)}catch{e[cie]=uie}if(e[_we]||Vv(e,_we,o),tq[o]){for(var s in PN)if(e[s]!==PN[s])try{Vv(e,s,PN[s])}catch{e[s]=PN[s]}}}};for(var fie in tq)gAe(xo[fie]&&xo[fie].prototype,fie);gAe(pAe,"DOMTokenList");var mAe=function(e,o){var s=[][e];return!!s&&Ya(function(){s.call(null,o||function(){throw 1},1)})},pJe=yhe.forEach,die=mAe("forEach")?[].forEach:function(e){return pJe(this,e,arguments.length>1?arguments[1]:void 0)},vAe=function(e){if(e&&e.forEach!==die)try{Vv(e,"forEach",die)}catch{e.forEach=die}};for(var hie in tq)tq[hie]&&vAe(xo[hie]&&xo[hie].prototype);vAe(pAe);var KP,KO,$we,pie,nq=xo.Promise,Dwe=xc("species"),bAe=/(?:ipad|iphone|ipod).*applewebkit/i.test(C5),gC=Wm(xo.process)=="process",$ce=xo.setImmediate,Dce=xo.clearImmediate,gJe=xo.process,gie=xo.Dispatch,mJe=xo.Function,Bwe=xo.MessageChannel,vJe=xo.String,mie=0,oP={};try{KP=xo.location}catch{}var whe=function(e){if(jc(oP,e)){var o=oP[e];delete oP[e],o()}},vie=function(e){return function(){whe(e)}},Nwe=function(e){whe(e.data)},Pwe=function(e){xo.postMessage(vJe(e),KP.protocol+"//"+KP.host)};$ce&&Dce||($ce=function(e){var o=Xke(arguments,1);return oP[++mie]=function(){nAe(ua(e)?e:mJe(e),void 0,o)},KO(mie),mie},Dce=function(e){delete oP[e]},gC?KO=function(e){gJe.nextTick(vie(e))}:gie&&gie.now?KO=function(e){gie.now(vie(e))}:Bwe&&!bAe?(pie=($we=new Bwe).port2,$we.port1.onmessage=Nwe,KO=GP(pie.postMessage,pie)):xo.addEventListener&&ua(xo.postMessage)&&!xo.importScripts&&KP&&KP.protocol!=="file:"&&!Ya(Pwe)?(KO=Pwe,xo.addEventListener("message",Nwe,!1)):KO="onreadystatechange"in WP("script")?function(e){xce.appendChild(WP("script")).onreadystatechange=function(){xce.removeChild(this),whe(e)}}:function(e){setTimeout(vie(e),0)});var CN,n4,rP,s5,bie,yie,wie,Fwe,yAe={set:$ce,clear:Dce},bJe=/ipad|iphone|ipod/i.test(C5)&&xo.Pebble!==void 0,yJe=/web0s(?!.*chrome)/i.test(C5),wJe=she.f,Cie=yAe.set,Rwe=xo.MutationObserver||xo.WebKitMutationObserver,Mwe=xo.document,Iwe=xo.process,HV=xo.Promise,Lwe=wJe(xo,"queueMicrotask"),wAe=Lwe&&Lwe.value;wAe||(CN=function(){var e,o;for(gC&&(e=Iwe.domain)&&e.exit();n4;){o=n4.fn,n4=n4.next;try{o()}catch(s){throw n4?s5():rP=void 0,s}}rP=void 0,e&&e.enter()},bAe||gC||yJe||!Rwe||!Mwe?!bJe&&HV&&HV.resolve?((wie=HV.resolve(void 0)).constructor=HV,Fwe=GP(wie.then,wie),s5=function(){Fwe(CN)}):gC?s5=function(){Iwe.nextTick(CN)}:(Cie=GP(Cie,xo),s5=function(){Cie(CN)}):(bie=!0,yie=Mwe.createTextNode(""),new Rwe(CN).observe(yie,{characterData:!0}),s5=function(){yie.data=bie=!bie}));var Sie,Hwe,CAe,jwe,SAe=wAe||function(e){var o={fn:e,next:void 0};rP&&(rP.next=o),n4||(n4=o,s5()),rP=o},CJe=function(e){var o,s;this.promise=new e(function(l,c){if(o!==void 0||s!==void 0)throw TypeError("Bad Promise constructor");o=l,s=c}),this.resolve=$C(o),this.reject=$C(s)},Che={f:function(e){return new CJe(e)}},Bce=function(e){try{return{error:!1,value:e()}}catch(o){return{error:!0,value:o}}},SJe=typeof window=="object",xAe=yAe.set,xJe=xc("species"),Pv="Promise",zwe=fp.getterFor(Pv),EJe=fp.set,kJe=fp.getterFor(Pv),XE=nq&&nq.prototype,Lv=nq,SN=XE,EAe=xo.TypeError,Nce=xo.document,She=xo.process,S5=Che.f,AJe=S5,TJe=!!(Nce&&Nce.createEvent&&xo.dispatchEvent),kAe=ua(xo.PromiseRejectionEvent),AAe=!1,sP=ZW(Pv,function(){var e=cZ(Lv),o=e!==String(Lv);if(!o&&VP===66)return!0;if(VP>=51&&/native code/.test(e))return!1;var s=new Lv(function(c){c(1)}),l=function(c){c(function(){},function(){})};return(s.constructor={})[xJe]=l,!(AAe=s.then(function(){})instanceof l)||!o&&SJe&&!kAe}),OJe=sP||!uAe(function(e){Lv.all(e).catch(function(){})}),TAe=function(e){var o;return!(!Fa(e)||!ua(o=e.then))&&o},xhe=function(e,o){if(!e.notified){e.notified=!0;var s=e.reactions;SAe(function(){for(var l=e.value,c=e.state==1,d=0;s.length>d;){var p,v,b,S=s[d++],x=c?S.ok:S.fail,T=S.resolve,E=S.reject,k=S.domain;try{x?(c||(e.rejection===2&&$Je(e),e.rejection=1),x===!0?p=l:(k&&k.enter(),p=x(l),k&&(k.exit(),b=!0)),p===S.promise?E(EAe("Promise-chain cycle")):(v=TAe(p))?Wi(v,p,T,E):T(p)):E(l)}catch(F){k&&!b&&k.exit(),E(F)}}e.reactions=[],e.notified=!1,o&&!e.rejection&&_Je(e)})}},OAe=function(e,o,s){var l,c;TJe?((l=Nce.createEvent("Event")).promise=o,l.reason=s,l.initEvent(e,!1,!0),xo.dispatchEvent(l)):l={promise:o,reason:s},!kAe&&(c=xo["on"+e])?c(l):e==="unhandledrejection"&&function(d,p){var v=xo.console;v&&v.error&&(arguments.length==1?v.error(d):v.error(d,p))}("Unhandled promise rejection",s)},_Je=function(e){Wi(xAe,xo,function(){var o,s=e.facade,l=e.value;if(Vwe(e)&&(o=Bce(function(){gC?She.emit("unhandledRejection",l,s):OAe("unhandledrejection",s,l)}),e.rejection=gC||Vwe(e)?2:1,o.error))throw o.value})},Vwe=function(e){return e.rejection!==1&&!e.parent},$Je=function(e){Wi(xAe,xo,function(){var o=e.facade;gC?She.emit("rejectionHandled",o):OAe("rejectionhandled",o,e.value)})},f5=function(e,o,s){return function(l){e(o,l,s)}},x5=function(e,o,s){e.done||(e.done=!0,s&&(e=s),e.value=o,e.state=2,xhe(e,!0))},Pce=function(e,o,s){if(!e.done){e.done=!0,s&&(e=s);try{if(e.facade===o)throw EAe("Promise can't be resolved itself");var l=TAe(o);l?SAe(function(){var c={done:!1};try{Wi(l,o,f5(Pce,c,e),f5(x5,c,e))}catch(d){x5(c,d,e)}}):(e.value=o,e.state=1,xhe(e,!1))}catch(c){x5({done:!1},c,e)}}};if(sP&&(SN=(Lv=function(e){bhe(this,SN),$C(e),Wi(Sie,this);var o=zwe(this);try{e(f5(Pce,o),f5(x5,o))}catch(s){x5(o,s)}}).prototype,(Sie=function(e){EJe(this,{type:Pv,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=QW(SN,{then:function(e,o){var s=kJe(this),l=s.reactions,c=S5(oAe(this,Lv));return c.ok=!ua(e)||e,c.fail=ua(o)&&o,c.domain=gC?She.domain:void 0,s.parent=!0,l[l.length]=c,s.state!=0&&xhe(s,!1),c.promise},catch:function(e){return this.then(void 0,e)}}),Hwe=function(){var e=new Sie,o=zwe(e);this.promise=e,this.resolve=f5(Pce,o),this.reject=f5(x5,o)},Che.f=S5=function(e){return e===Lv||e===CAe?new Hwe(e):AJe(e)},ua(nq)&&XE!==Object.prototype)){jwe=XE.then,AAe||(sp(XE,"then",function(e,o){var s=this;return new Lv(function(l,c){Wi(jwe,s,l,c)}).then(e,o)},{unsafe:!0}),sp(XE,"catch",SN.catch,{unsafe:!0}));try{delete XE.constructor}catch{}K5&&K5(XE,SN)}Iv({global:!0,wrap:!0,forced:sP},{Promise:Lv}),JW(Lv,Pv,!1),function(e){var o=j4(e),s=yy.f;Gv&&o&&!o[Dwe]&&s(o,Dwe,{configurable:!0,get:function(){return this}})}(Pv),CAe=j4(Pv),Iv({target:Pv,stat:!0,forced:sP},{reject:function(e){var o=S5(this);return Wi(o.reject,void 0,e),o.promise}}),Iv({target:Pv,stat:!0,forced:sP},{resolve:function(e){return function(o,s){if(Pu(o),Fa(s)&&s.constructor===o)return s;var l=Che.f(o);return(0,l.resolve)(s),l.promise}(this,e)}}),Iv({target:Pv,stat:!0,forced:OJe},{all:function(e){var o=this,s=S5(o),l=s.resolve,c=s.reject,d=Bce(function(){var p=$C(o.resolve),v=[],b=0,S=1;eq(e,function(x){var T=b++,E=!1;S++,Wi(p,o,x).then(function(k){E||(E=!0,v[T]=k,--S||l(v))},c)}),--S||l(v)});return d.error&&c(d.value),s.promise},race:function(e){var o=this,s=S5(o),l=s.reject,c=Bce(function(){var d=$C(o.resolve);eq(e,function(p){Wi(d,o,p).then(s.resolve,l)})});return c.error&&l(c.value),s.promise}});var DJe=OF.PROPER,Fce=RegExp.prototype,_Ae=Fce.toString,BJe=Ms(Jke),NJe=Ya(function(){return _Ae.call({source:"a",flags:"b"})!="/a/b"}),PJe=DJe&&_Ae.name!="toString";(NJe||PJe)&&sp(RegExp.prototype,"toString",function(){var e=Pu(this),o=pC(e.source),s=e.flags;return"/"+o+"/"+pC(s===void 0&&zP(Fce,e)&&!("flags"in Fce)?BJe(e):s)},{unsafe:!0});var FJe=OF.EXISTS,RJe=yy.f,$Ae=Function.prototype,MJe=Ms($Ae.toString),DAe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,IJe=Ms(DAe.exec);Gv&&!FJe&&RJe($Ae,"name",{configurable:!0,get:function(){try{return IJe(DAe,MJe(this))[1]}catch{return""}}});var Uwe=new WeakMap;function BAe(e){return e.getMenuConfig("uploadImage")}function LJe(e,o){return phe(this,void 0,void 0,function(){return ghe(this,function(s){return[2,new Promise(function(l){var c=new FileReader;c.readAsDataURL(o),c.onload=function(){var d=c.result;if(d){var p=d.toString(),v=p.indexOf("data:image")===0?"":p;g4(e,p,o.name,v),l("ok")}}})]})})}function HJe(e,o){return phe(this,void 0,void 0,function(){var s,l,c,d;return ghe(this,function(p){switch(p.label){case 0:return s=function(v){var b=Uwe.get(v);if(b!=null)return b;var S=BAe(v),x=S.onSuccess,T=S.onProgress,E=S.onFailed,k=S.customInsert,F=S.onError;return b=aEe(YW(YW({},S),{onProgress:function(N){v.showProgressBar(N),T&&T(N)},onSuccess:function(N,$){if(k)return k($,function(se,Q,G){return g4(v,se,Q,G)}),void x(N,$);var D=$.errno,O=D===void 0?1:D,P=$.data,I=P===void 0?{}:P;if(O===0){if(Array.isArray(I))I.forEach(function(se){var Q=se.url,G=Q===void 0?"":Q,ce=se.alt,he=ce===void 0?"":ce,ve=se.href;g4(v,G,he,ve===void 0?"":ve)});else{var z=I.url,K=z===void 0?"":z,j=I.alt,oe=j===void 0?"":j,xe=I.href;g4(v,K,oe,xe===void 0?"":xe)}x(N,$)}else E(N,$)},onError:function(N,$,D){F(N,$,D)}})),Uwe.set(v,b),b}(e),l=o.name,c=o.type,d=o.size,s.addFile({name:l,type:c,size:d,data:o}),[4,s.upload()];case 1:return p.sent(),[2]}})})}function NAe(e,o){var s,l;return phe(this,void 0,void 0,function(){var c,d,p,v,b,S,x,T,E;return ghe(this,function(k){switch(k.label){case 0:if(o==null)return[2];c=Array.prototype.slice.call(o),d=BAe(e),p=d.customUpload,v=d.base64LimitSize,k.label=1;case 1:k.trys.push([1,11,12,17]),b=BXe(c),k.label=2;case 2:return[4,b.next()];case 3:return(S=k.sent()).done?[3,10]:(x=S.value,T=x.size,v&&T<=v?[4,LJe(e,x)]:[3,5]);case 4:return k.sent(),[3,9];case 5:return p?[4,p(x,function(F,N,$){return g4(e,F,N,$)})]:[3,7];case 6:return k.sent(),[3,9];case 7:return[4,HJe(e,x)];case 8:k.sent(),k.label=9;case 9:return[3,2];case 10:return[3,17];case 11:return E=k.sent(),s={error:E},[3,17];case 12:return k.trys.push([12,,15,16]),S&&!S.done&&(l=b.return)?[4,l.call(b)]:[3,14];case 13:k.sent(),k.label=14;case 14:return[3,16];case 15:if(s)throw s.error;return[7];case 16:return[7];case 17:return[2]}})})}var jJe=Ms([].join),zJe=Jde!=Object,VJe=mAe("join",",");Iv({target:"Array",proto:!0,forced:zJe||!VJe},{join:function(e){return jJe(RC(this),e===void 0?",":e)}});vg&&(_t.fn.append=vg),Wv&&(_t.fn.on=Wv),N5&&(_t.fn.remove=N5),Uv&&(_t.fn.val=Uv),Qge&&(_t.fn.click=Qge),_5&&(_t.fn.hide=_5);var UJe=function(){function e(){this.title=Co("uploadImgModule.uploadImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M828.708571 585.045333a48.761905 48.761905 0 0 0-48.737523 48.761905v18.529524l-72.143238-72.167619a135.972571 135.972571 0 0 0-191.585524 0l-34.133334 34.133333-120.880762-120.953905a138.898286 138.898286 0 0 0-191.585523 0l-72.167619 72.167619V292.400762a48.786286 48.786286 0 0 1 48.761904-48.761905h341.23581a48.737524 48.737524 0 0 0 34.474667-83.285333 48.737524 48.737524 0 0 0-34.474667-14.287238H146.236952A146.212571 146.212571 0 0 0 0 292.400762v585.289143A146.358857 146.358857 0 0 0 146.236952 1024h584.996572a146.212571 146.212571 0 0 0 146.236952-146.310095V633.807238a48.786286 48.786286 0 0 0-48.761905-48.761905zM146.261333 926.45181a48.737524 48.737524 0 0 1-48.761904-48.761905v-174.128762l141.409523-141.458286a38.497524 38.497524 0 0 1 53.126096 0l154.526476 154.624 209.627428 209.724953H146.236952z m633.734096-48.761905c-0.073143 9.337905-3.145143 18.383238-8.777143 25.843809l-219.843048-220.94019 34.133333-34.133334a37.546667 37.546667 0 0 1 53.613715 0l140.873143 141.897143V877.714286zM1009.615238 160.231619L863.329524 13.897143a48.737524 48.737524 0 0 0-16.091429-10.24c-11.849143-4.87619-25.161143-4.87619-37.059047 0a48.761905 48.761905 0 0 0-16.067048 10.24l-146.236952 146.334476a49.005714 49.005714 0 0 0 69.217523 69.241905l62.902858-63.390476v272.627809a48.761905 48.761905 0 1 0 97.475047 0V166.083048l62.902857 63.390476a48.737524 48.737524 0 0 0 69.217524 0 48.761905 48.761905 0 0 0 0-69.241905z"></path></svg>',this.tag="button"}return e.prototype.getValue=function(o){return""},e.prototype.isActive=function(o){return!1},e.prototype.isDisabled=function(o){return Hq(o)},e.prototype.getMenuConfig=function(o){return o.getMenuConfig("uploadImage")},e.prototype.exec=function(o,s){var l=this.getMenuConfig(o),c=l.allowedFileTypes,d=c===void 0?[]:c,p=l.customBrowseAndUpload;if(p)p(function(x,T,E){return g4(o,x,T,E)});else{var v="";d.length>0&&(v='accept="'+d.join(", ")+'"');var b=_t("body"),S=_t('<input type="file" '+v+" multiple/>");S.hide(),b.append(S),S.click(),S.on("change",function(){var x=S[0].files;NAe(o,x)})}},e}(),WJe={menus:[{key:"uploadImage",factory:function(){return new UJe},config:{server:"",fieldName:"wangeditor-uploaded-image",maxFileSize:2097152,maxNumberOfFiles:100,allowedFileTypes:["image/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:1e4,onBeforeUpload:function(e){return e},onProgress:function(e){},onSuccess:function(e,o){},onFailed:function(e,o){console.error("'"+e.name+"' upload failed",o)},onError:function(e,o,s){console.error("'"+e.name+"' upload error",s)},base64LimitSize:0}}],editorPlugin:function(e){var o=e.insertData,s=e;return s.insertData=function(l){if(Hq(s))o(l);else if(l.getData("text/plain"))o(l);else{var c=l.files;c.length<=0?o(l):Array.prototype.slice.call(c).some(function(d){return function(p,v){var b=typeof Symbol=="function"&&p[Symbol.iterator];if(!b)return p;var S,x,T=b.call(p),E=[];try{for(;(v===void 0||v-- >0)&&!(S=T.next()).done;)E.push(S.value)}catch(k){x={error:k}}finally{try{S&&!S.done&&(b=T.return)&&b.call(T)}finally{if(x)throw x.error}}return E}(d.type.split("/"),1)[0]==="image"})?NAe(e,c):o(l)}},s}};nh("en",{highLightModule:{selectLang:"Language"}}),nh("zh-CN",{highLightModule:{selectLang:"\u9009\u62E9\u8BED\u8A00"}});var oq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ehe(e){var o={exports:{}};return e(o,o.exports),o.exports}var qw,pU,jV=function(e){return e&&e.Math==Math&&e},Us=jV(typeof globalThis=="object"&&globalThis)||jV(typeof window=="object"&&window)||jV(typeof self=="object"&&self)||jV(typeof oq=="object"&&oq)||function(){return this}()||Function("return this")(),qJe=Object.defineProperty,khe=function(e,o){try{qJe(Us,e,{value:o,configurable:!0,writable:!0})}catch{Us[e]=o}return o},mC=Us["__core-js_shared__"]||khe("__core-js_shared__",{}),Ahe=Ehe(function(e){(e.exports=function(o,s){return mC[o]||(mC[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),PAe=Function.prototype,Rce=PAe.bind,Mce=PAe.call,ZJe=Rce&&Rce.bind(Mce),qi=Rce?function(e){return e&&ZJe(Mce,e)}:function(e){return e&&function(){return Mce.apply(e,arguments)}},GJe=Us.TypeError,Y5=function(e){if(e==null)throw GJe("Can't call method on "+e);return e},KJe=Us.Object,The=function(e){return KJe(Y5(e))},YJe=qi({}.hasOwnProperty),gg=Object.hasOwn||function(e,o){return YJe(The(e),o)},XJe=0,JJe=Math.random(),QJe=qi(1 .toString),FAe=function(e){return"Symbol("+(e===void 0?"":e)+")_"+QJe(++XJe+JJe,36)},If=function(e){return typeof e=="function"},eQe=function(e){return If(e)?e:void 0},DF=function(e,o){return arguments.length<2?eQe(Us[e]):Us[e]&&Us[e][o]},xie=DF("navigator","userAgent")||"",Wwe=Us.process,qwe=Us.Deno,Zwe=Wwe&&Wwe.versions||qwe&&qwe.version,Gwe=Zwe&&Zwe.v8;Gwe&&(pU=(qw=Gwe.split("."))[0]>0&&qw[0]<4?1:+(qw[0]+qw[1])),!pU&&xie&&(!(qw=xie.match(/Edge\/(\d+)/))||qw[1]>=74)&&(qw=xie.match(/Chrome\/(\d+)/))&&(pU=+qw[1]);var Kwe=pU,Bu=function(e){try{return!!e()}catch{return!0}},Ice=!!Object.getOwnPropertySymbols&&!Bu(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Kwe&&Kwe<41}),Ohe=Ice&&!Symbol.sham&&typeof Symbol.iterator=="symbol",xN=Ahe("wks"),T4=Us.Symbol,Ywe=T4&&T4.for,tQe=Ohe?T4:T4&&T4.withoutSetter||FAe,MC=function(e){if(!gg(xN,e)||!Ice&&typeof xN[e]!="string"){var o="Symbol."+e;Ice&&gg(T4,e)?xN[e]=T4[e]:xN[e]=Ohe&&Ywe?Ywe(o):tQe(o)}return xN[e]},RAe={};RAe[MC("toStringTag")]="z";var _he=String(RAe)==="[object z]",Kv=!Bu(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Lm=function(e){return typeof e=="object"?e!==null:If(e)},Lce=Us.document,nQe=Lm(Lce)&&Lm(Lce.createElement),$he=function(e){return nQe?Lce.createElement(e):{}},MAe=!Kv&&!Bu(function(){return Object.defineProperty($he("div"),"a",{get:function(){return 7}}).a!=7}),oQe=Us.String,rQe=Us.TypeError,Gm=function(e){if(Lm(e))return e;throw rQe(oQe(e)+" is not an object")},EN=Function.prototype.call,lu=EN.bind?EN.bind(EN):function(){return EN.apply(EN,arguments)},IAe=qi({}.isPrototypeOf),sQe=Us.Object,Hce=Ohe?function(e){return typeof e=="symbol"}:function(e){var o=DF("Symbol");return If(o)&&IAe(o.prototype,sQe(e))},iQe=Us.String,LAe=function(e){try{return iQe(e)}catch{return"Object"}},aQe=Us.TypeError,HAe=function(e){if(If(e))return e;throw aQe(LAe(e)+" is not a function")},jAe=function(e,o){var s=e[o];return s==null?void 0:HAe(s)},lQe=Us.TypeError,cQe=Us.TypeError,uQe=MC("toPrimitive"),fQe=function(e,o){if(!Lm(e)||Hce(e))return e;var s,l=jAe(e,uQe);if(l){if(o===void 0&&(o="default"),s=lu(l,e,o),!Lm(s)||Hce(s))return s;throw cQe("Can't convert object to primitive value")}return o===void 0&&(o="number"),function(c,d){var p,v;if(d==="string"&&If(p=c.toString)&&!Lm(v=lu(p,c))||If(p=c.valueOf)&&!Lm(v=lu(p,c))||d!=="string"&&If(p=c.toString)&&!Lm(v=lu(p,c)))return v;throw lQe("Can't convert object to primitive value")}(e,o)},Dhe=function(e){var o=fQe(e,"string");return Hce(o)?o:o+""},dQe=Us.TypeError,Xwe=Object.defineProperty,dZ={f:Kv?Xwe:function(e,o,s){if(Gm(e),o=Dhe(o),Gm(s),MAe)try{return Xwe(e,o,s)}catch{}if("get"in s||"set"in s)throw dQe("Accessors not supported");return"value"in s&&(e[o]=s.value),e}},Bhe=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}},X5=Kv?function(e,o,s){return dZ.f(e,o,Bhe(1,s))}:function(e,o,s){return e[o]=s,e},hQe=qi(Function.toString);If(mC.inspectSource)||(mC.inspectSource=function(e){return hQe(e)});var rq,iP,sq,Nhe=mC.inspectSource,Jwe=Us.WeakMap,pQe=If(Jwe)&&/native code/.test(Nhe(Jwe)),Qwe=Ahe("keys"),zAe=function(e){return Qwe[e]||(Qwe[e]=FAe(e))},Phe={},jce=Us.TypeError,gQe=Us.WeakMap;if(pQe||mC.state){var WE=mC.state||(mC.state=new gQe),mQe=qi(WE.get),eCe=qi(WE.has),vQe=qi(WE.set);rq=function(e,o){if(eCe(WE,e))throw new jce("Object already initialized");return o.facade=e,vQe(WE,e,o),o},iP=function(e){return mQe(WE,e)||{}},sq=function(e){return eCe(WE,e)}}else{var YO=zAe("state");Phe[YO]=!0,rq=function(e,o){if(gg(e,YO))throw new jce("Object already initialized");return o.facade=e,X5(e,YO,o),o},iP=function(e){return gg(e,YO)?e[YO]:{}},sq=function(e){return gg(e,YO)}}var zce={set:rq,get:iP,has:sq,enforce:function(e){return sq(e)?iP(e):rq(e,{})},getterFor:function(e){return function(o){var s;if(!Lm(o)||(s=iP(o)).type!==e)throw jce("Incompatible receiver, "+e+" required");return s}}},VAe=Function.prototype,bQe=Kv&&Object.getOwnPropertyDescriptor,Eie=gg(VAe,"name"),UAe={EXISTS:Eie,PROPER:Eie&&function(){}.name==="something",CONFIGURABLE:Eie&&(!Kv||Kv&&bQe(VAe,"name").configurable)},YP=Ehe(function(e){var o=UAe.CONFIGURABLE,s=zce.get,l=zce.enforce,c=String(String).split("String");(e.exports=function(d,p,v,b){var S,x=!!b&&!!b.unsafe,T=!!b&&!!b.enumerable,E=!!b&&!!b.noTargetGet,k=b&&b.name!==void 0?b.name:p;If(v)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!gg(v,"name")||o&&v.name!==k)&&X5(v,"name",k),(S=l(v)).source||(S.source=c.join(typeof k=="string"?k:""))),d!==Us?(x?!E&&d[p]&&(T=!0):delete d[p],T?d[p]=v:X5(d,p,v)):T?d[p]=v:khe(p,v)})(Function.prototype,"toString",function(){return If(this)&&s(this).source||Nhe(this)})}),yQe=qi({}.toString),wQe=qi("".slice),vC=function(e){return wQe(yQe(e),8,-1)},CQe=MC("toStringTag"),SQe=Us.Object,xQe=vC(function(){return arguments}())=="Arguments",Fhe=_he?vC:function(e){var o,s,l;return e===void 0?"Undefined":e===null?"Null":typeof(s=function(c,d){try{return c[d]}catch{}}(o=SQe(e),CQe))=="string"?s:xQe?vC(o):(l=vC(o))=="Object"&&If(o.callee)?"Arguments":l},EQe=_he?{}.toString:function(){return"[object "+Fhe(this)+"]"};_he||YP(Object.prototype,"toString",EQe,{unsafe:!0});var kQe,tCe,nCe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},kie=$he("span").classList,oCe=kie&&kie.constructor&&kie.constructor.prototype,AQe=oCe===Object.prototype?void 0:oCe,rCe=qi(qi.bind),Aie=Us.Object,TQe=qi("".split),Rhe=Bu(function(){return!Aie("z").propertyIsEnumerable(0)})?function(e){return vC(e)=="String"?TQe(e,""):Aie(e)}:Aie,OQe=Math.ceil,_Qe=Math.floor,Mhe=function(e){var o=+e;return o!=o||o===0?0:(o>0?_Qe:OQe)(o)},$Qe=Math.min,WAe=function(e){return e>0?$Qe(Mhe(e),9007199254740991):0},Ihe=function(e){return WAe(e.length)},sCe=Array.isArray||function(e){return vC(e)=="Array"},qAe=function(){},DQe=[],ZAe=DF("Reflect","construct"),Lhe=/^\s*(?:class|function)\b/,BQe=qi(Lhe.exec),NQe=!Lhe.exec(qAe),kN=function(e){if(!If(e))return!1;try{return ZAe(qAe,DQe,e),!0}catch{return!1}},GAe=!ZAe||Bu(function(){var e;return kN(kN.call)||!kN(Object)||!kN(function(){e=!0})||e})?function(e){if(!If(e))return!1;switch(Fhe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return NQe||!!BQe(Lhe,Nhe(e))}:kN,PQe=MC("species"),iCe=Us.Array,FQe=function(e,o){return new(function(s){var l;return sCe(s)&&(l=s.constructor,(GAe(l)&&(l===iCe||sCe(l.prototype))||Lm(l)&&(l=l[PQe])===null)&&(l=void 0)),l===void 0?iCe:l}(e))(o===0?0:o)},aCe=qi([].push),Zw=function(e){var o=e==1,s=e==2,l=e==3,c=e==4,d=e==6,p=e==7,v=e==5||d;return function(b,S,x,T){for(var E,k,F=The(b),N=Rhe(F),$=function(z,K){return HAe(z),K===void 0?z:rCe?rCe(z,K):function(){return z.apply(K,arguments)}}(S,x),D=Ihe(N),O=0,P=T||FQe,I=o?P(b,D):s||p?P(b,0):void 0;D>O;O++)if((v||O in N)&&(k=$(E=N[O],O,F),e))if(o)I[O]=k;else if(k)switch(e){case 3:return!0;case 5:return E;case 6:return O;case 2:aCe(I,E)}else switch(e){case 4:return!1;case 7:aCe(I,E)}return d?-1:l||c?c:I}},RQe={forEach:Zw(0),map:Zw(1),filter:Zw(2),some:Zw(3),every:Zw(4),find:Zw(5),findIndex:Zw(6),filterReject:Zw(7)}.forEach,Tie=!!(tCe=[].forEach)&&Bu(function(){tCe.call(null,kQe||function(){throw 1},1)})?[].forEach:function(e){return RQe(this,e,arguments.length>1?arguments[1]:void 0)},KAe=function(e){if(e&&e.forEach!==Tie)try{X5(e,"forEach",Tie)}catch{e.forEach=Tie}};for(var Oie in nCe)nCe[Oie]&&KAe(Us[Oie]&&Us[Oie].prototype);KAe(AQe);var lCe={}.propertyIsEnumerable,cCe=Object.getOwnPropertyDescriptor,YAe={f:cCe&&!lCe.call({1:2},1)?function(e){var o=cCe(this,e);return!!o&&o.enumerable}:lCe},hZ=function(e){return Rhe(Y5(e))},uCe=Object.getOwnPropertyDescriptor,XAe={f:Kv?uCe:function(e,o){if(e=hZ(e),o=Dhe(o),MAe)try{return uCe(e,o)}catch{}if(gg(e,o))return Bhe(!lu(YAe.f,e,o),e[o])}},MQe=Math.max,IQe=Math.min,Vce=function(e,o){var s=Mhe(e);return s<0?MQe(s+o,0):IQe(s,o)},fCe=function(e){return function(o,s,l){var c,d=hZ(o),p=Ihe(d),v=Vce(l,p);if(e&&s!=s){for(;p>v;)if((c=d[v++])!=c)return!0}else for(;p>v;v++)if((e||v in d)&&d[v]===s)return e||v||0;return!e&&-1}},LQe={includes:fCe(!0),indexOf:fCe(!1)}.indexOf,dCe=qi([].push),JAe=function(e,o){var s,l=hZ(e),c=0,d=[];for(s in l)!gg(Phe,s)&&gg(l,s)&&dCe(d,s);for(;o.length>c;)gg(l,s=o[c++])&&(~LQe(d,s)||dCe(d,s));return d},iq=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],HQe=iq.concat("length","prototype"),jQe={f:Object.getOwnPropertyNames||function(e){return JAe(e,HQe)}},QAe={f:Object.getOwnPropertySymbols},zQe=qi([].concat),VQe=DF("Reflect","ownKeys")||function(e){var o=jQe.f(Gm(e)),s=QAe.f;return s?zQe(o,s(e)):o},UQe=function(e,o){for(var s=VQe(o),l=dZ.f,c=XAe.f,d=0;d<s.length;d++){var p=s[d];gg(e,p)||l(e,p,c(o,p))}},WQe=/#|\.prototype\./,BF=function(e,o){var s=ZQe[qQe(e)];return s==KQe||s!=GQe&&(If(o)?Bu(o):!!o)},qQe=BF.normalize=function(e){return String(e).replace(WQe,".").toLowerCase()},ZQe=BF.data={},GQe=BF.NATIVE="N",KQe=BF.POLYFILL="P",YQe=BF,XQe=XAe.f,pZ=function(e,o){var s,l,c,d,p,v=e.target,b=e.global,S=e.stat;if(s=b?Us:S?Us[v]||khe(v,{}):(Us[v]||{}).prototype)for(l in o){if(d=o[l],c=e.noTargetGet?(p=XQe(s,l))&&p.value:s[l],!YQe(b?l:v+(S?".":"#")+l,e.forced)&&c!==void 0){if(typeof d==typeof c)continue;UQe(d,c)}(e.sham||c&&c.sham)&&X5(d,"sham",!0),YP(s,l,d,e)}},gU=Object.keys||function(e){return JAe(e,iq)},XO=Object.assign,hCe=Object.defineProperty,JQe=qi([].concat),pCe=!XO||Bu(function(){if(Kv&&XO({b:1},XO(hCe({},"a",{enumerable:!0,get:function(){hCe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},o={},s=Symbol(),l="abcdefghijklmnopqrst";return e[s]=7,l.split("").forEach(function(c){o[c]=c}),XO({},e)[s]!=7||gU(XO({},o)).join("")!=l})?function(e,o){for(var s=The(e),l=arguments.length,c=1,d=QAe.f,p=YAe.f;l>c;)for(var v,b=Rhe(arguments[c++]),S=d?JQe(gU(b),d(b)):gU(b),x=S.length,T=0;x>T;)v=S[T++],Kv&&!lu(p,b,v)||(s[v]=b[v]);return s}:XO;pZ({target:"Object",stat:!0,forced:Object.assign!==pCe},{assign:pCe});var gCe=Ehe(function(e){var o=function(s){var l=/\blang(?:uage)?-([\w-]+)\b/i,c=0,d={},p={manual:s.Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function $(D){return D instanceof v?new v(D.type,$(D.content),D.alias):Array.isArray(D)?D.map($):D.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function($){return Object.prototype.toString.call($).slice(8,-1)},objId:function($){return $.__id||Object.defineProperty($,"__id",{value:++c}),$.__id},clone:function $(D,O){var P,I;switch(O=O||{},p.util.type(D)){case"Object":if(I=p.util.objId(D),O[I])return O[I];for(var z in P={},O[I]=P,D)D.hasOwnProperty(z)&&(P[z]=$(D[z],O));return P;case"Array":return I=p.util.objId(D),O[I]?O[I]:(P=[],O[I]=P,D.forEach(function(K,j){P[j]=$(K,O)}),P);default:return D}},getLanguage:function($){for(;$&&!l.test($.className);)$=$.parentElement;return $?($.className.match(l)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(P){var $=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(P.stack)||[])[1];if($){var D=document.getElementsByTagName("script");for(var O in D)if(D[O].src==$)return D[O]}return null}},isActive:function($,D,O){for(var P="no-"+D;$;){var I=$.classList;if(I.contains(D))return!0;if(I.contains(P))return!1;$=$.parentElement}return!!O}},languages:{plain:d,plaintext:d,text:d,txt:d,extend:function($,D){var O=p.util.clone(p.languages[$]);for(var P in D)O[P]=D[P];return O},insertBefore:function($,D,O,P){var I=(P=P||p.languages)[$],z={};for(var K in I)if(I.hasOwnProperty(K)){if(K==D)for(var j in O)O.hasOwnProperty(j)&&(z[j]=O[j]);O.hasOwnProperty(K)||(z[K]=I[K])}var oe=P[$];return P[$]=z,p.languages.DFS(p.languages,function(xe,se){se===oe&&xe!=$&&(this[xe]=z)}),z},DFS:function $(D,O,P,I){I=I||{};var z=p.util.objId;for(var K in D)if(D.hasOwnProperty(K)){O.call(D,K,D[K],P||K);var j=D[K],oe=p.util.type(j);oe!=="Object"||I[z(j)]?oe!=="Array"||I[z(j)]||(I[z(j)]=!0,$(j,O,K,I)):(I[z(j)]=!0,$(j,O,null,I))}}},plugins:{},highlightAll:function($,D){p.highlightAllUnder(document,$,D)},highlightAllUnder:function($,D,O){var P={callback:O,container:$,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};p.hooks.run("before-highlightall",P),P.elements=Array.prototype.slice.apply(P.container.querySelectorAll(P.selector)),p.hooks.run("before-all-elements-highlight",P);for(var I,z=0;I=P.elements[z++];)p.highlightElement(I,D===!0,P.callback)},highlightElement:function($,D,O){var P=p.util.getLanguage($),I=p.languages[P];$.className=$.className.replace(l,"").replace(/\s+/g," ")+" language-"+P;var z=$.parentElement;z&&z.nodeName.toLowerCase()==="pre"&&(z.className=z.className.replace(l,"").replace(/\s+/g," ")+" language-"+P);var K={element:$,language:P,grammar:I,code:$.textContent};function j(xe){K.highlightedCode=xe,p.hooks.run("before-insert",K),K.element.innerHTML=K.highlightedCode,p.hooks.run("after-highlight",K),p.hooks.run("complete",K),O&&O.call(K.element)}if(p.hooks.run("before-sanity-check",K),(z=K.element.parentElement)&&z.nodeName.toLowerCase()==="pre"&&!z.hasAttribute("tabindex")&&z.setAttribute("tabindex","0"),!K.code)return p.hooks.run("complete",K),void(O&&O.call(K.element));if(p.hooks.run("before-highlight",K),K.grammar)if(D&&s.Worker){var oe=new Worker(p.filename);oe.onmessage=function(xe){j(xe.data)},oe.postMessage(JSON.stringify({language:K.language,code:K.code,immediateClose:!0}))}else j(p.highlight(K.code,K.grammar,K.language));else j(p.util.encode(K.code))},highlight:function($,D,O){var P={code:$,grammar:D,language:O};return p.hooks.run("before-tokenize",P),P.tokens=p.tokenize(P.code,P.grammar),p.hooks.run("after-tokenize",P),v.stringify(p.util.encode(P.tokens),P.language)},tokenize:function($,D){var O=D.rest;if(O){for(var P in O)D[P]=O[P];delete D.rest}var I=new x;return T(I,I.head,$),S($,I,D,I.head,0),function(z){for(var K=[],j=z.head.next;j!==z.tail;)K.push(j.value),j=j.next;return K}(I)},hooks:{all:{},add:function($,D){var O=p.hooks.all;O[$]=O[$]||[],O[$].push(D)},run:function($,D){var O=p.hooks.all[$];if(O&&O.length)for(var P,I=0;P=O[I++];)P(D)}},Token:v};function v($,D,O,P){this.type=$,this.content=D,this.alias=O,this.length=0|(P||"").length}function b($,D,O,P){$.lastIndex=D;var I=$.exec(O);if(I&&P&&I[1]){var z=I[1].length;I.index+=z,I[0]=I[0].slice(z)}return I}function S($,D,O,P,I,z){for(var K in O)if(O.hasOwnProperty(K)&&O[K]){var j=O[K];j=Array.isArray(j)?j:[j];for(var oe=0;oe<j.length;++oe){if(z&&z.cause==K+","+oe)return;var xe=j[oe],se=xe.inside,Q=!!xe.lookbehind,G=!!xe.greedy,ce=xe.alias;if(G&&!xe.pattern.global){var he=xe.pattern.toString().match(/[imsuy]*$/)[0];xe.pattern=RegExp(xe.pattern.source,he+"g")}for(var ve=xe.pattern||xe,qe=P.next,U=I;qe!==D.tail&&!(z&&U>=z.reach);U+=qe.value.length,qe=qe.next){var Fe=qe.value;if(D.length>$.length)return;if(!(Fe instanceof v)){var De,Se=1;if(G){if(!(De=b(ve,U,$,Q)))break;var re=De.index,le=De.index+De[0].length,fe=U;for(fe+=qe.value.length;re>=fe;)fe+=(qe=qe.next).value.length;if(U=fe-=qe.value.length,qe.value instanceof v)continue;for(var ue=qe;ue!==D.tail&&(fe<le||typeof ue.value=="string");ue=ue.next)Se++,fe+=ue.value.length;Se--,Fe=$.slice(U,fe),De.index-=U}else if(!(De=b(ve,0,Fe,Q)))continue;re=De.index;var Be=De[0],Ce=Fe.slice(0,re),me=Fe.slice(re+Be.length),q=U+Fe.length;z&&q>z.reach&&(z.reach=q);var Ze=qe.prev;if(Ce&&(Ze=T(D,Ze,Ce),U+=Ce.length),E(D,Ze,Se),qe=T(D,Ze,new v(K,se?p.tokenize(Be,se):Be,ce,Be)),me&&T(D,qe,me),Se>1){var We={cause:K+","+oe,reach:q};S($,D,O,qe.prev,U,We),z&&We.reach>z.reach&&(z.reach=We.reach)}}}}}}function x(){var $={value:null,prev:null,next:null},D={value:null,prev:$,next:null};$.next=D,this.head=$,this.tail=D,this.length=0}function T($,D,O){var P=D.next,I={value:O,prev:D,next:P};return D.next=I,P.prev=I,$.length++,I}function E($,D,O){for(var P=D.next,I=0;I<O&&P!==$.tail;I++)P=P.next;D.next=P,P.prev=D,$.length-=I}if(s.Prism=p,v.stringify=function $(D,O){if(typeof D=="string")return D;if(Array.isArray(D)){var P="";return D.forEach(function(oe){P+=$(oe,O)}),P}var I={type:D.type,content:$(D.content,O),tag:"span",classes:["token",D.type],attributes:{},language:O},z=D.alias;z&&(Array.isArray(z)?Array.prototype.push.apply(I.classes,z):I.classes.push(z)),p.hooks.run("wrap",I);var K="";for(var j in I.attributes)K+=" "+j+'="'+(I.attributes[j]||"").replace(/"/g,"&quot;")+'"';return"<"+I.tag+' class="'+I.classes.join(" ")+'"'+K+">"+I.content+"</"+I.tag+">"},!s.document)return s.addEventListener&&(p.disableWorkerMessageHandler||s.addEventListener("message",function($){var D=JSON.parse($.data),O=D.language,P=D.code,I=D.immediateClose;s.postMessage(p.highlight(P,p.languages[O],O)),I&&s.close()},!1)),p;var k=p.util.currentScript();function F(){p.manual||p.highlightAll()}if(k&&(p.filename=k.src,k.hasAttribute("data-manual")&&(p.manual=!0)),!p.manual){var N=document.readyState;N==="loading"||N==="interactive"&&k&&k.defer?document.addEventListener("DOMContentLoaded",F):window.requestAnimationFrame?window.requestAnimationFrame(F):window.setTimeout(F,16)}return p}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */e.exports&&(e.exports=o),oq!==void 0&&(oq.Prism=o),o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(s,l){var c={};c["language-"+l]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[l]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var d={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};d["language-"+l]={pattern:/[\s\S]+/,inside:o.languages[l]};var p={};p[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:d},o.languages.insertBefore("markup","cdata",p)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(s,l){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+s+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[l,"language-"+l],inside:o.languages[l]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(s){var l=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;s.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+l.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+l.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+l.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:l,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},s.languages.css.atrule.inside.rest=s.languages.css;var c=s.languages.markup;c&&(c.tag.addInlined("style","css"),c.tag.addAttribute("style","css"))}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,function(){if(o!==void 0&&typeof document<"u"){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",c="loading",d="loaded",p='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',v=/\blang(?:uage)?-([\w-]+)\b/i;o.hooks.add("before-highlightall",function(x){x.selector+=", "+p}),o.hooks.add("before-sanity-check",function(x){var T=x.element;if(T.matches(p)){x.code="",T.setAttribute(l,c);var E=T.appendChild(document.createElement("CODE"));E.textContent="Loading\u2026";var k=T.getAttribute("data-src"),F=x.language;if(F==="none"){var N=(/\.(\w+)$/.exec(k)||[,"none"])[1];F=s[N]||N}S(E,F),S(T,F);var $=o.plugins.autoloader;$&&$.loadLanguages(F);var D=new XMLHttpRequest;D.open("GET",k,!0),D.onreadystatechange=function(){var O,P;D.readyState==4&&(D.status<400&&D.responseText?(T.setAttribute(l,d),E.textContent=D.responseText,o.highlightElement(E)):(T.setAttribute(l,"failed"),D.status>=400?E.textContent=(O=D.status,P=D.statusText,"\u2716 Error "+O+" while fetching file: "+P):E.textContent="\u2716 Error: File does not exist or is empty"))},D.send(null)}}),o.plugins.fileHighlight={highlight:function(x){for(var T,E=(x||document).querySelectorAll(p),k=0;T=E[k++];)o.highlightElement(T)}};var b=!1;o.fileHighlight=function(){b||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),b=!0),o.plugins.fileHighlight.highlight.apply(this,arguments)}}function S(x,T){var E=x.className;E=E.replace(v," ")+" language-"+T,x.className=E.replace(/\s+/g," ").trim()}}()});(function(e){var o=e.util.clone(e.languages.javascript),s=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,l=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,c=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function d(b,S){return b=b.replace(/<S>/g,function(){return s}).replace(/<BRACES>/g,function(){return l}).replace(/<SPREAD>/g,function(){return c}),RegExp(b,S)}c=d(c).source,e.languages.jsx=e.languages.extend("markup",o),e.languages.jsx.tag.pattern=d(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/i,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=o.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:d(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:d(/=<BRACES>/.source),inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var p=function(b){return b?typeof b=="string"?b:typeof b.content=="string"?b.content:b.content.map(p).join(""):""},v=function(b){for(var S=[],x=0;x<b.length;x++){var T=b[x],E=!1;if(typeof T!="string"&&(T.type==="tag"&&T.content[0]&&T.content[0].type==="tag"?T.content[0].content[0].content==="</"?S.length>0&&S[S.length-1].tagName===p(T.content[0].content[1])&&S.pop():T.content[T.content.length-1].content==="/>"||S.push({tagName:p(T.content[0].content[1]),openedBraces:0}):S.length>0&&T.type==="punctuation"&&T.content==="{"?S[S.length-1].openedBraces++:S.length>0&&S[S.length-1].openedBraces>0&&T.type==="punctuation"&&T.content==="}"?S[S.length-1].openedBraces--:E=!0),(E||typeof T=="string")&&S.length>0&&S[S.length-1].openedBraces===0){var k=p(T);x<b.length-1&&(typeof b[x+1]=="string"||b[x+1].type==="plain-text")&&(k+=p(b[x+1]),b.splice(x+1,1)),x>0&&(typeof b[x-1]=="string"||b[x-1].type==="plain-text")&&(k=p(b[x-1])+k,b.splice(x-1,1),x--),b[x]=new e.Token("plain-text",k,null,k)}T.content&&typeof T.content!="string"&&v(T.content)}};e.hooks.add("after-tokenize",function(b){b.language!=="jsx"&&b.language!=="tsx"||v(b.tokens)})})(Prism),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter;var o=e.languages.extend("typescript",{});delete o["class-name"],e.languages.typescript["class-name"].inside=o,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:o}}}}),e.languages.ts=e.languages.typescript}(Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,o){var s={};s["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[o]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};l["language-"+o]={pattern:/[\s\S]+/,inside:Prism.languages[o]};var c={};c[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:l},Prism.languages.insertBefore("markup","cdata",c)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,o){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:Prism.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete Prism.languages.go["class-name"],function(e){var o=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,s=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],l=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,c=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,d=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:o,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:s,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:l,operator:c,punctuation:d};var p={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},v=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:p}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:p}}];e.languages.insertBefore("php","variable",{string:v,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:o,string:v,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:s,number:l,operator:c,punctuation:d}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(b){/<\?/.test(b.code)&&e.languages["markup-templating"].buildPlaceholders(b,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi)}),e.hooks.add("after-tokenize",function(b){e.languages["markup-templating"].tokenizePlaceholders(b,"php")})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(e){var o=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,s=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(s+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(s+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:o,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":l,keyword:o,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return o.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),function(e){var o=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,s=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return o.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return o.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:o,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return s})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism),function(e){function o(le,fe){return le.replace(/<<(\d+)>>/g,function(ue,Be){return"(?:"+fe[+Be]+")"})}function s(le,fe,ue){return RegExp(o(le,fe),ue||"")}function l(le,fe){for(var ue=0;ue<fe;ue++)le=le.replace(/<<self>>/g,function(){return"(?:"+le+")"});return le.replace(/<<self>>/g,"[^\\s\\S]")}var c="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",d="class enum interface record struct",p="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",v="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function b(le){return"\\b(?:"+le.trim().replace(/ /g,"|")+")\\b"}var S=b(d),x=RegExp(b(c+" "+d+" "+p+" "+v)),T=b(d+" "+p+" "+v),E=b(c+" "+d+" "+v),k=l(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),F=l(/\((?:[^()]|<<self>>)*\)/.source,2),N=/@?\b[A-Za-z_]\w*\b/.source,$=o(/<<0>>(?:\s*<<1>>)?/.source,[N,k]),D=o(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[T,$]),O=/\[\s*(?:,\s*)*\]/.source,P=o(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[D,O]),I=o(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[k,F,O]),z=o(/\(<<0>>+(?:,<<0>>+)+\)/.source,[I]),K=o(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[z,D,O]),j={keyword:x,punctuation:/[<>()?,.:[\]]/},oe=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,xe=/"(?:\\.|[^\\"\r\n])*"/.source,se=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:s(/(^|[^$\\])<<0>>/.source,[se]),lookbehind:!0,greedy:!0},{pattern:s(/(^|[^@$\\])<<0>>/.source,[xe]),lookbehind:!0,greedy:!0},{pattern:RegExp(oe),greedy:!0,alias:"character"}],"class-name":[{pattern:s(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[D]),lookbehind:!0,inside:j},{pattern:s(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[N,K]),lookbehind:!0,inside:j},{pattern:s(/(\busing\s+)<<0>>(?=\s*=)/.source,[N]),lookbehind:!0},{pattern:s(/(\b<<0>>\s+)<<1>>/.source,[S,$]),lookbehind:!0,inside:j},{pattern:s(/(\bcatch\s*\(\s*)<<0>>/.source,[D]),lookbehind:!0,inside:j},{pattern:s(/(\bwhere\s+)<<0>>/.source,[N]),lookbehind:!0},{pattern:s(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[P]),lookbehind:!0,inside:j},{pattern:s(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[K,E,N]),inside:j}],keyword:x,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:s(/([(,]\s*)<<0>>(?=\s*:)/.source,[N]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:s(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[N]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:s(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[F]),lookbehind:!0,alias:"class-name",inside:j},"return-type":{pattern:s(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[K,D]),inside:j,alias:"class-name"},"constructor-invocation":{pattern:s(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[K]),lookbehind:!0,inside:j,alias:"class-name"},"generic-method":{pattern:s(/<<0>>\s*<<1>>(?=\s*\()/.source,[N,k]),inside:{function:s(/^<<0>>/.source,[N]),generic:{pattern:RegExp(k),alias:"class-name",inside:j}}},"type-list":{pattern:s(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[S,$,N,K,x.source,F,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:s(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[$,F]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:x,"class-name":{pattern:RegExp(K),greedy:!0,inside:j},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Q=xe+"|"+oe,G=o(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Q]),ce=l(o(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[G]),2),he=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,ve=o(/<<0>>(?:\s*\(<<1>>*\))?/.source,[D,ce]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:s(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[he,ve]),lookbehind:!0,greedy:!0,inside:{target:{pattern:s(/^<<0>>(?=\s*:)/.source,[he]),alias:"keyword"},"attribute-arguments":{pattern:s(/\(<<0>>*\)/.source,[ce]),inside:e.languages.csharp},"class-name":{pattern:RegExp(D),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var qe=/:[^}\r\n]+/.source,U=l(o(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[G]),2),Fe=o(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[U,qe]),De=l(o(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Q]),2),Se=o(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[De,qe]);function re(le,fe){return{interpolation:{pattern:s(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[le]),lookbehind:!0,inside:{"format-string":{pattern:s(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[fe,qe]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:s(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Fe]),lookbehind:!0,greedy:!0,inside:re(Fe,U)},{pattern:s(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Se]),lookbehind:!0,greedy:!0,inside:re(Se,De)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,Prism.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:[^\S\r\n]_[^\S\r\n]*(?:\r\n?|\n)|.)+/i,alias:"comment",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[^\S\r\n]*(?:\d+([/-])\d+\1\d+(?:[^\S\r\n]+(?:\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?))?|\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?)[^\S\r\n]*#/i,alias:"builtin"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:U?[ILS]|[FRD])?/i,boolean:/\b(?:True|False|Nothing)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Until|Xor)\b/i,operator:[/[+\-*/\\^<=>&#@$%!]/,{pattern:/([^\S\r\n])_(?=[^\S\r\n]*[\r\n])/,lookbehind:!0}],punctuation:/[{}().,:?]/},Prism.languages.vb=Prism.languages["visual-basic"],Prism.languages.vba=Prism.languages["visual-basic"],Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var o={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.languages.ruby}};delete e.languages.ruby.function,e.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:o}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:o}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:e.languages.ruby}}}),e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:o}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:o}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:o}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],e.languages.rb=e.languages.ruby}(Prism),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:true|false)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:true|false)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift}),function(e){var o="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",s={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},l={bash:s,environment:{pattern:RegExp("\\$"+o),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+o),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+o),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:l},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:s}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:l},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:l.entity}}],environment:{pattern:RegExp("\\$?"+o),alias:"constant"},variable:l.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},s.inside=e.languages.bash;for(var c=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],d=l.variable[1].inside,p=0;p<c.length;p++)d[c[p]]=e.languages.bash[c[p]];e.languages.shell=e.languages.bash}(Prism),function(e){var o=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function s(S){return S=S.replace(/<inner>/g,function(){return o}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+S+")")}var l=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,c=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return l}),d=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+c+d+"(?:"+c+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+c+d+")(?:"+c+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(l),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+c+")"+d+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+c+"$"),inside:{"table-header":{pattern:RegExp(l),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:s(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:s(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:s(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:s(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(S){["url","bold","italic","strike","code-snippet"].forEach(function(x){S!==x&&(e.languages.markdown[S].inside.content.inside[x]=e.languages.markdown[x])})}),e.hooks.add("after-tokenize",function(S){S.language!=="markdown"&&S.language!=="md"||function x(T){if(T&&typeof T!="string")for(var E=0,k=T.length;E<k;E++){var F=T[E];if(F.type==="code"){var N=F.content[1],$=F.content[3];if(N&&$&&N.type==="code-language"&&$.type==="code-block"&&typeof N.content=="string"){var D=N.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),O="language-"+(D=(/[a-z][\w-]*/i.exec(D)||[""])[0].toLowerCase());$.alias?typeof $.alias=="string"?$.alias=[$.alias,O]:$.alias.push(O):$.alias=[O]}}else x(F.content)}}(S.tokens)}),e.hooks.add("wrap",function(S){if(S.type==="code-block"){for(var x="",T=0,E=S.classes.length;T<E;T++){var k=S.classes[T],F=/language-(.+)/.exec(k);if(F){x=F[1];break}}var N=e.languages[x];if(N)S.content=e.highlight(function(D){var O=D.replace(p,"");return O=O.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(P,I){var z;if((I=I.toLowerCase())[0]==="#")return z=I[1]==="x"?parseInt(I.slice(2),16):Number(I.slice(1)),b(z);var K=v[I];return K||P})}(S.content),N,x);else if(x&&x!=="none"&&e.plugins.autoloader){var $="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());S.attributes.id=$,e.plugins.autoloader.loadLanguages(x,function(){var D=document.getElementById($);D&&(D.innerHTML=e.highlight(D.textContent,e.languages[x],x))})}}});var p=RegExp(e.languages.markup.tag.pattern.source,"gi"),v={amp:"&",lt:"<",gt:">",quot:'"'},b=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism),Prism.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/},Prism.languages.groovy=Prism.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),Prism.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),Prism.hooks.add("wrap",function(e){if(e.language==="groovy"&&e.type==="string"){var o=e.content[0];if(o!="'"){var s=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;o==="$"&&(s=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),e.content=e.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),e.content=Prism.highlight(e.content,{expression:{pattern:s,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push(o==="/"?"regex":"gstring")}}});var QQe=["comment","prolog","doctype","cdata","punctuation","namespace","property","tag","boolean","number","constant","symbol","deleted","selector","attr-name","string","builtin","inserted","operator","entity","url","string","atrule","attr-value","keyword","function","class-name","regex","important","variable","bold","italic","entity","char"];function eTe(e){return typeof e=="string"?e.length:typeof e.content=="string"?e.content.length:e.content.reduce(function(o,s){return o+eTe(s)},0)}var zV,eet=Us.String,hy=function(e){if(Fhe(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return eet(e)},tTe=function(){var e=Gm(this),o="";return e.global&&(o+="g"),e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),e.dotAll&&(o+="s"),e.unicode&&(o+="u"),e.sticky&&(o+="y"),o},Hhe=Us.RegExp,Uce=Bu(function(){var e=Hhe("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),tet=Uce||Bu(function(){return!Hhe("a","y").sticky}),nTe={BROKEN_CARET:Uce||Bu(function(){var e=Hhe("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),MISSED_STICKY:tet,UNSUPPORTED_Y:Uce},net=Kv?Object.defineProperties:function(e,o){Gm(e);for(var s,l=hZ(o),c=gU(o),d=c.length,p=0;d>p;)dZ.f(e,s=c[p++],l[s]);return e},oet=DF("document","documentElement"),oTe=zAe("IE_PROTO"),_ie=function(){},rTe=function(e){return"<script>"+e+"<\/script>"},mCe=function(e){e.write(rTe("")),e.close();var o=e.parentWindow.Object;return e=null,o},mU=function(){try{zV=new ActiveXObject("htmlfile")}catch{}var e,o;mU=typeof document<"u"?document.domain&&zV?mCe(zV):((o=$he("iframe")).style.display="none",oet.appendChild(o),o.src=String("javascript:"),(e=o.contentWindow.document).open(),e.write(rTe("document.F=Object")),e.close(),e.F):mCe(zV);for(var s=iq.length;s--;)delete mU.prototype[iq[s]];return mU()};Phe[oTe]=!0;var vCe,$ie,ret=Object.create||function(e,o){var s;return e!==null?(_ie.prototype=Gm(e),s=new _ie,_ie.prototype=null,s[oTe]=e):s=mU(),o===void 0?s:net(s,o)},set=Us.RegExp,iet=Bu(function(){var e=set(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),aet=Us.RegExp,cet=Bu(function(){var e=aet("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),uet=zce.get,fet=Ahe("native-string-replace",String.prototype.replace),aq=RegExp.prototype.exec,Wce=aq,det=qi("".charAt),het=qi("".indexOf),pet=qi("".replace),Die=qi("".slice),Bie=($ie=/b*/g,lu(aq,vCe=/a/,"a"),lu(aq,$ie,"a"),vCe.lastIndex!==0||$ie.lastIndex!==0),bCe=nTe.BROKEN_CARET,Nie=/()??/.exec("")[1]!==void 0;(Bie||Nie||bCe||iet||cet)&&(Wce=function(e){var o,s,l,c,d,p,v,b=this,S=uet(b),x=hy(e),T=S.raw;if(T)return T.lastIndex=b.lastIndex,o=lu(Wce,T,x),b.lastIndex=T.lastIndex,o;var E=S.groups,k=bCe&&b.sticky,F=lu(tTe,b),N=b.source,$=0,D=x;if(k&&(F=pet(F,"y",""),het(F,"g")===-1&&(F+="g"),D=Die(x,b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&det(x,b.lastIndex-1)!==`
`)&&(N="(?: "+N+")",D=" "+D,$++),s=new RegExp("^(?:"+N+")",F)),Nie&&(s=new RegExp("^"+N+"$(?!\\s)",F)),Bie&&(l=b.lastIndex),c=lu(aq,k?s:b,D),k?c?(c.input=Die(c.input,$),c[0]=Die(c[0],$),c.index=b.lastIndex,b.lastIndex+=c[0].length):b.lastIndex=0:Bie&&c&&(b.lastIndex=b.global?c.index+c[0].length:l),Nie&&c&&c.length>1&&lu(fet,c[0],s,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(c[d]=void 0)}),c&&E)for(c.groups=p=ret(null),d=0;d<E.length;d++)p[(v=E[d])[0]]=c[v[1]];return c});var XP=Wce;pZ({target:"RegExp",proto:!0,forced:/./.exec!==XP},{exec:XP});var jhe=Function.prototype,yCe=jhe.apply,get=jhe.bind,wCe=jhe.call,met=typeof Reflect=="object"&&Reflect.apply||(get?wCe.bind(yCe):function(){return wCe.apply(yCe,arguments)}),vet=MC("species"),Pie=RegExp.prototype,bet=MC("match"),yet=Us.TypeError,wet=MC("species"),Cet=function(e,o){var s,l=Gm(e).constructor;return l===void 0||(s=Gm(l)[wet])==null?o:function(c){if(GAe(c))return c;throw yet(LAe(c)+" is not a constructor")}(s)},xet=qi("".charAt),CCe=qi("".charCodeAt),Eet=qi("".slice),SCe=function(e){return function(o,s){var l,c,d=hy(Y5(o)),p=Mhe(s),v=d.length;return p<0||p>=v?e?"":void 0:(l=CCe(d,p))<55296||l>56319||p+1===v||(c=CCe(d,p+1))<56320||c>57343?e?xet(d,p):l:e?Eet(d,p,p+2):c-56320+(l-55296<<10)+65536}},ket={codeAt:SCe(!1),charAt:SCe(!0)}.charAt,Aet=function(e,o,s){return o+(s?ket(e,o).length:1)},Tet=Us.Array,Oet=Math.max,xCe=function(e,o,s){for(var l,c,d,p,v=Ihe(e),b=Vce(o,v),S=Vce(s===void 0?v:s,v),x=Tet(Oet(S-b,0)),T=0;b<S;b++,T++)l=x,c=T,d=e[b],p=void 0,(p=Dhe(c))in l?dZ.f(l,p,Bhe(0,d)):l[p]=d;return x.length=T,x},_et=Us.TypeError,ECe=function(e,o){var s=e.exec;if(If(s)){var l=lu(s,e,o);return l!==null&&Gm(l),l}if(vC(e)==="RegExp")return lu(XP,e,o);throw _et("RegExp#exec called on incompatible receiver")},JO=nTe.UNSUPPORTED_Y,$et=Math.min,sTe=[].push,Det=qi(/./.exec),QO=qi(sTe),AN=qi("".slice);(function(e,o,s,l){var c=MC(e),d=!Bu(function(){var S={};return S[c]=function(){return 7},""[e](S)!=7}),p=d&&!Bu(function(){var S=!1,x=/a/;return e==="split"&&((x={}).constructor={},x.constructor[vet]=function(){return x},x.flags="",x[c]=/./[c]),x.exec=function(){return S=!0,null},x[c](""),!S});if(!d||!p||s){var v=qi(/./[c]),b=o(c,""[e],function(S,x,T,E,k){var F=qi(S),N=x.exec;return N===XP||N===Pie.exec?d&&!k?{done:!0,value:v(x,T,E)}:{done:!0,value:F(T,x,E)}:{done:!1}});YP(String.prototype,e,b[0]),YP(Pie,c,b[1])}l&&X5(Pie[c],"sham",!0)})("split",function(e,o,s){var l;return l="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(c,d){var p,v,b=hy(Y5(this)),S=d===void 0?4294967295:d>>>0;if(S===0)return[];if(c===void 0)return[b];if(!Lm(p=c)||!((v=p[bet])!==void 0?v:vC(p)=="RegExp"))return lu(o,b,c,S);for(var x,T,E,k=[],F=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(c.sticky?"y":""),N=0,$=new RegExp(c.source,F+"g");(x=lu(XP,$,b))&&!((T=$.lastIndex)>N&&(QO(k,AN(b,N,x.index)),x.length>1&&x.index<b.length&&met(sTe,k,xCe(x,1)),E=x[0].length,N=T,k.length>=S));)$.lastIndex===x.index&&$.lastIndex++;return N===b.length?!E&&Det($,"")||QO(k,""):QO(k,AN(b,N)),k.length>S?xCe(k,0,S):k}:"0".split(void 0,0).length?function(c,d){return c===void 0&&d===0?[]:lu(o,this,c,d)}:o,[function(c,d){var p=Y5(this),v=c==null?void 0:jAe(c,e);return v?lu(v,c,p,d):lu(l,hy(p),c,d)},function(c,d){var p=Gm(this),v=hy(c),b=s(l,p,v,d,l!==o);if(b.done)return b.value;var S=Cet(p,RegExp),x=p.unicode,T=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(JO?"g":"y"),E=new S(JO?"^(?:"+p.source+")":p,T),k=d===void 0?4294967295:d>>>0;if(k===0)return[];if(v.length===0)return ECe(E,v)===null?[v]:[];for(var F=0,N=0,$=[];N<v.length;){E.lastIndex=JO?0:N;var D,O=ECe(E,JO?AN(v,N):v);if(O===null||(D=$et(WAe(E.lastIndex+(JO?N:0)),v.length))===F)N=Aet(v,N,x);else{if(QO($,AN(v,F,N)),$.length===k)return $;for(var P=1;P<=O.length-1;P++)if(QO($,O[P]),$.length===k)return $;N=F=D}}return QO($,AN(v,F)),$}]},!!Bu(function(){var e=/(?:)/,o=e.exec;e.exec=function(){return o.apply(this,arguments)};var s="ab".split(e);return s.length!==2||s[0]!=="a"||s[1]!=="b"}),JO),pZ({global:!0},{globalThis:Us}),mg&&(_t.fn.attr=mg);var Bet=UAe.PROPER,qce=RegExp.prototype,iTe=qce.toString,Net=qi(tTe),Pet=Bu(function(){return iTe.call({source:"a",flags:"b"})!="/a/b"}),Fet=Bet&&iTe.name!="toString";(Pet||Fet)&&YP(RegExp.prototype,"toString",function(){var e=Gm(this),o=hy(e.source),s=e.flags;return"/"+o+"/"+hy(s===void 0&&IAe(qce,e)&&!("flags"in qce)?Net(e):s)},{unsafe:!0});var Ret=function(){function e(){this.title=Co("highLightModule.selectLang"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M64 64v896h896V64H64z m487.6 698.8c0 87.2-51.2 127-125.8 127-67.4 0-106.4-34.8-126.4-77l68.6-41.4c13.2 23.4 25.2 43.2 54.2 43.2 27.6 0 45.2-10.8 45.2-53V475.4h84.2v287.4z m199.2 127c-78.2 0-128.8-37.2-153.4-86l68.6-39.6c18 29.4 41.6 51.2 83 51.2 34.8 0 57.2-17.4 57.2-41.6 0-28.8-22.8-39-61.4-56l-21-9c-60.8-25.8-101-58.4-101-127 0-63.2 48.2-111.2 123.2-111.2 53.6 0 92 18.6 119.6 67.4L800 580c-14.4-25.8-30-36-54.2-36-24.6 0-40.2 15.6-40.2 36 0 25.2 15.6 35.4 51.8 51.2l21 9c71.6 30.6 111.8 62 111.8 132.4 0 75.6-59.6 117.2-139.4 117.2z"></path></svg>',this.tag="select",this.width=95,this.selectPanelWidth=115}return e.prototype.getOptions=function(o){var s=[],l=o.getMenuConfig("codeSelectLang").codeLangs,c=l===void 0?[]:l;s.push({text:"plain text",value:""}),c.forEach(function(p){var v=p.text,b=p.value;s.push({text:v,value:b})});var d=this.getValue(o);return s.forEach(function(p){p.value===d?p.selected=!0:delete p.selected}),s},e.prototype.isActive=function(o){return!1},e.prototype.getValue=function(o){var s=this.getSelectCodeElem(o);if(s==null||!ar.isElement(s))return"";var l=s.language.toString(),c=o.getMenuConfig("codeSelectLang").codeLangs;return(c===void 0?[]:c).some(function(d){return d.value===l})?l:""},e.prototype.isDisabled=function(o){return o.selection==null||!this.getSelectCodeElem(o)},e.prototype.exec=function(o,s){if(this.getSelectCodeElem(o)!=null){var l={language:s.toString()};Qt.setNodes(o,l,{match:function(c){return wt.checkNodeType(c,"code")}})}},e.prototype.getSelectCodeElem=function(o){var s=wt.getSelectedNodeByType(o,"code");if(s==null)return null;var l=wt.getParentNode(o,s);return ar.isElement(l)?l.type!=="pre"?null:s:null},e}(),Met={renderStyle:function(e,o){var s=e,l=o,c="";return QQe.forEach(function(d){s[d]&&(c=d)}),c&&function(d,p){d.data==null&&(d.data={});var v=d.data;v.props==null&&(v.props={}),Object.assign(v.props,{className:p})}(l,c="token "+c),l},parseStyleHtml:function(e,o,s){var l=_t(e);if(!ar.isElement(o)||wt.getNodeType(o)!=="code")return o;var c=o,d=l.attr("class")||"";return d.indexOf("language-")===0?c.language=d.split("-")[1]||"":c.language=d.toLowerCase(),c},menus:[{key:"codeSelectLang",factory:function(){return new Ret},config:{codeLangs:[{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"Javascript",value:"javascript"},{text:"Typescript",value:"typescript"},{text:"JSX",value:"jsx"},{text:"Go",value:"go"},{text:"PHP",value:"php"},{text:"C",value:"c"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Visual Basic",value:"visual-basic"},{text:"SQL",value:"sql"},{text:"Ruby",value:"ruby"},{text:"Swift",value:"swift"},{text:"Bash",value:"bash"},{text:"Lua",value:"lua"},{text:"Groovy",value:"groovy"},{text:"Markdown",value:"markdown"}]}}],elemsToHtml:[{type:"code",elemToHtml:function(e,o){var s=e.language,l=s===void 0?"":s;return"<code "+(l?'class="language-'+l+'"':"")+">"+o+"</code>"}}]},Iet=/"/g,Let=qi("".replace);pZ({target:"String",proto:!0,forced:function(e){return Bu(function(){var o=""[e]('"');return o!==o.toLowerCase()||o.split('"').length>3})}("anchor")},{anchor:function(e){return o="a",s="name",l=e,c=hy(Y5(this)),d="<"+o,s!==""&&(d+=" "+s+'="'+Let(hy(l),Iet,"&quot;")+'"'),d+">"+c+"</"+o+">";var o,s,l,c,d}});var aTe=function(e){var o,s,l,c=function(D,O){var P=typeof Symbol=="function"&&D[Symbol.iterator];if(!P)return D;var I,z,K=P.call(D),j=[];try{for(;(O===void 0||O-- >0)&&!(I=K.next()).done;)j.push(I.value)}catch(oe){z={error:oe}}finally{try{I&&!I.done&&(P=K.return)&&P.call(K)}finally{if(z)throw z.error}}return j}(e,2),d=c[0],p=c[1],v=[],b=function(D){if(!Mo.isText(D))return null;var O=wt.getParentNode(null,D);if(O&&wt.getNodeType(O)==="code"){var P=wt.getParentNode(null,O);if(P&&wt.getNodeType(P)==="pre")return O}return null}(d);if(b==null)return v;var S=b.language,x=S===void 0?"":S;if(!x)return v;var T=function(D,O){if(!O)return[];var P=gCe.languages[O];return P?gCe.tokenize(D.text,P):[]}(d,x),E=0;try{for(var k=function(D){var O=typeof Symbol=="function"&&Symbol.iterator,P=O&&D[O],I=0;if(P)return P.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&I>=D.length&&(D=void 0),{value:D&&D[I++],done:!D}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")}(T),F=k.next();!F.done;F=k.next()){var N=F.value,$=E+eTe(N);typeof N!="string"&&v.push(((l={})[N.type]=!0,l.anchor={path:p,offset:E},l.focus={path:p,offset:$},l)),E=$}}catch(D){o={error:D}}finally{try{F&&!F.done&&(s=k.return)&&s.call(k)}finally{if(o)throw o.error}}return v};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ql=function(){return ql=Object.assign||function(o){for(var s,l=1,c=arguments.length;l<c;l++){s=arguments[l];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},ql.apply(this,arguments)},$u=function(){function e(){throw new Error(`\u4E0D\u80FD\u5B9E\u4F8B\u5316
Can not construct a instance`)}return e.setEditorConfig=function(o){o===void 0&&(o={}),this.editorConfig=ql(ql({},this.editorConfig),o)},e.setSimpleEditorConfig=function(o){o===void 0&&(o={}),this.simpleEditorConfig=ql(ql({},this.simpleEditorConfig),o)},e.setToolbarConfig=function(o){o===void 0&&(o={}),this.toolbarConfig=ql(ql({},this.toolbarConfig),o)},e.setSimpleToolbarConfig=function(o){o===void 0&&(o={}),this.simpleToolbarConfig=ql(ql({},this.simpleToolbarConfig),o)},e.registerPlugin=function(o){this.plugins.push(o)},e.registerMenu=function(o,s){MNe(o,s)},e.registerRenderElem=function(o){lFe(o)},e.registerRenderStyle=function(o){aFe(o)},e.registerElemToHtml=function(o){qNe(o)},e.registerStyleToHtml=function(o){WNe(o)},e.registerPreParseHtml=function(o){gPe(o)},e.registerParseElemHtml=function(o){vPe(o)},e.registerParseStyleHtml=function(o){mPe(o)},e.registerModule=function(o){Q4(o)},e.editorConfig={},e.simpleEditorConfig={},e.toolbarConfig={},e.simpleToolbarConfig={},e.plugins=[],e}();function Q4(e){var o=e.menus,s=e.renderElems,l=e.renderStyle,c=e.elemsToHtml,d=e.styleToHtml,p=e.preParseHtml,v=e.parseElemsHtml,b=e.parseStyleHtml,S=e.editorPlugin;o&&o.forEach(function(x){return $u.registerMenu(x)}),s&&s.forEach(function(x){return $u.registerRenderElem(x)}),l&&$u.registerRenderStyle(l),c&&c.forEach(function(x){return $u.registerElemToHtml(x)}),d&&$u.registerStyleToHtml(d),p&&p.forEach(function(x){return $u.registerPreParseHtml(x)}),v&&v.forEach(function(x){return $u.registerParseElemHtml(x)}),b&&$u.registerParseStyleHtml(b),S&&$u.registerPlugin(S)}$je.forEach(function(e){return Q4(e)});Q4(uUe);Q4(Lqe);Q4(QKe);Q4(WJe);Q4(Met);var Het='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',jet='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',lTe='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',zet='<svg viewBox="0 0 1024 1024"><path d="M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path></svg>',Vet='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>';function Uet(){return["headerSelect","blockquote","|","bold","underline","italic",{key:"group-more-style",title:Co("editor.more"),iconSvg:zet,menuKeys:["through","code","sup","sub","clearStyle"]},"color","bgColor","|","fontSize","fontFamily","lineHeight","|","bulletedList","numberedList","todo",{key:"group-justify",title:Co("editor.justify"),iconSvg:jet,menuKeys:["justifyLeft","justifyRight","justifyCenter","justifyJustify"]},{key:"group-indent",title:Co("editor.indent"),iconSvg:Het,menuKeys:["indent","delIndent"]},"|","emotion","insertLink",{key:"group-image",title:Co("editor.image"),iconSvg:lTe,menuKeys:["insertImage","uploadImage"]},{key:"group-video",title:Co("editor.video"),iconSvg:Vet,menuKeys:["insertVideo","uploadVideo"]},"insertTable","codeBlock","divider","|","undo","redo","|","fullScreen"]}function Wet(){return["blockquote","header1","header2","header3","|","bold","underline","italic","through","color","bgColor","clearStyle","|","bulletedList","numberedList","todo","justifyLeft","justifyRight","justifyCenter","|","insertLink",{key:"group-image",title:Co("editor.image"),iconSvg:lTe,menuKeys:["insertImage","uploadImage"]},"insertVideo","insertTable","codeBlock","|","undo","redo","|","fullScreen"]}var cTe={link:{menuKeys:["editLink","unLink","viewLink"]},image:{menuKeys:["imageWidth30","imageWidth50","imageWidth100","editImage","viewImageLink","deleteImage"]},pre:{menuKeys:["enter","codeBlock","codeSelectLang"]},table:{menuKeys:["enter","tableHeader","tableFullWidth","insertTableRow","deleteTableRow","insertTableCol","deleteTableCol","deleteTable"]},divider:{menuKeys:["enter"]},video:{menuKeys:["enter","editVideoSize"]}};function qet(){return ql(ql({},cTe),{text:{menuKeys:["headerSelect","insertLink","bulletedList","|","bold","through","color","bgColor","clearStyle"]}})}function Zet(){return cTe}function Get(){return{hoverbarKeys:qet()}}function Ket(){return{hoverbarKeys:Zet()}}function Yet(){return{toolbarKeys:Uet()}}function Xet(){return{toolbarKeys:Wet()}}var Jet=Get();$u.setEditorConfig(ql(ql({},Jet),{decorate:aTe}));var Qet=Ket();$u.setSimpleEditorConfig(ql(ql({},Qet),{decorate:aTe}));var ett=Yet();$u.setToolbarConfig(ett);var ttt=Xet();$u.setSimpleToolbarConfig(ttt);function ntt(e){e===void 0&&(e={});var o=e.selector,s=o===void 0?"":o,l=e.content,c=l===void 0?[]:l,d=e.html,p=e.config,v=p===void 0?{}:p,b=e.mode,S=b===void 0?"default":b,x=S==="simple"?$u.simpleEditorConfig:$u.editorConfig,T=ql(ql({},x.hoverbarKeys||{}),v.hoverbarKeys||{}),E=_Fe({selector:s,config:ql(ql(ql({},x),v),{hoverbarKeys:T}),content:c,html:d,plugins:$u.plugins});return E}function ott(e){var o=e.selector,s=e.editor,l=e.config,c=l===void 0?{}:l,d=e.mode,p=d===void 0?"default":d;if(!o)throw new Error("Cannot find 'selector' when create toolbar");var v=p==="simple"?$u.simpleToolbarConfig:$u.toolbarConfig,b=FFe(s,{selector:o,config:ql(ql({},v),c)});return b}var rtt=Object.defineProperty,stt=Object.defineProperties,itt=Object.getOwnPropertyDescriptors,kCe=Object.getOwnPropertySymbols,att=Object.prototype.hasOwnProperty,ltt=Object.prototype.propertyIsEnumerable,ACe=(e,o,s)=>o in e?rtt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,ctt=(e,o)=>{for(var s in o||(o={}))att.call(o,s)&&ACe(e,s,o[s]);if(kCe)for(var s of kCe(o))ltt.call(o,s)&&ACe(e,s,o[s]);return e},utt=(e,o)=>stt(e,itt(o));function Gw(e){let o=`\u8BF7\u4F7F\u7528 '@${e}' \u4E8B\u4EF6\uFF0C\u4E0D\u8981\u653E\u5728 props \u4E2D`;return o+=`
Please use '@${e}' event instead of props`,o}var uTe=(e,o)=>{for(const[s,l]of o)e[s]=l;return e};const ftt=z4({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(e,o){const s=bC(null),l=$Ce(null),c=bC(""),d=()=>{if(!s.value)return;const v=ITe(e.defaultContent);ntt({selector:s.value,mode:e.mode,content:v||[],html:e.defaultHtml||e.modelValue||"",config:utt(ctt({},e.defaultConfig),{onCreated(b){if(l.value=b,o.emit("onCreated",b),e.defaultConfig.onCreated){const S=Gw("onCreated");throw new Error(S)}},onChange(b){const S=b.getHtml();if(c.value=S,o.emit("update:modelValue",S),o.emit("onChange",b),e.defaultConfig.onChange){const x=Gw("onChange");throw new Error(x)}},onDestroyed(b){if(o.emit("onDestroyed",b),e.defaultConfig.onDestroyed){const S=Gw("onDestroyed");throw new Error(S)}},onMaxLength(b){if(o.emit("onMaxLength",b),e.defaultConfig.onMaxLength){const S=Gw("onMaxLength");throw new Error(S)}},onFocus(b){if(o.emit("onFocus",b),e.defaultConfig.onFocus){const S=Gw("onFocus");throw new Error(S)}},onBlur(b){if(o.emit("onBlur",b),e.defaultConfig.onBlur){const S=Gw("onBlur");throw new Error(S)}},customAlert(b,S){if(o.emit("customAlert",b,S),e.defaultConfig.customAlert){const x=Gw("customAlert");throw new Error(x)}},customPaste:(b,S)=>{if(e.defaultConfig.customPaste){const T=Gw("customPaste");throw new Error(T)}let x;return o.emit("customPaste",b,S,T=>{x=T}),x}})})};function p(v){const b=l.value;b!=null&&b.setHtml(v)}return Zce(()=>{d()}),vU(()=>e.modelValue,v=>{v!==c.value&&p(v)}),{box:s}}}),dtt={ref:"box",style:{height:"100%"}};function htt(e,o,s,l,c,d){return iy(),J5("div",dtt,null,512)}var ptt=uTe(ftt,[["render",htt]]);const gtt=z4({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(e){const o=bC(null),s=l=>{if(!!o.value){if(l==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");wt.getToolbar(l)||ott({editor:l,selector:o.value||"<div></div>",mode:e.mode,config:e.defaultConfig})}};return MTe(()=>{const{editor:l}=e;l!=null&&s(l)}),{selector:o}}}),mtt={ref:"selector"};function vtt(e,o,s,l,c,d){return iy(),J5("div",mtt,null,512)}var btt=uTe(gtt,[["render",vtt]]);const ytt={style:{border:"1px solid #ccc","margin-top":"10px"}},wtt=z4({__name:"index",setup(e){const o=$Ce(),s={},l={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."},c=bC("default"),d=bC("");DCe(()=>{const F=o.value;F!=null&&F.destroy()});const p=F=>{const N=o.value;switch(F){case"insertText":if(N==null)return;N.insertText("hello world");break;case"printHtml":if(N==null)return;console.log(N.getHtml());break;case"disable":if(N==null)return;N.isDisabled()?N.enable():N.disable();break;case"clear":N.clear();break}},v=F=>{console.log("created",F),o.value=F},b=()=>{console.log("change")},S=()=>{console.log("destroyed")},x=F=>{console.log("focus",F)},T=F=>{console.log("blur",F)},E=(F,N)=>{alert(`\u3010\u81EA\u5B9A\u4E49\u63D0\u793A\u3011${N} - ${F}`)},k=(F,N,$)=>{console.log("ClipboardEvent \u7C98\u8D34\u4E8B\u4EF6\u5BF9\u8C61",N)};return(F,N)=>{const $=LTe;return iy(),J5("div",null,[bU("div",null,[tp($,{onClick:N[0]||(N[0]=D=>p("insertText"))},{default:ry(()=>[r4("insert text")]),_:1}),tp($,{onClick:N[1]||(N[1]=D=>p("printHtml"))},{default:ry(()=>[r4("print html")]),_:1}),tp($,{onClick:N[2]||(N[2]=D=>p("disable"))},{default:ry(()=>[r4("disable")]),_:1}),tp($,{onClick:N[3]||(N[3]=D=>p("clear"))},{default:ry(()=>[r4("clear")]),_:1})]),bU("div",ytt,[tp(FN(btt),{editor:FN(o),defaultConfig:s,mode:c.value,style:{"border-bottom":"1px solid #ccc"}},null,8,["editor","mode"]),tp(FN(ptt),{defaultConfig:l,modelValue:d.value,"onUpdate:modelValue":N[4]||(N[4]=D=>d.value=D),style:{height:"400px","overflow-y":"hidden"},onOnCreated:v,onOnChange:b,onOnDestroyed:S,onOnFocus:x,onOnBlur:T,onCustomAlert:E,onCustomPaste:k},null,8,["modelValue"])])])}}});var Ctt=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Stt=function(e){return Ctt.map(function(o){return o.toLowerCase()}).indexOf(e.toLowerCase())!==-1},xtt=function(e,o,s){Object.keys(o).filter(Stt).forEach(function(l){var c=o[l];typeof c=="function"&&(l==="onInit"?c(e,s):s.on(l.substring(2),function(d){return c(d,s)}))})},Ett=function(e,o,s,l){var c=e.modelEvents?e.modelEvents:null,d=Array.isArray(c)?c.join(" "):c;vU(l,function(p,v){s&&typeof p=="string"&&p!==v&&p!==s.getContent({format:e.outputFormat})&&s.setContent(p)}),s.on(d||"change input undo redo",function(){o.emit("update:modelValue",s.getContent({format:e.outputFormat}))})},ktt=function(e,o,s,l,c,d){l.setContent(d()),s.attrs["onUpdate:modelValue"]&&Ett(o,s,l,c),xtt(e,s.attrs,l)},TCe=0,fTe=function(e){var o=Date.now(),s=Math.floor(Math.random()*1e9);return TCe++,e+"_"+s+TCe+String(o)},Att=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},OCe=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},Ttt=function(e,o){return OCe(e).concat(OCe(o))},Ott=function(e){return e==null},_Ce=function(){return{listeners:[],scriptId:fTe("tiny-script"),scriptLoaded:!1}},_tt=function(){var e=_Ce(),o=function(c,d,p,v){var b=d.createElement("script");b.referrerPolicy="origin",b.type="application/javascript",b.id=c,b.src=p;var S=function(){b.removeEventListener("load",S),v()};b.addEventListener("load",S),d.head&&d.head.appendChild(b)},s=function(c,d,p){e.scriptLoaded?p():(e.listeners.push(p),c.getElementById(e.scriptId)||o(e.scriptId,c,d,function(){e.listeners.forEach(function(v){return v()}),e.scriptLoaded=!0}))},l=function(){e=_Ce()};return{load:s,reinitialize:l}},$tt=_tt(),Dtt=function(){return typeof window<"u"?window:global},qE=function(){var e=Dtt();return e&&e.tinymce?e.tinymce:null},Btt={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},o4=globalThis&&globalThis.__assign||function(){return o4=Object.assign||function(e){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e},o4.apply(this,arguments)},Ntt=function(e,o,s,l){return e(l||"div",{id:o,ref:s})},Ptt=function(e,o,s){return e("textarea",{id:o,visibility:"hidden",ref:s})},Ftt=z4({props:Btt,setup:function(e,o){var s=e.init?o4({},e.init):{},l=HTe(e),c=l.disabled,d=l.modelValue,p=l.tagName,v=bC(null),b=null,S=e.id||fTe("tiny-vue"),x=e.init&&e.init.inline||e.inline,T=!!o.attrs["onUpdate:modelValue"],E=!0,k=e.initialValue?e.initialValue:"",F="",N=function(O){return T?function(){return d!=null&&d.value?d.value:""}:function(){return O?k:F}},$=function(){var O=N(E),P=o4(o4({},s),{readonly:e.disabled,selector:"#"+S,plugins:Ttt(s.plugins,e.plugins),toolbar:e.toolbar||s.toolbar,inline:x,setup:function(I){b=I,I.on("init",function(z){return ktt(z,e,o,I,d,O)}),typeof s.setup=="function"&&s.setup(I)}});Att(v.value)&&(v.value.style.visibility=""),qE().init(P),E=!1};vU(c,function(O){var P;b!==null&&(typeof((P=b.mode)===null||P===void 0?void 0:P.set)=="function"?b.mode.set(O?"readonly":"design"):b.setMode(O?"readonly":"design"))}),vU(p,function(O){var P;T||(F=b.getContent()),(P=qE())===null||P===void 0||P.remove(b),rge(function(){return $()})}),Zce(function(){if(qE()!==null)$();else if(v.value&&v.value.ownerDocument){var O=e.cloudChannel?e.cloudChannel:"6",P=e.apiKey?e.apiKey:"no-api-key",I=Ott(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+P+"/tinymce/"+O+"/tinymce.min.js":e.tinymceScriptSrc;$tt.load(v.value.ownerDocument,I,$)}}),DCe(function(){qE()!==null&&qE().remove(b)}),x||(jTe(function(){E||$()}),zTe(function(){var O;T||(F=b.getContent()),(O=qE())===null||O===void 0||O.remove(b)}));var D=function(O){var P;F=b.getContent(),(P=qE())===null||P===void 0||P.remove(b),s=o4(o4({},s),O),rge(function(){return $()})};return o.expose({rerender:D}),function(){return x?Ntt(sge,S,v,e.tagName):Ptt(sge,S,v)}}});const Rtt=Ftt;var Mtt={exports:{}};(function(e){(function(){var o=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var r=typeof t;return r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},s=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},l=function(t,r){var i=Array.prototype.slice.call(t);return i.sort(r)},c=function(t,r){return d(function(i,u){return t.eq(r(i),r(u))})},d=function(t){return{eq:t}},p=d(function(t,r){return t===r}),v=p,b=function(t){return d(function(r,i){if(r.length!==i.length)return!1;for(var u=r.length,h=0;h<u;h++)if(!t.eq(r[h],i[h]))return!1;return!0})},S=function(t,r){return c(b(t),function(i){return l(i,r)})},x=function(t){return d(function(r,i){var u=Object.keys(r),h=Object.keys(i);if(!S(v).eq(u,h))return!1;for(var y=u.length,A=0;A<y;A++){var R=u[A];if(!t.eq(r[R],i[R]))return!1}return!0})},T=d(function(t,r){if(t===r)return!0;var i=o(t),u=o(r);return i!==u?!1:s(i)?t===r:i==="array"?b(T).eq(t,r):i==="object"?x(T).eq(t,r):!1});const E=Object.getPrototypeOf,k=(t,r,i)=>{var u;return i(t,r.prototype)?!0:((u=t.constructor)===null||u===void 0?void 0:u.name)===r.name},F=t=>{const r=typeof t;return t===null?"null":r==="object"&&Array.isArray(t)?"array":r==="object"&&k(t,String,(i,u)=>u.isPrototypeOf(i))?"string":r},N=t=>r=>F(r)===t,$=t=>r=>typeof r===t,D=t=>r=>t===r,O=(t,r)=>I(t)&&k(t,r,(i,u)=>E(i)===u),P=N("string"),I=N("object"),z=t=>O(t,Object),K=N("array"),j=D(null),oe=$("boolean"),xe=D(void 0),se=t=>t==null,Q=t=>!se(t),G=$("function"),ce=$("number"),he=(t,r)=>{if(K(t)){for(let i=0,u=t.length;i<u;++i)if(!r(t[i]))return!1;return!0}return!1},ve=()=>{},qe=(t,r)=>(...i)=>t(r.apply(null,i)),U=(t,r)=>i=>t(r(i)),Fe=t=>()=>t,De=t=>t,Se=(t,r)=>t===r;function re(t,...r){return(...i)=>{const u=r.concat(i);return t.apply(null,u)}}const le=t=>r=>!t(r),fe=t=>()=>{throw new Error(t)},ue=t=>t(),Be=t=>{t()},Ce=Fe(!1),me=Fe(!0);class q{constructor(r,i){this.tag=r,this.value=i}static some(r){return new q(!0,r)}static none(){return q.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?q.some(r(this.value)):q.none()}bind(r){return this.tag?r(this.value):q.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:q.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r!=null?r:"Called getOrDie on None")}static from(r){return Q(r)?q.some(r):q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}q.singletonNone=new q(!1);const Ze=Array.prototype.slice,We=Array.prototype.indexOf,tt=Array.prototype.push,Qe=(t,r)=>We.call(t,r),it=(t,r)=>{const i=Qe(t,r);return i===-1?q.none():q.some(i)},He=(t,r)=>Qe(t,r)>-1,Re=(t,r)=>{for(let i=0,u=t.length;i<u;i++){const h=t[i];if(r(h,i))return!0}return!1},Ve=(t,r)=>{const i=t.length,u=new Array(i);for(let h=0;h<i;h++){const y=t[h];u[h]=r(y,h)}return u},Oe=(t,r)=>{for(let i=0,u=t.length;i<u;i++){const h=t[i];r(h,i)}},be=(t,r)=>{for(let i=t.length-1;i>=0;i--){const u=t[i];r(u,i)}},ie=(t,r)=>{const i=[],u=[];for(let h=0,y=t.length;h<y;h++){const A=t[h];(r(A,h)?i:u).push(A)}return{pass:i,fail:u}},Ee=(t,r)=>{const i=[];for(let u=0,h=t.length;u<h;u++){const y=t[u];r(y,u)&&i.push(y)}return i},ot=(t,r,i)=>(be(t,(u,h)=>{i=r(i,u,h)}),i),Xe=(t,r,i)=>(Oe(t,(u,h)=>{i=r(i,u,h)}),i),zt=(t,r,i)=>{for(let u=0,h=t.length;u<h;u++){const y=t[u];if(r(y,u))return q.some(y);if(i(y,u))break}return q.none()},qt=(t,r)=>zt(t,r,Ce),bn=(t,r)=>{for(let i=0,u=t.length;i<u;i++){const h=t[i];if(r(h,i))return q.some(i)}return q.none()},Kn=t=>{const r=[];for(let i=0,u=t.length;i<u;++i){if(!K(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);tt.apply(r,t[i])}return r},zn=(t,r)=>Kn(Ve(t,r)),fn=(t,r)=>{for(let i=0,u=t.length;i<u;++i){const h=t[i];if(r(h,i)!==!0)return!1}return!0},oo=t=>{const r=Ze.call(t,0);return r.reverse(),r},ft=(t,r)=>Ee(t,i=>!He(r,i)),Tt=(t,r)=>{const i={};for(let u=0,h=t.length;u<h;u++){const y=t[u];i[String(y)]=r(y,u)}return i},sn=(t,r)=>{const i=Ze.call(t,0);return i.sort(r),i},kn=(t,r)=>r>=0&&r<t.length?q.some(t[r]):q.none(),Pn=t=>kn(t,0),$n=t=>kn(t,t.length-1),_o=G(Array.from)?Array.from:t=>Ze.call(t),mr=(t,r)=>{for(let i=0;i<t.length;i++){const u=r(t[i],i);if(u.isSome())return u}return q.none()},Ot=(t,r)=>{const i=[],u=G(r)?h=>Re(i,y=>r(y,h)):h=>He(i,h);for(let h=0,y=t.length;h<y;h++){const A=t[h];u(A)||i.push(A)}return i},Ct=Object.keys,wn=Object.hasOwnProperty,xn=(t,r)=>{const i=Ct(t);for(let u=0,h=i.length;u<h;u++){const y=i[u],A=t[y];r(A,y)}},pn=(t,r)=>eo(t,(i,u)=>({k:u,v:r(i,u)})),eo=(t,r)=>{const i={};return xn(t,(u,h)=>{const y=r(u,h);i[y.k]=y.v}),i},yr=t=>(r,i)=>{t[i]=r},Ts=(t,r,i,u)=>{xn(t,(h,y)=>{(r(h,y)?i:u)(h,y)})},ci=(t,r)=>{const i={},u={};return Ts(t,r,yr(i),yr(u)),{t:i,f:u}},pr=(t,r)=>{const i={};return Ts(t,r,yr(i),ve),i},xi=(t,r)=>{const i=[];return xn(t,(u,h)=>{i.push(r(u,h))}),i},wr=t=>xi(t,De),Jo=(t,r)=>To(t,r)?q.from(t[r]):q.none(),To=(t,r)=>wn.call(t,r),Es=(t,r)=>To(t,r)&&t[r]!==void 0&&t[r]!==null,si=(t,r,i=T)=>x(i).eq(t,r),Vr=t=>{const r={};return Oe(t,i=>{r[i]={}}),Ct(r)},ui=t=>t.length!==void 0,Yr=Array.isArray,ra=t=>{if(Yr(t))return t;{const r=[];for(let i=0,u=t.length;i<u;i++)r[i]=t[i];return r}},ls=(t,r,i)=>{if(!t)return!1;if(i=i||t,ui(t)){for(let u=0,h=t.length;u<h;u++)if(r.call(i,t[u],u,t)===!1)return!1}else for(const u in t)if(To(t,u)&&r.call(i,t[u],u,t)===!1)return!1;return!0},Ti=(t,r)=>{const i=[];return ls(t,(u,h)=>{i.push(r(u,h,t))}),i},dt=(t,r)=>{const i=[];return ls(t,(u,h)=>{(!r||r(u,h,t))&&i.push(u)}),i},Le=(t,r)=>{if(t){for(let i=0,u=t.length;i<u;i++)if(t[i]===r)return i}return-1},Pt=(t,r,i,u)=>{let h=xe(i)?t[0]:i;for(let y=0;y<t.length;y++)h=r.call(u,h,t[y],y);return h},Zt=(t,r,i)=>{for(let u=0,h=t.length;u<h;u++)if(r.call(i,t[u],u,t))return u;return-1},to=t=>t[t.length-1],uo=t=>{let r=!1,i;return(...u)=>(r||(r=!0,i=t.apply(null,u)),i)},Xn=(t,r,i,u)=>{const h=t.isiOS()&&/ipad/i.test(i)===!0,y=t.isiOS()&&!h,A=t.isiOS()||t.isAndroid(),R=A||u("(pointer:coarse)"),H=h||!y&&A&&u("(min-device-width:768px)"),Y=y||A&&!H,ge=r.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,Te=!Y&&!H&&!ge;return{isiPad:Fe(h),isiPhone:Fe(y),isTablet:Fe(H),isPhone:Fe(Y),isTouch:Fe(R),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:Fe(ge),isDesktop:Fe(Te)}},vr=(t,r)=>{for(let i=0;i<t.length;i++){const u=t[i];if(u.test(r))return u}},zo=(t,r)=>{const i=vr(t,r);if(!i)return{major:0,minor:0};const u=h=>Number(r.replace(i,"$"+h));return dn(u(1),u(2))},Fo=(t,r)=>{const i=String(r).toLowerCase();return t.length===0?Cs():zo(t,i)},Cs=()=>dn(0,0),dn=(t,r)=>({major:t,minor:r}),lt={nu:dn,detect:Fo,unknown:Cs},ut=(t,r)=>mr(r.brands,i=>{const u=i.brand.toLowerCase();return qt(t,h=>{var y;return u===((y=h.brand)===null||y===void 0?void 0:y.toLowerCase())}).map(h=>({current:h.name,version:lt.nu(parseInt(i.version,10),0)}))}),en=(t,r)=>{const i=String(r).toLowerCase();return qt(t,u=>u.search(i))},En=(t,r)=>en(t,r).map(i=>{const u=lt.detect(i.versionRegexes,r);return{current:i.name,version:u}}),An=(t,r)=>en(t,r).map(i=>{const u=lt.detect(i.versionRegexes,r);return{current:i.name,version:u}}),Un=(t,r)=>t.substring(r),_n=(t,r,i)=>r===""||t.length>=r.length&&t.substr(i,i+r.length)===r,Jn=(t,r)=>$o(t,r)?Un(t,r.length):t,go=(t,r,i=0,u)=>{const h=t.indexOf(r,i);return h!==-1?xe(u)?!0:h+r.length<=u:!1},$o=(t,r)=>_n(t,r,0),Hr=(t,r)=>_n(t,r,t.length-r.length),ks=t=>r=>r.replace(t,""),Qo=ks(/^\s+|\s+$/g),fa=ks(/^\s+/g),sr=ks(/\s+$/g),Tr=t=>t.length>0,Or=t=>!Tr(t),Js=(t,r)=>r<=0?"":new Array(r+1).join(t),Ls=(t,r=10)=>{const i=parseInt(t,r);return isNaN(i)?q.none():q.some(i)},Ea=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fi=t=>r=>go(r,t),da=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>go(t,"edge/")&&go(t,"chrome")&&go(t,"safari")&&go(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ea],search:t=>go(t,"chrome")&&!go(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>go(t,"msie")||go(t,"trident")},{name:"Opera",versionRegexes:[Ea,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fi("firefox")},{name:"Safari",versionRegexes:[Ea,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(go(t,"safari")||go(t,"mobile/"))&&go(t,"applewebkit")}],fl=[{name:"Windows",search:Fi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>go(t,"iphone")||go(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fi("linux"),versionRegexes:[]},{name:"Solaris",search:Fi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ma={browsers:Fe(da),oses:Fe(fl)},ka="Edge",Cr="Chromium",Ri="IE",Ws="Opera",sa="Firefox",Oi="Safari",Aa=()=>mi({current:void 0,version:lt.unknown()}),mi=t=>{const r=t.current,i=t.version,u=h=>()=>r===h;return{current:r,version:i,isEdge:u(ka),isChromium:u(Cr),isIE:u(Ri),isOpera:u(Ws),isFirefox:u(sa),isSafari:u(Oi)}},dl={unknown:Aa,nu:mi,edge:Fe(ka),chromium:Fe(Cr),ie:Fe(Ri),opera:Fe(Ws),firefox:Fe(sa),safari:Fe(Oi)},ha="Windows",hl="iOS",Sr="Android",vi="Linux",Ue="macOS",pt="Solaris",xt="FreeBSD",Gt="ChromeOS",mn=()=>Do({current:void 0,version:lt.unknown()}),Do=t=>{const r=t.current,i=t.version,u=h=>()=>r===h;return{current:r,version:i,isWindows:u(ha),isiOS:u(hl),isAndroid:u(Sr),isMacOS:u(Ue),isLinux:u(vi),isSolaris:u(pt),isFreeBSD:u(xt),isChromeOS:u(Gt)}},or={unknown:mn,nu:Do,windows:Fe(ha),ios:Fe(hl),android:Fe(Sr),linux:Fe(vi),macos:Fe(Ue),solaris:Fe(pt),freebsd:Fe(xt),chromeos:Fe(Gt)},xr={detect:(t,r,i)=>{const u=Ma.browsers(),h=Ma.oses(),y=r.bind(H=>ut(u,H)).orThunk(()=>En(u,t)).fold(dl.unknown,dl.nu),A=An(h,t).fold(or.unknown,or.nu),R=Xn(A,y,t,i);return{browser:y,os:A,deviceType:R}}},Ns=t=>window.matchMedia(t).matches;let Ss=uo(()=>xr.detect(navigator.userAgent,q.from(navigator.userAgentData),Ns));const Hs=()=>Ss(),Mi=navigator.userAgent,ae=Hs(),Ke=ae.browser,St=ae.os,cn=ae.deviceType,Fn=Mi.indexOf("Windows Phone")!==-1,Hn={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ke.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ke.isIE(),windowsPhone:Fn,browser:{current:Ke.current,version:Ke.version,isChromium:Ke.isChromium,isEdge:Ke.isEdge,isFirefox:Ke.isFirefox,isIE:Ke.isIE,isOpera:Ke.isOpera,isSafari:Ke.isSafari},os:{current:St.current,version:St.version,isAndroid:St.isAndroid,isChromeOS:St.isChromeOS,isFreeBSD:St.isFreeBSD,isiOS:St.isiOS,isLinux:St.isLinux,isMacOS:St.isMacOS,isSolaris:St.isSolaris,isWindows:St.isWindows},deviceType:{isDesktop:cn.isDesktop,isiPad:cn.isiPad,isiPhone:cn.isiPhone,isPhone:cn.isPhone,isTablet:cn.isTablet,isTouch:cn.isTouch,isWebView:cn.isWebView}},Ro=/^\s*|\s*$/g,pe=t=>se(t)?"":(""+t).replace(Ro,""),je=(t,r)=>r?r==="array"&&Yr(t)?!0:typeof t===r:t!==void 0,et=(t,r,i={})=>{const u=P(t)?t.split(r||","):t||[];let h=u.length;for(;h--;)i[u[h]]={};return i},Nt=To,Dn=(t,...r)=>{for(let i=0;i<r.length;i++){const u=r[i];for(const h in u)if(To(u,h)){const y=u[h];y!==void 0&&(t[h]=y)}}return t},mo=function(t,r,i,u){u=u||this,t&&(i&&(t=t[i]),ls(t,(h,y)=>r.call(u,h,y,i)===!1?!1:(mo(h,r,i,u),!0)))},nn={trim:pe,isArray:Yr,is:je,toArray:ra,makeMap:et,each:ls,map:Ti,grep:dt,inArray:Le,hasOwn:Nt,extend:Dn,walk:mo,resolve:(t,r=window)=>{const i=t.split(".");for(let u=0,h=i.length;u<h&&(r=r[i[u]],!!r);u++);return r},explode:(t,r)=>K(t)?t:t===""?[]:Ti(t.split(r||","),pe),_addCacheSuffix:t=>{const r=Hn.cacheSuffix;return r&&(t+=(t.indexOf("?")===-1?"?":"&")+r),t}},Qs=(t,r,i=Se)=>t.exists(u=>i(u,r)),ps=t=>{const r=[],i=u=>{r.push(u)};for(let u=0;u<t.length;u++)t[u].each(i);return r},ei=(t,r,i)=>t.isSome()&&r.isSome()?q.some(i(t.getOrDie(),r.getOrDie())):q.none(),Dl=(t,r,i,u)=>t.isSome()&&r.isSome()&&i.isSome()?q.some(u(t.getOrDie(),r.getOrDie(),i.getOrDie())):q.none(),rr=(t,r)=>t?q.some(r):q.none();typeof window<"u"||Function("return this;")();const Ye=8,at=9,Ft=11,Vt=1,ro=3,ko=t=>t.dom.nodeName.toLowerCase(),xs=t=>t.dom.nodeType,Er=t=>r=>xs(r)===t,Uc=t=>xs(t)===Ye||ko(t)==="#comment",Fr=Er(Vt),Xr=Er(ro),pa=Er(at),Xa=Er(Ft),Wc=t=>r=>Fr(r)&&ko(r)===t,qs=(t,r,i)=>{if(P(i)||oe(i)||ce(i))t.setAttribute(r,i+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},_s=(t,r,i)=>{qs(t.dom,r,i)},Jr=(t,r)=>{const i=t.dom;xn(r,(u,h)=>{qs(i,h,u)})},bi=(t,r)=>{const i=t.dom.getAttribute(r);return i===null?void 0:i},pl=(t,r)=>q.from(bi(t,r)),Fu=(t,r)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(r):!1},Ii=(t,r)=>{t.dom.removeAttribute(r)},ff=t=>{const r=t.dom.attributes;return r==null||r.length===0},Hf=t=>Xe(t.dom.attributes,(r,i)=>(r[i.name]=i.value,r),{}),Ja=(t,r)=>{const i=bi(t,r);return i===void 0||i===""?[]:i.split(" ")},jf=(t,r,i)=>{const h=Ja(t,r).concat([i]);return _s(t,r,h.join(" ")),!0},Ym=(t,r,i)=>{const u=Ee(Ja(t,r),h=>h!==i);return u.length>0?_s(t,r,u.join(" ")):Ii(t,r),!1},Bl=t=>t.dom.classList!==void 0,Ru=t=>Ja(t,"class"),yd=(t,r)=>jf(t,"class",r),Ta=(t,r)=>Ym(t,"class",r),du=(t,r)=>He(Ru(t),r)?Ta(t,r):yd(t,r),zf=(t,r)=>{Bl(t)?t.dom.classList.add(r):yd(t,r)},rh=t=>{(Bl(t)?t.dom.classList:Ru(t)).length===0&&Ii(t,"class")},df=(t,r)=>{Bl(t)?t.dom.classList.remove(r):Ta(t,r),rh(t)},pp=(t,r)=>{const i=Bl(t)?t.dom.classList.toggle(r):du(t,r);return rh(t),i},sh=(t,r)=>Bl(t)&&t.dom.classList.contains(r),Ec=t=>t.style!==void 0&&G(t.style.getPropertyValue),Xm=(t,r)=>{const u=(r||document).createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1){const h="HTML does not have a single root node";throw console.error(h,t),new Error(h)}return ih(u.childNodes[0])},gp=(t,r)=>{const u=(r||document).createElement(t);return ih(u)},Vf=(t,r)=>{const u=(r||document).createTextNode(t);return ih(u)},ih=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},mt={fromHtml:Xm,fromTag:gp,fromText:Vf,fromDom:ih,fromPoint:(t,r,i)=>q.from(t.dom.elementFromPoint(r,i)).map(ih)},hf=(t,r)=>{const i=[],u=y=>(i.push(y),r(y));let h=r(t);do h=h.bind(u);while(h.isSome());return i},Ac=(t,r)=>{const i=t.dom;if(i.nodeType!==Vt)return!1;{const u=i;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},mp=t=>t.nodeType!==Vt&&t.nodeType!==at&&t.nodeType!==Ft||t.childElementCount===0,vp=(t,r)=>{const i=r===void 0?document:r.dom;return mp(i)?[]:Ve(i.querySelectorAll(t),mt.fromDom)},Jm=(t,r)=>{const i=r===void 0?document:r.dom;return mp(i)?q.none():q.from(i.querySelector(t)).map(mt.fromDom)},gs=(t,r)=>t.dom===r.dom,Ia=(t,r)=>{const i=t.dom,u=r.dom;return i===u?!1:i.contains(u)},xg=t=>mt.fromDom(t.dom.ownerDocument),qc=t=>pa(t)?t:xg(t),bp=t=>mt.fromDom(qc(t).dom.documentElement),Uf=t=>mt.fromDom(qc(t).dom.defaultView),La=t=>q.from(t.dom.parentNode).map(mt.fromDom),Qm=t=>q.from(t.dom.parentElement).map(mt.fromDom),ah=(t,r)=>{const i=G(r)?r:Ce;let u=t.dom;const h=[];for(;u.parentNode!==null&&u.parentNode!==void 0;){const y=u.parentNode,A=mt.fromDom(y);if(h.push(A),i(A)===!0)break;u=y}return h},e1=t=>{const r=i=>Ee(i,u=>!gs(t,u));return La(t).map(ga).map(r).getOr([])},Nl=t=>q.from(t.dom.previousSibling).map(mt.fromDom),lh=t=>q.from(t.dom.nextSibling).map(mt.fromDom),yp=t=>oo(hf(t,Nl)),wd=t=>hf(t,lh),ga=t=>Ve(t.dom.childNodes,mt.fromDom),ch=(t,r)=>{const i=t.dom.childNodes;return q.from(i[r]).map(mt.fromDom)},Eg=t=>ch(t,0),wp=t=>ch(t,t.dom.childNodes.length-1),Wf=t=>t.dom.childNodes.length,t1=t=>{const r=t.dom.head;if(r==null)throw new Error("Head is not available yet");return mt.fromDom(r)},Cp=t=>Xa(t)&&Q(t.dom.host),gl=G(Element.prototype.attachShadow)&&G(Node.prototype.getRootNode),n1=Fe(gl),hu=gl?t=>mt.fromDom(t.dom.getRootNode()):qc,Cd=t=>Cp(t)?t:t1(qc(t)),pf=t=>Cp(t)?t:mt.fromDom(qc(t).dom.body),Zc=t=>{const r=hu(t);return Cp(r)?q.some(r):q.none()},o1=t=>mt.fromDom(t.dom.host),r1=t=>{if(n1()&&Q(t.target)){const r=mt.fromDom(t.target);if(Fr(r)&&kg(r)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return Pn(i)}}return q.from(t.target)},kg=t=>Q(t.dom.shadowRoot),pu=t=>{const r=Xr(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return Zc(mt.fromDom(r)).fold(()=>i.body.contains(r),U(pu,o1))},ee=(t,r,i)=>{if(!P(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);Ec(t)&&t.style.setProperty(r,i)},we=(t,r)=>{Ec(t)&&t.style.removeProperty(r)},Me=(t,r,i)=>{const u=t.dom;ee(u,r,i)},vt=(t,r)=>{const i=t.dom;xn(r,(u,h)=>{ee(i,h,u)})},At=(t,r)=>{const i=t.dom,h=window.getComputedStyle(i).getPropertyValue(r);return h===""&&!pu(t)?In(i,r):h},In=(t,r)=>Ec(t)?t.style.getPropertyValue(r):"",Lo=(t,r)=>{const i=t.dom,u=In(i,r);return q.from(u).filter(h=>h.length>0)},_r=t=>{const r={},i=t.dom;if(Ec(i))for(let u=0;u<i.style.length;u++){const h=i.style.item(u);r[h]=i.style[h]}return r},br=(t,r)=>{const i=t.dom;we(i,r),Qs(pl(t,"style").map(Qo),"")&&Ii(t,"style")},bo=t=>t.dom.offsetWidth,$r=(t,r)=>{La(t).each(u=>{u.dom.insertBefore(r.dom,t.dom)})},ni=(t,r)=>{lh(t).fold(()=>{La(t).each(h=>{Li(h,r)})},u=>{$r(u,r)})},Ha=(t,r)=>{Eg(t).fold(()=>{Li(t,r)},u=>{t.dom.insertBefore(r.dom,u.dom)})},Li=(t,r)=>{t.dom.appendChild(r.dom)},Sp=(t,r)=>{$r(t,r),Li(r,t)},IC=(t,r)=>{Oe(r,(i,u)=>{const h=u===0?t:r[u-1];ni(h,i)})},er=(t,r)=>{Oe(r,i=>{Li(t,i)})},yi=t=>{t.dom.textContent="",Oe(ga(t),r=>{ts(r)})},ts=t=>{const r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Qa=t=>{const r=ga(t);r.length>0&&IC(t,r),ts(t)},Oa=(t,r)=>{const u=(r||document).createElement("div");return u.innerHTML=t,ga(mt.fromDom(u))},s1=t=>Ve(t,mt.fromDom),Ag=t=>t.dom.innerHTML,i1=(t,r)=>{const u=xg(t).dom,h=mt.fromDom(u.createDocumentFragment()),y=Oa(r,u);er(h,y),yi(t),Li(t,h)},gf=t=>{const r=mt.fromTag("div"),i=mt.fromDom(t.dom.cloneNode(!0));return Li(r,i),Ag(r)},Tg=(t,r,i,u,h,y,A)=>({target:t,x:r,y:i,stop:u,prevent:h,kill:y,raw:A}),LC=t=>{const r=mt.fromDom(r1(t).getOr(t.target)),i=()=>t.stopPropagation(),u=()=>t.preventDefault(),h=qe(u,i);return Tg(r,t.clientX,t.clientY,i,u,h,t)},e3=(t,r)=>i=>{t(i)&&r(LC(i))},_i=(t,r,i,u,h)=>{const y=e3(i,u);return t.dom.addEventListener(r,y,h),{unbind:re(wy,t,r,y,h)}},a1=(t,r,i,u)=>_i(t,r,i,u,!1),wy=(t,r,i,u)=>{t.dom.removeEventListener(r,i,u)},Jv=(t,r)=>({left:t,top:r,translate:(u,h)=>Jv(t+u,r+h)}),Og=Jv,Cy=t=>{const r=t.getBoundingClientRect();return Og(r.left,r.top)},Sd=(t,r)=>t!==void 0?t:r!==void 0?r:0,Zs=t=>{const r=t.dom.ownerDocument,i=r.body,u=r.defaultView,h=r.documentElement;if(i===t.dom)return Og(i.offsetLeft,i.offsetTop);const y=Sd(u==null?void 0:u.pageYOffset,h.scrollTop),A=Sd(u==null?void 0:u.pageXOffset,h.scrollLeft),R=Sd(h.clientTop,i.clientTop),H=Sd(h.clientLeft,i.clientLeft);return lr(t).translate(A-H,y-R)},lr=t=>{const r=t.dom,u=r.ownerDocument.body;return u===r?Og(u.offsetLeft,u.offsetTop):pu(t)?Cy(r):Og(0,0)},el=t=>{const r=t!==void 0?t.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return Og(i,u)},mf=(t,r,i)=>{const h=(i!==void 0?i.dom:document).defaultView;h&&h.scrollTo(t,r)},qf=(t,r)=>{Hs().browser.isSafari()&&G(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(r)},l1=t=>{const r=t===void 0?window:t;return Hs().browser.isFirefox()?q.none():q.from(r.visualViewport)},xp=(t,r,i,u)=>({x:t,y:r,width:i,height:u,right:t+i,bottom:r+u}),Sy=t=>{const r=t===void 0?window:t,i=r.document,u=el(mt.fromDom(i));return l1(r).fold(()=>{const h=r.document.documentElement,y=h.clientWidth,A=h.clientHeight;return xp(u.left,u.top,y,A)},h=>xp(Math.max(h.pageLeft,u.left),Math.max(h.pageTop,u.top),h.width,h.height))},xd=t=>r=>!!r&&r.nodeType===t,Ed=t=>!!t&&!Object.getPrototypeOf(t),no=xd(1),HC=t=>{const r=t.toLowerCase();return i=>Q(i)&&i.nodeName.toLowerCase()===r},ic=t=>{const r=t.map(i=>i.toLowerCase());return i=>{if(i&&i.nodeName){const u=i.nodeName.toLowerCase();return He(r,u)}return!1}},Tc=(t,r)=>{const i=r.toLowerCase().split(" ");return u=>{if(no(u)){const h=u.ownerDocument.defaultView;if(h)for(let y=0;y<i.length;y++){const A=h.getComputedStyle(u,null);if((A?A.getPropertyValue(t):null)===i[y])return!0}}return!1}},xy=t=>r=>no(r)&&r.hasAttribute(t),kd=(t,r)=>i=>no(i)&&i.getAttribute(t)===r,Mu=t=>no(t)&&t.hasAttribute("data-mce-bogus"),jC=t=>no(t)&&t.getAttribute("data-mce-bogus")==="all",vf=t=>no(t)&&t.tagName==="TABLE",c1=t=>r=>!!(no(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t)),u1=ic(["textarea","input"]),yn=xd(3),Qv=xd(4),e0=xd(7),Iu=xd(8),Ep=xd(9),t0=xd(11),$i=HC("br"),zC=HC("img"),gu=c1("true"),Ei=c1("false"),ac=ic(["td","th"]),Oo=ic(["td","th","caption"]),ia=ic(["video","audio","object","embed"]),_g=HC("li"),Ey=Hs().browser,n0=t=>qt(t,Fr),$g=t=>Ey.isFirefox()&&ko(t)==="table"?n0(ga(t)).filter(r=>ko(r)==="caption").bind(r=>n0(wd(r)).map(i=>{const u=i.dom.offsetTop,h=r.dom.offsetTop,y=r.dom.offsetHeight;return u<=h?-y:0})).getOr(0):0,Gc=(t,r)=>t.children&&He(t.children,r),f1=(t,r,i)=>{let u=0,h=0;const y=t.ownerDocument;if(i=i||t,r){if(i===t&&r.getBoundingClientRect&&At(mt.fromDom(t),"position")==="static"){const R=r.getBoundingClientRect();return u=R.left+(y.documentElement.scrollLeft||t.scrollLeft)-y.documentElement.clientLeft,h=R.top+(y.documentElement.scrollTop||t.scrollTop)-y.documentElement.clientTop,{x:u,y:h}}let A=r;for(;A&&A!==i&&A.nodeType&&!Gc(A,i);){const R=A;u+=R.offsetLeft||0,h+=R.offsetTop||0,A=R.offsetParent}for(A=r.parentNode;A&&A!==i&&A.nodeType&&!Gc(A,i);)u-=A.scrollLeft||0,h-=A.scrollTop||0,A=A.parentNode;h+=$g(mt.fromDom(r))}return{x:u,y:h}};var Dg=(t,r,i,u,h)=>t(i,u)?q.some(i):G(h)&&h(i)?q.none():r(i,u,h);const Di=(t,r,i)=>{let u=t.dom;const h=G(i)?i:Ce;for(;u.parentNode;){u=u.parentNode;const y=mt.fromDom(u);if(r(y))return q.some(y);if(h(y))break}return q.none()},Lu=(t,r,i)=>Dg((h,y)=>y(h),Di,t,r,i),d1=(t,r)=>{const i=t.dom;return i.parentNode?kp(mt.fromDom(i.parentNode),u=>!gs(t,u)&&r(u)):q.none()},kp=(t,r)=>{const i=h=>r(mt.fromDom(h));return qt(t.dom.childNodes,i).map(mt.fromDom)},VC=(t,r)=>{const i=u=>{for(let h=0;h<u.childNodes.length;h++){const y=mt.fromDom(u.childNodes[h]);if(r(y))return q.some(y);const A=i(u.childNodes[h]);if(A.isSome())return A}return q.none()};return i(t.dom)},Bg=(t,r,i)=>Di(t,u=>Ac(u,r),i),Ad=(t,r)=>Jm(r,t),uh=(t,r,i)=>Dg((h,y)=>Ac(h,y),Bg,t,r,i),Ap=(t,r={})=>{let i=0;const u={},h=mt.fromDom(t),y=qc(h),A=r.maxLoadTime||5e3,R=Ge=>{r.referrerPolicy=Ge},H=Ge=>{Li(Cd(h),Ge)},Y=Ge=>{const ct=Cd(h);Ad(ct,"#"+Ge).each(ts)},ge=Ge=>Jo(u,Ge).getOrThunk(()=>({id:"mce-u"+i++,passed:[],failed:[],count:0})),Te=Ge=>new Promise((ct,ht)=>{let Et;const Dt=nn._addCacheSuffix(Ge),Jt=ge(Dt);u[Dt]=Jt,Jt.count++;const an=(Ao,ir)=>{Oe(Ao,Be),Jt.status=ir,Jt.passed=[],Jt.failed=[],Et&&(Et.onload=null,Et.onerror=null,Et=null)},Bn=()=>an(Jt.passed,2),un=()=>an(Jt.failed,3),Wt=(Ao,ir)=>{Ao()||(Date.now()-vo<A?setTimeout(ir):un())},Kt=()=>{Wt(()=>{const Ao=t.styleSheets;let ir=Ao.length;for(;ir--;){const bs=Ao[ir].ownerNode;if(bs&&Et&&bs.id===Et.id)return Bn(),!0}return!1},Kt)};if(ct&&Jt.passed.push(ct),ht&&Jt.failed.push(ht),Jt.status===1)return;if(Jt.status===2){Bn();return}if(Jt.status===3){un();return}Jt.status=1;const Nn=mt.fromTag("link",y.dom);Jr(Nn,{rel:"stylesheet",type:"text/css",id:Jt.id});const vo=Date.now();r.contentCssCors&&_s(Nn,"crossOrigin","anonymous"),r.referrerPolicy&&_s(Nn,"referrerpolicy",r.referrerPolicy),Et=Nn.dom,Et.onload=Kt,Et.onerror=un,H(Nn),_s(Nn,"href",Dt)}),Ae=Ge=>Promise.allSettled(Ve(Ge,ht=>Te(ht).then(Fe(ht)))).then(ht=>{const Et=ie(ht,Dt=>Dt.status==="fulfilled");return Et.fail.length>0?Promise.reject(Ve(Et.fail,Dt=>Dt.reason)):Ve(Et.pass,Dt=>Dt.value)}),nt=Ge=>{const ct=nn._addCacheSuffix(Ge);Jo(u,ct).each(ht=>{--ht.count===0&&(delete u[ct],Y(ht.id))})};return{load:Te,loadAll:Ae,unload:nt,unloadAll:Ge=>{Oe(Ge,ct=>{nt(ct)})},_setReferrerPolicy:R}},fh=(()=>{const t=new WeakMap;return{forElement:(i,u)=>{const y=hu(i).dom;return q.from(t.get(y)).getOrThunk(()=>{const A=Ap(y,u);return t.set(y,A),A})}}})();class jr{constructor(r,i){this.node=r,this.rootNode=i,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node}prev(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node}prev2(r){return this.node=this.findPreviousNode(this.node,r),this.node}findSibling(r,i,u,h){if(r){if(!h&&r[i])return r[i];if(r!==this.rootNode){let y=r[u];if(y)return y;for(let A=r.parentNode;A&&A!==this.rootNode;A=A.parentNode)if(y=A[u],y)return y}}}findPreviousNode(r,i){if(r){const u=r.previousSibling;if(this.rootNode&&u===this.rootNode)return;if(u){if(!i){for(let y=u.lastChild;y;y=y.lastChild)if(!y.lastChild)return y}return u}const h=r.parentNode;if(h&&h!==this.rootNode)return h}}}const bf=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Pl=["td","th"],Td=["thead","tbody","tfoot"],Kc=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ay=["h1","h2","h3","h4","h5","h6"],ja=["li","dd","dt"],ml=["ul","ol","dl"],o0=["pre","script","textarea","style"],ln=["pre"].concat(Ay),_a=t=>{let r;return i=>(r=r||Tt(t,me),To(r,ko(i)))},Hu=_a(bf),Zi=t=>ko(t)==="table",Tp=t=>Fr(t)&&!Hu(t),dh=t=>Fr(t)&&ko(t)==="br",yf=_a(Kc),r0=_a(ml),Oc=_a(ja),h1=_a(Td),Fl=_a(Pl),Kr=_a(o0),Zf=_a(ln),hh=t=>Zf(t)||Tp(t),Rl=(t,r,i)=>Bg(t,r,i).isSome(),ph="\uFEFF",Gi="\xA0",Op=t=>t===ph,lc=t=>t.replace(/\uFEFF/g,""),p1=(t,r)=>{let i=[];return Oe(ga(t),u=>{r(u)&&(i=i.concat([u])),i=i.concat(p1(u,r))}),i},$t=(t,r)=>vp(r,t),s0=((t,r)=>{const i=y=>{if(!t(y))throw new Error("Can only get "+r+" value of a "+r+" node");return u(y).getOr("")},u=y=>t(y)?q.from(y.dom.nodeValue):q.none();return{get:i,getOption:u,set:(y,A)=>{if(!t(y))throw new Error("Can only set raw "+r+" value of a "+r+" node");y.dom.nodeValue=A}}})(Xr,"text"),_c=t=>s0.get(t),Gf=t=>s0.getOption(t),$c=t=>{const r=[];let i=t.dom;for(;i;)r.push(mt.fromDom(i)),i=i.lastChild;return r},ma=t=>{const r=$t(t,"br"),i=Ee($c(t).slice(-1),dh);r.length===i.length&&Oe(i,ts)},W=()=>{const t=mt.fromTag("br");return _s(t,"data-mce-bogus","1"),t},X=t=>{yi(t),Li(t,W())},_e=t=>{wp(t).each(r=>{Nl(r).each(i=>{Hu(t)&&dh(r)&&Hu(i)&&ts(r)})})},$e=ph,yt=Op,It=lc,Cn=no,Gn=yn,Zo=t=>(Gn(t)&&(t=t.parentNode),Cn(t)&&t.hasAttribute("data-mce-caret")),ur=t=>Gn(t)&&yt(t.data),ns=t=>Zo(t)||ur(t),ds=t=>t.firstChild!==t.lastChild||!$i(t.firstChild),Ps=(t,r)=>{var i;const h=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createTextNode($e),y=t.parentNode;if(r){const A=t.previousSibling;if(Gn(A)){if(ns(A))return A;if(gh(A))return A.splitText(A.data.length-1)}y==null||y.insertBefore(h,t)}else{const A=t.nextSibling;if(Gn(A)){if(ns(A))return A;if(ju(A))return A.splitText(1),A}t.nextSibling?y==null||y.insertBefore(h,t.nextSibling):y==null||y.appendChild(h)}return h},Ml=t=>{const r=t.container();return yn(r)?r.data.charAt(t.offset())===$e||t.isAtStart()&&ur(r.previousSibling):!1},Yc=t=>{const r=t.container();return yn(r)?r.data.charAt(t.offset()-1)===$e||t.isAtEnd()&&ur(r.nextSibling):!1},Kf=(t,r,i)=>{var u;const y=((u=r.ownerDocument)!==null&&u!==void 0?u:document).createElement(t);y.setAttribute("data-mce-caret",i?"before":"after"),y.setAttribute("data-mce-bogus","all"),y.appendChild(W().dom);const A=r.parentNode;return i?A==null||A.insertBefore(y,r):r.nextSibling?A==null||A.insertBefore(y,r.nextSibling):A==null||A.appendChild(y),y},ju=t=>Gn(t)&&t.data[0]===$e,gh=t=>Gn(t)&&t.data[t.data.length-1]===$e,Od=t=>{var r;const i=t.getElementsByTagName("br"),u=i[i.length-1];Mu(u)&&((r=u.parentNode)===null||r===void 0||r.removeChild(u))},wf=t=>t&&t.hasAttribute("data-mce-caret")?(Od(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,mh=t=>Zo(t.startContainer),Cf=gu,g1=Ei,m1=$i,UC=yn,WC=ic(["script","style","textarea"]),Uo=ic(["img","input","textarea","hr","iframe","video","audio","object","embed"]),As=ic(["table"]),za=ns,wi=t=>za(t)?!1:UC(t)?!WC(t.parentNode):Uo(t)||m1(t)||As(t)||tl(t),Ng=t=>no(t)&&t.getAttribute("unselectable")==="true",tl=t=>!Ng(t)&&g1(t),Xc=(t,r)=>{for(let i=t.parentNode;i&&i!==r;i=i.parentNode){if(tl(i))return!1;if(Cf(i))return!0}return!0},Yf=t=>tl(t)?!Xe(_o(t.getElementsByTagName("*")),(r,i)=>r||Cf(i),!1):!1,Ty=t=>Uo(t)||Yf(t),_d=(t,r)=>wi(t)&&Xc(t,r),_p=/^[ \t\r\n]*$/,Pg=t=>_p.test(t),i0=t=>" \f	\v".indexOf(t)!==-1,t3=t=>t===`
`||t==="\r",Fg=(t,r)=>r<t.length&&r>=0?t3(t[r]):!1,v1=(t,r=4,i=!0,u=!0)=>{const h=Js(" ",r),y=t.replace(/\t/g,h);return Xe(y,(R,H)=>i0(H)||H===Gi?R.pcIsSpace||R.str===""&&i||R.str.length===y.length-1&&u||Fg(y,R.str.length+1)?{pcIsSpace:!1,str:R.str+Gi}:{pcIsSpace:!0,str:R.str+" "}:{pcIsSpace:t3(H),str:R.str+H},{pcIsSpace:!1,str:""}).str},a0=(t,r)=>{const i=mt.fromDom(r),u=mt.fromDom(t);return Rl(u,"pre,code",re(gs,i))},n3=(t,r)=>yn(t)&&Pg(t.data)&&!a0(t,r),l0=t=>no(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")),Oy=(t,r)=>wi(t)&&!n3(t,r)||l0(t)||o3(t),o3=xy("data-mce-bookmark"),Ki=xy("data-mce-bogus"),g_=kd("data-mce-bogus","all"),$p=(t,r)=>{let i=0;if(Oy(t,t))return!1;{let u=t.firstChild;if(!u)return!0;const h=new jr(u,t);do{if(r){if(g_(u)){u=h.next(!0);continue}if(Ki(u)){u=h.next();continue}}if($i(u)){i++,u=h.next();continue}if(Oy(u,t))return!1;u=h.next()}while(u);return i<=1}},va=(t,r=!0)=>$p(t.dom,r),qC=t=>t.nodeName.toLowerCase()==="span",Xf=(t,r)=>Q(t)&&(Oy(t,r)||Tp(mt.fromDom(t))),mu=(t,r)=>{const i=new jr(t,r).prev(!1),u=new jr(t,r).next(!1),h=xe(i)||Xf(i,r),y=xe(u)||Xf(u,r);return h&&y},vh=t=>qC(t)&&t.getAttribute("data-mce-type")==="bookmark",c0=(t,r)=>yn(t)&&t.data.length>0&&mu(t,r),m_=t=>no(t)?t.childNodes.length>0:!1,_y=t=>t0(t)||Ep(t),u0=(t,r,i)=>{var u;const h=i||r;if(no(r)&&vh(r))return r;const y=r.childNodes;for(let A=y.length-1;A>=0;A--)u0(t,y[A],h);if(no(r)){const A=r.childNodes;A.length===1&&vh(A[0])&&((u=r.parentNode)===null||u===void 0||u.insertBefore(A[0],r))}return!_y(r)&&!Oy(r,h)&&!m_(r)&&!c0(r,h)&&t.remove(r),r},$y=nn.makeMap,Dy=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,By=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZC=/[<>&\"\']/g,f0=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,bh={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Sf={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Dp={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},d0=t=>{const r=mt.fromTag("div").dom;return r.innerHTML=t,r.textContent||r.innerText||t},h0=(t,r)=>{const i={};if(t){const u=t.split(",");r=r||10;for(let h=0;h<u.length;h+=2){const y=String.fromCharCode(parseInt(u[h],r));if(!Sf[y]){const A="&"+u[h+1]+";";i[y]=A,i[A]=y}}return i}else return},p0=h0("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ny=(t,r)=>t.replace(r?Dy:By,i=>Sf[i]||i),r3=t=>(""+t).replace(ZC,r=>Sf[r]||r),GC=(t,r)=>t.replace(r?Dy:By,i=>i.length>1?"&#"+((i.charCodeAt(0)-55296)*1024+(i.charCodeAt(1)-56320)+65536)+";":Sf[i]||"&#"+i.charCodeAt(0)+";"),b1=(t,r,i)=>{const u=i||p0;return t.replace(r?Dy:By,h=>Sf[h]||u[h]||h)},vu={encodeRaw:Ny,encodeAllRaw:r3,encodeNumeric:GC,encodeNamed:b1,getEncodeFunc:(t,r)=>{const i=h0(r)||p0,u=(A,R)=>A.replace(R?Dy:By,H=>Sf[H]!==void 0?Sf[H]:i[H]!==void 0?i[H]:H.length>1?"&#"+((H.charCodeAt(0)-55296)*1024+(H.charCodeAt(1)-56320)+65536)+";":"&#"+H.charCodeAt(0)+";"),h=(A,R)=>b1(A,R,i),y=$y(t.replace(/\+/g,","));return y.named&&y.numeric?u:y.named?r?h:b1:y.numeric?GC:Ny},decode:t=>t.replace(f0,(r,i)=>i?(i.charAt(0).toLowerCase()==="x"?i=parseInt(i.substr(1),16):i=parseInt(i,10),i>65535?(i-=65536,String.fromCharCode(55296+(i>>10),56320+(i&1023))):bh[i]||String.fromCharCode(i)):Dp[r]||p0[r]||d0(r))},y1={},yh={},v_={},Rg=nn.makeMap,Dr=nn.each,Py=nn.extend,Fy=nn.explode,s3=nn.inArray,on=(t,r)=>(t=nn.trim(t),t?t.split(r||" "):[]),$d=(t,r={})=>{const i=Rg(t," ",Rg(t.toUpperCase()," "));return Py(i,r)},g0=t=>$d("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),Ry=t=>{const r={};let i,u,h,y;const A=(H,Y="",ge="")=>{const Te=on(ge),Ae=on(H);let nt=Ae.length;for(;nt--;){const st=on([i,Y].join(" "));r[Ae[nt]]={attributes:Tt(st,()=>({})),attributesOrder:st,children:Tt(Te,Fe(v_))}}},R=(H,Y)=>{const ge=on(H),Te=on(Y);let Ae=ge.length;for(;Ae--;){const nt=r[ge[Ae]];for(let st=0,Ge=Te.length;st<Ge;st++)nt.attributes[Te[st]]={},nt.attributesOrder.push(Te[st])}};if(y1[t])return y1[t];if(i="id accesskey class dir lang style tabindex title role",u="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",h="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(i+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",u+=" article aside details dialog figure main header footer hgroup section nav",h+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),t!=="html5-strict"){i+=" xml:lang";const H="acronym applet basefont big font strike tt";h=[h,H].join(" "),Dr(on(H),ge=>{A(ge,"",h)});const Y="center dir isindex noframes";u=[u,Y].join(" "),y=[u,h].join(" "),Dr(on(Y),ge=>{A(ge,"",y)})}return y=y||[u,h].join(" "),A("html","manifest","head body"),A("head","","base command link meta noscript script style title"),A("title hr noscript br"),A("base","href target"),A("link","href rel media hreflang type sizes hreflang"),A("meta","name http-equiv content charset"),A("style","media type scoped"),A("script","src async defer type charset"),A("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),A("address dt dd div caption","",y),A("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",h),A("blockquote","cite",y),A("ol","reversed start type","li"),A("ul","","li"),A("li","value",y),A("dl","","dt dd"),A("a","href target rel media hreflang type",h),A("q","cite",h),A("ins del","cite datetime",y),A("img","src sizes srcset alt usemap ismap width height"),A("iframe","src name width height",y),A("embed","src type width height"),A("object","data type typemustmatch name usemap form width height",[y,"param"].join(" ")),A("param","name value"),A("map","name",[y,"area"].join(" ")),A("area","alt coords shape href target rel media hreflang type"),A("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),A("colgroup","span","col"),A("col","span"),A("tbody thead tfoot","","tr"),A("tr","","td th"),A("td","colspan rowspan headers",y),A("th","colspan rowspan headers scope abbr",y),A("form","accept-charset action autocomplete enctype method name novalidate target",y),A("fieldset","disabled form name",[y,"legend"].join(" ")),A("label","form for",h),A("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),A("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?y:h),A("select","disabled form multiple name required size","option optgroup"),A("optgroup","disabled label","option"),A("option","disabled label selected value"),A("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),A("menu","type label",[y,"li"].join(" ")),A("noscript","",y),t!=="html4"&&(A("wbr"),A("ruby","",[h,"rt rp"].join(" ")),A("figcaption","",y),A("mark rt rp summary bdi","",h),A("canvas","width height",y),A("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[y,"track source"].join(" ")),A("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[y,"track source"].join(" ")),A("picture","","img source"),A("source","src srcset type media sizes"),A("track","kind src srclang label default"),A("datalist","",[h,"option"].join(" ")),A("article section nav aside main header footer","",y),A("hgroup","","h1 h2 h3 h4 h5 h6"),A("figure","",[y,"figcaption"].join(" ")),A("time","datetime",h),A("dialog","open",y),A("command","type label icon disabled checked radiogroup command"),A("output","for form name",h),A("progress","value max",h),A("meter","value min max low high optimum",h),A("details","open",[y,"summary"].join(" ")),A("keygen","autofocus challenge disabled form keytype name")),t!=="html5-strict"&&(R("script","language xml:space"),R("style","xml:space"),R("object","declare classid code codebase codetype archive standby align border hspace vspace"),R("embed","align name hspace vspace"),R("param","valuetype type"),R("a","charset name rev shape coords"),R("br","clear"),R("applet","codebase archive code object alt name width height align hspace vspace"),R("img","name longdesc align border hspace vspace"),R("iframe","longdesc frameborder marginwidth marginheight scrolling align"),R("font basefont","size color face"),R("input","usemap align"),R("select"),R("textarea"),R("h1 h2 h3 h4 h5 h6 div p legend caption","align"),R("ul","type compact"),R("li","type"),R("ol dl menu dir","compact"),R("pre","width xml:space"),R("hr","align noshade size width"),R("isindex","prompt"),R("table","summary width frame rules cellspacing cellpadding align bgcolor"),R("col","width align char charoff valign"),R("colgroup","width align char charoff valign"),R("thead","align char charoff valign"),R("tr","align char charoff valign bgcolor"),R("th","axis align char charoff valign nowrap bgcolor width height"),R("form","accept"),R("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),R("tfoot","align char charoff valign"),R("tbody","align char charoff valign"),R("area","nohref"),R("body","background bgcolor text link vlink alink")),t!=="html4"&&(R("input button select textarea","autofocus"),R("input textarea","placeholder"),R("a","download"),R("link script img","crossorigin"),R("img","loading"),R("iframe","sandbox seamless allow allowfullscreen loading")),t!=="html4"&&Oe([r.video,r.audio],H=>{delete H.children.audio,delete H.children.video}),Dr(on("a form meter progress dfn"),H=>{r[H]&&delete r[H].children[H]}),delete r.caption.children.table,delete r.script,y1[t]=r,r},KC=(t,r)=>{if(t){const i={};return P(t)&&(t={"*":t}),Dr(t,(u,h)=>{i[h]=i[h.toUpperCase()]=r==="map"?Rg(u,/[, ]/):Fy(u,/[, ]/)}),i}else return},zu=(t={})=>{var r;const i={},u={};let h=[];const y={},A={},R=(Go,tr,Fs)=>{const js=t[Go];if(js)return Rg(js,/[, ]/,Rg(js.toUpperCase(),/[, ]/));{let Za=yh[Go];return Za||(Za=$d(tr,Fs),yh[Go]=Za),Za}},H=(r=t.schema)!==null&&r!==void 0?r:"html5",Y=Ry(H);t.verify_html===!1&&(t.valid_elements="*[*]");const ge=KC(t.valid_styles),Te=KC(t.invalid_styles,"map"),Ae=KC(t.valid_classes,"map"),nt=R("whitespace_elements","pre script noscript style textarea video audio iframe object code"),st=R("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ge=R("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ct=R("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),ht="td th iframe video audio object script code",Et=R("non_empty_elements",ht+" pre",Ge),Dt=R("move_caret_before_on_enter_elements",ht+" table",Ge),Jt=R("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),an=R("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Jt),Bn=R("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Dr("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Go=>{A[Go]=new RegExp("</"+Go+"[^>]*>","gi")});const un=Go=>new RegExp("^"+Go.replace(/([?+*])/g,".$1")+"$"),Wt=Go=>{const tr=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Fs=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,js=/[*?+]/;if(Go){const Za=on(Go,",");let Ni,Ai;i["@"]&&(Ni=i["@"].attributes,Ai=i["@"].attributesOrder);for(let Na=0,Wl=Za.length;Na<Wl;Na++){let Ga=tr.exec(Za[Na]);if(Ga){const Zh=Ga[1],md=Ga[2],Gh=Ga[3],Kh=Ga[5],Yh={},Xh=[],zi={attributes:Yh,attributesOrder:Xh};if(Zh==="#"&&(zi.paddEmpty=!0),Zh==="-"&&(zi.removeEmpty=!0),Ga[4]==="!"&&(zi.removeEmptyAttrs=!0),Ni&&(xn(Ni,(vd,Jh)=>{Yh[Jh]=vd}),Ai&&Xh.push(...Ai)),Kh){const vd=on(Kh,"|");for(let Jh=0,Kb=vd.length;Jh<Kb;Jh++)if(Ga=Fs.exec(vd[Jh]),Ga){const Xd={},nf=Ga[1],oc=Ga[2].replace(/[\\:]:/g,":"),Nf=Ga[3],Pf=Ga[4];if(nf==="!"&&(zi.attributesRequired=zi.attributesRequired||[],zi.attributesRequired.push(oc),Xd.required=!0),nf==="-"){delete Yh[oc],Xh.splice(s3(Xh,oc),1);continue}if(Nf&&(Nf==="="&&(zi.attributesDefault=zi.attributesDefault||[],zi.attributesDefault.push({name:oc,value:Pf}),Xd.defaultValue=Pf),Nf==="~"&&(zi.attributesForced=zi.attributesForced||[],zi.attributesForced.push({name:oc,value:Pf}),Xd.forcedValue=Pf),Nf==="<"&&(Xd.validValues=Rg(Pf,"?"))),js.test(oc)){const kv=Xd;zi.attributePatterns=zi.attributePatterns||[],kv.pattern=un(oc),zi.attributePatterns.push(kv)}else Yh[oc]||Xh.push(oc),Yh[oc]=Xd}}if(!Ni&&md==="@"&&(Ni=Yh,Ai=Xh),Gh&&(zi.outputName=md,i[Gh]=zi),js.test(md)){const vd=zi;vd.pattern=un(md),h.push(vd)}else i[md]=zi}}}},Kt=Go=>{h=[],Oe(Ct(i),tr=>{delete i[tr]}),Wt(Go),Dr(Y,(tr,Fs)=>{u[Fs]=tr.children})},Nn=Go=>{const tr=/^(~)?(.+)$/;Go&&(delete yh.text_block_elements,delete yh.block_elements,Dr(on(Go,","),Fs=>{const js=tr.exec(Fs);if(js){const Za=js[1]==="~",Ni=Za?"span":"div",Ai=js[2];if(u[Ai]=u[Ni],y[Ai]=Ni,Et[Ai.toUpperCase()]={},Et[Ai]={},Za||(an[Ai.toUpperCase()]={},an[Ai]={}),!i[Ai]){let Na=i[Ni];Na=Py({},Na),delete Na.removeEmptyAttrs,delete Na.removeEmpty,i[Ai]=Na}Dr(u,(Na,Wl)=>{Na[Ni]&&(u[Wl]=Na=Py({},u[Wl]),Na[Ai]=Na[Ni])})}}))},vo=Go=>{const tr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete y1[H],Go&&Dr(on(Go,","),Fs=>{const js=tr.exec(Fs);if(js){const Za=js[1];let Ni;Za?Ni=u[js[2]]:Ni=u[js[2]]={"#comment":{}},Ni=u[js[2]],Dr(on(js[3],"|"),Ai=>{Za==="-"?delete Ni[Ai]:Ni[Ai]={}})}})},Ao=Go=>{const tr=i[Go];if(tr)return tr;let Fs=h.length;for(;Fs--;){const js=h[Fs];if(js.pattern.test(Go))return js}};t.valid_elements?Kt(t.valid_elements):(Dr(Y,(Go,tr)=>{i[tr]={attributes:Go.attributes,attributesOrder:Go.attributesOrder},u[tr]=Go.children}),Dr(on("strong/b em/i"),Go=>{const tr=on(Go,"/");i[tr[1]].outputName=tr[0]}),Dr(Bn,(Go,tr)=>{i[tr]&&(t.padd_empty_block_inline_children&&(i[tr].paddInEmptyBlock=!0),i[tr].removeEmpty=!0)}),Dr(on("ol ul blockquote a table tbody"),Go=>{i[Go]&&(i[Go].removeEmpty=!0)}),Dr(on("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),Go=>{i[Go].paddEmpty=!0}),Dr(on("span"),Go=>{i[Go].removeEmptyAttrs=!0})),Nn(t.custom_elements),vo(t.valid_children),Wt(t.extended_valid_elements),vo("+ol[ul|ol],+ul[ul|ol]"),Dr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Go,tr)=>{i[tr]&&(i[tr].parentsRequired=on(Go))}),t.invalid_elements&&Dr(Fy(t.invalid_elements),Go=>{i[Go]&&delete i[Go]}),Ao("span")||Wt("span[!data-mce-type|*]");const ir=Fe(ge),Zr=Fe(Te),bs=Fe(Ae),Ys=Fe(ct),xl=Fe(an),On=Fe(Jt),dr=Fe(Bn),Nr=Fe(Object.seal(Ge)),Yo=Fe(st),ca=Fe(Et),ao=Fe(Dt),Xo=Fe(nt),jo=Fe(Object.seal(A)),Vn=(Go,tr)=>{const Fs=u[Go.toLowerCase()];return!!(Fs&&Fs[tr.toLowerCase()])},Pr=(Go,tr)=>{const Fs=Ao(Go);if(Fs)if(tr){if(Fs.attributes[tr])return!0;const js=Fs.attributePatterns;if(js){let Za=js.length;for(;Za--;)if(js[Za].pattern.test(tr))return!0}}else return!0;return!1},gr=Fe(y);return{type:H,children:u,elements:i,getValidStyles:ir,getValidClasses:bs,getBlockElements:xl,getInvalidStyles:Zr,getVoidElements:Nr,getTextBlockElements:On,getTextInlineElements:dr,getBoolAttrs:Ys,getElementRule:Ao,getSelfClosingElements:Yo,getNonEmptyElements:ca,getMoveCaretBeforeOnEnterElements:ao,getWhitespaceElements:Xo,getSpecialElements:jo,isValidChild:Vn,isValid:Pr,getCustomElements:gr,addValidElements:Wt,setValidElements:Kt,addCustomElements:Nn,addValidChildren:vo}},w1=(t={},r)=>{const i=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,y={};let A,R;const H=ph;r&&(A=r.getValidStyles(),R=r.getInvalidStyles());const Y=(`\\" \\' \\; \\: ; : `+H).split(" ");for(let Te=0;Te<Y.length;Te++)y[Y[Te]]=H+Te,y[H+Te]=Y[Te];const ge={parse:Te=>{const Ae={};let nt=!1;const st=t.url_converter,Ge=t.url_converter_scope||ge,ct=(Wt,Kt,Nn)=>{const vo=Ae[Wt+"-top"+Kt];if(!vo)return;const Ao=Ae[Wt+"-right"+Kt];if(!Ao)return;const ir=Ae[Wt+"-bottom"+Kt];if(!ir)return;const Zr=Ae[Wt+"-left"+Kt];if(!Zr)return;const bs=[vo,Ao,ir,Zr];let Ys=bs.length-1;for(;Ys--&&bs[Ys]===bs[Ys+1];);Ys>-1&&Nn||(Ae[Wt+Kt]=Ys===-1?bs[0]:bs.join(" "),delete Ae[Wt+"-top"+Kt],delete Ae[Wt+"-right"+Kt],delete Ae[Wt+"-bottom"+Kt],delete Ae[Wt+"-left"+Kt])},ht=Wt=>{const Kt=Ae[Wt];if(!Kt)return;const Nn=Kt.split(" ");let vo=Nn.length;for(;vo--;)if(Nn[vo]!==Nn[0])return!1;return Ae[Wt]=Nn[0],!0},Et=(Wt,Kt,Nn,vo)=>{!ht(Kt)||!ht(Nn)||!ht(vo)||(Ae[Wt]=Ae[Kt]+" "+Ae[Nn]+" "+Ae[vo],delete Ae[Kt],delete Ae[Nn],delete Ae[vo])},Dt=Wt=>(nt=!0,y[Wt]),Jt=(Wt,Kt)=>(nt&&(Wt=Wt.replace(/\uFEFF[0-9]/g,Nn=>y[Nn])),Kt||(Wt=Wt.replace(/\\([\'\";:])/g,"$1")),Wt),an=Wt=>String.fromCharCode(parseInt(Wt.slice(1),16)),Bn=Wt=>Wt.replace(/\\[0-9a-f]+/gi,an),un=(Wt,Kt,Nn,vo,Ao,ir)=>{if(Ao=Ao||ir,Ao)return Ao=Jt(Ao),"'"+Ao.replace(/\'/g,"\\'")+"'";if(Kt=Jt(Kt||Nn||vo||""),!t.allow_script_urls){const Zr=Kt.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Zr)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Zr))return""}return st&&(Kt=st.call(Ge,Kt,"style")),"url('"+Kt.replace(/\'/g,"\\'")+"')"};if(Te){Te=Te.replace(/[\u0000-\u001F]/g,""),Te=Te.replace(/\\[\"\';:\uFEFF]/g,Dt).replace(/\"[^\"]+\"|\'[^\']+\'/g,Kt=>Kt.replace(/[;:]/g,Dt));let Wt;for(;Wt=u.exec(Te);){u.lastIndex=Wt.index+Wt[0].length;let Kt=Wt[1].replace(h,"").toLowerCase(),Nn=Wt[2].replace(h,"");if(Kt&&Nn){if(Kt=Bn(Kt),Nn=Bn(Nn),Kt.indexOf(H)!==-1||Kt.indexOf('"')!==-1||!t.allow_script_urls&&(Kt==="behavior"||/expression\s*\(|\/\*|\*\//.test(Nn)))continue;Kt==="font-weight"&&Nn==="700"?Nn="bold":(Kt==="color"||Kt==="background-color")&&(Nn=Nn.toLowerCase()),Nn=Nn.replace(i,un),Ae[Kt]=nt?Jt(Nn,!0):Nn}}ct("border","",!0),ct("border","-width"),ct("border","-color"),ct("border","-style"),ct("padding",""),ct("margin",""),Et("border","border-width","border-style","border-color"),Ae.border==="medium none"&&delete Ae.border,Ae["border-image"]==="none"&&delete Ae["border-image"]}return Ae},serialize:(Te,Ae)=>{let nt="";const st=(ct,ht)=>{const Et=ht[ct];if(Et)for(let Dt=0,Jt=Et.length;Dt<Jt;Dt++){const an=Et[Dt],Bn=Te[an];Bn&&(nt+=(nt.length>0?" ":"")+an+": "+Bn+";")}},Ge=(ct,ht)=>{if(!R||!ht)return!0;let Et=R["*"];return Et&&Et[ct]?!1:(Et=R[ht],!(Et&&Et[ct]))};return Ae&&A?(st("*",A),st(Ae,A)):xn(Te,(ct,ht)=>{ct&&Ge(ht,Ae)&&(nt+=(nt.length>0?" ":"")+ht+": "+ct+";")}),nt}};return ge},Mg={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},YC=t=>t instanceof Event||G(t.initEvent),Jc=t=>t.isDefaultPrevented===me||t.isDefaultPrevented===Ce,Yi=t=>se(t.preventDefault)||YC(t),Jf=(t,r)=>{const i=r!=null?r:{};for(const u in t)To(Mg,u)||(i[u]=t[u]);return Q(t.composedPath)&&(i.composedPath=()=>t.composedPath()),i},XC=(t,r,i,u)=>{var h;const y=Jf(r,u);return y.type=t,se(y.target)&&(y.target=(h=y.srcElement)!==null&&h!==void 0?h:i),Yi(r)&&(y.preventDefault=()=>{y.defaultPrevented=!0,y.isDefaultPrevented=me,G(r.preventDefault)&&r.preventDefault()},y.stopPropagation=()=>{y.cancelBubble=!0,y.isPropagationStopped=me,G(r.stopPropagation)&&r.stopPropagation()},y.stopImmediatePropagation=()=>{y.isImmediatePropagationStopped=me,y.stopPropagation()},Jc(y)||(y.isDefaultPrevented=y.defaultPrevented===!0?me:Ce,y.isPropagationStopped=y.cancelBubble===!0?me:Ce,y.isImmediatePropagationStopped=Ce)),y},wh="mce-data-",b_=/^(?:mouse|contextmenu)|click/,Ch=(t,r,i,u)=>{t.addEventListener(r,i,u||!1)},Dd=(t,r,i,u)=>{t.removeEventListener(r,i,u||!1)},i3=t=>Q(t)&&b_.test(t.type),C1=(t,r)=>{const i=XC(t.type,t,document,r);if(i3(t)&&xe(t.pageX)&&!xe(t.clientX)){const u=i.target.ownerDocument||document,h=u.documentElement,y=u.body,A=i;A.pageX=t.clientX+(h&&h.scrollLeft||y&&y.scrollLeft||0)-(h&&h.clientLeft||y&&y.clientLeft||0),A.pageY=t.clientY+(h&&h.scrollTop||y&&y.scrollTop||0)-(h&&h.clientTop||y&&y.clientTop||0)}return i},y_=(t,r,i)=>{const u=t.document,h={type:"ready"};if(i.domLoaded){r(h);return}const y=()=>u.readyState==="complete"||u.readyState==="interactive"&&u.body,A=()=>{Dd(t,"DOMContentLoaded",A),Dd(t,"load",A),i.domLoaded||(i.domLoaded=!0,r(h)),t=null};y()?A():Ch(t,"DOMContentLoaded",A),i.domLoaded||Ch(t,"load",A)};class Ig{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=wh+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(r,i,u,h){const y=this;let A;const R=window,H=Ae=>{y.executeHandlers(C1(Ae||R.event),Y)};if(!r||yn(r)||Iu(r))return u;let Y;r[y.expando]?Y=r[y.expando]:(Y=y.count++,r[y.expando]=Y,y.events[Y]={}),h=h||r;const ge=i.split(" ");let Te=ge.length;for(;Te--;){let Ae=ge[Te],nt=H,st=!1,Ge=!1;if(Ae==="DOMContentLoaded"&&(Ae="ready"),y.domLoaded&&Ae==="ready"&&r.readyState==="complete"){u.call(h,C1({type:Ae}));continue}!y.hasFocusIn&&(Ae==="focusin"||Ae==="focusout")&&(st=!0,Ge=Ae==="focusin"?"focus":"blur",nt=ct=>{const ht=C1(ct||R.event);ht.type=ht.type==="focus"?"focusin":"focusout",y.executeHandlers(ht,Y)}),A=y.events[Y][Ae],A?Ae==="ready"&&y.domLoaded?u(C1({type:Ae})):A.push({func:u,scope:h}):(y.events[Y][Ae]=A=[{func:u,scope:h}],A.fakeName=Ge,A.capture=st,A.nativeHandler=nt,Ae==="ready"?y_(r,nt,y):Ch(r,Ge||Ae,nt,st))}return r=A=null,u}unbind(r,i,u){if(!r||yn(r)||Iu(r))return this;const h=r[this.expando];if(h){let y=this.events[h];if(i){const A=i.split(" ");let R=A.length;for(;R--;){const H=A[R],Y=y[H];if(Y){if(u){let ge=Y.length;for(;ge--;)if(Y[ge].func===u){const Te=Y.nativeHandler,Ae=Y.fakeName,nt=Y.capture,st=Y.slice(0,ge).concat(Y.slice(ge+1));st.nativeHandler=Te,st.fakeName=Ae,st.capture=nt,y[H]=st}}(!u||Y.length===0)&&(delete y[H],Dd(r,Y.fakeName||H,Y.nativeHandler,Y.capture))}}}else xn(y,(A,R)=>{Dd(r,A.fakeName||R,A.nativeHandler,A.capture)}),y={};for(const A in y)if(To(y,A))return this;delete this.events[h];try{delete r[this.expando]}catch{r[this.expando]=null}}return this}fire(r,i,u){return this.dispatch(r,i,u)}dispatch(r,i,u){if(!r||yn(r)||Iu(r))return this;const h=C1({type:i,target:r},u);do{const y=r[this.expando];y&&this.executeHandlers(h,y),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow}while(r&&!h.isPropagationStopped());return this}clean(r){if(!r||yn(r)||Iu(r))return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName){this.unbind(r);const i=r.getElementsByTagName("*");let u=i.length;for(;u--;)r=i[u],r[this.expando]&&this.unbind(r)}return this}destroy(){this.events={}}cancel(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1}executeHandlers(r,i){const u=this.events[i],h=u&&u[r.type];if(h)for(let y=0,A=h.length;y<A;y++){const R=h[y];if(R&&R.func.call(R.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}}}Ig.Event=new Ig;const Bd=nn.each,w_=nn.grep,S1="data-mce-style",a3=nn.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Lg=(t,r,i)=>{se(i)||i===""?Ii(t,r):_s(t,r,i)},fo=t=>t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase()),x1=(t,r)=>{let i=0;if(t)for(let u=t.nodeType,h=t.previousSibling;h;h=h.previousSibling){const y=h.nodeType;r&&yn(h)&&(y===u||!h.data.length)||(i++,u=y)}return i},JC=(t,r)=>{const i=bi(r,"style"),u=t.serialize(t.parse(i),ko(r));Lg(r,S1,u)},QC=(t,r)=>ce(t)?To(a3,r)?t+"":t+"px":t,m0=(t,r,i)=>{const u=fo(r);se(i)||i===""?br(t,u):Me(t,u,QC(i,u))},My=(t,r,i)=>{const u=r.keep_values,h={set:(A,R,H)=>{const Y=mt.fromDom(A);G(r.url_converter)&&Q(R)&&(R=r.url_converter.call(r.url_converter_scope||i(),String(R),H,A));const ge="data-mce-"+H;Lg(Y,ge,R),Lg(Y,H,R)},get:(A,R)=>{const H=mt.fromDom(A);return bi(H,"data-mce-"+R)||bi(H,R)}},y={style:{set:(A,R)=>{const H=mt.fromDom(A);u&&Lg(H,S1,R),Ii(H,"style"),P(R)&&vt(H,t.parse(R))},get:A=>{const R=mt.fromDom(A),H=bi(R,S1)||bi(R,"style");return t.serialize(t.parse(H),ko(R))}}};return u&&(y.href=y.src=h),y},$s=(t,r={})=>{const i={},u=window,h={};let y=0;const A=!0,R=!0,H=fh.forElement(mt.fromDom(t),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),Y=[],ge=r.schema?r.schema:zu({}),Te=w1({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),Ae=r.ownEvents?new Ig:Ig.Event,nt=ge.getBlockElements(),st=Rt=>P(Rt)?To(nt,Rt):no(Rt)&&To(nt,Rt.nodeName),Ge=Rt=>Rt&&t&&P(Rt)?t.getElementById(Rt):Rt,ct=Rt=>{const jt=Ge(Rt);return Q(jt)?mt.fromDom(jt):null},ht=(Rt,jt,Sn="")=>{let vn;const So=ct(Rt);if(Q(So)&&Fr(So)){const Gr=Yb[jt];Gr&&Gr.get?vn=Gr.get(So.dom,jt):vn=bi(So,jt)}return Q(vn)?vn:Sn},Et=Rt=>{const jt=Ge(Rt);return se(jt)?[]:jt.attributes},Dt=(Rt,jt,Sn)=>{Yo(Rt,vn=>{if(no(vn)){const So=mt.fromDom(vn),Gr=Sn===""?null:Sn,Ci=bi(So,jt),Si=Yb[jt];Si&&Si.set?Si.set(So.dom,Gr,jt):Lg(So,jt,Gr),Ci!==Gr&&r.onSetAttrib&&r.onSetAttrib({attrElm:So.dom,attrName:jt,attrValue:Gr})}})},Jt=(Rt,jt)=>Rt.cloneNode(jt),an=()=>r.root_element||t.body,Bn=Rt=>{const jt=Sy(Rt);return{x:jt.x,y:jt.y,w:jt.width,h:jt.height}},un=(Rt,jt)=>f1(t.body,Ge(Rt),jt),Wt=(Rt,jt,Sn)=>{Yo(Rt,vn=>{const So=mt.fromDom(vn);m0(So,jt,Sn),r.update_styles&&JC(Te,So)})},Kt=(Rt,jt)=>{Yo(Rt,Sn=>{const vn=mt.fromDom(Sn);xn(jt,(So,Gr)=>{m0(vn,Gr,So)}),r.update_styles&&JC(Te,vn)})},Nn=(Rt,jt,Sn)=>{const vn=Ge(Rt);if(!(se(vn)||!no(vn)))return Sn?At(mt.fromDom(vn),fo(jt)):(jt=jt.replace(/-(\D)/g,(So,Gr)=>Gr.toUpperCase()),jt==="float"&&(jt="cssFloat"),vn.style?vn.style[jt]:void 0)},vo=Rt=>{const jt=Ge(Rt);if(!jt)return{w:0,h:0};let Sn=Nn(jt,"width"),vn=Nn(jt,"height");return(!Sn||Sn.indexOf("px")===-1)&&(Sn="0"),(!vn||vn.indexOf("px")===-1)&&(vn="0"),{w:parseInt(Sn,10)||jt.offsetWidth||jt.clientWidth,h:parseInt(vn,10)||jt.offsetHeight||jt.clientHeight}},Ao=Rt=>{const jt=Ge(Rt),Sn=un(jt),vn=vo(jt);return{x:Sn.x,y:Sn.y,w:vn.w,h:vn.h}},ir=(Rt,jt)=>{if(!Rt)return!1;const Sn=K(Rt)?Rt:[Rt];return Re(Sn,vn=>Ac(mt.fromDom(vn),jt))},Zr=(Rt,jt,Sn,vn)=>{const So=[];let Gr=Ge(Rt);vn=vn===void 0;const Ci=Sn||(an().nodeName!=="BODY"?an().parentNode:null);if(P(jt))if(jt==="*")jt=no;else{const Si=jt;jt=Ou=>ir(Ou,Si)}for(;Gr&&!(Gr===Ci||se(Gr.nodeType)||Ep(Gr)||t0(Gr));){if(!jt||jt(Gr))if(vn)So.push(Gr);else return[Gr];Gr=Gr.parentNode}return vn?So:null},bs=(Rt,jt,Sn)=>{const vn=Zr(Rt,jt,Sn,!1);return vn&&vn.length>0?vn[0]:null},Ys=(Rt,jt,Sn)=>{let vn=jt;if(Rt){P(jt)&&(vn=So=>ir(So,jt));for(let So=Rt[Sn];So;So=So[Sn])if(G(vn)&&vn(So))return So}return null},xl=(Rt,jt)=>Ys(Rt,jt,"nextSibling"),On=(Rt,jt)=>Ys(Rt,jt,"previousSibling"),dr=Rt=>G(Rt.querySelectorAll),Nr=(Rt,jt)=>{var Sn,vn;const So=(vn=(Sn=Ge(jt))!==null&&Sn!==void 0?Sn:r.root_element)!==null&&vn!==void 0?vn:t;return dr(So)?_o(So.querySelectorAll(Rt)):[]},Yo=function(Rt,jt,Sn){const vn=Sn!=null?Sn:this;if(K(Rt)){const So=[];return Bd(Rt,(Gr,Ci)=>{const Si=Ge(Gr);Si&&So.push(jt.call(vn,Si,Ci))}),So}else{const So=Ge(Rt);return So?jt.call(vn,So):!1}},ca=(Rt,jt)=>{Yo(Rt,Sn=>{xn(jt,(vn,So)=>{Dt(Sn,So,vn)})})},ao=(Rt,jt)=>{Yo(Rt,Sn=>{const vn=mt.fromDom(Sn);i1(vn,jt)})},Xo=(Rt,jt,Sn,vn,So)=>Yo(Rt,Gr=>{const Ci=P(jt)?t.createElement(jt):jt;return Q(Sn)&&ca(Ci,Sn),vn&&(!P(vn)&&vn.nodeType?Ci.appendChild(vn):P(vn)&&ao(Ci,vn)),So?Ci:Gr.appendChild(Ci)}),jo=(Rt,jt,Sn)=>Xo(t.createElement(Rt),Rt,jt,Sn,!0),Vn=vu.decode,Pr=vu.encodeAllRaw,gr=(Rt,jt,Sn="")=>{let vn="<"+Rt;for(const So in jt)Es(jt,So)&&(vn+=" "+So+'="'+Pr(jt[So])+'"');return Or(Sn)&&To(ge.getVoidElements(),Rt)?vn+" />":vn+">"+Sn+"</"+Rt+">"},Go=Rt=>{const jt=t.createElement("div"),Sn=t.createDocumentFragment();Sn.appendChild(jt),Rt&&(jt.innerHTML=Rt);let vn;for(;vn=jt.firstChild;)Sn.appendChild(vn);return Sn.removeChild(jt),Sn},tr=(Rt,jt)=>Yo(Rt,Sn=>{const vn=mt.fromDom(Sn);return jt&&Oe(ga(vn),So=>{Xr(So)&&So.dom.length===0?ts(So):$r(vn,So)}),ts(vn),vn.dom}),Fs=Rt=>Yo(Rt,jt=>{const Sn=jt.attributes;for(let vn=Sn.length-1;vn>=0;vn--)jt.removeAttributeNode(Sn.item(vn))}),js=Rt=>Te.parse(Rt),Za=(Rt,jt)=>Te.serialize(Rt,jt),Ni=Rt=>{if(Av!==$s.DOM&&t===document){if(i[Rt])return;i[Rt]=!0}let jt=t.getElementById("mceDefaultStyles");if(!jt){jt=t.createElement("style"),jt.id="mceDefaultStyles",jt.type="text/css";const Sn=t.head;Sn.firstChild?Sn.insertBefore(jt,Sn.firstChild):Sn.appendChild(jt)}jt.styleSheet?jt.styleSheet.cssText+=Rt:jt.appendChild(t.createTextNode(Rt))},Ai=Rt=>{Rt||(Rt=""),Oe(Rt.split(","),jt=>{h[jt]=!0,H.load(jt).catch(ve)})},Na=(Rt,jt,Sn)=>{Yo(Rt,vn=>{if(no(vn)){const So=mt.fromDom(vn),Gr=jt.split(" ");Oe(Gr,Ci=>{Q(Sn)?(Sn?zf:df)(So,Ci):pp(So,Ci)})}})},Wl=(Rt,jt)=>{Na(Rt,jt,!0)},Ga=(Rt,jt)=>{Na(Rt,jt,!1)},Zh=(Rt,jt)=>{const Sn=ct(Rt),vn=jt.split(" ");return Q(Sn)&&fn(vn,So=>sh(Sn,So))},md=Rt=>{Yo(Rt,jt=>br(mt.fromDom(jt),"display"))},Gh=Rt=>{Yo(Rt,jt=>Me(mt.fromDom(jt),"display","none"))},Kh=Rt=>{const jt=ct(Rt);return Q(jt)&&Qs(Lo(jt,"display"),"none")},Yh=Rt=>(Rt||"mce_")+y++,Xh=Rt=>{const jt=ct(Rt);return Q(jt)?no(jt.dom)?jt.dom.outerHTML:gf(jt):""},zi=(Rt,jt)=>{Yo(Rt,Sn=>{no(Sn)&&(Sn.outerHTML=jt)})},vd=(Rt,jt)=>{const Sn=Ge(jt);return Yo(Rt,vn=>{const So=Sn==null?void 0:Sn.parentNode,Gr=Sn==null?void 0:Sn.nextSibling;return So&&(Gr?So.insertBefore(vn,Gr):So.appendChild(vn)),vn})},Jh=(Rt,jt,Sn)=>Yo(jt,vn=>{var So;const Gr=K(jt)?Rt.cloneNode(!0):Rt;return Sn&&Bd(w_(vn.childNodes),Ci=>{Gr.appendChild(Ci)}),(So=vn.parentNode)===null||So===void 0||So.replaceChild(Gr,vn),vn}),Kb=(Rt,jt)=>{if(Rt.nodeName!==jt.toUpperCase()){const Sn=jo(jt);return Bd(Et(Rt),vn=>{Dt(Sn,vn.nodeName,ht(Rt,vn.nodeName))}),Jh(Sn,Rt,!0),Sn}else return Rt},Xd=(Rt,jt)=>{let Sn=Rt;for(;Sn;){let vn=jt;for(;vn&&Sn!==vn;)vn=vn.parentNode;if(Sn===vn)break;Sn=Sn.parentNode}return!Sn&&Rt.ownerDocument?Rt.ownerDocument.documentElement:Sn},nf=Rt=>{if(no(Rt)){const jt=Rt.nodeName.toLowerCase()==="a"&&!ht(Rt,"href")&&ht(Rt,"id");if(ht(Rt,"name")||ht(Rt,"data-mce-bookmark")||jt)return!0}return!1},oc=(Rt,jt)=>{let Sn=0;if(nf(Rt))return!1;const vn=Rt.firstChild;if(vn){const So=new jr(vn,Rt),Gr=ge?ge.getWhitespaceElements():{},Ci=jt||(ge?ge.getNonEmptyElements():null);let Si=vn;do{if(no(Si)){const Ou=Si.getAttribute("data-mce-bogus");if(Ou){Si=So.next(Ou==="all");continue}const Aw=Si.nodeName.toLowerCase();if(Ci&&Ci[Aw]){if(Aw==="br"){Sn++,Si=So.next();continue}return!1}if(nf(Si))return!1}if(Iu(Si)||yn(Si)&&!Pg(Si.data)||yn(Si)&&Si.parentNode&&Gr[Si.parentNode.nodeName]&&Pg(Si.data))return!1;Si=So.next()}while(Si)}return Sn<=1},Nf=()=>t.createRange(),Pf=(Rt,jt,Sn)=>{let vn=Nf(),So,Gr;if(Rt&&jt&&Rt.parentNode&&jt.parentNode){const Ci=Rt.parentNode;return vn.setStart(Ci,x1(Rt)),vn.setEnd(jt.parentNode,x1(jt)),So=vn.extractContents(),vn=Nf(),vn.setStart(jt.parentNode,x1(jt)+1),vn.setEnd(Ci,x1(Rt)+1),Gr=vn.extractContents(),Ci.insertBefore(u0(Av,So),Rt),Sn?Ci.insertBefore(Sn,Rt):Ci.insertBefore(jt,Rt),Ci.insertBefore(u0(Av,Gr),Rt),tr(Rt),Sn||jt}else return},kv=(Rt,jt,Sn,vn)=>{if(K(Rt)){let So=Rt.length;const Gr=[];for(;So--;)Gr[So]=kv(Rt[So],jt,Sn,vn);return Gr}else return r.collect&&(Rt===t||Rt===u)&&Y.push([Rt,jt,Sn,vn]),Ae.bind(Rt,jt,Sn,vn||Av)},BE=(Rt,jt,Sn)=>{if(K(Rt)){let vn=Rt.length;const So=[];for(;vn--;)So[vn]=BE(Rt[vn],jt,Sn);return So}else{if(Y.length>0&&(Rt===t||Rt===u)){let vn=Y.length;for(;vn--;){const[So,Gr,Ci]=Y[vn];Rt===So&&(!jt||jt===Gr)&&(!Sn||Sn===Ci)&&Ae.unbind(So,Gr,Ci)}}return Ae.unbind(Rt,jt,Sn)}},Rm=(Rt,jt,Sn)=>Ae.dispatch(Rt,jt,Sn),ng=(Rt,jt,Sn)=>Ae.dispatch(Rt,jt,Sn),NE=Rt=>{if(Rt&&no(Rt)){const jt=Rt.getAttribute("data-mce-contenteditable");return jt&&jt!=="inherit"?jt:Rt.contentEditable!=="inherit"?Rt.contentEditable:null}else return null},Av={doc:t,settings:r,win:u,files:h,stdMode:A,boxModel:R,styleSheetLoader:H,boundEvents:Y,styles:Te,schema:ge,events:Ae,isBlock:st,root:null,clone:Jt,getRoot:an,getViewPort:Bn,getRect:Ao,getSize:vo,getParent:bs,getParents:Zr,get:Ge,getNext:xl,getPrev:On,select:Nr,is:ir,add:Xo,create:jo,createHTML:gr,createFragment:Go,remove:tr,setStyle:Wt,getStyle:Nn,setStyles:Kt,removeAllAttribs:Fs,setAttrib:Dt,setAttribs:ca,getAttrib:ht,getPos:un,parseStyle:js,serializeStyle:Za,addStyle:Ni,loadCSS:Ai,addClass:Wl,removeClass:Ga,hasClass:Zh,toggleClass:Na,show:md,hide:Gh,isHidden:Kh,uniqueId:Yh,setHTML:ao,getOuterHTML:Xh,setOuterHTML:zi,decode:Vn,encode:Pr,insertAfter:vd,replace:Jh,rename:Kb,findCommonAncestor:Xd,run:Yo,getAttribs:Et,isEmpty:oc,createRng:Nf,nodeIndex:x1,split:Pf,bind:kv,unbind:BE,fire:ng,dispatch:Rm,getContentEditable:NE,getContentEditableParent:Rt=>{const jt=an();let Sn=null;for(let vn=Rt;vn&&vn!==jt&&(Sn=NE(vn),Sn===null);vn=vn.parentNode);return Sn},destroy:()=>{if(Y.length>0){let Rt=Y.length;for(;Rt--;){const[jt,Sn,vn]=Y[Rt];Ae.unbind(jt,Sn,vn)}}xn(h,(Rt,jt)=>{H.unload(jt),delete h[jt]})},isChildOf:(Rt,jt)=>Rt===jt||jt.contains(Rt),dumpRng:Rt=>"startContainer: "+Rt.startContainer.nodeName+", startOffset: "+Rt.startOffset+", endContainer: "+Rt.endContainer.nodeName+", endOffset: "+Rt.endOffset},Yb=My(Te,r,Fe(Av));return Av};$s.DOM=$s(document),$s.nodeIndex=x1;const v0=$s.DOM,Hg=0,eS=1,jg=2,l3=3;class Qf{constructor(r={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=r}_setReferrerPolicy(r){this.settings.referrerPolicy=r}loadScript(r){return new Promise((i,u)=>{const h=v0;let y;const A=()=>{h.remove(Y),y&&(y.onerror=y.onload=y=null)},R=()=>{A(),i()},H=()=>{A(),u("Failed to load script: "+r)},Y=h.uniqueId();y=document.createElement("script"),y.id=Y,y.type="text/javascript",y.src=nn._addCacheSuffix(r),this.settings.referrerPolicy&&h.setAttrib(y,"referrerpolicy",this.settings.referrerPolicy),y.onload=R,y.onerror=H,(document.getElementsByTagName("head")[0]||document.body).appendChild(y)})}isDone(r){return this.states[r]===jg}markDone(r){this.states[r]=jg}add(r){const i=this;return i.queue.push(r),i.states[r]===void 0&&(i.states[r]=Hg),new Promise((h,y)=>{i.scriptLoadedCallbacks[r]||(i.scriptLoadedCallbacks[r]=[]),i.scriptLoadedCallbacks[r].push({resolve:h,reject:y})})}load(r){return this.add(r)}remove(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]}loadQueue(){const r=this.queue;return this.queue=[],this.loadScripts(r)}loadScripts(r){const i=this,u=(H,Y)=>{Jo(i.scriptLoadedCallbacks,Y).each(ge=>{Oe(ge,Te=>Te[H](Y))}),delete i.scriptLoadedCallbacks[Y]},h=H=>{const Y=Ee(H,ge=>ge.status==="rejected");return Y.length>0?Promise.reject(zn(Y,({reason:ge})=>K(ge)?ge:[ge])):Promise.resolve()},y=H=>Promise.allSettled(Ve(H,Y=>i.states[Y]===jg?(u("resolve",Y),Promise.resolve()):i.states[Y]===l3?(u("reject",Y),Promise.reject(Y)):(i.states[Y]=eS,i.loadScript(Y).then(()=>{i.states[Y]=jg,u("resolve",Y);const ge=i.queue;return ge.length>0?(i.queue=[],y(ge).then(h)):Promise.resolve()},()=>(i.states[Y]=l3,u("reject",Y),Promise.reject(Y)))))),A=H=>(i.loading=!0,y(H).then(Y=>{i.loading=!1;const ge=i.queueLoadedCallbacks.shift();return q.from(ge).each(Be),h(Y)})),R=Vr(r);return i.loading?new Promise((H,Y)=>{i.queueLoadedCallbacks.push(()=>A(R).then(H,Y))}):A(R)}}Qf.ScriptLoader=new Qf;const aa=t=>{let r=t;return{get:()=>r,set:h=>{r=h}}},Iy=t=>I(t)&&To(t,"raw"),c3=t=>K(t)&&t.length>1,Sh={},tS=aa("en"),C_=()=>Jo(Sh,tS.get()),xf={getData:()=>pn(Sh,t=>({...t})),setCode:t=>{t&&tS.set(t)},getCode:()=>tS.get(),add:(t,r)=>{let i=Sh[t];i||(Sh[t]=i={}),xn(r,(u,h)=>{i[h.toLowerCase()]=u})},translate:t=>{const r=C_().getOr({}),i=A=>G(A)?Object.prototype.toString.call(A):u(A)?"":""+A,u=A=>A===""||A===null||A===void 0,h=A=>{const R=i(A);return Jo(r,R.toLowerCase()).map(i).getOr(R)},y=A=>A.replace(/{context:\w+}$/,"");if(u(t))return"";if(Iy(t))return i(t.raw);if(c3(t)){const A=t.slice(1),R=h(t[0]).replace(/\{([0-9]+)\}/g,(H,Y)=>To(A,Y)?i(A[Y]):H);return y(R)}return y(h(t))},isRtl:()=>C_().bind(t=>Jo(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>To(Sh,t)},Bi=()=>{const t=[],r={},i={},u=[],h=(Ge,ct)=>{const ht=Ee(u,Et=>Et.name===Ge&&Et.state===ct);Oe(ht,Et=>Et.resolve())},y=Ge=>To(r,Ge),A=Ge=>To(i,Ge),R=Ge=>{if(i[Ge])return i[Ge].instance},H=(Ge,ct)=>{const ht=xf.getCode(),Et=","+(ct||"")+",";!ht||ct&&Et.indexOf(","+ht+",")===-1||Qf.ScriptLoader.add(r[Ge]+"/langs/"+ht+".js")},Y=(Ge,ct)=>{Bi.languageLoad!==!1&&(y(Ge)?H(Ge,ct):st(Ge,"loaded").then(()=>H(Ge,ct)))},ge=(Ge,ct)=>(t.push(ct),i[Ge]={instance:ct},h(Ge,"added"),ct),Te=Ge=>{delete r[Ge],delete i[Ge]},Ae=(Ge,ct)=>P(ct)?P(Ge)?{prefix:"",resource:ct,suffix:""}:{prefix:Ge.prefix,resource:ct,suffix:Ge.suffix}:ct,nt=(Ge,ct)=>{if(r[Ge])return Promise.resolve();let ht=P(ct)?ct:ct.prefix+ct.resource+ct.suffix;ht.indexOf("/")!==0&&ht.indexOf("://")===-1&&(ht=Bi.baseURL+"/"+ht),r[Ge]=ht.substring(0,ht.lastIndexOf("/"));const Et=()=>(h(Ge,"loaded"),Promise.resolve());return i[Ge]?Et():Qf.ScriptLoader.add(ht).then(Et)},st=(Ge,ct="added")=>ct==="added"&&A(Ge)||ct==="loaded"&&y(Ge)?Promise.resolve():new Promise(ht=>{u.push({name:Ge,state:ct,resolve:ht})});return{items:t,urls:r,lookup:i,get:R,requireLangPack:Y,add:ge,remove:Te,createUrl:Ae,load:nt,waitFor:st}};Bi.languageLoad=!0,Bi.baseURL="",Bi.PluginManager=Bi(),Bi.ThemeManager=Bi(),Bi.ModelManager=Bi();const x_=t=>{const r=aa(q.none()),i=()=>r.get().each(t);return{clear:()=>{i(),r.set(q.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:R=>{i(),r.set(q.some(R))}}},E_=t=>{const r=aa(q.none()),i=()=>r.get().each(R=>clearInterval(R));return{clear:()=>{i(),r.set(q.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:R=>{i(),r.set(q.some(setInterval(R,t)))}}},xh=()=>{const t=x_(ve);return{...t,on:i=>t.get().each(i)}},jy=(t,r)=>{let i=null;return{cancel:()=>{j(i)||(clearTimeout(i),i=null)},throttle:(...y)=>{j(i)&&(i=setTimeout(()=>{i=null,t.apply(null,y)},r))}}},nS=(t,r)=>{let i=null;const u=()=>{j(i)||(clearTimeout(i),i=null)};return{cancel:u,throttle:(...y)=>{u(),i=setTimeout(()=>{i=null,t.apply(null,y)},r)}}},Eh=Fe("mce-annotation"),kh=Fe("data-mce-annotation"),Ah=Fe("data-mce-annotation-uid"),zg=Fe("data-mce-annotation-active"),Vg=Fe("data-mce-annotation-classes"),ba=Fe("data-mce-annotation-attrs"),u3=t=>r=>gs(r,t),zy=(t,r)=>{const i=t.selection.getRng(),u=mt.fromDom(i.startContainer),h=mt.fromDom(t.getBody()),y=r.fold(()=>"."+Eh(),H=>`[${kh()}="${H}"]`),A=ch(u,i.startOffset).getOr(u);return uh(A,y,u3(h)).bind(H=>pl(H,`${Ah()}`).bind(Y=>pl(H,`${kh()}`).map(ge=>{const Te=Dc(t,Y);return{uid:Y,name:ge,elements:Te}})))},k_=t=>Fr(t)&&sh(t,Eh()),f3=(t,r)=>Fu(t,"data-mce-bogus")||Rl(t,'[data-mce-bogus="all"]',u3(r)),Dc=(t,r)=>{const i=mt.fromDom(t.getBody()),u=$t(i,`[${Ah()}="${r}"]`);return Ee(u,h=>!f3(h,i))},Nd=(t,r)=>{const i=mt.fromDom(t.getBody()),u=$t(i,`[${kh()}="${r}"]`),h={};return Oe(u,y=>{if(!f3(y,i)){const A=bi(y,Ah()),R=Jo(h,A).getOr([]);h[A]=R.concat([y])}}),h},A_=(t,r)=>{const i=aa({}),u=()=>({listeners:[],previous:xh()}),h=(Te,Ae)=>{y(Te,nt=>(Ae(nt),nt))},y=(Te,Ae)=>{const nt=i.get(),st=Jo(nt,Te).getOrThunk(u),Ge=Ae(st);nt[Te]=Ge,i.set(nt)},A=(Te,Ae,nt)=>{h(Te,st=>{Oe(st.listeners,Ge=>Ge(!0,Te,{uid:Ae,nodes:Ve(nt,ct=>ct.dom)}))})},R=Te=>{h(Te,Ae=>{Oe(Ae.listeners,nt=>nt(!1,Te))})},H=(Te,Ae)=>{Oe(Dc(t,Te),nt=>{Ae?_s(nt,zg(),"true"):Ii(nt,zg())})},Y=nS(()=>{const Te=sn(r.getNames());Oe(Te,Ae=>{y(Ae,nt=>{const st=nt.previous.get();return zy(t,q.some(Ae)).fold(()=>{st.each(Ge=>{R(Ae),nt.previous.clear(),H(Ge,!1)})},({uid:Ge,name:ct,elements:ht})=>{Qs(st,Ge)||(st.each(Et=>H(Et,!1)),A(ct,Ge,ht),nt.previous.set(Ge),H(Ge,!0))}),{previous:nt.previous,listeners:nt.listeners}})})},30);return t.on("remove",()=>{Y.cancel()}),t.on("NodeChange",()=>{Y.throttle()}),{addListener:(Te,Ae)=>{y(Te,nt=>({previous:nt.previous,listeners:nt.listeners.concat([Ae])}))}}},d3=(t,r)=>{const i=kh(),u=y=>q.from(y.attr(i)).bind(r.lookup),h=y=>{var A,R;y.attr(Ah(),null),y.attr(kh(),null),y.attr(zg(),null);const H=q.from(y.attr(ba())).map(Ae=>Ae.split(",")).getOr([]),Y=q.from(y.attr(Vg())).map(Ae=>Ae.split(",")).getOr([]);Oe(H,Ae=>y.attr(Ae,null));const ge=(R=(A=y.attr("class"))===null||A===void 0?void 0:A.split(" "))!==null&&R!==void 0?R:[],Te=ft(ge,[Eh()].concat(Y));y.attr("class",Te.length>0?Te.join(" "):null),y.attr(Vg(),null),y.attr(ba(),null)};t.serializer.addTempAttr(zg()),t.serializer.addAttributeFilter(i,y=>{for(const A of y)u(A).each(R=>{R.persistent===!1&&(A.name==="span"?A.unwrap():h(A))})})},T_=()=>{const t={};return{register:(h,y)=>{t[h]={name:h,settings:y}},lookup:h=>Jo(t,h).map(y=>y.settings),getNames:()=>Ct(t)}};let h3=0;const Vy=t=>{const i=new Date().getTime(),u=Math.floor(Math.random()*1e9);return h3++,t+"_"+u+h3+String(i)},p3=(t,r)=>{Oe(r,i=>{zf(t,i)})},O_=(t,r)=>{Oe(r,i=>{df(t,i)})},E1=(t,r)=>mt.fromDom(t.dom.cloneNode(r)),Ug=t=>E1(t,!1),oS=t=>E1(t,!0),g3=(t,r)=>{const i=mt.fromTag(r),u=Hf(t);return Jr(i,u),i},nl=(t,r)=>{const i=g3(t,r);ni(t,i);const u=ga(t);return er(i,u),ts(t),i},y0=(t,r,i=Ce)=>{const u=new jr(t,r),h=y=>{let A;do A=u[y]();while(A&&!yn(A)&&!i(A));return q.from(A).filter(yn)};return{current:()=>q.from(u.current()).filter(yn),next:()=>h("next"),prev:()=>h("prev"),prev2:()=>h("prev2")}},fi=(t,r)=>{const i=r||(A=>t.isBlock(A)||$i(A)||Ei(A)),u=(A,R,H,Y)=>{if(yn(A)){const ge=Y(A,R,A.data);if(ge!==-1)return q.some({container:A,offset:ge})}return H().bind(ge=>u(ge.container,ge.offset,H,Y))};return{backwards:(A,R,H,Y)=>{const ge=y0(A,Y!=null?Y:t.getRoot(),i);return u(A,R,()=>ge.prev().map(Te=>({container:Te,offset:Te.length})),H).getOrNull()},forwards:(A,R,H,Y)=>{const ge=y0(A,Y!=null?Y:t.getRoot(),i);return u(A,R,()=>ge.next().map(Te=>({container:Te,offset:0})),H).getOrNull()}}},vl=Math.round,yu=t=>t?{left:vl(t.left),top:vl(t.top),bottom:vl(t.bottom),right:vl(t.right),width:vl(t.width),height:vl(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},wu=(t,r)=>(t=yu(t),r||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),__=(t,r)=>t.left===r.left&&t.top===r.top&&t.bottom===r.bottom&&t.right===r.right,m3=(t,r,i)=>t>=0&&t<=Math.min(r.height,i.height)/2,w0=(t,r)=>{const i=Math.min(r.height/2,t.height/2);return t.bottom-i<r.top?!0:t.top>r.bottom?!1:m3(r.top-t.bottom,t,r)},Yl=(t,r)=>t.top>r.bottom?!0:t.bottom<r.top?!1:m3(r.bottom-t.top,t,r),Wg=(t,r,i)=>r>=t.left&&r<=t.right&&i>=t.top&&i<=t.bottom,$_=t=>Xe(t,(r,i)=>r.fold(()=>q.some(i),u=>{const h=Math.min(i.left,u.left),y=Math.min(i.top,u.top),A=Math.max(i.right,u.right),R=Math.max(i.bottom,u.bottom);return q.some({top:y,right:A,bottom:R,left:h,width:A-h,height:R-y})}),q.none()),rS=(t,r,i)=>{const u=Math.max(Math.min(r,t.left+t.width),t.left),h=Math.max(Math.min(i,t.top+t.height),t.top);return Math.sqrt((r-u)*(r-u)+(i-h)*(i-h))},sS=(t,r)=>Math.max(0,Math.min(t.bottom,r.bottom)-Math.max(t.top,r.top)),v3=(t,r,i)=>Math.min(Math.max(t,r),i),C0=t=>{const r=t.startContainer,i=t.startOffset;return r===t.endContainer&&r.hasChildNodes()&&t.endOffset===i+1?r.childNodes[i]:null},Th=(t,r)=>{if(no(t)&&t.hasChildNodes()){const i=t.childNodes,u=v3(r,0,i.length-1);return i[u]}else return t},b3=(t,r)=>{if(!(r<0&&no(t)&&t.hasChildNodes()))return Th(t,r)},y3=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),w3=t=>P(t)&&t.charCodeAt(0)>=768&&y3.test(t),C3=(...t)=>r=>{for(let i=0;i<t.length;i++)if(t[i](r))return!0;return!1},D_=(...t)=>r=>{for(let i=0;i<t.length;i++)if(!t[i](r))return!1;return!0},S3=no,B_=wi,x3=Tc("display","block table"),E3=Tc("float","left right"),S0=D_(S3,B_,le(E3)),N_=le(Tc("white-space","pre pre-line pre-wrap")),k1=yn,iS=$i,k3=$s.nodeIndex,Xi=b3,A1=t=>t?t.createRange():$s.DOM.createRng(),Uy=t=>P(t)&&/[\r\n\t ]/.test(t),A3=t=>!!t.setStart&&!!t.setEnd,T1=t=>{const r=t.startContainer,i=t.startOffset;if(Uy(t.toString())&&N_(r.parentNode)&&yn(r)){const u=r.data;if(Uy(u[i-1])||Uy(u[i+1]))return!0}return!1},uc=t=>{const r=t.ownerDocument,i=A1(r),u=r.createTextNode(Gi),h=t.parentNode;h.insertBefore(u,t),i.setStart(u,0),i.setEnd(u,1);const y=yu(i.getBoundingClientRect());return h.removeChild(u),y},Vu=t=>{const r=t.startContainer,i=t.endContainer,u=t.startOffset,h=t.endOffset;if(r===i&&yn(i)&&u===0&&h===1){const y=t.cloneRange();return y.setEndAfter(i),Qc(y)}else return null},T3=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,Qc=t=>{var r;let i;const u=t.getClientRects();return u.length>0?i=yu(u[0]):i=yu(t.getBoundingClientRect()),!A3(t)&&iS(t)&&T3(i)?uc(t):T3(i)&&A3(t)&&(r=Vu(t))!==null&&r!==void 0?r:i},qg=(t,r)=>{const i=wu(t,r);return i.width=1,i.right=i.left+1,i},O1=t=>{const r=[],i=A=>{A.height!==0&&(r.length>0&&__(A,r[r.length-1])||r.push(A))},u=(A,R)=>{const H=A1(A.ownerDocument);if(R<A.data.length){if(w3(A.data[R]))return;if(w3(A.data[R-1])&&(H.setStart(A,R),H.setEnd(A,R+1),!T1(H))){i(qg(Qc(H),!1));return}}R>0&&(H.setStart(A,R-1),H.setEnd(A,R),T1(H)||i(qg(Qc(H),!1))),R<A.data.length&&(H.setStart(A,R),H.setEnd(A,R+1),T1(H)||i(qg(Qc(H),!0)))},h=t.container(),y=t.offset();if(k1(h))return u(h,y),r;if(S3(h))if(t.isAtEnd()){const A=Xi(h,y);k1(A)&&u(A,A.data.length),S0(A)&&!iS(A)&&i(qg(Qc(A),!1))}else{const A=Xi(h,y);if(k1(A)&&u(A,0),S0(A)&&t.isAtEnd())return i(qg(Qc(A),!1)),r;const R=Xi(t.container(),t.offset()-1);S0(R)&&!iS(R)&&(x3(R)||x3(A)||!S0(A))&&i(qg(Qc(R),!1)),S0(A)&&i(qg(Qc(A),!0))}return r},Yt=(t,r,i)=>{const u=()=>(k1(t),r===0),h=()=>k1(t)?r>=t.data.length:r>=t.childNodes.length,y=()=>{const ge=A1(t.ownerDocument);return ge.setStart(t,r),ge.setEnd(t,r),ge},A=()=>(i||(i=O1(Yt(t,r))),i),R=()=>A().length>0,H=ge=>ge&&t===ge.container()&&r===ge.offset(),Y=ge=>Xi(t,ge?r-1:r);return{container:Fe(t),offset:Fe(r),toRange:y,getClientRects:A,isVisible:R,isAtStart:u,isAtEnd:h,isEqual:H,getNode:Y}};Yt.fromRangeStart=t=>Yt(t.startContainer,t.startOffset),Yt.fromRangeEnd=t=>Yt(t.endContainer,t.endOffset),Yt.after=t=>Yt(t.parentNode,k3(t)+1),Yt.before=t=>Yt(t.parentNode,k3(t)),Yt.isAbove=(t,r)=>ei(Pn(r.getClientRects()),$n(t.getClientRects()),w0).getOr(!1),Yt.isBelow=(t,r)=>ei($n(r.getClientRects()),Pn(t.getClientRects()),Yl).getOr(!1),Yt.isAtStart=t=>t?t.isAtStart():!1,Yt.isAtEnd=t=>t?t.isAtEnd():!1,Yt.isTextPosition=t=>t?yn(t.container()):!1,Yt.isElementPosition=t=>!Yt.isTextPosition(t);const x0=(t,r)=>{yn(r)&&r.data.length===0&&t.remove(r)},E0=(t,r,i)=>{r.insertNode(i),x0(t,i.previousSibling),x0(t,i.nextSibling)},P_=(t,r,i)=>{const u=q.from(i.firstChild),h=q.from(i.lastChild);r.insertNode(i),u.each(y=>x0(t,y.previousSibling)),h.each(y=>x0(t,y.nextSibling))},$a=(t,r,i)=>{t0(i)?P_(t,r,i):E0(t,r,i)},ol=yn,_1=Mu,O3=$s.nodeIndex,aS=t=>{const r=t.parentNode;return _1(r)?aS(r):r},k0=t=>t?Pt(t.childNodes,(r,i)=>(_1(i)&&i.nodeName!=="BR"?r=r.concat(k0(i)):r.push(i),r),[]):[],Bp=(t,r)=>{let i=t;for(;(i=i.previousSibling)&&ol(i);)r+=i.data.length;return r},lS=t=>r=>t===r,$1=t=>{let r,i;r=k0(aS(t)),i=Zt(r,lS(t),t),r=r.slice(0,i+1);const u=Pt(r,(h,y,A)=>(ol(y)&&ol(r[A-1])&&h++,h),0);return r=dt(r,ic([t.nodeName])),i=Zt(r,lS(t),t),i-u},Wy=t=>(ol(t)?"text()":t.nodeName.toLowerCase())+"["+$1(t)+"]",D1=(t,r,i)=>{const u=[];for(let h=r.parentNode;h&&h!==t&&!(i&&i(h));h=h.parentNode)u.push(h);return u},cS=(t,r)=>{let i=[],u=r.container(),h=r.offset(),y;if(ol(u))y=Bp(u,h);else{const R=u.childNodes;h>=R.length?(y="after",h=R.length-1):y="before",u=R[h]}i.push(Wy(u));let A=D1(t,u);return A=dt(A,le(Mu)),i=i.concat(Ti(A,R=>Wy(R))),i.reverse().join("/")+","+y},_3=(t,r,i)=>{let u=k0(t);return u=dt(u,(h,y)=>!ol(h)||!ol(u[y-1])),u=dt(u,ic([r])),u[i]},$3=(t,r)=>{let i=t,u=0;for(;ol(i);){const h=i.data.length;if(r>=u&&r<=u+h){t=i,r=r-u;break}if(!ol(i.nextSibling)){t=i,r=h;break}u+=h,i=i.nextSibling}return ol(t)&&r>t.data.length&&(r=t.data.length),Yt(t,r)},D3=(t,r)=>{if(!r)return null;const i=r.split(","),u=i[0].split("/"),h=i.length>1?i[1]:"before",y=Pt(u,(A,R)=>{const H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(R);return H?(H[1]==="text()"&&(H[1]="#text"),_3(A,H[1],parseInt(H[2],10))):null},t);if(!y)return null;if(!ol(y)&&y.parentNode){let A;return h==="after"?A=O3(y)+1:A=O3(y),Yt(y.parentNode,A)}return $3(y,parseInt(h,10))},B1=Ei,F_=(t,r,i)=>{let u=t(r.data.slice(0,i)).length;for(let h=r.previousSibling;h&&yn(h);h=h.previousSibling)u+=t(h.data).length;return u},qy=(t,r,i,u,h)=>{const y=h?u.startContainer:u.endContainer;let A=h?u.startOffset:u.endOffset;const R=[],H=t.getRoot();if(yn(y))R.push(i?F_(r,y,A):A);else{let Y=0;const ge=y.childNodes;A>=ge.length&&ge.length&&(Y=1,A=Math.max(0,ge.length-1)),R.push(t.nodeIndex(ge[A],i)+Y)}for(let Y=y;Y&&Y!==H;Y=Y.parentNode)R.push(t.nodeIndex(Y,i));return R},B3=(t,r,i,u)=>{const h=r.dom,y=qy(h,t,i,u,!0),A=r.isForward(),R=mh(u)?{isFakeCaret:!0}:{};if(r.isCollapsed())return{start:y,forward:A,...R};{const H=qy(h,t,i,u,!1);return{start:y,end:H,forward:A,...R}}},fc=(t,r,i)=>{let u=0;return nn.each(t.select(r),h=>{if(h.getAttribute("data-mce-bogus")!=="all"){if(h===i)return!1;u++;return}}),u},N3=(t,r)=>{let i=r?t.startContainer:t.endContainer,u=r?t.startOffset:t.endOffset;if(no(i)&&i.nodeName==="TR"){const h=i.childNodes;i=h[Math.min(r?u:u-1,h.length-1)],i&&(u=r?0:i.childNodes.length,r?t.setStart(i,u):t.setEnd(i,u))}},P3=t=>(N3(t,!0),N3(t,!1),t),A0=(t,r)=>{if(no(t)&&(t=Th(t,r),B1(t)))return t;if(ns(t)){yn(t)&&Zo(t)&&(t=t.parentNode);let i=t.previousSibling;if(B1(i)||(i=t.nextSibling,B1(i)))return i}},Zg=t=>A0(t.startContainer,t.startOffset)||A0(t.endContainer,t.endOffset),Gg=(t,r,i)=>{const u=i.getNode(),h=i.getRng();if(u.nodeName==="IMG"||B1(u)){const A=u.nodeName;return{name:A,index:fc(i.dom,A,u)}}const y=Zg(h);if(y){const A=y.tagName;return{name:A,index:fc(i.dom,A,y)}}return B3(t,i,r,h)},qr=t=>{const r=t.getRng();return{start:cS(t.dom.getRoot(),Yt.fromRangeStart(r)),end:cS(t.dom.getRoot(),Yt.fromRangeEnd(r)),forward:t.isForward()}},eu=t=>({rng:t.getRng(),forward:t.isForward()}),Np=(t,r,i)=>{const u={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return i?t.create("span",u,"&#xFEFF;"):t.create("span",u)},Zy=(t,r)=>{const i=t.dom;let u=t.getRng();const h=i.uniqueId(),y=t.isCollapsed(),A=t.getNode(),R=A.nodeName,H=t.isForward();if(R==="IMG")return{name:R,index:fc(i,R,A)};const Y=P3(u.cloneRange());if(!y){Y.collapse(!1);const Te=Np(i,h+"_end",r);$a(i,Y,Te)}u=P3(u),u.collapse(!0);const ge=Np(i,h+"_start",r);return $a(i,u,ge),t.moveToBookmark({id:h,keep:!0,forward:H}),{id:h,forward:H}},ti=(t,r,i=!1)=>r===2?Gg(It,i,t):r===3?qr(t):r?eu(t):Zy(t,!1),T0=re(Gg,De,!0),N1=t=>{const r=y=>y(t),i=Fe(t),u=()=>h,h={tag:!0,inner:t,fold:(y,A)=>A(t),isValue:me,isError:Ce,map:y=>di.value(y(t)),mapError:u,bind:r,exists:r,forall:r,getOr:i,or:u,getOrThunk:i,orThunk:u,getOrDie:i,each:y=>{y(t)},toOptional:()=>q.some(t)};return h},rl=t=>{const r=()=>i,i={tag:!1,inner:t,fold:(u,h)=>u(t),isValue:Ce,isError:me,map:r,mapError:u=>di.error(u(t)),bind:r,exists:Ce,forall:me,getOr:De,or:De,getOrThunk:ue,orThunk:ue,getOrDie:fe(String(t)),each:ve,toOptional:q.none};return i},di={value:N1,error:rl,fromOption:(t,r)=>t.fold(()=>rl(r),N1)},Pd={generate:t=>{if(!K(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const r=[],i={};return Oe(t,(u,h)=>{const y=Ct(u);if(y.length!==1)throw new Error("one and only one name per case");const A=y[0],R=u[A];if(i[A]!==void 0)throw new Error("duplicate key detected:"+A);if(A==="cata")throw new Error("cannot have a case named cata (sorry)");if(!K(R))throw new Error("case arguments must be an array");r.push(A),i[A]=(...H)=>{const Y=H.length;if(Y!==R.length)throw new Error("Wrong number of arguments to case "+A+". Expected "+R.length+" ("+R+"), got "+Y);return{fold:(...Te)=>{if(Te.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+Te.length);return Te[h].apply(null,H)},match:Te=>{const Ae=Ct(Te);if(r.length!==Ae.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Ae.join(","));if(!fn(r,st=>He(Ae,st)))throw new Error("Not all branches were specified when using match. Specified: "+Ae.join(", ")+`
Required: `+r.join(", "));return Te[A].apply(null,H)},log:Te=>{console.log(Te,{constructors:r,constructor:A,params:H})}}}}),i}};Pd.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Gy=t=>{const r=[],i=[];return Oe(t,u=>{u.fold(h=>{r.push(h)},h=>{i.push(h)})}),{errors:r,values:i}},fS=t=>t.type==="inline-command"||t.type==="inline-format",dS=t=>t.type==="block-command"||t.type==="block-format",hS=t=>{const r=u=>di.error({message:u,pattern:t}),i=(u,h,y)=>{if(t.format!==void 0){let A;if(K(t.format)){if(!fn(t.format,P))return r(u+" pattern has non-string items in the `format` array");A=t.format}else if(P(t.format))A=[t.format];else return r(u+" pattern has non-string `format` parameter");return di.value(h(A))}else return t.cmd!==void 0?P(t.cmd)?di.value(y(t.cmd,t.value)):r(u+" pattern has non-string `cmd` parameter"):r(u+" pattern is missing both `format` and `cmd` parameters")};if(!I(t))return r("Raw pattern is not an object");if(!P(t.start))return r("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!P(t.end))return r("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return r("Inline pattern has empty `start` and `end` parameters");let u=t.start,h=t.end;return h.length===0&&(h=u,u=""),i("Inline",y=>({type:"inline-format",start:u,end:h,format:y}),(y,A)=>({type:"inline-command",start:u,end:h,cmd:y,value:A}))}else return t.replacement!==void 0?P(t.replacement)?t.start.length===0?r("Replacement pattern has empty `start` parameter"):di.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):r("Replacement pattern has non-string `replacement` parameter"):t.start.length===0?r("Block pattern has empty `start` parameter"):i("Block",u=>({type:"block-format",start:t.start,format:u[0]}),(u,h)=>({type:"block-command",start:t.start,cmd:u,value:h}))},pS=t=>Ee(t,dS),gS=t=>Ee(t,fS),F3=(t,r)=>({inlinePatterns:gS(t),blockPatterns:pS(t),dynamicPatternsLookup:r}),O0=t=>{const r=Gy(Ve(t,hS));return Oe(r.errors,i=>console.error(i.message,i.pattern)),r.values},P1=t=>r=>{const i=t(r);return O0(i)},tu=Hs().deviceType,R_=tu.isTouch(),bl=$s.DOM,M_=t=>{const r=t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(",");return Xe(r,(i,u)=>{const h=u.split("="),y=h[0],A=h.length>1?h[1]:y;return i[Qo(y)]=Qo(A),i},{})},Oh=t=>O(t,RegExp),io=t=>r=>r.options.get(t),Ky=t=>P(t)||I(t),F1=(t,r="")=>i=>{const u=P(i);if(u)if(i.indexOf("=")!==-1){const h=M_(i);return{value:Jo(h,t.id).getOr(r),valid:u}}else return{value:i,valid:u};else return{valid:!1,message:"Must be a string."}},mS=t=>{const r=t.options.register;r("id",{processor:"string",default:t.id}),r("selector",{processor:"string"}),r("target",{processor:"object"}),r("suffix",{processor:"string"}),r("cache_suffix",{processor:"string"}),r("base_url",{processor:"string"}),r("referrer_policy",{processor:"string",default:""}),r("language_load",{processor:"boolean",default:!0}),r("inline",{processor:"boolean",default:!1}),r("iframe_attrs",{processor:"object",default:{}}),r("doctype",{processor:"string",default:"<!DOCTYPE html>"}),r("document_base_url",{processor:"string",default:t.documentBaseUrl}),r("body_id",{processor:F1(t,"tinymce"),default:"tinymce"}),r("body_class",{processor:F1(t),default:""}),r("content_security_policy",{processor:"string",default:""}),r("br_in_pre",{processor:"boolean",default:!0}),r("forced_root_block",{processor:i=>{const u=P(i)&&Tr(i);return u?{value:i,valid:u}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),r("forced_root_block_attrs",{processor:"object",default:{}}),r("newline_behavior",{processor:i=>{const u=He(["block","linebreak","invert","default"],i);return u?{value:i,valid:u}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),r("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),r("no_newline_selector",{processor:"string",default:""}),r("keep_styles",{processor:"boolean",default:!0}),r("end_container_on_empty_block",{processor:i=>oe(i)?{valid:!0,value:i}:P(i)?{valid:!0,value:i}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),r("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),r("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),r("font_size_classes",{processor:"string",default:""}),r("automatic_uploads",{processor:"boolean",default:!0}),r("images_reuse_filename",{processor:"boolean",default:!1}),r("images_replace_blob_uris",{processor:"boolean",default:!0}),r("icons",{processor:"string",default:""}),r("icons_url",{processor:"string",default:""}),r("images_upload_url",{processor:"string",default:""}),r("images_upload_base_path",{processor:"string",default:""}),r("images_upload_credentials",{processor:"boolean",default:!1}),r("images_upload_handler",{processor:"function"}),r("language",{processor:"string",default:"en"}),r("language_url",{processor:"string",default:""}),r("entity_encoding",{processor:"string",default:"named"}),r("indent",{processor:"boolean",default:!0}),r("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),r("indent_use_margin",{processor:"boolean",default:!1}),r("indentation",{processor:"string",default:"40px"}),r("content_css",{processor:i=>{const u=i===!1||P(i)||he(i,P);return u?P(i)?{value:Ve(i.split(","),Qo),valid:u}:K(i)?{value:i,valid:u}:i===!1?{value:[],valid:u}:{value:i,valid:u}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:$h(t)?[]:["default"]}),r("content_style",{processor:"string"}),r("content_css_cors",{processor:"boolean",default:!1}),r("font_css",{processor:i=>{const u=P(i)||he(i,P);return u?{value:K(i)?i:Ve(i.split(","),Qo),valid:u}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),r("inline_boundaries",{processor:"boolean",default:!0}),r("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),r("object_resizing",{processor:i=>{const u=oe(i)||P(i);return u?i===!1||tu.isiPhone()||tu.isiPad()?{value:"",valid:u}:{value:i===!0?"table,img,figure.image,div,video,iframe":i,valid:u}:{valid:!1,message:"Must be boolean or a string"}},default:!R_}),r("resize_img_proportional",{processor:"boolean",default:!0}),r("event_root",{processor:"object"}),r("service_message",{processor:"string"}),r("theme",{processor:i=>i===!1||P(i)||G(i),default:"silver"}),r("theme_url",{processor:"string"}),r("formats",{processor:"object"}),r("format_empty_lines",{processor:"boolean",default:!1}),r("format_noneditable_selector",{processor:"string",default:""}),r("preview_styles",{processor:i=>{const u=i===!1||P(i);return u?{value:i===!1?"":i,valid:u}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),r("custom_ui_selector",{processor:"string",default:""}),r("hidden_input",{processor:"boolean",default:!0}),r("submit_patch",{processor:"boolean",default:!0}),r("encoding",{processor:"string"}),r("add_form_submit_trigger",{processor:"boolean",default:!0}),r("add_unload_trigger",{processor:"boolean",default:!0}),r("custom_undo_redo_levels",{processor:"number",default:0}),r("disable_nodechange",{processor:"boolean",default:!1}),r("readonly",{processor:"boolean",default:!1}),r("plugins",{processor:"string[]",default:[]}),r("external_plugins",{processor:"object"}),r("forced_plugins",{processor:"string[]"}),r("model",{processor:"string",default:t.hasPlugin("rtc")?"plugin":"dom"}),r("model_url",{processor:"string"}),r("block_unsupported_drop",{processor:"boolean",default:!0}),r("visual",{processor:"boolean",default:!0}),r("visual_table_class",{processor:"string",default:"mce-item-table"}),r("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),r("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),r("setup",{processor:"function"}),r("init_instance_callback",{processor:"function"}),r("url_converter",{processor:"function",default:t.convertURL}),r("url_converter_scope",{processor:"object",default:t}),r("urlconverter_callback",{processor:"function"}),r("allow_conditional_comments",{processor:"boolean",default:!1}),r("allow_html_data_urls",{processor:"boolean",default:!1}),r("allow_svg_data_urls",{processor:"boolean"}),r("allow_html_in_named_anchor",{processor:"boolean",default:!1}),r("allow_script_urls",{processor:"boolean",default:!1}),r("allow_unsafe_link_target",{processor:"boolean",default:!1}),r("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),r("fix_list_elements",{processor:"boolean",default:!1}),r("preserve_cdata",{processor:"boolean",default:!1}),r("remove_trailing_brs",{processor:"boolean"}),r("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),r("element_format",{processor:"string",default:"html"}),r("entities",{processor:"string"}),r("schema",{processor:"string",default:"html5"}),r("convert_urls",{processor:"boolean",default:!0}),r("relative_urls",{processor:"boolean",default:!0}),r("remove_script_host",{processor:"boolean",default:!0}),r("custom_elements",{processor:"string"}),r("extended_valid_elements",{processor:"string"}),r("invalid_elements",{processor:"string"}),r("invalid_styles",{processor:Ky}),r("valid_children",{processor:"string"}),r("valid_classes",{processor:Ky}),r("valid_elements",{processor:"string"}),r("valid_styles",{processor:Ky}),r("verify_html",{processor:"boolean",default:!0}),r("auto_focus",{processor:i=>P(i)||i===!0}),r("browser_spellcheck",{processor:"boolean",default:!1}),r("protect",{processor:"array"}),r("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),r("deprecation_warnings",{processor:"boolean",default:!0}),r("a11y_advanced_options",{processor:"boolean",default:!1}),r("api_key",{processor:"string"}),r("paste_block_drop",{processor:"boolean",default:!1}),r("paste_data_images",{processor:"boolean",default:!0}),r("paste_preprocess",{processor:"function"}),r("paste_postprocess",{processor:"function"}),r("paste_webkit_styles",{processor:"string",default:"none"}),r("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),r("paste_merge_formats",{processor:"boolean",default:!0}),r("smart_paste",{processor:"boolean",default:!0}),r("paste_as_text",{processor:"boolean",default:!1}),r("paste_tab_spaces",{processor:"number",default:4}),r("text_patterns",{processor:i=>he(i,I)||i===!1?{value:O0(i===!1?[]:i),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),r("text_patterns_lookup",{processor:i=>G(i)?{value:P1(i),valid:!0}:{valid:!1,message:"Must be a single function"},default:i=>[]}),r("noneditable_class",{processor:"string",default:"mceNonEditable"}),r("editable_class",{processor:"string",default:"mceEditable"}),r("noneditable_regexp",{processor:i=>he(i,Oh)?{value:i,valid:!0}:Oh(i)?{value:[i],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),r("table_tab_navigation",{processor:"boolean",default:!0}),t.on("ScriptsLoaded",()=>{r("directionality",{processor:"string",default:xf.isRtl()?"rtl":void 0}),r("placeholder",{processor:"string",default:bl.getAttrib(t.getElement(),"placeholder")})})},vS=io("iframe_attrs"),R3=io("doctype"),M3=io("document_base_url"),I_=io("body_id"),Il=io("body_class"),yl=io("content_security_policy"),Xl=io("br_in_pre"),hi=io("forced_root_block"),Ll=io("forced_root_block_attrs"),sl=io("newline_behavior"),Yy=io("br_newline_selector"),Xy=io("no_newline_selector"),I3=io("keep_styles"),bS=io("end_container_on_empty_block"),_0=io("automatic_uploads"),R1=io("images_reuse_filename"),yS=io("images_replace_blob_uris"),Jy=io("icons"),L_=io("icons_url"),PF=io("images_upload_url"),H_=io("images_upload_base_path"),j_=io("images_upload_credentials"),z_=io("images_upload_handler"),wS=io("content_css_cors"),CS=io("referrer_policy"),L3=io("language"),V_=io("language_url"),H3=io("indent_use_margin"),j3=io("indentation"),Mn=io("content_css"),U_=io("content_style"),Va=io("font_css"),W_=io("directionality"),z3=io("inline_boundaries_selector"),V3=io("object_resizing"),Ef=io("resize_img_proportional"),FF=io("placeholder"),U3=io("event_root"),_h=io("service_message"),Yg=io("theme"),SS=io("theme_url"),dc=io("model"),td=io("model_url"),Xg=io("inline_boundaries"),nd=io("formats"),q_=io("preview_styles"),$0=io("format_empty_lines"),Da=io("format_noneditable_selector"),W3=io("custom_ui_selector"),$h=io("inline"),Qy=io("hidden_input"),q3=io("submit_patch"),Z3=io("add_form_submit_trigger"),Z_=io("add_unload_trigger"),G_=io("custom_undo_redo_levels"),G3=io("disable_nodechange"),K3=io("readonly"),Y3=io("content_css_cors"),Pp=io("plugins"),X3=io("external_plugins"),xS=io("block_unsupported_drop"),ES=io("visual"),Jg=io("visual_table_class"),Qg=io("visual_anchor_class"),D0=io("iframe_aria_text"),K_=io("setup"),J3=io("init_instance_callback"),Y_=io("urlconverter_callback"),kS=io("auto_focus"),X_=io("browser_spellcheck"),em=io("protect"),ki=io("paste_block_drop"),M1=io("paste_data_images"),Jl=io("paste_preprocess"),Q3=io("paste_postprocess"),ek=io("paste_webkit_styles"),tk=io("paste_remove_styles_if_webkit"),e2=io("paste_merge_formats"),B0=io("smart_paste"),nk=io("paste_as_text"),RF=io("paste_tab_spaces"),tm=io("allow_html_data_urls"),J_=io("text_patterns"),Q_=io("text_patterns_lookup"),ok=io("noneditable_class"),e$=io("editable_class"),rk=io("noneditable_regexp"),AS=io("preserve_cdata"),t$=t=>t.options.isSet("text_patterns_lookup"),n$=t=>nn.explode(t.options.get("font_size_style_values")),o$=t=>nn.explode(t.options.get("font_size_classes")),r$=t=>t.options.get("encoding")==="xml",TS=t=>nn.explode(t.options.get("images_file_types")),s$=io("table_tab_navigation"),N0=no,t2=yn,OS=t=>{const r=t.parentNode;r&&r.removeChild(t)},_S=t=>{const r=It(t);return{count:t.length-r.length,text:r}},$S=t=>{let r;for(;(r=t.data.lastIndexOf($e))!==-1;)t.deleteData(r,1)},Fp=(t,r)=>(Bh(t),r),nm=(t,r)=>{const i=_S(t.data.substr(0,r.offset())),u=_S(t.data.substr(r.offset()));return(i.text+u.text).length>0?($S(t),Yt(t,r.offset()-i.count)):r},Rp=(t,r)=>{const i=r.container(),u=it(_o(i.childNodes),t).map(h=>h<r.offset()?Yt(i,r.offset()-1):r).getOr(r);return Bh(t),u},P0=(t,r)=>t2(t)&&r.container()===t?nm(t,r):Fp(t,r),sk=(t,r)=>r.container()===t.parentNode?Rp(t,r):Fp(t,r),Dh=(t,r)=>Yt.isTextPosition(r)?P0(t,r):sk(t,r),Bh=t=>{N0(t)&&ns(t)&&(ds(t)?t.removeAttribute("data-mce-caret"):OS(t)),t2(t)&&($S(t),t.data.length===0&&OS(t))},i$=Ei,Mp=ia,n2=ac,a$="*[contentEditable=false],video,audio,embed,object",DS=(t,r,i)=>{const u=wu(r.getBoundingClientRect(),i);let h,y;if(t.tagName==="BODY"){const R=t.ownerDocument.documentElement;h=t.scrollLeft||R.scrollLeft,y=t.scrollTop||R.scrollTop}else{const R=t.getBoundingClientRect();h=t.scrollLeft-R.left,y=t.scrollTop-R.top}u.left+=h,u.right+=h,u.top+=y,u.bottom+=y,u.width=1;let A=r.offsetWidth-r.clientWidth;return A>0&&(i&&(A*=-1),u.left+=A,u.right+=A),u},l$=t=>{var r,i;const u=$t(mt.fromDom(t),a$);for(let h=0;h<u.length;h++){const y=u[h].dom;let A=y.previousSibling;if(gh(A)){const R=A.data;R.length===1?(r=A.parentNode)===null||r===void 0||r.removeChild(A):A.deleteData(R.length-1,1)}A=y.nextSibling,ju(A)&&(A.data.length===1?(i=A.parentNode)===null||i===void 0||i.removeChild(A):A.deleteData(0,1))}},c$=(t,r,i,u)=>{const h=xh();let y,A;const R=hi(t),H=t.dom,Y=(Ge,ct)=>{let ht;if(ge(),n2(ct))return null;if(i(ct)){const Et=Kf(R,ct,Ge),Dt=DS(r,ct,Ge);H.setStyle(Et,"top",Dt.top),A=Et;const Jt=H.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});H.setStyles(Jt,{...Dt}),H.add(r,Jt),h.set({caret:Jt,element:ct,before:Ge}),Ge&&H.addClass(Jt,"mce-visual-caret-before"),Te(),ht=ct.ownerDocument.createRange(),ht.setStart(Et,0),ht.setEnd(Et,0)}else return A=Ps(ct,Ge),ht=ct.ownerDocument.createRange(),F0(A.nextSibling)?(ht.setStart(A,0),ht.setEnd(A,0)):(ht.setStart(A,1),ht.setEnd(A,1)),ht;return ht},ge=()=>{l$(r),A&&(Bh(A),A=null),h.on(Ge=>{H.remove(Ge.caret),h.clear()}),y&&(clearInterval(y),y=void 0)},Te=()=>{y=setInterval(()=>{h.on(Ge=>{u()?H.toggleClass(Ge.caret,"mce-visual-caret-hidden"):H.addClass(Ge.caret,"mce-visual-caret-hidden")})},500)};return{show:Y,hide:ge,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{h.on(Ge=>{const ct=DS(r,Ge.element,Ge.before);H.setStyles(Ge.caret,{...ct})})},destroy:()=>clearInterval(y)}},BS=()=>Hn.browser.isFirefox(),F0=t=>i$(t)||Mp(t),R0=t=>F0(t)||vf(t)&&BS(),ik=gu,NS=Ei,ak=ia,lk=Tc("display","block table table-cell table-caption list-item"),M0=ns,PS=Zo,o2=no,r2=yn,FS=wi,Ip=t=>t>0,Lp=t=>t<0,I0=(t,r)=>{let i;for(;i=t(r);)if(!PS(i))return i;return null},I1=(t,r,i,u,h)=>{const y=new jr(t,u),A=NS(t)||PS(t);let R;if(Lp(r)){if(A&&(R=I0(y.prev.bind(y),!0),i(R)))return R;for(;R=I0(y.prev.bind(y),h);)if(i(R))return R}if(Ip(r)){if(A&&(R=I0(y.next.bind(y),!0),i(R)))return R;for(;R=I0(y.next.bind(y),h);)if(i(R))return R}return null},MF=(t,r)=>{const i=h=>ik(h.dom),u=h=>h.dom===r;return Di(mt.fromDom(t),i,u).map(h=>h.dom).getOr(r)},od=(t,r)=>{for(;t&&t!==r;){if(lk(t))return t;t=t.parentNode}return null},Uu=(t,r,i)=>od(t.container(),i)===od(r.container(),i),RS=(t,r)=>{if(!r)return q.none();const i=r.container(),u=r.offset();return o2(i)?q.from(i.childNodes[u+t]):q.none()},s2=(t,r)=>{var i;const h=((i=r.ownerDocument)!==null&&i!==void 0?i:document).createRange();return t?(h.setStartBefore(r),h.setEndBefore(r)):(h.setStartAfter(r),h.setEndAfter(r)),h},u$=(t,r,i)=>od(r,t)===od(i,t),ck=(t,r,i)=>{const u=t?"previousSibling":"nextSibling";let h=i;for(;h&&h!==r;){let y=h[u];if(y&&M0(y)&&(y=y[u]),NS(y)||ak(y)){if(u$(r,y,h))return y;break}if(FS(y))break;h=h.parentNode}return null},L0=re(s2,!0),om=re(s2,!1),L1=(t,r,i)=>{let u;const h=re(ck,!0,r),y=re(ck,!1,r),A=i.startContainer,R=i.startOffset;if(Zo(A)){const H=r2(A)?A.parentNode:A,Y=H.getAttribute("data-mce-caret");if(Y==="before"&&(u=H.nextSibling,R0(u)))return L0(u);if(Y==="after"&&(u=H.previousSibling,R0(u)))return om(u)}if(!i.collapsed)return i;if(yn(A)){if(M0(A)){if(t===1){if(u=y(A),u)return L0(u);if(u=h(A),u)return om(u)}if(t===-1){if(u=h(A),u)return om(u);if(u=y(A),u)return L0(u)}return i}if(gh(A)&&R>=A.data.length-1)return t===1&&(u=y(A),u)?L0(u):i;if(ju(A)&&R<=1)return t===-1&&(u=h(A),u)?om(u):i;if(R===A.data.length)return u=y(A),u?L0(u):i;if(R===0)return u=h(A),u?om(u):i}return i},uk=(t,r)=>RS(t?0:-1,r).filter(NS),H0=(t,r,i)=>{const u=L1(t,r,i);return t===-1?Yt.fromRangeStart(u):Yt.fromRangeEnd(u)},i2=t=>q.from(t.getNode()).map(mt.fromDom),f$=t=>q.from(t.getNode(!0)).map(mt.fromDom),Hl=(t,r)=>{let i=r;for(;i=t(i);)if(i.isVisible())return i;return i},MS=(t,r)=>{const i=Uu(t,r);return!i&&$i(t.getNode())?!0:i};var Ji;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Ji||(Ji={}));const j0=Ei,Fd=yn,fk=no,a2=$i,rm=wi,l2=Ty,H1=_d,d$=(t,r)=>{const i=[];let u=t;for(;u&&u!==r;)i.push(u),u=u.parentNode;return i},j1=(t,r)=>t.hasChildNodes()&&r<t.childNodes.length?t.childNodes[r]:null,sm=(t,r)=>{if(Ip(t)){if(rm(r.previousSibling)&&!Fd(r.previousSibling))return Yt.before(r);if(Fd(r))return Yt(r,0)}if(Lp(t)){if(rm(r.nextSibling)&&!Fd(r.nextSibling))return Yt.after(r);if(Fd(r))return Yt(r,r.data.length)}return Lp(t)?a2(r)?Yt.before(r):Yt.after(r):Yt.before(r)},dk=(t,r)=>{const i=r.nextSibling;return i&&rm(i)?Fd(i)?Yt(i,0):Yt.before(i):IS(Ji.Forwards,Yt.after(r),t)},IS=(t,r,i)=>{let u,h,y,A;if(!fk(i)||!r)return null;if(r.isEqual(Yt.after(i))&&i.lastChild){if(A=Yt.after(i.lastChild),Lp(t)&&rm(i.lastChild)&&fk(i.lastChild))return a2(i.lastChild)?Yt.before(i.lastChild):A}else A=r;const R=A.container();let H=A.offset();if(Fd(R)){if(Lp(t)&&H>0)return Yt(R,--H);if(Ip(t)&&H<R.length)return Yt(R,++H);u=R}else{if(Lp(t)&&H>0&&(h=j1(R,H-1),rm(h)))return!l2(h)&&(y=I1(h,t,H1,h),y)?Fd(y)?Yt(y,y.data.length):Yt.after(y):Fd(h)?Yt(h,h.data.length):Yt.before(h);if(Ip(t)&&H<R.childNodes.length&&(h=j1(R,H),rm(h)))return a2(h)?dk(i,h):!l2(h)&&(y=I1(h,t,H1,h),y)?Fd(y)?Yt(y,0):Yt.before(y):Fd(h)?Yt(h,0):Yt.after(h);u=h||A.getNode()}if(u&&(Ip(t)&&A.isAtEnd()||Lp(t)&&A.isAtStart())&&(u=I1(u,t,me,i,!0),H1(u,i)))return sm(t,u);h=u&&I1(u,t,H1,i);const Y=to(Ee(d$(R,i),j0));return Y&&(!h||!Y.contains(h))?(Ip(t)?A=Yt.after(Y):A=Yt.before(Y),A):h?sm(t,h):null},Rd=t=>({next:r=>IS(Ji.Forwards,r,t),prev:r=>IS(Ji.Backwards,r,t)}),LS=(t,r,i)=>{const u=t?Yt.before(i):Yt.after(i);return Bc(t,r,u)},jl=t=>$i(t)?Yt.before(t):Yt.after(t),h$=t=>Yt.isTextPosition(t)?t.offset()===0:wi(t.getNode()),z1=t=>{if(Yt.isTextPosition(t)){const r=t.container();return t.offset()===r.data.length}else return wi(t.getNode(!0))},p$=(t,r)=>!Yt.isTextPosition(t)&&!Yt.isTextPosition(r)&&t.getNode()===r.getNode(!0),HS=t=>!Yt.isTextPosition(t)&&$i(t.getNode()),hk=(t,r,i)=>t?!p$(r,i)&&!HS(r)&&z1(r)&&h$(i):!p$(i,r)&&h$(r)&&z1(i),Bc=(t,r,i)=>{const u=Rd(r);return q.from(t?u.next(i):u.prev(i))},z0=(t,r,i)=>Bc(t,r,i).bind(u=>Uu(i,u,r)&&hk(t,i,u)?Bc(t,r,u):q.some(u)),jS=(t,r,i,u)=>z0(t,r,i).bind(h=>u(h)?jS(t,r,h,u):q.some(h)),V0=(t,r)=>{const i=t?r.firstChild:r.lastChild;return yn(i)?q.some(Yt(i,t?0:i.data.length)):i?wi(i)?q.some(t?Yt.before(i):jl(i)):LS(t,r,i):q.none()},hc=re(Bc,!0),Cu=re(Bc,!1),ya=re(V0,!0),Su=re(V0,!1),c2="_mce_caret",Wu=t=>no(t)&&t.id===c2,V1=(t,r)=>{let i=r;for(;i&&i!==t;){if(Wu(i))return i;i=i.parentNode}return null},IF=t=>P(t.start),U0=t=>To(t,"rng"),u2=t=>To(t,"id"),zS=t=>To(t,"name"),VS=t=>nn.isArray(t.start),U1=t=>!zS(t)&&oe(t.forward)?t.forward:!0,US=(t,r)=>(no(r)&&t.isBlock(r)&&!r.innerHTML&&(r.innerHTML='<br data-mce-bogus="1" />'),r),pk=(t,r)=>{const i=q.from(D3(t.getRoot(),r.start)),u=q.from(D3(t.getRoot(),r.end));return ei(i,u,(h,y)=>{const A=t.createRng();return A.setStart(h.container(),h.offset()),A.setEnd(y.container(),y.offset()),{range:A,forward:U1(r)}})},WS=(t,r)=>{var i;const h=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createTextNode($e);t.appendChild(h),r.setStart(h,0),r.setEnd(h,0)},qS=t=>!t.hasChildNodes(),W0=(t,r)=>Su(t).fold(Ce,i=>(r.setStart(i.container(),i.offset()),r.setEnd(i.container(),i.offset()),!0)),f2=(t,r,i)=>qS(r)&&V1(t,r)?(WS(r,i),!0):!1,ZS=(t,r,i,u)=>{const h=i[r?"start":"end"],y=t.getRoot();if(h){let A=y,R=h[0];for(let H=h.length-1;A&&H>=1;H--){const Y=A.childNodes;if(f2(y,A,u))return!0;if(h[H]>Y.length-1)return f2(y,A,u)?!0:W0(A,u);A=Y[h[H]]}yn(A)&&(R=Math.min(h[0],A.data.length)),no(A)&&(R=Math.min(h[0],A.childNodes.length)),r?u.setStart(A,R):u.setEnd(A,R)}return!0},GS=t=>yn(t)&&t.data.length>0,gk=(t,r,i)=>{const u=t.get(i.id+"_"+r),h=u==null?void 0:u.parentNode,y=i.keep;if(u&&h){let A,R;if(r==="start"?y?u.hasChildNodes()?(A=u.firstChild,R=1):GS(u.nextSibling)?(A=u.nextSibling,R=0):GS(u.previousSibling)?(A=u.previousSibling,R=u.previousSibling.data.length):(A=h,R=t.nodeIndex(u)+1):(A=h,R=t.nodeIndex(u)):y?u.hasChildNodes()?(A=u.firstChild,R=1):GS(u.previousSibling)?(A=u.previousSibling,R=u.previousSibling.data.length):(A=h,R=t.nodeIndex(u)):(A=h,R=t.nodeIndex(u)),!y){const H=u.previousSibling,Y=u.nextSibling;nn.each(nn.grep(u.childNodes),Te=>{yn(Te)&&(Te.data=Te.data.replace(/\uFEFF/g,""))});let ge;for(;ge=t.get(i.id+"_"+r);)t.remove(ge,!0);if(yn(Y)&&yn(H)&&!Hn.browser.isOpera()){const Te=H.data.length;H.appendData(Y.data),t.remove(Y),A=H,R=Te}}return q.some(Yt(A,R))}else return q.none()},g$=(t,r)=>{const i=t.createRng();return ZS(t,!0,r,i)&&ZS(t,!1,r,i)?q.some({range:i,forward:U1(r)}):q.none()},d2=(t,r)=>{const i=gk(t,"start",r),u=gk(t,"end",r);return ei(i,u.or(i),(h,y)=>{const A=t.createRng();return A.setStart(US(t,h.container()),h.offset()),A.setEnd(US(t,y.container()),y.offset()),{range:A,forward:U1(r)}})},m$=(t,r)=>q.from(t.select(r.name)[r.index]).map(i=>{const u=t.createRng();return u.selectNode(i),{range:u,forward:!0}}),v$=(t,r)=>{const i=t.dom;if(r){if(VS(r))return g$(i,r);if(IF(r))return pk(i,r);if(u2(r))return d2(i,r);if(zS(r))return m$(i,r);if(U0(r))return q.some({range:r.rng,forward:U1(r)})}return q.none()},LF=(t,r,i)=>ti(t,r,i),HF=(t,r)=>{v$(t,r).each(({range:i,forward:u})=>{t.setRng(i,u)})},Ql=t=>no(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",q0=(t=>r=>t===r)(Gi),Z0=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,h2=t=>!Z0(t)&&!q0(t)&&!Op(t),KS=t=>({value:t}),mk=t=>{const r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},y$=t=>{const r=mk(t.red)+mk(t.green)+mk(t.blue);return KS(r)},pc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,YS=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,W1=(t,r,i,u)=>({red:t,green:r,blue:i,alpha:u}),Nh=(t,r,i,u)=>{const h=parseInt(t,10),y=parseInt(r,10),A=parseInt(i,10),R=parseFloat(u);return W1(h,y,A,R)},G0=t=>{if(t==="transparent")return q.some(W1(0,0,0,0));const r=pc.exec(t);if(r!==null)return q.some(Nh(r[1],r[2],r[3],"1"));const i=YS.exec(t);return i!==null?q.some(Nh(i[1],i[2],i[3],i[4])):q.none()},im=t=>G0(t).map(y$).map(r=>"#"+r.value).getOr(t),p2=t=>{const r=[];if(t)for(let i=0;i<t.rangeCount;i++)r.push(t.getRangeAt(i));return r},w$=t=>zn(t,r=>{const i=C0(r);return i?[mt.fromDom(i)]:[]}),C$=t=>p2(t).length>1,g2=t=>Ee(w$(t),Fl),Hp=t=>$t(t,"td[data-mce-selected],th[data-mce-selected]"),m2=(t,r)=>{const i=Hp(r);return i.length>0?i:g2(t)},jp=t=>m2(p2(t.selection.getSel()),mt.fromDom(t.getBody())),zl=(t,r)=>Bg(t,"table",r),vk=t=>{const r=t.startContainer,i=t.startOffset;return yn(r)?i===0?q.some(mt.fromDom(r)):q.none():q.from(r.childNodes[i]).map(mt.fromDom)},kf=t=>{const r=t.endContainer,i=t.endOffset;return yn(r)?i===r.data.length?q.some(mt.fromDom(r)):q.none():q.from(r.childNodes[i-1]).map(mt.fromDom)},bk=t=>Eg(t).fold(Fe([t]),r=>[t].concat(bk(r))),K0=t=>wp(t).fold(Fe([t]),r=>ko(r)==="br"?Nl(r).map(i=>[t].concat(K0(i))).getOr([]):[t].concat(K0(r))),v2=(t,r)=>ei(vk(r),kf(r),(i,u)=>{const h=qt(bk(t),re(gs,i)),y=qt(K0(t),re(gs,u));return h.isSome()&&y.isSome()}).getOr(!1),XS=(t,r,i,u)=>{const h=i,y=new jr(i,h),A=pr(t.schema.getMoveCaretBeforeOnEnterElements(),(H,Y)=>!He(["td","th","table"],Y.toLowerCase()));let R=i;do{if(yn(R)&&nn.trim(R.data).length!==0){u?r.setStart(R,0):r.setEnd(R,R.data.length);return}if(A[R.nodeName]){u?r.setStartBefore(R):R.nodeName==="BR"?r.setEndBefore(R):r.setEndAfter(R);return}}while(R=u?y.next():y.prev());h.nodeName==="BODY"&&(u?r.setStart(h,0):r.setEnd(h,h.childNodes.length))},Y0=t=>{const r=t.selection.getSel();return Q(r)&&r.rangeCount>0},JS=(t,r)=>{const i=jp(t);i.length>0?Oe(i,u=>{const h=u.dom,y=t.dom.createRng();y.setStartBefore(h),y.setEndAfter(h),r(y,!0)}):r(t.selection.getRng(),!1)},yk=(t,r,i)=>{const u=Zy(t,r);i(u),t.moveToBookmark(u)},q1=t=>ce(t==null?void 0:t.nodeType),Z1=t=>no(t)&&!Ql(t)&&!Wu(t)&&!Mu(t),S$=(t,r)=>{if(Z1(r)&&!/^(TD|TH)$/.test(r.nodeName)){const i=t.getAttrib(r,"data-mce-selected"),u=parseInt(i,10);return!isNaN(u)&&u>0}else return!1},zp=t=>t.isContentEditable===!0,b2=(t,r,i)=>{const{selection:u,dom:h}=t,y=u.getNode(),A=Ei(y);yk(u,!0,()=>{r()}),A&&Ei(y)&&h.isChildOf(y,t.getBody())?t.selection.select(y):i(u.getStart())&&x$(h,u)},x$=(t,r)=>{var i,u;const h=r.getRng(),{startContainer:y,startOffset:A}=h,R=r.getNode();if(!S$(t,R)&&no(y)){const H=y.childNodes,Y=t.getRoot();let ge;if(A<H.length){const Te=H[A];ge=new jr(Te,(i=t.getParent(Te,t.isBlock))!==null&&i!==void 0?i:Y)}else{const Te=H[H.length-1];ge=new jr(Te,(u=t.getParent(Te,t.isBlock))!==null&&u!==void 0?u:Y),ge.next(!0)}for(let Te=ge.current();Te;Te=ge.next()){if(t.getContentEditable(Te)==="false")return;if(yn(Te)&&!y2(Te)){h.setStart(Te,0),r.setRng(h);return}}}},QS=(t,r,i)=>{if(t){const u=r?"nextSibling":"previousSibling";for(t=i?t:t[u];t;t=t[u])if(no(t)||!y2(t))return t}},X0=(t,r)=>(q1(r)&&(r=r.nodeName),!!t.schema.getTextBlockElements()[r.toLowerCase()]),Vp=(t,r,i)=>t.schema.isValidChild(r,i),y2=(t,r=!1)=>{if(Q(t)&&yn(t)){const i=r?t.data.replace(/ /g,"\xA0"):t.data;return Pg(i)}else return!1},jF=t=>Q(t)&&yn(t)&&t.length===0,E$=(t,r)=>{const i="[data-mce-cef-wrappable]",u=Da(t),h=Or(u)?i:`${i},${u}`;return Ac(mt.fromDom(r),h)},wk=(t,r)=>{const i=t.dom;return Z1(r)&&i.getContentEditable(r)==="false"&&E$(t,r)&&i.select('[contenteditable="true"]',r).length===0},Up=(t,r)=>G(t)?t(r):(Q(r)&&(t=t.replace(/%(\w+)/g,(i,u)=>r[u]||i)),t),w2=(t,r)=>(t=t||"",r=r||"",t=""+(t.nodeName||t),r=""+(r.nodeName||r),t.toLowerCase()===r.toLowerCase()),Rr=(t,r)=>{if(se(t))return null;{let i=String(t);return(r==="color"||r==="backgroundColor")&&(i=im(i)),r==="fontWeight"&&t===700&&(i="bold"),r==="fontFamily"&&(i=i.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),i}},Md=(t,r,i)=>{const u=t.getStyle(r,i);return Rr(u,i)},Wp=(t,r)=>{let i;return t.getParent(r,u=>no(u)?(i=t.getStyle(u,"text-decoration"),!!i&&i!=="none"):!1),i},qp=(t,r,i)=>t.getParents(r,i,t.getRoot()),ex=(t,r,i)=>{const u=t.formatter.get(r);return Q(u)&&Re(u,i)},G1=(t,r)=>ex(t,r,u=>{const h=y=>G(y)||y.length>1&&y.charAt(0)==="%";return Re(["styles","attributes"],y=>Jo(u,y).exists(A=>{const R=K(A)?A:wr(A);return Re(R,h)}))}),Ck=(t,r,i)=>{const u=["inline","block","selector","attributes","styles","classes"],h=y=>pr(y,(A,R)=>Re(u,H=>H===R));return ex(t,r,y=>{const A=h(y);return ex(t,i,R=>{const H=h(R);return si(A,H)})})},Af=t=>Es(t,"block"),C2=t=>Af(t)&&t.wrapper===!0,tx=t=>Af(t)&&t.wrapper!==!0,gc=t=>Es(t,"selector"),Ua=t=>Es(t,"inline"),nx=t=>gc(t)&&Ua(t)&&Qs(Jo(t,"mixed"),!0),K1=t=>gc(t)&&t.expand!==!1&&!Ua(t),J0=Ql,Sk=qp,ox=y2,k$=X0,Q0=t=>$i(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling,A$=(t,r)=>{let i=r;for(;i;){if(no(i)&&t.getContentEditable(i))return t.getContentEditable(i)==="false"?i:r;i=i.parentNode}return r},xk=(t,r,i,u)=>{const h=r.data;for(let y=i;t?y>=0:y<h.length;t?y--:y++)if(u(h.charAt(y)))return t?y+1:y;return-1},Ek=(t,r,i)=>xk(t,r,i,u=>q0(u)||Z0(u)),T$=(t,r,i)=>xk(t,r,i,h2),kk=(t,r,i,u,h,y)=>{let A;const R=t.getParent(i,t.isBlock)||r,H=(ge,Te,Ae)=>{const nt=fi(t),st=h?nt.backwards:nt.forwards;return q.from(st(ge,Te,(Ge,ct)=>J0(Ge.parentNode)?-1:(A=Ge,Ae(h,Ge,ct)),R))};return H(i,u,Ek).bind(ge=>y?H(ge.container,ge.offset+(h?-1:0),T$):q.some(ge)).orThunk(()=>A?q.some({container:A,offset:h?0:A.length}):q.none())},Ak=(t,r,i,u,h)=>{const y=u[h];yn(u)&&Or(u.data)&&y&&(u=y);const A=Sk(t,u);for(let R=0;R<A.length;R++)for(let H=0;H<r.length;H++){const Y=r[H];if(!(Q(Y.collapsed)&&Y.collapsed!==i.collapsed)&&gc(Y)&&t.is(A[R],Y.selector))return A[R]}return u},Tk=(t,r,i,u)=>{var h;let y=i;const A=t.dom,R=A.getRoot(),H=r[0];if(Af(H)&&(y=H.wrapper?null:A.getParent(i,H.block,R)),!y){const Y=(h=A.getParent(i,"LI,TD,TH"))!==null&&h!==void 0?h:R;y=A.getParent(yn(i)?i.parentNode:i,ge=>ge!==R&&k$(t,ge),Y)}if(y&&Af(H)&&H.wrapper&&(y=Sk(A,y,"ul,ol").reverse()[0]||y),!y)for(y=i;y&&y[u]&&!A.isBlock(y[u])&&(y=y[u],!w2(y,"br")););return y||i},am=(t,r,i,u)=>{const h=i.parentNode;return Q(i[u])?!1:h===r||se(h)||t.isBlock(h)?!0:am(t,r,h,u)},S2=(t,r,i,u,h)=>{let y=i;const A=h?"previousSibling":"nextSibling",R=t.getRoot();if(yn(i)&&!ox(i)&&(h?u>0:u<i.data.length))return i;for(;y;){if(!r[0].block_expand&&t.isBlock(y))return y;for(let H=y[A];H;H=H[A]){const Y=yn(H)&&!am(t,R,H,A);if(!J0(H)&&!Q0(H)&&!ox(H,Y))return y}if(y===R||y.parentNode===R){i=y;break}y=y.parentNode}return i},Ok=t=>J0(t.parentNode)||J0(t),Y1=(t,r,i,u=!1)=>{let{startContainer:h,startOffset:y,endContainer:A,endOffset:R}=r;const H=t.dom,Y=i[0];return no(h)&&h.hasChildNodes()&&(h=Th(h,y),yn(h)&&(y=0)),no(A)&&A.hasChildNodes()&&(A=Th(A,r.collapsed?R:R-1),yn(A)&&(R=A.data.length)),h=A$(H,h),A=A$(H,A),Ok(h)&&(h=J0(h)?h:h.parentNode,r.collapsed?h=h.previousSibling||h:h=h.nextSibling||h,yn(h)&&(y=r.collapsed?h.length:0)),Ok(A)&&(A=J0(A)?A:A.parentNode,r.collapsed?A=A.nextSibling||A:A=A.previousSibling||A,yn(A)&&(R=r.collapsed?0:A.length)),r.collapsed&&(kk(H,t.getBody(),h,y,!0,u).each(({container:Ae,offset:nt})=>{h=Ae,y=nt}),kk(H,t.getBody(),A,R,!1,u).each(({container:Ae,offset:nt})=>{A=Ae,R=nt})),(Ua(Y)||Y.block_expand)&&((!Ua(Y)||!yn(h)||y===0)&&(h=S2(H,i,h,y,!0)),(!Ua(Y)||!yn(A)||R===A.data.length)&&(A=S2(H,i,A,R,!1))),K1(Y)&&(h=Ak(H,i,r,h,"previousSibling"),A=Ak(H,i,r,A,"nextSibling")),(Af(Y)||gc(Y))&&(h=Tk(t,i,h,"previousSibling"),A=Tk(t,i,A,"nextSibling"),Af(Y)&&(H.isBlock(h)||(h=S2(H,i,h,y,!0)),H.isBlock(A)||(A=S2(H,i,A,R,!1)))),no(h)&&h.parentNode&&(y=H.nodeIndex(h),h=h.parentNode),no(A)&&A.parentNode&&(R=H.nodeIndex(A)+1,A=A.parentNode),{startContainer:h,startOffset:y,endContainer:A,endOffset:R}},eb=(t,r,i)=>{var u;const h=r.startOffset,y=Th(r.startContainer,h),A=r.endOffset,R=Th(r.endContainer,A-1),H=ct=>{const ht=ct[0];yn(ht)&&ht===y&&h>=ht.data.length&&ct.splice(0,1);const Et=ct[ct.length-1];return A===0&&ct.length>0&&Et===R&&yn(Et)&&ct.splice(ct.length-1,1),ct},Y=(ct,ht,Et)=>{const Dt=[];for(;ct&&ct!==Et;ct=ct[ht])Dt.push(ct);return Dt},ge=(ct,ht)=>t.getParent(ct,Et=>Et.parentNode===ht,ht),Te=(ct,ht,Et)=>{const Dt=Et?"nextSibling":"previousSibling";for(let Jt=ct,an=Jt.parentNode;Jt&&Jt!==ht;Jt=an){an=Jt.parentNode;const Bn=Y(Jt===ct?Jt:Jt[Dt],Dt);Bn.length&&(Et||Bn.reverse(),i(H(Bn)))}};if(y===R)return i(H([y]));const Ae=(u=t.findCommonAncestor(y,R))!==null&&u!==void 0?u:t.getRoot();if(t.isChildOf(y,R))return Te(y,Ae,!0);if(t.isChildOf(R,y))return Te(R,Ae);const nt=ge(y,Ae)||y,st=ge(R,Ae)||R;Te(y,nt,!0);const Ge=Y(nt===y?nt:nt.nextSibling,"nextSibling",st===R?st.nextSibling:st);Ge.length&&i(H(Ge)),Te(R,st)},x2=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],O$=t=>Xr(t)&&_c(t)===$e,_$=(t,r,i,u)=>La(r).fold(()=>"skipping",h=>u==="br"||O$(r)?"valid":k_(r)?"existing":Wu(r.dom)?"caret":Re(x2,y=>Ac(r,y))?"valid-block":!Vp(t,i,u)||!Vp(t,ko(h),i)?"invalid-child":"valid"),$$=(t,r)=>{const i=Y1(t,r,[{inline:"span"}]);r.setStart(i.startContainer,i.startOffset),r.setEnd(i.endContainer,i.endOffset),t.selection.setRng(r)},_k=(t,r,i,u,h,y)=>{const{uid:A=r,...R}=i;zf(t,Eh()),_s(t,`${Ah()}`,A),_s(t,`${kh()}`,u);const{attributes:H={},classes:Y=[]}=h(A,R);if(Jr(t,H),p3(t,Y),y){Y.length>0&&_s(t,`${Vg()}`,Y.join(","));const ge=Ct(H);ge.length>0&&_s(t,`${ba()}`,ge.join(","))}},qn=t=>{df(t,Eh()),Ii(t,`${Ah()}`),Ii(t,`${kh()}`),Ii(t,`${zg()}`);const r=pl(t,`${ba()}`).map(u=>u.split(",")).getOr([]),i=pl(t,`${Vg()}`).map(u=>u.split(",")).getOr([]);Oe(r,u=>Ii(t,u)),O_(t,i),Ii(t,`${Vg()}`),Ii(t,`${ba()}`)},wa=(t,r,i,u,h)=>{const y=mt.fromTag("span",t);return _k(y,r,i,u,h,!1),y},X1=(t,r,i,u,h,y)=>{const A=[],R=wa(t.getDoc(),i,y,u,h),H=xh(),Y=()=>{H.clear()},ge=()=>H.get().getOrThunk(()=>{const st=Ug(R);return A.push(st),H.set(st),st}),Te=st=>{Oe(st,Ae)},Ae=st=>{switch(_$(t,st,"span",ko(st))){case"invalid-child":{Y();const ct=ga(st);Te(ct),Y();break}case"valid-block":{Y(),_k(st,i,y,u,h,!0);break}case"valid":{const ct=ge();Sp(st,ct);break}}},nt=st=>{const Ge=Ve(st,mt.fromDom);Te(Ge)};return eb(t.dom,r,st=>{Y(),nt(st)}),A},il=(t,r,i,u)=>{t.undoManager.transact(()=>{const h=t.selection,y=h.getRng(),A=jp(t).length>0,R=Vy("mce-annotation");if(y.collapsed&&!A&&$$(t,y),h.getRng().collapsed&&!A){const H=wa(t.getDoc(),R,u,r,i.decorate);i1(H,Gi),h.getRng().insertNode(H.dom),h.select(H.dom)}else yk(h,!1,()=>{JS(t,H=>{X1(t,H,R,r,i.decorate,u)})})})},xu=t=>{const r=T_();d3(t,r);const i=A_(t,r),u=Wc("span"),h=y=>{Oe(y,A=>{u(A)?Qa(A):qn(A)})};return{register:(y,A)=>{r.register(y,A)},annotate:(y,A)=>{r.lookup(y).each(R=>{il(t,y,R,A)})},annotationChanged:(y,A)=>{i.addListener(y,A)},remove:y=>{const A=t.selection.getBookmark();zy(t,q.some(y)).each(({elements:R})=>{h(R)}),t.selection.moveToBookmark(A)},removeAll:y=>{const A=t.selection.getBookmark();xn(Nd(t,y),(R,H)=>{h(R)}),t.selection.moveToBookmark(A)},getAll:y=>{const A=Nd(t,y);return pn(A,R=>Ve(R,H=>H.dom))}}},lm=t=>({getBookmark:re(LF,t),moveToBookmark:re(HF,t)});lm.isBookmarkNode=Ql;const J1=(t,r,i)=>i.collapsed?!1:Re(i.getClientRects(),u=>Wg(u,t,r)),E2=(t,r)=>t.dispatch("PreProcess",r),D$=(t,r)=>t.dispatch("PostProcess",r),$k=t=>{t.dispatch("remove")},Dk=t=>{t.dispatch("detach")},Bk=(t,r)=>{t.dispatch("SwitchMode",{mode:r})},B$=(t,r,i,u,h)=>{t.dispatch("ObjectResizeStart",{target:r,width:i,height:u,origin:h})},N$=(t,r,i,u,h)=>{t.dispatch("ObjectResized",{target:r,width:i,height:u,origin:h})},Nk=t=>{t.dispatch("PreInit")},rx=t=>{t.dispatch("PostRender")},cm=t=>{t.dispatch("Init")},k2=(t,r)=>{t.dispatch("PlaceholderToggle",{state:r})},tb=(t,r,i)=>{t.dispatch(r,i)},A2=(t,r,i,u)=>{t.dispatch("FormatApply",{format:r,node:i,vars:u})},um=(t,r,i,u)=>{t.dispatch("FormatRemove",{format:r,node:i,vars:u})},sx=(t,r)=>t.dispatch("BeforeSetContent",r),Pk=(t,r)=>t.dispatch("SetContent",r),fm=(t,r)=>t.dispatch("BeforeGetContent",r),nb=(t,r)=>t.dispatch("GetContent",r),P$=(t,r)=>{t.dispatch("AutocompleterStart",r)},F$=(t,r)=>{t.dispatch("AutocompleterUpdate",r)},Ph=t=>{t.dispatch("AutocompleterEnd")},R$=(t,r,i)=>t.dispatch("PastePreProcess",{content:r,internal:i}),Fk=(t,r,i)=>t.dispatch("PastePostProcess",{node:r,internal:i}),ob=(t,r)=>t.dispatch("PastePlainTextToggle",{state:r}),yo={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||yo.metaKeyPressed(t),metaKeyPressed:t=>Hn.os.isMacOS()||Hn.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},Id="data-mce-selected",Vl="table,img,figure.image,hr,video,span.mce-preview-object",Tf=Math.abs,qu=Math.round,Q1={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ix=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Rk=(t,r)=>{const i=r.dom,u=r.getDoc(),h=document,y=r.getBody();let A,R,H,Y,ge,Te,Ae,nt,st,Ge,ct,ht,Et,Dt,Jt,an,Bn;const un=Vn=>Q(Vn)&&(zC(Vn)||i.is(Vn,"figure.image")),Wt=Vn=>ia(Vn)||i.hasClass(Vn,"mce-preview-object"),Kt=(Vn,Pr)=>{if(ix(Vn)){const gr=Vn.touches[0];return un(Vn.target)&&!J1(gr.clientX,gr.clientY,Pr)}else return un(Vn.target)&&!J1(Vn.clientX,Vn.clientY,Pr)},Nn=Vn=>{const Pr=Vn.target;Kt(Vn,r.selection.getRng())&&!Vn.isDefaultPrevented()&&r.selection.select(Pr)},vo=Vn=>i.hasClass(Vn,"mce-preview-object")&&Q(Vn.firstElementChild)?[Vn,Vn.firstElementChild]:i.is(Vn,"figure.image")?[Vn.querySelector("img")]:[Vn],Ao=Vn=>{const Pr=V3(r);return!Pr||Vn.getAttribute("data-mce-resize")==="false"||Vn===r.getBody()?!1:i.hasClass(Vn,"mce-preview-object")&&Q(Vn.firstElementChild)?Ac(mt.fromDom(Vn.firstElementChild),Pr):Ac(mt.fromDom(Vn),Pr)},ir=Vn=>Wt(Vn)?i.create("img",{src:Hn.transparentSrc}):Vn.cloneNode(!0),Zr=(Vn,Pr,gr)=>{if(Q(gr)){const Go=vo(Vn);Oe(Go,tr=>{tr.style[Pr]||!r.schema.isValid(tr.nodeName.toLowerCase(),Pr)?i.setStyle(tr,Pr,gr):i.setAttrib(tr,Pr,""+gr)})}},bs=(Vn,Pr,gr)=>{Zr(Vn,"width",Pr),Zr(Vn,"height",gr)},Ys=Vn=>{let Pr,gr,Go,tr,Fs;Pr=Vn.screenX-Te,gr=Vn.screenY-Ae,Dt=Pr*Y[2]+Ge,Jt=gr*Y[3]+ct,Dt=Dt<5?5:Dt,Jt=Jt<5?5:Jt,(un(A)||Wt(A))&&Ef(r)!==!1?Go=!yo.modifierPressed(Vn):Go=yo.modifierPressed(Vn),Go&&(Tf(Pr)>Tf(gr)?(Jt=qu(Dt*ht),Dt=qu(Jt/ht)):(Dt=qu(Jt/ht),Jt=qu(Dt*ht))),bs(R,Dt,Jt),tr=Y.startPos.x+Pr,Fs=Y.startPos.y+gr,tr=tr>0?tr:0,Fs=Fs>0?Fs:0,i.setStyles(H,{left:tr,top:Fs,display:"block"}),H.innerHTML=Dt+" &times; "+Jt,Y[2]<0&&R.clientWidth<=Dt&&i.setStyle(R,"left",nt+(Ge-Dt)),Y[3]<0&&R.clientHeight<=Jt&&i.setStyle(R,"top",st+(ct-Jt)),Pr=y.scrollWidth-an,gr=y.scrollHeight-Bn,Pr+gr!==0&&i.setStyles(H,{left:tr-Pr,top:Fs-gr}),Et||(B$(r,A,Ge,ct,"corner-"+Y.name),Et=!0)},xl=()=>{const Vn=Et;Et=!1,Vn&&(Zr(A,"width",Dt),Zr(A,"height",Jt)),i.unbind(u,"mousemove",Ys),i.unbind(u,"mouseup",xl),h!==u&&(i.unbind(h,"mousemove",Ys),i.unbind(h,"mouseup",xl)),i.remove(R),i.remove(H),i.remove(ge),On(A),Vn&&(N$(r,A,Dt,Jt,"corner-"+Y.name),i.setAttrib(A,"style",i.getAttrib(A,"style"))),r.nodeChanged()},On=Vn=>{ao();const Pr=i.getPos(Vn,y),gr=Pr.x,Go=Pr.y,tr=Vn.getBoundingClientRect(),Fs=tr.width||tr.right-tr.left,js=tr.height||tr.bottom-tr.top;A!==Vn&&(Nr(),A=Vn,Dt=Jt=0);const Za=r.dispatch("ObjectSelected",{target:Vn});Ao(Vn)&&!Za.isDefaultPrevented()?xn(Q1,(Ni,Ai)=>{const Na=Ga=>{const Zh=vo(A)[0];Te=Ga.screenX,Ae=Ga.screenY,Ge=Zh.clientWidth,ct=Zh.clientHeight,ht=ct/Ge,Y=Ni,Y.name=Ai,Y.startPos={x:Fs*Ni[0]+gr,y:js*Ni[1]+Go},an=y.scrollWidth,Bn=y.scrollHeight,ge=i.add(y,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(ge,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),R=ir(A),i.addClass(R,"mce-clonedresizable"),i.setAttrib(R,"data-mce-bogus","all"),R.contentEditable="false",i.setStyles(R,{left:gr,top:Go,margin:0}),bs(R,Fs,js),R.removeAttribute(Id),y.appendChild(R),i.bind(u,"mousemove",Ys),i.bind(u,"mouseup",xl),h!==u&&(i.bind(h,"mousemove",Ys),i.bind(h,"mouseup",xl)),H=i.add(y,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Ge+" &times; "+ct)};let Wl=i.get("mceResizeHandle"+Ai);Wl&&i.remove(Wl),Wl=i.add(y,"div",{id:"mceResizeHandle"+Ai,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ai+"-resize; margin:0; padding:0"}),i.bind(Wl,"mousedown",Ga=>{Ga.stopImmediatePropagation(),Ga.preventDefault(),Na(Ga)}),Ni.elm=Wl,i.setStyles(Wl,{left:Fs*Ni[0]+gr-Wl.offsetWidth/2,top:js*Ni[1]+Go-Wl.offsetHeight/2})}):Nr(!1)},dr=jy(On,0),Nr=(Vn=!0)=>{dr.cancel(),ao(),A&&Vn&&A.removeAttribute(Id),xn(Q1,(Pr,gr)=>{const Go=i.get("mceResizeHandle"+gr);Go&&(i.unbind(Go),i.remove(Go))})},Yo=(Vn,Pr)=>i.isChildOf(Vn,Pr),ca=Vn=>{if(Et||r.removed||r.composing)return;const Pr=Vn.type==="mousedown"?Vn.target:t.getNode(),gr=uh(mt.fromDom(Pr),Vl).map(tr=>tr.dom).getOrUndefined(),Go=Q(gr)?i.getAttrib(gr,Id,"1"):"1";if(Oe(i.select(`img[${Id}],hr[${Id}]`),tr=>{tr.removeAttribute(Id)}),Q(gr)&&Yo(gr,y)){Xo();const tr=t.getStart(!0);if(Yo(tr,gr)&&Yo(t.getEnd(!0),gr)){i.setAttrib(gr,Id,Go),dr.throttle(gr);return}}Nr()},ao=()=>{xn(Q1,Vn=>{Vn.elm&&(i.unbind(Vn.elm),delete Vn.elm)})},Xo=()=>{try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return r.on("init",()=>{Xo(),r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",ca),r.on("keyup compositionend",Vn=>{A&&A.nodeName==="TABLE"&&ca(Vn)}),r.on("hide blur",Nr),r.on("contextmenu longpress",Nn,!0)}),r.on("remove",ao),{isResizable:Ao,showResizeRect:On,hideResizeRect:Nr,updateResizeRect:ca,destroy:()=>{dr.cancel(),A=R=ge=null}}},ax=(t,r)=>{r.fold(i=>{t.setStartBefore(i.dom)},(i,u)=>{t.setStart(i.dom,u)},i=>{t.setStartAfter(i.dom)})},M$=(t,r)=>{r.fold(i=>{t.setEndBefore(i.dom)},(i,u)=>{t.setEnd(i.dom,u)},i=>{t.setEndAfter(i.dom)})},T2=(t,r,i)=>{const u=t.document.createRange();return ax(u,r),M$(u,i),u},lx=(t,r,i,u,h)=>{const y=t.document.createRange();return y.setStart(r.dom,i),y.setEnd(u.dom,h),y},dm=Pd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),cx=(t,r,i)=>r(mt.fromDom(i.startContainer),i.startOffset,mt.fromDom(i.endContainer),i.endOffset),Mk=(t,r)=>r.match({domRange:i=>({ltr:Fe(i),rtl:q.none}),relative:(i,u)=>({ltr:uo(()=>T2(t,i,u)),rtl:uo(()=>q.some(T2(t,u,i)))}),exact:(i,u,h,y)=>({ltr:uo(()=>lx(t,i,u,h,y)),rtl:uo(()=>q.some(lx(t,h,y,i,u)))})}),O2=(t,r)=>{const i=r.ltr();return i.collapsed?r.rtl().filter(h=>h.collapsed===!1).map(h=>dm.rtl(mt.fromDom(h.endContainer),h.endOffset,mt.fromDom(h.startContainer),h.startOffset)).getOrThunk(()=>cx(t,dm.ltr,i)):cx(t,dm.ltr,i)},ux=(t,r)=>{const i=Mk(t,r);return O2(t,i)};dm.ltr,dm.rtl;const rd={create:(t,r,i,u)=>({start:t,soffset:r,finish:i,foffset:u})},Ik=(t,r,i)=>{var u,h;return q.from((h=(u=t.dom).caretPositionFromPoint)===null||h===void 0?void 0:h.call(u,r,i)).bind(y=>{if(y.offsetNode===null)return q.none();const A=t.dom.createRange();return A.setStart(y.offsetNode,y.offset),A.collapse(),q.some(A)})},Lk=(t,r,i)=>{var u,h;return q.from((h=(u=t.dom).caretRangeFromPoint)===null||h===void 0?void 0:h.call(u,r,i))},hm=(()=>document.caretPositionFromPoint?Ik:document.caretRangeFromPoint?Lk:q.none)(),pm=(t,r,i)=>{const u=mt.fromDom(t.document);return hm(u,r,i).map(h=>rd.create(mt.fromDom(h.startContainer),h.startOffset,mt.fromDom(h.endContainer),h.endOffset))},ev=Pd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),fx=(t,r,i,u)=>t.fold(r,i,u),Of=t=>t.fold(De,De,De),gm=ev.before,Hk=ev.on,rb=ev.after,sd={before:gm,on:Hk,after:rb,cata:fx,getStart:Of},_2=Pd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),jk=t=>_2.exact(t.start,t.soffset,t.finish,t.foffset),I$=t=>t.match({domRange:r=>mt.fromDom(r.startContainer),relative:(r,i)=>sd.getStart(r),exact:(r,i,u,h)=>r}),L$=_2.domRange,H$=_2.relative,Zu=_2.exact,mc=t=>{const r=I$(t);return Uf(r)},Zp=rd.create,sb={domRange:L$,relative:H$,exact:Zu,exactFromRange:jk,getWin:mc,range:Zp},$2=(t,r)=>{const i=ko(t);return i==="input"?sd.after(t):He(["br","img"],i)?r===0?sd.before(t):sd.after(t):sd.on(t,r)},j$=(t,r)=>{const i=t.fold(sd.before,$2,sd.after),u=r.fold(sd.before,$2,sd.after);return sb.relative(i,u)},Ur=(t,r,i,u)=>{const h=$2(t,r),y=$2(i,u);return sb.relative(h,y)},z$=t=>t.match({domRange:r=>{const i=mt.fromDom(r.startContainer),u=mt.fromDom(r.endContainer);return Ur(i,r.startOffset,u,r.endOffset)},relative:j$,exact:Ur}),D2=(t,r)=>{const u=(r||document).createDocumentFragment();return Oe(t,h=>{u.appendChild(h.dom)}),mt.fromDom(u)},dx=t=>{const r=sb.getWin(t).dom,i=(h,y,A,R)=>lx(r,h,y,A,R),u=z$(t);return ux(r,u).match({ltr:i,rtl:i})},zk=(t,r,i)=>pm(t,r,i),V$=(t,r,i)=>{const u=Uf(mt.fromDom(i));return zk(u.dom,t,r).map(h=>{const y=i.createRange();return y.setStart(h.start.dom,h.soffset),y.setEnd(h.finish.dom,h.foffset),y}).getOrUndefined()},B2=(t,r)=>Q(t)&&Q(r)&&t.startContainer===r.startContainer&&t.startOffset===r.startOffset&&t.endContainer===r.endContainer&&t.endOffset===r.endOffset,U$=(t,r,i)=>{let u=t;for(;u&&u!==r;){if(i(u))return u;u=u.parentNode}return null},W$=(t,r,i)=>U$(t,r,i)!==null,zF=(t,r,i)=>W$(t,r,u=>u.nodeName===i),Vk=(t,r)=>ns(t)&&!W$(t,r,Wu),hx=(t,r,i)=>{const u=r.parentNode;if(u){const h=new jr(r,t.getParent(u,t.isBlock)||t.getRoot());let y;for(;y=h[i?"prev":"next"]();)if($i(y))return!0}return!1},Uk=(t,r)=>{var i;return((i=t.previousSibling)===null||i===void 0?void 0:i.nodeName)===r},VF=(t,r)=>{let i=r;for(;i&&i!==t;){if(Ei(i))return!0;i=i.parentNode}return!1},Wk=(t,r,i,u,h)=>{const y=t.getRoot(),A=t.schema.getNonEmptyElements(),R=h.parentNode;let H,Y;if(!R)return q.none();const ge=t.getParent(R,t.isBlock)||y;if(u&&$i(h)&&r&&t.isEmpty(ge))return q.some(Yt(R,t.nodeIndex(h)));const Te=new jr(h,ge);for(;Y=Te[u?"prev":"next"]();){if(t.getContentEditableParent(Y)==="false"||Vk(Y,y))return q.none();if(yn(Y)&&Y.data.length>0)return zF(Y,y,"A")?q.none():q.some(Yt(Y,u?Y.data.length:0));if(t.isBlock(Y)||A[Y.nodeName.toLowerCase()])return q.none();H=Y}return Iu(H)?q.none():i&&H?q.some(Yt(H,0)):q.none()},N2=(t,r,i,u)=>{const h=t.getRoot();let y,A=!1,R=i?u.startContainer:u.endContainer,H=i?u.startOffset:u.endOffset;const Y=no(R)&&H===R.childNodes.length,ge=t.schema.getNonEmptyElements();let Te=i;if(ns(R))return q.none();if(no(R)&&H>R.childNodes.length-1&&(Te=!1),Ep(R)&&(R=h,H=0),R===h){if(Te&&(y=R.childNodes[H>0?H-1:0],y&&(ns(y)||ge[y.nodeName]||vf(y))))return q.none();if(R.hasChildNodes()){if(H=Math.min(!Te&&H>0?H-1:H,R.childNodes.length-1),R=R.childNodes[H],H=yn(R)&&Y?R.data.length:0,!r&&R===h.lastChild&&vf(R)||VF(h,R)||ns(R))return q.none();if(R.hasChildNodes()&&!vf(R)){y=R;const Ae=new jr(R,h);do{if(Ei(y)||ns(y)){A=!1;break}if(yn(y)&&y.data.length>0){H=Te?0:y.data.length,R=y,A=!0;break}if(ge[y.nodeName.toLowerCase()]&&!Oo(y)){H=t.nodeIndex(y),R=y.parentNode,Te||H++,A=!0;break}}while(y=Te?Ae.next():Ae.prev())}}}return r&&(yn(R)&&H===0&&Wk(t,Y,r,!0,R).each(Ae=>{R=Ae.container(),H=Ae.offset(),A=!0}),no(R)&&(y=R.childNodes[H],y||(y=R.childNodes[H-1]),y&&$i(y)&&!Uk(y,"A")&&!hx(t,y,!1)&&!hx(t,y,!0)&&Wk(t,Y,r,!0,y).each(Ae=>{R=Ae.container(),H=Ae.offset(),A=!0}))),Te&&!r&&yn(R)&&H===R.data.length&&Wk(t,Y,r,!1,R).each(Ae=>{R=Ae.container(),H=Ae.offset(),A=!0}),A&&R?q.some(Yt(R,H)):q.none()},px=(t,r)=>{const i=r.collapsed,u=r.cloneRange(),h=Yt.fromRangeStart(r);return N2(t,i,!0,u).each(y=>{(!i||!Yt.isAbove(h,y))&&u.setStart(y.container(),y.offset())}),i||N2(t,i,!1,u).each(y=>{u.setEnd(y.container(),y.offset())}),i&&u.collapse(!0),B2(r,u)?q.none():q.some(u)},P2=(t,r)=>t.splitText(r),F2=t=>{let r=t.startContainer,i=t.startOffset,u=t.endContainer,h=t.endOffset;if(r===u&&yn(r)){if(i>0&&i<r.data.length)if(u=P2(r,i),r=u.previousSibling,h>i){h=h-i;const y=P2(u,h).previousSibling;r=u=y,h=y.data.length,i=0}else h=0}else if(yn(r)&&i>0&&i<r.data.length&&(r=P2(r,i),i=0),yn(u)&&h>0&&h<u.data.length){const y=P2(u,h).previousSibling;u=y,h=y.data.length}return{startContainer:r,startOffset:i,endContainer:u,endOffset:h}},Bo=t=>({walk:(h,y)=>eb(t,h,y),split:F2,normalize:h=>px(t,h).fold(Ce,y=>(h.setStart(y.startContainer,y.startOffset),h.setEnd(y.endContainer,y.endOffset),!0))});Bo.compareRanges=B2,Bo.getCaretRangeFromPoint=V$,Bo.getSelectedNode=C0,Bo.getNode=Th;const qk=((t,r)=>{const i=(R,H)=>{if(!ce(H)&&!H.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+H);const Y=R.dom;Ec(Y)&&(Y.style[t]=H+"px")},u=R=>{const H=r(R);if(H<=0||H===null){const Y=At(R,t);return parseFloat(Y)||0}return H},h=u,y=(R,H)=>Xe(H,(Y,ge)=>{const Te=At(R,ge),Ae=Te===void 0?0:parseInt(Te,10);return isNaN(Ae)?Y:Y+Ae},0);return{set:i,get:u,getOuter:h,aggregate:y,max:(R,H,Y)=>{const ge=y(R,Y);return H>ge?H-ge:0}}})("height",t=>{const r=t.dom;return pu(t)?r.getBoundingClientRect().height:r.offsetHeight}),Zk=t=>qk.get(t),mm=()=>mt.fromDom(document),Gk=(t,r)=>t.view(r).fold(Fe([]),u=>{const h=t.owner(u),y=Gk(t,h);return[u].concat(y)}),q$=(t,r)=>{const i=r.owner(t);return Gk(r,i)};var mx=Object.freeze({__proto__:null,view:t=>{var r;return(t.dom===document?q.none():q.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(mt.fromDom)},owner:t=>qc(t)});const G$=t=>{const r=mm(),i=el(r),u=q$(t,mx),h=lr(t),y=ot(u,(A,R)=>{const H=lr(R);return{left:A.left+H.left,top:A.top+H.top}},{left:0,top:0});return Og(y.left+h.left+i.left,y.top+h.top+i.top)},vx=t=>ko(t)==="textarea",R2=(t,r)=>t.dispatch("ScrollIntoView",r).isDefaultPrevented(),bx=(t,r)=>{t.dispatch("AfterScrollIntoView",r)},Yk=(t,r)=>{const i=ga(t);if(i.length===0||vx(t))return{element:t,offset:r};if(r<i.length&&!vx(i[r]))return{element:i[r],offset:0};{const u=i[i.length-1];return vx(u)?{element:t,offset:r}:ko(u)==="img"?{element:u,offset:1}:Xr(u)?{element:u,offset:_c(u).length}:{element:u,offset:ga(u).length}}},Xk=(t,r)=>{const i=Zs(t),u=Zk(t);return{element:t,bottom:i.top+u,height:u,pos:i,cleanup:r}},K$=(t,r)=>{const i=Yk(t,r),u=mt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+$e+"</span>");return $r(i.element,u),Xk(u,()=>ts(u))},Jk=t=>Xk(mt.fromDom(t),ve),Qk=(t,r,i,u)=>{vm(t,(h,y)=>us(t,r,i,u),i)},eA=(t,r,i,u,h)=>{const y={elm:u.element.dom,alignToTop:h};if(R2(t,y))return;const A=el(r).top;i(r,A,u,h),bx(t,y)},us=(t,r,i,u)=>{const h=mt.fromDom(t.getBody()),y=mt.fromDom(t.getDoc());bo(h);const A=K$(mt.fromDom(i.startContainer),i.startOffset);eA(t,y,r,A,u),A.cleanup()},tA=(t,r,i,u)=>{const h=mt.fromDom(t.getDoc());eA(t,h,i,Jk(r),u)},vm=(t,r,i)=>{const u=i.startContainer,h=i.startOffset,y=i.endContainer,A=i.endOffset;r(mt.fromDom(u),mt.fromDom(y));const R=t.dom.createRng();R.setStart(u,h),R.setEnd(y,A),t.selection.setRng(i)},id=(t,r,i,u)=>{const h=t.pos;if(i)mf(h.left,h.top,u);else{const y=h.top-r+t.height;mf(h.left,y,u)}},M2=(t,r,i,u,h)=>{const y=i+r,A=u.pos.top,R=u.bottom,H=R-A>=i;A<r?id(u,i,h!==!1,t):A>y?id(u,i,H?h!==!1:h===!0,t):R>y&&!H&&id(u,i,h===!0,t)},vc=(t,r,i,u)=>{const h=Uf(t).dom.innerHeight;M2(t,r,h,i,u)},ib=(t,r,i,u)=>{const h=Uf(t).dom.innerHeight;M2(t,r,h,i,u);const y=G$(i.element),A=Sy(window);y.top<A.y?qf(i.element,u!==!1):y.top>A.bottom&&qf(i.element,u===!0)},ab=(t,r,i)=>Qk(t,vc,r,i),I2=(t,r,i)=>tA(t,r,vc,i),bm=(t,r,i)=>Qk(t,ib,r,i),yx=(t,r,i)=>tA(t,r,ib,i),Y$=(t,r,i)=>{(t.inline?I2:yx)(t,r,i)},lb=(t,r,i)=>{(t.inline?ab:bm)(t,r,i)},nA=t=>t.dom.focus(),zr=t=>{const r=hu(t).dom;return t.dom===r.activeElement},Gu=(t=mm())=>q.from(t.dom.activeElement).map(mt.fromDom),tv=t=>Gu(hu(t)).filter(r=>t.dom.contains(r.dom)),m=(t,r)=>{const i=Xr(r)?_c(r).length:ga(r).length+1;return t>i?i:t<0?0:t},C=t=>sb.range(t.start,m(t.soffset,t.start),t.finish,m(t.foffset,t.finish)),B=(t,r)=>!Ed(r.dom)&&(Ia(t,r)||gs(t,r)),L=t=>r=>B(t,r.start)&&B(t,r.finish),Z=t=>t.inline,te=t=>sb.range(mt.fromDom(t.startContainer),t.startOffset,mt.fromDom(t.endContainer),t.endOffset),ke=t=>{const r=t.getSelection();return(!r||r.rangeCount===0?q.none():q.from(r.getRangeAt(0))).map(te)},Ie=t=>{const r=Uf(t);return ke(r.dom).filter(L(t))},Je=(t,r)=>q.from(r).filter(L(t)).map(C),gt=t=>{const r=document.createRange();try{return r.setStart(t.start.dom,t.soffset),r.setEnd(t.finish.dom,t.foffset),q.some(r)}catch{return q.none()}},Bt=t=>{const r=Z(t)?Ie(mt.fromDom(t.getBody())):q.none();t.bookmark=r.isSome()?r:t.bookmark},hn=t=>(t.bookmark?t.bookmark:q.none()).bind(i=>Je(mt.fromDom(t.getBody()),i)).bind(gt),Rn=t=>{hn(t).each(r=>t.selection.setRng(r))},tn={isEditorUIElement:t=>{const r=t.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1}},jn=(t,r)=>(ce(r)||(r=0),setTimeout(t,r)),rn=(t,r)=>(ce(r)||(r=0),setInterval(t,r)),Yn={setEditorTimeout:(t,r,i)=>jn(()=>{t.removed||r()},i),setEditorInterval:(t,r,i)=>{const u=rn(()=>{t.removed?clearInterval(u):r()},i);return u}},Wo=t=>t.type==="nodechange"&&t.selectionChange,fr=(t,r)=>{const i=()=>{r.throttle()};$s.DOM.bind(document,"mouseup",i),t.on("remove",()=>{$s.DOM.unbind(document,"mouseup",i)})},ii=(t,r)=>{t.on("mouseup touchend",i=>{r.throttle()})},wl=(t,r)=>{ii(t,r),t.on("keyup NodeChange AfterSetSelectionRange",i=>{Wo(i)||Bt(t)})},Qi=t=>{const r=jy(()=>{Bt(t)},0);t.on("init",()=>{t.inline&&fr(t,r),wl(t,r)}),t.on("remove",()=>{r.cancel()})};let al;const Ld=$s.DOM,cb=t=>no(t)&&tn.isEditorUIElement(t),L2=t=>{const r=t.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},ym=(t,r)=>{const i=W3(t);return Ld.getParent(r,h=>cb(h)||(i?t.dom.is(h,i):!1))!==null},Ds=t=>{try{const r=hu(mt.fromDom(t.getElement()));return Gu(r).fold(()=>document.body,i=>i.dom)}catch{return document.body}},ec=(t,r)=>{const i=r.editor;Qi(i),i.on("focusin",()=>{const u=t.focusedEditor;u!==i&&(u&&u.dispatch("blur",{focusedEditor:i}),t.setActive(i),t.focusedEditor=i,i.dispatch("focus",{blurredEditor:u}),i.focus(!0))}),i.on("focusout",()=>{Yn.setEditorTimeout(i,()=>{const u=t.focusedEditor;!ym(i,Ds(i))&&u===i&&(i.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),al||(al=u=>{const h=t.activeEditor;h&&r1(u).each(y=>{const A=y;A.ownerDocument===document&&A!==document.body&&!ym(h,A)&&t.focusedEditor===h&&(h.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})},Ld.bind(document,"focusin",al))},Cl=(t,r)=>{t.focusedEditor===r.editor&&(t.focusedEditor=null),!t.activeEditor&&al&&(Ld.unbind(document,"focusin",al),al=null)},_f=t=>{t.on("AddEditor",re(ec,t)),t.on("RemoveEditor",re(Cl,t))},Eu=(t,r)=>t.dom.getParent(r,i=>t.dom.getContentEditable(i)==="true"),nv=t=>t.collapsed?q.from(Th(t.startContainer,t.startOffset)).map(mt.fromDom):q.none(),tc=(t,r)=>nv(r).bind(i=>h1(i)?q.some(i):Ia(t,i)?q.none():q.some(t)),ub=(t,r)=>{tc(mt.fromDom(t.getBody()),r).bind(i=>ya(i.dom)).fold(()=>{t.selection.normalize()},i=>t.selection.setRng(i.toRange()))},Gp=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},ad=t=>zr(t)||tv(t).isSome(),Sl=t=>Q(t.iframeElement)&&zr(mt.fromDom(t.iframeElement)),X$=t=>{const r=t.getBody();return r&&ad(mt.fromDom(r))},J$=t=>{const r=hu(mt.fromDom(t.getElement()));return Gu(r).filter(i=>!L2(i.dom)&&ym(t,i.dom)).isSome()},wm=t=>t.inline?X$(t):Sl(t),Q$=t=>wm(t)||J$(t),eD=t=>{const r=t.selection,i=t.getBody();let u=r.getRng();t.quirks.refreshContentEditable(),Q(t.bookmark)&&!wm(t)&&hn(t).each(y=>{t.selection.setRng(y),u=y});const h=Eu(t,r.getNode());if(h&&t.dom.isChildOf(h,i)){Gp(h),ub(t,u),fb(t);return}t.inline||(Hn.browser.isOpera()||Gp(i),t.getWin().focus()),(Hn.browser.isFirefox()||t.inline)&&(Gp(i),ub(t,u)),fb(t)},fb=t=>t.editorManager.setActive(t),tD=(t,r)=>{t.removed||(r?fb(t):eD(t))},ov=(t,r,i,u,h)=>{const y=i?r.startContainer:r.endContainer,A=i?r.startOffset:r.endOffset;return q.from(y).map(mt.fromDom).map(R=>!u||!r.collapsed?ch(R,h(R,A)).getOr(R):R).bind(R=>Fr(R)?q.some(R):La(R).filter(Fr)).map(R=>R.dom).getOr(t)},wx=(t,r,i=!1)=>ov(t,r,!0,i,(u,h)=>Math.min(Wf(u),h)),nD=(t,r,i=!1)=>ov(t,r,!1,i,(u,h)=>h>0?h-1:h),UF=(t,r)=>{const i=t;for(;t&&yn(t)&&t.length===0;)t=r?t.nextSibling:t.previousSibling;return t||i},WF=(t,r)=>{if(!r)return t;let i=r.startContainer,u=r.endContainer;const h=r.startOffset,y=r.endOffset;let A=r.commonAncestorContainer;r.collapsed||(i===u&&y-h<2&&i.hasChildNodes()&&(A=i.childNodes[h]),yn(i)&&yn(u)&&(i.length===h?i=UF(i.nextSibling,!0):i=i.parentNode,y===0?u=UF(u.previousSibling,!1):u=u.parentNode,i&&i===u&&(A=i)));const R=yn(A)?A.parentNode:A;return no(R)?R:t},qF=(t,r,i,u)=>{const h=[],y=t.getRoot(),A=t.getParent(i||wx(y,r,r.collapsed),t.isBlock),R=t.getParent(u||nD(y,r,r.collapsed),t.isBlock);if(A&&A!==y&&h.push(A),A&&R&&A!==R){let H=A;const Y=new jr(A,y);for(;(H=Y.next())&&H!==R;)t.isBlock(H)&&h.push(H)}return R&&A!==R&&R!==y&&h.push(R),h},gZ=(t,r,i)=>q.from(r).bind(u=>q.from(u.parentNode).map(h=>{const y=t.nodeIndex(u),A=t.createRng();return A.setStart(h,y),A.setEnd(h,y+1),i&&(XS(t,A,u,!0),XS(t,A,u,!1)),A})),oD=(t,r)=>Ve(r,i=>{const u=t.dispatch("GetSelectionRange",{range:i});return u.range!==i?u.range:i}),mZ=t=>ko(t)==="img"?1:Gf(t).fold(()=>ga(t).length,r=>r.length),vZ=t=>Gf(t).filter(r=>r.trim().length!==0||r.indexOf(Gi)>-1).isSome(),bZ=["img","br"],Cx=t=>vZ(t)||He(bZ,ko(t)),yZ=t=>VC(t,Cx),wZ=t=>rD(t,Cx),rD=(t,r)=>{const i=u=>{const h=ga(u);for(let y=h.length-1;y>=0;y--){const A=h[y];if(r(A))return q.some(A);const R=i(A);if(R.isSome())return R}return q.none()};return i(t)},ZF="[data-mce-autocompleter]",GF=(t,r)=>{if(sD(mt.fromDom(t.getBody())).isNone()){const i=mt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());Li(i,mt.fromDom(r.extractContents())),r.insertNode(i.dom),La(i).each(u=>u.dom.normalize()),wZ(i).map(u=>{t.selection.setCursorLocation(u.dom,mZ(u))})}},KF=t=>uh(t,ZF),sD=t=>Ad(t,ZF),CZ=(t,r)=>sD(r).each(i=>{const u=t.selection.getBookmark();Qa(i),t.selection.moveToBookmark(u)}),SZ={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},oA=(t,r,i)=>{const u=i?"lastChild":"firstChild",h=i?"prev":"next";if(t[u])return t[u];if(t!==r){let y=t[h];if(y)return y;for(let A=t.parent;A&&A!==r;A=A.parent)if(y=A[h],y)return y}},xZ=t=>{var r;const i=(r=t.value)!==null&&r!==void 0?r:"";if(!Pg(i))return!1;const u=t.parent;return!(u&&(u.name!=="span"||u.attr("style"))&&/^[ ]+$/.test(i))},Sx=t=>{const r=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||r};class nu{constructor(r,i){this.name=r,this.type=i,i===1&&(this.attributes=[],this.attributes.map={})}static create(r,i){const u=new nu(r,SZ[r]||1);return i&&xn(i,(h,y)=>{u.attr(y,h)}),u}replace(r){const i=this;return r.parent&&r.remove(),i.insert(r,i),i.remove(),i}attr(r,i){const u=this;if(!P(r))return Q(r)&&xn(r,(y,A)=>{u.attr(A,y)}),u;const h=u.attributes;if(h){if(i!==void 0){if(i===null){if(r in h.map){delete h.map[r];let y=h.length;for(;y--;)if(h[y].name===r)return h.splice(y,1),u}return u}if(r in h.map){let y=h.length;for(;y--;)if(h[y].name===r){h[y].value=i;break}}else h.push({name:r,value:i});return h.map[r]=i,u}return h.map[r]}}clone(){const r=this,i=new nu(r.name,r.type),u=r.attributes;if(u){const h=[];h.map={};for(let y=0,A=u.length;y<A;y++){const R=u[y];R.name!=="id"&&(h[h.length]={name:R.name,value:R.value},h.map[R.name]=R.value)}i.attributes=h}return i.value=r.value,i}wrap(r){const i=this;return i.parent&&(i.parent.insert(r,i),r.append(i)),i}unwrap(){const r=this;for(let i=r.firstChild;i;){const u=i.next;r.insert(i,r,!0),i=u}r.remove()}remove(){const r=this,i=r.parent,u=r.next,h=r.prev;return i&&(i.firstChild===r?(i.firstChild=u,u&&(u.prev=null)):h&&(h.next=u),i.lastChild===r?(i.lastChild=h,h&&(h.next=null)):u&&(u.prev=h),r.parent=r.next=r.prev=null),r}append(r){const i=this;r.parent&&r.remove();const u=i.lastChild;return u?(u.next=r,r.prev=u,i.lastChild=r):i.lastChild=i.firstChild=r,r.parent=i,r}insert(r,i,u){r.parent&&r.remove();const h=i.parent||this;return u?(i===h.firstChild?h.firstChild=r:i.prev&&(i.prev.next=r),r.prev=i.prev,r.next=i,i.prev=r):(i===h.lastChild?h.lastChild=r:i.next&&(i.next.prev=r),r.next=i.next,r.prev=i,i.next=r),r.parent=h,r}getAll(r){const i=this,u=[];for(let h=i.firstChild;h;h=oA(h,i))h.name===r&&u.push(h);return u}children(){const r=this,i=[];for(let u=r.firstChild;u;u=u.next)i.push(u);return i}empty(){const r=this;if(r.firstChild){const i=[];for(let h=r.firstChild;h;h=oA(h,r))i.push(h);let u=i.length;for(;u--;){const h=i[u];h.parent=h.firstChild=h.lastChild=h.next=h.prev=null}}return r.firstChild=r.lastChild=null,r}isEmpty(r,i={},u){var h;const y=this;let A=y.firstChild;if(Sx(y))return!1;if(A)do{if(A.type===1){if(A.attr("data-mce-bogus"))continue;if(r[A.name]||Sx(A))return!1}if(A.type===8||A.type===3&&!xZ(A)||A.type===3&&A.parent&&i[A.parent.name]&&Pg((h=A.value)!==null&&h!==void 0?h:"")||u&&u(A))return!1}while(A=oA(A,y));return!0}walk(r){return oA(this,null,r)}}const YF=(t,r)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(r)),iD=(t,r,i=0)=>{const u=t.toLowerCase();if(u.indexOf("[if ",i)!==-1&&YF(u,i)){const h=u.indexOf("[endif]",i);return u.indexOf(">",h)}else if(r){const h=u.indexOf(">",i);return h!==-1?h:u.length}else{const h=/--!?>/g;h.lastIndex=i;const y=h.exec(t);return y?y.index+y[0].length:u.length}},XF=(t,r,i)=>{const u=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,h=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,y=t.getVoidElements();let A=1,R=i;for(;A!==0;)for(u.lastIndex=R;;){const H=u.exec(r);if(H===null)return R;if(H[1]==="!"){$o(H[2],"--")?R=iD(r,!1,H.index+3):R=iD(r,!0,H.index+1);break}else{h.lastIndex=u.lastIndex;const Y=h.exec(r);if(j(Y)||Y.index!==u.lastIndex)continue;H[1]==="/"?A-=1:To(y,H[2])||(A+=1),R=u.lastIndex+Y[0].length;break}}return R},EZ=(t,r)=>{const i=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return r.replace(i,"")},JF=(t,r)=>{const i=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;let h=EZ(t.getTempAttrs(),r);const y=u.getVoidElements();let A;for(;A=i.exec(h);){const R=i.lastIndex,H=A[0].length;let Y;y[A[1]]?Y=R:Y=XF(u,h,R),h=h.substring(0,R-H)+h.substring(Y),i.lastIndex=R-H}return It(h)},kZ=JF,AZ=(t,r)=>{const i=hi(t),u=new RegExp(`^(<${i}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${i}>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(u,"")},TZ=(t,r)=>{const i=t.getDoc(),u=hu(mt.fromDom(t.getBody())),h=mt.fromTag("div",i);_s(h,"data-mce-bogus","all"),vt(h,{position:"fixed",left:"-9999999px",top:"0"}),i1(h,r.innerHTML);const y=$t(h,"[data-mce-bogus]");Oe(y,H=>{bi(H,"data-mce-bogus")==="all"?ts(H):dh(H)?($r(H,mt.fromText(ph)),ts(H)):Qa(H)});const A=pf(u);Li(A,h);const R=It(h.dom.innerText);return ts(h),R},OZ=(t,r,i)=>{let u;return r.format==="raw"?u=nn.trim(kZ(t.serializer,i.innerHTML)):r.format==="text"?u=TZ(t,i):r.format==="tree"?u=t.serializer.serialize(i,r):u=AZ(t,t.serializer.serialize(i,r)),r.format!=="text"&&!Kr(mt.fromDom(i))&&P(u)?nn.trim(u):u},_Z=(t,r)=>q.from(t.getBody()).fold(Fe(r.format==="tree"?new nu("body",11):""),i=>OZ(t,r,i)),QF=nn.makeMap,eR=t=>{const r=[];t=t||{};const i=t.indent,u=QF(t.indent_before||""),h=QF(t.indent_after||""),y=vu.getEncodeFunc(t.entity_encoding||"raw",t.entities),A=t.element_format!=="xhtml";return{start:(R,H,Y)=>{if(i&&u[R]&&r.length>0){const ge=r[r.length-1];ge.length>0&&ge!==`
`&&r.push(`
`)}if(r.push("<",R),H)for(let ge=0,Te=H.length;ge<Te;ge++){const Ae=H[ge];r.push(" ",Ae.name,'="',y(Ae.value,!0),'"')}if(!Y||A?r[r.length]=">":r[r.length]=" />",Y&&i&&h[R]&&r.length>0){const ge=r[r.length-1];ge.length>0&&ge!==`
`&&r.push(`
`)}},end:R=>{let H;r.push("</",R,">"),i&&h[R]&&r.length>0&&(H=r[r.length-1],H.length>0&&H!==`
`&&r.push(`
`))},text:(R,H)=>{R.length>0&&(r[r.length]=H?R:y(R))},cdata:R=>{r.push("<![CDATA[",R,"]]>")},comment:R=>{r.push("<!--",R,"-->")},pi:(R,H)=>{H?r.push("<?",R," ",y(H),"?>"):r.push("<?",R,"?>"),i&&r.push(`
`)},doctype:R=>{r.push("<!DOCTYPE",R,">",i?`
`:"")},reset:()=>{r.length=0},getContent:()=>r.join("").replace(/\n$/,"")}},rv=(t={},r=zu())=>{const i=eR(t);return t.validate="validate"in t?t.validate:!0,{serialize:h=>{const y=t.validate,A={3:H=>{var Y;i.text((Y=H.value)!==null&&Y!==void 0?Y:"",H.raw)},8:H=>{var Y;i.comment((Y=H.value)!==null&&Y!==void 0?Y:"")},7:H=>{i.pi(H.name,H.value)},10:H=>{var Y;i.doctype((Y=H.value)!==null&&Y!==void 0?Y:"")},4:H=>{var Y;i.cdata((Y=H.value)!==null&&Y!==void 0?Y:"")},11:H=>{let Y=H;if(Y=Y.firstChild)do R(Y);while(Y=Y.next)}};i.reset();const R=H=>{var Y;const ge=A[H.type];if(ge)ge(H);else{const Te=H.name,Ae=Te in r.getVoidElements();let nt=H.attributes;if(y&&nt&&nt.length>1){const st=[];st.map={};const Ge=r.getElementRule(H.name);if(Ge){for(let ct=0,ht=Ge.attributesOrder.length;ct<ht;ct++){const Et=Ge.attributesOrder[ct];if(Et in nt.map){const Dt=nt.map[Et];st.map[Et]=Dt,st.push({name:Et,value:Dt})}}for(let ct=0,ht=nt.length;ct<ht;ct++){const Et=nt[ct].name;if(!(Et in st.map)){const Dt=nt.map[Et];st.map[Et]=Dt,st.push({name:Et,value:Dt})}}nt=st}}if(i.start(Te,nt,Ae),!Ae){let st=H.firstChild;if(st){(Te==="pre"||Te==="textarea")&&st.type===3&&((Y=st.value)===null||Y===void 0?void 0:Y[0])===`
`&&i.text(`
`,!0);do R(st);while(st=st.next)}i.end(Te)}}};return h.type===1&&!t.inner?R(h):h.type===3?A[3](h):A[11](h),i.getContent()}}},tR=new Set;Oe(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],r=>{tR.add(r)});const nR=["font","text-decoration","text-emphasis"],H2=(t,r)=>Ct(t.parseStyle(t.getAttrib(r,"style"))),oR=t=>tR.has(t),rR=(t,r)=>fn(H2(t,r),i=>!oR(i)),$Z=t=>Ee(t,r=>Re(nR,i=>$o(r,i))),DZ=(t,r,i)=>{const u=H2(t,r),h=H2(t,i),y=A=>{var R,H;const Y=(R=t.getStyle(r,A))!==null&&R!==void 0?R:"",ge=(H=t.getStyle(i,A))!==null&&H!==void 0?H:"";return Tr(Y)&&Tr(ge)&&Y!==ge};return Re(u,A=>{const R=H=>Re(H,Y=>Y===A);if(!R(h)&&R(nR)){const H=$Z(h);return Re(H,y)}else return y(A)})},sR=(t,r,i)=>q.from(i.container()).filter(yn).exists(u=>{const h=t?0:-1;return r(u.data.charAt(i.offset()+h))}),aD=re(sR,!0,Z0),lD=re(sR,!1,Z0),BZ=t=>{const r=t.container();return yn(r)&&(r.data.length===0||yt(r.data)&&lm.isBookmarkNode(r.parentNode))},Cm=(t,r)=>i=>RS(t?0:-1,i).filter(r).isSome(),iR=t=>zC(t)&&At(mt.fromDom(t),"display")==="block",cD=t=>Ei(t)&&!jC(t),aR=Cm(!0,iR),NZ=Cm(!1,iR),xx=Cm(!0,ia),Ex=Cm(!1,ia),lR=Cm(!0,vf),cR=Cm(!1,vf),sv=Cm(!0,cD),iv=Cm(!1,cD),PZ=t=>t.slice(0,-1),FZ=(t,r,i)=>Ia(r,t)?PZ(ah(t,u=>i(u)||gs(u,r))):[],uR=(t,r)=>FZ(t,r,Ce),Sm=(t,r)=>[t].concat(uR(t,r)),uD=(t,r,i)=>jS(t,r,i,BZ),fR=(t,r)=>qt(Sm(mt.fromDom(r.container()),t),Hu),dR=(t,r,i)=>uD(t,r.dom,i).forall(u=>fR(r,i).fold(()=>!Uu(u,i,r.dom),h=>!Uu(u,i,r.dom)&&Ia(h,mt.fromDom(u.container())))),hR=(t,r,i)=>fR(r,i).fold(()=>uD(t,r.dom,i).forall(u=>!Uu(u,i,r.dom)),u=>uD(t,u.dom,i).isNone()),fD=re(hR,!1),pR=re(hR,!0),RZ=re(dR,!1),MZ=re(dR,!0),No=t=>i2(t).exists(dh),kx=(t,r,i)=>{const u=Ee(Sm(mt.fromDom(i.container()),r),Hu),h=Pn(u).getOr(r);return Bc(t,h.dom,i).filter(No)},rA=(t,r)=>i2(r).exists(dh)||kx(!0,t,r).isSome(),dD=(t,r)=>f$(r).exists(dh)||kx(!1,t,r).isSome(),hD=re(kx,!1),IZ=re(kx,!0),gR=t=>Yt.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),mR=(t,r)=>{const i=Ee(Sm(mt.fromDom(r.container()),t),Hu);return Pn(i).getOr(t)},vR=(t,r)=>gR(r)?lD(r):lD(r)||Cu(mR(t,r).dom,r).exists(lD),bR=(t,r)=>gR(r)?aD(r):aD(r)||hc(mR(t,r).dom,r).exists(aD),sA=t=>He(["pre","pre-wrap"],t),iA=t=>i2(t).bind(r=>Lu(r,Fr)).exists(r=>sA(At(r,"white-space"))),zhe=(t,r)=>Cu(t.dom,r).isNone(),LZ=(t,r)=>hc(t.dom,r).isNone(),kr=(t,r)=>zhe(t,r)||LZ(t,r)||fD(t,r)||pR(t,r)||dD(t,r)||rA(t,r),HZ=t=>Q(t)&&Ei(t)&&lk(t),Mr=(t,r)=>i=>HZ(new jr(i,t)[r]()),yR=(t,r)=>{const i=hc(t.dom,r).getOr(r),u=Mr(t.dom,"next");return r.isAtEnd()&&(u(r.container())||u(i.container()))},Vhe=(t,r)=>{const i=Cu(t.dom,r).getOr(r),u=Mr(t.dom,"prev");return r.isAtStart()&&(u(r.container())||u(i.container()))},Uhe=(t,r)=>iA(r)?!1:kr(t,r)||vR(t,r)||bR(t,r),Ax=(t,r)=>iA(r)?!1:fD(t,r)||RZ(t,r)||dD(t,r)||vR(t,r)||Vhe(t,r),Whe=t=>{const r=t.container(),i=t.offset();return yn(r)&&i<r.data.length?Yt(r,i+1):t},aA=(t,r)=>iA(r)?!1:pR(t,r)||MZ(t,r)||rA(t,r)||bR(t,r)||yR(t,r),pD=(t,r)=>Ax(t,r)||aA(t,Whe(r)),wR=(t,r)=>q0(t.charAt(r)),qo=(t,r)=>Z0(t.charAt(r)),jZ=t=>{const r=t.container();return yn(r)&&go(r.data,Gi)},zZ=t=>{const r=t.split("");return Ve(r,(i,u)=>q0(i)&&u>0&&u<r.length-1&&h2(r[u-1])&&h2(r[u+1])?" ":i).join("")},CR=(t,r,i)=>{const u=r.data,h=Yt(r,0);return!i&&wR(u,0)&&!pD(t,h)?(r.data=" "+u.slice(1),!0):i&&qo(u,0)&&Ax(t,h)?(r.data=Gi+u.slice(1),!0):!1},Tx=t=>{const r=t.data,i=zZ(r);return i!==r?(t.data=i,!0):!1},gD=(t,r,i)=>{const u=r.data,h=Yt(r,u.length-1);return!i&&wR(u,u.length-1)&&!pD(t,h)?(r.data=u.slice(0,-1)+" ",!0):i&&qo(u,u.length-1)&&aA(t,h)?(r.data=u.slice(0,-1)+Gi,!0):!1},VZ=(t,r)=>{const i=r.container();if(!yn(i))return q.none();if(jZ(r)){const u=CR(t,i,!1)||Tx(i)||gD(t,i,!1);return rr(u,r)}else if(pD(t,r)){const u=CR(t,i,!0)||gD(t,i,!0);return rr(u,r)}else return q.none()},UZ=t=>{const r=mt.fromDom(t.getBody());t.selection.isCollapsed()&&VZ(r,Yt.fromRangeStart(t.selection.getRng())).each(i=>{t.selection.setRng(i.toRange())})},SR=(t,r,i)=>{if(i===0)return;const u=mt.fromDom(t),h=Di(u,Hu).getOr(u),y=t.data.slice(r,r+i),A=r+i>=t.data.length&&aA(h,Yt(t,t.data.length)),R=r===0&&Ax(h,Yt(t,0));t.replaceData(r,i,v1(y,4,R,A))},Ox=(t,r)=>{const i=t.data.slice(r),u=i.length-fa(i).length;SR(t,r,u)},mD=(t,r)=>{const i=t.data.slice(0,r),u=i.length-sr(i).length;SR(t,r-u,u)},xR=(t,r,i,u=!0)=>{const h=sr(t.data).length,y=u?t:r,A=u?r:t;return u?y.appendData(A.data):y.insertData(0,A.data),ts(mt.fromDom(A)),i&&Ox(y,h),y},qhe=(t,r)=>{const i=t.container(),u=t.offset();return!Yt.isTextPosition(t)&&i===r.parentNode&&u>Yt.before(r).offset()},WZ=(t,r)=>qhe(r,t)?Yt(r.container(),r.offset()-1):r,qZ=t=>yn(t)?Yt(t,0):Yt.before(t),ZZ=t=>yn(t)?Yt(t,t.data.length):Yt.after(t),ER=t=>wi(t.previousSibling)?q.some(ZZ(t.previousSibling)):t.previousSibling?Su(t.previousSibling):q.none(),vD=t=>wi(t.nextSibling)?q.some(qZ(t.nextSibling)):t.nextSibling?ya(t.nextSibling):q.none(),GZ=(t,r)=>q.from(r.previousSibling?r.previousSibling:r.parentNode).bind(i=>Cu(t,Yt.before(i))).orThunk(()=>hc(t,Yt.after(r))),Qr=(t,r)=>hc(t,Yt.after(r)).orThunk(()=>Cu(t,Yt.before(r))),kR=(t,r)=>ER(r).orThunk(()=>vD(r)).orThunk(()=>GZ(t,r)),lA=(t,r)=>vD(r).orThunk(()=>ER(r)).orThunk(()=>Qr(t,r)),AR=(t,r,i)=>t?lA(r,i):kR(r,i),TR=(t,r,i)=>AR(t,r,i).map(re(WZ,i)),bD=(t,r,i)=>{i.fold(()=>{t.focus()},u=>{t.selection.setRng(u.toRange(),r)})},OR=t=>r=>r.dom===t,_R=(t,r)=>r&&To(t.schema.getBlockElements(),ko(r)),KZ=t=>{if(va(t)){const r=mt.fromHtml('<br data-mce-bogus="1">');return yi(t),Li(t,r),q.some(Yt.before(r.dom))}else return q.none()},$R=(t,r,i)=>{const u=Nl(t).filter(Xr),h=lh(t).filter(Xr);return ts(t),Dl(u,h,r,(y,A,R)=>{const H=y.dom,Y=A.dom,ge=H.data.length;return xR(H,Y,i),R.container()===Y?Yt(H,ge):R}).orThunk(()=>(i&&(u.each(y=>mD(y.dom,y.dom.length)),h.each(y=>Ox(y.dom,0))),r))},YZ=(t,r)=>To(t.schema.getTextInlineElements(),ko(r)),db=(t,r,i,u=!0)=>{const h=TR(r,t.getBody(),i.dom),y=Di(i,re(_R,t),OR(t.getBody())),A=$R(i,h,YZ(t,i));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):y.bind(KZ).fold(()=>{u&&bD(t,r,A)},R=>{u&&bD(t,r,q.some(R))})},XZ=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,JZ=t=>XZ.test(t),hb=(t,r)=>Ac(mt.fromDom(r),z3(t)),QZ=t=>{var r;return $s.DOM.getStyle(t,"direction",!0)==="rtl"||JZ((r=t.textContent)!==null&&r!==void 0?r:"")},eG=(t,r,i)=>Ee($s.DOM.getParents(i.container(),"*",r),t),av=(t,r,i)=>{const u=eG(t,r,i);return q.from(u[u.length-1])},yD=(t,r,i)=>{const u=od(r,t),h=od(i,t);return Q(u)&&u===h},wD=t=>Ml(t)||Yc(t),ld=(t,r)=>{const i=r.container(),u=r.offset();return t?ur(i)?yn(i.nextSibling)?Yt(i.nextSibling,0):Yt.after(i):Ml(r)?Yt(i,u+1):r:ur(i)?yn(i.previousSibling)?Yt(i.previousSibling,i.previousSibling.data.length):Yt.before(i):Yc(r)?Yt(i,u-1):r},DR=re(ld,!0),BR=re(ld,!1),NR=(t,r)=>{const i=u=>u.stopImmediatePropagation();t.on("beforeinput input",i,!0),t.getDoc().execCommand(r),t.off("beforeinput input",i)},tG=t=>{t.execCommand("delete")},PR=t=>NR(t,"Delete"),nG=t=>NR(t,"ForwardDelete"),oG=t=>r=>Qs(La(r),t,gs),FR=t=>yf(t)||Oc(t),cA=(t,r)=>Ia(t,r)?Lu(r,FR,oG(t)):q.none(),CD=(t,r=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!r})},pb=(t,r,i)=>ei(ya(i),Su(i),(u,h)=>{const y=ld(!0,u),A=ld(!1,h),R=ld(!1,r);return t?hc(i,R).exists(H=>H.isEqual(A)&&r.isEqual(y)):Cu(i,R).exists(H=>H.isEqual(y)&&r.isEqual(A))}).getOr(!0),RR=t=>(Uc(t)?Nl(t):wp(t)).bind(RR).orThunk(()=>q.some(t)),SD=(t,r,i,u=!0)=>{var h;r.deleteContents();const y=RR(i).getOr(i),A=mt.fromDom((h=t.dom.getParent(y.dom,t.dom.isBlock))!==null&&h!==void 0?h:i.dom);if(A.dom===t.getBody()?CD(t,u):va(A)&&(X(A),u&&t.selection.setCursorLocation(A.dom,0)),!gs(i,A)){const R=Qs(La(A),i)?[]:e1(A);Oe(R.concat(ga(i)),H=>{!gs(H,A)&&!Ia(H,A)&&va(H)&&ts(H)})}},rG=t=>r=>gs(t,r),xD=t=>$t(t,"td,th"),MR=(t,r)=>{const i=Y=>zl(mt.fromDom(Y),r),u=i(t.startContainer),h=i(t.endContainer),y=u.isSome(),A=h.isSome(),R=ei(u,h,gs).getOr(!1);return{startTable:u,endTable:h,isStartInTable:y,isEndInTable:A,isSameTable:R,isMultiTable:!R&&y&&A}},uA=(t,r)=>({start:t,end:r}),IR=(t,r,i)=>({rng:t,table:r,cells:i}),j2=Pd.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),nc=(t,r)=>uh(mt.fromDom(t),"td,th",r),LR=t=>!gs(t.start,t.end),HR=(t,r)=>zl(t.start,r).bind(i=>zl(t.end,r).bind(u=>rr(gs(i,u),i))),sG=(t,r)=>!LR(t)&&HR(t,r).exists(i=>{const u=i.dom.rows;return u.length===1&&u[0].cells.length===1}),iG=(t,r)=>{const i=nc(t.startContainer,r),u=nc(t.endContainer,r);return ei(i,u,uA)},aG=t=>r=>zl(r,t).bind(i=>$n(xD(i)).map(u=>uA(r,u))),gb=t=>r=>zl(r,t).bind(i=>Pn(xD(i)).map(u=>uA(u,r))),ED=t=>r=>HR(r,t).map(i=>IR(r,i,xD(i))),jR=(t,r,i,u)=>{if(i.collapsed||!t.forall(LR))return q.none();if(r.isSameTable){const h=t.bind(ED(u));return q.some({start:h,end:h})}else{const h=nc(i.startContainer,u),y=nc(i.endContainer,u),A=h.bind(aG(u)).bind(ED(u)),R=y.bind(gb(u)).bind(ED(u));return q.some({start:A,end:R})}},ea=(t,r)=>bn(t,i=>gs(i,r)),z2=t=>ei(ea(t.cells,t.rng.start),ea(t.cells,t.rng.end),(r,i)=>t.cells.slice(r,i+1)),Zhe=(t,r,i)=>t.exists(u=>sG(u,i)&&v2(u.start,r)),ou=(t,r)=>{const{startTable:i,endTable:u}=r,h=t.cloneRange();return i.each(y=>h.setStartAfter(y.dom)),u.each(y=>h.setEndBefore(y.dom)),h},oi=(t,r,i,u)=>jR(t,r,i,u).bind(({start:h,end:y})=>h.or(y)).bind(h=>{const{isSameTable:y}=r,A=z2(h).getOr([]);if(y&&h.cells.length===A.length)return q.some(j2.fullTable(h.table));if(A.length>0){if(y)return q.some(j2.partialTable(A,q.none()));{const R=ou(i,r);return q.some(j2.partialTable(A,q.some({...r,rng:R})))}}else return q.none()}),Hd=(t,r,i,u)=>jR(t,r,i,u).bind(({start:h,end:y})=>{const A=h.bind(z2).getOr([]),R=y.bind(z2).getOr([]);if(A.length>0&&R.length>0){const H=ou(i,r);return q.some(j2.multiTable(A,R,H))}else return q.none()}),lG=(t,r)=>{const i=rG(t),u=iG(r,i),h=MR(r,i);return Zhe(u,r,i)?u.map(y=>j2.singleCellTable(r,y.start)):h.isMultiTable?Hd(u,h,r,i):oi(u,h,r,i)},kD=t=>Oe(t,r=>{Ii(r,"contenteditable"),X(r)}),AD=(t,r)=>q.from(t.dom.getParent(r,t.dom.isBlock)).map(mt.fromDom),TD=(t,r,i)=>{i.each(u=>{r?ts(u):(X(u),t.selection.setCursorLocation(u.dom,0))})},fA=(t,r,i,u)=>{const h=i.cloneRange();u?(h.setStart(i.startContainer,i.startOffset),h.setEndAfter(r.dom.lastChild)):(h.setStartBefore(r.dom.firstChild),h.setEnd(i.endContainer,i.endOffset)),_x(t,h,r,!1).each(y=>y())},OD=t=>{const r=jp(t),i=mt.fromDom(t.selection.getNode());ac(i.dom)&&va(i)?t.selection.setCursorLocation(i.dom,0):t.selection.collapse(!0),r.length>1&&Re(r,u=>gs(u,i))&&_s(i,"data-mce-selected","1")},zR=(t,r,i)=>q.some(()=>{const u=t.selection.getRng(),h=i.bind(({rng:y,isStartInTable:A})=>{const R=AD(t,A?y.endContainer:y.startContainer);y.deleteContents(),TD(t,A,R.filter(va));const H=A?r[0]:r[r.length-1];return fA(t,H,u,A),va(H)?q.none():q.some(A?r.slice(1):r.slice(0,-1))}).getOr(r);kD(h),OD(t)}),cG=(t,r,i,u)=>q.some(()=>{const h=t.selection.getRng(),y=r[0],A=i[i.length-1];fA(t,y,h,!0),fA(t,A,h,!1);const R=va(y)?r:r.slice(1),H=va(A)?i:i.slice(0,-1);kD(R.concat(H)),u.deleteContents(),OD(t)}),_x=(t,r,i,u=!0)=>q.some(()=>{SD(t,r,i,u)}),VR=(t,r)=>q.some(()=>db(t,!1,r)),Fh=(t,r,i)=>lG(r,i).bind(u=>u.fold(re(_x,t),re(VR,t),re(zR,t),re(cG,t))),uG=(t,r)=>hA(t,r),fG=(t,r,i,u)=>_D(r,u).fold(()=>Fh(t,r,i),h=>uG(t,h)),Ghe=(t,r,i)=>{const u=mt.fromDom(t.getBody()),h=t.selection.getRng();return i.length!==0?zR(t,i,q.none()):fG(t,u,h,r)},dA=(t,r)=>qt(Sm(r,t),Fl),_D=(t,r)=>qt(Sm(r,t),Wc("caption")),$x=(t,r,i,u,h)=>z0(i,t.getBody(),h).bind(y=>dA(r,mt.fromDom(y.getNode())).bind(A=>gs(A,u)?q.none():q.some(ve))),hA=(t,r)=>q.some(()=>{X(r),t.selection.setCursorLocation(r.dom,0)}),V2=(t,r,i,u)=>ya(t.dom).bind(h=>Su(t.dom).map(y=>r?i.isEqual(h)&&u.isEqual(y):i.isEqual(y)&&u.isEqual(h))).getOr(!0),cd=(t,r)=>hA(t,r),Dx=(t,r,i)=>_D(t,mt.fromDom(i.getNode())).fold(()=>q.some(ve),u=>rr(!gs(u,r),ve)),ri=(t,r,i,u,h)=>z0(i,t.getBody(),h).fold(()=>q.some(ve),y=>V2(u,i,h,y)?cd(t,u):Dx(r,u,y)),Bx=(t,r,i,u)=>{const h=Yt.fromRangeStart(t.selection.getRng());return dA(i,u).bind(y=>va(y)?hA(t,y):$x(t,i,r,y,h))},UR=(t,r,i,u)=>{const h=Yt.fromRangeStart(t.selection.getRng());return va(u)?hA(t,u):ri(t,i,r,u,h)},$D=(t,r)=>t?lR(r):cR(r),DD=(t,r)=>{const i=Yt.fromRangeStart(t.selection.getRng());return $D(r,i)||Bc(r,t.getBody(),i).exists(u=>$D(r,u))},BD=(t,r,i)=>{const u=mt.fromDom(t.getBody());return _D(u,i).fold(()=>Bx(t,r,u,i).orThunk(()=>rr(DD(t,r),ve)),h=>UR(t,r,u,h))},Nx=(t,r)=>{const i=mt.fromDom(t.selection.getStart(!0)),u=jp(t);return t.selection.isCollapsed()&&u.length===0?BD(t,r,i):Ghe(t,i,u)},xm=(t,r)=>{let i=r;for(;i&&i!==t;){if(gu(i)||Ei(i))return i;i=i.parentNode}return null},pA=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],ND=nn.each,gA=t=>{const r=t.dom,i=new Set(t.serializer.getTempAttrs()),u=(y,A)=>{if(y.nodeName!==A.nodeName||y.nodeType!==A.nodeType)return!1;const R=Y=>{const ge={};return ND(r.getAttribs(Y),Te=>{const Ae=Te.nodeName.toLowerCase();Ae!=="style"&&!h(Ae)&&(ge[Ae]=r.getAttrib(Y,Ae))}),ge},H=(Y,ge)=>{for(const Te in Y)if(To(Y,Te)){const Ae=ge[Te];if(xe(Ae)||Y[Te]!==Ae)return!1;delete ge[Te]}for(const Te in ge)if(To(ge,Te))return!1;return!0};return no(y)&&no(A)&&(!H(R(y),R(A))||!H(r.parseStyle(r.getAttrib(y,"style")),r.parseStyle(r.getAttrib(A,"style"))))?!1:!Ql(y)&&!Ql(A)},h=y=>Re(pA,A=>$o(y,A))||i.has(y);return{compare:u,isAttributeInternal:h}},WR=(t,r)=>{let i=t;for(;i=i.walk();)r(i)},PD=(t,r,i,u)=>{const h=i.name;for(let y=0,A=t.length;y<A;y++){const R=t[y];if(R.name===h){const H=u.nodes[h];H?H.nodes.push(i):u.nodes[h]={filter:R,nodes:[i]}}}if(i.attributes)for(let y=0,A=r.length;y<A;y++){const R=r[y],H=R.name;if(H in i.attributes.map){const Y=u.attributes[H];Y?Y.nodes.push(i):u.attributes[H]={filter:R,nodes:[i]}}}},qR=(t,r,i)=>{const u={nodes:{},attributes:{}};return i.firstChild&&WR(i,h=>{PD(t,r,h,u)}),u},FD=(t,r)=>{const i=(u,h)=>{xn(u,y=>{const A=_o(y.nodes);Oe(y.filter.callbacks,R=>{for(let H=A.length-1;H>=0;H--){const Y=A[H];(!(h?Y.attr(y.filter.name)!==void 0:Y.name===y.filter.name)||se(Y.parent))&&A.splice(H,1)}A.length>0&&R(A,y.filter.name,r)})})};i(t.nodes,!1),i(t.attributes,!0)},mb=(t,r,i,u={})=>{const h=qR(t,r,i);FD(h,u)},mA=(t,r,i,u)=>{if(r.insert&&i[u.name]){const h=new nu("br",1);h.attr("data-mce-bogus","1"),u.empty().append(h)}else u.empty().append(new nu("#text",3)).value=Gi},RD=t=>{var r;return ZR(t,"#text")&&((r=t==null?void 0:t.firstChild)===null||r===void 0?void 0:r.value)===Gi},ZR=(t,r)=>{const i=t==null?void 0:t.firstChild;return Q(i)&&i===t.lastChild&&i.name===r},dG=(t,r)=>{const i=t.getElementRule(r.name);return(i==null?void 0:i.paddEmpty)===!0},U2=(t,r,i,u)=>u.isEmpty(r,i,h=>dG(t,h)),GR=(t,r)=>Q(t)&&(t.name in r||t.name==="br"),vA=(t,r,i=t.parent)=>{if(r.getSpecialElements()[t.name])t.empty().remove();else{const u=t.children();for(const h of u)i&&!r.isValidChild(i.name,h.name)&&vA(h,r,i);t.unwrap()}},W2=(t,r,i=ve)=>{const u=r.getTextBlockElements(),h=r.getNonEmptyElements(),y=r.getWhitespaceElements(),A=nn.makeMap("tr,td,th,tbody,thead,tfoot,table"),R=new Set;for(let H=0;H<t.length;H++){const Y=t[H];let ge,Te,Ae;if(!Y.parent||R.has(Y))continue;if(u[Y.name]&&Y.parent.name==="li"){let st=Y.next;for(;st&&u[st.name];){st.name="li",R.add(st),Y.parent.insert(st,Y.parent);st=st.next}Y.unwrap();continue}const nt=[Y];for(ge=Y.parent;ge&&!r.isValidChild(ge.name,Y.name)&&!A[ge.name];ge=ge.parent)nt.push(ge);if(ge&&nt.length>1)if(r.isValidChild(ge.name,Y.name)){nt.reverse(),Te=nt[0].clone(),i(Te);let st=Te;for(let Ge=0;Ge<nt.length-1;Ge++){r.isValidChild(st.name,nt[Ge].name)?(Ae=nt[Ge].clone(),i(Ae),st.append(Ae)):Ae=st;for(let ct=nt[Ge].firstChild;ct&&ct!==nt[Ge+1];){const ht=ct.next;Ae.append(ct),ct=ht}st=Ae}U2(r,h,y,Te)?ge.insert(Y,nt[0],!0):(ge.insert(Te,nt[0],!0),ge.insert(Y,Te)),ge=nt[0],(U2(r,h,y,ge)||ZR(ge,"br"))&&ge.empty().remove()}else vA(Y,r);else if(Y.parent){if(Y.name==="li"){let st=Y.prev;if(st&&(st.name==="ul"||st.name==="ol")){st.append(Y);continue}if(st=Y.next,st&&(st.name==="ul"||st.name==="ol")&&st.firstChild){st.insert(Y,st.firstChild,!0);continue}const Ge=new nu("ul",1);i(Ge),Y.wrap(Ge);continue}if(r.isValidChild(Y.parent.name,"div")&&r.isValidChild("div",Y.name)){const st=new nu("div",1);i(st),Y.wrap(st)}else vA(Y,r)}}},KR=(t,r,i,u)=>{const h=document.createRange();return h.setStart(t,r),h.setEnd(i,u),h},YR=t=>{const r=Yt.fromRangeStart(t),i=Yt.fromRangeEnd(t),u=t.commonAncestorContainer;return Bc(!1,u,i).map(h=>!Uu(r,i,u)&&Uu(r,h,u)?KR(r.container(),r.offset(),h.container(),h.offset()):t).getOr(t)},bA=t=>t.collapsed?t:YR(t),XR=t=>Q(t.firstChild)&&t.firstChild===t.lastChild,JR=t=>t.name==="br"||t.value===Gi,QR=(t,r)=>t.getBlockElements()[r.name]&&XR(r)&&JR(r.firstChild),e9=(t,r)=>{const i=t.getNonEmptyElements();return Q(r)&&(r.isEmpty(i)||QR(t,r))},t9=(t,r)=>{let i=r.firstChild,u=r.lastChild;return i&&i.name==="meta"&&(i=i.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),e9(t,u)&&(u=u==null?void 0:u.prev),!i||i!==u?!1:i.name==="ul"||i.name==="ol"},n9=t=>{var r,i;const u=t.firstChild,h=t.lastChild;return u&&u.nodeName==="META"&&((r=u.parentNode)===null||r===void 0||r.removeChild(u)),h&&h.id==="mce_marker"&&((i=h.parentNode)===null||i===void 0||i.removeChild(h)),t},o9=(t,r,i)=>{const u=r.serialize(i),h=t.createFragment(u);return n9(h)},r9=t=>{var r;return Ee((r=t==null?void 0:t.childNodes)!==null&&r!==void 0?r:[],i=>i.nodeName==="LI")},s9=t=>t.data===Gi||$i(t),i9=t=>Q(t==null?void 0:t.firstChild)&&t.firstChild===t.lastChild&&s9(t.firstChild),a9=t=>!t.firstChild||i9(t),MD=t=>t.length>0&&a9(t[t.length-1])?t.slice(0,-1):t,q2=(t,r)=>{const i=t.getParent(r,t.isBlock);return i&&i.nodeName==="LI"?i:null},l9=(t,r)=>!!q2(t,r),c9=(t,r)=>{const i=r.cloneRange(),u=r.cloneRange();return i.setStartBefore(t),u.setEndAfter(t),[i.cloneContents(),u.cloneContents()]},yA=(t,r)=>{const i=Yt.before(t),h=Rd(r).next(i);return h?h.toRange():null},wA=(t,r)=>{const i=Yt.after(t),h=Rd(r).prev(i);return h?h.toRange():null},Px=(t,r,i,u)=>{const h=c9(t,u),y=t.parentNode;return y&&(y.insertBefore(h[0],t),nn.each(r,A=>{y.insertBefore(A,t)}),y.insertBefore(h[1],t),y.removeChild(t)),wA(r[r.length-1],i)},ID=(t,r,i)=>{const u=t.parentNode;return u&&nn.each(r,h=>{u.insertBefore(h,t)}),yA(t,i)},u9=(t,r,i,u)=>(u.insertAfter(r.reverse(),t),wA(r[0],i)),Fx=(t,r,i,u)=>{const h=o9(r,t,u),y=q2(r,i.startContainer),A=MD(r9(h.firstChild)),R=1,H=2,Y=r.getRoot(),ge=Te=>{const Ae=Yt.fromRangeStart(i),nt=Rd(r.getRoot()),st=Te===R?nt.prev(Ae):nt.next(Ae),Ge=st==null?void 0:st.getNode();return Ge?q2(r,Ge)!==y:!0};return y?ge(R)?ID(y,A,Y):ge(H)?u9(y,A,Y,r):Px(y,A,Y,i):null},LD=["pre"],HD=(t,r,i,u)=>{var h;const y=r.firstChild,A=r.lastChild,R=A.attr("data-mce-type")==="bookmark"?A.prev:A,H=y===R,Y=He(LD,y.name);if(H&&Y){const ge=y.attr("contenteditable")!=="false",Te=((h=t.getParent(i,t.isBlock))===null||h===void 0?void 0:h.nodeName.toLowerCase())===y.name,Ae=q.from(xm(u,i)).forall(gu);return ge&&Te&&Ae}else return!1},vb=ac,f9=(t,r,i)=>{if(Q(i)){const u=t.getParent(r.endContainer,vb);return i===u&&v2(mt.fromDom(i),r)}else return!1},hG=(t,r,i)=>{var u;if(i.getAttribute("data-mce-bogus")==="all")(u=i.parentNode)===null||u===void 0||u.insertBefore(t.dom.createFragment(r),i);else{const h=i.firstChild,y=i.lastChild;!h||h===y&&h.nodeName==="BR"?t.dom.setHTML(i,r):t.selection.setContent(r,{no_events:!0})}},d9=(t,r)=>{q.from(t.getParent(r,"td,th")).map(mt.fromDom).each(_e)},h9=(t,r)=>{const i=t.schema.getTextInlineElements(),u=t.dom;if(r){const h=t.getBody(),y=gA(t);nn.each(u.select("*[data-mce-fragment]"),A=>{if(Q(i[A.nodeName.toLowerCase()])&&rR(u,A)){for(let H=A.parentElement;Q(H)&&H!==h&&!DZ(u,A,H);H=H.parentElement)if(y.compare(H,A)){u.remove(A,!0);break}}})}},pG=t=>{let r=t;for(;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},Khe=t=>{nn.each(t.getElementsByTagName("*"),r=>{r.removeAttribute("data-mce-fragment")})},gG=t=>!!t.getAttribute("data-mce-fragment"),jD=(t,r)=>Q(r)&&!t.schema.getVoidElements()[r.nodeName],Rh=(t,r)=>{var i,u,h;let y;const A=t.dom,R=t.selection;if(!r)return;R.scrollIntoView(r);const H=xm(t.getBody(),r);if(H&&A.getContentEditable(H)==="false"){A.remove(r),R.select(H);return}let Y=A.createRng();const ge=r.previousSibling;if(yn(ge)){Y.setStart(ge,(u=(i=ge.nodeValue)===null||i===void 0?void 0:i.length)!==null&&u!==void 0?u:0);const nt=r.nextSibling;yn(nt)&&(ge.appendData(nt.data),(h=nt.parentNode)===null||h===void 0||h.removeChild(nt))}else Y.setStartBefore(r),Y.setEndBefore(r);const Te=nt=>{let st=Yt.fromRangeStart(nt);return st=Rd(t.getBody()).next(st),st==null?void 0:st.toRange()},Ae=A.getParent(r,A.isBlock);A.remove(r),Ae&&A.isEmpty(Ae)&&(yi(mt.fromDom(Ae)),Y.setStart(Ae,0),Y.setEnd(Ae,0),!vb(Ae)&&!gG(Ae)&&(y=Te(Y))?(Y=y,A.remove(Ae)):A.add(Ae,A.create("br",{"data-mce-bogus":"1"}))),R.setRng(Y)},zD=t=>{const r=t.dom,i=bA(t.selection.getRng());t.selection.setRng(i);const u=r.getParent(i.startContainer,vb);f9(r,i,u)?_x(t,i,mt.fromDom(u)):t.getDoc().execCommand("Delete",!1)},CA=(t,r,i)=>{var u,h,y;const A=t.selection,R=t.dom,H=t.parser,Y=i.merge,ge=rv({validate:!0},t.schema),Te='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,Te);let Ae=A.getRng();const nt=Ae.startContainer,st=t.getBody();nt===st&&A.isCollapsed()&&R.isBlock(st.firstChild)&&jD(t,st.firstChild)&&R.isEmpty(st.firstChild)&&(Ae=R.createRng(),Ae.setStart(st.firstChild,0),Ae.setEnd(st.firstChild,0),A.setRng(Ae)),A.isCollapsed()||zD(t);const Ge=A.getNode(),ct={context:Ge.nodeName.toLowerCase(),data:i.data,insert:!0},ht=H.parse(r,ct);if(i.paste===!0&&t9(t.schema,ht)&&l9(R,Ge))return Ae=Fx(ge,R,A.getRng(),ht),Ae&&A.setRng(Ae),r;i.paste===!0&&HD(R,ht,Ge,t.getBody())&&((u=ht.firstChild)===null||u===void 0||u.unwrap()),pG(ht);let Et=ht.lastChild;if(Et&&Et.attr("id")==="mce_marker"){const Dt=Et;for(Et=Et.prev;Et;Et=Et.walk(!0))if(Et.type===3||!R.isBlock(Et.name)){Et.parent&&t.schema.isValidChild(Et.parent.name,"span")&&Et.parent.insert(Dt,Et,Et.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(Ge),!ct.invalid)r=ge.serialize(ht),hG(t,r,Ge);else{t.selection.setContent(Te);let Dt=A.getNode(),Jt;const an=t.getBody();for(Ep(Dt)?Dt=Jt=an:Jt=Dt;Jt&&Jt!==an;)Dt=Jt,Jt=Jt.parentNode;r=Dt===an?an.innerHTML:R.getOuterHTML(Dt);const Bn=H.parse(r);for(let Nn=Bn;Nn;Nn=Nn.walk())if(Nn.attr("id")==="mce_marker"){Nn.replace(ht);break}const un=ht.children(),Wt=(y=(h=ht.parent)===null||h===void 0?void 0:h.name)!==null&&y!==void 0?y:Bn.name;ht.unwrap();const Kt=Ee(un,Nn=>!t.schema.isValidChild(Wt,Nn.name));W2(Kt,t.schema),mb(H.getNodeFilters(),H.getAttributeFilters(),Bn),r=ge.serialize(Bn),Dt===an?R.setHTML(an,r):R.setOuterHTML(Dt,r)}return h9(t,Y),Rh(t,R.get("mce_marker")),Khe(t.getBody()),d9(R,A.getStart()),r},Z2=t=>t instanceof nu,mG=t=>{wm(t)&&ya(t.getBody()).each(r=>{const i=r.getNode(),u=vf(i)?ya(i).getOr(r):r;t.selection.setRng(u.toRange())})},SA=(t,r,i)=>{t.dom.setHTML(t.getBody(),r),i!==!0&&mG(t)},vG=(t,r,i,u)=>{if(i.length===0||/^\s+$/.test(i)){const h='<br data-mce-bogus="1">';r.nodeName==="TABLE"?i="<tr><td>"+h+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(i="<li>"+h+"</li>");const y=hi(t);return t.schema.isValidChild(r.nodeName.toLowerCase(),y.toLowerCase())?(i=h,i=t.dom.createHTML(y,Ll(t),i)):i||(i=h),SA(t,i,u.no_selection),{content:i,html:i}}else{u.format!=="raw"&&(i=rv({validate:!1},t.schema).serialize(t.parser.parse(i,{isRootContent:!0,insert:!0})));const h=Kr(mt.fromDom(r))?i:nn.trim(i);return SA(t,h,u.no_selection),{content:h,html:h}}},p9=(t,r,i,u)=>{mb(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),i);const h=rv({validate:!1},t.schema).serialize(i),y=Kr(mt.fromDom(r))?h:nn.trim(h);return SA(t,y,u.no_selection),{content:i,html:y}},VD=(t,r,i)=>q.from(t.getBody()).map(u=>Z2(r)?p9(t,u,r,i):vG(t,u,r,i)).getOr({content:r,html:Z2(i.content)?"":i.content}),bG=(t,r)=>d1(t,r).isSome(),UD=t=>G(t)?t:Ce,yG=(t,r,i)=>{let u=t.dom;const h=UD(i);for(;u.parentNode;){u=u.parentNode;const y=mt.fromDom(u),A=r(y);if(A.isSome())return A;if(h(y))break}return q.none()},bb=(t,r,i)=>{const u=r(t),h=UD(i);return u.orThunk(()=>h(t)?q.none():yG(t,r,h))},xA=w2,g9=(t,r,i)=>{const u=t.formatter.get(i);if(u)for(let h=0;h<u.length;h++){const y=u[h];if(gc(y)&&y.inherit===!1&&t.dom.is(r,y.selector))return!0}return!1},EA=(t,r,i,u,h)=>{const y=t.dom.getRoot();if(r===y)return!1;const A=t.dom.getParent(r,R=>g9(t,R,i)?!0:R.parentNode===y||!!Kp(t,R,i,u,!0));return!!Kp(t,A,i,u,h)},kA=(t,r,i)=>Ua(i)&&xA(r,i.inline)||Af(i)&&xA(r,i.block)?!0:gc(i)?no(r)&&t.is(r,i.selector):!1,m9=(t,r,i,u,h,y)=>{const A=i[u],R=u==="attributes";if(G(i.onmatch))return i.onmatch(r,i,u);if(A){if(ui(A)){for(let H=0;H<A.length;H++)if(R?t.getAttrib(r,A[H]):Md(t,r,A[H]))return!0}else for(const H in A)if(To(A,H)){const Y=R?t.getAttrib(r,H):Md(t,r,H),ge=Up(A[H],y),Te=se(Y)||Or(Y);if(Te&&se(ge))continue;if(h&&Te&&!i.exact||(!h||i.exact)&&!xA(Y,Rr(ge,H)))return!1}}return!0},Kp=(t,r,i,u,h)=>{const y=t.formatter.get(i),A=t.dom;if(y&&no(r))for(let R=0;R<y.length;R++){const H=y[R];if(kA(t.dom,r,H)&&m9(A,r,H,"attributes",h,u)&&m9(A,r,H,"styles",h,u)){const Y=H.classes;if(Y){for(let ge=0;ge<Y.length;ge++)if(!t.dom.hasClass(r,Up(Y[ge],u)))return}return H}}},WD=(t,r,i,u,h)=>{if(u)return EA(t,u,r,i,h);if(u=t.selection.getNode(),EA(t,u,r,i,h))return!0;const y=t.selection.getStart();return!!(y!==u&&EA(t,y,r,i,h))},wG=(t,r,i)=>{const u=[],h={},y=t.selection.getStart();return t.dom.getParent(y,A=>{for(let R=0;R<r.length;R++){const H=r[R];!h[H]&&Kp(t,A,H,i)&&(h[H]=!0,u.push(H))}},t.dom.getRoot()),u},v9=(t,r)=>{const i=h=>gs(h,mt.fromDom(t.getBody())),u=(h,y)=>Kp(t,h.dom,y)?q.some(y):q.none();return q.from(t.selection.getStart(!0)).bind(h=>bb(mt.fromDom(h),y=>mr(r,A=>u(y,A)),i)).getOrNull()},CG=(t,r)=>{const i=t.formatter.get(r),u=t.dom;if(i){const h=t.selection.getStart(),y=qp(u,h);for(let A=i.length-1;A>=0;A--){const R=i[A];if(!gc(R))return!0;for(let H=y.length-1;H>=0;H--)if(u.is(y[H],R.selector))return!0}}return!1},qD=(t,r,i)=>Xe(i,(u,h)=>{const y=G1(t,h);return t.formatter.matchNode(r,h,{},y)?u.concat([h]):u},[]),jd=$e,SG=(t,r)=>t.importNode(r,!0),xG=t=>{const r=[];let i=t;for(;i;){if(yn(i)&&i.data!==jd||i.childNodes.length>1)return[];no(i)&&r.push(i),i=i.firstChild}return r},Rx=t=>xG(t).length>0,ZD=t=>{if(t){const r=new jr(t,t);for(let i=r.current();i;i=r.next())if(yn(i))return i}return null},AA=t=>{const r=mt.fromTag("span");return Jr(r,{id:c2,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Li(r,mt.fromText(jd)),r},EG=t=>{const r=ZD(t);return r&&r.data.charAt(0)===jd&&r.deleteData(0,1),r},TA=(t,r,i=!0)=>{const u=t.dom,h=t.selection;if(Rx(r))db(t,!1,mt.fromDom(r),i);else{const y=h.getRng(),A=u.getParent(r,u.isBlock),R=y.startContainer,H=y.startOffset,Y=y.endContainer,ge=y.endOffset,Te=EG(r);u.remove(r,!0),R===Te&&H>0&&y.setStart(Te,H-1),Y===Te&&ge>0&&y.setEnd(Te,ge-1),A&&u.isEmpty(A)&&X(mt.fromDom(A)),h.setRng(y)}},GD=(t,r,i=!0)=>{const u=t.dom,h=t.selection;if(r)TA(t,r,i);else if(r=V1(t.getBody(),h.getStart()),!r)for(;r=u.get(c2);)TA(t,r,!1)},G2=(t,r,i)=>{var u,h;const y=t.dom,A=y.getParent(i,re(X0,t));A&&y.isEmpty(A)?(u=i.parentNode)===null||u===void 0||u.replaceChild(r,i):(ma(mt.fromDom(i)),y.isEmpty(i)?(h=i.parentNode)===null||h===void 0||h.replaceChild(r,i):y.insertAfter(r,i))},KD=(t,r)=>(t.appendChild(r),r),YD=(t,r)=>{var i;const u=ot(t,(y,A)=>KD(y,A.cloneNode(!1)),r),h=(i=u.ownerDocument)!==null&&i!==void 0?i:document;return KD(u,h.createTextNode(jd))},b9=(t,r,i,u,h,y)=>{const A=t.formatter,R=t.dom,H=Ee(Ct(A.get()),Te=>Te!==u&&!go(Te,"removeformat")),Y=qD(t,i,H);if(Ee(Y,Te=>!Ck(t,Te,u)).length>0){const Te=i.cloneNode(!1);return R.add(r,Te),A.remove(u,h,Te,y),R.remove(Te),q.some(Te)}else return q.none()},OA=(t,r,i)=>{let u;const h=t.selection,y=t.formatter.get(r);if(!y)return;const A=h.getRng();let R=A.startOffset;const Y=A.startContainer.nodeValue;u=V1(t.getBody(),h.getStart());const ge=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Y&&R>0&&R<Y.length&&ge.test(Y.charAt(R))&&ge.test(Y.charAt(R-1))){const Te=h.getBookmark();A.collapse(!0);let Ae=Y1(t,A,y);Ae=F2(Ae),t.formatter.apply(r,i,Ae),h.moveToBookmark(Te)}else{let Te=u?ZD(u):null;(!u||(Te==null?void 0:Te.data)!==jd)&&(u=SG(t.getDoc(),AA(!0).dom),Te=u.firstChild,A.insertNode(u),R=1),t.formatter.apply(r,i,u),h.setCursorLocation(Te,R)}},y9=(t,r,i,u)=>{const h=t.dom,y=t.selection;let A=!1;const R=t.formatter.get(r);if(!R)return;const H=y.getRng(),Y=H.startContainer,ge=H.startOffset;let Te=Y;yn(Y)&&(ge!==Y.data.length&&(A=!0),Te=Te.parentNode);const Ae=[];let nt;for(;Te;){if(Kp(t,Te,r,i,u)){nt=Te;break}Te.nextSibling&&(A=!0),Ae.push(Te),Te=Te.parentNode}if(!!nt)if(A){const st=y.getBookmark();H.collapse(!0);let Ge=Y1(t,H,R,!0);Ge=F2(Ge),t.formatter.remove(r,i,Ge,u),y.moveToBookmark(st)}else{const st=V1(t.getBody(),nt),Ge=AA(!1).dom;G2(t,Ge,st!=null?st:nt);const ct=b9(t,Ge,nt,r,i,u),ht=YD(Ae.concat(ct.toArray()),Ge);st&&TA(t,st,!1),y.setCursorLocation(ht,1),h.isEmpty(nt)&&h.remove(nt)}},kG=(t,r)=>{const i=t.selection,u=t.getBody();GD(t,null,!1),(r===8||r===46)&&i.isCollapsed()&&i.getStart().innerHTML===jd&&GD(t,V1(u,i.getStart())),(r===37||r===39)&&GD(t,V1(u,i.getStart()))},w9=t=>{t.on("mouseup keydown",r=>{kG(t,r.keyCode)})},AG=(t,r)=>{const i=AA(!1),u=YD(r,i.dom);return $r(mt.fromDom(t),i),ts(mt.fromDom(t)),Yt(u,0)},TG=(t,r)=>{const i=t.schema.getTextInlineElements();return To(i,ko(r))&&!Wu(r.dom)&&!Mu(r.dom)},_A=t=>Wu(t.dom)&&Rx(t.dom),K2={},$A=ic(["pre"]),OG=(t,r)=>{K2[t]||(K2[t]=[]),K2[t].push(r)},_G=(t,r)=>{To(K2,t)&&Oe(K2[t],i=>{i(r)})};OG("pre",t=>{const r=t.selection.getRng(),i=h=>y=>{const A=y.previousSibling;return $A(A)&&He(h,A)},u=(h,y)=>{const A=mt.fromDom(y),R=qc(A).dom;ts(A),er(mt.fromDom(h),[mt.fromTag("br",R),mt.fromTag("br",R),...ga(A)])};if(!r.collapsed){const h=t.selection.getSelectedBlocks(),y=Ee(Ee(h,$A),i(h));Oe(y,A=>{u(A.previousSibling,A)})}});const XD=["fontWeight","fontStyle","color","fontSize","fontFamily"],JD=t=>I(t.styles)&&Re(Ct(t.styles),r=>He(XD,r)),C9=t=>qt(t,r=>Ua(r)&&r.inline==="span"&&JD(r)),S9=(t,r)=>{const i=t.get(r);return K(i)?C9(i):q.none()},x9=(t,r)=>Cu(r,Yt.fromRangeStart(t)).isNone(),E9=(t,r)=>hc(r,Yt.fromRangeEnd(t)).exists(i=>!$i(i.getNode())||hc(r,i).isSome())===!1,Mx=t=>r=>_g(r)&&t.getContentEditableParent(r)!=="false",Em=t=>{const r=t.getSelectedBlocks(),i=t.getRng();if(t.isCollapsed())return[];if(r.length===1)return x9(i,r[0])&&E9(i,r[0])?r:[];{const u=Pn(r).filter(A=>x9(i,A)).toArray(),h=$n(r).filter(A=>E9(i,A)).toArray(),y=r.slice(1,-1);return u.concat(y).concat(h)}},$G=t=>Ee(Em(t),Mx(t.dom)),DA=t=>Ee(t.getSelectedBlocks(),Mx(t.dom)),ta=nn.each,Ix=t=>no(t)&&!Ql(t)&&!Wu(t)&&!Mu(t),BA=(t,r)=>{for(let i=t;i;i=i[r]){if(yn(i)&&Tr(i.data))return t;if(no(i)&&!Ql(i))return i}return t},km=(t,r,i)=>{const u=gA(t),h=no(r)&&zp(r),y=no(i)&&zp(i);if(h&&y){const A=BA(r,"previousSibling"),R=BA(i,"nextSibling");if(u.compare(A,R)){for(let H=A.nextSibling;H&&H!==R;){const Y=H;H=H.nextSibling,A.appendChild(Y)}return t.dom.remove(R),nn.each(nn.grep(R.childNodes),H=>{A.appendChild(H)}),A}}return i},k9=(t,r,i,u)=>{var h;if(u&&r.merge_siblings!==!1){const y=(h=km(t,QS(u),u))!==null&&h!==void 0?h:u;km(t,y,QS(y,!0))}},A9=(t,r,i)=>{if(r.clear_child_styles){const u=r.links?"*:not(a)":"*";ta(t.select(u,i),h=>{Ix(h)&&zp(h)&&ta(r.styles,(y,A)=>{t.setStyle(h,A,"")})})}},yb=(t,r,i)=>{ta(t.childNodes,u=>{Ix(u)&&(r(u)&&i(u),u.hasChildNodes()&&yb(u,r,i))})},DG=(t,r)=>{r.nodeName==="SPAN"&&t.getAttribs(r).length===0&&t.remove(r,!0)},T9=(t,r)=>i=>!!(i&&Md(t,i,r)),wb=(t,r,i)=>u=>{t.setStyle(u,r,i),u.getAttribute("style")===""&&u.removeAttribute("style"),DG(t,u)},Y2=Pd.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Cb=/^(src|href|style)$/,QD=nn.each,Am=w2,Mh=t=>/^(TR|TH|TD)$/.test(t.nodeName),Lx=(t,r,i)=>t.isChildOf(r,i)&&r!==i&&!t.isBlock(i),NA=(t,r,i)=>{let u=r[i?"startContainer":"endContainer"],h=r[i?"startOffset":"endOffset"];if(no(u)){const y=u.childNodes.length-1;!i&&h&&h--,u=u.childNodes[h>y?y:h]}return yn(u)&&i&&h>=u.data.length&&(u=new jr(u,t.getBody()).next()||u),yn(u)&&!i&&h===0&&(u=new jr(u,t.getBody()).prev()||u),u},O9=(t,r)=>{const i=r?"firstChild":"lastChild",u=t[i];return Mh(t)&&u?t.nodeName==="TR"&&u[i]||u:t},e6=(t,r,i,u)=>{var h;const y=t.create(i,u);return(h=r.parentNode)===null||h===void 0||h.insertBefore(y,r),y.appendChild(r),y},Hx=(t,r,i,u,h)=>{const y=mt.fromDom(r),A=mt.fromDom(t.create(u,h)),R=i?wd(y):yp(y);return er(A,R),i?($r(y,A),Ha(A,y)):(ni(y,A),Li(A,y)),A.dom},BG=(t,r)=>r.links&&t.nodeName==="A",zd=(t,r,i)=>{const u=r.parentNode;let h;const y=t.dom,A=hi(t);Af(i)&&u===y.getRoot()&&(!i.list_block||!Am(r,i.list_block))&&Oe(_o(r.childNodes),R=>{Vp(t,A,R.nodeName.toLowerCase())?h?h.appendChild(R):(h=e6(y,R,A),y.setAttribs(h,Ll(t))):h=null}),!(nx(i)&&!Am(i.inline,r))&&y.remove(r,!0)},jx=(t,r,i)=>ce(t)?{name:r,value:null}:{name:t,value:Up(r,i)},t6=(t,r)=>{t.getAttrib(r,"style")===""&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style"))},PA=(t,r,i,u,h)=>{let y=!1;QD(i.styles,(A,R)=>{const{name:H,value:Y}=jx(R,A,u),ge=Rr(Y,H);(i.remove_similar||j(Y)||!no(h)||Am(Md(t,h,H),ge))&&t.setStyle(r,H,""),y=!0}),y&&t6(t,r)},n6=(t,r,i)=>{r==="removeformat"?Oe(DA(t.selection),u=>{Oe(XD,h=>t.dom.setStyle(u,h,"")),t6(t.dom,u)}):S9(t.formatter,r).each(u=>{Oe(DA(t.selection),h=>PA(t.dom,h,u,i,null))})},lv=(t,r,i,u,h)=>{const y=t.dom,A=gA(t);if(!r.ceFalseOverride&&u&&y.getContentEditableParent(u)==="false"||u&&!kA(y,u,r)&&!BG(u,r))return Y2.keep();const R=u,H=r.preserve_attributes;if(Ua(r)&&r.remove==="all"&&K(H)){const Y=Ee(y.getAttribs(R),ge=>He(H,ge.name.toLowerCase()));if(y.removeAllAttribs(R),Oe(Y,ge=>y.setAttrib(R,ge.name,ge.value)),Y.length>0)return Y2.rename("span")}if(r.remove!=="all"){PA(y,R,r,i,h),QD(r.attributes,(ge,Te)=>{const{name:Ae,value:nt}=jx(Te,ge,i);if(r.remove_similar||j(nt)||!no(h)||Am(y.getAttrib(h,Ae),nt)){if(Ae==="class"){const st=y.getAttrib(R,Ae);if(st){let Ge="";if(Oe(st.split(/\s+/),ct=>{/mce\-\w+/.test(ct)&&(Ge+=(Ge?" ":"")+ct)}),Ge){y.setAttrib(R,Ae,Ge);return}}}if(Cb.test(Ae)&&R.removeAttribute("data-mce-"+Ae),Ae==="style"&&ic(["li"])(R)&&y.getStyle(R,"list-style-type")==="none"){R.removeAttribute(Ae),y.setStyle(R,"list-style-type","none");return}Ae==="class"&&R.removeAttribute("className"),R.removeAttribute(Ae)}}),QD(r.classes,ge=>{ge=Up(ge,i),(!no(h)||y.hasClass(h,ge))&&y.removeClass(R,ge)});const Y=y.getAttribs(R);for(let ge=0;ge<Y.length;ge++){const Te=Y[ge].nodeName;if(!A.isAttributeInternal(Te))return Y2.keep()}}return r.remove!=="none"?(zd(t,R,r),Y2.removed()):Y2.keep()},Sb=(t,r,i,u,h)=>lv(t,r,i,u,h).fold(Ce,y=>(t.dom.rename(u,y),!0),me),NG=(t,r,i,u,h)=>{let y;return r.parentNode&&Oe(qp(t.dom,r.parentNode).reverse(),A=>{if(!y&&no(A)&&A.id!=="_start"&&A.id!=="_end"){const R=Kp(t,A,i,u,h);R&&R.split!==!1&&(y=A)}}),y},_9=(t,r,i,u)=>lv(t,r,i,u,u).fold(Fe(u),h=>(t.dom.createFragment().appendChild(u),t.dom.rename(u,h)),Fe(null)),PG=(t,r,i,u,h,y,A,R)=>{var H,Y;let ge,Te;const Ae=t.dom;if(i){const nt=i.parentNode;for(let st=u.parentNode;st&&st!==nt;st=st.parentNode){let Ge=Ae.clone(st,!1);for(let ct=0;ct<r.length&&(Ge=_9(t,r[ct],R,Ge),Ge!==null);ct++);Ge&&(ge&&Ge.appendChild(ge),Te||(Te=Ge),ge=Ge)}y&&(!A.mixed||!Ae.isBlock(i))&&(u=(H=Ae.split(i,u))!==null&&H!==void 0?H:u),ge&&Te&&((Y=h.parentNode)===null||Y===void 0||Y.insertBefore(ge,h),Te.appendChild(h),Ua(A)&&k9(t,A,R,ge))}return u},$9=(t,r,i,u,h)=>{const y=t.formatter.get(r),A=y[0],R=t.dom,H=t.selection,Y=Ge=>{const ct=NG(t,Ge,r,i,h);return PG(t,y,ct,Ge,Ge,!0,A,i)},ge=Ge=>Ql(Ge)&&no(Ge)&&(Ge.id==="_start"||Ge.id==="_end"),Te=Ge=>Re(y,ct=>Sb(t,ct,i,Ge,Ge)),Ae=Ge=>{const ct=_o(Ge.childNodes),Et=Te(Ge)||Re(y,an=>kA(R,Ge,an)),Dt=Ge.parentNode;if(!Et&&Q(Dt)&&K1(A)&&Te(Dt),A.deep&&ct.length)for(let an=0;an<ct.length;an++)Ae(ct[an]);Oe(["underline","line-through","overline"],an=>{no(Ge)&&t.dom.getStyle(Ge,"text-decoration")===an&&Ge.parentNode&&Wp(R,Ge.parentNode)===an&&Sb(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:an}},void 0,Ge)})},nt=Ge=>{const ct=R.get(Ge?"_start":"_end");if(ct){let ht=ct[Ge?"firstChild":"lastChild"];return ge(ht)&&(ht=ht[Ge?"firstChild":"lastChild"]),yn(ht)&&ht.data.length===0&&(ht=Ge?ct.previousSibling||ct.nextSibling:ct.nextSibling||ct.previousSibling),R.remove(ct,!0),ht}else return null},st=Ge=>{let ct,ht,Et=Y1(t,Ge,y,Ge.collapsed);if(A.split){if(Et=F2(Et),ct=NA(t,Et,!0),ht=NA(t,Et),ct!==ht){if(ct=O9(ct,!0),ht=O9(ht,!1),Lx(R,ct,ht)){const Jt=q.from(ct.firstChild).getOr(ct);Y(Hx(R,Jt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),nt(!0);return}if(Lx(R,ht,ct)){const Jt=q.from(ht.lastChild).getOr(ht);Y(Hx(R,Jt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),nt(!1);return}ct=e6(R,ct,"span",{id:"_start","data-mce-type":"bookmark"}),ht=e6(R,ht,"span",{id:"_end","data-mce-type":"bookmark"});const Dt=R.createRng();Dt.setStartAfter(ct),Dt.setEndBefore(ht),eb(R,Dt,Jt=>{Oe(Jt,an=>{!Ql(an)&&!Ql(an.parentNode)&&Y(an)})}),Y(ct),Y(ht),ct=nt(!0),ht=nt()}else ct=ht=Y(ct);Et.startContainer=ct.parentNode?ct.parentNode:ct,Et.startOffset=R.nodeIndex(ct),Et.endContainer=ht.parentNode?ht.parentNode:ht,Et.endOffset=R.nodeIndex(ht)+1}eb(R,Et,Dt=>{Oe(Dt,Ae)})};if(u){if(q1(u)){const Ge=R.createRng();Ge.setStartBefore(u),Ge.setEndAfter(u),st(Ge)}else st(u);um(t,r,u,i);return}!H.isCollapsed()||!Ua(A)||jp(t).length?(b2(t,()=>JS(t,st),Ge=>Ua(A)&&WD(t,r,i,Ge)),t.nodeChanged()):y9(t,r,i,h),n6(t,r,i),um(t,r,u,i)},D9=nn.each,FG=(t,r,i,u)=>{const h=y=>{if(no(y)&&no(y.parentNode)&&zp(y)){const A=Wp(t,y.parentNode);t.getStyle(y,"color")&&A?t.setStyle(y,"text-decoration",A):t.getStyle(y,"text-decoration")===A&&t.setStyle(y,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(nn.walk(u,h,"childNodes"),h(u))},zx=(t,r,i,u)=>{if(r.styles&&r.styles.backgroundColor){const h=T9(t,"fontSize");yb(u,y=>h(y)&&zp(y),wb(t,"backgroundColor",Up(r.styles.backgroundColor,i)))}},RG=(t,r,i,u)=>{if(Ua(r)&&(r.inline==="sub"||r.inline==="sup")){const h=T9(t,"fontSize");yb(u,A=>h(A)&&zp(A),wb(t,"fontSize",""));const y=Ee(t.select(r.inline==="sup"?"sub":"sup",u),zp);t.remove(y,!0)}},B9=(t,r,i,u)=>{D9(r,h=>{Ua(h)&&D9(t.dom.select(h.inline,u),y=>{Ix(y)&&Sb(t,h,i,y,h.exact?y:null)}),A9(t.dom,h,u)})},o6=(t,r,i,u,h)=>{const y=h.parentNode;Kp(t,y,i,u)&&Sb(t,r,u,h)||r.merge_with_parents&&y&&t.dom.getParent(y,A=>Kp(t,A,i,u)?(Sb(t,r,u,h),!0):!1)},FA=nn.each,N9=(t,r,i,u)=>{if($0(t)&&Ua(r)&&i.parentNode){const h=g0(t.schema),y=bG(mt.fromDom(i),A=>Wu(A.dom));return Es(h,u)&&va(mt.fromDom(i.parentNode),!1)&&!y}else return!1},r6=(t,r,i,u)=>{if(FA(i.styles,(h,y)=>{t.setStyle(r,y,Up(h,u))}),i.styles){const h=t.getAttrib(r,"style");h&&t.setAttrib(r,"data-mce-style",h)}},P9=(t,r,i,u)=>{const h=t.formatter.get(r),y=h[0],A=!u&&t.selection.isCollapsed(),R=t.dom,H=t.selection,Y=(st,Ge=y)=>{G(Ge.onformat)&&Ge.onformat(st,Ge,i,u),r6(R,st,Ge,i),FA(Ge.attributes,(ct,ht)=>{R.setAttrib(st,ht,Up(ct,i))}),FA(Ge.classes,ct=>{const ht=Up(ct,i);R.hasClass(st,ht)||R.addClass(st,ht)})},ge=(st,Ge)=>{let ct=!1;return FA(st,ht=>gc(ht)?R.getContentEditable(Ge)==="false"&&!ht.ceFalseOverride||Q(ht.collapsed)&&ht.collapsed!==A?!0:R.is(Ge,ht.selector)&&!Wu(Ge)?(Y(Ge,ht),ct=!0,!1):!0:!1),ct},Te=st=>{if(P(st)){const Ge=R.create(st);return Y(Ge),Ge}else return null},Ae=(st,Ge,ct)=>{const ht=[];let Et=!0;const Dt=y.inline||y.block,Jt=Te(Dt),an=Wt=>C2(y)&&Kp(t,Wt,r,i),Bn=(Wt,Kt,Nn)=>{const vo=tx(y)&&X0(t,Wt)&&Vp(t,Kt,Dt);return Nn&&vo},un=(Wt,Kt,Nn,vo)=>{const Ao=Wt.nodeName.toLowerCase(),ir=Vp(t,Dt,Ao)&&Vp(t,Kt,Dt),Zr=!ct&&yn(Wt)&&yt(Wt.data),bs=Wu(Wt),Ys=!Ua(y)||!st.isBlock(Wt);return(Nn||vo)&&ir&&!Zr&&!bs&&Ys};eb(st,Ge,Wt=>{let Kt;const Nn=vo=>{let Ao=!1,ir=Et,Zr=!1;const bs=vo.nodeName.toLowerCase(),Ys=vo.parentNode,xl=Ys.nodeName.toLowerCase(),On=st.getContentEditable(vo);Q(On)&&(ir=Et,Et=On==="true",Ao=!0,Zr=wk(t,vo));const dr=Et&&!Ao;if($i(vo)&&!N9(t,y,vo,xl)){Kt=null,Af(y)&&st.remove(vo);return}if(an(vo)){Kt=null;return}if(Bn(bs,xl,dr)){const Nr=st.rename(vo,Dt);Y(Nr),ht.push(Nr),Kt=null;return}if(gc(y)){let Nr=ge(h,vo);if(!Nr&&Q(Ys)&&K1(y)&&(Nr=ge(h,Ys)),!Ua(y)||Nr){Kt=null;return}}Q(Jt)&&un(vo,xl,dr,Zr)?(Kt||(Kt=st.clone(Jt,!1),Ys.insertBefore(Kt,vo),ht.push(Kt)),Zr&&Ao&&(Et=ir),Kt.appendChild(vo)):(Kt=null,Oe(_o(vo.childNodes),Nn),Ao&&(Et=ir),Kt=null)};Oe(Wt,Nn)}),y.links===!0&&Oe(ht,Wt=>{const Kt=Nn=>{Nn.nodeName==="A"&&Y(Nn,y),Oe(_o(Nn.childNodes),Kt)};Kt(Wt)}),Oe(ht,Wt=>{const Kt=Ao=>{let ir=0;return Oe(Ao.childNodes,Zr=>{!jF(Zr)&&!Ql(Zr)&&ir++}),ir},Nn=Ao=>qt(Ao.childNodes,Z1).filter(Zr=>st.getContentEditable(Zr)!=="false"&&kA(st,Zr,y)).map(Zr=>{const bs=st.clone(Zr,!1);return Y(bs),st.replace(bs,Ao,!0),st.remove(Zr,!0),bs}).getOr(Ao),vo=Kt(Wt);if((ht.length>1||!st.isBlock(Wt))&&vo===0){st.remove(Wt,!0);return}(Ua(y)||Af(y)&&y.wrapper)&&(!y.exact&&vo===1&&(Wt=Nn(Wt)),B9(t,h,i,Wt),o6(t,y,r,i,Wt),zx(st,y,i,Wt),FG(st,y,i,Wt),RG(st,y,i,Wt),k9(t,y,i,Wt))})},nt=q1(u)?u:H.getNode();if(R.getContentEditable(nt)==="false"&&!wk(t,nt)){u=nt,ge(h,u),A2(t,r,u,i);return}if(y){if(u)if(q1(u)){if(!ge(h,u)){const st=R.createRng();st.setStartBefore(u),st.setEndAfter(u),Ae(R,Y1(t,st,h),!0)}}else Ae(R,u,!0);else!A||!Ua(y)||jp(t).length?(H.setRng(bA(H.getRng())),b2(t,()=>{JS(t,(st,Ge)=>{const ct=Ge?st:Y1(t,st,h);Ae(R,ct,!1)})},me),t.nodeChanged()):OA(t,r,i),S9(t.formatter,r).each(st=>{Oe($G(t.selection),Ge=>r6(R,Ge,st,i))});_G(r,t)}A2(t,r,u,i)},F9=t=>To(t,"vars"),MG=(t,r)=>{t.set({}),r.on("NodeChange",i=>{L9(r,i.element,t.get())}),r.on("FormatApply FormatRemove",i=>{const u=q.from(i.node).map(h=>q1(h)?h:h.startContainer).bind(h=>no(h)?q.some(h):q.from(h.parentElement)).getOrThunk(()=>R9(r));L9(r,u,t.get())})},R9=t=>t.selection.getStart(),M9=(t,r,i,u,h)=>zt(r,R=>{const H=t.formatter.matchNode(R,i,h!=null?h:{},u);return!xe(H)},R=>g9(t,R,i)?!0:u?!1:Q(t.formatter.matchNode(R,i,h,!0))),I9=(t,r)=>{const i=r!=null?r:R9(t);return Ee(qp(t.dom,i),u=>no(u)&&!Mu(u))},L9=(t,r,i)=>{const u=I9(t,r);xn(i,(h,y)=>{const A=R=>{const H=M9(t,u,y,R.similar,F9(R)?R.vars:void 0),Y=H.isSome();if(R.state.get()!==Y){R.state.set(Y);const ge=H.getOr(r);F9(R)?R.callback(Y,{node:ge,format:y,parents:u}):Oe(R.callbacks,Te=>Te(Y,{node:ge,format:y,parents:u}))}};Oe([h.withSimilar,h.withoutSimilar],A),Oe(h.withVars,A)})},IG=(t,r,i,u,h,y)=>{const A=r.get();Oe(i.split(","),R=>{const H=Jo(A,R).getOrThunk(()=>{const ge={withSimilar:{state:aa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:aa(!1),similar:!1,callbacks:[]},withVars:[]};return A[R]=ge,ge}),Y=()=>{const ge=I9(t);return M9(t,ge,R,h,y).isSome()};if(xe(y)){const ge=h?H.withSimilar:H.withoutSimilar;ge.callbacks.push(u),ge.callbacks.length===1&&ge.state.set(Y())}else H.withVars.push({state:aa(Y()),similar:h,vars:y,callback:u})}),r.set(A)},LG=(t,r,i)=>{const u=t.get();Oe(r.split(","),h=>Jo(u,h).each(y=>{u[h]={withSimilar:{...y.withSimilar,callbacks:Ee(y.withSimilar.callbacks,A=>A!==i)},withoutSimilar:{...y.withoutSimilar,callbacks:Ee(y.withoutSimilar.callbacks,A=>A!==i)},withVars:Ee(y.withVars,A=>A.callback!==i)}})),t.set(u)},HG=(t,r,i,u,h,y)=>(IG(t,r,i,u,h,y),{unbind:()=>LG(r,i,u)}),jG=(t,r,i,u)=>{const h=t.formatter.get(r);h&&(WD(t,r,i,u)&&(!("toggle"in h[0])||h[0].toggle)?$9(t,r,i,u):P9(t,r,i,u))};function xb(t){return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xb(t)}function s6(t,r){return s6=Object.setPrototypeOf||function(u,h){return u.__proto__=h,u},s6(t,r)}function H9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RA(t,r,i){return H9()?RA=Reflect.construct:RA=function(h,y,A){var R=[null];R.push.apply(R,y);var H=Function.bind.apply(h,R),Y=new H;return A&&s6(Y,A.prototype),Y},RA.apply(null,arguments)}function ku(t){return zG(t)||VG(t)||UG(t)||j9()}function zG(t){if(Array.isArray(t))return i6(t)}function VG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UG(t,r){if(!!t){if(typeof t=="string")return i6(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return i6(t,r)}}function i6(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,u=new Array(r);i<r;i++)u[i]=t[i];return u}function j9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var WG=Object.hasOwnProperty,z9=Object.setPrototypeOf,qG=Object.isFrozen,ZG=Object.getPrototypeOf,GG=Object.getOwnPropertyDescriptor,Ku=Object.freeze,Yp=Object.seal,KG=Object.create,V9=typeof Reflect<"u"&&Reflect,MA=V9.apply,Vx=V9.construct;MA||(MA=function(r,i,u){return r.apply(i,u)}),Ku||(Ku=function(r){return r}),Yp||(Yp=function(r){return r}),Vx||(Vx=function(r,i){return RA(r,ku(i))});var U9=Ih(Array.prototype.forEach),Yhe=Ih(Array.prototype.pop),cv=Ih(Array.prototype.push),Ux=Ih(String.prototype.toLowerCase),Wx=Ih(String.prototype.match),Vd=Ih(String.prototype.replace),W9=Ih(String.prototype.indexOf),Xhe=Ih(String.prototype.trim),Yu=Ih(RegExp.prototype.test),q9=YG(TypeError);function Ih(t){return function(r){for(var i=arguments.length,u=new Array(i>1?i-1:0),h=1;h<i;h++)u[h-1]=arguments[h];return MA(t,r,u)}}function YG(t){return function(){for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return Vx(t,i)}}function Ks(t,r){z9&&z9(t,null);for(var i=r.length;i--;){var u=r[i];if(typeof u=="string"){var h=Ux(u);h!==u&&(qG(r)||(r[i]=h),u=h)}t[u]=!0}return t}function Eb(t){var r=KG(null),i;for(i in t)MA(WG,t,[i])&&(r[i]=t[i]);return r}function qx(t,r){for(;t!==null;){var i=GG(t,r);if(i){if(i.get)return Ih(i.get);if(typeof i.value=="function")return Ih(i.value)}t=ZG(t)}function u(h){return console.warn("fallback value for",h),null}return u}var Z9=Ku(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zx=Ku(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),a6=Ku(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),IA=Ku(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),LA=Ku(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Wa=Ku(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XG=Ku(["#text"]),JG=Ku(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G9=Ku(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QG=Ku(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xu=Ku(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),HA=Yp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Gx=Yp(/<%[\w\W]*|[\w\W]*%>/gm),Kx=Yp(/^data-[\-\w.\u00B7-\uFFFF]/),eK=Yp(/^aria-[\-\w]+$/),tK=Yp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Yx=Yp(/^(?:\w+script|data):/i),X2=Yp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J2=Yp(/^html$/i),nK=function(){return typeof window>"u"?null:window},l6=function(r,i){if(xb(r)!=="object"||typeof r.createPolicy!="function")return null;var u=null,h="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(h)&&(u=i.currentScript.getAttribute(h));var y="dompurify"+(u?"#"+u:"");try{return r.createPolicy(y,{createHTML:function(R){return R}})}catch{return console.warn("TrustedTypes policy "+y+" could not be created."),null}};function c6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nK(),r=function(Ut){return c6(Ut)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var i=t.document,u=t.document,h=t.DocumentFragment,y=t.HTMLTemplateElement,A=t.Node,R=t.Element,H=t.NodeFilter,Y=t.NamedNodeMap,ge=Y===void 0?t.NamedNodeMap||t.MozNamedAttrMap:Y,Te=t.HTMLFormElement,Ae=t.DOMParser,nt=t.trustedTypes,st=R.prototype,Ge=qx(st,"cloneNode"),ct=qx(st,"nextSibling"),ht=qx(st,"childNodes"),Et=qx(st,"parentNode");if(typeof y=="function"){var Dt=u.createElement("template");Dt.content&&Dt.content.ownerDocument&&(u=Dt.content.ownerDocument)}var Jt=l6(nt,i),an=Jt?Jt.createHTML(""):"",Bn=u,un=Bn.implementation,Wt=Bn.createNodeIterator,Kt=Bn.createDocumentFragment,Nn=Bn.getElementsByTagName,vo=i.importNode,Ao={};try{Ao=Eb(u).documentMode?u.documentMode:{}}catch{}var ir={};r.isSupported=typeof Et=="function"&&un&&typeof un.createHTMLDocument<"u"&&Ao!==9;var Zr=HA,bs=Gx,Ys=Kx,xl=eK,On=Yx,dr=X2,Nr=tK,Yo=null,ca=Ks({},[].concat(ku(Z9),ku(Zx),ku(a6),ku(LA),ku(XG))),ao=null,Xo=Ks({},[].concat(ku(JG),ku(G9),ku(QG),ku(Xu))),jo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Vn=null,Pr=null,gr=!0,Go=!0,tr=!1,Fs=!1,js=!1,Za=!1,Ni=!1,Ai=!1,Na=!1,Wl=!1,Ga=!0,Zh=!0,md=!1,Gh={},Kh=null,Yh=Ks({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xh=null,zi=Ks({},["audio","video","img","source","image","track"]),vd=null,Jh=Ks({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kb="http://www.w3.org/1998/Math/MathML",Xd="http://www.w3.org/2000/svg",nf="http://www.w3.org/1999/xhtml",oc=nf,Nf=!1,Pf,kv=["application/xhtml+xml","text/html"],BE="text/html",Rm,ng=null,NE=u.createElement("form"),wO=function(Ut){return Ut instanceof RegExp||Ut instanceof Function},PE=function(Ut){ng&&ng===Ut||((!Ut||xb(Ut)!=="object")&&(Ut={}),Ut=Eb(Ut),Yo="ALLOWED_TAGS"in Ut?Ks({},Ut.ALLOWED_TAGS):ca,ao="ALLOWED_ATTR"in Ut?Ks({},Ut.ALLOWED_ATTR):Xo,vd="ADD_URI_SAFE_ATTR"in Ut?Ks(Eb(Jh),Ut.ADD_URI_SAFE_ATTR):Jh,Xh="ADD_DATA_URI_TAGS"in Ut?Ks(Eb(zi),Ut.ADD_DATA_URI_TAGS):zi,Kh="FORBID_CONTENTS"in Ut?Ks({},Ut.FORBID_CONTENTS):Yh,Vn="FORBID_TAGS"in Ut?Ks({},Ut.FORBID_TAGS):{},Pr="FORBID_ATTR"in Ut?Ks({},Ut.FORBID_ATTR):{},Gh="USE_PROFILES"in Ut?Ut.USE_PROFILES:!1,gr=Ut.ALLOW_ARIA_ATTR!==!1,Go=Ut.ALLOW_DATA_ATTR!==!1,tr=Ut.ALLOW_UNKNOWN_PROTOCOLS||!1,Fs=Ut.SAFE_FOR_TEMPLATES||!1,js=Ut.WHOLE_DOCUMENT||!1,Ai=Ut.RETURN_DOM||!1,Na=Ut.RETURN_DOM_FRAGMENT||!1,Wl=Ut.RETURN_TRUSTED_TYPE||!1,Ni=Ut.FORCE_BODY||!1,Ga=Ut.SANITIZE_DOM!==!1,Zh=Ut.KEEP_CONTENT!==!1,md=Ut.IN_PLACE||!1,Nr=Ut.ALLOWED_URI_REGEXP||Nr,oc=Ut.NAMESPACE||nf,Ut.CUSTOM_ELEMENT_HANDLING&&wO(Ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(jo.tagNameCheck=Ut.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ut.CUSTOM_ELEMENT_HANDLING&&wO(Ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(jo.attributeNameCheck=Ut.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ut.CUSTOM_ELEMENT_HANDLING&&typeof Ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(jo.allowCustomizedBuiltInElements=Ut.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pf=kv.indexOf(Ut.PARSER_MEDIA_TYPE)===-1?Pf=BE:Pf=Ut.PARSER_MEDIA_TYPE,Rm=Pf==="application/xhtml+xml"?function(lo){return lo}:Ux,Fs&&(Go=!1),Na&&(Ai=!0),Gh&&(Yo=Ks({},ku(XG)),ao=[],Gh.html===!0&&(Ks(Yo,Z9),Ks(ao,JG)),Gh.svg===!0&&(Ks(Yo,Zx),Ks(ao,G9),Ks(ao,Xu)),Gh.svgFilters===!0&&(Ks(Yo,a6),Ks(ao,G9),Ks(ao,Xu)),Gh.mathMl===!0&&(Ks(Yo,LA),Ks(ao,QG),Ks(ao,Xu))),Ut.ADD_TAGS&&(Yo===ca&&(Yo=Eb(Yo)),Ks(Yo,Ut.ADD_TAGS)),Ut.ADD_ATTR&&(ao===Xo&&(ao=Eb(ao)),Ks(ao,Ut.ADD_ATTR)),Ut.ADD_URI_SAFE_ATTR&&Ks(vd,Ut.ADD_URI_SAFE_ATTR),Ut.FORBID_CONTENTS&&(Kh===Yh&&(Kh=Eb(Kh)),Ks(Kh,Ut.FORBID_CONTENTS)),Zh&&(Yo["#text"]=!0),js&&Ks(Yo,["html","head","body"]),Yo.table&&(Ks(Yo,["tbody"]),delete Vn.tbody),Ku&&Ku(Ut),ng=Ut)},CO=Ks({},["mi","mo","mn","ms","mtext"]),SO=Ks({},["foreignobject","desc","title","annotation-xml"]),Av=Ks({},["title","style","font","a","script"]),Yb=Ks({},Zx);Ks(Yb,a6),Ks(Yb,IA);var Rt=Ks({},LA);Ks(Rt,Wa);var jt=function(Ut){var lo=Et(Ut);(!lo||!lo.tagName)&&(lo={namespaceURI:nf,tagName:"template"});var Ko=Ux(Ut.tagName),Vi=Ux(lo.tagName);return Ut.namespaceURI===Xd?lo.namespaceURI===nf?Ko==="svg":lo.namespaceURI===Kb?Ko==="svg"&&(Vi==="annotation-xml"||CO[Vi]):Boolean(Yb[Ko]):Ut.namespaceURI===Kb?lo.namespaceURI===nf?Ko==="math":lo.namespaceURI===Xd?Ko==="math"&&SO[Vi]:Boolean(Rt[Ko]):Ut.namespaceURI===nf?lo.namespaceURI===Xd&&!SO[Vi]||lo.namespaceURI===Kb&&!CO[Vi]?!1:!Rt[Ko]&&(Av[Ko]||!Yb[Ko]):!1},Sn=function(Ut){cv(r.removed,{element:Ut});try{Ut.parentNode.removeChild(Ut)}catch{try{Ut.outerHTML=an}catch{Ut.remove()}}},vn=function(Ut,lo){try{cv(r.removed,{attribute:lo.getAttributeNode(Ut),from:lo})}catch{cv(r.removed,{attribute:null,from:lo})}if(lo.removeAttribute(Ut),Ut==="is"&&!ao[Ut])if(Ai||Na)try{Sn(lo)}catch{}else try{lo.setAttribute(Ut,"")}catch{}},So=function(Ut){var lo,Ko;if(Ni)Ut="<remove></remove>"+Ut;else{var Vi=Wx(Ut,/^[\r\n\t ]+/);Ko=Vi&&Vi[0]}Pf==="application/xhtml+xml"&&(Ut='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ut+"</body></html>");var of=Jt?Jt.createHTML(Ut):Ut;if(oc===nf)try{lo=new Ae().parseFromString(of,Pf)}catch{}if(!lo||!lo.documentElement){lo=un.createDocument(oc,"template",null);try{lo.documentElement.innerHTML=Nf?"":of}catch{}}var su=lo.body||lo.documentElement;return Ut&&Ko&&su.insertBefore(u.createTextNode(Ko),su.childNodes[0]||null),oc===nf?Nn.call(lo,js?"html":"body")[0]:js?lo.documentElement:su},Gr=function(Ut){return Wt.call(Ut.ownerDocument||Ut,Ut,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT,null,!1)},Ci=function(Ut){return Ut instanceof Te&&(typeof Ut.nodeName!="string"||typeof Ut.textContent!="string"||typeof Ut.removeChild!="function"||!(Ut.attributes instanceof ge)||typeof Ut.removeAttribute!="function"||typeof Ut.setAttribute!="function"||typeof Ut.namespaceURI!="string"||typeof Ut.insertBefore!="function")},Si=function(Ut){return xb(A)==="object"?Ut instanceof A:Ut&&xb(Ut)==="object"&&typeof Ut.nodeType=="number"&&typeof Ut.nodeName=="string"},Ou=function(Ut,lo,Ko){!ir[Ut]||U9(ir[Ut],function(Vi){Vi.call(r,lo,Ko,ng)})},Aw=function(Ut){var lo;if(Ou("beforeSanitizeElements",Ut,null),Ci(Ut)||Yu(/[\u0080-\uFFFF]/,Ut.nodeName))return Sn(Ut),!0;var Ko=Rm(Ut.nodeName);if(Ou("uponSanitizeElement",Ut,{tagName:Ko,allowedTags:Yo}),Ut.hasChildNodes()&&!Si(Ut.firstElementChild)&&(!Si(Ut.content)||!Si(Ut.content.firstElementChild))&&Yu(/<[/\w]/g,Ut.innerHTML)&&Yu(/<[/\w]/g,Ut.textContent)||Ko==="select"&&Yu(/<template/i,Ut.innerHTML))return Sn(Ut),!0;if(!Yo[Ko]||Vn[Ko]){if(!Vn[Ko]&&fB(Ko)&&(jo.tagNameCheck instanceof RegExp&&Yu(jo.tagNameCheck,Ko)||jo.tagNameCheck instanceof Function&&jo.tagNameCheck(Ko)))return!1;if(Zh&&!Kh[Ko]){var Vi=Et(Ut)||Ut.parentNode,of=ht(Ut)||Ut.childNodes;if(of&&Vi)for(var su=of.length,_u=su-1;_u>=0;--_u)Vi.insertBefore(Ge(of[_u],!0),ct(Ut))}return Sn(Ut),!0}return Ut instanceof R&&!jt(Ut)||(Ko==="noscript"||Ko==="noembed")&&Yu(/<\/no(script|embed)/i,Ut.innerHTML)?(Sn(Ut),!0):(Fs&&Ut.nodeType===3&&(lo=Ut.textContent,lo=Vd(lo,Zr," "),lo=Vd(lo,bs," "),Ut.textContent!==lo&&(cv(r.removed,{element:Ut.cloneNode()}),Ut.textContent=lo)),Ou("afterSanitizeElements",Ut,null),!1)},uB=function(Ut,lo,Ko){if(Ga&&(lo==="id"||lo==="name")&&(Ko in u||Ko in NE))return!1;if(!(Go&&!Pr[lo]&&Yu(Ys,lo))){if(!(gr&&Yu(xl,lo))){if(!ao[lo]||Pr[lo]){if(!(fB(Ut)&&(jo.tagNameCheck instanceof RegExp&&Yu(jo.tagNameCheck,Ut)||jo.tagNameCheck instanceof Function&&jo.tagNameCheck(Ut))&&(jo.attributeNameCheck instanceof RegExp&&Yu(jo.attributeNameCheck,lo)||jo.attributeNameCheck instanceof Function&&jo.attributeNameCheck(lo))||lo==="is"&&jo.allowCustomizedBuiltInElements&&(jo.tagNameCheck instanceof RegExp&&Yu(jo.tagNameCheck,Ko)||jo.tagNameCheck instanceof Function&&jo.tagNameCheck(Ko))))return!1}else if(!vd[lo]){if(!Yu(Nr,Vd(Ko,dr,""))){if(!((lo==="src"||lo==="xlink:href"||lo==="href")&&Ut!=="script"&&W9(Ko,"data:")===0&&Xh[Ut])){if(!(tr&&!Yu(On,Vd(Ko,dr,"")))){if(Ko)return!1}}}}}}return!0},fB=function(Ut){return Ut.indexOf("-")>0},Iz=function(Ut){var lo,Ko,Vi,of;Ou("beforeSanitizeAttributes",Ut,null);var su=Ut.attributes;if(!!su){var _u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ao};for(of=su.length;of--;){lo=su[of];var dB=lo,bc=dB.name,Lz=dB.namespaceURI;Ko=bc==="value"?lo.value:Xhe(lo.value),Vi=Rm(bc);var jne=Ko;if(_u.attrName=Vi,_u.attrValue=Ko,_u.keepAttr=!0,_u.forceKeepAttr=void 0,Ou("uponSanitizeAttribute",Ut,_u),Ko=_u.attrValue,!_u.forceKeepAttr){if(!_u.keepAttr){vn(bc,Ut);continue}if(Yu(/\/>/i,Ko)){vn(bc,Ut);continue}Fs&&(Ko=Vd(Ko,Zr," "),Ko=Vd(Ko,bs," "));var zne=Rm(Ut.nodeName);if(!uB(zne,Vi,Ko)){vn(bc,Ut);continue}if(Ko!==jne)try{Lz?Ut.setAttributeNS(Lz,bc,Ko):Ut.setAttribute(bc,Ko)}catch{vn(bc,Ut)}}}Ou("afterSanitizeAttributes",Ut,null)}},Hne=function Ar(Ut){var lo,Ko=Gr(Ut);for(Ou("beforeSanitizeShadowDOM",Ut,null);lo=Ko.nextNode();)Ou("uponSanitizeShadowNode",lo,null),!Aw(lo)&&(lo.content instanceof h&&Ar(lo.content),Iz(lo));Ou("afterSanitizeShadowDOM",Ut,null)};return r.sanitize=function(Ar,Ut){var lo,Ko,Vi,of,su;if(Nf=!Ar,Nf&&(Ar="<!-->"),typeof Ar!="string"&&!Si(Ar)){if(typeof Ar.toString!="function")throw q9("toString is not a function");if(Ar=Ar.toString(),typeof Ar!="string")throw q9("dirty is not a string, aborting")}if(!r.isSupported){if(xb(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Ar=="string")return t.toStaticHTML(Ar);if(Si(Ar))return t.toStaticHTML(Ar.outerHTML)}return Ar}if(Za||PE(Ut),r.removed=[],typeof Ar=="string"&&(md=!1),md){if(Ar.nodeName){var _u=Rm(Ar.nodeName);if(!Yo[_u]||Vn[_u])throw q9("root node is forbidden and cannot be sanitized in-place")}}else if(Ar instanceof A)lo=So("<!---->"),Ko=lo.ownerDocument.importNode(Ar,!0),Ko.nodeType===1&&Ko.nodeName==="BODY"||Ko.nodeName==="HTML"?lo=Ko:lo.appendChild(Ko);else{if(!Ai&&!Fs&&!js&&Ar.indexOf("<")===-1)return Jt&&Wl?Jt.createHTML(Ar):Ar;if(lo=So(Ar),!lo)return Ai?null:Wl?an:""}lo&&Ni&&Sn(lo.firstChild);for(var dB=Gr(md?Ar:lo);Vi=dB.nextNode();)Vi.nodeType===3&&Vi===of||Aw(Vi)||(Vi.content instanceof h&&Hne(Vi.content),Iz(Vi),of=Vi);if(of=null,md)return Ar;if(Ai){if(Na)for(su=Kt.call(lo.ownerDocument);lo.firstChild;)su.appendChild(lo.firstChild);else su=lo;return ao.shadowroot&&(su=vo.call(i,su,!0)),su}var bc=js?lo.outerHTML:lo.innerHTML;return js&&Yo["!doctype"]&&lo.ownerDocument&&lo.ownerDocument.doctype&&lo.ownerDocument.doctype.name&&Yu(J2,lo.ownerDocument.doctype.name)&&(bc="<!DOCTYPE "+lo.ownerDocument.doctype.name+`>
`+bc),Fs&&(bc=Vd(bc,Zr," "),bc=Vd(bc,bs," ")),Jt&&Wl?Jt.createHTML(bc):bc},r.setConfig=function(Ar){PE(Ar),Za=!0},r.clearConfig=function(){ng=null,Za=!1},r.isValidAttribute=function(Ar,Ut,lo){ng||PE({});var Ko=Rm(Ar),Vi=Rm(Ut);return uB(Ko,Vi,lo)},r.addHook=function(Ar,Ut){typeof Ut=="function"&&(ir[Ar]=ir[Ar]||[],cv(ir[Ar],Ut))},r.removeHook=function(Ar){if(ir[Ar])return Yhe(ir[Ar])},r.removeHooks=function(Ar){ir[Ar]&&(ir[Ar]=[])},r.removeAllHooks=function(){ir={}},r}var K9=c6();const Y9=nn.explode,X9=()=>{const t={};return{addFilter:(h,y)=>{Oe(Y9(h),A=>{To(t,A)||(t[A]={name:A,callbacks:[]}),t[A].callbacks.push(y)})},getFilters:()=>wr(t),removeFilter:(h,y)=>{Oe(Y9(h),A=>{if(To(t,A))if(Q(y)){const R=t[A],H=Ee(R.callbacks,Y=>Y!==y);H.length>0?R.callbacks=H:delete t[A]}else delete t[A]})}}},J9=(t,r)=>{Oe(r,i=>{t.attr(i,null)})},oK=(t,r,i)=>{t.addNodeFilter("font",u=>{Oe(u,h=>{const y=r.parse(h.attr("style")),A=h.attr("color"),R=h.attr("face"),H=h.attr("size");A&&(y.color=A),R&&(y["font-family"]=R),H&&Ls(H).each(Y=>{y["font-size"]=i[Y-1]}),h.name="span",h.attr("style",r.serialize(y)),J9(h,["color","face","size"])})})},rK=(t,r,i)=>{t.addNodeFilter("strike",u=>{const h=r.type!=="html4";Oe(u,y=>{if(h)y.name="s";else{const A=i.parse(y.attr("style"));A["text-decoration"]="line-through",y.name="span",y.attr("style",i.serialize(A))}})})},sK=(t,r,i)=>{var u;const h=w1();r.convert_fonts_to_spans&&oK(t,h,nn.explode((u=r.font_size_legacy_values)!==null&&u!==void 0?u:"")),rK(t,i,h)},iK=(t,r,i)=>{r.inline_styles&&sK(t,r,i)},aK=t=>fetch(t).then(r=>r.ok?r.blob():Promise.reject()).catch(()=>Promise.reject(`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`)),Q9=t=>{const r=/([a-z0-9+\/=\s]+)/i.exec(t);return r?r[1]:""},u6=t=>{const[r,...i]=t.split(","),u=i.join(","),h=/data:([^/]+\/[^;]+)(;.+)?/.exec(r);if(h){const y=h[2]===";base64",A=y?Q9(u):decodeURIComponent(u);return q.some({type:h[1],data:A,base64Encoded:y})}else return q.none()},Q2=(t,r,i=!0)=>{let u=r;if(i)try{u=atob(r)}catch{return q.none()}const h=new Uint8Array(u.length);for(let y=0;y<h.length;y++)h[y]=u.charCodeAt(y);return q.some(new Blob([h],{type:t}))},eM=t=>new Promise((r,i)=>{u6(t).bind(({type:u,data:h,base64Encoded:y})=>Q2(u,h,y)).fold(()=>i("Invalid data URI"),r)}),lK=t=>$o(t,"blob:")?aK(t):$o(t,"data:")?eM(t):Promise.reject("Unknown URI format"),f6=t=>new Promise((r,i)=>{const u=new FileReader;u.onloadend=()=>{r(u.result)},u.onerror=()=>{var h;i((h=u.error)===null||h===void 0?void 0:h.message)},u.readAsDataURL(t)});let cK=0;const tM=t=>(t||"blobid")+cK++,nM=(t,r,i)=>u6(t).bind(({data:u,type:h,base64Encoded:y})=>{if(r&&!y)return q.none();{const A=y?u:btoa(u);return i(A,h)}}),oM=(t,r,i)=>{const u=t.create(tM(),r,i);return t.add(u),u},d6=(t,r,i=!1)=>nM(r,i,(u,h)=>q.from(t.getByData(u,h)).orThunk(()=>Q2(h,u).map(y=>oM(t,y,u)))),rM=(t,r)=>{const i=()=>Promise.reject("Invalid data URI");if($o(r,"blob:")){const u=t.getByUri(r);return Q(u)?Promise.resolve(u):lK(r).then(h=>f6(h).then(y=>nM(y,!1,A=>q.some(oM(t,h,A))).getOrThunk(i)))}else return $o(r,"data:")?d6(t,r).fold(i,u=>Promise.resolve(u)):Promise.reject("Unknown image data format")},sM=t=>Q(t.attr("data-mce-bogus")),iM=t=>t.attr("src")===Hn.transparentSrc||Q(t.attr("data-mce-placeholder")),aM=(t,r)=>{const{blob_cache:i}=r;if(i){const u=h=>{const y=h.attr("src");iM(h)||sM(h)||se(y)||d6(i,y,!0).each(A=>{h.attr("src",A.blobUri())})};t.addAttributeFilter("src",h=>Oe(h,u))}},uK=(t,r)=>{const i=t.schema;r.remove_trailing_brs&&t.addNodeFilter("br",(h,y,A)=>{const R=nn.extend({},i.getBlockElements()),H=i.getNonEmptyElements(),Y=i.getWhitespaceElements();R.body=1;for(let ge=0,Te=h.length;ge<Te;ge++){let Ae=h[ge],nt=Ae.parent;if(nt&&R[nt.name]&&Ae===nt.lastChild){let st=Ae.prev;for(;st;){const Ge=st.name;if(Ge!=="span"||st.attr("data-mce-type")!=="bookmark"){Ge==="br"&&(Ae=null);break}st=st.prev}if(Ae&&(Ae.remove(),U2(i,H,Y,nt))){const Ge=i.getElementRule(nt.name);Ge&&(Ge.removeEmpty?nt.remove():Ge.paddEmpty&&mA(r,A,R,nt))}}else{let st=Ae;for(;nt&&nt.firstChild===st&&nt.lastChild===st&&(st=nt,!R[nt.name]);)nt=nt.parent;if(st===nt){const Ge=new nu("#text",3);Ge.value=Gi,Ae.replace(Ge)}}}}),t.addAttributeFilter("href",h=>{let y=h.length;const A=H=>H.split(" ").filter(ge=>ge.length>0).concat(["noopener"]).sort().join(" "),R=H=>{const Y=H?nn.trim(H):"";return/\b(noopener)\b/g.test(Y)?Y:A(Y)};if(!r.allow_unsafe_link_target)for(;y--;){const H=h[y];H.name==="a"&&H.attr("target")==="_blank"&&H.attr("rel",R(H.attr("rel")))}}),r.allow_html_in_named_anchor||t.addAttributeFilter("id,name",h=>{let y=h.length,A,R,H,Y;for(;y--;)if(Y=h[y],Y.name==="a"&&Y.firstChild&&!Y.attr("href"))for(H=Y.parent,A=Y.lastChild;A&&H;)R=A.prev,H.insert(A,Y),A=R}),r.fix_list_elements&&t.addNodeFilter("ul,ol",h=>{let y=h.length,A,R;for(;y--;)if(A=h[y],R=A.parent,R&&(R.name==="ul"||R.name==="ol"))if(A.prev&&A.prev.name==="li")A.prev.append(A);else{const H=new nu("li",1);H.attr("style","list-style-type: none"),A.wrap(H)}});const u=i.getValidClasses();r.validate&&u&&t.addAttributeFilter("class",h=>{var y;let A=h.length;for(;A--;){const R=h[A],H=(y=R.attr("class"))!==null&&y!==void 0?y:"",Y=nn.explode(H," ");let ge="";for(let Te=0;Te<Y.length;Te++){const Ae=Y[Te];let nt=!1,st=u["*"];st&&st[Ae]&&(nt=!0),st=u[R.name],!nt&&st&&st[Ae]&&(nt=!0),nt&&(ge&&(ge+=" "),ge+=Ae)}ge.length||(ge=null),R.attr("class",ge)}}),aM(t,r)},lM=nn.each,fK=nn.trim,dK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],h6={ftp:21,http:80,https:443,mailto:25},Xx=["img","video"],cM=(t,r)=>Q(t)?!t:Q(r)?!He(Xx,r):!0,uM=t=>{try{return decodeURIComponent(t)}catch{return unescape(t)}},Jx=(t,r,i)=>{const u=uM(r);return t.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(u)?!0:t.allow_html_data_urls?!1:/^data:image\//i.test(u)?cM(t.allow_svg_data_urls,i)&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u)};class Lh{constructor(r,i={}){this.path="",this.directory="",r=fK(r),this.settings=i;const u=i.base_uri,h=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){h.source=r;return}const y=r.indexOf("//")===0;if(r.indexOf("/")===0&&!y&&(r=(u&&u.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){const R=u?u.path:new Lh(document.location.href).directory;if((u==null?void 0:u.protocol)==="")r="//mce_host"+h.toAbsPath(R,r);else{const H=/([^#?]*)([#?]?.*)/.exec(r);H&&(r=(u&&u.protocol||"http")+"://mce_host"+h.toAbsPath(R,H[1])+H[2])}}r=r.replace(/@@/g,"(mce_at)");const A=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);A&&lM(dK,(R,H)=>{let Y=A[H];Y&&(Y=Y.replace(/\(mce_at\)/g,"@@")),h[R]=Y}),u&&(h.protocol||(h.protocol=u.protocol),h.userInfo||(h.userInfo=u.userInfo),!h.port&&h.host==="mce_host"&&(h.port=u.port),(!h.host||h.host==="mce_host")&&(h.host=u.host),h.source=""),y&&(h.protocol="")}static parseDataUri(r){let i;const u=decodeURIComponent(r).split(","),h=/data:([^;]+)/.exec(u[0]);return h&&(i=h[1]),{type:i,data:u[1]}}static isDomSafe(r,i,u={}){if(u.allow_script_urls)return!0;{const h=vu.decode(r).replace(/[\s\u0000-\u001F]+/g,"");return!Jx(u,h,i)}}static getDocumentBaseUrl(r){var i;let u;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?u=(i=r.href)!==null&&i!==void 0?i:"":u=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/")),u}setPath(r){const i=/^(.*?)\/?(\w+)?$/.exec(r);i&&(this.path=i[0],this.directory=i[1],this.file=i[2]),this.source="",this.getURI()}toRelative(r){if(r==="./")return r;const i=new Lh(r,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();const u=this.getURI(),h=i.getURI();if(u===h||u.charAt(u.length-1)==="/"&&u.substr(0,u.length-1)===h)return u;let y=this.toRelPath(this.path,i.path);return i.query&&(y+="?"+i.query),i.anchor&&(y+="#"+i.anchor),y}toAbsolute(r,i){const u=new Lh(r,{base_uri:this});return u.getURI(i&&this.isSameOrigin(u))}isSameOrigin(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;const i=this.protocol?h6[this.protocol]:null;if(i&&(this.port||i)==(r.port||i))return!0}return!1}toRelPath(r,i){let u=0,h="",y,A;const R=r.substring(0,r.lastIndexOf("/")).split("/"),H=i.split("/");if(R.length>=H.length){for(y=0,A=R.length;y<A;y++)if(y>=H.length||R[y]!==H[y]){u=y+1;break}}if(R.length<H.length){for(y=0,A=H.length;y<A;y++)if(y>=R.length||R[y]!==H[y]){u=y+1;break}}if(u===1)return i;for(y=0,A=R.length-(u-1);y<A;y++)h+="../";for(y=u-1,A=H.length;y<A;y++)y!==u-1?h+="/"+H[y]:h+=H[y];return h}toAbsPath(r,i){let u=0;const h=/\/$/.test(i)?"/":"",y=r.split("/"),A=i.split("/"),R=[];lM(y,Te=>{Te&&R.push(Te)});const H=[];for(let Te=A.length-1;Te>=0;Te--)if(!(A[Te].length===0||A[Te]===".")){if(A[Te]===".."){u++;continue}if(u>0){u--;continue}H.push(A[Te])}const Y=R.length-u;let ge;return Y<=0?ge=oo(H).join("/"):ge=R.slice(0,Y).join("/")+"/"+oo(H).join("/"),ge.indexOf("/")!==0&&(ge="/"+ge),h&&ge.lastIndexOf("/")!==ge.length-1&&(ge+=h),ge}getURI(r=!1){let i;return(!this.source||r)&&(i="",r||(this.protocol?i+=this.protocol+"://":i+="//",this.userInfo&&(i+=this.userInfo+"@"),this.host&&(i+=this.host),this.port&&(i+=":"+this.port)),this.path&&(i+=this.path),this.query&&(i+="?"+this.query),this.anchor&&(i+="#"+this.anchor),this.source=i),this.source}}const fM=nn.makeMap,Tm=nn.extend,p6={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]},dM=nn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),kb="data-mce-type",hM=(t,r)=>{const i={...p6};return i.PARSER_MEDIA_TYPE=r,t.allow_script_urls?i.ALLOWED_URI_REGEXP=/.*/:t.allow_html_data_urls&&(i.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),i},pM=(t,r)=>{const i=K9(),u=r.getSpecialElements(),h=t.validate;let y=0;return i.addHook("uponSanitizeElement",(A,R)=>{var H,Y,ge;A.nodeType===Ye&&!t.allow_conditional_comments&&/^\[if/i.test((H=A.nodeValue)!==null&&H!==void 0?H:"")&&(A.nodeValue=" "+A.nodeValue);const Te=R.tagName;if(A.nodeType!==Vt||Te==="body")return;const Ae=mt.fromDom(A),nt=Te.toLowerCase(),st=Fu(Ae,kb),Ge=bi(Ae,"data-mce-bogus");if(!st&&P(Ge)){Ge==="all"?ts(Ae):Qa(Ae);return}const ct=r.getElementRule(nt);if(h&&!ct){To(u,nt)?ts(Ae):Qa(Ae);return}else R.allowedTags[Te]=!0;if(h&&ct&&!st){if(Oe((Y=ct.attributesForced)!==null&&Y!==void 0?Y:[],ht=>{_s(Ae,ht.name,ht.value==="{$uid}"?`mce_${y++}`:ht.value)}),Oe((ge=ct.attributesDefault)!==null&&ge!==void 0?ge:[],ht=>{Fu(Ae,ht.name)||_s(Ae,ht.name,ht.value==="{$uid}"?`mce_${y++}`:ht.value)}),ct.attributesRequired&&!Re(ct.attributesRequired,ht=>Fu(Ae,ht))){Qa(Ae);return}if(ct.removeEmptyAttrs&&ff(Ae)){Qa(Ae);return}ct.outputName&&ct.outputName!==nt&&nl(Ae,ct.outputName)}}),i.addHook("uponSanitizeAttribute",(A,R)=>{const H=A.tagName.toLowerCase(),{attrName:Y,attrValue:ge}=R;R.keepAttr=!h||r.isValid(H,Y)||$o(Y,"data-")||$o(Y,"aria-"),Y in dM&&Jx(t,ge,H)&&(R.keepAttr=!1),R.keepAttr?(R.allowedAttributes[Y]=!0,Y in r.getBoolAttrs()&&(R.attrValue=Y),t.allow_svg_data_urls&&$o(ge,"data:image/svg+xml")&&(R.forceKeepAttr=!0)):A.hasAttribute(kb)&&(Y==="id"||Y==="class"||Y==="style")&&(R.forceKeepAttr=!0)}),i},g6=(t,r,i)=>{const u=t.name,h=u in i&&u!=="title"&&u!=="textarea",y=r.childNodes;for(let A=0,R=y.length;A<R;A++){const H=y[A],Y=new nu(H.nodeName.toLowerCase(),H.nodeType);if(no(H)){const ge=H.attributes;for(let Te=0,Ae=ge.length;Te<Ae;Te++){const nt=ge[Te];Y.attr(nt.name,nt.value)}}else yn(H)?(Y.value=H.data,h&&(Y.raw=!0)):(Iu(H)||Qv(H)||e0(H))&&(Y.value=H.data);g6(Y,H,i),t.append(Y)}},gM=(t,r,i)=>{const u=[];for(let h=t,y=h;h;y=h,h=h.walk()){const A=h;Oe(r,R=>R(A)),se(A.parent)&&A!==t?h=y:u.push(A)}for(let h=u.length-1;h>=0;h--){const y=u[h];Oe(i,A=>A(y))}},hK=(t,r,i,u)=>{const h=i.validate,y=r.getNonEmptyElements(),A=r.getWhitespaceElements(),R=Tm(fM("script,style,head,html,body,title,meta,param"),r.getBlockElements()),H=g0(r),Y=/[ \t\r\n]+/g,ge=/^[ \t\r\n]+/,Te=/[ \t\r\n]+$/,Ae=ht=>{let Et=ht.parent;for(;Q(Et);){if(Et.name in A)return!0;Et=Et.parent}return!1},nt=ht=>{let Et=ht;for(;Q(Et);){if(Et.name in H)return U2(r,y,A,Et);Et=Et.parent}return!1},st=(ht,Et)=>{const Dt=Et?ht.prev:ht.next;return Q(Dt)||se(ht.parent)?!1:ht.parent.name in R&&(ht.parent!==t||u.isRootContent===!0)};return[ht=>{var Et;if(ht.type===3&&!Ae(ht)){let Dt=(Et=ht.value)!==null&&Et!==void 0?Et:"";Dt=Dt.replace(Y," "),(GR(ht.prev,R)||st(ht,!0))&&(Dt=Dt.replace(ge,"")),Dt.length===0?ht.remove():ht.value=Dt}},ht=>{var Et;if(ht.type===1){const Dt=r.getElementRule(ht.name);if(h&&Dt){const Jt=U2(r,y,A,ht);Dt.paddInEmptyBlock&&Jt&&nt(ht)?mA(i,u,R,ht):Dt.removeEmpty&&Jt?R[ht.name]?ht.remove():ht.unwrap():Dt.paddEmpty&&(Jt||RD(ht))&&mA(i,u,R,ht)}}else if(ht.type===3&&!Ae(ht)){let Dt=(Et=ht.value)!==null&&Et!==void 0?Et:"";(ht.next&&R[ht.next.name]||st(ht,!1))&&(Dt=Dt.replace(Te,"")),Dt.length===0?ht.remove():ht.value=Dt}}]},pK=(t,r)=>{var i;const u=(i=r.forced_root_block)!==null&&i!==void 0?i:t.forced_root_block;return u===!1?"":u===!0?"p":u},ew=(t={},r=zu())=>{const i=X9(),u=X9(),h={validate:!0,root_name:"body",...t},y=new DOMParser,A=pM(h,r),R=(Et,Dt,Jt="html")=>{const an=Jt==="xhtml"?"application/xhtml+xml":"text/html",Bn=To(r.getSpecialElements(),Dt.toLowerCase()),un=Bn?`<${Dt}>${Et}</${Dt}>`:Et,Wt=Jt==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${un}</body></html>`:`<body>${un}</body>`,Kt=y.parseFromString(Wt,an).body;return A.sanitize(Kt,hM(h,an)),A.removed=[],Bn?Kt.firstChild:Kt},H=i.addFilter,Y=i.getFilters,ge=i.removeFilter,Te=u.addFilter,Ae=u.getFilters,nt=u.removeFilter,st=(Et,Dt)=>{const Jt=Et.parent;Jt&&r.children[Et.name]&&!r.isValidChild(Jt.name,Et.name)&&Dt.push(Et)},Ge=(Et,Dt)=>{const Jt=Tm(fM("script,style,head,html,body,title,meta,param"),r.getBlockElements()),an=/^[ \t\r\n]+/,Bn=/[ \t\r\n]+$/;let un=Et.firstChild,Wt=null;const Kt=Nn=>{var vo,Ao;Nn&&(un=Nn.firstChild,un&&un.type===3&&(un.value=(vo=un.value)===null||vo===void 0?void 0:vo.replace(an,"")),un=Nn.lastChild,un&&un.type===3&&(un.value=(Ao=un.value)===null||Ao===void 0?void 0:Ao.replace(Bn,"")))};if(!!r.isValidChild(Et.name,Dt.toLowerCase())){for(;un;){const Nn=un.next;un.type===3||un.type===1&&un.name!=="p"&&!Jt[un.name]&&!un.attr(kb)?(Wt||(Wt=new nu(Dt,1),Wt.attr(h.forced_root_block_attrs),Et.insert(Wt,un)),Wt.append(un)):(Kt(Wt),Wt=null),un=Nn}Kt(Wt)}},ht={schema:r,addAttributeFilter:Te,getAttributeFilters:Ae,removeAttributeFilter:nt,addNodeFilter:H,getNodeFilters:Y,removeNodeFilter:ge,parse:(Et,Dt={})=>{var Jt;const an=h.validate,Bn=(Jt=Dt.context)!==null&&Jt!==void 0?Jt:h.root_name,un=R(Et,Bn,Dt.format),Wt=new nu(Bn,11);g6(Wt,un,r.getSpecialElements());const[Kt,Nn]=hK(Wt,r,h,Dt),vo=[],Ao=an?Ys=>st(Ys,vo):ve,ir={nodes:{},attributes:{}},Zr=Ys=>PD(Y(),Ae(),Ys,ir);if(gM(Wt,[Kt,Zr],[Nn,Ao]),vo.reverse(),an&&vo.length>0)if(Dt.context){const{pass:Ys,fail:xl}=ie(vo,On=>On.parent===Wt);W2(xl,r,Zr),Dt.invalid=Ys.length>0}else W2(vo,r,Zr);const bs=pK(h,Dt);return bs&&(Wt.name==="body"||Dt.isRootContent)&&Ge(Wt,bs),Dt.invalid||FD(ir,Dt),Wt}};return uK(ht,h),iK(ht,h,r),ht},m6=t=>Z2(t)?rv({validate:!1}).serialize(t):t,mM=(t,r)=>{const i=m6(t),u=r(i);if(u.isDefaultPrevented())return u;if(Z2(t))if(u.content!==i){const h=ew({validate:!1,forced_root_block:!1}).parse(u.content,{context:t.name});return{...u,content:h}}else return{...u,content:t};else return u},vM=(t,r)=>{if(r.no_events)return di.value(r);{const i=fm(t,r);return i.isDefaultPrevented()?di.error(nb(t,{content:"",...i}).content):di.value(i)}},bM=(t,r,i)=>i.no_events?r:mM(r,h=>nb(t,{...i,content:h})).content,v6=(t,r)=>{if(r.no_events)return di.value(r);{const i=mM(r.content,u=>sx(t,{...r,content:u}));return i.isDefaultPrevented()?(Pk(t,i),di.error(void 0)):di.value(i)}},Ab=(t,r,i)=>{i.no_events||Pk(t,{...i,content:r})},Qx=(t,r,i)=>({element:t,width:r,rows:i}),yM=(t,r)=>({element:t,cells:r}),wM=(t,r)=>({x:t,y:r}),CM=(t,r)=>pl(t,r).bind(Ls).getOr(1),jA=(t,r,i,u,h)=>{const y=CM(h,"rowspan"),A=CM(h,"colspan"),R=t.rows;for(let H=i;H<i+y;H++){R[H]||(R[H]=yM(oS(u),[]));for(let Y=r;Y<r+A;Y++){const ge=R[H].cells;ge[Y]=H===i&&Y===r?h:Ug(h)}}},SM=(t,r,i)=>{const u=t.rows;return!!(u[i]?u[i].cells:[])[r]},Jhe=(t,r,i)=>{for(;SM(t,r,i);)r++;return r},b6=t=>Xe(t,(r,i)=>i.cells.length>r?i.cells.length:r,0),xM=(t,r)=>{const i=t.rows;for(let u=0;u<i.length;u++){const h=i[u].cells;for(let y=0;y<h.length;y++)if(gs(h[y],r))return q.some(wM(y,u))}return q.none()},EM=(t,r,i,u,h)=>{const y=[],A=t.rows;for(let R=i;R<=h;R++){const H=A[R].cells,Y=r<u?H.slice(r,u+1):H.slice(u,r+1);y.push(yM(A[R].element,Y))}return y},y6=(t,r,i)=>{const u=r.x,h=r.y,y=i.x,A=i.y,R=h<A?EM(t,u,h,y,A):EM(t,u,A,y,h);return Qx(t.element,b6(R),R)},gK=(t,r)=>{const i=Ug(t.element),u=mt.fromTag("tbody");return er(u,r),Li(i,u),i},kM=t=>Ve(t.rows,r=>{const i=Ve(r.cells,h=>{const y=oS(h);return Ii(y,"colspan"),Ii(y,"rowspan"),y}),u=Ug(r.element);return er(u,i),u}),AM=t=>{const r=Qx(Ug(t),0,[]);return Oe($t(t,"tr"),(i,u)=>{Oe($t(i,"td,th"),(h,y)=>{jA(r,Jhe(r,y,u),u,i,h)})}),Qx(r.element,b6(r.rows),r.rows)},w6=t=>gK(t,kM(t)),mK=(t,r,i)=>xM(t,r).bind(u=>xM(t,i).map(h=>y6(t,u,h))),TM=t=>qt(t,r=>ko(r)==="ul"||ko(r)==="ol"),C6=(t,r)=>qt(t,i=>ko(i)==="li"&&v2(i,r)).fold(Fe([]),i=>TM(t).map(u=>{const h=mt.fromTag(ko(u)),y=pr(_r(u),(A,R)=>$o(R,"list-style"));return vt(h,y),[mt.fromTag("li"),h]}).getOr([])),vK=(t,r)=>{const i=Xe(r,(u,h)=>(Li(h,u),h),t);return r.length>0?D2([i]):i},bK=t=>Oc(t)?La(t).filter(r0).fold(Fe([]),r=>[t,r]):r0(t)?[t]:[],yK=(t,r)=>{const i=mt.fromDom(r.commonAncestorContainer),u=Sm(i,t),h=Ee(u,hh),y=C6(u,r),A=h.concat(y.length?y:bK(i));return Ve(A,Ug)},OM=()=>D2([]),wK=(t,r)=>vK(mt.fromDom(r.cloneContents()),yK(t,r)),_M=(t,r)=>Bg(r,"table",re(gs,t)),S6=(t,r)=>_M(t,r[0]).bind(i=>{const u=r[0],h=r[r.length-1],y=AM(i);return mK(y,u,h).map(A=>D2([w6(A)]))}).getOrThunk(OM),$M=(t,r)=>r.length>0&&r[0].collapsed?OM():wK(t,r[0]),DM=(t,r)=>{const i=m2(r,t);return i.length>0?S6(t,i):$M(t,r)},eE=(t,r)=>r>=0&&r<t.length&&Z0(t.charAt(r)),x6=t=>It(t.innerText),BM=t=>t.map(r=>r.nodeName).getOr("div").toLowerCase(),NM=t=>q.from(t.selection.getRng()).map(r=>{var i;const u=q.from(t.dom.getParent(r.commonAncestorContainer,t.dom.isBlock)),h=t.getBody(),y=BM(u),A=t.dom.add(h,y,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),R=x6(A),H=It((i=A.textContent)!==null&&i!==void 0?i:"");if(t.dom.remove(A),eE(H,0)||eE(H,H.length-1)){const Y=u.getOr(h),ge=x6(Y),Te=ge.indexOf(R);if(Te===-1)return R;{const Ae=eE(ge,Te-1),nt=eE(ge,Te+R.length);return(Ae?" ":"")+R+(nt?" ":"")}}else return R}).getOr(""),CK=(t,r)=>{const i=t.selection.getRng(),u=t.dom.create("body"),h=t.selection.getSel(),y=oD(t,p2(h)),A=r.contextual?DM(mt.fromDom(t.getBody()),y).dom:i.cloneContents();return A&&u.appendChild(A),t.selection.serializer.serialize(u,r)},E6=(t,r)=>{if(r.format==="text")return NM(t);{const i=CK(t,r);return r.format==="tree"?i:t.selection.isCollapsed()?"":i}},SK=(t,r)=>({...t,format:r,get:!0,selection:!0,getInner:!0}),zA=(t,r,i={})=>{const u=SK(i,r);return vM(t,u).fold(De,h=>{const y=E6(t,h);return bM(t,y,h)})},k6=0,PM=1,FM=2,RM=(t,r)=>{const i=t.length+r.length+2,u=new Array(i),h=new Array(i),y=(ge,Te,Ae)=>({start:ge,end:Te,diag:Ae}),A=(ge,Te,Ae,nt,st)=>{const Ge=H(ge,Te,Ae,nt);if(Ge===null||Ge.start===Te&&Ge.diag===Te-nt||Ge.end===ge&&Ge.diag===ge-Ae){let ct=ge,ht=Ae;for(;ct<Te||ht<nt;)ct<Te&&ht<nt&&t[ct]===r[ht]?(st.push([k6,t[ct]]),++ct,++ht):Te-ge>nt-Ae?(st.push([FM,t[ct]]),++ct):(st.push([PM,r[ht]]),++ht)}else{A(ge,Ge.start,Ae,Ge.start-Ge.diag,st);for(let ct=Ge.start;ct<Ge.end;++ct)st.push([k6,t[ct]]);A(Ge.end,Te,Ge.end-Ge.diag,nt,st)}},R=(ge,Te,Ae,nt)=>{let st=ge;for(;st-Te<nt&&st<Ae&&t[st]===r[st-Te];)++st;return y(ge,st,Te)},H=(ge,Te,Ae,nt)=>{const st=Te-ge,Ge=nt-Ae;if(st===0||Ge===0)return null;const ct=st-Ge,ht=Ge+st,Et=(ht%2===0?ht:ht+1)/2;u[1+Et]=ge,h[1+Et]=Te+1;let Dt,Jt,an,Bn,un;for(Dt=0;Dt<=Et;++Dt){for(Jt=-Dt;Jt<=Dt;Jt+=2){for(an=Jt+Et,Jt===-Dt||Jt!==Dt&&u[an-1]<u[an+1]?u[an]=u[an+1]:u[an]=u[an-1]+1,Bn=u[an],un=Bn-ge+Ae-Jt;Bn<Te&&un<nt&&t[Bn]===r[un];)u[an]=++Bn,++un;if(ct%2!==0&&ct-Dt<=Jt&&Jt<=ct+Dt&&h[an-ct]<=u[an])return R(h[an-ct],Jt+ge-Ae,Te,nt)}for(Jt=ct-Dt;Jt<=ct+Dt;Jt+=2){for(an=Jt+Et-ct,Jt===ct-Dt||Jt!==ct+Dt&&h[an+1]<=h[an-1]?h[an]=h[an+1]-1:h[an]=h[an-1],Bn=h[an]-1,un=Bn-ge+Ae-Jt;Bn>=ge&&un>=Ae&&t[Bn]===r[un];)h[an]=Bn--,un--;if(ct%2===0&&-Dt<=Jt&&Jt<=Dt&&h[an]<=u[an+ct])return R(h[an],Jt+ge-Ae,Te,nt)}}return null},Y=[];return A(0,t.length,0,r.length,Y),Y},A6=t=>no(t)?t.outerHTML:yn(t)?vu.encodeRaw(t.data,!1):Iu(t)?"<!--"+t.data+"-->":"",xK=t=>{let r;const i=document.createElement("div"),u=document.createDocumentFragment();for(t&&(i.innerHTML=t);r=i.firstChild;)u.appendChild(r);return u},EK=(t,r,i)=>{const u=xK(r);if(t.hasChildNodes()&&i<t.childNodes.length){const h=t.childNodes[i];t.insertBefore(u,h)}else t.appendChild(u)},kK=(t,r)=>{if(t.hasChildNodes()&&r<t.childNodes.length){const i=t.childNodes[r];t.removeChild(i)}},AK=(t,r)=>{let i=0;Oe(t,u=>{u[0]===k6?i++:u[0]===PM?(EK(r,u[1],i),i++):u[0]===FM&&kK(r,i)})},MM=t=>Ee(Ve(_o(t.childNodes),A6),r=>r.length>0),Qhe=(t,r)=>{const i=Ve(_o(r.childNodes),A6);return AK(RM(i,t),r),r},TK=uo(()=>document.implementation.createHTMLDocument("undo")),OK=t=>t.indexOf("</iframe>")!==-1,_K=t=>({type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}),$K=t=>({type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}),VA=t=>{const r=MM(t.getBody()),i=zn(r,h=>{const y=JF(t.serializer,h);return y.length>0?[y]:[]}),u=i.join("");return OK(u)?_K(i):$K(u)},T6=(t,r,i)=>{const u=i?r.beforeBookmark:r.bookmark;r.type==="fragmented"?Qhe(r.fragments,t.getBody()):t.setContent(r.content,{format:"raw",no_selection:Q(u)&&VS(u)?!u.isFakeCaret:!0}),u&&t.selection.moveToBookmark(u)},O6=t=>t.type==="fragmented"?t.fragments.join(""):t.content,_6=t=>{const r=mt.fromTag("body",TK());return i1(r,O6(t)),Oe($t(r,"*[data-mce-bogus]"),Qa),Ag(r)},DK=(t,r)=>O6(t)===O6(r),BK=(t,r)=>_6(t)===_6(r),$6=(t,r)=>!t||!r?!1:DK(t,r)?!0:BK(t,r),D6=t=>t.get()===0,UA=(t,r,i)=>{D6(i)&&(t.typing=r)},NK=(t,r)=>{t.typing&&(UA(t,!1,r),t.add())},epe=t=>{t.typing&&(t.typing=!1,t.add())},PK=(t,r,i)=>{D6(r)&&i.set(T0(t.selection))},FK=(t,r,i,u,h,y,A)=>{const R=VA(t),H=nn.extend(y||{},R);if(!D6(u)||t.removed)return null;const Y=r.data[i.get()];if(t.dispatch("BeforeAddUndo",{level:H,lastLevel:Y,originalEvent:A}).isDefaultPrevented()||Y&&$6(Y,H))return null;r.data[i.get()]&&h.get().each(Ae=>{r.data[i.get()].beforeBookmark=Ae});const ge=G_(t);if(ge&&r.data.length>ge){for(let Ae=0;Ae<r.data.length-1;Ae++)r.data[Ae]=r.data[Ae+1];r.data.length--,i.set(r.data.length)}H.bookmark=T0(t.selection),i.get()<r.data.length-1&&(r.data.length=i.get()+1),r.data.push(H),i.set(r.data.length-1);const Te={level:H,lastLevel:Y,originalEvent:A};return i.get()>0?(t.setDirty(!0),t.dispatch("AddUndo",Te),t.dispatch("change",Te)):t.dispatch("AddUndo",Te),H},tpe=(t,r,i)=>{r.data=[],i.set(0),r.typing=!1,t.dispatch("ClearUndos")},RK=(t,r,i,u,h)=>{if(r.transact(u)){const y=r.data[i.get()].bookmark,A=r.data[i.get()-1];T6(t,A,!0),r.transact(h)&&(r.data[i.get()-1].beforeBookmark=y)}},Hi=(t,r,i)=>{let u;return r.get()<i.length-1&&(r.set(r.get()+1),u=i[r.get()],T6(t,u,!1),t.setDirty(!0),t.dispatch("Redo",{level:u})),u},B6=(t,r,i,u)=>{let h;return r.typing&&(r.add(),r.typing=!1,UA(r,!1,i)),u.get()>0&&(u.set(u.get()-1),h=r.data[u.get()],T6(t,h,!0),t.setDirty(!0),t.dispatch("Undo",{level:h})),h},npe=t=>{t.clear(),t.add()},MK=(t,r,i)=>i.get()>0||r.typing&&r.data[0]&&!$6(VA(t),r.data[0]),IK=(t,r)=>r.get()<t.data.length-1&&!t.typing,tw=(t,r,i)=>(NK(t,r),t.beforeChange(),t.ignore(i),t.add()),ope=(t,r)=>{try{t.set(t.get()+1),r()}finally{t.set(t.get()-1)}},rpe=(t,r)=>{const i=t.dom,u=Q(r)?r:t.getBody();Oe(i.select("table,a",u),h=>{switch(h.nodeName){case"TABLE":const y=Jg(t),A=i.getAttrib(h,"border");(!A||A==="0")&&t.hasVisual?i.addClass(h,y):i.removeClass(h,y);break;case"A":if(!i.getAttrib(h,"href")){const R=i.getAttrib(h,"name")||h.id,H=Qg(t);R&&t.hasVisual?i.addClass(h,H):i.removeClass(h,H)}break}}),t.dispatch("VisualAid",{element:r,hasVisual:t.hasVisual})},Ul=t=>({init:{bindEvents:ve},undoManager:{beforeChange:(r,i)=>PK(t,r,i),add:(r,i,u,h,y,A)=>FK(t,r,i,u,h,y,A),undo:(r,i,u)=>B6(t,r,i,u),redo:(r,i)=>Hi(t,r,i),clear:(r,i)=>tpe(t,r,i),reset:r=>npe(r),hasUndo:(r,i)=>MK(t,r,i),hasRedo:(r,i)=>IK(r,i),transact:(r,i,u)=>tw(r,i,u),ignore:(r,i)=>ope(r,i),extra:(r,i,u,h)=>RK(t,r,i,u,h)},formatter:{match:(r,i,u,h)=>WD(t,r,i,u,h),matchAll:(r,i)=>wG(t,r,i),matchNode:(r,i,u,h)=>Kp(t,r,i,u,h),canApply:r=>CG(t,r),closest:r=>v9(t,r),apply:(r,i,u)=>P9(t,r,i,u),remove:(r,i,u,h)=>$9(t,r,i,u,h),toggle:(r,i,u)=>jG(t,r,i,u),formatChanged:(r,i,u,h,y)=>HG(t,r,i,u,h,y)},editor:{getContent:r=>_Z(t,r),setContent:(r,i)=>VD(t,r,i),insertContent:(r,i)=>CA(t,r,i),addVisual:r=>rpe(t,r)},selection:{getContent:(r,i)=>zA(t,r,i)},autocompleter:{addDecoration:r=>GF(t,r),removeDecoration:()=>CZ(t,mt.fromDom(t.getBody()))},raw:{getModel:()=>q.none()}}),IM=t=>{const r=Y=>I(Y)?Y:{},{init:i,undoManager:u,formatter:h,editor:y,selection:A,autocompleter:R,raw:H}=t;return{init:{bindEvents:i.bindEvents},undoManager:{beforeChange:u.beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:(Y,ge,Te)=>u.transact(Te),ignore:(Y,ge)=>u.ignore(ge),extra:(Y,ge,Te,Ae)=>u.extra(Te,Ae)},formatter:{match:(Y,ge,Te,Ae)=>h.match(Y,r(ge),Ae),matchAll:h.matchAll,matchNode:h.matchNode,canApply:Y=>h.canApply(Y),closest:Y=>h.closest(Y),apply:(Y,ge,Te)=>h.apply(Y,r(ge)),remove:(Y,ge,Te,Ae)=>h.remove(Y,r(ge)),toggle:(Y,ge,Te)=>h.toggle(Y,r(ge)),formatChanged:(Y,ge,Te,Ae,nt)=>h.formatChanged(ge,Te,Ae,nt)},editor:{getContent:Y=>y.getContent(Y),setContent:(Y,ge)=>({content:y.setContent(Y,ge),html:""}),insertContent:(Y,ge)=>(y.insertContent(Y),""),addVisual:y.addVisual},selection:{getContent:(Y,ge)=>A.getContent(ge)},autocompleter:{addDecoration:R.addDecoration,removeDecoration:R.removeDecoration},raw:{getModel:()=>q.some(H.getRawModel())}}},LM=()=>{const t=Fe(null),r=Fe("");return{init:{bindEvents:ve},undoManager:{beforeChange:ve,add:t,undo:t,redo:t,clear:ve,reset:ve,hasUndo:Ce,hasRedo:Ce,transact:t,ignore:ve,extra:ve},formatter:{match:Ce,matchAll:Fe([]),matchNode:Fe(void 0),canApply:Ce,closest:r,apply:ve,remove:ve,toggle:ve,formatChanged:Fe({unbind:ve})},editor:{getContent:r,setContent:Fe({content:"",html:""}),insertContent:Fe(""),addVisual:ve},selection:{getContent:r},autocompleter:{addDecoration:ve,removeDecoration:ve},raw:{getModel:Fe(q.none())}}},Hh=t=>To(t.plugins,"rtc"),LK=t=>Jo(t.plugins,"rtc").bind(r=>q.from(r.setup)),HK=t=>{const r=t;return LK(t).fold(()=>(r.rtcInstance=Ul(t),q.none()),i=>(r.rtcInstance=LM(),q.some(()=>i().then(u=>(r.rtcInstance=IM(u),u.rtc.isRemote)))))},nw=t=>t.rtcInstance?t.rtcInstance:Ul(t),Ba=t=>{const r=t.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},N6=(t,r,i)=>{Ba(t).undoManager.beforeChange(r,i)},jK=(t,r,i,u,h,y,A)=>Ba(t).undoManager.add(r,i,u,h,y,A),HM=(t,r,i,u)=>Ba(t).undoManager.undo(r,i,u),jM=(t,r,i)=>Ba(t).undoManager.redo(r,i),P6=(t,r,i)=>{Ba(t).undoManager.clear(r,i)},zM=(t,r)=>{Ba(t).undoManager.reset(r)},F6=(t,r,i)=>Ba(t).undoManager.hasUndo(r,i),zK=(t,r,i)=>Ba(t).undoManager.hasRedo(r,i),VK=(t,r,i,u)=>Ba(t).undoManager.transact(r,i,u),UK=(t,r,i)=>{Ba(t).undoManager.ignore(r,i)},ud=(t,r,i,u,h)=>{Ba(t).undoManager.extra(r,i,u,h)},WK=(t,r,i,u,h)=>Ba(t).formatter.match(r,i,u,h),qK=(t,r,i)=>Ba(t).formatter.matchAll(r,i),ZK=(t,r,i,u,h)=>Ba(t).formatter.matchNode(r,i,u,h),GK=(t,r)=>Ba(t).formatter.canApply(r),KK=(t,r)=>Ba(t).formatter.closest(r),VM=(t,r,i,u)=>{Ba(t).formatter.apply(r,i,u)},YK=(t,r,i,u,h)=>{Ba(t).formatter.remove(r,i,u,h)},XK=(t,r,i,u)=>{Ba(t).formatter.toggle(r,i,u)},JK=(t,r,i,u,h,y)=>Ba(t).formatter.formatChanged(r,i,u,h,y),WA=(t,r)=>nw(t).editor.getContent(r),QK=(t,r,i)=>nw(t).editor.setContent(r,i),eY=(t,r,i)=>nw(t).editor.insertContent(r,i),UM=(t,r,i)=>Ba(t).selection.getContent(r,i),R6=(t,r)=>Ba(t).editor.addVisual(r),WM=t=>Ba(t).init.bindEvents(),tY=(t,r)=>Ba(t).autocompleter.addDecoration(r),spe=t=>Ba(t).autocompleter.removeDecoration(),nY=(t,r={})=>{const i=r.format?r.format:"html";return UM(t,i,r)},ow=t=>t.dom.length===0?(ts(t),q.none()):q.some(t),qM=(t,r)=>t.filter(i=>lm.isBookmarkNode(i.dom)).bind(r?lh:Nl),ZM=(t,r,i,u)=>{const h=t.dom,y=r.dom,A=u?h.length:y.length;u?(xR(h,y,!1,!u),i.setStart(y,A)):(xR(y,h,!1,!u),i.setEnd(y,A))},oY=(t,r)=>{La(t).each(i=>{const u=t.dom;r&&Ax(i,Yt(u,0))?Ox(u,0):!r&&aA(i,Yt(u,u.length))&&mD(u,u.length)})},M6=(t,r,i,u)=>{t.bind(h=>((u?mD:Ox)(h.dom,u?h.dom.length:0),r.filter(Xr).map(A=>ZM(h,A,i,u)))).orThunk(()=>qM(r,u).or(r).filter(Xr).map(y=>oY(y,u)))},rY=(t,r)=>{const i=q.from(r.firstChild).map(mt.fromDom),u=q.from(r.lastChild).map(mt.fromDom);t.deleteContents(),t.insertNode(r);const h=i.bind(Nl).filter(Xr).bind(ow),y=u.bind(lh).filter(Xr).bind(ow);M6(h,i,t,!0),M6(y,u,t,!1),t.collapse(!1)},sY=(t,r)=>({format:"html",...t,set:!0,selection:!0,content:r}),iY=(t,r)=>{if(r.format!=="raw"){const i=t.selection.getRng(),u=t.dom.getParent(i.commonAncestorContainer,t.dom.isBlock),h=u?{context:u.nodeName.toLowerCase()}:{},y=t.parser.parse(r.content,{forced_root_block:!1,...h,...r});return rv({validate:!1},t.schema).serialize(y)}else return r.content},aY=(t,r,i={})=>{const u=sY(i,r);v6(t,u).each(h=>{const y=iY(t,h),A=t.selection.getRng();rY(A,A.createContextualFragment(y)),t.selection.setRng(A),lb(t,A),Ab(t,y,h)})},I6=(t,r,i)=>{if(To(t,r)){const u=Ee(t[r],h=>h!==i);u.length===0?delete t[r]:t[r]=u}};var lY=(t,r)=>{let i,u;const h=(R,H)=>qt(H,Y=>t.is(Y,R)),y=R=>t.getParents(R,void 0,t.getRoot()),A=()=>{i={},u={},r.on("NodeChange",R=>{const H=R.element,Y=y(H),ge={};xn(i,(Te,Ae)=>{h(Ae,Y).each(nt=>{u[Ae]||(Oe(Te,st=>{st(!0,{node:nt,selector:Ae,parents:Y})}),u[Ae]=Te),ge[Ae]=Te})}),xn(u,(Te,Ae)=>{ge[Ae]||(delete u[Ae],Oe(Te,nt=>{nt(!1,{node:H,selector:Ae,parents:Y})}))})})};return{selectorChangedWithUnbind:(R,H)=>(i||A(),i[R]||(i[R]=[]),i[R].push(H),h(R,y(r.selection.getStart())).each(()=>{u[R]=i[R]}),{unbind:()=>{I6(i,R,H),I6(u,R,H)}})}};const GM=t=>!!(t&&t.ownerDocument)&&Ia(mt.fromDom(t.ownerDocument),mt.fromDom(t)),tE=t=>t?GM(t.startContainer)&&GM(t.endContainer):!1,L6=(t,r,i,u)=>{let h,y;const{selectorChangedWithUnbind:A}=lY(t,u),R=(On,dr)=>{const Nr=t.createRng();Q(On)&&Q(dr)?(Nr.setStart(On,dr),Nr.setEnd(On,dr),Dt(Nr),ct(!1)):(XS(t,Nr,u.getBody(),!0),Dt(Nr))},H=On=>nY(u,On),Y=(On,dr)=>aY(u,On,dr),ge=On=>wx(u.getBody(),Et(),On),Te=On=>nD(u.getBody(),Et(),On),Ae=(On,dr)=>Ys.getBookmark(On,dr),nt=On=>Ys.moveToBookmark(On),st=(On,dr)=>(gZ(t,On,dr).each(Dt),On),Ge=()=>{const On=Et(),dr=ht();return!On||On.item?!1:On.compareEndPoints?On.compareEndPoints("StartToEnd",On)===0:!dr||On.collapsed},ct=On=>{const dr=Et();dr.collapse(!!On),Dt(dr)},ht=()=>r.getSelection?r.getSelection():r.document.selection,Et=()=>{let On;const dr=(Yo,ca,ao)=>{try{return ca.compareBoundaryPoints(Yo,ao)}catch{return-1}},Nr=r.document;if(Q(u.bookmark)&&!wm(u)){const Yo=hn(u);if(Yo.isSome())return Yo.map(ca=>oD(u,[ca])[0]).getOr(Nr.createRange())}try{const Yo=ht();Yo&&!Ed(Yo.anchorNode)&&(Yo.rangeCount>0?On=Yo.getRangeAt(0):On=Nr.createRange(),On=oD(u,[On])[0])}catch{}if(On||(On=Nr.createRange()),Ep(On.startContainer)&&On.collapsed){const Yo=t.getRoot();On.setStart(Yo,0),On.setEnd(Yo,0)}return h&&y&&(dr(On.START_TO_START,On,h)===0&&dr(On.END_TO_END,On,h)===0?On=y:(h=null,y=null)),On},Dt=(On,dr)=>{if(!tE(On))return;const Nr=ht();if(On=u.dispatch("SetSelectionRange",{range:On,forward:dr}).range,Nr){y=On;try{Nr.removeAllRanges(),Nr.addRange(On)}catch{}dr===!1&&Nr.extend&&(Nr.collapse(On.endContainer,On.endOffset),Nr.extend(On.startContainer,On.startOffset)),h=Nr.rangeCount>0?Nr.getRangeAt(0):null}if(!On.collapsed&&On.startContainer===On.endContainer&&(Nr==null?void 0:Nr.setBaseAndExtent)&&On.endOffset-On.startOffset<2&&On.startContainer.hasChildNodes()){const ca=On.startContainer.childNodes[On.startOffset];ca&&ca.nodeName==="IMG"&&(Nr.setBaseAndExtent(On.startContainer,On.startOffset,On.endContainer,On.endOffset),(Nr.anchorNode!==On.startContainer||Nr.focusNode!==On.endContainer)&&Nr.setBaseAndExtent(ca,0,ca,1))}u.dispatch("AfterSetSelectionRange",{range:On,forward:dr})},Jt=On=>(Y(t.getOuterHTML(On)),On),an=()=>WF(u.getBody(),Et()),Bn=(On,dr)=>qF(t,Et(),On,dr),un=()=>{const On=ht(),dr=On==null?void 0:On.anchorNode,Nr=On==null?void 0:On.focusNode;if(!On||!dr||!Nr||Ed(dr)||Ed(Nr))return!0;const Yo=t.createRng(),ca=t.createRng();try{Yo.setStart(dr,On.anchorOffset),Yo.collapse(!0),ca.setStart(Nr,On.focusOffset),ca.collapse(!0)}catch{return!0}return Yo.compareBoundaryPoints(Yo.START_TO_START,ca)<=0},bs={dom:t,win:r,serializer:i,editor:u,collapse:ct,setCursorLocation:R,getContent:H,setContent:Y,getBookmark:Ae,moveToBookmark:nt,select:st,isCollapsed:Ge,isForward:un,setNode:Jt,getNode:an,getSel:ht,setRng:Dt,getRng:Et,getStart:ge,getEnd:Te,getSelectedBlocks:Bn,normalize:()=>{const On=Et(),dr=ht();if(!C$(dr)&&Y0(u)){const Nr=px(t,On);return Nr.each(Yo=>{Dt(Yo,un())}),Nr.getOr(On)}return On},selectorChanged:(On,dr)=>(A(On,dr),bs),selectorChangedWithUnbind:A,getScrollContainer:()=>{let On,dr=t.getRoot();for(;dr&&dr.nodeName!=="BODY";){if(dr.scrollHeight>dr.clientHeight){On=dr;break}dr=dr.parentNode}return On},scrollIntoView:(On,dr)=>{Q(On)?Y$(u,On,dr):lb(u,Et(),dr)},placeCaretAt:(On,dr)=>Dt(V$(On,dr,u.getDoc())),getBoundingClientRect:()=>{const On=Et();return On.collapsed?Yt.fromRangeStart(On).getClientRects()[0]:On.getBoundingClientRect()},destroy:()=>{r=h=y=null,xl.destroy()}},Ys=lm(bs),xl=Rk(bs,u);return bs.bookmarkManager=Ys,bs.controlSelection=xl,bs},KM=(t,r,i)=>{t.addAttributeFilter("data-mce-tabindex",(u,h)=>{let y=u.length;for(;y--;){const A=u[y];A.attr("tabindex",A.attr("data-mce-tabindex")),A.attr(h,null)}}),t.addAttributeFilter("src,href,style",(u,h)=>{const y="data-mce-"+h,A=r.url_converter,R=r.url_converter_scope;let H=u.length;for(;H--;){const Y=u[H];let ge=Y.attr(y);ge!==void 0?(Y.attr(h,ge.length>0?ge:null),Y.attr(y,null)):(ge=Y.attr(h),h==="style"?ge=i.serializeStyle(i.parseStyle(ge),Y.name):A&&(ge=A.call(R,ge,h,Y.name)),Y.attr(h,ge.length>0?ge:null))}}),t.addAttributeFilter("class",u=>{let h=u.length;for(;h--;){const y=u[h];let A=y.attr("class");A&&(A=A.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),y.attr("class",A.length>0?A:null))}}),t.addAttributeFilter("data-mce-type",(u,h,y)=>{let A=u.length;for(;A--;){const R=u[A];R.attr("data-mce-type")==="bookmark"&&!y.cleanup&&(q.from(R.firstChild).exists(Y=>{var ge;return!yt((ge=Y.value)!==null&&ge!==void 0?ge:"")})?R.unwrap():R.remove())}}),t.addNodeFilter("noscript",u=>{var h;let y=u.length;for(;y--;){const A=u[y].firstChild;A&&(A.value=vu.decode((h=A.value)!==null&&h!==void 0?h:""))}}),t.addNodeFilter("script,style",(u,h)=>{var y;const A=H=>H.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let R=u.length;for(;R--;){const H=u[R],Y=H.firstChild,ge=(y=Y==null?void 0:Y.value)!==null&&y!==void 0?y:"";if(h==="script"){const Te=H.attr("type");Te&&H.attr("type",Te==="mce-no/type"?null:Te.replace(/^mce\-/,"")),r.element_format==="xhtml"&&Y&&ge.length>0&&(Y.value=`// <![CDATA[
`+A(ge)+`
// ]]>`)}else r.element_format==="xhtml"&&Y&&ge.length>0&&(Y.value=`<!--
`+A(ge)+`
-->`)}}),t.addNodeFilter("#comment",u=>{let h=u.length;for(;h--;){const y=u[h],A=y.value;r.preserve_cdata&&(A==null?void 0:A.indexOf("[CDATA["))===0?(y.name="#cdata",y.type=4,y.value=i.decode(A.replace(/^\[CDATA\[|\]\]$/g,""))):(A==null?void 0:A.indexOf("mce:protected "))===0&&(y.name="#text",y.type=3,y.raw=!0,y.value=unescape(A).substr(14))}}),t.addNodeFilter("xml:namespace,input",(u,h)=>{let y=u.length;for(;y--;){const A=u[y];A.type===7?A.remove():A.type===1&&h==="input"&&!A.attr("type")&&A.attr("type","text")}}),t.addAttributeFilter("data-mce-type",u=>{Oe(u,h=>{h.attr("data-mce-type")==="format-caret"&&(h.isEmpty(t.schema.getNonEmptyElements())?h.remove():h.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(u,h)=>{let y=u.length;for(;y--;)u[y].attr(h,null)})},cY=t=>{const r=u=>(u==null?void 0:u.name)==="br",i=t.lastChild;if(r(i)){const u=i.prev;r(u)&&(i.remove(),u.remove())}},uY=(t,r,i)=>{let u;const h=t.dom;let y=r.cloneNode(!0);const A=document.implementation;if(A.createHTMLDocument){const R=A.createHTMLDocument("");nn.each(y.nodeName==="BODY"?y.childNodes:[y],H=>{R.body.appendChild(R.importNode(H,!0))}),y.nodeName!=="BODY"?y=R.body.firstChild:y=R.body,u=h.doc,h.doc=R}return E2(t,{...i,node:y}),u&&(h.doc=u),y},fY=(t,r)=>Q(t)&&t.hasEventListeners("PreProcess")&&!r.no_events,YM=(t,r,i)=>fY(t,i)?uY(t,r,i):r,dY=(t,r,i)=>{nn.inArray(r,i)===-1&&(t.addAttributeFilter(i,(u,h)=>{let y=u.length;for(;y--;)u[y].attr(h,null)}),r.push(i))},hY=(t,r,i)=>!r.no_events&&t?D$(t,{...r,content:i}).content:i,pY=(t,r,i)=>{const u=It(i.getInner?r.innerHTML:t.getOuterHTML(r));return i.selection||Kr(mt.fromDom(r))?u:nn.trim(u)},gY=(t,r,i)=>{const u=i.selection?{forced_root_block:!1,...i}:i,h=t.parse(r,u);return cY(h),h},ipe=(t,r,i)=>rv(t,r).serialize(i),Om=(t,r,i,u,h)=>{const y=ipe(r,i,u);return hY(t,h,y)},XM=(t,r)=>{const i=["data-mce-selected"],u=r&&r.dom?r.dom:$s.DOM,h=r&&r.schema?r.schema:zu(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0;const y=ew(t,h);KM(y,t,u);const A=(R,H={})=>{const Y={format:"html",...H},ge=YM(r,R,Y),Te=pY(u,ge,Y),Ae=gY(y,Te,Y);return Y.format==="tree"?Ae:Om(r,t,h,Ae,Y)};return{schema:h,addNodeFilter:y.addNodeFilter,addAttributeFilter:y.addAttributeFilter,serialize:A,addRules:h.addValidElements,setRules:h.setValidElements,addTempAttr:re(dY,y,i),getTempAttrs:Fe(i),getNodeFilters:y.getNodeFilters,getAttributeFilters:y.getAttributeFilters,removeNodeFilter:y.removeNodeFilter,removeAttributeFilter:y.removeAttributeFilter}},JM=(t,r)=>{const i=XM(t,r);return{schema:i.schema,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:i.serialize,addRules:i.addRules,setRules:i.setRules,addTempAttr:i.addTempAttr,getTempAttrs:i.getTempAttrs,getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},mY="html",vY=(t,r)=>({...t,format:r,get:!0,getInner:!0}),bY=(t,r={})=>{const i=r.format?r.format:mY,u=vY(r,i);return vM(t,u).fold(De,h=>{const y=WA(t,h);return bM(t,y,h)})},hs="html",ape=(t,r)=>({format:hs,...t,set:!0,content:r}),H6=(t,r,i={})=>{const u=ape(i,r);return v6(t,u).map(h=>{const y=QK(t,h.content,h);return Ab(t,y.html,h),y.content}).getOr(r)},yY="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),la="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),wY=t=>{const r=Ee(yY,u=>To(t,u)),i=t.forced_root_block;return(i===!1||i==="")&&r.push("forced_root_block (false only)"),sn(r)},nE=t=>{const r=nn.makeMap(t.plugins," "),u=Ee(la,h=>To(r,h));return sn(u)},CY=(t,r)=>{const i=wY(t),u=nE(r),h=u.length>0,y=i.length>0,A=r.theme==="mobile";if(h||y||A){const R=`
- `,H=A?`

Themes:${R}mobile`:"",Y=h?`

Plugins:${R}${u.join(R)}`:"",ge=y?`

Options:${R}${i.join(R)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+H+Y+ge)}},SY=(t,r)=>{CY(t,r)},qA=$s.DOM,QM=t=>{qA.setStyle(t.id,"display",t.orgDisplay)},jh=t=>q.from(t).each(r=>r.destroy()),Ju=t=>{const r=t;r.contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null;const i=t.selection;if(i){const u=i.dom;r.selection=i.win=i.dom=u.doc=null}},oE=t=>{const r=t.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,delete r._mceOldSubmit),qA.unbind(r,"submit reset",t.formEventDelegate))},Tb=t=>{if(!t.removed){const{_selectionOverrides:r,editorUpload:i}=t,u=t.getBody(),h=t.getElement();u&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&Q(h==null?void 0:h.nextSibling)&&qA.remove(h.nextSibling),$k(t),t.editorManager.remove(t),!t.inline&&u&&QM(t),Dk(t),qA.remove(t.getContainer()),jh(r),jh(i),t.destroy()}},_m=(t,r)=>{const{selection:i,dom:u}=t;if(!t.destroyed){if(!r&&!t.removed){t.remove();return}r||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),jh(i),jh(u)),oE(t),Ju(t),t.destroyed=!0}},rw=(()=>{const t={};return{add:(h,y)=>{t[h]=y},get:h=>t[h]?t[h]:{icons:{}},has:h=>To(t,h)}})(),uv=Bi.ModelManager,j6=(t,r)=>r.dom[t],z6=(t,r)=>parseInt(At(r,t),10),xY=re(j6,"clientWidth"),EY=re(j6,"clientHeight"),eI=re(z6,"margin-top"),tI=re(z6,"margin-left"),nI=t=>t.dom.getBoundingClientRect(),oI=(t,r,i)=>{const u=xY(t),h=EY(t);return r>=0&&i>=0&&r<=u&&i<=h},V6=(t,r,i,u)=>{const h=nI(r),y=t?h.left+r.dom.clientLeft+tI(r):0,A=t?h.top+r.dom.clientTop+eI(r):0,R=i-y,H=u-A;return{x:R,y:H}},lpe=(t,r,i)=>{const u=mt.fromDom(t.getBody()),h=t.inline?u:bp(u),y=V6(t.inline,h,r,i);return oI(h,y.x,y.y)},kY=t=>q.from(t).map(mt.fromDom),cpe=t=>{const r=t.inline?t.getBody():t.getContentAreaContainer();return kY(r).map(pu).getOr(!1)};var AY=()=>{const t=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,getArgs:t}};const rI=t=>{const r=[],i=()=>{const Ae=t.theme;return Ae&&Ae.getNotificationManagerImpl?Ae.getNotificationManagerImpl():AY()},u=()=>q.from(r[0]),h=(Ae,nt)=>Ae.type===nt.type&&Ae.text===nt.text&&!Ae.progressBar&&!Ae.timeout&&!nt.progressBar&&!nt.timeout,y=()=>{Oe(r,Ae=>{Ae.reposition()})},A=Ae=>{r.push(Ae)},R=Ae=>{bn(r,nt=>nt===Ae).each(nt=>{r.splice(nt,1)})},H=(Ae,nt=!0)=>t.removed||!cpe(t)?{}:(nt&&t.dispatch("BeforeOpenNotification",{notification:Ae}),qt(r,st=>h(i().getArgs(st),Ae)).getOrThunk(()=>{t.editorManager.setActive(t);const st=i().open(Ae,()=>{R(st),y(),u().fold(()=>t.focus(),Ge=>nA(mt.fromDom(Ge.getEl())))});return A(st),y(),t.dispatch("OpenNotification",{notification:{...st}}),st})),Y=()=>{u().each(Ae=>{i().close(Ae),R(Ae),y()})},ge=Fe(r);return(Ae=>{Ae.on("SkinLoaded",()=>{const nt=_h(Ae);nt&&H({text:nt,type:"warning",timeout:0},!1),y()}),Ae.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(y)}),Ae.on("remove",()=>{Oe(r.slice(),nt=>{i().close(nt)})})})(t),{open:H,close:Y,getNotifications:ge}},Qu=Bi.PluginManager,sw=Bi.ThemeManager;var upe=()=>{const t=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t}};const sI=t=>{let r=[];const i=()=>{const Ge=t.theme;return Ge&&Ge.getWindowManagerImpl?Ge.getWindowManagerImpl():upe()},u=(Ge,ct)=>(...ht)=>ct?ct.apply(Ge,ht):void 0,h=Ge=>{t.dispatch("OpenWindow",{dialog:Ge})},y=Ge=>{t.dispatch("CloseWindow",{dialog:Ge})},A=Ge=>{r.push(Ge),h(Ge)},R=Ge=>{y(Ge),r=Ee(r,ct=>ct!==Ge),r.length===0&&t.focus()},H=()=>q.from(r[r.length-1]),Y=Ge=>{t.editorManager.setActive(t),Bt(t),t.ui.show();const ct=Ge();return A(ct),ct},ge=(Ge,ct)=>Y(()=>i().open(Ge,ct,R)),Te=Ge=>Y(()=>i().openUrl(Ge,R)),Ae=(Ge,ct,ht)=>{const Et=i();Et.alert(Ge,u(ht||Et,ct))},nt=(Ge,ct,ht)=>{const Et=i();Et.confirm(Ge,u(ht||Et,ct))},st=()=>{H().each(Ge=>{i().close(Ge),R(Ge)})};return t.on("remove",()=>{Oe(r,Ge=>{i().close(Ge)})}),{open:ge,openUrl:Te,alert:Ae,confirm:nt,close:st}},iw=(t,r)=>{t.notificationManager.open({type:"error",text:r})},GA=(t,r)=>{t._skinLoaded?iw(t,r):t.on("SkinLoaded",()=>{iw(t,r)})},iI=(t,r)=>{GA(t,xf.translate(["Failed to upload image: {0}",r]))},aw=(t,r,i)=>{tb(t,r,{message:i}),console.error(i)},lw=(t,r,i)=>i?`Failed to load ${t}: ${i} from url ${r}`:`Failed to load ${t} url: ${r}`,TY=(t,r,i)=>{aw(t,"PluginLoadError",lw("plugin",r,i))},OY=(t,r,i)=>{aw(t,"IconsLoadError",lw("icons",r,i))},fv=(t,r,i)=>{aw(t,"LanguageLoadError",lw("language",r,i))},_Y=(t,r,i)=>{aw(t,"ThemeLoadError",lw("theme",r,i))},$Y=(t,r,i)=>{aw(t,"ModelLoadError",lw("model",r,i))},DY=(t,r,i)=>{const u=xf.translate(["Failed to initialize plugin: {0}",r]);tb(t,"PluginLoadError",{message:u}),KA(u,i),GA(t,u)},KA=(t,...r)=>{const i=window.console;i&&(i.error?i.error(t,...r):i.log(t,...r))},BY=t=>/^[a-z0-9\-]+$/i.test(t),NY=t=>aI(t,Mn(t)),PY=t=>aI(t,Va(t)),aI=(t,r)=>{const i=t.editorManager.baseURL+"/skins/content",h=`content${t.editorManager.suffix}.css`;return Ve(r,y=>BY(y)&&!t.inline?`${i}/${y}/${h}`:t.documentBaseURI.toAbsolute(y))},FY=t=>{t.contentCSS=t.contentCSS.concat(NY(t),PY(t))},RY=me,MY=(t,r,i)=>a1(t,r,RY,i),fpe=t=>t?_o(t.getElementsByTagName("img")):[],rE=(t,r)=>{const i={};return{findAll:(h,y=me)=>{const A=Ee(fpe(h),H=>{const Y=H.src;return H.hasAttribute("data-mce-bogus")||H.hasAttribute("data-mce-placeholder")||!Y||Y===Hn.transparentSrc?!1:$o(Y,"blob:")?!t.isUploaded(Y)&&y(H):$o(Y,"data:")?y(H):!1}),R=Ve(A,H=>{const Y=H.src;if(To(i,Y))return i[Y].then(ge=>P(ge)?ge:{image:H,blobInfo:ge.blobInfo});{const ge=rM(r,Y).then(Te=>(delete i[Y],{image:H,blobInfo:Te})).catch(Te=>(delete i[Y],Te));return i[Y]=ge,ge}});return Promise.all(R)}}},lI=()=>{let i={};const u=(Ae,nt)=>({status:Ae,resultUri:nt}),h=Ae=>Ae in i;return{hasBlobUri:h,getResultUri:Ae=>{const nt=i[Ae];return nt?nt.resultUri:null},isPending:Ae=>h(Ae)?i[Ae].status===1:!1,isUploaded:Ae=>h(Ae)?i[Ae].status===2:!1,markPending:Ae=>{i[Ae]=u(1,null)},markUploaded:(Ae,nt)=>{i[Ae]=u(2,nt)},removeFailed:Ae=>{delete i[Ae]},destroy:()=>{i={}}}};let U6=0;const IY=()=>{const t=()=>Math.round(Math.random()*4294967295).toString(36),r=new Date().getTime();return"s"+r.toString(36)+t()+t()+t()},LY=t=>t+U6+++IY(),HY=()=>{let t=[];const r=Te=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[Te.toLowerCase()]||"dat",i=(Te,Ae,nt,st,Ge)=>{if(P(Te))return u({id:Te,name:st,filename:Ge,blob:Ae,base64:nt});if(I(Te))return u(Te);throw new Error("Unknown input type")},u=Te=>{if(!Te.blob||!Te.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const Ae=Te.id||LY("blobid"),nt=Te.name||Ae,st=Te.blob;return{id:Fe(Ae),name:Fe(nt),filename:Fe(Te.filename||nt+"."+r(st.type)),blob:Fe(st),base64:Fe(Te.base64),blobUri:Fe(Te.blobUri||URL.createObjectURL(st)),uri:Fe(Te.uri)}},h=Te=>{A(Te.id())||t.push(Te)},y=Te=>qt(t,Te).getOrUndefined(),A=Te=>y(Ae=>Ae.id()===Te);return{create:i,add:h,get:A,getByUri:Te=>y(Ae=>Ae.blobUri()===Te),getByData:(Te,Ae)=>y(nt=>nt.base64()===Te&&nt.blob().type===Ae),findFirst:y,removeByUri:Te=>{t=Ee(t,Ae=>Ae.blobUri()===Te?(URL.revokeObjectURL(Ae.blobUri()),!1):!0)},destroy:()=>{Oe(t,Te=>{URL.revokeObjectURL(Te.blobUri())}),t=[]}}},jY=(t,r)=>{const i={},u=(Ge,ct)=>Ge?Ge.replace(/\/$/,"")+"/"+ct.replace(/^\//,""):ct,h=(Ge,ct)=>new Promise((ht,Et)=>{const Dt=new XMLHttpRequest;Dt.open("POST",r.url),Dt.withCredentials=r.credentials,Dt.upload.onprogress=an=>{ct(an.loaded/an.total*100)},Dt.onerror=()=>{Et("Image upload failed due to a XHR Transport error. Code: "+Dt.status)},Dt.onload=()=>{if(Dt.status<200||Dt.status>=300){Et("HTTP Error: "+Dt.status);return}const an=JSON.parse(Dt.responseText);if(!an||!P(an.location)){Et("Invalid JSON: "+Dt.responseText);return}ht(u(r.basePath,an.location))};const Jt=new FormData;Jt.append("file",Ge.blob(),Ge.filename()),Dt.send(Jt)}),y=G(r.handler)?r.handler:h,A=()=>new Promise(Ge=>{Ge([])}),R=(Ge,ct)=>({url:ct,blobInfo:Ge,status:!0}),H=(Ge,ct)=>({url:"",blobInfo:Ge,status:!1,error:ct}),Y=(Ge,ct)=>{nn.each(i[Ge],ht=>{ht(ct)}),delete i[Ge]},ge=(Ge,ct,ht)=>(t.markPending(Ge.blobUri()),new Promise(Et=>{let Dt,Jt;try{const an=()=>{Dt&&(Dt.close(),Jt=ve)},Bn=Wt=>{an(),t.markUploaded(Ge.blobUri(),Wt),Y(Ge.blobUri(),R(Ge,Wt)),Et(R(Ge,Wt))},un=Wt=>{an(),t.removeFailed(Ge.blobUri()),Y(Ge.blobUri(),H(Ge,Wt)),Et(H(Ge,Wt))};Jt=Wt=>{Wt<0||Wt>100||q.from(Dt).orThunk(()=>q.from(ht).map(ue)).each(Kt=>{Dt=Kt,Kt.progressBar.value(Wt)})},ct(Ge,Jt).then(Bn,Wt=>{un(P(Wt)?{message:Wt}:Wt)})}catch(an){Et(H(Ge,an))}})),Te=Ge=>Ge===h,Ae=Ge=>{const ct=Ge.blobUri();return new Promise(ht=>{i[ct]=i[ct]||[],i[ct].push(ht)})},nt=(Ge,ct)=>(Ge=nn.grep(Ge,ht=>!t.isUploaded(ht.blobUri())),Promise.all(nn.map(Ge,ht=>t.isPending(ht.blobUri())?Ae(ht):ge(ht,y,ct))));return{upload:(Ge,ct)=>!r.url&&Te(y)?A():nt(Ge,ct)}},dv=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),hv=(t,r)=>jY(r,{url:PF(t),basePath:H_(t),credentials:j_(t),handler:z_(t)}),YA=t=>{const r=lI(),i=hv(t,r);return{upload:(u,h=!0)=>i.upload(u,h?dv(t):void 0)}},XA=t=>{const r=HY();let i,u;const h=lI(),y=[],A=Dt=>Jt=>t.selection?Dt(Jt):[],R=Dt=>Dt+(Dt.indexOf("?")===-1?"?":"&")+new Date().getTime(),H=(Dt,Jt,an)=>{let Bn=0;do Bn=Dt.indexOf(Jt,Bn),Bn!==-1&&(Dt=Dt.substring(0,Bn)+an+Dt.substr(Bn+Jt.length),Bn+=an.length-Jt.length+1);while(Bn!==-1);return Dt},Y=(Dt,Jt,an)=>{const Bn=`src="${an}"${an===Hn.transparentSrc?' data-mce-placeholder="1"':""}`;return Dt=H(Dt,`src="${Jt}"`,Bn),Dt=H(Dt,'data-mce-src="'+Jt+'"','data-mce-src="'+an+'"'),Dt},ge=(Dt,Jt)=>{Oe(t.undoManager.data,an=>{an.type==="fragmented"?an.fragments=Ve(an.fragments,Bn=>Y(Bn,Dt,Jt)):an.content=Y(an.content,Dt,Jt)})},Te=(Dt,Jt)=>{const an=t.convertURL(Jt,"src");ge(Dt.src,Jt),Jr(mt.fromDom(Dt),{src:R1(t)?R(Jt):Jt,"data-mce-src":an})},Ae=()=>(i||(i=hv(t,h)),ct().then(A(Dt=>{const Jt=Ve(Dt,an=>an.blobInfo);return i.upload(Jt,dv(t)).then(A(an=>{const Bn=[];let un=!1;const Wt=Ve(an,(Kt,Nn)=>{const{blobInfo:vo,image:Ao}=Dt[Nn];let ir=!1;return Kt.status&&yS(t)?(Kt.url&&!go(Ao.src,Kt.url)&&(un=!0),r.removeByUri(Ao.src),Hh(t)||Te(Ao,Kt.url)):Kt.error&&(Kt.error.remove&&(ge(Ao.src,Hn.transparentSrc),Bn.push(Ao),ir=!0),iI(t,Kt.error.message)),{element:Ao,status:Kt.status,uploadUri:Kt.url,blobInfo:vo,removed:ir}});return Bn.length>0&&!Hh(t)?t.undoManager.transact(()=>{Oe(Bn,Kt=>{t.dom.remove(Kt),r.removeByUri(Kt.src)})}):un&&t.undoManager.dispatchChange(),Wt}))}))),nt=()=>_0(t)?Ae():Promise.resolve([]),st=Dt=>fn(y,Jt=>Jt(Dt)),Ge=Dt=>{y.push(Dt)},ct=()=>(u||(u=rE(h,r)),u.findAll(t.getBody(),st).then(A(Dt=>{const Jt=Ee(Dt,an=>P(an)?(GA(t,an),!1):!0);return Hh(t)||Oe(Jt,an=>{ge(an.image.src,an.blobInfo.blobUri()),an.image.src=an.blobInfo.blobUri(),an.image.removeAttribute("data-mce-src")}),Jt}))),ht=()=>{r.destroy(),h.destroy(),u=i=null},Et=Dt=>Dt.replace(/src="(blob:[^"]+)"/g,(Jt,an)=>{const Bn=h.getResultUri(an);if(Bn)return'src="'+Bn+'"';let un=r.getByUri(an);if(un||(un=Xe(t.editorManager.get(),(Wt,Kt)=>Wt||Kt.editorUpload&&Kt.editorUpload.blobCache.getByUri(an),void 0)),un){const Wt=un.blob();return'src="data:'+Wt.type+";base64,"+un.base64()+'"'}return Jt});return t.on("SetContent",()=>{_0(t)?nt():ct()}),t.on("RawSaveContent",Dt=>{Dt.content=Et(Dt.content)}),t.on("GetContent",Dt=>{Dt.source_view||Dt.format==="raw"||Dt.format==="tree"||(Dt.content=Et(Dt.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",Dt=>{Oe(Dt,Jt=>{const an=Jt.attr("src");if(!an||r.getByUri(an))return;const Bn=h.getResultUri(an);Bn&&Jt.attr("src",Bn)})})}),{blobCache:r,addFilter:Ge,uploadImages:Ae,uploadImagesAuto:nt,scanForImages:ct,destroy:ht}},Ob=t=>{const r=t.dom,i=t.schema.type,u={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:h=>{r.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:h=>{r.setStyle(h,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const h={inline:"span",styles:{textDecoration:"line-through"},exact:!0},y={inline:"strike",remove:"all",preserve_attributes:["class","style"]},A={inline:"s",remove:"all",preserve_attributes:["class","style"]};return i!=="html4"?[A,h,y]:[h,A,y]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(h,y,A)=>no(h)&&h.hasAttribute("href"),onformat:(h,y,A)=>{nn.each(A,(R,H)=>{r.setAttrib(h,H,R)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":h=>{var y;return(y=h==null?void 0:h.customValue)!==null&&y!==void 0?y:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return nn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),h=>{u[h]={block:h,remove:"all"}}),u},pv={remove_similar:!0,inherit:!1},$m={selector:"td,th",...pv},JA={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...$m},tablecellverticalalign:{styles:{"vertical-align":"%value"},...$m},tablecellbordercolor:{styles:{borderColor:"%value"},...$m},tablecellclass:{classes:["%value"],...$m},tableclass:{selector:"table",classes:["%value"],...pv},tablecellborderstyle:{styles:{borderStyle:"%value"},...$m},tablecellborderwidth:{styles:{borderWidth:"%value"},...$m}},cI=Fe(JA),W6=t=>{const r={},i=A=>Q(A)?r[A]:r,u=A=>To(r,A),h=(A,R)=>{A&&(P(A)?(K(R)||(R=[R]),Oe(R,H=>{xe(H.deep)&&(H.deep=!gc(H)),xe(H.split)&&(H.split=!gc(H)||Ua(H)),xe(H.remove)&&gc(H)&&!Ua(H)&&(H.remove="none"),gc(H)&&Ua(H)&&(H.mixed=!0,H.block_expand=!0),P(H.classes)&&(H.classes=H.classes.split(/\s+/))}),r[A]=R):xn(A,(H,Y)=>{h(Y,H)}))},y=A=>(A&&r[A]&&delete r[A],r);return h(Ob(t)),h(cI()),h(nd(t)),{get:i,has:u,register:h,unregister:y}},cw=nn.each,$f=$s.DOM,QA=t=>Q(t)&&I(t),_b=(t,r)=>{const i=r&&r.schema||zu({}),u=(H,Y)=>{Y.classes.length>0&&$f.addClass(H,Y.classes.join(" ")),$f.setAttribs(H,Y.attrs)},h=H=>{const Y=P(H)?{name:H,classes:[],attrs:{}}:H,ge=$f.create(Y.name);return u(ge,Y),ge},y=(H,Y)=>{const ge=i.getElementRule(H.nodeName.toLowerCase()),Te=ge==null?void 0:ge.parentsRequired;return Te&&Te.length?Y&&He(Te,Y)?Y:Te[0]:!1},A=(H,Y,ge)=>{let Te;const Ae=Y[0],nt=QA(Ae)?Ae.name:void 0,st=y(H,nt);if(st)nt===st?(Te=Ae,Y=Y.slice(1)):Te=st;else if(Ae)Te=Ae,Y=Y.slice(1);else if(!ge)return H;const Ge=Te?h(Te):$f.create("div");Ge.appendChild(H),ge&&nn.each(ge,ht=>{const Et=h(ht);Ge.insertBefore(Et,H)});const ct=QA(Te)?Te.siblings:void 0;return A(Ge,Y,ct)},R=$f.create("div");if(t.length>0){const H=t[0],Y=h(H),ge=QA(H)?H.siblings:void 0;R.appendChild(A(Y,t.slice(1),ge))}return R},uI=t=>{t=nn.trim(t);let r="div";const i={name:r,classes:[],attrs:{},selector:t};return t!=="*"&&(r=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(u,h,y,A,R)=>{switch(h){case"#":i.attrs.id=y;break;case".":i.classes.push(y);break;case":":nn.inArray("checked disabled enabled read-only required".split(" "),y)!==-1&&(i.attrs[y]=y);break}if(A==="["){const H=R.match(/([\w\-]+)(?:\=\"([^\"]+))?/);H&&(i.attrs[H[1]]=H[2])}return""})),i.name=r||"div",i},fI=t=>P(t)?(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),nn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),r=>{const i=nn.map(r.split(/(?:~\+|~|\+)/),uI),u=i.pop();return i.length&&(u.siblings=i),u}).reverse()):[],dI=(t,r)=>{let i="",u=q_(t);if(u==="")return"";const h=Ae=>P(Ae)?Ae.replace(/%(\w+)/g,""):"",y=(Ae,nt)=>$f.getStyle(nt!=null?nt:t.getBody(),Ae,!0);if(P(r)){const Ae=t.formatter.get(r);if(!Ae)return"";r=Ae[0]}if("preview"in r){const Ae=r.preview;if(Ae===!1)return"";u=Ae||u}let A=r.block||r.inline||"span",R;const H=fI(r.selector);H.length>0?(H[0].name||(H[0].name=A),A=r.selector,R=_b(H,t)):R=_b([A],t);const Y=$f.select(A,R)[0]||R.firstChild;cw(r.styles,(Ae,nt)=>{const st=h(Ae);st&&$f.setStyle(Y,nt,st)}),cw(r.attributes,(Ae,nt)=>{const st=h(Ae);st&&$f.setAttrib(Y,nt,st)}),cw(r.classes,Ae=>{const nt=h(Ae);$f.hasClass(Y,nt)||$f.addClass(Y,nt)}),t.dispatch("PreviewFormats"),$f.setStyles(R,{position:"absolute",left:-65535}),t.getBody().appendChild(R);const ge=y("fontSize"),Te=/px$/.test(ge)?parseInt(ge,10):0;return cw(u.split(" "),Ae=>{let nt=y(Ae,Y);if(!(Ae==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(nt)&&(nt=y(Ae),im(nt).toLowerCase()==="#ffffff"))&&!(Ae==="color"&&im(nt).toLowerCase()==="#000000")){if(Ae==="font-size"&&/em|%$/.test(nt)){if(Te===0)return;nt=parseFloat(nt)/(/%$/.test(nt)?100:1)*Te+"px"}Ae==="border"&&nt&&(i+="padding:0 2px;"),i+=Ae+":"+nt+";"}}),t.dispatch("AfterPreviewFormats"),$f.remove(R),i},eT=t=>{t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(let r=1;r<=6;r++)t.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},q6=t=>{const r=W6(t),i=aa({});return eT(t),w9(t),Hh(t)||MG(i,t),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:(u,h,y)=>{VM(t,u,h,y)},remove:(u,h,y,A)=>{YK(t,u,h,y,A)},toggle:(u,h,y)=>{XK(t,u,h,y)},match:(u,h,y,A)=>WK(t,u,h,y,A),closest:u=>KK(t,u),matchAll:(u,h)=>qK(t,u,h),matchNode:(u,h,y,A)=>ZK(t,u,h,y,A),canApply:u=>GK(t,u),formatChanged:(u,h,y,A)=>JK(t,i,u,h,y,A),getCssText:re(dI,t)}},Z6=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},hI=(t,r,i)=>{const u=aa(!1),h=H=>{UA(r,!1,i),r.add({},H)};t.on("init",()=>{r.add()}),t.on("BeforeExecCommand",H=>{const Y=H.command;Z6(Y)||(NK(r,i),r.beforeChange())}),t.on("ExecCommand",H=>{const Y=H.command;Z6(Y)||h(H)}),t.on("ObjectResizeStart cut",()=>{r.beforeChange()}),t.on("SaveContent ObjectResized blur",h),t.on("dragend",h),t.on("keyup",H=>{const Y=H.keyCode;H.isDefaultPrevented()||((Y>=33&&Y<=36||Y>=37&&Y<=40||Y===45||H.ctrlKey)&&(h(),t.nodeChanged()),(Y===46||Y===8)&&t.nodeChanged(),u.get()&&r.typing&&!$6(VA(t),r.data[0])&&(t.isDirty()||t.setDirty(!0),t.dispatch("TypingUndo"),u.set(!1),t.nodeChanged()))}),t.on("keydown",H=>{const Y=H.keyCode;if(H.isDefaultPrevented())return;if(Y>=33&&Y<=36||Y>=37&&Y<=40||Y===45){r.typing&&h(H);return}const ge=H.ctrlKey&&!H.altKey||H.metaKey;(Y<16||Y>20)&&Y!==224&&Y!==91&&!r.typing&&!ge&&(r.beforeChange(),UA(r,!0,i),r.add({},H),u.set(!0))}),t.on("mousedown",H=>{r.typing&&h(H)});const y=H=>H.inputType==="insertReplacementText",A=H=>H.inputType==="insertText"&&H.data===null,R=H=>H.inputType==="insertFromPaste"||H.inputType==="insertFromDrop";t.on("input",H=>{H.inputType&&(y(H)||A(H)||R(H))&&h(H)}),t.on("AddUndo Undo Redo ClearUndos",H=>{H.isDefaultPrevented()||t.nodeChanged()})},pI=t=>{t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},Xp=t=>{const r=xh(),i=aa(0),u=aa(0),h={data:[],typing:!1,beforeChange:()=>{N6(t,i,r)},add:(y,A)=>jK(t,h,u,i,r,y,A),dispatchChange:()=>{t.setDirty(!0);const y=VA(t);y.bookmark=T0(t.selection),t.dispatch("change",{level:y,lastLevel:kn(h.data,u.get()).getOrUndefined()})},undo:()=>HM(t,h,i,u),redo:()=>jM(t,u,h.data),clear:()=>{P6(t,h,u)},reset:()=>{zM(t,h)},hasUndo:()=>F6(t,h,u),hasRedo:()=>zK(t,h,u),transact:y=>VK(t,h,i,y),ignore:y=>{UK(t,i,y)},extra:(y,A)=>{ud(t,h,u,y,A)}};return Hh(t)||hI(t,h,i),pI(t),h},gv=[9,27,yo.HOME,yo.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,yo.DOWN,yo.UP,yo.LEFT,yo.RIGHT].concat(Hn.browser.isFirefox()?[224]:[]),fd="data-mce-placeholder",gI=t=>t.type==="keydown"||t.type==="keyup",mI=t=>{const r=t.keyCode;return r===yo.BACKSPACE||r===yo.DELETE},zY=t=>{if(gI(t)){const r=t.keyCode;return!mI(t)&&(yo.metaKeyPressed(t)||t.altKey||r>=112&&r<=123||He(gv,r))}else return!1},VY=t=>gI(t)&&!(mI(t)||t.type==="keyup"&&t.keyCode===229),UY=(t,r,i)=>{if(va(mt.fromDom(r),!1)){const u=r.firstElementChild;return u?t.getStyle(r.firstElementChild,"padding-left")||t.getStyle(r.firstElementChild,"padding-right")?!1:i===u.nodeName.toLowerCase():!0}else return!1},WY=t=>{var r;const i=t.dom,u=hi(t),h=(r=FF(t))!==null&&r!==void 0?r:"",y=(A,R)=>{if(zY(A))return;const H=t.getBody(),Y=VY(A)?!1:UY(i,H,u);(i.getAttrib(H,fd)!==""!==Y||R)&&(i.setAttrib(H,fd,Y?h:null),i.setAttrib(H,"aria-placeholder",Y?h:null),k2(t,Y),t.on(Y?"keydown":"keyup",y),t.off(Y?"keyup":"keydown",y))};Tr(h)&&t.on("init",A=>{y(A,!0),t.on("change SetContent ExecCommand",y),t.on("paste",R=>Yn.setEditorTimeout(t,()=>y(R)))})},qY=(t,r)=>({block:t,position:r}),ZY=(t,r)=>({from:t,to:r}),G6=(t,r)=>{const i=mt.fromDom(t),u=mt.fromDom(r.container());return cA(i,u).map(h=>qY(h,r))},GY=t=>!gs(t.from.block,t.to.block),KY=t=>La(t.from.block).bind(r=>La(t.to.block).filter(i=>gs(r,i))).isSome(),YY=t=>Ei(t.from.block.dom)===!1&&Ei(t.to.block.dom)===!1,K6=(t,r,i)=>$i(i.position.getNode())&&!va(i.block)?V0(!1,i.block.dom).bind(u=>u.isEqual(i.position)?Bc(r,t,u).bind(h=>G6(t,h)):q.some(i)).getOr(i):i,Y6=(t,r,i)=>{const u=G6(t,Yt.fromRangeStart(i)),h=u.bind(y=>Bc(r,t,y.position).bind(A=>G6(t,A).map(R=>K6(t,r,R))));return ei(u,h,ZY).filter(y=>GY(y)&&KY(y)&&YY(y))},vI=(t,r,i)=>i.collapsed?Y6(t,r,i):q.none(),XY=t=>{const r=ga(t);return bn(r,Hu).fold(Fe(r),i=>r.slice(0,i))},bI=t=>{const r=XY(t);return Oe(r,ts),r},X6=(t,r)=>{const i=Sm(r,t);return qt(i.reverse(),u=>va(u)).each(ts)},yI=t=>Ee(yp(t),r=>!va(r)).length===0,J6=(t,r,i,u)=>{if(va(i))return X(i),ya(i.dom);yI(u)&&va(r)&&$r(u,mt.fromTag("br"));const h=Cu(i.dom,Yt.before(u.dom));return Oe(bI(r),y=>{$r(u,y)}),X6(t,r),h},wI=(t,r,i)=>{if(va(i))return ts(i),va(r)&&X(r),ya(r.dom);const u=Su(i.dom);return Oe(bI(r),h=>{Li(i,h)}),X6(t,r),u},CI=(t,r)=>{const i=Sm(r,t);return q.from(i[i.length-1])},Q6=(t,r)=>Ia(r,t)?CI(r,t):q.none(),SI=(t,r)=>{V0(t,r.dom).bind(i=>q.from(i.getNode())).map(mt.fromDom).filter(dh).each(ts)},xI=(t,r,i)=>(SI(!0,r),SI(!1,i),Q6(r,i).fold(re(wI,t,r,i),re(J6,t,r,i))),zh=(t,r,i,u)=>r?xI(t,u,i):xI(t,i,u),Df=(t,r)=>{const i=mt.fromDom(t.getBody());return vI(i.dom,r,t.selection.getRng()).map(h=>()=>{zh(i,r,h.from.block,h.to.block).each(y=>{t.selection.setRng(y.toRange())})})},tT=(t,r)=>{const i=r.getRng();return ei(cA(t,mt.fromDom(i.startContainer)),cA(t,mt.fromDom(i.endContainer)),(u,h)=>gs(u,h)?q.none():q.some(()=>{i.deleteContents(),zh(t,!0,u,h).each(y=>{r.setRng(y.toRange())})})).getOr(q.none())},e8=(t,r)=>{const i=mt.fromDom(r),u=re(gs,t);return Di(i,Fl,u).isSome()},nT=(t,r)=>e8(t,r.startContainer)||e8(t,r.endContainer),EI=(t,r)=>{const i=Cu(t.dom,Yt.fromRangeStart(r)).isNone(),u=hc(t.dom,Yt.fromRangeEnd(r)).isNone();return!nT(t,r)&&i&&u},kI=t=>q.some(()=>{t.setContent(""),t.selection.setCursorLocation()}),AI=t=>{const r=mt.fromDom(t.getBody()),i=t.selection.getRng();return EI(r,i)?kI(t):tT(r,t.selection)},oT=(t,r)=>t.selection.isCollapsed()?q.none():AI(t),Jp=(t,r,i,u,h)=>q.from(r._selectionOverrides.showCaret(t,i,u,h)),TI=t=>{const r=t.ownerDocument.createRange();return r.selectNode(t),r},mv=(t,r)=>t.dispatch("BeforeObjectSelected",{target:r}).isDefaultPrevented()?q.none():q.some(TI(r)),t8=(t,r,i)=>{const u=L1(1,t.getBody(),r),h=Yt.fromRangeStart(u),y=h.getNode();if(F0(y))return Jp(1,t,y,!h.isAtEnd(),!1);const A=h.getNode(!0);if(F0(A))return Jp(1,t,A,!1,!1);const R=xm(t.dom.getRoot(),h.getNode());return F0(R)?Jp(1,t,R,!1,i):q.none()},n8=(t,r,i)=>r.collapsed?t8(t,r,i).getOr(r):r,JY=t=>sv(t)||xx(t),QY=t=>iv(t)||Ex(t),eX=(t,r)=>{yn(r)&&r.data.length===0&&t.remove(r)},o8=(t,r,i,u,h,y)=>{Jp(u,t,y.getNode(!h),h,!0).each(A=>{if(r.collapsed){const R=r.cloneRange();h?R.setEnd(A.startContainer,A.startOffset):R.setStart(A.endContainer,A.endOffset),R.deleteContents()}else r.deleteContents();t.selection.setRng(A)}),eX(t.dom,i)},tX=(t,r)=>{const i=t.selection.getRng();if(!yn(i.commonAncestorContainer))return q.none();const u=r?Ji.Forwards:Ji.Backwards,h=Rd(t.getBody()),y=re(Hl,r?h.next:h.prev),A=r?JY:QY,R=H0(u,t.getBody(),i),H=y(R),Y=H&&ld(r,H);if(!Y||!MS(R,Y))return q.none();if(A(Y))return q.some(()=>o8(t,i,R.getNode(),u,r,Y));const ge=y(Y);return ge&&A(ge)&&MS(Y,ge)?q.some(()=>o8(t,i,R.getNode(),u,r,ge)):q.none()},r8=(t,r)=>tX(t,r),sE=(t,r)=>{const i=t.getBody();return r?ya(i).filter(sv):Su(i).filter(iv)},s8=t=>{const r=t.selection.getRng();return!r.collapsed&&(sE(t,!0).exists(i=>i.isEqual(Yt.fromRangeStart(r)))||sE(t,!1).exists(i=>i.isEqual(Yt.fromRangeEnd(r))))},nX=t=>Q(t)&&(Fl(mt.fromDom(t))||Oc(mt.fromDom(t))),Bf=Pd.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),oX=(t,r)=>{const i=r.getNode(!t),u=t?"after":"before";return no(i)&&i.getAttribute("data-mce-caret")===u},rX=(t,r,i,u)=>{const h=y=>Tp(mt.fromDom(y))&&!Uu(i,u,t);return uk(!r,i).fold(()=>uk(r,u).fold(Ce,h),h)},OI=(t,r,i,u)=>{const h=u.getNode(!r);return cA(mt.fromDom(t),mt.fromDom(i.getNode())).map(y=>va(y)?Bf.remove(y.dom):Bf.moveToElement(h)).orThunk(()=>q.some(Bf.moveToElement(h)))},_I=(t,r,i)=>Bc(r,t,i).bind(u=>nX(u.getNode())||rX(t,r,i,u)?q.none():r&&Ei(u.getNode())||!r&&Ei(u.getNode(!0))?OI(t,r,i,u):r&&iv(i)||!r&&sv(i)?q.some(Bf.moveToPosition(u)):q.none()),rT=(t,r)=>se(r)?q.none():t&&Ei(r.nextSibling)?q.some(Bf.moveToElement(r.nextSibling)):!t&&Ei(r.previousSibling)?q.some(Bf.moveToElement(r.previousSibling)):q.none(),i8=(t,r,i)=>i.fold(u=>q.some(Bf.remove(u)),u=>q.some(Bf.moveToElement(u)),u=>Uu(r,u,t)?q.none():q.some(Bf.moveToPosition(u))),sX=(t,r,i)=>oX(r,i)?rT(r,i.getNode(!r)).orThunk(()=>_I(t,r,i)):_I(t,r,i).bind(u=>i8(t,i,u)),iX=(t,r,i)=>{const u=L1(r?1:-1,t,i),h=Yt.fromRangeStart(u),y=mt.fromDom(t);return!r&&iv(h)?q.some(Bf.remove(h.getNode(!0))):r&&sv(h)?q.some(Bf.remove(h.getNode())):!r&&sv(h)&&dD(y,h)?hD(y,h).map(A=>Bf.remove(A.getNode())):r&&iv(h)&&rA(y,h)?IZ(y,h).map(A=>Bf.remove(A.getNode())):sX(t,r,h)},aX=(t,r)=>i=>(t._selectionOverrides.hideFakeCaret(),db(t,r,mt.fromDom(i)),!0),lX=(t,r)=>i=>{const u=r?Yt.before(i):Yt.after(i);return t.selection.setRng(u.toRange()),!0},$I=t=>r=>(t.selection.setRng(r.toRange()),!0),DI=(t,r)=>q.from(xm(t.getBody(),r)),cX=(t,r)=>{const i=t.selection.getNode();return DI(t,i).filter(Ei).fold(()=>iX(t.getBody(),r,t.selection.getRng()).map(u=>()=>u.fold(aX(t,r),lX(t,r),$I(t))),()=>q.some(ve))},a8=t=>{Oe($t(t,".mce-offscreen-selection"),ts)},uX=(t,r)=>{const i=t.selection.getNode();return Ei(i)&&!ac(i)?DI(t,i.parentNode).filter(Ei).fold(()=>q.some(()=>{a8(mt.fromDom(t.getBody())),db(t,r,mt.fromDom(t.selection.getNode())),CD(t)}),()=>q.some(ve)):s8(t)?q.some(()=>{SD(t,t.selection.getRng(),mt.fromDom(t.getBody()))}):q.none()},BI=t=>{const r=t.dom,i=t.selection,u=xm(t.getBody(),i.getNode());if(gu(u)&&r.isBlock(u)&&r.isEmpty(u)){const h=r.create("br",{"data-mce-bogus":"1"});r.setHTML(u,""),u.appendChild(h),i.setRng(Yt.before(h).toRange())}return!0},l8=(t,r)=>t.selection.isCollapsed()?cX(t,r):uX(t,r),fX=(t,r)=>{const i=Yt.fromRangeStart(t.selection.getRng());return Bc(r,t.getBody(),i).filter(u=>r?aR(u):NZ(u)).bind(u=>RS(r?0:-1,u)).map(u=>()=>t.selection.select(u))},c8=(t,r)=>t.selection.isCollapsed()?fX(t,r):q.none(),uw=yn,NI=t=>uw(t)&&t.data[0]===$e,iE=t=>uw(t)&&t.data[t.data.length-1]===$e,aE=t=>{var r;return((r=t.ownerDocument)!==null&&r!==void 0?r:document).createTextNode($e)},dX=t=>{var r;if(uw(t.previousSibling))return iE(t.previousSibling)||t.previousSibling.appendData($e),t.previousSibling;if(uw(t))return NI(t)||t.insertData(0,$e),t;{const i=aE(t);return(r=t.parentNode)===null||r===void 0||r.insertBefore(i,t),i}},hX=t=>{var r,i;if(uw(t.nextSibling))return NI(t.nextSibling)||t.nextSibling.insertData(0,$e),t.nextSibling;if(uw(t))return iE(t)||t.appendData($e),t;{const u=aE(t);return t.nextSibling?(r=t.parentNode)===null||r===void 0||r.insertBefore(u,t.nextSibling):(i=t.parentNode)===null||i===void 0||i.appendChild(u),u}},$b=(t,r)=>t?dX(r):hX(r),pX=re($b,!0),gX=re($b,!1),PI=(t,r)=>yn(t.container())?$b(r,t.container()):$b(r,t.getNode()),FI=(t,r)=>{const i=r.get();return i&&t.container()===i&&ur(i)},u8=(t,r)=>r.fold(i=>{Bh(t.get());const u=pX(i);return t.set(u),q.some(Yt(u,u.length-1))},i=>ya(i).map(u=>{if(FI(u,t)){const h=t.get();return Yt(h,1)}else{Bh(t.get());const h=PI(u,!0);return t.set(h),Yt(h,1)}}),i=>Su(i).map(u=>{if(FI(u,t)){const h=t.get();return Yt(h,h.length-1)}else{Bh(t.get());const h=PI(u,!1);return t.set(h),Yt(h,h.length-1)}}),i=>{Bh(t.get());const u=gX(i);return t.set(u),q.some(Yt(u,1))}),RI=(t,r)=>{for(let i=0;i<t.length;i++){const u=t[i].apply(null,r);if(u.isSome())return u}return q.none()},ru=Pd.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),MI=(t,r)=>{const i=od(r,t);return i||t},mX=(t,r,i)=>{const u=DR(i),h=MI(r,u.container());return av(t,h,u).fold(()=>hc(h,u).bind(re(av,t,h)).map(y=>ru.before(y)),q.none)},vX=(t,r)=>V1(t,r)===null,II=(t,r,i)=>av(t,r,i).filter(re(vX,r)),dpe=(t,r,i)=>{const u=BR(i);return II(t,r,u).bind(h=>Cu(h,u).isNone()?q.some(ru.start(h)):q.none())},Ud=(t,r,i)=>{const u=DR(i);return II(t,r,u).bind(h=>hc(h,u).isNone()?q.some(ru.end(h)):q.none())},f8=(t,r,i)=>{const u=BR(i),h=MI(r,u.container());return av(t,h,u).fold(()=>Cu(h,u).bind(re(av,t,h)).map(y=>ru.after(y)),q.none)},d8=t=>!QZ(h8(t)),Vh=(t,r,i)=>RI([mX,dpe,Ud,f8],[t,r,i]).filter(d8),h8=t=>t.fold(De,De,De,De),p8=t=>t.fold(Fe("before"),Fe("start"),Fe("end"),Fe("after")),sT=t=>t.fold(ru.before,ru.before,ru.after,ru.after),iT=t=>t.fold(ru.start,ru.start,ru.end,ru.end),bX=(t,r)=>p8(t)===p8(r)&&h8(t)===h8(r),yX=(t,r,i,u,h,y)=>ei(av(r,i,u),av(r,i,h),(A,R)=>A!==R&&yD(i,A,R)?ru.after(t?A:R):y).getOr(y),wX=(t,r)=>t.fold(me,i=>!bX(i,r)),fw=(t,r,i,u,h)=>{const y=ld(t,h);return Bc(t,i,y).map(re(ld,t)).fold(()=>u.map(sT),H=>Vh(r,i,H).map(re(yX,t,r,i,y,H)).filter(re(wX,u))).filter(d8)},LI=(t,r)=>t?r.fold(qe(q.some,ru.start),q.none,qe(q.some,ru.after),q.none):r.fold(q.none,qe(q.some,ru.before),q.none,qe(q.some,ru.end)),HI=(t,r,i,u)=>{const h=ld(t,u),y=Vh(r,i,h);return Vh(r,i,h).bind(re(LI,t)).orThunk(()=>fw(t,r,i,y,u))},jI=t=>G(t.selection.getSel().modify),aT=(t,r,i)=>{const u=t?1:-1;return r.setRng(Yt(i.container(),i.offset()+u).toRange()),r.getSel().modify("move",t?"forward":"backward","word"),!0},CX=(t,r)=>{const i=r.selection.getRng(),u=t?Yt.fromRangeEnd(i):Yt.fromRangeStart(i);return jI(r)?t&&Ml(u)?aT(!0,r.selection,u):!t&&Yc(u)?aT(!1,r.selection,u):!1:!1};var Qp;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(Qp||(Qp={}));const lT=(t,r)=>t===Ji.Backwards?oo(r):r,hpe=(t,r,i)=>t===Ji.Forwards?r.next(i):r.prev(i),ppe=(t,r,i,u)=>$i(u.getNode(r===Ji.Forwards))?Qp.Br:Uu(i,u)===!1?Qp.Block:Qp.Wrap,SX=(t,r,i,u)=>{const h=Rd(i);let y=u;const A=[];for(;y;){const R=hpe(r,h,y);if(!R)break;if($i(R.getNode(!1)))return r===Ji.Forwards?{positions:lT(r,A).concat([R]),breakType:Qp.Br,breakAt:q.some(R)}:{positions:lT(r,A),breakType:Qp.Br,breakAt:q.some(R)};if(!R.isVisible()){y=R;continue}if(t(y,R)){const H=ppe(i,r,y,R);return{positions:lT(r,A),breakType:H,breakAt:q.some(R)}}A.push(R),y=R}return{positions:lT(r,A),breakType:Qp.Eol,breakAt:q.none()}},dd=(t,r,i,u)=>r(i,u).breakAt.map(h=>{const y=r(i,h).positions;return t===Ji.Backwards?y.concat(h):[h].concat(y)}).getOr([]),g8=(t,r)=>Xe(t,(i,u)=>i.fold(()=>q.some(u),h=>ei(Pn(h.getClientRects()),Pn(u.getClientRects()),(y,A)=>{const R=Math.abs(r-y.left);return Math.abs(r-A.left)<=R?u:h}).or(i)),q.none()),cT=(t,r)=>Pn(r.getClientRects()).bind(i=>g8(t,i.left)),dw=re(SX,Yt.isAbove,-1),Db=re(SX,Yt.isBelow,1),xX=re(dd,-1,dw),EX=re(dd,1,Db),gpe=(t,r)=>dw(t,r).breakAt.isNone(),hd=(t,r)=>Db(t,r).breakAt.isNone(),kX=t=>ya(t).map(r=>[r].concat(Db(t,r).positions)).getOr([]),AX=t=>Su(t).map(r=>dw(t,r).positions.concat(r)).getOr([]),TX=(t,r)=>cT(xX(t,r),r),OX=(t,r)=>cT(EX(t,r),r),_X=Ei,zI=(t,r)=>Math.abs(t.left-r),vv=(t,r)=>Math.abs(t.right-r),$X=t=>Es(t,"node"),VI=(t,r)=>Pt(t,(i,u)=>{const h=Math.min(zI(i,r),vv(i,r)),y=Math.min(zI(u,r),vv(u,r));return y===h&&$X(u)&&_X(u.node)||y<h?u:i}),DX=t=>{const r=i=>Ve(i,u=>{const h=yu(u);return h.node=t,h});if(no(t))return r(t.getClientRects());if(yn(t)){const i=t.ownerDocument.createRange();return i.setStart(t,0),i.setEnd(t,t.data.length),r(i.getClientRects())}else return[]},uT=t=>zn(t,DX);var Bb;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(Bb||(Bb={}));const UI=(t,r,i,u)=>{let h=u;for(;h=I1(h,t,_d,r);)if(i(h))return},m8=(t,r,i,u,h,y)=>{let A=0;const R=[],H=Te=>{let Ae=uT([Te]);t===-1&&(Ae=Ae.reverse());for(let nt=0;nt<Ae.length;nt++){const st=Ae[nt];if(!i(st,Y)){if(R.length>0&&r(st,to(R))&&A++,st.line=A,h(st))return!0;R.push(st)}}return!1},Y=to(y.getClientRects());if(!Y)return R;const ge=y.getNode();return ge&&(H(ge),UI(t,u,H,ge)),R},WI=(t,r)=>r.line>t,BX=(t,r)=>r.line===t,lE=re(m8,Bb.Up,w0,Yl),NX=re(m8,Bb.Down,Yl,w0),qI=t=>to(t.getClientRects()),PX=(t,r,i,u)=>{const h=Rd(r);let y,A,R,H;const Y=[];let ge=0;t===1?(y=h.next,A=Yl,R=w0,H=Yt.after(u)):(y=h.prev,A=w0,R=Yl,H=Yt.before(u));const Te=qI(H);do{if(!H.isVisible())continue;const Ae=qI(H);if(R(Ae,Te))continue;Y.length>0&&A(Ae,to(Y))&&ge++;const nt=yu(Ae);if(nt.position=H,nt.line=ge,i(nt))return Y;Y.push(nt)}while(H=y(H));return Y},ZI=t=>r=>WI(t,r),v8=t=>r=>BX(t,r),Dm=(t,r)=>{t.selection.setRng(r),lb(t,t.selection.getRng())},b8=(t,r,i)=>q.some(n8(t,r,i)),y8=(t,r,i,u,h,y)=>{const A=r===Ji.Forwards,R=Rd(t.getBody()),H=re(Hl,A?R.next:R.prev),Y=A?u:h;if(!i.collapsed){const st=C0(i);if(y(st))return Jp(r,t,st,r===Ji.Backwards,!1);if(s8(t)){const Ge=i.cloneRange();return Ge.collapse(r===Ji.Backwards),q.from(Ge)}}const ge=H0(r,t.getBody(),i);if(Y(ge))return mv(t,ge.getNode(!A));let Te=H(ge);const Ae=mh(i);if(Te)Te=ld(A,Te);else return Ae?q.some(i):q.none();if(Y(Te))return Jp(r,t,Te.getNode(!A),A,!1);const nt=H(Te);return nt&&Y(nt)&&MS(Te,nt)?Jp(r,t,nt.getNode(!A),A,!1):Ae?b8(t,Te.toRange(),!1):q.none()},GI=(t,r,i,u,h,y)=>{const A=H0(r,t.getBody(),i),R=to(A.getClientRects()),H=r===Bb.Down,Y=t.getBody();if(!R)return q.none();if(s8(t)){const ct=H?Yt.fromRangeEnd(i):Yt.fromRangeStart(i);return(H?OX:TX)(Y,ct).orThunk(()=>q.from(ct)).map(Et=>Et.toRange())}const Te=(H?NX:lE)(Y,ZI(1),A),Ae=Ee(Te,v8(1)),nt=R.left,st=VI(Ae,nt);if(st&&y(st.node)){const ct=Math.abs(nt-st.left),ht=Math.abs(nt-st.right);return Jp(r,t,st.node,ct<ht,!1)}let Ge;if(u(A)?Ge=A.getNode():h(A)?Ge=A.getNode(!0):Ge=C0(i),Ge){const ct=PX(r,Y,ZI(1),Ge);let ht=VI(Ee(ct,v8(1)),nt);if(ht||(ht=to(Ee(ct,v8(0))),ht))return b8(t,ht.position.toRange(),!1)}return Ae.length===0?fT(t,H).filter(H?h:u).map(ct=>n8(t,ct.toRange(),!1)):q.none()},fT=(t,r)=>{const i=t.selection.getRng(),u=r?Yt.fromRangeEnd(i):Yt.fromRangeStart(i),h=MF(u.container(),t.getBody());if(r){const y=Db(h,u);return $n(y.positions)}else{const y=dw(h,u);return Pn(y.positions)}},w8=(t,r,i)=>fT(t,r).filter(i).exists(u=>(t.selection.setRng(u.toRange()),!0)),Nb=(t,r)=>{const i=t.dom.createRng();i.setStart(r.container(),r.offset()),i.setEnd(r.container(),r.offset()),t.selection.setRng(i)},C8=(t,r)=>{t?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},dT=(t,r,i)=>u8(r,i).map(u=>(Nb(t,u),i)),hw=(t,r,i)=>{const u=Yt.fromRangeStart(t);if(t.collapsed)return u;{const h=Yt.fromRangeEnd(t);return i?Cu(r,h).getOr(h):hc(r,u).getOr(u)}},KI=(t,r,i)=>{const u=t.getBody(),h=hw(t.selection.getRng(),u,i),y=re(hb,t);return HI(i,y,u,h).bind(R=>dT(t,r,R))},S8=(t,r,i)=>{const u=Ve($t(mt.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),A=>A.dom),h=Ee(u,t),y=Ee(i,t);Oe(ft(h,y),re(C8,!1)),Oe(ft(y,h),re(C8,!0))},FX=(t,r)=>{const i=r.get();if(t.selection.isCollapsed()&&!t.composing&&i){const u=Yt.fromRangeStart(t.selection.getRng());Yt.isTextPosition(u)&&!wD(u)&&(Nb(t,Dh(i,u)),r.set(null))}},YI=(t,r,i,u)=>{if(r.selection.isCollapsed()){const h=Ee(u,t);Oe(h,y=>{const A=Yt.fromRangeStart(r.selection.getRng());Vh(t,r.getBody(),A).bind(R=>dT(r,i,R))})}},XI=(t,r,i)=>Xg(t)?KI(t,r,i).isSome():!1,JI=(t,r,i)=>Xg(r)?CX(t,r):!1,RX=t=>{const r=aa(null),i=re(hb,t);return t.on("NodeChange",u=>{Xg(t)&&(S8(i,t.dom,u.parents),FX(t,r),YI(i,t,r,u.parents))}),r},MX=re(JI,!0),IX=re(JI,!1),cE=(t,r,i)=>{if(Xg(t)){const u=fT(t,r).getOrThunk(()=>{const h=t.selection.getRng();return r?Yt.fromRangeEnd(h):Yt.fromRangeStart(h)});return Vh(re(hb,t),t.getBody(),u).exists(h=>{const y=sT(h);return u8(i,y).exists(A=>(Nb(t,A),!0))})}else return!1},LX=(t,r)=>{const i=document.createRange();return i.setStart(t.container(),t.offset()),i.setEnd(r.container(),r.offset()),i},HX=t=>ei(ya(t),Su(t),(r,i)=>{const u=ld(!0,r),h=ld(!1,i);return hc(t,u).forall(y=>y.isEqual(h))}).getOr(!0),Pb=(t,r)=>i=>u8(r,i).map(u=>()=>Nb(t,u)),hT=(t,r,i,u)=>{const h=t.getBody(),y=re(hb,t);t.undoManager.ignore(()=>{t.selection.setRng(LX(i,u)),PR(t),Vh(y,h,Yt.fromRangeStart(t.selection.getRng())).map(iT).bind(Pb(t,r)).each(Be)}),t.nodeChanged()},QI=(t,r)=>{const i=od(r,t);return i||t},eL=(t,r,i,u)=>{const h=QI(t.getBody(),u.container()),y=re(hb,t),A=Vh(y,h,u);return A.bind(H=>i?H.fold(Fe(q.some(iT(H))),q.none,Fe(q.some(sT(H))),q.none):H.fold(q.none,Fe(q.some(sT(H))),q.none,Fe(q.some(iT(H))))).map(Pb(t,r)).getOrThunk(()=>{const H=z0(i,h,u),Y=H.bind(ge=>Vh(y,h,ge));return ei(A,Y,()=>av(y,h,u).bind(ge=>HX(ge)?q.some(()=>{db(t,i,mt.fromDom(ge))}):q.none())).getOrThunk(()=>Y.bind(()=>H.map(ge=>()=>{i?hT(t,r,u,ge):hT(t,r,ge,u)})))})},uE=(t,r,i)=>{if(t.selection.isCollapsed()&&Xg(t)){const u=Yt.fromRangeStart(t.selection.getRng());return eL(t,r,i,u)}return q.none()},jX=(t,r)=>{const i=Sm(r,t);return bn(i,Hu).fold(Fe(i),u=>i.slice(0,u))},zX=t=>Wf(t)===1,VX=(t,r,i,u)=>{const h=re(TG,r),y=Ve(Ee(u,h),A=>A.dom);if(y.length===0)db(r,t,i);else{const A=AG(i.dom,y);r.selection.setRng(A.toRange())}},UX=(t,r)=>{const i=mt.fromDom(t.getBody()),u=mt.fromDom(t.selection.getStart()),h=Ee(jX(i,u),zX);return $n(h).bind(y=>{const A=Yt.fromRangeStart(t.selection.getRng());return pb(r,A,y.dom)&&!_A(y)?q.some(()=>VX(r,t,y,h)):q.none()})},x8=(t,r)=>t.selection.isCollapsed()?UX(t,r):q.none(),E8=(t,r,i)=>Q(i)?q.some(()=>{t._selectionOverrides.hideFakeCaret(),db(t,r,mt.fromDom(i))}):q.none(),WX=(t,r)=>{const i=r?xx:Ex,u=r?Ji.Forwards:Ji.Backwards,h=H0(u,t.getBody(),t.selection.getRng());return i(h)?E8(t,r,h.getNode(!r)):q.from(ld(r,h)).filter(y=>i(y)&&MS(h,y)).bind(y=>E8(t,r,y.getNode(!r)))},tL=(t,r)=>{const i=t.selection.getNode();return ia(i)?E8(t,r,i):q.none()},k8=(t,r)=>t.selection.isCollapsed()?WX(t,r):tL(t,r),qX=t=>Lu(t,r=>gu(r.dom)||Ei(r.dom)).exists(r=>gu(r.dom)),Au=t=>Ls(t!=null?t:"").getOr(0),nL=(t,r)=>{const i=t||Zi(r)?"margin":"padding",u=At(r,"direction")==="rtl"?"-right":"-left";return i+u},A8=(t,r,i,u,h,y)=>{const A=nL(i,mt.fromDom(y)),R=Au(t.getStyle(y,A));if(r==="outdent"){const H=Math.max(0,R-u);t.setStyle(y,A,H?H+h:"")}else{const H=R+u+h;t.setStyle(y,A,H)}},oL=(t,r)=>fn(r,i=>{const u=nL(H3(t),i),h=Lo(i,u).map(Au).getOr(0);return t.dom.getContentEditable(i.dom)!=="false"&&h>0}),pT=t=>{const r=sL(t);return!t.mode.isReadOnly()&&(r.length>1||oL(t,r))},rL=t=>r0(t)||Oc(t),ZX=t=>La(t).exists(rL),sL=t=>Ee(s1(t.selection.getSelectedBlocks()),r=>!rL(r)&&!ZX(r)&&qX(r)),iL=(t,r)=>{var i,u;const{dom:h}=t,y=j3(t),A=(u=(i=/[a-z%]+$/i.exec(y))===null||i===void 0?void 0:i[0])!==null&&u!==void 0?u:"px",R=Au(y),H=H3(t);Oe(sL(t),Y=>{A8(h,r,H,R,A,Y.dom)})},GX=t=>iL(t,"indent"),T8=t=>iL(t,"outdent"),aL=t=>{if(t.selection.isCollapsed()&&pT(t)){const r=t.dom,i=t.selection.getRng(),u=Yt.fromRangeStart(i),h=r.getParent(i.startContainer,r.isBlock);if(h!==null&&fD(mt.fromDom(h),u))return q.some(()=>T8(t))}return q.none()},lL=(t,r,i)=>mr([aL,l8,r8,(u,h)=>uE(u,r,h),Df,Nx,c8,k8,oT,x8],u=>u(t,i)),mpe=(t,r)=>{lL(t,r,!1).fold(()=>{PR(t),CD(t)},Be)},KX=(t,r)=>{lL(t,r,!0).fold(()=>nG(t),Be)},YX=(t,r)=>{t.addCommand("delete",()=>{mpe(t,r)}),t.addCommand("forwardDelete",()=>{KX(t,r)})},O8=5,cL=400,XX=t=>t.touches===void 0||t.touches.length!==1?q.none():q.some(t.touches[0]),JX=(t,r)=>{const i=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return i>O8||u>O8},QX=t=>{const r=xh(),i=aa(!1),u=nS(h=>{t.dispatch("longpress",{...h,type:"longpress"}),i.set(!0)},cL);t.on("touchstart",h=>{XX(h).each(y=>{u.cancel();const A={x:y.clientX,y:y.clientY,target:h.target};u.throttle(h),i.set(!1),r.set(A)})},!0),t.on("touchmove",h=>{u.cancel(),XX(h).each(y=>{r.on(A=>{JX(y,A)&&(r.clear(),i.set(!1),t.dispatch("longpresscancel"))})})},!0),t.on("touchend touchcancel",h=>{u.cancel(),h.type!=="touchcancel"&&r.get().filter(y=>y.target.isEqualNode(h.target)).each(()=>{i.get()?h.preventDefault():t.dispatch("tap",{...h,type:"tap"})})},!0)},_8=(t,r)=>To(t,r.nodeName),$8=(t,r)=>yn(r)?!0:no(r)?!_8(t,r)&&!Ql(r):!1,gT=(t,r,i)=>Re(uR(mt.fromDom(i),mt.fromDom(r)),u=>_8(t,u.dom)),uL=(t,r)=>{if(yn(r)){if(r.data.length===0)return!0;if(/^\s+$/.test(r.data)&&(!r.nextSibling||_8(t,r.nextSibling)))return!0}return!1},D8=t=>t.dom.create(hi(t),Ll(t)),eJ=t=>{const r=t.dom,i=t.selection,u=t.schema,h=u.getBlockElements(),y=i.getStart(),A=t.getBody();let R,H,Y=!1;const ge=hi(t);if(!y||!no(y))return;const Te=A.nodeName.toLowerCase();if(!u.isValidChild(Te,ge.toLowerCase())||gT(h,A,y))return;const Ae=i.getRng(),{startContainer:nt,startOffset:st,endContainer:Ge,endOffset:ct}=Ae,ht=wm(t);let Et=A.firstChild;for(;Et;)if($8(h,Et)){if(uL(h,Et)){H=Et,Et=Et.nextSibling,r.remove(H);continue}R||(R=D8(t),A.insertBefore(R,Et),Y=!0),H=Et,Et=Et.nextSibling,R.appendChild(H)}else R=null,Et=Et.nextSibling;Y&&ht&&(Ae.setStart(nt,st),Ae.setEnd(Ge,ct),i.setRng(Ae),t.nodeChanged())},fL=(t,r,i)=>{const u=mt.fromDom(D8(t)),h=W();Li(u,h),i(r,u);const y=document.createRange();return y.setStartBefore(h.dom),y.setEndBefore(h.dom),y},B8=t=>{t.on("NodeChange",re(eJ,t))},dL=t=>r=>(" "+r.attr("class")+" ").indexOf(t)!==-1,tJ=(t,r,i)=>function(u){const h=arguments,y=h[h.length-2],A=y>0?r.charAt(y-1):"";if(A==='"')return u;if(A===">"){const R=r.lastIndexOf("<",y);if(R!==-1&&r.substring(R,y).indexOf('contenteditable="false"')!==-1)return u}return'<span class="'+i+'" data-mce-content="'+t.dom.encode(h[0])+'">'+t.dom.encode(typeof h[1]=="string"?h[1]:h[0])+"</span>"},nJ=(t,r,i)=>{let u=r.length,h=i.content;if(i.format!=="raw"){for(;u--;)h=h.replace(r[u],tJ(t,h,ok(t)));i.content=h}},oJ=t=>{const r="contenteditable",i=" "+nn.trim(e$(t))+" ",u=" "+nn.trim(ok(t))+" ",h=dL(i),y=dL(u),A=rk(t);A.length>0&&t.on("BeforeSetContent",R=>{nJ(t,A,R)}),t.parser.addAttributeFilter("class",R=>{let H=R.length;for(;H--;){const Y=R[H];h(Y)?Y.attr(r,"true"):y(Y)&&Y.attr(r,"false")}}),t.serializer.addAttributeFilter(r,R=>{let H=R.length;for(;H--;){const Y=R[H];!h(Y)&&!y(Y)||(A.length>0&&Y.attr("data-mce-content")?(Y.name="#text",Y.type=3,Y.raw=!0,Y.value=Y.attr("data-mce-content")):Y.attr(r,null))}})},Wd=t=>Ad(mt.fromDom(t.getBody()),"*[data-mce-caret]").map(r=>r.dom).getOrNull(),N8=(t,r)=>{r.hasAttribute("data-mce-caret")&&(wf(r),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(r))},hL=(t,r)=>{const i=Wd(t);if(!!i){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),N8(t,i);return}ds(i)&&(N8(t,i),t.undoManager.add())}},vpe=t=>{t.on("keyup compositionstart",re(hL,t))},rJ=Ei,bpe=(t,r,i)=>y8(r,t,i,sv,iv,rJ),ype=(t,r,i)=>GI(r,t,i,y=>sv(y)||lR(y),y=>iv(y)||cR(y),rJ),sJ=t=>{const r=t.dom.create(hi(t));return r.innerHTML='<br data-mce-bogus="1">',r},pL=(t,r,i)=>{const u=Rd(t.getBody()),h=re(Hl,r===1?u.next:u.prev);if(i.collapsed){const y=t.dom.getParent(i.startContainer,"PRE");if(!y)return;if(!h(Yt.fromRangeStart(i))){const R=mt.fromDom(sJ(t));r===1?ni(mt.fromDom(y),R):$r(mt.fromDom(y),R),t.selection.select(R.dom,!0),t.selection.collapse()}}},P8=(t,r)=>{const i=r?Ji.Forwards:Ji.Backwards,u=t.selection.getRng();return bpe(i,t,u).orThunk(()=>(pL(t,i,u),q.none()))},iJ=(t,r)=>{const i=r?1:-1,u=t.selection.getRng();return ype(i,t,u).orThunk(()=>(pL(t,i,u),q.none()))},F8=(t,r)=>P8(t,r).exists(i=>(Dm(t,i),!0)),gL=(t,r)=>iJ(t,r).exists(i=>(Dm(t,i),!0)),mL=(t,r)=>w8(t,r,r?iv:sv),fE=(t,r)=>sE(t,!r).map(i=>{const u=i.toRange(),h=t.selection.getRng();return r?u.setStart(h.startContainer,h.startOffset):u.setEnd(h.endContainer,h.endOffset),u}).exists(i=>(Dm(t,i),!0)),vL=t=>He(["figcaption"],ko(t)),bL=(t,r)=>{const i=re(gs,r);return Lu(mt.fromDom(t.container()),Hu,i).filter(vL)},aJ=(t,r,i)=>r?hd(t.dom,i):gpe(t.dom,i),lJ=(t,r)=>{const i=mt.fromDom(t.getBody()),u=Yt.fromRangeStart(t.selection.getRng());return bL(u,i).exists(()=>{if(aJ(i,r,u)){const y=fL(t,i,r?Li:Ha);return t.selection.setRng(y),!0}else return!1})},dE=(t,r)=>t.selection.isCollapsed()?lJ(t,r):!1,yL={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},cJ=t=>Ve(t,r=>({...yL,...r})),uJ=t=>Ve(t,r=>({...yL,...r})),mT=(t,r)=>r.keyCode===t.keyCode&&r.shiftKey===t.shiftKey&&r.altKey===t.altKey&&r.ctrlKey===t.ctrlKey&&r.metaKey===t.metaKey,fJ=(t,r)=>zn(cJ(t),i=>mT(i,r)?[i]:[]),dJ=(t,r)=>zn(uJ(t),i=>mT(i,r)?[i]:[]),Br=(t,...r)=>()=>t.apply(null,r),hE=(t,r)=>qt(fJ(t,r),i=>i.action()),wL=(t,r)=>mr(dJ(t,r),i=>i.action()),CL=(t,r)=>{const i=r?Ji.Forwards:Ji.Backwards,u=t.selection.getRng();return y8(t,i,u,xx,Ex,ia).exists(h=>(Dm(t,h),!0))},SL=(t,r)=>{const i=r?1:-1,u=t.selection.getRng();return GI(t,i,u,xx,Ex,ia).exists(h=>(Dm(t,h),!0))},xL=(t,r)=>w8(t,r,r?Ex:xx),EL=Pd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),pE={...EL,none:t=>EL.none(t)},AL=(t,r)=>TL(t,r,me),TL=(t,r,i)=>zn(ga(t),u=>Ac(u,r)?i(u)?[u]:[]:TL(u,r,i)),hJ=(t,r,i=Ce)=>{if(i(r))return q.none();if(He(t,ko(r)))return q.some(r);const u=h=>Ac(h,"table")||i(h);return Bg(r,t.join(","),u)},pJ=(t,r)=>hJ(["td","th"],t,r),gJ=t=>AL(t,"th,td"),OL=(t,r)=>uh(t,"table",r),R8=(t,r,i,u,h=me)=>{const y=u===1;if(!y&&i<=0)return pE.first(t[0]);if(y&&i>=t.length-1)return pE.last(t[t.length-1]);{const A=i+u,R=t[A];return h(R)?pE.middle(r,R):R8(t,r,A,u,h)}},qa=(t,r)=>OL(t,r).bind(i=>{const u=gJ(i);return bn(u,y=>gs(t,y)).map(y=>({index:y,all:u}))}),mJ=(t,r,i)=>qa(t,i).fold(()=>pE.none(t),h=>R8(h.all,t,h.index,1,r)),vJ=(t,r,i)=>qa(t,i).fold(()=>pE.none(),h=>R8(h.all,t,h.index,-1,r)),bJ=t=>uh(t,"[contenteditable]"),M8=(t,r=!1)=>pu(t)?t.dom.isContentEditable:bJ(t).fold(Fe(r),i=>I8(i)==="true"),I8=t=>t.dom.contentEditable,yJ=(t,r)=>({left:t.left-r,top:t.top-r,right:t.right+r*2,bottom:t.bottom+r*2,width:t.width+r,height:t.height+r}),bv=(t,r)=>zn(r,i=>{const u=yJ(yu(i.getBoundingClientRect()),-1);return[{x:u.left,y:t(u),cell:i},{x:u.right,y:t(u),cell:i}]}),L8=(t,r,i)=>Xe(t,(u,h)=>u.fold(()=>q.some(h),y=>{const A=Math.sqrt(Math.abs(y.x-r)+Math.abs(y.y-i)),R=Math.sqrt(Math.abs(h.x-r)+Math.abs(h.y-i));return q.some(R<A?h:y)}),q.none()),H8=(t,r,i,u,h)=>{const y=$t(mt.fromDom(i),"td,th,caption").map(R=>R.dom),A=Ee(bv(t,y),R=>r(R,h));return L8(A,u,h).map(R=>R.cell)},j8=t=>t.bottom,z8=t=>t.top,V8=(t,r)=>t.y<r,_L=(t,r)=>t.y>r,vT=re(H8,j8,V8),bT=re(H8,z8,_L),gE=(t,r)=>Pn(r.getClientRects()).bind(i=>vT(t,i.left,i.top)).bind(i=>cT(AX(i),r)),mE=(t,r)=>$n(r.getClientRects()).bind(i=>bT(t,i.left,i.top)).bind(i=>cT(kX(i),r)),eg=(t,r,i)=>i.breakAt.exists(u=>t(r,u).breakAt.isSome()),vE=t=>t.breakType===Qp.Wrap&&t.positions.length===0,$L=t=>t.breakType===Qp.Br&&t.positions.length===1,U8=(t,r,i)=>{const u=t(r,i);return vE(u)||!$i(i.getNode())&&$L(u)?!eg(t,r,u):u.breakAt.isNone()},wJ=re(U8,dw),DL=re(U8,Db),CJ=(t,r,i)=>{const u=Yt.fromRangeStart(r);return V0(!t,i).exists(h=>h.isEqual(u))},SJ=(t,r,i,u)=>{const h=t.selection.getRng(),y=r?1:-1;return BS()&&CJ(r,h,i)?(Jp(y,t,i,!r,!1).each(A=>{Dm(t,A)}),!0):!1},BL=(t,r,i)=>gE(r,i).orThunk(()=>Pn(i.getClientRects()).bind(u=>g8(xX(t,Yt.before(r)),u.left))).getOr(Yt.before(r)),xJ=(t,r,i)=>mE(r,i).orThunk(()=>Pn(i.getClientRects()).bind(u=>g8(EX(t,Yt.after(r)),u.left))).getOr(Yt.after(r)),NL=(t,r)=>{const i=r.getNode(t);return vf(i)?q.some(i):q.none()},EJ=(t,r,i)=>{r.undoManager.transact(()=>{const u=t?ni:$r,h=fL(r,mt.fromDom(i),u);Dm(r,h)})},PL=(t,r,i)=>{const u=NL(!!r,i),h=r===!1;u.fold(()=>Dm(t,i.toRange()),y=>V0(h,t.getBody()).filter(A=>A.isEqual(i)).fold(()=>Dm(t,i.toRange()),A=>EJ(r,t,y)))},kJ=(t,r,i,u)=>{const h=t.selection.getRng(),y=Yt.fromRangeStart(h),A=t.getBody();if(!r&&wJ(u,y)){const R=BL(A,i,y);return PL(t,r,R),!0}else if(r&&DL(u,y)){const R=xJ(A,i,y);return PL(t,r,R),!0}else return!1},FL=(t,r,i)=>q.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(u=>q.from(t.dom.getParent(u,"table")).map(h=>i(t,r,h,u))).getOr(!1),RL=(t,r)=>FL(t,r,SJ),ML=(t,r)=>FL(t,r,kJ),AJ=t=>{const r=sb.exact(t,0,t,0);return dx(r)},IL=(t,r,i)=>i.fold(q.none,q.none,(u,h)=>yZ(h).map(y=>AJ(y)),u=>(t.execCommand("mceTableInsertRowAfter"),LL(t,r,u))),LL=(t,r,i)=>IL(t,r,mJ(i,M8)),TJ=(t,r,i)=>IL(t,r,vJ(i,M8)),HL=(t,r)=>{const i=["table","li","dl"],u=mt.fromDom(t.getBody()),h=R=>{const H=ko(R);return gs(R,u)||He(i,H)},y=t.selection.getRng(),A=mt.fromDom(r?y.endContainer:y.startContainer);return pJ(A,h).map(R=>(OL(R,h).each(ge=>{t.model.table.clearSelectedCells(ge.dom)}),t.selection.collapse(!r),(r?LL:TJ)(t,h,R).each(ge=>{t.selection.setRng(ge)}),!0)).getOr(!1)},jL=(t,r,i)=>{const u=Hn.os.isMacOS()||Hn.os.isiOS();hE([{keyCode:yo.RIGHT,action:Br(F8,t,!0)},{keyCode:yo.LEFT,action:Br(F8,t,!1)},{keyCode:yo.UP,action:Br(gL,t,!1)},{keyCode:yo.DOWN,action:Br(gL,t,!0)},...u?[{keyCode:yo.UP,action:Br(fE,t,!1),metaKey:!0,shiftKey:!0},{keyCode:yo.DOWN,action:Br(fE,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:yo.RIGHT,action:Br(RL,t,!0)},{keyCode:yo.LEFT,action:Br(RL,t,!1)},{keyCode:yo.UP,action:Br(ML,t,!1)},{keyCode:yo.DOWN,action:Br(ML,t,!0)},{keyCode:yo.RIGHT,action:Br(CL,t,!0)},{keyCode:yo.LEFT,action:Br(CL,t,!1)},{keyCode:yo.UP,action:Br(SL,t,!1)},{keyCode:yo.DOWN,action:Br(SL,t,!0)},{keyCode:yo.RIGHT,action:Br(XI,t,r,!0)},{keyCode:yo.LEFT,action:Br(XI,t,r,!1)},{keyCode:yo.RIGHT,ctrlKey:!u,altKey:u,action:Br(MX,t,r)},{keyCode:yo.LEFT,ctrlKey:!u,altKey:u,action:Br(IX,t,r)},{keyCode:yo.UP,action:Br(dE,t,!1)},{keyCode:yo.DOWN,action:Br(dE,t,!0)}],i).each(h=>{i.preventDefault()})},zL=(t,r)=>{t.on("keydown",i=>{i.isDefaultPrevented()||jL(t,r,i)})},qd=(t,r)=>({container:t,offset:r}),yT=$s.DOM,wT=t=>r=>t===r?-1:0,OJ=t=>r=>t.isBlock(r)||He(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false",W8=(t,r,i)=>{if(yn(t)&&r>=0)return q.some(qd(t,r));{const u=fi(yT);return q.from(u.backwards(t,r,wT(t),i)).map(h=>qd(h.container,h.container.data.length))}},VL=(t,r,i)=>{if(yn(t)&&r>=t.length)return q.some(qd(t,r));{const u=fi(yT);return q.from(u.forwards(t,r,wT(t),i)).map(h=>qd(h.container,0))}},q8=(t,r,i)=>{if(!yn(t))return q.none();const u=t.data;if(r>=0&&r<=u.length)return q.some(qd(t,r));{const h=fi(yT);return q.from(h.backwards(t,r,wT(t),i)).bind(y=>{const A=y.container.data;return q8(y.container,r+A.length,i)})}},Z8=(t,r,i)=>{if(!yn(t))return q.none();const u=t.data;if(r<=u.length)return q.some(qd(t,r));{const h=fi(yT);return q.from(h.forwards(t,r,wT(t),i)).bind(y=>Z8(y.container,r-u.length,i))}},G8=(t,r,i,u,h)=>{const y=fi(t,OJ(t));return q.from(y.backwards(r,i,u,h))},UL=t=>t.collapsed&&yn(t.startContainer),K8=t=>It(t.toString().replace(/\u00A0/g," ")),WL=t=>t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1,Y8=(t,r)=>t.substring(r.length),_J=(t,r,i)=>{let u;const h=i.charAt(0);for(u=r-1;u>=0;u--){const y=t.charAt(u);if(WL(y))return q.none();if(h===y&&go(t,i,u,r))break}return q.some(u)},qL=(t,r,i,u=0)=>{if(!UL(r))return q.none();const h={text:"",offset:0},y=(R,H,Y)=>(h.text=Y+h.text,h.offset+=H,_J(h.text,h.offset,i).getOr(H)),A=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return G8(t,r.startContainer,r.startOffset,y,A).bind(R=>{const H=r.cloneRange();if(H.setStart(R.container,R.offset),H.setEnd(r.endContainer,r.endOffset),H.collapsed)return q.none();const Y=K8(H);return Y.lastIndexOf(i)!==0||Y8(Y,i).length<u?q.none():q.some({text:Y8(Y,i),range:H,trigger:i})})},ZL=(t,r,i,u=0)=>KF(mt.fromDom(r.startContainer)).fold(()=>qL(t,r,i,u),h=>{const y=t.createRng();y.selectNode(h.dom);const A=K8(y);return q.some({range:y,text:Y8(A,i),trigger:i})}),$J=t=>t.nodeType===ro,GL=t=>t.nodeType===Vt,KL=t=>{if($J(t))return qd(t,t.data.length);{const r=t.childNodes;return r.length>0?KL(r[r.length-1]):qd(t,r.length)}},YL=(t,r)=>{const i=t.childNodes;return i.length>0&&r<i.length?YL(i[r],0):i.length>0&&GL(t)&&i.length===r?KL(i[i.length-1]):qd(t,r)},XL=(t,r)=>{var i;const u=(i=t.getParent(r.container,t.isBlock))!==null&&i!==void 0?i:t.getRoot();return G8(t,r.container,r.offset,(h,y)=>y===0?-1:y,u).filter(h=>{const y=h.container.data.charAt(h.offset-1);return!WL(y)}).isSome()},DJ=t=>r=>{const i=YL(r.startContainer,r.startOffset);return!XL(t,i)},BJ=(t,r,i)=>mr(i.triggers,u=>ZL(t,r,u)),NJ=(t,r)=>{const i=r(),u=t.selection.getRng();return BJ(t.dom,u,i).bind(h=>X8(t,r,h))},X8=(t,r,i,u={})=>{var h;const y=r(),R=(h=t.selection.getRng().startContainer.nodeValue)!==null&&h!==void 0?h:"",H=Ee(y.lookupByTrigger(i.trigger),ge=>i.text.length>=ge.minChars&&ge.matches.getOrThunk(()=>DJ(t.dom))(i.range,R,i.text));if(H.length===0)return q.none();const Y=Promise.all(Ve(H,ge=>ge.fetch(i.text,ge.maxResults,u).then(Ae=>({matchText:i.text,items:Ae,columns:ge.columns,onAction:ge.onAction,highlightOn:ge.highlightOn}))));return q.some({lookupData:Y,context:i})};var Zd;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Zd||(Zd={}));const J8=(t,r,i)=>t.stype===Zd.Error?r(t.serror):i(t.svalue),PJ=t=>{const r=[],i=[];return Oe(t,u=>{J8(u,h=>i.push(h),h=>r.push(h))}),{values:r,errors:i}},FJ=(t,r)=>t.stype===Zd.Error?{stype:Zd.Error,serror:r(t.serror)}:t,RJ=(t,r)=>t.stype===Zd.Value?{stype:Zd.Value,svalue:r(t.svalue)}:t,MJ=(t,r)=>t.stype===Zd.Value?r(t.svalue):t,IJ=(t,r)=>t.stype===Zd.Error?r(t.serror):t,JL=t=>({stype:Zd.Value,svalue:t}),QL=t=>({stype:Zd.Error,serror:t}),ll={fromResult:t=>t.fold(QL,JL),toResult:t=>J8(t,di.error,di.value),svalue:JL,partition:PJ,serror:QL,bind:MJ,bindError:IJ,map:RJ,mapError:FJ,fold:J8},CT=t=>I(t)&&Ct(t).length>100?" removed due to size":JSON.stringify(t,null,2),eH=t=>{const r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:Fe("... (only showing first ten failures)")}]):t;return Ve(r,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},ST=(t,r)=>ll.serror([{path:t,getErrorInfo:r}]),tH=(t,r,i)=>ST(t,()=>'Could not find valid *required* value for "'+r+'" in '+CT(i)),nH=(t,r)=>ST(t,()=>'Choice schema did not contain choice key: "'+r+'"'),LJ=(t,r,i)=>ST(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+CT(r)),HJ=(t,r)=>ST(t,Fe(r)),jJ=(t,r,i,u)=>Jo(i,u).fold(()=>LJ(t,i,u),y=>y.extract(t.concat(["branch: "+u]),r)),oH=(t,r)=>({extract:(h,y)=>Jo(y,t).fold(()=>nH(h,t),R=>jJ(h,y,r,R)),toString:()=>"chooseOn("+t+"). Possible values: "+Ct(r)}),zJ=(t,r)=>r,Q8=(t,r)=>z(t)&&z(r)?xT(t,r):r,rH=t=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let u=0;u<r.length;u++){const h=r[u];for(const y in h)To(h,y)&&(i[y]=t(i[y],h[y]))}return i},xT=rH(Q8),VJ=rH(zJ),e7=()=>({tag:"required",process:{}}),UJ=t=>({tag:"defaultedThunk",process:t}),sH=t=>UJ(Fe(t)),WJ=()=>({tag:"option",process:{}}),qJ=(t,r)=>t.length>0?ll.svalue(xT(r,VJ.apply(void 0,t))):ll.svalue(r),iH=t=>qe(ll.serror,Kn)(t),ZJ={consolidateObj:(t,r)=>{const i=ll.partition(t);return i.errors.length>0?iH(i.errors):qJ(i.values,r)},consolidateArr:t=>{const r=ll.partition(t);return r.errors.length>0?iH(r.errors):ll.svalue(r.values)}},Cpe=(t,r,i,u)=>({tag:"field",key:t,newKey:r,presence:i,prop:u}),GJ=(t,r)=>({tag:"custom",newKey:t,instantiator:r}),aH=(t,r,i)=>{switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},t7=t=>{const r=(u,h)=>ll.bindError(t(h),y=>HJ(u,y)),i=Fe("val");return{extract:r,toString:i}},KJ=t7(ll.svalue),lH=(t,r,i,u)=>Jo(r,i).fold(()=>tH(t,i,r),u),Rb=(t,r,i,u)=>{const h=Jo(t,r).getOrThunk(()=>i(t));return u(h)},Spe=(t,r,i)=>i(Jo(t,r)),YJ=(t,r,i,u)=>{const h=Jo(t,r).map(y=>y===!0?i(t):y);return u(h)},XJ=(t,r,i,u,h)=>{const y=R=>h.extract(r.concat([u]),R),A=R=>R.fold(()=>ll.svalue(q.none()),H=>{const Y=h.extract(r.concat([u]),H);return ll.map(Y,q.some)});switch(t.tag){case"required":return lH(r,i,u,y);case"defaultedThunk":return Rb(i,u,t.process,y);case"option":return Spe(i,u,A);case"defaultedOptionThunk":return YJ(i,u,t.process,A);case"mergeWithThunk":return Rb(i,u,Fe({}),R=>{const H=xT(t.process(i),R);return y(H)})}},Uh=(t,r,i)=>{const u={},h=[];for(const y of i)aH(y,(A,R,H,Y)=>{const ge=XJ(H,t,r,A,Y);ll.fold(ge,Te=>{h.push(...Te)},Te=>{u[R]=Te})},(A,R)=>{u[A]=R(r)});return h.length>0?ll.serror(h):ll.svalue(u)},n7=t=>({extract:(u,h)=>Uh(u,h,t),toString:()=>{const u=Ve(t,h=>aH(h,(y,A,R,H)=>y+" -> "+H.toString(),(y,A)=>"state("+y+")"));return`obj{
`+u.join(`
`)+"}"}}),cH=t=>({extract:(u,h)=>{const y=Ve(h,(A,R)=>t.extract(u.concat(["["+R+"]"]),A));return ZJ.consolidateArr(y)},toString:()=>"array("+t.toString()+")"}),uH=t=>t7(r=>t(r).fold(ll.serror,ll.svalue)),JJ=(t,r,i)=>{const u=r.extract([t],i);return ll.mapError(u,h=>({input:i,errors:h}))},fH=(t,r,i)=>ll.toResult(JJ(t,r,i)),dH=t=>`Errors: 
`+eH(t.errors).join(`
`)+`

Input object: `+CT(t.input),ET=(t,r)=>oH(t,pn(r,n7)),QJ=Fe(KJ),kT=(t,r)=>t7(i=>{const u=typeof i;return t(i)?ll.svalue(i):ll.serror(`Expected type: ${r} but got: ${u}`)}),eQ=kT(ce,"number"),AT=kT(P,"string"),tQ=kT(oe,"boolean"),TT=kT(G,"function"),pw=Cpe,hH=GJ,pH=t=>uH(r=>He(t,r)?di.value(r):di.error(`Unsupported value: "${r}", choose one of "${t.join(", ")}".`)),gH=(t,r)=>pw(t,t,e7(),r),mH=t=>gH(t,AT),vH=t=>gH(t,TT),nQ=(t,r)=>pw(t,t,e7(),cH(r)),OT=(t,r)=>pw(t,t,WJ(),r),gw=t=>OT(t,AT),bH=t=>OT(t,TT),oQ=(t,r)=>pw(t,t,sH(r),QJ()),mw=(t,r,i)=>pw(t,t,sH(r),i),_T=(t,r)=>mw(t,r,eQ),yH=(t,r)=>mw(t,r,AT),rQ=(t,r,i)=>mw(t,r,pH(i)),wH=(t,r)=>mw(t,r,tQ),CH=(t,r)=>mw(t,r,TT),sQ=(t,r,i)=>mw(t,r,cH(i)),xpe=mH("type"),iQ=vH("fetch"),o7=vH("onAction"),Epe=CH("onSetup",()=>ve),aQ=gw("text"),Nc=gw("icon"),r7=gw("tooltip"),tg=gw("label"),SH=wH("active",!1),xH=wH("enabled",!0),EH=wH("primary",!1),s7=t=>oQ("columns",t),Mb=t=>yH("type",t),kH=n7([xpe,mH("trigger"),_T("minChars",1),s7(1),_T("maxResults",10),bH("matches"),iQ,o7,sQ("highlightOn",[],AT)]),AH=t=>fH("Autocompleter",kH,{trigger:t.ch,...t}),i7=[xH,r7,Nc,aQ,Epe],TH=[SH].concat(i7),lQ=[CH("predicate",Ce),rQ("scope","node",["node","editor"]),rQ("position","selection",["node","selection","line"])],cQ=i7.concat([Mb("contextformbutton"),EH,o7,hH("original",De)]),uQ=TH.concat([Mb("contextformbutton"),EH,o7,hH("original",De)]),OH=i7.concat([Mb("contextformbutton")]),fQ=TH.concat([Mb("contextformtogglebutton")]),dQ=ET("type",{contextformbutton:cQ,contextformtogglebutton:uQ});n7([Mb("contextform"),CH("initValue",Fe("")),tg,nQ("commands",dQ),OT("launch",ET("type",{contextformbutton:OH,contextformtogglebutton:fQ}))].concat(lQ));const hQ=t=>{const r=t.ui.registry.getAll().popups,i=pn(r,A=>AH(A).fold(R=>{throw new Error(dH(R))},De)),u=Vr(xi(i,A=>A.trigger)),h=wr(i);return{dataset:i,triggers:u,lookupByTrigger:A=>Ee(h,R=>R.trigger===A)}},pQ=(t,r)=>{const i=nS(r.load,50);t.on("keypress compositionend",u=>{u.which!==27&&i.throttle()}),t.on("keydown",u=>{const h=u.which;h===8?i.throttle():h===27&&r.cancelIfNecessary()}),t.on("remove",i.cancel)},gQ=t=>{const r=xh(),i=aa(!1),u=r.isSet,h=()=>{u()&&(spe(t),Ph(t),i.set(!1),r.clear())},y=Y=>{u()||(tY(t,Y.range),r.set({trigger:Y.trigger,matchLength:Y.text.length}))},A=uo(()=>hQ(t)),R=Y=>r.get().map(ge=>ZL(t.dom,t.selection.getRng(),ge.trigger).bind(Te=>X8(t,A,Te,Y))).getOrThunk(()=>NJ(t,A)),H=Y=>{R(Y).fold(h,ge=>{y(ge.context),ge.lookupData.then(Te=>{r.get().map(Ae=>{const nt=ge.context;Ae.trigger===nt.trigger&&(nt.text.length-Ae.matchLength>=10?h():(r.set({...Ae,matchLength:nt.text.length}),i.get()?F$(t,{lookupData:Te}):(i.set(!0),P$(t,{lookupData:Te}))))})})})};t.addCommand("mceAutocompleterReload",(Y,ge)=>{const Te=I(ge)?ge.fetchOptions:{};H(Te)}),t.addCommand("mceAutocompleterClose",h),pQ(t,{cancelIfNecessary:h,load:H})},_H=t=>(r,i,u={})=>{const h=r.getBody(),y={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:h,currentTarget:h,eventPhase:Event.AT_TARGET,originalTarget:h,explicitOriginalTarget:h,isTrusted:!1,srcElement:h,cancelable:!1,preventDefault:ve,inputType:i},A=Jf(new InputEvent(t));return r.dispatch(t,{...A,...y,...u})},$T=_H("input"),a7=_H("beforeinput"),mQ=(t,r,i)=>{const u=i.keyCode===yo.BACKSPACE?"deleteContentBackward":"deleteContentForward";wL([{keyCode:yo.BACKSPACE,action:Br(aL,t)},{keyCode:yo.BACKSPACE,action:Br(l8,t,!1)},{keyCode:yo.DELETE,action:Br(l8,t,!0)},{keyCode:yo.BACKSPACE,action:Br(r8,t,!1)},{keyCode:yo.DELETE,action:Br(r8,t,!0)},{keyCode:yo.BACKSPACE,action:Br(uE,t,r,!1)},{keyCode:yo.DELETE,action:Br(uE,t,r,!0)},{keyCode:yo.BACKSPACE,action:Br(Nx,t,!1)},{keyCode:yo.DELETE,action:Br(Nx,t,!0)},{keyCode:yo.BACKSPACE,action:Br(c8,t,!1)},{keyCode:yo.DELETE,action:Br(c8,t,!0)},{keyCode:yo.BACKSPACE,action:Br(k8,t,!1)},{keyCode:yo.DELETE,action:Br(k8,t,!0)},{keyCode:yo.BACKSPACE,action:Br(oT,t,!1)},{keyCode:yo.DELETE,action:Br(oT,t,!0)},{keyCode:yo.BACKSPACE,action:Br(Df,t,!1)},{keyCode:yo.DELETE,action:Br(Df,t,!0)},{keyCode:yo.BACKSPACE,action:Br(x8,t,!1)},{keyCode:yo.DELETE,action:Br(x8,t,!0)}],i).each(h=>{i.preventDefault(),a7(t,u).isDefaultPrevented()||(h(),$T(t,u))})},kpe=(t,r)=>{hE([{keyCode:yo.BACKSPACE,action:Br(BI,t)},{keyCode:yo.DELETE,action:Br(BI,t)}],r)},l7=(t,r)=>{t.on("keydown",i=>{i.isDefaultPrevented()||mQ(t,r,i)}),t.on("keyup",i=>{i.isDefaultPrevented()||kpe(t,i)})},vQ=t=>{for(;t;){if(no(t)||yn(t)&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}return null},bE=(t,r)=>{const i=t.dom,u=t.schema.getMoveCaretBeforeOnEnterElements();if(!r)return;if(/^(LI|DT|DD)$/.test(r.nodeName)){const y=vQ(r.firstChild);y&&/^(UL|OL|DL)$/.test(y.nodeName)&&r.insertBefore(i.doc.createTextNode(Gi),r.firstChild)}const h=i.createRng();if(r.normalize(),r.hasChildNodes()){const y=new jr(r,r);let A=r,R;for(;R=y.current();){if(yn(R)){h.setStart(R,0),h.setEnd(R,0);break}if(u[R.nodeName.toLowerCase()]){h.setStartBefore(R),h.setEndBefore(R);break}A=R,R=y.next()}R||(h.setStart(A,0),h.setEnd(A,0))}else $i(r)?r.nextSibling&&i.isBlock(r.nextSibling)?(h.setStartBefore(r),h.setEndBefore(r)):(h.setStartAfter(r),h.setEndAfter(r)):(h.setStart(r,0),h.setEnd(r,0));t.selection.setRng(h),lb(t,h)},DT=(t,r)=>{const i=t.getRoot();let u,h=r;for(;h!==i&&h&&t.getContentEditable(h)!=="false";)t.getContentEditable(h)==="true"&&(u=h),h=h.parentNode;return h!==i?u:i},Ib=t=>q.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),Bm=t=>Ib(t).fold(Fe(""),r=>r.nodeName.toUpperCase()),Lb=t=>Ib(t).filter(r=>Oc(mt.fromDom(r))).isSome(),BT=(t,r)=>t.firstChild&&t.firstChild.nodeName===r,c7=t=>{var r;return((r=t.parentNode)===null||r===void 0?void 0:r.firstChild)===t},NT=(t,r)=>{const i=t==null?void 0:t.parentNode;return Q(i)&&i.nodeName===r},u7=t=>Q(t)&&/^(OL|UL|LI)$/.test(t.nodeName),bQ=t=>Q(t)&&/^(LI|DT|DD)$/.test(t.nodeName),$H=t=>u7(t)&&u7(t.parentNode),yE=t=>{const r=t.parentNode;return bQ(r)?r:t},PT=(t,r,i)=>{let u=t[i?"firstChild":"lastChild"];for(;u&&!no(u);)u=u[i?"nextSibling":"previousSibling"];return u===r},yQ=(t,r,i,u,h)=>{const y=t.dom,A=t.selection.getRng(),R=i.parentNode;if(i===t.getBody()||!R)return;$H(i)&&(h="LI");let H=r(h);if(PT(i,u,!0)&&PT(i,u,!1))if(NT(i,"LI")){const Y=yE(i);y.insertAfter(H,Y),c7(i)?y.remove(Y):y.remove(i)}else y.replace(H,i);else if(PT(i,u,!0))NT(i,"LI")?(y.insertAfter(H,yE(i)),H.appendChild(y.doc.createTextNode(" ")),H.appendChild(i)):R.insertBefore(H,i),y.remove(u);else if(PT(i,u,!1))y.insertAfter(H,yE(i)),y.remove(u);else{i=yE(i);const Y=A.cloneRange();Y.setStartAfter(u),Y.setEndAfter(i);const ge=Y.extractContents();h==="LI"&&BT(ge,"LI")?(H=ge.firstChild,y.insertAfter(ge,i)):(y.insertAfter(ge,i),y.insertAfter(H,i)),y.remove(u)}bE(t,H)},wQ=t=>{Oe(p1(mt.fromDom(t),Xr),r=>{const i=r.dom;i.nodeValue=It(i.data)})},CQ=(t,r)=>{const i=t.dom.getParent(r,"ol,ul,dl");return i!==null&&t.dom.getContentEditableParent(i)==="false"},SQ=(t,r)=>r&&r.nodeName==="A"&&t.isEmpty(r),f7=t=>{t.innerHTML='<br data-mce-bogus="1">'},FT=(t,r)=>t.nodeName===r||t.previousSibling&&t.previousSibling.nodeName===r,d7=(t,r)=>Q(r)&&t.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&t.getContentEditable(r)!=="true",Ape=(t,r,i)=>{var u;const h=[];if(!i)return;let y=i;for(;y=y.firstChild;){if(t.isBlock(y))return;no(y)&&!r[y.nodeName.toLowerCase()]&&h.push(y)}let A=h.length;for(;A--;)y=h[A],(!y.hasChildNodes()||y.firstChild===y.lastChild&&((u=y.firstChild)===null||u===void 0?void 0:u.nodeValue)===""||SQ(t,y))&&t.remove(y)},DH=(t,r,i)=>yn(r)?t?i===1&&r.data.charAt(i-1)===$e?0:i:i===r.data.length-1&&r.data.charAt(i)===$e?r.data.length:i:i,Tpe=t=>{const r=t.cloneRange();return r.setStart(t.startContainer,DH(!0,t.startContainer,t.startOffset)),r.setEnd(t.endContainer,DH(!1,t.endContainer,t.endOffset)),r},xQ=t=>{let r=t;do yn(r)&&(r.data=r.data.replace(/^[\r\n]+/,"")),r=r.firstChild;while(r)},Ope=(t,r,i)=>{const u=t.dom;q.from(i.style).map(u.parseStyle).each(H=>{const ge={..._r(mt.fromDom(r)),...H};u.setStyles(r,ge)});const h=q.from(i.class).map(H=>H.split(/\s+/)),y=q.from(r.className).map(H=>Ee(H.split(/\s+/),Y=>Y!==""));ei(h,y,(H,Y)=>{const ge=Ee(Y,Ae=>!He(H,Ae)),Te=[...H,...ge];u.setAttrib(r,"class",Te.join(" "))});const A=["style","class"],R=pr(i,(H,Y)=>!He(A,Y));u.setAttribs(r,R)},RT=(t,r)=>{if(hi(t).toLowerCase()===r.tagName.toLowerCase()){const u=Ll(t);Ope(t,r,u)}},EQ=(t,r,i,u,h)=>{var y;const A=t.dom,R=(y=DT(A,u))!==null&&y!==void 0?y:A.getRoot();let H=A.getParent(u,A.isBlock);if(!H||!d7(A,H)){H=H||R;let Y;if(H===t.getBody()||Oo(H)?Y=H.nodeName.toLowerCase():H.parentNode?Y=H.parentNode.nodeName.toLowerCase():Y="",!H.hasChildNodes()){const Ae=A.create(r);return RT(t,Ae),H.appendChild(Ae),i.setStart(Ae,0),i.setEnd(Ae,0),Ae}let ge=u;for(;ge&&ge.parentNode!==H;)ge=ge.parentNode;let Te;for(;ge&&!A.isBlock(ge);)Te=ge,ge=ge.previousSibling;if(Te&&t.schema.isValidChild(Y,r.toLowerCase())){const Ae=Te.parentNode,nt=A.create(r);for(RT(t,nt),Ae.insertBefore(nt,Te),ge=Te;ge&&!A.isBlock(ge);){const st=ge.nextSibling;nt.appendChild(ge),ge=st}i.setStart(u,h),i.setEnd(u,h)}}return u},kQ=(t,r)=>{r.normalize();const i=r.lastChild;(!i||no(i)&&/^(left|right)$/gi.test(t.getStyle(i,"float",!0)))&&t.add(r,"br")},_pe=(t,r)=>{const i=bS(t);return se(r)?!1:P(i)?He(nn.explode(i),r.nodeName.toLowerCase()):i},h7={insert:(t,r)=>{let i,u,h,y,A=!1;const R=t.dom,H=t.schema,Y=H.getNonEmptyElements(),ge=t.selection.getRng(),Te=hi(t),Ae=Bn=>{let un=i;const Wt=H.getTextInlineElements();let Kt;Bn||h==="TABLE"||h==="HR"?Kt=R.create(Bn||Te):Kt=Et.cloneNode(!1);let Nn=Kt;if(I3(t)===!1)R.setAttrib(Kt,"style",null),R.setAttrib(Kt,"class",null);else do if(Wt[un.nodeName]){if(Wu(un)||Ql(un))continue;const vo=un.cloneNode(!1);R.setAttrib(vo,"id",""),Kt.hasChildNodes()?(vo.appendChild(Kt.firstChild),Kt.appendChild(vo)):(Nn=vo,Kt.appendChild(vo))}while((un=un.parentNode)&&un!==ht);return RT(t,Kt),f7(Nn),Kt},nt=Bn=>{const un=DH(Bn,i,u);if(yn(i)&&(Bn?un>0:un<i.data.length))return!1;if(i.parentNode===Et&&A&&!Bn||Bn&&no(i)&&i===Et.firstChild)return!0;if(FT(i,"TABLE")||FT(i,"HR"))return A&&!Bn||!A&&Bn;const Wt=new jr(i,Et);yn(i)&&(Bn&&un===0?Wt.prev():!Bn&&un===i.data.length&&Wt.next());let Kt;for(;Kt=Wt.current();){if(no(Kt)){if(!Kt.getAttribute("data-mce-bogus")){const Nn=Kt.nodeName.toLowerCase();if(Y[Nn]&&Nn!=="br")return!1}}else if(yn(Kt)&&!Pg(Kt.data))return!1;Bn?Wt.prev():Wt.next()}return!0},st=()=>{let Bn;return/^(H[1-6]|PRE|FIGURE)$/.test(h)&&Dt!=="HGROUP"?Bn=Ae(Te):Bn=Ae(),_pe(t,y)&&d7(R,y)&&R.isEmpty(Et)?Bn=R.split(y,Et):R.insertAfter(Bn,Et),bE(t,Bn),Bn};px(R,ge).each(Bn=>{ge.setStart(Bn.startContainer,Bn.startOffset),ge.setEnd(Bn.endContainer,Bn.endOffset)}),i=ge.startContainer,u=ge.startOffset;const Ge=!!(r&&r.shiftKey),ct=!!(r&&r.ctrlKey);no(i)&&i.hasChildNodes()&&(A=u>i.childNodes.length-1,i=i.childNodes[Math.min(u,i.childNodes.length-1)]||i,A&&yn(i)?u=i.data.length:u=0);const ht=DT(R,i);if(!ht||CQ(t,i))return;Ge||(i=EQ(t,Te,ge,i,u));let Et=R.getParent(i,R.isBlock)||R.getRoot();y=Q(Et==null?void 0:Et.parentNode)?R.getParent(Et.parentNode,R.isBlock):null,h=Et?Et.nodeName.toUpperCase():"";const Dt=y?y.nodeName.toUpperCase():"";if(Dt==="LI"&&!ct){const Bn=y;Et=Bn,y=Bn.parentNode,h=Dt}if(/^(LI|DT|DD)$/.test(h)&&no(y)&&R.isEmpty(Et)){yQ(t,Ae,y,Et,Te);return}if(Et===t.getBody())return;const Jt=Et.parentNode;let an;if(Zo(Et))an=wf(Et),R.isEmpty(Et)&&f7(Et),RT(t,an),bE(t,an);else if(nt(!1))an=st();else if(nt(!0)&&Jt)an=Jt.insertBefore(Ae(),Et),bE(t,FT(Et,"HR")?an:Et);else{const Bn=Tpe(ge).cloneRange();Bn.setEndAfter(Et);const un=Bn.extractContents();wQ(un),xQ(un),an=un.firstChild,R.insertAfter(un,Et),Ape(R,Y,an),kQ(R,Et),R.isEmpty(Et)&&f7(Et),an.normalize(),R.isEmpty(an)?(R.remove(an),st()):(RT(t,an),bE(t,an))}R.setAttrib(an,"id",""),t.dispatch("NewBlock",{newBlock:an})},fakeEventName:"insertParagraph"},AQ=(t,r,i)=>{const u=new jr(r,i);let h;const y=t.getNonEmptyElements();for(;h=u.next();)if(y[h.nodeName.toLowerCase()]||yn(h)&&h.length>0)return!0;return!1},p7=(t,r,i)=>{const u=t.dom.createRng();i?(u.setStartBefore(r),u.setEndBefore(r)):(u.setStartAfter(r),u.setEndAfter(r)),t.selection.setRng(u),lb(t,u)},TQ=(t,r)=>{const i=t.selection,u=t.dom,h=i.getRng();let y,A=!1;px(u,h).each(nt=>{h.setStart(nt.startContainer,nt.startOffset),h.setEnd(nt.endContainer,nt.endOffset)});let R=h.startOffset,H=h.startContainer;if(no(H)&&H.hasChildNodes()){const nt=R>H.childNodes.length-1;H=H.childNodes[Math.min(R,H.childNodes.length-1)]||H,nt&&yn(H)?R=H.data.length:R=0}let Y=u.getParent(H,u.isBlock);const ge=Y&&Y.parentNode?u.getParent(Y.parentNode,u.isBlock):null,Te=ge?ge.nodeName.toUpperCase():"",Ae=!!(r&&r.ctrlKey);Te==="LI"&&!Ae&&(Y=ge),yn(H)&&R>=H.data.length&&(AQ(t.schema,H,Y||u.getRoot())||(y=u.create("br"),h.insertNode(y),h.setStartAfter(y),h.setEndAfter(y),A=!0)),y=u.create("br"),$a(u,h,y),p7(t,y,A),t.undoManager.add()},OQ=(t,r)=>{const i=mt.fromTag("br");$r(mt.fromDom(r),i),t.undoManager.add()},Dpe=(t,r)=>{_Q(t.getBody(),r)||ni(mt.fromDom(r),mt.fromTag("br"));const i=mt.fromTag("br");ni(mt.fromDom(r),i),p7(t,i.dom,!1),t.undoManager.add()},qh=t=>$i(t.getNode()),_Q=(t,r)=>qh(Yt.after(r))?!0:hc(t,Yt.after(r)).map(i=>$i(i.getNode())).getOr(!1),BH=t=>t&&t.nodeName==="A"&&"href"in t,$Q=t=>t.fold(Ce,BH,BH,Ce),DQ=t=>{const r=re(hb,t),i=Yt.fromRangeStart(t.selection.getRng());return Vh(r,t.getBody(),i).filter($Q)},BQ=(t,r)=>{r.fold(ve,re(OQ,t),re(Dpe,t),ve)},NH={insert:(t,r)=>{const i=DQ(t);i.isSome()?i.each(re(BQ,t)):TQ(t,r)},fakeEventName:"insertLineBreak"},PH=(t,r)=>Ib(t).filter(i=>r.length>0&&Ac(mt.fromDom(i),r)).isSome(),g7=t=>PH(t,Yy(t)),m7=t=>PH(t,Xy(t)),pd=Pd.generate([{br:[]},{block:[]},{none:[]}]),Ppe=(t,r)=>m7(t),NQ=t=>(r,i)=>Lb(r)===t,FH=(t,r)=>(i,u)=>Bm(i)===t.toUpperCase()===r,PQ=t=>{const r=DT(t.dom,t.selection.getStart());return se(r)},MT=t=>FH("pre",t),FQ=()=>FH("summary",!0),Gd=t=>(r,i)=>Xl(r)===t,RQ=(t,r)=>g7(t),IT=(t,r)=>r,yv=t=>{const r=hi(t),i=DT(t.dom,t.selection.getStart());return Q(i)&&t.schema.isValidChild(i.nodeName,r)},Kd=(t,r)=>(i,u)=>Xe(t,(y,A)=>y&&A(i,u),!0)?q.some(r):q.none(),RH=(t,r)=>RI([Kd([Ppe],pd.none()),Kd([MT(!0),PQ],pd.none()),Kd([FQ()],pd.br()),Kd([MT(!0),Gd(!1),IT],pd.br()),Kd([MT(!0),Gd(!1)],pd.block()),Kd([MT(!0),Gd(!0),IT],pd.block()),Kd([MT(!0),Gd(!0)],pd.br()),Kd([NQ(!0),IT],pd.br()),Kd([NQ(!0)],pd.block()),Kd([RQ],pd.br()),Kd([IT],pd.br()),Kd([yv],pd.block())],[t,!!(r&&r.shiftKey)]).getOr(pd.none()),LT=(t,r,i)=>{r.selection.isCollapsed()||tG(r),!(Q(i)&&a7(r,t.fakeEventName).isDefaultPrevented())&&(t.insert(r,i),Q(i)&&$T(r,t.fakeEventName))},MH=(t,r)=>{const i=()=>LT(NH,t,r),u=()=>LT(h7,t,r),h=RH(t,r);switch(sl(t)){case"linebreak":h.fold(i,i,ve);break;case"block":h.fold(u,u,ve);break;case"invert":h.fold(u,i,ve);break;default:h.fold(i,u,ve);break}},MQ=(t,r)=>{r.isDefaultPrevented()||(r.preventDefault(),epe(t.undoManager),t.undoManager.transact(()=>{MH(t,r)}))},IQ=t=>{t.on("keydown",r=>{r.keyCode===yo.ENTER&&MQ(t,r)})},LQ=(t,r,i)=>{const u=Hn.os.isMacOS()||Hn.os.isiOS();hE([{keyCode:yo.END,action:Br(mL,t,!0)},{keyCode:yo.HOME,action:Br(mL,t,!1)},...u?[]:[{keyCode:yo.HOME,action:Br(fE,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:yo.END,action:Br(fE,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:yo.END,action:Br(xL,t,!0)},{keyCode:yo.HOME,action:Br(xL,t,!1)},{keyCode:yo.END,action:Br(cE,t,!0,r)},{keyCode:yo.HOME,action:Br(cE,t,!1,r)}],i).each(h=>{i.preventDefault()})},HQ=(t,r)=>{t.on("keydown",i=>{i.isDefaultPrevented()||LQ(t,r,i)})},jQ=t=>{t.on("input",r=>{r.isComposing||UZ(t)})},v7=Hs(),IH=(t,r,i)=>{hE([{keyCode:yo.PAGE_UP,action:Br(cE,t,!1,r)},{keyCode:yo.PAGE_DOWN,action:Br(cE,t,!0,r)}],i)},wE=t=>t.stopImmediatePropagation(),LH=t=>t.keyCode===yo.PAGE_UP||t.keyCode===yo.PAGE_DOWN,HH=(t,r,i)=>{i&&!t.get()?r.on("NodeChange",wE,!0):!i&&t.get()&&r.off("NodeChange",wE),t.set(i)},zQ=(t,r)=>{if(v7.os.isMacOS())return;const i=aa(!1);t.on("keydown",u=>{LH(u)&&HH(i,t,!0)}),t.on("keyup",u=>{u.isDefaultPrevented()||IH(t,r,u),LH(u)&&i.get()&&(HH(i,t,!1),t.nodeChanged())})},jH=(t,r)=>{const i=r.container(),u=r.offset();return yn(i)?(i.insertData(u,t),q.some(Yt(i,u+t.length))):i2(r).map(h=>{const y=mt.fromText(t);return r.isAtEnd()?ni(h,y):$r(h,y),Yt(y.dom,t.length)})},VQ=re(jH,Gi),zH=re(jH," "),UQ=t=>r=>r.fold(i=>Cu(t.dom,Yt.before(i)),i=>ya(i),i=>Su(i),i=>hc(t.dom,Yt.after(i))),VH=(t,r)=>i=>Uhe(t,i)?VQ(r):zH(r),UH=t=>r=>(t.selection.setRng(r.toRange()),t.nodeChanged(),!0),WQ=t=>{const r=Yt.fromRangeStart(t.selection.getRng()),i=mt.fromDom(t.getBody());if(t.selection.isCollapsed()){const u=re(hb,t),h=Yt.fromRangeStart(t.selection.getRng());return Vh(u,t.getBody(),h).bind(UQ(i)).map(y=>()=>VH(i,r)(y).each(UH(t)))}else return q.none()},qQ=(t,r)=>{wL([{keyCode:yo.SPACEBAR,action:Br(WQ,t)}],r).each(i=>{r.preventDefault(),a7(t,"insertText",{data:" "}).isDefaultPrevented()||(i(),$T(t,"insertText",{data:" "}))})},b7=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||qQ(t,r)})},ZQ=t=>s$(t)?[{keyCode:yo.TAB,action:Br(HL,t,!0)},{keyCode:yo.TAB,shiftKey:!0,action:Br(HL,t,!1)}]:[],GQ=(t,r)=>{hE([...ZQ(t)],r).each(i=>{r.preventDefault()})},WH=t=>{t.on("keydown",r=>{r.isDefaultPrevented()||GQ(t,r)})},y7=t=>{if(t.addShortcut("Meta+P","","mcePrint"),gQ(t),Hh(t))return aa(null);{const r=RX(t);return vpe(t),zL(t,r),l7(t,r),IQ(t),b7(t),jQ(t),WH(t),HQ(t,r),zQ(t,r),r}};class qH{constructor(r){this.lastPath=[],this.editor=r;let i;const u=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",h=>{const y=r.selection.getRng(),A={startContainer:y.startContainer,startOffset:y.startOffset,endContainer:y.endContainer,endOffset:y.endOffset};(h.type==="nodechange"||!B2(A,i))&&r.dispatch("SelectionChange"),i=A}),r.on("contextmenu",()=>{r.dispatch("SelectionChange")}),r.on("SelectionChange",()=>{const h=r.selection.getStart(!0);!h||Y0(r)&&!u.isSameElementPath(h)&&r.dom.isChildOf(h,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",h=>{!h.isDefaultPrevented()&&Y0(r)&&(r.selection.getNode().nodeName==="IMG"?Yn.setEditorTimeout(r,()=>{r.nodeChanged()}):r.nodeChanged())})}nodeChanged(r={}){const i=this.editor.selection;let u;if(this.editor.initialized&&i&&!G3(this.editor)&&!this.editor.mode.isReadOnly()){const h=this.editor.getBody();u=i.getStart(!0)||h,(u.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(u,h))&&(u=h);const y=[];this.editor.dom.getParent(u,A=>A===h?!0:(y.push(A),!1)),this.editor.dispatch("NodeChange",{...r,element:u,parents:y})}}isSameElementPath(r){let i;const u=this.editor,h=oo(u.dom.getParents(r,me,u.getBody()));if(h.length===this.lastPath.length){for(i=h.length;i>=0&&h[i]===this.lastPath[i];i--);if(i===-1)return this.lastPath=h,!0}return this.lastPath=h,!1}}const ZH="x-tinymce/html",w7=Fe(ZH),Nm="<!-- "+ZH+" -->",KQ=t=>Nm+t,YQ=t=>t.replace(Nm,""),GH=t=>t.indexOf(Nm)!==-1,HT=t=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t),KH=(t,r)=>{let i="<"+t;const u=xi(r,(h,y)=>y+'="'+vu.encodeAllRaw(h)+'"');return u.length&&(i+=" "+u.join(" ")),i+">"},YH=(t,r,i)=>{const u=t.split(/\n\n/),h=KH(r,i),y="</"+r+">",A=Ve(u,H=>H.split(/\n/).join("<br />")),R=H=>h+H+y;return A.length===1?A[0]:Ve(A,R).join("")},XH="%MCEPASTEBIN%",JH=(t,r)=>{const{dom:i,selection:u}=t,h=t.getBody();r.set(u.getRng());const y=i.add(t.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},XH);Hn.browser.isFirefox()&&i.setStyle(y,"left",i.getStyle(h,"direction",!0)==="rtl"?65535:-65535),i.bind(y,"beforedeactivate focusin focusout",A=>{A.stopPropagation()}),y.focus(),u.select(y,!0)},XQ=(t,r)=>{const i=t.dom;if(C7(t)){let u;const h=r.get();for(;u=C7(t);)i.remove(u),i.unbind(u);h&&t.selection.setRng(h)}r.set(null)},C7=t=>t.dom.get("mcepastebin"),JQ=t=>Q(t)&&t.id==="mcepastebin",QH=t=>{const r=t.dom,i=(A,R)=>{A.appendChild(R),r.remove(R,!0)},[u,...h]=Ee(t.getBody().childNodes,JQ);Oe(h,A=>{i(u,A)});const y=r.select("div[id=mcepastebin]",u);for(let A=y.length-1;A>=0;A--){const R=r.create("div");u.insertBefore(R,y[A]),i(R,y[A])}return u?u.innerHTML:""},jT=t=>t===XH,QQ=t=>{const r=aa(null);return{create:()=>JH(t,r),remove:()=>XQ(t,r),getEl:()=>C7(t),getHtml:()=>QH(t),getLastRng:r.get}},zT=(t,r)=>(nn.each(r,i=>{O(i,RegExp)?t=t.replace(i,""):t=t.replace(i[0],i[1])}),t),ej=t=>{const r=zu(),i=ew({},r);let u="";const h=r.getVoidElements(),y=nn.makeMap("script noscript style textarea video audio iframe object"," "),A=r.getBlockElements(),R=H=>{const Y=H.name,ge=H;if(Y==="br"){u+=`
`;return}if(Y!=="wbr"){if(h[Y]&&(u+=" "),y[Y]){u+=" ";return}if(H.type===3&&(u+=H.value),!(H.name in r.getVoidElements())){let Te=H.firstChild;if(Te)do R(Te);while(Te=Te.next)}A[Y]&&ge.next&&(u+=`
`,Y==="p"&&(u+=`
`))}};return t=zT(t,[/<!\[[^\]]+\]>/g]),R(i.parse(t)),u},CE=t=>(t=zT(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(i,u,h)=>!u&&!h?" ":Gi],/<br class="Apple-interchange-newline">/g,/<br>$/i]),t),tj=t=>{let r=0;return()=>t+r++},nj=t=>{const r=t.toLowerCase(),i={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return nn.hasOwn(i,r)?"image/"+i[r]:"image/"+r},eee=(t,r)=>{const i=ew({},t.schema);i.addNodeFilter("meta",h=>{nn.each(h,y=>{y.remove()})});const u=i.parse(r,{forced_root_block:!1,isRootContent:!0});return rv({validate:!0},t.schema).serialize(u)},oj=(t,r)=>({content:t,cancelled:r}),VT=(t,r,i)=>{const u=t.dom.create("div",{style:"display:none"},r),h=Fk(t,u,i);return oj(h.node.innerHTML,h.isDefaultPrevented())},tee=(t,r,i)=>{const u=R$(t,r,i),h=eee(t,u.content);return t.hasEventListeners("PastePostProcess")&&!u.isDefaultPrevented()?VT(t,h,i):oj(h,u.isDefaultPrevented())},nee=(t,r,i)=>tee(t,r,i),S7=(t,r)=>(t.insertContent(r,{merge:e2(t),paste:!0}),!0),x7=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),oee=(t,r)=>x7(r)&&Re(TS(t),i=>Hr(r.toLowerCase(),`.${i.toLowerCase()}`)),ree=(t,r,i)=>(t.undoManager.extra(()=>{i(t,r)},()=>{t.insertContent('<img src="'+r+'">')}),!0),see=(t,r,i)=>(t.undoManager.extra(()=>{i(t,r)},()=>{t.execCommand("mceInsertLink",!1,r)}),!0),iee=(t,r,i)=>!t.selection.isCollapsed()&&x7(r)?see(t,r,i):!1,aee=(t,r,i)=>oee(t,r)?ree(t,r,i):!1,lee=(t,r)=>{nn.each([iee,aee,S7],i=>!i(t,r,S7))},ji=(t,r,i)=>{i||!B0(t)?S7(t,r):lee(t,r)},cee=tj("mceclip"),E7=(t,r,i,u)=>{const h=nee(t,r,i);h.cancelled||ji(t,h.content,u)},UT=(t,r,i)=>{const u=i||GH(r);E7(t,YQ(r),u,!1)},SE=(t,r)=>{const i=t.dom.encode(r).replace(/\r\n/g,`
`),u=v1(i,RF(t)),h=YH(u,hi(t),Ll(t));E7(t,h,!1,!0)},k7=t=>{const r={};if(t&&t.types)for(let i=0;i<t.types.length;i++){const u=t.types[i];try{r[u]=t.getData(u)}catch{r[u]=""}}return r},Hb=(t,r)=>r in t&&t[r].length>0,rj=t=>Hb(t,"text/html")||Hb(t,"text/plain"),sj=(t,r)=>{const i=r.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Q(i)?t.dom.encode(i[1]):void 0},uee=(t,r,i,u)=>{const h=cee(),y=R1(t)&&Q(i.name),A=y?sj(t,i.name):h,R=y?i.name:void 0,H=r.create(h,i,u,A,R);return r.add(H),H},fee=(t,r)=>{u6(r.uri).each(({data:i,type:u,base64Encoded:h})=>{const y=h?i:btoa(i),A=r.file,R=t.editorUpload.blobCache,H=R.getByData(y,u),Y=H!=null?H:uee(t,R,A,y);UT(t,`<img src="${Y.blobUri()}">`,!1)})},ij=t=>t.type==="paste",dee=t=>Promise.all(Ve(t,r=>f6(r).then(i=>({file:r,uri:i})))),hee=t=>{const r=TS(t);return i=>$o(i.type,"image/")&&Re(r,u=>nj(u)===i.type)},WT=(t,r)=>{const i=r.items?zn(_o(r.items),h=>h.kind==="file"?[h.getAsFile()]:[]):[],u=r.files?_o(r.files):[];return Ee(i.length>0?i:u,hee(t))},xE=(t,r,i)=>{const u=ij(r)?r.clipboardData:r.dataTransfer;if(M1(t)&&u){const h=WT(t,u);if(h.length>0)return r.preventDefault(),dee(h).then(y=>{i&&t.selection.setRng(i),Oe(y,A=>{fee(t,A)})}),!0}return!1},aj=t=>{var r,i;return Hn.os.isAndroid()&&((i=(r=t.clipboardData)===null||r===void 0?void 0:r.items)===null||i===void 0?void 0:i.length)===0},gd=t=>yo.metaKeyPressed(t)&&t.keyCode===86||t.shiftKey&&t.keyCode===45,lj=(t,r,i,u)=>{let h=CE(i);const y=Hb(r,w7())||GH(i),A=!y&&HT(h),R=x7(h);(jT(h)||!h.length||A&&!R)&&(u=!0),(u||R)&&(Hb(r,"text/plain")&&A?h=r["text/plain"]:h=ej(h)),!jT(h)&&(u?SE(t,h):UT(t,h,y))},vw=(t,r,i)=>{let u;const h=()=>r.getLastRng()||t.selection.getRng();t.on("keydown",y=>{gd(y)&&!y.isDefaultPrevented()&&(u=y.shiftKey&&y.keyCode===86)}),t.on("paste",y=>{if(y.isDefaultPrevented()||aj(y))return;const A=i.get()==="text"||u;u=!1;const R=k7(y.clipboardData);!rj(R)&&xE(t,y,h())||(Hb(R,"text/html")?(y.preventDefault(),lj(t,R,R["text/html"],A)):(r.create(),Yn.setEditorTimeout(t,()=>{const H=r.getHtml();r.remove(),lj(t,R,H,A)},0)))})},EE=t=>{const r=h=>$o(h,"webkit-fake-url"),i=h=>$o(h,"data:"),u=h=>{var y;return((y=h.data)===null||y===void 0?void 0:y.paste)===!0};t.parser.addNodeFilter("img",(h,y,A)=>{if(!M1(t)&&u(A))for(const R of h){const H=R.attr("src");P(H)&&!R.attr("data-mce-object")&&H!==Hn.transparentSrc&&(r(H)||!tm(t)&&i(H))&&R.remove()}})},pee=(t,r,i)=>{vw(t,r,i),EE(t)},gee=(t,r)=>{r.get()==="text"?(r.set("html"),ob(t,!1)):(r.set("text"),ob(t,!0)),t.focus()},bw=(t,r)=>{t.addCommand("mceTogglePlainTextPaste",()=>{gee(t,r)}),t.addCommand("mceInsertClipboardContent",(i,u)=>{u.html&&UT(t,u.html,u.internal),u.text&&SE(t,u.text)})},mee=(t,r,i)=>{if(t)try{return t.clearData(),t.setData("text/html",r),t.setData("text/plain",i),t.setData(w7(),r),!0}catch{return!1}else return!1},qT=(t,r,i,u)=>{mee(t.clipboardData,r.html,r.text)?(t.preventDefault(),u()):i(r.html,u)},ZT=t=>(r,i)=>{const{dom:u,selection:h}=t,y=u.create("div",{contenteditable:"false","data-mce-bogus":"all"}),A=u.create("div",{contenteditable:"true"},r);u.setStyles(y,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),y.appendChild(A),u.add(t.getBody(),y);const R=h.getRng();A.focus();const H=u.createRng();H.selectNodeContents(A),h.setRng(H),Yn.setEditorTimeout(t,()=>{h.setRng(R),u.remove(y),i()},0)},A7=t=>({html:KQ(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),vee=t=>!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody()),cj=t=>!t.selection.isCollapsed()||vee(t),uj=t=>r=>{!r.isDefaultPrevented()&&cj(t)&&qT(r,A7(t),ZT(t),()=>{if(Hn.browser.isChromium()||Hn.browser.isFirefox()){const i=t.selection.getRng();Yn.setEditorTimeout(t,()=>{t.selection.setRng(i),t.execCommand("Delete")},0)}else t.execCommand("Delete")})},fj=t=>r=>{!r.isDefaultPrevented()&&cj(t)&&qT(r,A7(t),ZT(t),ve)},bee=t=>{t.on("cut",uj(t)),t.on("copy",fj(t))},dj=(t,r)=>{var i,u;return Bo.getCaretRangeFromPoint((i=r.clientX)!==null&&i!==void 0?i:0,(u=r.clientY)!==null&&u!==void 0?u:0,t.getDoc())},yee=t=>{const r=t["text/plain"];return r?r.indexOf("file://")===0:!1},T7=(t,r)=>{t.focus(),r&&t.selection.setRng(r)},wee=t=>Re(t.files,r=>/^image\//.test(r.type)),hj=(t,r)=>{ki(t)&&t.on("dragend dragover draggesture dragdrop drop drag",i=>{i.preventDefault(),i.stopPropagation()}),M1(t)||t.on("drop",i=>{const u=i.dataTransfer;u&&wee(u)&&i.preventDefault()}),t.on("drop",i=>{if(i.isDefaultPrevented()||r.get())return;const u=dj(t,i);if(se(u))return;const h=k7(i.dataTransfer),y=Hb(h,w7());if((!rj(h)||yee(h))&&xE(t,i,u))return;const A=h[w7()],R=A||h["text/html"]||h["text/plain"];R&&(i.preventDefault(),Yn.setEditorTimeout(t,()=>{t.undoManager.transact(()=>{A&&t.execCommand("Delete"),T7(t,u);const H=CE(R);h["text/html"]?UT(t,H,y):SE(t,H)})}))}),t.on("dragstart",i=>{r.set(!0)}),t.on("dragover dragend",i=>{M1(t)&&!r.get()&&(i.preventDefault(),T7(t,dj(t,i))),i.type==="dragend"&&r.set(!1)})},Cee=t=>{const r=h=>y=>{h(t,y)},i=Jl(t);G(i)&&t.on("PastePreProcess",r(i));const u=Q3(t);G(u)&&t.on("PastePostProcess",r(u))},See=(t,r)=>{t.on("PastePreProcess",i=>{i.content=r(t,i.content,i.internal)})},xee=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,pj=t=>nn.trim(t).replace(xee,im).toLowerCase(),Eee=(t,r,i)=>{const u=ek(t);if(i||u==="all"||!tk(t))return r;const h=u?u.split(/[, ]/):[];if(h&&u!=="none"){const y=t.dom,A=t.selection.getNode();r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(R,H,Y,ge)=>{const Te=y.parseStyle(y.decode(Y)),Ae={};for(let st=0;st<h.length;st++){const Ge=Te[h[st]];let ct=Ge,ht=y.getStyle(A,h[st],!0);/color/.test(h[st])&&(ct=pj(ct),ht=pj(ht)),ht!==ct&&(Ae[h[st]]=Ge)}const nt=y.serializeStyle(Ae,"span");return nt?H+' style="'+nt+'"'+ge:H+ge})}else r=r.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return r=r.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(y,A,R,H)=>A+' style="'+R+'"'+H),r},kee=t=>{(Hn.browser.isChromium()||Hn.browser.isSafari())&&See(t,Eee)},Aee=t=>{const r=aa(!1),i=aa(nk(t)?"text":"html"),u=QQ(t);kee(t),bw(t,i),Cee(t),t.on("PreInit",()=>{bee(t),hj(t,r),pee(t,u,i)})},gj=t=>{t.on("click",r=>{t.dom.getParent(r.target,"details")&&r.preventDefault()})},Tee=t=>{t.parser.addNodeFilter("details",r=>{Oe(r,i=>{i.attr("data-mce-open",i.attr("open")),i.attr("open","open")})}),t.serializer.addNodeFilter("details",r=>{Oe(r,i=>{const u=i.attr("data-mce-open");i.attr("open",P(u)?u:null),i.attr("data-mce-open",null)})})},Oee=t=>{gj(t),Tee(t)},mj=$i,vj=yn,_ee=t=>Ei(t.dom),Fpe=t=>gu(t.dom),bj=t=>r=>gs(mt.fromDom(t),r),Rpe=(t,r)=>Lu(mt.fromDom(t),i=>Fpe(i)||Hu(i),bj(r)).getOr(mt.fromDom(r)).dom,yj=(t,r)=>Lu(mt.fromDom(t),_ee,bj(r)),wj=(t,r,i)=>{const u=new jr(t,r),h=i?u.next.bind(u):u.prev.bind(u);let y=t;for(let A=i?t:h();A&&!mj(A);A=h())wi(A)&&(y=A);return y},Mpe=(t,r)=>{const u=Yt.fromRangeStart(t).getNode(),h=Rpe(u,r),y=wj(u,h,!1),A=wj(u,h,!0),R=document.createRange();return yj(y,h).fold(()=>{vj(y)?R.setStart(y,0):R.setStartBefore(y)},H=>R.setStartBefore(H.dom)),yj(A,h).fold(()=>{vj(A)?R.setEnd(A,A.data.length):R.setEndAfter(A)},H=>R.setEndAfter(H.dom)),R},$ee=t=>{const r=Mpe(t.selection.getRng(),t.getBody());t.selection.setRng(bA(r))},tf=t=>{t.on("mousedown",r=>{r.detail>=3&&(r.preventDefault(),$ee(t))})};var kE;(function(t){t.Before="before",t.After="after"})(kE||(kE={}));const Dee=(t,r)=>Math.abs(t.left-r),Bee=(t,r)=>Math.abs(t.right-r),Nee=(t,r)=>t>=r.top&&t<=r.bottom,Pee=(t,r)=>t.top<r.bottom&&t.bottom>r.top,GT=(t,r)=>{const i=sS(t,r)/Math.min(t.height,r.height);return Pee(t,r)&&i>.5},Fee=(t,r)=>{const i=Ee(t,u=>Nee(r,u));return $_(i).fold(()=>[[],t],u=>{const{pass:h,fail:y}=ie(t,A=>GT(A,u));return[h,y]})},Ree=(t,r)=>({node:t.node,position:Dee(t,r)<Bee(t,r)?kE.Before:kE.After}),Cj=(t,r,i)=>r>t.left&&r<t.right?0:Math.min(Math.abs(t.left-r),Math.abs(t.right-r)),KT=(t,r,i)=>{const u=ge=>wi(ge.node)?q.some(ge):no(ge.node)?KT(_o(ge.node.childNodes),r,i):q.none(),h=(ge,Te)=>{if(ge.length>=2){const Ae=u(ge[0]).getOr(ge[0]),nt=u(ge[1]).getOr(ge[1]);if(Math.abs(Te(Ae,r,i)-Te(nt,r,i))<2){if(yn(Ae.node))return q.some(Ae);if(yn(nt.node))return q.some(nt)}}return q.none()},y=(ge,Te)=>{const Ae=sn(ge,(nt,st)=>Te(nt,r,i)-Te(st,r,i));return h(Ae,Te).orThunk(()=>mr(Ae,u))},[A,R]=Fee(uT(t),i),{pass:H,fail:Y}=ie(R,ge=>ge.top<i);return y(A,Cj).orThunk(()=>y(Y,rS)).orThunk(()=>y(H,rS))},O7=(t,r,i,u)=>{const h=(y,A)=>A.fold(()=>KT(_o(y.dom.childNodes),i,u),R=>{const H=Ee(_o(y.dom.childNodes),Y=>Y!==R.dom);return KT(H,i,u)}).orThunk(()=>(gs(y,t)?q.none():Qm(y)).bind(H=>h(H,q.some(y))));return h(r,q.none())},Mee=(t,r,i)=>{const u=mt.fromDom(t),h=qc(u),A=mt.fromPoint(h,r,i).filter(R=>Ia(u,R)).getOr(u);return O7(u,A,r,i)},Sj=(t,r,i)=>Mee(t,r,i).filter(u=>R0(u.node)).map(u=>Ree(u,r)),xj=t=>{var r,i;const u=t.getBoundingClientRect(),h=t.ownerDocument,y=h.documentElement,A=h.defaultView;return{top:u.top+((r=A==null?void 0:A.scrollY)!==null&&r!==void 0?r:0)-y.clientTop,left:u.left+((i=A==null?void 0:A.scrollX)!==null&&i!==void 0?i:0)-y.clientLeft}},Ej=t=>t.inline?xj(t.getBody()):{left:0,top:0},Iee=t=>{const r=t.getBody();return t.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},kj=t=>{const r=t.getBody(),i=t.getDoc().documentElement,u={left:r.scrollLeft,top:r.scrollTop},h={left:r.scrollLeft||i.scrollLeft,top:r.scrollTop||i.scrollTop};return t.inline?u:h},Lee=(t,r)=>{if(r.target.ownerDocument!==t.getDoc()){const i=xj(t.getContentAreaContainer()),u=kj(t);return{left:r.pageX-i.left+u.left,top:r.pageY-i.top+u.top}}return{left:r.pageX,top:r.pageY}},Hee=(t,r,i)=>({pageX:i.left-t.left+r.left,pageY:i.top-t.top+r.top}),jee=(t,r)=>Hee(Ej(t),Iee(t),Lee(t,r)),wv=32,zee=100,YT=8,AE=16,_7=Ei,Vee=C3(_7,gu),Uee=(t,r)=>_7(r)&&r!==t,Wee=(t,r,i)=>se(r)||r===i||t.dom.isChildOf(r,i)?!1:!_7(r),qee=t=>{const r=t.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},XT=(t,r,i,u)=>{const h=t.dom,y=r.cloneNode(!0);h.setStyles(y,{width:i,height:u}),h.setAttrib(y,"data-mce-selected",null);const A=h.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return h.setStyles(A,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:i,height:u}),h.setStyles(y,{margin:0,boxSizing:"border-box"}),A.appendChild(y),A},Aj=(t,r)=>{t.parentNode!==r&&r.appendChild(t)},TE=(t,r)=>i=>()=>{const u=t==="left"?i.scrollX:i.scrollY;i.scroll({[t]:u+r,behavior:"smooth"})},Tj=TE("left",-wv),Oj=TE("left",wv),Zee=TE("top",-wv),_j=TE("top",wv),$7=(t,r,i,u,h,y,A,R,H,Y,ge)=>{let Te=0,Ae=0;t.style.left=r.pageX+"px",t.style.top=r.pageY+"px",r.pageX+i>h&&(Te=r.pageX+i-h),r.pageY+u>y&&(Ae=r.pageY+u-y),t.style.width=i-Te+"px",t.style.height=u-Ae+"px";const nt=H.clientHeight,st=H.clientWidth,Ge=A+H.getBoundingClientRect().top,ct=R+H.getBoundingClientRect().left;ge.on(ht=>{ht.intervalId.clear(),ht.dragging&&(A+YT>=nt?ht.intervalId.set(_j(Y)):A-YT<=0?ht.intervalId.set(Zee(Y)):R+YT>=st?ht.intervalId.set(Oj(Y)):R-YT<=0?ht.intervalId.set(Tj(Y)):Ge+AE>=window.innerHeight?ht.intervalId.set(_j(window)):Ge-AE<=0?ht.intervalId.set(Zee(window)):ct+AE>=window.innerWidth?ht.intervalId.set(Oj(window)):ct-AE<=0&&ht.intervalId.set(Tj(window)))})},JT=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},QT=t=>t.button===0,Gee=(t,r)=>({pageX:r.pageX-t.relX,pageY:r.pageY+5}),Kee=(t,r)=>i=>{if(QT(i)){const u=qt(r.dom.getParents(i.target),Vee).getOr(null);if(Q(u)&&Uee(r.getBody(),u)){const h=r.dom.getPos(u),y=r.getBody(),A=r.getDoc().documentElement;t.set({element:u,dragging:!1,screenX:i.screenX,screenY:i.screenY,maxX:(r.inline?y.scrollWidth:A.offsetWidth)-2,maxY:(r.inline?y.scrollHeight:A.offsetHeight)-2,relX:i.pageX-h.x,relY:i.pageY-h.y,width:u.offsetWidth,height:u.offsetHeight,ghost:XT(r,u,u.offsetWidth,u.offsetHeight),intervalId:E_(zee)})}}},$j=(t,r)=>{const i=jy((h,y)=>{r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(h,y)},0);r.on("remove",i.cancel);const u=t;return h=>t.on(y=>{const A=Math.max(Math.abs(h.screenX-y.screenX),Math.abs(h.screenY-y.screenY));if(!y.dragging&&A>10){if(r.dispatch("dragstart",{target:y.element}).isDefaultPrevented())return;y.dragging=!0,r.focus()}if(y.dragging){const R=Gee(y,jee(r,h));Aj(y.ghost,r.getBody()),$7(y.ghost,R,y.width,y.height,y.maxX,y.maxY,h.clientY,h.clientX,r.getContentAreaContainer(),r.getWin(),u),i.throttle(h.clientX,h.clientY)}})},Yee=t=>{const r=t.getSel();if(Q(r)){const u=r.getRangeAt(0).startContainer;return yn(u)?u.parentNode:u}else return null},D7=(t,r)=>i=>{t.on(u=>{if(u.intervalId.clear(),u.dragging){if(Wee(r,Yee(r.selection),u.element)){const h=qee(u.element);r.dispatch("drop",{clientX:i.clientX,clientY:i.clientY}).isDefaultPrevented()||r.undoManager.transact(()=>{JT(u.element),r.insertContent(r.dom.getOuterHTML(h)),r._selectionOverrides.hideFakeCaret()})}r.dispatch("dragend")}}),Bj(t)},Dj=(t,r)=>()=>{t.on(i=>{i.intervalId.clear(),i.dragging&&r.dispatch("dragend")}),Bj(t)},Bj=t=>{t.on(r=>{r.intervalId.clear(),JT(r.ghost)}),t.clear()},Nj=t=>{const r=xh(),i=$s.DOM,u=document,h=Kee(r,t),y=$j(r,t),A=D7(r,t),R=Dj(r,t);t.on("mousedown",h),t.on("mousemove",y),t.on("mouseup",A),i.bind(u,"mousemove",y),i.bind(u,"mouseup",R),t.on("remove",()=>{i.unbind(u,"mousemove",y),i.unbind(u,"mouseup",R)}),t.on("keydown",H=>{H.keyCode===yo.ESC&&R()})},Xee=t=>{const r=h=>{if(!h.isDefaultPrevented()){const y=h.dataTransfer;y&&(He(y.types,"Files")||y.files.length>0)&&(h.preventDefault(),h.type==="drop"&&GA(t,"Dropped file type is not supported"))}},i=h=>{ym(t,h.target)&&r(h)},u=()=>{const h=$s.DOM,y=t.dom,A=document,R=t.inline?t.getBody():t.getDoc(),H=["drop","dragover"];Oe(H,Y=>{h.bind(A,Y,i),y.bind(R,Y,r)}),t.on("remove",()=>{Oe(H,Y=>{h.unbind(A,Y,i),y.unbind(R,Y,r)})})};t.on("init",()=>{Yn.setEditorTimeout(t,u,0)})},Ipe=t=>{Nj(t),xS(t)&&Xee(t)},Jee=t=>{const r=jy(()=>{if(!t.removed&&t.getBody().contains(document.activeElement)){const i=t.selection.getRng();if(i.collapsed){const u=n8(t,i,!1);t.selection.setRng(u)}}},0);t.on("focus",()=>{r.throttle()}),t.on("blur",()=>{r.cancel()})},Qee=t=>{t.on("init",()=>{t.on("focusin",r=>{const i=r.target;if(ia(i)){const u=xm(t.getBody(),i),h=Ei(u)?u:i;t.selection.getNode()!==h&&mv(t,h).each(y=>t.selection.setRng(y))}})})},jb=Ei,B7=(t,r)=>xm(t.getBody(),r),Pj=t=>{const r=t.selection,i=t.dom,u=t.getBody(),h=c$(t,u,i.isBlock,()=>wm(t)),y="sel-"+i.uniqueId(),A="data-mce-selected";let R;const H=un=>Q(un)&&i.hasClass(un,"mce-offscreen-selection"),Y=un=>un!==u&&(jb(un)||ia(un))&&i.isChildOf(un,u),ge=un=>{un&&r.setRng(un)},Te=(un,Wt,Kt,Nn=!0)=>t.dispatch("ShowCaret",{target:Wt,direction:un,before:Kt}).isDefaultPrevented()?null:(Nn&&r.scrollIntoView(Wt,un===-1),h.show(Kt,Wt)),Ae=un=>{un.hasAttribute("data-mce-caret")&&(wf(un),r.scrollIntoView(un))},nt=()=>{t.on("click",Wt=>{const Kt=B7(t,Wt.target);Kt&&jb(Kt)&&(Wt.preventDefault(),t.focus())}),t.on("blur NewBlock",Jt),t.on("ResizeWindow FullscreenStateChanged",h.reposition),t.on("tap",Wt=>{const Kt=Wt.target,Nn=B7(t,Kt);jb(Nn)?(Wt.preventDefault(),mv(t,Nn).each(Dt)):Y(Kt)&&mv(t,Kt).each(Dt)},!0),t.on("mousedown",Wt=>{const Kt=Wt.target;if(Kt!==u&&Kt.nodeName!=="HTML"&&!i.isChildOf(Kt,u)||!lpe(t,Wt.clientX,Wt.clientY))return;Jt(),Bn();const Nn=B7(t,Kt);jb(Nn)?(Wt.preventDefault(),mv(t,Nn).each(Dt)):Sj(u,Wt.clientX,Wt.clientY).each(vo=>{Wt.preventDefault();const Ao=Te(1,vo.node,vo.position===kE.Before,!1);ge(Ao),no(Nn)?Nn.focus():t.getBody().focus()})}),t.on("keypress",Wt=>{yo.modifierPressed(Wt)||jb(r.getNode())&&Wt.preventDefault()}),t.on("GetSelectionRange",Wt=>{let Kt=Wt.range;if(R){if(!R.parentNode){R=null;return}Kt=Kt.cloneRange(),Kt.selectNode(R),Wt.range=Kt}}),t.on("SetSelectionRange",Wt=>{Wt.range=ct(Wt.range);const Kt=Dt(Wt.range,Wt.forward);Kt&&(Wt.range=Kt)});const un=Wt=>no(Wt)&&Wt.id==="mcepastebin";t.on("AfterSetSelectionRange",Wt=>{const Kt=Wt.range,Nn=Kt.startContainer.parentElement;!Ge(Kt)&&!un(Nn)&&Bn(),H(Nn)||Jt()}),Ipe(t),Jee(t),Qee(t)},st=un=>ns(un)||ju(un)||gh(un),Ge=un=>st(un.startContainer)||st(un.endContainer),ct=un=>{const Wt=t.schema.getVoidElements(),Kt=i.createRng(),Nn=un.startContainer,vo=un.startOffset,Ao=un.endContainer,ir=un.endOffset;return To(Wt,Nn.nodeName.toLowerCase())?vo===0?Kt.setStartBefore(Nn):Kt.setStartAfter(Nn):Kt.setStart(Nn,vo),To(Wt,Ao.nodeName.toLowerCase())?ir===0?Kt.setEndBefore(Ao):Kt.setEndAfter(Ao):Kt.setEnd(Ao,ir),Kt},ht=(un,Wt)=>{const Kt=mt.fromDom(t.getBody()),Nn=t.getDoc(),vo=Ad(Kt,"#"+y).getOrThunk(()=>{const Zr=mt.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Nn);return _s(Zr,"id",y),Li(Kt,Zr),Zr}),Ao=i.createRng();yi(vo),er(vo,[mt.fromText(Gi,Nn),mt.fromDom(Wt),mt.fromText(Gi,Nn)]),Ao.setStart(vo.dom.firstChild,1),Ao.setEnd(vo.dom.lastChild,0),vt(vo,{top:i.getPos(un,t.getBody()).y+"px"}),nA(vo);const ir=r.getSel();return ir&&(ir.removeAllRanges(),ir.addRange(Ao)),Ao},Et=un=>{const Wt=un.cloneNode(!0),Kt=t.dispatch("ObjectSelected",{target:un,targetClone:Wt});if(Kt.isDefaultPrevented())return null;const Nn=ht(un,Kt.targetClone),vo=mt.fromDom(un);return Oe($t(mt.fromDom(t.getBody()),`*[${A}]`),Ao=>{gs(vo,Ao)||Ii(Ao,A)}),i.getAttrib(un,A)||un.setAttribute(A,"1"),R=un,Bn(),Nn},Dt=(un,Wt)=>{if(!un)return null;if(un.collapsed){if(!Ge(un)){const Ao=Wt?1:-1,ir=H0(Ao,u,un),Zr=ir.getNode(!Wt);if(R0(Zr))return Te(Ao,Zr,Wt?!ir.isAtEnd():!1,!1);const bs=ir.getNode(Wt);if(R0(bs))return Te(Ao,bs,Wt?!1:!ir.isAtEnd(),!1)}return null}let Kt=un.startContainer,Nn=un.startOffset;const vo=un.endOffset;if(yn(Kt)&&Nn===0&&jb(Kt.parentNode)&&(Kt=Kt.parentNode,Nn=i.nodeIndex(Kt),Kt=Kt.parentNode),!no(Kt))return null;if(vo===Nn+1&&Kt===un.endContainer){const Ao=Kt.childNodes[Nn];if(Y(Ao))return Et(Ao)}return null},Jt=()=>{R&&R.removeAttribute(A),Ad(mt.fromDom(t.getBody()),"#"+y).each(ts),R=null},an=()=>{h.destroy(),R=null},Bn=()=>{h.hide()};return Hh(t)||nt(),{showCaret:Te,showBlockCaretContainer:Ae,hideFakeCaret:Bn,destroy:an}},ete=(t,r)=>{let i=r;for(let u=t.previousSibling;yn(u);u=u.previousSibling)i+=u.data.length;return i},Fj=(t,r,i,u,h)=>{if(yn(i)&&(u<0||u>i.data.length))return[];const y=h&&yn(i)?[ete(i,u)]:[u];let A=i;for(;A!==r&&A.parentNode;)y.push(t.nodeIndex(A,h)),A=A.parentNode;return A===r?y.reverse():[]},N7=(t,r,i,u,h,y,A=!1)=>{const R=Fj(t,r,i,u,A),H=Fj(t,r,h,y,A);return{start:R,end:H}},Rj=(t,r)=>{const i=r.slice(),u=i.pop();return ce(u)?Xe(i,(y,A)=>y.bind(R=>q.from(R.childNodes[A])),q.some(t)).bind(y=>yn(y)&&(u<0||u>y.data.length)?q.none():q.some({node:y,offset:u})):q.none()},Mj=(t,r)=>Rj(t,r.start).bind(({node:i,offset:u})=>Rj(t,r.end).map(({node:h,offset:y})=>{const A=document.createRange();return A.setStart(i,u),A.setEnd(h,y),A})),Ij=(t,r,i,u=!1)=>N7(t,r,i.startContainer,i.startOffset,i.endContainer,i.endOffset,u),OE=(t,r,i)=>{if(r&&t.isEmpty(r)&&!i(r)){const u=r.parentNode;t.remove(r),OE(t,u,i)}},eO=(t,r,i,u=!0)=>{const h=r.startContainer.parentNode,y=r.endContainer.parentNode;r.deleteContents(),u&&!i(r.startContainer)&&(yn(r.startContainer)&&r.startContainer.data.length===0&&t.remove(r.startContainer),yn(r.endContainer)&&r.endContainer.data.length===0&&t.remove(r.endContainer),OE(t,h,i),h!==y&&OE(t,y,i))},tO=(t,r)=>q.from(t.dom.getParent(r.startContainer,t.dom.isBlock)),Lj=(t,r,i)=>{const u=t.dynamicPatternsLookup({text:i,block:r});return{...t,blockPatterns:pS(u).concat(t.blockPatterns),inlinePatterns:gS(u).concat(t.inlinePatterns)}},nO=(t,r,i,u)=>{const h=t.createRng();return h.setStart(r,0),h.setEnd(i,u),h.toString()},Hj=(t,r,i)=>{VL(r,0,r).each(h=>{const y=h.container;Z8(y,i.start.length,r).each(A=>{const R=t.createRng();R.setStart(y,0),R.setEnd(A.container,A.offset),eO(t,R,H=>H===r)})})},tte=(t,r)=>{const i=t.dom,u=r.pattern,h=Mj(i.getRoot(),r.range).getOrDie("Unable to resolve path range"),y=(A,R)=>{const H=R.get(A);return K(H)&&Pn(H).exists(Y=>To(Y,"block"))};return tO(t,h).each(A=>{u.type==="block-format"?y(u.format,t.formatter)&&t.undoManager.transact(()=>{Hj(t.dom,A,u),t.formatter.apply(u.format)}):u.type==="block-command"&&t.undoManager.transact(()=>{Hj(t.dom,A,u),t.execCommand(u.cmd,!1,u.value)})}),!0},nte=t=>sn(t,(r,i)=>i.start.length-r.start.length),jj=(t,r)=>{const i=nte(t),u=r.replace(Gi," ");return qt(i,h=>r.indexOf(h.start)===0||u.indexOf(h.start)===0)},oO=(t,r,i,u)=>{var h;const y=t.dom,A=hi(t);if(!y.is(r,A))return[];const R=(h=r.textContent)!==null&&h!==void 0?h:"";return jj(i.blockPatterns,R).map(H=>nn.trim(R).length===H.start.length?[]:[{pattern:H,range:N7(y,y.getRoot(),r,0,r,0,u)}]).getOr([])},zj=(t,r)=>{if(r.length===0)return;const i=t.selection.getBookmark();Oe(r,u=>tte(t,u)),t.selection.moveToBookmark(i)},P7=(t,r)=>t.create("span",{"data-mce-type":"bookmark",id:r}),rO=(t,r)=>{const i=t.createRng();return i.setStartAfter(r.start),i.setEndBefore(r.end),i},Vj=(t,r,i)=>{const u=Mj(t.getRoot(),i).getOrDie("Unable to resolve path range"),h=u.startContainer,y=u.endContainer,A=u.endOffset===0?y:y.splitText(u.endOffset),R=u.startOffset===0?h:h.splitText(u.startOffset),H=R.parentNode,Y=A.parentNode;return{prefix:r,end:Y.insertBefore(P7(t,r+"-end"),A),start:H.insertBefore(P7(t,r+"-start"),R)}},F7=(t,r,i)=>{OE(t,t.get(r.prefix+"-end"),i),OE(t,t.get(r.prefix+"-start"),i)},R7=t=>t.start.length===0,ote=t=>(r,i)=>{const h=r.data.substring(0,i),y=h.lastIndexOf(t.charAt(t.length-1)),A=h.lastIndexOf(t);return A!==-1?A+t.length:y!==-1?y+1:-1},Uj=(t,r,i,u)=>{const h=r.start;return G8(t,u.container,u.offset,ote(h),i).bind(A=>{if(A.offset>=h.length){const R=t.createRng();return R.setStart(A.container,A.offset-h.length),R.setEnd(A.container,A.offset),q.some(R)}else{const R=A.offset-h.length;return q8(A.container,R,i).map(H=>{const Y=t.createRng();return Y.setStart(H.container,H.offset),Y.setEnd(A.container,A.offset),Y}).filter(H=>H.toString()===h).orThunk(()=>Uj(t,r,i,qd(A.container,0)))}})},M7=(t,r,i,u,h,y=!1)=>{if(r.start.length===0&&!y){const A=t.createRng();return A.setStart(i,u),A.setEnd(i,u),q.some(A)}return W8(i,u,h).bind(A=>Uj(t,r,h,A).bind(H=>{var Y;if(y){if(H.endContainer===A.container&&H.endOffset===A.offset)return q.none();if(A.offset===0&&((Y=H.endContainer.textContent)===null||Y===void 0?void 0:Y.length)===H.endOffset)return q.none()}return q.some(H)}))},rte=(t,r,i,u)=>{const h=t.dom,y=h.getRoot(),A=i.pattern,R=i.position.container,H=i.position.offset;return q8(R,H-i.pattern.end.length,r).bind(Y=>{const ge=N7(h,y,Y.container,Y.offset,R,H,u);if(R7(A))return q.some({matches:[{pattern:A,startRng:ge,endRng:ge}],position:Y});{const Te=Wj(t,i.remainingPatterns,Y.container,Y.offset,r,u),Ae=Te.getOr({matches:[],position:Y}),nt=Ae.position;return M7(h,A,nt.container,nt.offset,r,Te.isNone()).map(Ge=>{const ct=Ij(h,y,Ge,u);return{matches:Ae.matches.concat([{pattern:A,startRng:ct,endRng:ge}]),position:qd(Ge.startContainer,Ge.startOffset)}})}})},Wj=(t,r,i,u,h,y)=>{const A=t.dom;return W8(i,u,A.getRoot()).bind(R=>{const H=nO(A,h,i,u);for(let Y=0;Y<r.length;Y++){const ge=r[Y];if(!Hr(H,ge.end))continue;const Te=r.slice();Te.splice(Y,1);const Ae=rte(t,h,{pattern:ge,remainingPatterns:Te,position:R},y);if(Ae.isSome())return Ae}return q.none()})},qj=(t,r,i)=>{t.selection.setRng(i),r.type==="inline-format"?Oe(r.format,u=>{t.formatter.apply(u)}):t.execCommand(r.cmd,!1,r.value)},ste=(t,r,i,u)=>{const h=rO(t.dom,i);eO(t.dom,h,u),qj(t,r,h)},ite=(t,r,i,u,h)=>{const y=t.dom,A=rO(y,u),R=rO(y,i);eO(y,R,h),eO(y,A,h);const H={prefix:i.prefix,start:i.end,end:u.start},Y=rO(y,H);qj(t,r,Y)},ate=(t,r)=>{const i=Vy("mce_textpattern"),u=ot(r,(h,y)=>{const A=Vj(t,i+`_end${h.length}`,y.endRng);return h.concat([{...y,endMarker:A}])},[]);return ot(u,(h,y)=>{const A=u.length-h.length-1,R=R7(y.pattern)?y.endMarker:Vj(t,i+`_start${A}`,y.startRng);return h.concat([{...y,startMarker:R}])},[])},I7=(t,r,i,u,h,y)=>Wj(t,h.inlinePatterns,i,u,r,y).fold(()=>[],A=>A.matches),L7=(t,r)=>{if(r.length===0)return;const i=t.dom,u=t.selection.getBookmark(),h=ate(i,r);Oe(h,y=>{const A=i.getParent(y.startMarker.start,i.isBlock),R=H=>H===A;R7(y.pattern)?ste(t,y.pattern,y.endMarker,R):ite(t,y.pattern,y.startMarker,y.endMarker,R),F7(i,y.endMarker,R),F7(i,y.startMarker,R)}),t.selection.moveToBookmark(u)},H7=(t,r)=>{const i=t.selection.getRng();return tO(t,i).map(u=>{var h;const y=Math.max(0,i.startOffset),A=Lj(r,u,(h=u.textContent)!==null&&h!==void 0?h:""),R=I7(t,u,i.startContainer,y,A,!0),H=oO(t,u,A,!0);return H.length>0||R.length>0?(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{t.insertContent(ph),L7(t,R),zj(t,H);const Y=t.selection.getRng(),ge=W8(Y.startContainer,Y.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),ge.each(Te=>{const Ae=Te.container;Ae.data.charAt(Te.offset-1)===ph&&(Ae.deleteData(Te.offset-1,1),OE(t.dom,Ae.parentNode,nt=>nt===t.dom.getRoot()))})}),!0):!1}).getOr(!1)},j7=(t,r)=>{const i=t.selection.getRng();tO(t,i).map(u=>{const h=Math.max(0,i.startOffset-1),y=nO(t.dom,u,i.startContainer,h),A=Lj(r,u,y),R=I7(t,u,i.startContainer,h,A,!1);R.length>0&&t.undoManager.transact(()=>{L7(t,R)})})},Zj=(t,r,i)=>{for(let u=0;u<t.length;u++)if(i(t[u],r))return!0;return!1},z7=(t,r)=>Zj(t,r,(i,u)=>i===u.keyCode&&!yo.modifierPressed(u)),lte=(t,r)=>Zj(t,r,(i,u)=>i.charCodeAt(0)===u.charCode),cte=t=>{const r=[",",".",";",":","!","?"],i=[32],u=()=>F3(J_(t),Q_(t)),h=()=>t$(t);t.on("keydown",A=>{if(A.keyCode===13&&!yo.modifierPressed(A)&&t.selection.isCollapsed()){const R=u();(R.inlinePatterns.length>0||R.blockPatterns.length>0||h())&&H7(t,R)&&A.preventDefault()}},!0);const y=()=>{if(t.selection.isCollapsed()){const A=u();(A.inlinePatterns.length>0||h())&&j7(t,A)}};t.on("keyup",A=>{z7(i,A)&&y()}),t.on("keypress",A=>{lte(r,A)&&Yn.setEditorTimeout(t,y)})},ute=t=>{cte(t)},fte=t=>{const r=nn.each,i=yo.BACKSPACE,u=yo.DELETE,h=t.dom,y=t.selection,A=t.parser,R=Hn.browser,H=R.isFirefox(),Y=R.isChromium()||R.isSafari(),ge=Hn.deviceType.isiPhone()||Hn.deviceType.isiPad(),Te=Hn.os.isMacOS()||Hn.os.isiOS(),Ae=(ao,Xo)=>{try{t.getDoc().execCommand(ao,!1,String(Xo))}catch{}},nt=ao=>ao.isDefaultPrevented(),st=()=>{const ao=jo=>{const Vn=h.create("body"),Pr=jo.cloneContents();return Vn.appendChild(Pr),y.serializer.serialize(Vn,{format:"html"})},Xo=jo=>{const Vn=ao(jo),Pr=h.createRng();Pr.selectNode(t.getBody());const gr=ao(Pr);return Vn===gr};t.on("keydown",jo=>{const Vn=jo.keyCode;if(!nt(jo)&&(Vn===u||Vn===i)){const Pr=t.selection.isCollapsed(),gr=t.getBody();if(Pr&&!h.isEmpty(gr)||!Pr&&!Xo(t.selection.getRng()))return;jo.preventDefault(),t.setContent(""),gr.firstChild&&h.isBlock(gr.firstChild)?t.selection.setCursorLocation(gr.firstChild,0):t.selection.setCursorLocation(gr,0),t.nodeChanged()}})},Ge=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},ct=()=>{t.inline||h.bind(t.getDoc(),"mousedown mouseup",ao=>{let Xo;if(ao.target===t.getDoc().documentElement)if(Xo=y.getRng(),t.getBody().focus(),ao.type==="mousedown"){if(ns(Xo.startContainer))return;y.placeCaretAt(ao.clientX,ao.clientY)}else y.setRng(Xo)})},ht=()=>{t.on("keydown",ao=>{if(!nt(ao)&&ao.keyCode===i){if(!t.getBody().getElementsByTagName("hr").length)return;if(y.isCollapsed()&&y.getRng().startOffset===0){const Xo=y.getNode(),jo=Xo.previousSibling;if(Xo.nodeName==="HR"){h.remove(Xo),ao.preventDefault();return}jo&&jo.nodeName&&jo.nodeName.toLowerCase()==="hr"&&(h.remove(jo),ao.preventDefault())}}})},Et=()=>{Range.prototype.getClientRects||t.on("mousedown",ao=>{if(!nt(ao)&&ao.target.nodeName==="HTML"){const Xo=t.getBody();Xo.blur(),Yn.setEditorTimeout(t,()=>{Xo.focus()})}})},Dt=()=>{const ao=Qg(t);t.on("click",Xo=>{const jo=Xo.target;/^(IMG|HR)$/.test(jo.nodeName)&&h.getContentEditableParent(jo)!=="false"&&(Xo.preventDefault(),t.selection.select(jo),t.nodeChanged()),jo.nodeName==="A"&&h.hasClass(jo,ao)&&jo.childNodes.length===0&&(Xo.preventDefault(),y.select(jo))})},Jt=()=>{const ao=()=>{const jo=h.getAttribs(y.getStart().cloneNode(!1));return()=>{const Vn=y.getStart();Vn!==t.getBody()&&(h.setAttrib(Vn,"style",null),r(jo,Pr=>{Vn.setAttributeNode(Pr.cloneNode(!0))}))}},Xo=()=>!y.isCollapsed()&&h.getParent(y.getStart(),h.isBlock)!==h.getParent(y.getEnd(),h.isBlock);t.on("keypress",jo=>{let Vn;return!nt(jo)&&(jo.keyCode===8||jo.keyCode===46)&&Xo()?(Vn=ao(),t.getDoc().execCommand("delete",!1),Vn(),jo.preventDefault(),!1):!0}),h.bind(t.getDoc(),"cut",jo=>{if(!nt(jo)&&Xo()){const Vn=ao();Yn.setEditorTimeout(t,()=>{Vn()})}})},an=()=>{t.on("keydown",ao=>{if(!nt(ao)&&ao.keyCode===i&&y.isCollapsed()&&y.getRng().startOffset===0){const Xo=y.getNode().previousSibling;if(Xo&&Xo.nodeName&&Xo.nodeName.toLowerCase()==="table")return ao.preventDefault(),!1}return!0})},Bn=()=>{t.on("keydown",ao=>{if(nt(ao)||ao.keyCode!==yo.BACKSPACE)return;let Xo=y.getRng();const jo=Xo.startContainer,Vn=Xo.startOffset,Pr=h.getRoot();let gr=jo;if(!(!Xo.collapsed||Vn!==0)){for(;gr.parentNode&&gr.parentNode.firstChild===gr&&gr.parentNode!==Pr;)gr=gr.parentNode;gr.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,gr),Xo=h.createRng(),Xo.setStart(jo,0),Xo.setEnd(jo,0),y.setRng(Xo))}})},un=()=>{const ao=()=>{Ae("StyleWithCSS",!1),Ae("enableInlineTableEditing",!1),V3(t)||Ae("enableObjectResizing",!1)};K3(t)||t.on("BeforeExecCommand mousedown",ao)},Wt=()=>{const ao=()=>{r(h.select("a"),Xo=>{var jo;let Vn=Xo.parentNode;const Pr=h.getRoot();if((Vn==null?void 0:Vn.lastChild)===Xo){for(;Vn&&!h.isBlock(Vn);){if(((jo=Vn.parentNode)===null||jo===void 0?void 0:jo.lastChild)!==Vn||Vn===Pr)return;Vn=Vn.parentNode}h.add(Vn,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",Xo=>{(Xo.type==="setcontent"||Xo.command==="mceInsertLink")&&ao()})},Kt=()=>{t.on("init",()=>{Ae("DefaultParagraphSeparator",hi(t))})},Nn=ao=>{const Xo=ao.getBody(),jo=ao.selection.getRng();return jo.startContainer===jo.endContainer&&jo.startContainer===Xo&&jo.startOffset===0&&jo.endOffset===Xo.childNodes.length},vo=()=>{t.on("keyup focusin mouseup",ao=>{!yo.modifierPressed(ao)&&!Nn(t)&&y.normalize()},!0)},Ao=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ir=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},Zr=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",ao=>{let Xo;ao.target.nodeName==="HTML"&&(Xo=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Xo),t.selection.normalize(),t.nodeChanged())}))},bs=()=>{Te&&t.on("keydown",ao=>{yo.metaKeyPressed(ao)&&!ao.shiftKey&&(ao.keyCode===37||ao.keyCode===39)&&(ao.preventDefault(),t.selection.getSel().modify("move",ao.keyCode===37?"backward":"forward","lineboundary"))})},Ys=()=>{t.on("click",ao=>{let Xo=ao.target;do if(Xo.tagName==="A"){ao.preventDefault();return}while(Xo=Xo.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},xl=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",ao=>{ao.preventDefault()})})},On=()=>{A.addNodeFilter("br",ao=>{let Xo=ao.length;for(;Xo--;)ao[Xo].attr("class")==="Apple-interchange-newline"&&ao[Xo].remove()})},dr=ve,Nr=()=>{if(!H||t.removed)return!1;const ao=t.selection.getSel();return!ao||!ao.rangeCount||ao.rangeCount===0},Yo=()=>{Y&&(ct(),Dt(),xl(),Ge(),ge&&(ir(),Zr(),Ys())),H&&(Et(),un(),Ao(),bs())},ca=()=>{Bn(),st(),Hn.windowsPhone||vo(),Y&&(ct(),Dt(),Kt(),xl(),an(),On(),ge?(ir(),Zr(),Ys()):Ge()),H&&(ht(),Et(),Jt(),un(),Wt(),Ao(),bs(),an())};return Hh(t)?Yo():ca(),{refreshContentEditable:dr,isHidden:Nr}},V7=$s.DOM,dte=(t,r)=>{const i=mt.fromDom(t.getBody()),u=Cd(hu(i)),h=mt.fromTag("style");_s(h,"type","text/css"),Li(h,mt.fromText(r)),Li(u,h),t.on("remove",()=>{ts(h)})},hte=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,sO=t=>pr(t,r=>xe(r)===!1),Gj=t=>{const r=t.options.get,i=t.editorUpload.blobCache;return sO({allow_conditional_comments:r("allow_conditional_comments"),allow_html_data_urls:r("allow_html_data_urls"),allow_svg_data_urls:r("allow_svg_data_urls"),allow_html_in_named_anchor:r("allow_html_in_named_anchor"),allow_script_urls:r("allow_script_urls"),allow_unsafe_link_target:r("allow_unsafe_link_target"),convert_fonts_to_spans:r("convert_fonts_to_spans"),fix_list_elements:r("fix_list_elements"),font_size_legacy_values:r("font_size_legacy_values"),forced_root_block:r("forced_root_block"),forced_root_block_attrs:r("forced_root_block_attrs"),preserve_cdata:r("preserve_cdata"),remove_trailing_brs:r("remove_trailing_brs"),inline_styles:r("inline_styles"),root_name:hte(t),validate:!0,blob_cache:i,document:t.getDoc()})},Kj=t=>{const r=t.options.get;return sO({custom_elements:r("custom_elements"),extended_valid_elements:r("extended_valid_elements"),invalid_elements:r("invalid_elements"),invalid_styles:r("invalid_styles"),schema:r("schema"),valid_children:r("valid_children"),valid_classes:r("valid_classes"),valid_elements:r("valid_elements"),valid_styles:r("valid_styles"),verify_html:r("verify_html"),padd_empty_block_inline_children:r("format_empty_lines")})},pte=t=>{const r=t.options.get;return{...Gj(t),...Kj(t),...sO({url_converter:r("url_converter"),url_converter_scope:r("url_converter_scope"),element_format:r("element_format"),entities:r("entities"),entity_encoding:r("entity_encoding"),indent:r("indent"),indent_after:r("indent_after"),indent_before:r("indent_before")})}},gte=t=>{const r=ew(Gj(t),t.schema);return r.addAttributeFilter("src,href,style,tabindex",(i,u)=>{const h=t.dom,y="data-mce-"+u;let A=i.length;for(;A--;){const R=i[A];let H=R.attr(u);if(H&&!R.attr(y)){if(H.indexOf("data:")===0||H.indexOf("blob:")===0)continue;u==="style"?(H=h.serializeStyle(h.parseStyle(H),R.name),H.length||(H=null),R.attr(y,H),R.attr(u,H)):u==="tabindex"?(R.attr(y,H),R.attr(u,null)):R.attr(y,t.convertURL(H,u,R.name))}}}),r.addNodeFilter("script",i=>{let u=i.length;for(;u--;){const h=i[u],y=h.attr("type")||"no/type";y.indexOf("mce-")!==0&&h.attr("type","mce-"+y)}}),AS(t)&&r.addNodeFilter("#cdata",i=>{var u;let h=i.length;for(;h--;){const y=i[h];y.type=8,y.name="#comment",y.value="[CDATA["+t.dom.encode((u=y.value)!==null&&u!==void 0?u:"")+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",i=>{let u=i.length;const h=t.schema.getNonEmptyElements();for(;u--;){const y=i[u];y.isEmpty(h)&&y.getAll("br").length===0&&y.append(new nu("br",1))}}),r},mte=t=>{const r=kS(t);r&&Yn.setEditorTimeout(t,()=>{let i;r===!0?i=t:i=t.editorManager.get(r),i&&!i.destroyed&&(i.focus(),i.selection.scrollIntoView())},100)},vte=t=>{const r=t.dom.getRoot();!t.inline&&(!Y0(t)||t.selection.getStart(!0)===r)&&ya(r).each(i=>{const u=i.getNode(),h=vf(u)?ya(u).getOr(i):i;t.selection.setRng(h.toRange())})},bte=t=>{t.bindPendingEventDelegates(),t.initialized=!0,cm(t),t.focus(!0),vte(t),t.nodeChanged({initial:!0});const r=J3(t);G(r)&&r.call(t,t),mte(t)},U7=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,yte=(t,r,i)=>{const u=[U7(t).loadAll(r)];return t.inline?u:u.concat([t.ui.styleSheetLoader.loadAll(i)])},iO=t=>{const r=U7(t),i=Va(t),u=t.contentCSS,h=()=>{r.unloadAll(u),t.inline||t.ui.styleSheetLoader.unloadAll(i)},y=()=>{t.removed?h():t.on("remove",h)};if(t.contentStyles.length>0){let H="";nn.each(t.contentStyles,Y=>{H+=Y+`\r
`}),t.dom.addStyle(H)}const A=Promise.all(yte(t,u,i)).then(y).catch(y),R=U_(t);return R&&dte(t,R),A},wte=t=>{const r=t.getDoc(),i=t.getBody();Nk(t),X_(t)||(r.body.spellcheck=!1,V7.setAttrib(i,"spellcheck","false")),t.quirks=fte(t),rx(t);const u=W_(t);u!==void 0&&(i.dir=u);const h=em(t);h&&t.on("BeforeSetContent",y=>{nn.each(h,A=>{y.content=y.content.replace(A,R=>"<!--mce:protected "+escape(R)+"-->")})}),t.on("SetContent",()=>{t.addVisual(t.getBody())}),t.on("compositionstart compositionend",y=>{t.composing=y.type==="compositionstart"})},Cte=t=>{Hh(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},W7=t=>{t.removed!==!0&&(Cte(t),bte(t))},Yj=t=>{const r=t.getElement();let i=t.getDoc();t.inline&&(V7.addClass(r,"mce-content-body"),t.contentDocument=i=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);const u=t.getBody();u.disabled=!0,t.readonly=K3(t),t.readonly||(t.inline&&V7.getStyle(u,"position",!0)==="static"&&(u.style.position="relative"),u.contentEditable="true"),u.disabled=!1,t.editorUpload=XA(t),t.schema=zu(Kj(t)),t.dom=$s(i,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:wS(t),referrerPolicy:CS(t),onSetAttrib:A=>{t.dispatch("SetAttrib",A)}}),t.parser=gte(t),t.serializer=JM(pte(t),t),t.selection=L6(t.dom,t.getWin(),t.serializer,t),t.annotator=xu(t),t.formatter=q6(t),t.undoManager=Xp(t),t._nodeChangeDispatcher=new qH(t),t._selectionOverrides=Pj(t),QX(t),Oee(t),oJ(t),Hh(t)||(tf(t),ute(t));const h=y7(t);YX(t,h),B8(t),WY(t),Aee(t);const y=HK(t);wte(t),y.fold(()=>{iO(t).then(()=>W7(t))},A=>{t.setProgressState(!0),iO(t).then(()=>{A().then(R=>{t.setProgressState(!1),W7(t),WM(t)},R=>{t.notificationManager.open({type:"error",text:String(R)}),W7(t),WM(t)})})})},Xj=(t,r)=>{if(t.inline||(t.getElement().style.visibility=t.orgVisibility),!r&&!t.inline){const i=t.iframeElement,u=MY(mt.fromDom(i),"load",()=>{u.unbind(),t.contentDocument=i.contentDocument,Yj(t)});if(Hn.browser.isFirefox()){const h=t.getDoc();h.open(),h.write(t.iframeHTML),h.close()}else i.srcdoc=t.iframeHTML}else Yj(t)},q7=$s.DOM,aO=(t,r,i,u)=>{const h=mt.fromTag("iframe");return u.each(y=>_s(h,"tabindex",y)),Jr(h,i),Jr(h,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),zf(h,"tox-edit-area__iframe"),h},Ste=t=>{let r=R3(t)+"<html><head>";M3(t)!==t.documentBaseUrl&&(r+='<base href="'+t.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const i=I_(t),u=Il(t),h=t.translate(D0(t));return yl(t)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+yl(t)+'" />'),r+=`</head><body id="${i}" class="mce-content-body ${u}" data-id="${t.id}" aria-label="${h}"><br></body></html>`,r},xte=(t,r)=>{const i=t.translate("Rich Text Area"),u=pl(mt.fromDom(t.getElement()),"tabindex").bind(Ls),h=aO(t.id,i,vS(t),u).dom;h.onload=()=>{h.onload=null,t.dispatch("load")},t.contentAreaContainer=r.iframeContainer,t.iframeElement=h,t.iframeHTML=Ste(t),q7.add(r.iframeContainer,h)},Ete=(t,r)=>{xte(t,r),r.editorContainer&&(r.editorContainer.style.display=t.orgDisplay,t.hidden=q7.isHidden(r.editorContainer)),t.getElement().style.display="none",q7.setAttrib(t.id,"aria-hidden","true"),Xj(t)},Jj=$s.DOM,kte=(t,r,i)=>{const u=Qu.get(i),h=Qu.urls[i]||t.documentBaseUrl.replace(/\/$/,"");if(i=nn.trim(i),u&&nn.inArray(r,i)===-1){if(t.plugins[i])return;try{const y=u(t,h)||{};t.plugins[i]=y,G(y.init)&&(y.init(t,h),r.push(i))}catch(y){DY(t,i,y)}}},Ate=t=>t.replace(/^\-/,""),Tte=t=>{const r=[];Oe(Pp(t),i=>{kte(t,r,Ate(i))})},Ote=t=>{const r=nn.trim(Jy(t)),i=t.ui.registry.getAll().icons,u={...rw.get("default").icons,...rw.get(r).icons};xn(u,(h,y)=>{To(i,y)||t.ui.registry.addIcon(y,h)})},_te=t=>{const r=Yg(t);if(P(r)){const i=sw.get(r);t.theme=i(t,sw.urls[r])||{},G(t.theme.init)&&t.theme.init(t,sw.urls[r]||t.documentBaseUrl.replace(/\/$/,""))}else t.theme={}},Qj=t=>{const r=dc(t),i=uv.get(r);t.model=i(t,uv.urls[r])},$te=t=>{const r=t.theme.renderUI;return r?r():Z7(t)},ez=t=>{const r=t.getElement(),u=Yg(t)(t,r);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||t.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||t.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:r.offsetHeight,u},tz=(t,r)=>({editorContainer:t,iframeContainer:r,api:{}}),Dte=t=>{const r=Jj.create("div");return Jj.insertAfter(r,t),tz(r,r)},Z7=t=>{const r=t.getElement();return t.inline?tz(null):Dte(r)},_E=t=>{const r=t.getElement();return t.orgDisplay=r.style.display,P(Yg(t))?$te(t):G(Yg(t))?ez(t):Z7(t)},Bte=(t,r)=>{const i={show:q.from(r.show).getOr(ve),hide:q.from(r.hide).getOr(ve),isEnabled:q.from(r.isEnabled).getOr(me),setEnabled:u=>{t.mode.isReadOnly()||q.from(r.setEnabled).each(h=>h(u))}};t.ui={...t.ui,...i}},nz=t=>{t.dispatch("ScriptsLoaded"),Ote(t),_te(t),Qj(t),Tte(t);const r=_E(t);Bte(t,q.from(r.api).getOr({})),t.editorContainer=r.editorContainer,FY(t),t.inline?Xj(t):Ete(t,{editorContainer:r.editorContainer,iframeContainer:r.iframeContainer})},zb=$s.DOM,oz=t=>t.charAt(0)==="-",Nte=(t,r)=>{const i=L3(r),u=V_(r);if(!xf.hasCode(i)&&i!=="en"){const h=Tr(u)?u:`${r.editorManager.baseURL}/langs/${i}.js`;t.add(h).catch(()=>{fv(r,h,i)})}},Pte=(t,r)=>{const i=Yg(t);if(P(i)&&!oz(i)&&!To(sw.urls,i)){const u=SS(t),h=u?t.documentBaseURI.toAbsolute(u):`themes/${i}/theme${r}.js`;sw.load(i,h).catch(()=>{_Y(t,h,i)})}},rz=(t,r)=>{const i=dc(t);if(i!=="plugin"&&!To(uv.urls,i)){const u=td(t),h=P(u)?t.documentBaseURI.toAbsolute(u):`models/${i}/model${r}.js`;uv.load(i,h).catch(()=>{$Y(t,h,i)})}},Fte=t=>q.from(L_(t)).filter(Tr).map(r=>({url:r,name:q.none()})),G7=(t,r,i)=>q.from(r).filter(u=>Tr(u)&&!rw.has(u)).map(u=>({url:`${t.editorManager.baseURL}/icons/${u}/icons${i}.js`,name:q.some(u)})),Rte=(t,r,i)=>{const u=G7(r,"default",i),h=Fte(r).orThunk(()=>G7(r,Jy(r),""));Oe(ps([u,h]),y=>{t.add(y.url).catch(()=>{OY(r,y.url,y.name.getOrUndefined())})})},Mte=(t,r)=>{const i=(u,h)=>{Qu.load(u,h).catch(()=>{TY(t,h,u)})};xn(X3(t),(u,h)=>{i(h,u),t.options.set("plugins",Pp(t).concat(h))}),Oe(Pp(t),u=>{u=nn.trim(u),u&&!Qu.urls[u]&&!oz(u)&&i(u,`plugins/${u}/plugin${r}.js`)})},Ite=t=>{const r=Yg(t);return!P(r)||Q(sw.get(r))},Lte=t=>{const r=dc(t);return Q(uv.get(r))},Hte=(t,r)=>{const i=Qf.ScriptLoader,u=()=>{!t.removed&&Ite(t)&&Lte(t)&&nz(t)};Pte(t,r),rz(t,r),Nte(i,t),Rte(i,t,r),Mte(t,r),i.loadQueue().then(u,u)},jte=(t,r)=>fh.forElement(t,{contentCssCors:Y3(r),referrerPolicy:CS(r)}),zte=t=>{const r=t.id;xf.setCode(L3(t));const i=()=>{zb.unbind(window,"ready",i),t.render()};if(!Ig.Event.domLoaded){zb.bind(window,"ready",i);return}if(!t.getElement())return;const u=mt.fromDom(t.getElement()),h=Hf(u);t.on("remove",()=>{be(u.dom.attributes,A=>Ii(u,A.name)),Jr(u,h)}),t.ui.styleSheetLoader=jte(u,t),$h(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const y=t.getElement().form||zb.getParent(r,"form");y&&(t.formElement=y,Qy(t)&&!u1(t.getElement())&&(zb.insertAfter(zb.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=A=>{t.dispatch(A.type,A)},zb.bind(y,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),q3(t)&&!y.submit.nodeType&&!y.submit.length&&!y._mceOldSubmit&&(y._mceOldSubmit=y.submit,y.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),y._mceOldSubmit(y)))),t.windowManager=sI(t),t.notificationManager=rI(t),r$(t)&&t.on("GetContent",A=>{A.save&&(A.content=zb.encode(A.content))}),Z3(t)&&t.on("submit",()=>{t.initialized&&t.save()}),Z_(t)&&(t._beforeUnload=()=>{t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),Hte(t,t.suffix)},Vte=(t,r)=>({sections:Fe(t),options:Fe(r)}),sz=Hs().deviceType,K7=sz.isPhone(),Y7=sz.isTablet(),yw=t=>{if(se(t))return[];{const r=K(t)?t:t.split(/[ ,]/),i=Ve(r,Qo);return Ee(i,Tr)}},iz=(t,r)=>{const i=ci(r,(u,h)=>He(t,h));return Vte(i.t,i.f)},Ute=(t,r,i={})=>{const u=t.sections(),h=Jo(u,r).getOr({});return nn.extend({},i,h)},X7=(t,r)=>To(t.sections(),r),Wte=(t,r)=>X7(t,r)?t.sections()[r]:{},az=(t,r)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Jo(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...r?{menubar:!1}:{}}),lz=(t,r)=>{var i;const u=(i=r.external_plugins)!==null&&i!==void 0?i:{};return t&&t.external_plugins?nn.extend({},t.external_plugins,u):u},qte=(t,r)=>[...yw(t),...yw(r)],Zte=(t,r,i,u)=>t&&X7(r,"mobile")?u:i,J7=(t,r,i,u)=>{const h=yw(i.forced_plugins),y=yw(u.plugins),A=Wte(r,"mobile"),R=A.plugins?yw(A.plugins):y,H=Zte(t,r,y,R),Y=qte(h,H);return nn.extend(u,{forced_plugins:h,plugins:Y})},lO=(t,r)=>t&&X7(r,"mobile"),cO=(t,r,i,u,h)=>{var y;const A=t?{mobile:az((y=h.mobile)!==null&&y!==void 0?y:{},r)}:{},R=iz(["mobile"],xT(A,h)),H=nn.extend(i,u,R.options(),lO(t,R)?Ute(R,"mobile"):{},{external_plugins:lz(u,R.options())});return J7(t,R,u,H)},Pm=(t,r)=>cO(K7||Y7,K7,r,t,r),uO=(t,r)=>R6(t,r),ww=t=>{const r=(u,h)=>{t.formatter.toggle(u,h),t.nodeChanged()},i=u=>()=>{Oe("left,center,right,justify".split(","),h=>{u!==h&&t.formatter.remove("align"+h)}),u!=="none"&&r("align"+u)};t.editorCommands.addCommands({JustifyLeft:i("left"),JustifyCenter:i("center"),JustifyRight:i("right"),JustifyFull:i("justify"),JustifyNone:i("none")})},cz=t=>{const r=i=>()=>{const u=t.selection,h=u.isCollapsed()?[t.dom.getParent(u.getNode(),t.dom.isBlock)]:u.getSelectedBlocks();return Re(h,y=>Q(t.formatter.matchNode(y,i)))};t.editorCommands.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify")},"state")},Gte=t=>{ww(t),cz(t)},Kte=t=>{t.editorCommands.addCommands({"Cut,Copy,Paste":r=>{const i=t.getDoc();let u;try{i.execCommand(r)}catch{u=!0}if(r==="paste"&&!i.queryCommandEnabled(r)&&(u=!0),u||!i.queryCommandSupported(r)){let h=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Hn.os.isMacOS()||Hn.os.isiOS())&&(h=h.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:h,type:"error"})}}})},uz=(t,r,i)=>{const u=mt.fromDom(t.getRoot());return Ax(u,Yt.fromRangeStart(r))?i=i.replace(/^ /,"&nbsp;"):i=i.replace(/^&nbsp;/," "),aA(u,Yt.fromRangeEnd(r))?i=i.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):i=i.replace(/&nbsp;(<br( \/)?>)?$/," "),i},Yte=t=>{if(typeof t!="string"){const r=nn.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:r}}return{content:t,details:{}}},Q7=(t,r)=>{const i=t.selection,u=t.dom;return/^ | $/.test(r)?uz(u,i.getRng(),r):r},Vb=(t,r)=>{const{content:i,details:u}=Yte(r);v6(t,{...u,content:Q7(t,i),format:"html",set:!1,selection:!0}).each(h=>{const y=eY(t,h.content,u);Ab(t,y,h),t.addVisual()})},Cv=t=>{t.editorCommands.addCommands({mceCleanup:()=>{const r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},insertImage:(r,i,u)=>{Vb(t,t.dom.createHTML("img",{src:u}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(r,i,u)=>{Vb(t,t.dom.encode(u))},insertHTML:(r,i,u)=>{Vb(t,u)},mceInsertContent:(r,i,u)=>{Vb(t,u)},mceSetContent:(r,i,u)=>{t.setContent(u)},mceReplaceContent:(r,i,u)=>{t.execCommand("mceInsertContent",!1,u.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent("")}})},Ub={"font-size":"size","font-family":"face"},fz=Wc("font"),Xte=(t,r,i)=>{const u=y=>Lo(y,t).orThunk(()=>fz(y)?Jo(Ub,t).bind(A=>pl(y,A)):q.none()),h=y=>gs(mt.fromDom(r),y);return bb(mt.fromDom(i),y=>u(y),h)},Jte=t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Qte=(t,r)=>q.from($s.DOM.getStyle(r,t,!0)),dz=t=>(r,i)=>q.from(i).map(mt.fromDom).filter(Fr).bind(u=>Xte(t,r,u.dom).or(Qte(t,u.dom))).getOr(""),ene=dz("font-size"),tne=qe(Jte,dz("font-family")),hz=t=>ya(t.getBody()).bind(r=>{const i=r.container();return q.from(yn(i)?i.parentNode:i)}),nne=t=>q.from(t.selection.getRng()).bind(r=>{const i=t.getBody();return r.startContainer===i&&r.startOffset===0?q.none():q.from(t.selection.getStart(!0))}),one=(t,r)=>nne(t).orThunk(re(hz,t)).map(mt.fromDom).filter(Fr).bind(r),eB=(t,r)=>one(t,U(q.some,r)),rne=(t,r)=>{if(/^[0-9.]+$/.test(r)){const i=parseInt(r,10);if(i>=1&&i<=7){const u=n$(t),h=o$(t);return h.length>0?h[i-1]||r:u[i-1]||r}else return r}else return r},sne=t=>{const r=t.split(/\s*,\s*/);return Ve(r,i=>i.indexOf(" ")!==-1&&!($o(i,'"')||$o(i,"'"))?`'${i}'`:i).join(",")},tB=(t,r)=>{const i=rne(t,r);t.formatter.toggle("fontname",{value:sne(i)}),t.nodeChanged()},ine=t=>eB(t,r=>tne(t.getBody(),r.dom)).getOr(""),ane=(t,r)=>{t.formatter.toggle("fontsize",{value:rne(t,r)}),t.nodeChanged()},pz=t=>eB(t,r=>ene(t.getBody(),r.dom)).getOr(""),lne=t=>eB(t,r=>{const i=mt.fromDom(t.getBody()),u=bb(r,y=>Lo(y,"line-height"),re(gs,i)),h=()=>{const y=parseFloat(At(r,"line-height")),A=parseFloat(At(r,"font-size"));return String(y/A)};return u.getOrThunk(h)}).getOr(""),gz=(t,r)=>{t.formatter.toggle("lineheight",{value:String(r)}),t.nodeChanged()},cne=t=>{const r=(i,u)=>{t.formatter.toggle(i,u),t.nodeChanged()};t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>{r(i)},"ForeColor,HiliteColor":(i,u,h)=>{r(i,{value:h})},BackColor:(i,u,h)=>{r("hilitecolor",{value:h})},FontName:(i,u,h)=>{tB(t,h)},FontSize:(i,u,h)=>{ane(t,h)},LineHeight:(i,u,h)=>{gz(t,h)},Lang:(i,u,h)=>{var y;r(i,{value:h.code,customValue:(y=h.customCode)!==null&&y!==void 0?y:null})},RemoveFormat:i=>{t.formatter.remove(i)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(i,u,h)=>{r(P(h)?h:"p")},mceToggleFormat:(i,u,h)=>{r(h)}})},nB=t=>{const r=i=>t.formatter.match(i);t.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>r(i),mceBlockQuote:()=>r("blockquote")},"state"),t.editorCommands.addQueryValueHandler("FontName",()=>ine(t)),t.editorCommands.addQueryValueHandler("FontSize",()=>pz(t)),t.editorCommands.addQueryValueHandler("LineHeight",()=>lne(t))},une=t=>{cne(t),nB(t)},fne=t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})},dne=t=>{t.editorCommands.addCommands({Indent:()=>{GX(t)},Outdent:()=>{T8(t)}}),t.editorCommands.addCommands({Outdent:()=>pT(t)},"state")},hne=t=>{const r=(i,u,h)=>{const y=P(h)?{href:h}:h,A=t.dom.getParent(t.selection.getNode(),"a");I(y)&&P(y.href)&&(y.href=y.href.replace(/ /g,"%20"),(!A||!y.href)&&t.formatter.remove("link"),y.href&&t.formatter.apply("link",y,A))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isCollapsed()){const i=t.dom.getParent(t.selection.getStart(),"a");i&&t.dom.remove(i,!0);return}t.formatter.remove("link")},mceInsertLink:r,createLink:r})},mz=t=>{t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{t.getDoc().execCommand(r);const i=t.dom.getParent(t.selection.getNode(),"ol,ul");if(i){const u=i.parentNode;if(u&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(u.nodeName)){const h=t.selection.getBookmark();t.dom.split(u,i),t.selection.moveToBookmark(h)}}}})},oB=t=>{t.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{const i=t.dom.getParent(t.selection.getNode(),"ul,ol");return i&&(r==="insertunorderedlist"&&i.tagName==="UL"||r==="insertorderedlist"&&i.tagName==="OL")}},"state")},vz=t=>{mz(t),oB(t)},rB=t=>{t.editorCommands.addCommands({insertParagraph:()=>{LT(h7,t)},mceInsertNewLine:(r,i,u)=>{MH(t,u)},InsertLineBreak:(r,i,u)=>{LT(NH,t)}})},pne=t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(r,i,u)=>{let h=0;t.dom.getParent(t.selection.getNode(),y=>no(y)&&h++===u?(t.selection.select(y),!1):!0,t.getBody())},mceSelectNode:(r,i,u)=>{t.selection.select(u)},selectAll:()=>{const r=t.dom.getParent(t.selection.getStart(),gu);if(r){const i=t.dom.createRng();i.selectNodeContents(r),t.selection.setRng(i)}}})},Lpe=t=>{t.editorCommands.addCommands({mceRemoveNode:(r,i,u)=>{const h=u!=null?u:t.selection.getNode();if(h!==t.getBody()){const y=t.selection.getBookmark();t.dom.remove(h,!0),t.selection.moveToBookmark(y)}},mcePrint:()=>{t.getWin().print()},mceFocus:(r,i,u)=>{tD(t,u===!0)},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})},Hpe=t=>{Gte(t),Kte(t),fne(t),pne(t),Cv(t),hne(t),dne(t),rB(t),vz(t),une(t),Lpe(t)};class bz{constructor(r){this.commands={state:{},exec:{},value:{}},this.editor=r}execCommand(r,i=!1,u,h){const y=this.editor,A=r.toLowerCase(),R=h==null?void 0:h.skip_focus;if(y.removed||(A!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(A)&&!R?y.focus():Rn(y)),y.dispatch("BeforeExecCommand",{command:r,ui:i,value:u}).isDefaultPrevented()))return!1;const Y=this.commands.exec[A];return G(Y)?(Y(A,i,u),y.dispatch("ExecCommand",{command:r,ui:i,value:u}),!0):!1}queryCommandState(r){if(this.editor.quirks.isHidden()||this.editor.removed)return!1;const i=r.toLowerCase(),u=this.commands.state[i];return G(u)?u(i):!1}queryCommandValue(r){if(this.editor.quirks.isHidden()||this.editor.removed)return"";const i=r.toLowerCase(),u=this.commands.value[i];return G(u)?u(i):""}addCommands(r,i="exec"){const u=this.commands;xn(r,(h,y)=>{Oe(y.toLowerCase().split(","),A=>{u[i][A]=h})})}addCommand(r,i,u){const h=r.toLowerCase();this.commands.exec[h]=(y,A,R)=>i.call(u!=null?u:this.editor,A,R)}queryCommandSupported(r){const i=r.toLowerCase();return!!this.commands.exec[i]}addQueryStateHandler(r,i,u){this.commands.state[r.toLowerCase()]=()=>i.call(u!=null?u:this.editor)}addQueryValueHandler(r,i,u){this.commands.value[r.toLowerCase()]=()=>i.call(u!=null?u:this.editor)}}const Sv="data-mce-contenteditable",gne=(t,r,i)=>{sh(t,r)&&!i?df(t,r):i&&zf(t,r)},sB=(t,r,i)=>{try{t.getDoc().execCommand(r,!1,String(i))}catch{}},fO=(t,r)=>{t.dom.contentEditable=r?"true":"false"},jpe=t=>{Oe($t(t,'*[contenteditable="true"]'),r=>{_s(r,Sv,"true"),fO(r,!1)})},zpe=t=>{Oe($t(t,`*[${Sv}="true"]`),r=>{Ii(r,Sv),fO(r,!0)})},yz=t=>{q.from(t.selection.getNode()).each(r=>{r.removeAttribute("data-mce-selected")})},wz=t=>{t.selection.setRng(t.selection.getRng())},mne=(t,r)=>{const i=mt.fromDom(t.getBody());gne(i,"mce-content-readonly",r),r?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),yz(t),t.readonly=!0,fO(i,!1),jpe(i)):(t.readonly=!1,fO(i,!0),zpe(i),sB(t,"StyleWithCSS",!1),sB(t,"enableInlineTableEditing",!1),sB(t,"enableObjectResizing",!1),Q$(t)&&t.focus(),wz(t),t.nodeChanged())},Wb=t=>t.readonly,Cz=t=>{t.parser.addAttributeFilter("contenteditable",r=>{Wb(t)&&Oe(r,i=>{i.attr(Sv,i.attr("contenteditable")),i.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Sv,r=>{Wb(t)&&Oe(r,i=>{i.attr("contenteditable",i.attr(Sv))})}),t.serializer.addTempAttr(Sv)},Vpe=t=>{t.serializer?Cz(t):t.on("PreInit",()=>{Cz(t)})},Upe=t=>t.type==="click",Wpe=["copy"],vne=t=>He(Wpe,t.type),qpe=(t,r)=>uh(r,"a",u=>gs(u,mt.fromDom(t.getBody()))).bind(u=>pl(u,"href")),bne=(t,r)=>{if(Upe(r)&&!yo.metaKeyPressed(r)){const i=mt.fromDom(r.target);qpe(t,i).each(u=>{if(r.preventDefault(),/^#/.test(u)){const h=t.dom.select(`${u},[name="${Jn(u,"#")}"]`);h.length&&t.selection.scrollIntoView(h[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else vne(r)&&t.dispatch(r.type,r)},qb=t=>{t.on("ShowCaret",r=>{Wb(t)&&r.preventDefault()}),t.on("ObjectSelected",r=>{Wb(t)&&r.preventDefault()})},iB=nn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Cw{constructor(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ce}static isNative(r){return!!iB[r.toLowerCase()]}fire(r,i){return this.dispatch(r,i)}dispatch(r,i){const u=r.toLowerCase(),h=XC(u,i!=null?i:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(h);const y=this.bindings[u];if(y)for(let A=0,R=y.length;A<R;A++){const H=y[A];if(!H.removed){if(H.once&&this.off(u,H.func),h.isImmediatePropagationStopped())return h;if(H.func.call(this.scope,h)===!1)return h.preventDefault(),h}}return h}on(r,i,u,h){if(i===!1&&(i=Ce),i){const y={func:i,removed:!1};h&&nn.extend(y,h);const A=r.toLowerCase().split(" ");let R=A.length;for(;R--;){const H=A[R];let Y=this.bindings[H];Y||(Y=[],this.toggleEvent(H,!0)),u?Y=[y,...Y]:Y=[...Y,y],this.bindings[H]=Y}}return this}off(r,i){if(r){const u=r.toLowerCase().split(" ");let h=u.length;for(;h--;){const y=u[h];let A=this.bindings[y];if(!y)return xn(this.bindings,(R,H)=>{this.toggleEvent(H,!1),delete this.bindings[H]}),this;if(A){if(!i)A.length=0;else{const R=ie(A,H=>H.func===i);A=R.fail,this.bindings[y]=A,Oe(R.pass,H=>{H.removed=!0})}A.length||(this.toggleEvent(r,!1),delete this.bindings[y])}}}else xn(this.bindings,(u,h)=>{this.toggleEvent(h,!1)}),this.bindings={};return this}once(r,i,u){return this.on(r,i,u,{once:!0})}has(r){r=r.toLowerCase();const i=this.bindings[r];return!(!i||i.length===0)}}const Sw=t=>(t._eventDispatcher||(t._eventDispatcher=new Cw({scope:t,toggleEvent:(r,i)=>{Cw.isNative(r)&&t.toggleNativeEvent&&t.toggleNativeEvent(r,i)}})),t._eventDispatcher),dO={fire(t,r,i){return this.dispatch(t,r,i)},dispatch(t,r,i){const u=this;if(u.removed&&t!=="remove"&&t!=="detach")return XC(t.toLowerCase(),r!=null?r:{},u);const h=Sw(u).dispatch(t,r);if(i!==!1&&u.parent){let y=u.parent();for(;y&&!h.isPropagationStopped();)y.dispatch(t,h,!1),y=y.parent?y.parent():void 0}return h},on(t,r,i){return Sw(this).on(t,r,i)},off(t,r){return Sw(this).off(t,r)},once(t,r){return Sw(this).once(t,r)},hasEventListeners(t){return Sw(this).has(t)}},$E=$s.DOM;let Zb;const hO=(t,r)=>{if(r==="selectionchange")return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return t.getDoc().documentElement;const i=U3(t);return i?(t.eventRoot||(t.eventRoot=$E.select(i)[0]),t.eventRoot):t.getBody()},yne=t=>!t.hidden&&!Wb(t),Sz=(t,r,i)=>{yne(t)?t.dispatch(r,i):Wb(t)&&bne(t,i)},xv=(t,r)=>{if(t.delegates||(t.delegates={}),t.delegates[r]||t.removed)return;const i=hO(t,r);if(U3(t)){if(Zb||(Zb={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Zb&&(xn(Zb,(h,y)=>{t.dom.unbind(hO(t,y))}),Zb=null)})),Zb[r])return;const u=h=>{const y=h.target,A=t.editorManager.get();let R=A.length;for(;R--;){const H=A[R].getBody();(H===y||$E.isChildOf(y,H))&&Sz(A[R],r,h)}};Zb[r]=u,$E.bind(i,r,u)}else{const u=h=>{Sz(t,r,h)};$E.bind(i,r,u),t.delegates[r]=u}},xz={...dO,bindPendingEventDelegates(){const t=this;nn.each(t._pendingNativeEvents,r=>{xv(t,r)})},toggleNativeEvent(t,r){const i=this;t==="focus"||t==="blur"||i.removed||(r?i.initialized?xv(i,t):i._pendingNativeEvents?i._pendingNativeEvents.push(t):i._pendingNativeEvents=[t]:i.initialized&&i.delegates&&(i.dom.unbind(hO(i,t),t,i.delegates[t]),delete i.delegates[t]))},unbindAllNativeEvents(){const t=this,r=t.getBody(),i=t.dom;t.delegates&&(xn(t.delegates,(u,h)=>{t.dom.unbind(hO(t,h),h,u)}),delete t.delegates),!t.inline&&r&&i&&(r.onload=null,i.unbind(t.getWin()),i.unbind(t.getDoc())),i&&(i.unbind(r),i.unbind(t.getContainer()))}},Ez=t=>P(t)?{value:t.split(/[ ,]/),valid:!0}:he(t,P)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},wne=t=>{const r=(()=>{switch(t){case"array":return K;case"boolean":return oe;case"function":return G;case"number":return ce;case"object":return I;case"string":return P;case"string[]":return Ez;case"object[]":return i=>he(i,I);case"regexp":return i=>O(i,RegExp);default:return me}})();return i=>aB(i,r,`The value must be a ${t}.`)},pO=t=>P(t.processor),kz=(t,r)=>{const i=Or(r.message)?"":`. ${r.message}`;return t+i},Az=t=>t.valid,aB=(t,r,i="")=>{const u=r(t);return oe(u)?u?{value:t,valid:!0}:{valid:!1,message:i}:u},Tz=(t,r,i)=>{if(!xe(r)){const u=aB(r,i);if(Az(u))return u.value;console.error(kz(`Invalid default value passed for the "${t}" option`,u))}},Cne=(t,r)=>{const i={},u={},h=(Te,Ae,nt)=>{const st=aB(Ae,nt);return Az(st)?(u[Te]=st.value,!0):(console.warn(kz(`Invalid value passed for the ${Te} option`,st)),!1)},y=(Te,Ae)=>{const nt=pO(Ae)?wne(Ae.processor):Ae.processor,st=Tz(Te,Ae.default,nt);i[Te]={...Ae,default:st,processor:nt},Jo(u,Te).orThunk(()=>Jo(r,Te)).each(ct=>h(Te,ct,nt))},A=Te=>To(i,Te);return{register:y,isRegistered:A,get:Te=>Jo(u,Te).orThunk(()=>Jo(i,Te).map(Ae=>Ae.default)).getOrUndefined(),set:(Te,Ae)=>{if(A(Te)){const nt=i[Te];return nt.immutable?(console.error(`"${Te}" is an immutable option and cannot be updated`),!1):h(Te,Ae,nt.processor)}else return console.warn(`"${Te}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:Te=>{const Ae=A(Te);return Ae&&delete u[Te],Ae},isSet:Te=>To(u,Te)}},Sne=["design","readonly"],Oz=(t,r,i,u)=>{const h=i[r.get()],y=i[u];try{y.activate()}catch(A){console.error(`problem while activating editor mode ${u}:`,A);return}h.deactivate(),h.editorReadOnly!==y.editorReadOnly&&mne(t,y.editorReadOnly),r.set(u),Bk(t,u)},xne=(t,r,i,u)=>{if(u!==i.get()){if(!To(r,u))throw new Error(`Editor mode '${u}' is invalid`);t.initialized?Oz(t,i,r,u):t.on("init",()=>Oz(t,i,r,u))}},lB=(t,r,i)=>{if(He(Sne,r))throw new Error(`Cannot override default mode ${r}`);return{...t,[r]:{...i,deactivate:()=>{try{i.deactivate()}catch(u){console.error(`problem while deactivating editor mode ${r}:`,u)}}}}},Ene=t=>{const r=aa("design"),i=aa({design:{activate:ve,deactivate:ve,editorReadOnly:!1},readonly:{activate:ve,deactivate:ve,editorReadOnly:!0}});return Vpe(t),qb(t),{isReadOnly:()=>Wb(t),set:u=>xne(t,i.get(),r,u),get:()=>r.get(),register:(u,h)=>{i.set(lB(i.get(),u,h))}}},cB=nn.each,Ca=nn.explode,kne={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},_z=nn.makeMap("alt,ctrl,shift,meta,access"),$z=t=>t in _z,Dz=t=>{const r={},i=Hn.os.isMacOS()||Hn.os.isiOS();cB(Ca(t.toLowerCase(),"+"),y=>{$z(y)?r[y]=!0:/^[0-9]{2,}$/.test(y)?r.keyCode=parseInt(y,10):(r.charCode=y.charCodeAt(0),r.keyCode=kne[y]||y.toUpperCase().charCodeAt(0))});const u=[r.keyCode];let h;for(h in _z)r[h]?u.push(h):r[h]=!1;return r.id=u.join(","),r.access&&(r.alt=!0,i?r.ctrl=!0:r.shift=!0),r.meta&&(i?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r};class gO{constructor(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;const i=this;r.on("keyup keypress keydown",u=>{(i.hasModifier(u)||i.isFunctionKey(u))&&!u.isDefaultPrevented()&&(cB(i.shortcuts,h=>{i.matchShortcut(u,h)&&(i.pendingPatterns=h.subpatterns.slice(0),u.type==="keydown"&&i.executeShortcutAction(h))}),i.matchShortcut(u,i.pendingPatterns[0])&&(i.pendingPatterns.length===1&&u.type==="keydown"&&i.executeShortcutAction(i.pendingPatterns[0]),i.pendingPatterns.shift()))})}add(r,i,u,h){const y=this,A=y.normalizeCommandFunc(u);return cB(Ca(nn.trim(r)),R=>{const H=y.createShortcut(R,i,A,h);y.shortcuts[H.id]=H}),!0}remove(r){const i=this.createShortcut(r);return this.shortcuts[i.id]?(delete this.shortcuts[i.id],!0):!1}normalizeCommandFunc(r){const i=this,u=r;return typeof u=="string"?()=>{i.editor.execCommand(u,!1,null)}:nn.isArray(u)?()=>{i.editor.execCommand(u[0],u[1],u[2])}:u}createShortcut(r,i,u,h){const y=nn.map(Ca(r,">"),Dz);return y[y.length-1]=nn.extend(y[y.length-1],{func:u,scope:h||this.editor}),nn.extend(y[0],{desc:this.editor.translate(i),subpatterns:y.slice(1)})}hasModifier(r){return r.altKey||r.ctrlKey||r.metaKey}isFunctionKey(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123}matchShortcut(r,i){return!i||i.ctrl!==r.ctrlKey||i.meta!==r.metaKey||i.alt!==r.altKey||i.shift!==r.shiftKey?!1:r.keyCode===i.keyCode||r.charCode&&r.charCode===i.charCode?(r.preventDefault(),!0):!1}executeShortcutAction(r){return r.func?r.func.call(r.scope):null}}const Ane=()=>{const t={},r={},i={},u={},h={},y={},A={},R=(Y,ge)=>(Te,Ae)=>{Y[Te.toLowerCase()]={...Ae,type:ge}},H=(Y,ge)=>u[Y.toLowerCase()]=ge;return{addButton:R(t,"button"),addGroupToolbarButton:R(t,"grouptoolbarbutton"),addToggleButton:R(t,"togglebutton"),addMenuButton:R(t,"menubutton"),addSplitButton:R(t,"splitbutton"),addMenuItem:R(r,"menuitem"),addNestedMenuItem:R(r,"nestedmenuitem"),addToggleMenuItem:R(r,"togglemenuitem"),addAutocompleter:R(i,"autocompleter"),addContextMenu:R(h,"contextmenu"),addContextToolbar:R(y,"contexttoolbar"),addContextForm:R(y,"contextform"),addSidebar:R(A,"sidebar"),addIcon:H,getAll:()=>({buttons:t,menuItems:r,icons:u,popups:i,contextMenus:h,contextToolbars:y,sidebars:A})}},Tne=()=>{const t=Ane();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},Gb=$s.DOM,Bz=nn.extend,One=nn.each;class mO{constructor(r,i,u){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=u,this.documentBaseUrl=u.documentBaseURL,Bz(this,xz);const h=this;this.id=r,this.hidden=!1;const y=Pm(u.defaultOptions,i);this.options=Cne(h,y),mS(h);const A=this.options.get;A("deprecation_warnings")&&SY(i,y);const R=A("suffix");R&&(u.suffix=R),this.suffix=u.suffix;const H=A("base_url");H&&u._setBaseUrl(H),this.baseUri=u.baseURI;const Y=CS(h);Y&&(Qf.ScriptLoader._setReferrerPolicy(Y),$s.DOM.styleSheetLoader._setReferrerPolicy(Y)),Bi.languageLoad=A("language_load"),Bi.baseURL=u.baseURL,this.setDirty(!1),this.documentBaseURI=new Lh(M3(h),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=$h(h),this.hasVisual=ES(h),this.shortcuts=new gO(this),this.editorCommands=new bz(this),Hpe(this);const ge=A("cache_suffix");ge&&(Hn.cacheSuffix=ge.replace(/^[\?\&]+/,"")),this.ui={registry:Tne(),styleSheetLoader:void 0,show:ve,hide:ve,setEnabled:ve,isEnabled:me},this.mode=Ene(h),u.dispatch("SetupEditor",{editor:this});const Te=K_(h);G(Te)&&Te.call(h,h)}render(){zte(this)}focus(r){this.execCommand("mceFocus",!1,r)}hasFocus(){return wm(this)}translate(r){return xf.translate(r)}getParam(r,i,u){const h=this.options;return h.isRegistered(r)||(Q(u)?h.register(r,{processor:u,default:i}):h.register(r,{processor:me,default:i})),!h.isSet(r)&&!xe(i)?i:h.get(r)}hasPlugin(r,i){return He(Pp(this),r)?i?Qu.get(r)!==void 0:!0:!1}nodeChanged(r){this._nodeChangeDispatcher.nodeChanged(r)}addCommand(r,i,u){this.editorCommands.addCommand(r,i,u)}addQueryStateHandler(r,i,u){this.editorCommands.addQueryStateHandler(r,i,u)}addQueryValueHandler(r,i,u){this.editorCommands.addQueryValueHandler(r,i,u)}addShortcut(r,i,u,h){this.shortcuts.add(r,i,u,h)}execCommand(r,i,u,h){return this.editorCommands.execCommand(r,i,u,h)}queryCommandState(r){return this.editorCommands.queryCommandState(r)}queryCommandValue(r){return this.editorCommands.queryCommandValue(r)}queryCommandSupported(r){return this.editorCommands.queryCommandSupported(r)}show(){const r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(Gb.show(r.getContainer()),Gb.hide(r.id)),r.load(),r.dispatch("show"))}hide(){const r=this;r.hidden||(r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(Gb.hide(r.getContainer()),Gb.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(r,i){this.dispatch("ProgressState",{state:r,time:i})}load(r={}){const i=this,u=i.getElement();if(i.removed)return"";if(u){const h={...r,load:!0},y=u1(u)?u.value:u.innerHTML,A=i.setContent(y,h);return h.no_events||i.dispatch("LoadContent",{...h,element:u}),A}else return""}save(r={}){const i=this;let u=i.getElement();if(!u||!i.initialized||i.removed)return"";const h={...r,save:!0,element:u};let y=i.getContent(h);const A={...h,content:y};if(A.no_events||i.dispatch("SaveContent",A),A.format==="raw"&&i.dispatch("RawSaveContent",A),y=A.content,u1(u))u.value=y;else{(r.is_removing||!i.inline)&&(u.innerHTML=y);const R=Gb.getParent(i.id,"form");R&&One(R.elements,H=>H.name===i.id?(H.value=y,!1):!0)}return A.element=h.element=u=null,A.set_dirty!==!1&&i.setDirty(!1),y}setContent(r,i){return H6(this,r,i)}getContent(r){return bY(this,r)}insertContent(r,i){i&&(r=Bz({content:r},i)),this.execCommand("mceInsertContent",!1,r)}resetContent(r){r===void 0?H6(this,this.startContent,{format:"raw"}):H6(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(r){const i=!this.isNotDirty;this.isNotDirty=!r,r&&r!==i&&this.dispatch("dirty")}getContainer(){const r=this;return r.container||(r.container=r.editorContainer||Gb.get(r.id+"_parent")),r.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Gb.get(this.id)),this.targetElm}getWin(){const r=this;if(!r.contentWindow){const i=r.iframeElement;i&&(r.contentWindow=i.contentWindow)}return r.contentWindow}getDoc(){const r=this;if(!r.contentDocument){const i=r.getWin();i&&(r.contentDocument=i.document)}return r.contentDocument}getBody(){var r,i;const u=this.getDoc();return(i=(r=this.bodyElement)!==null&&r!==void 0?r:u==null?void 0:u.body)!==null&&i!==void 0?i:null}convertURL(r,i,u){const h=this,y=h.options.get,A=Y_(h);return G(A)?A.call(h,r,u,!0,i):!y("convert_urls")||u==="link"||I(u)&&u.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:y("relative_urls")?h.documentBaseURI.toRelative(r):(r=h.documentBaseURI.toAbsolute(r,y("remove_script_host")),r)}addVisual(r){uO(this,r)}remove(){Tb(this)}destroy(r){_m(this,r)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const xw=$s.DOM,Fm=nn.each;let Yd=!1,vO,Tu=[];const bO=t=>{const r=t.type;Fm(Ev.get(),i=>{switch(r){case"scroll":i.dispatch("ScrollWindow",t);break;case"resize":i.dispatch("ResizeWindow",t);break}})},Nz=t=>{if(t!==Yd){const r=$s.DOM;t?(r.bind(window,"resize",bO),r.bind(window,"scroll",bO)):(r.unbind(window,"resize",bO),r.unbind(window,"scroll",bO)),Yd=t}},Pz=t=>{const r=Tu;return Tu=Ee(Tu,i=>t!==i),Ev.activeEditor===t&&(Ev.activeEditor=Tu.length>0?Tu[0]:null),Ev.focusedEditor===t&&(Ev.focusedEditor=null),r.length!==Tu.length},_ne=t=>{t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(Pz(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)},Zpe=document.compatMode!=="CSS1Compat",Ev={...dO,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"2.0",releaseDate:"2022-09-08",i18n:xf,activeEditor:null,focusedEditor:null,setup(){const t=this;let r="",i="",u=Lh.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(u)&&(u=u.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(u)||(u+="/"));const h=window.tinymce||window.tinyMCEPreInit;if(h)r=h.base||h.baseURL,i=h.suffix;else{const y=document.getElementsByTagName("script");for(let A=0;A<y.length;A++){const R=y[A].src||"";if(R==="")continue;const H=R.substring(R.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(R)){H.indexOf(".min")!==-1&&(i=".min"),r=R.substring(0,R.lastIndexOf("/"));break}}if(!r&&document.currentScript){const A=document.currentScript.src;A.indexOf(".min")!==-1&&(i=".min"),r=A.substring(0,A.lastIndexOf("/"))}}t.baseURL=new Lh(u).toAbsolute(r),t.documentBaseURL=u,t.baseURI=new Lh(t.baseURL),t.suffix=i,_f(t)},overrideDefaults(t){const r=t.base_url;r&&this._setBaseUrl(r);const i=t.suffix;i&&(this.suffix=i),this.defaultOptions=t;const u=t.plugin_base_urls;u!==void 0&&xn(u,(h,y)=>{Bi.PluginManager.urls[y]=h})},init(t){const r=this;let i;const u=nn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),h=(ge,Te)=>ge.inline&&Te.tagName.toLowerCase()in u,y=ge=>{let Te=ge.id;return Te||(Te=Jo(ge,"name").filter(Ae=>!xw.get(Ae)).getOrThunk(xw.uniqueId),ge.setAttribute("id",Te)),Te},A=ge=>{const Te=t[ge];if(!!Te)return Te.apply(r,[])},R=ge=>Hn.browser.isIE()||Hn.browser.isEdge()?(KA("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):Zpe?(KA("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):P(ge.selector)?xw.select(ge.selector):Q(ge.target)?[ge.target]:[];let H=ge=>{i=ge};const Y=()=>{let ge=0;const Te=[];let Ae;const nt=(st,Ge,ct)=>{const ht=new mO(st,Ge,r);Te.push(ht),ht.on("init",()=>{++ge===Ae.length&&H(Te)}),ht.targetElm=ht.targetElm||ct,ht.render()};xw.unbind(window,"ready",Y),A("onpageload"),Ae=Ot(R(t)),nn.each(Ae,st=>{_ne(r.get(st.id))}),Ae=nn.grep(Ae,st=>!r.get(st.id)),Ae.length===0?H([]):Fm(Ae,st=>{h(t,st)?KA("Could not initialize inline editor on invalid inline target element",st):nt(y(st),t,st)})};return xw.bind(window,"ready",Y),new Promise(ge=>{i?ge(i):H=Te=>{ge(Te)}})},get(t){return arguments.length===0?Tu.slice(0):P(t)?qt(Tu,r=>r.id===t).getOr(null):ce(t)&&Tu[t]?Tu[t]:null},add(t){const r=this,i=r.get(t.id);return i===t||(i===null&&Tu.push(t),Nz(!0),r.activeEditor=t,r.dispatch("AddEditor",{editor:t}),vO||(vO=u=>{const h=r.dispatch("BeforeUnload");if(h.returnValue)return u.preventDefault(),u.returnValue=h.returnValue,h.returnValue},window.addEventListener("beforeunload",vO))),t},createEditor(t,r){return this.add(new mO(t,r,this))},remove(t){const r=this;let i;if(!t){for(let u=Tu.length-1;u>=0;u--)r.remove(Tu[u]);return}if(P(t)){Fm(xw.select(t),u=>{i=r.get(u.id),i&&r.remove(i)});return}return i=t,j(r.get(i.id))?null:(Pz(i)&&r.dispatch("RemoveEditor",{editor:i}),Tu.length===0&&window.removeEventListener("beforeunload",vO),i.remove(),Nz(Tu.length>0),i)},execCommand(t,r,i){var u;const h=this,y=I(i)?(u=i.id)!==null&&u!==void 0?u:i.index:i;switch(t){case"mceAddEditor":{if(!h.get(y)){const A=i.options;new mO(y,A,h).render()}return!0}case"mceRemoveEditor":{const A=h.get(y);return A&&A.remove(),!0}case"mceToggleEditor":{const A=h.get(y);return A?(A.isHidden()?A.show():A.hide(),!0):(h.execCommand("mceAddEditor",!1,i),!0)}}return h.activeEditor?h.activeEditor.execCommand(t,r,i):!1},triggerSave:()=>{Fm(Tu,t=>{t.save()})},addI18n:(t,r)=>{xf.add(t,r)},translate:t=>xf.translate(t),setActive(t){const r=this.activeEditor;this.activeEditor!==t&&(r&&r.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:r})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new Lh(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Lh(this.baseURL)}};Ev.setup();const Kpe=(()=>{const t=xh(),r=y=>({items:y,types:Ct(y),getType:A=>Jo(y,A).getOrUndefined()}),i=y=>{t.set(y)},u=()=>t.get().getOrUndefined(),h=t.clear;return{FakeClipboardItem:r,write:i,read:u,clear:h}})(),Fz=Math.min,Ew=Math.max,yO=Math.round,Rz=(t,r,i)=>{let u=r.x,h=r.y;const y=t.w,A=t.h,R=r.w,H=r.h,Y=(i||"").split("");return Y[0]==="b"&&(h+=H),Y[1]==="r"&&(u+=R),Y[0]==="c"&&(h+=yO(H/2)),Y[1]==="c"&&(u+=yO(R/2)),Y[3]==="b"&&(h-=A),Y[4]==="r"&&(u-=y),Y[3]==="c"&&(h-=yO(A/2)),Y[4]==="c"&&(u-=yO(y/2)),kw(u,h,y,A)},$ne=(t,r,i,u)=>{for(let h=0;h<u.length;h++){const y=Rz(t,r,u[h]);if(y.x>=i.x&&y.x+y.w<=i.w+i.x&&y.y>=i.y&&y.y+y.h<=i.h+i.y)return u[h]}return null},Dne=(t,r,i)=>kw(t.x-r,t.y-i,t.w+r*2,t.h+i*2),Ype=(t,r)=>{const i=Ew(t.x,r.x),u=Ew(t.y,r.y),h=Fz(t.x+t.w,r.x+r.w),y=Fz(t.y+t.h,r.y+r.h);return h-i<0||y-u<0?null:kw(i,u,h-i,y-u)},Bne=(t,r,i)=>{let u=t.x,h=t.y,y=t.x+t.w,A=t.y+t.h;const R=r.x+r.w,H=r.y+r.h,Y=Ew(0,r.x-u),ge=Ew(0,r.y-h),Te=Ew(0,y-R),Ae=Ew(0,A-H);return u+=Y,h+=ge,i&&(y+=Y,A+=ge,u-=Te,h-=Ae),y-=Te,A-=Ae,kw(u,h,y-u,A-h)},kw=(t,r,i,u)=>({x:t,y:r,w:i,h:u}),Nne={inflate:Dne,relativePosition:Rz,findBestRelativePosition:$ne,intersect:Ype,clamp:Bne,create:kw,fromClientRect:t=>kw(t.left,t.top,t.width,t.height)},Pne=(t,r,i=1e3)=>{let u=!1,h=null;const y=Y=>(...ge)=>{u||(u=!0,h!==null&&(clearTimeout(h),h=null),Y.apply(null,ge))},A=y(t),R=y(r);return{start:(...Y)=>{!u&&h===null&&(h=setTimeout(()=>R.apply(null,Y),i))},resolve:A,reject:R}},Fne=(()=>{const t={},r={};return{load:(y,A)=>{const R=`Script at URL "${A}" failed to load`,H=`Script at URL "${A}" did not call \`tinymce.Resource.add('${y}', data)\` within 1 second`;if(t[y]!==void 0)return t[y];{const Y=new Promise((ge,Te)=>{const Ae=Pne(ge,Te);r[y]=Ae.resolve,Qf.ScriptLoader.loadScript(A).then(()=>Ae.start(H),()=>Ae.reject(R))});return t[y]=Y,Y}},add:(y,A)=>{r[y]!==void 0&&(r[y](A),delete r[y]),t[y]=Promise.resolve(A)},unload:y=>{delete t[y]}}})(),Rne=()=>(()=>{let t={},r=[];const i={getItem:u=>{const h=t[u];return h||null},setItem:(u,h)=>{r.push(u),t[u]=String(h)},key:u=>r[u],removeItem:u=>{r=r.filter(h=>h===u),delete t[u]},clear:()=>{r=[],t={}},length:0};return Object.defineProperty(i,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),i})();let DE;try{const t="__storage_test__";DE=window.localStorage,DE.setItem(t,t),DE.removeItem(t)}catch{DE=Rne()}var Mne=DE;const Ine={geom:{Rect:Nne},util:{Delay:Yn,Tools:nn,VK:yo,URI:Lh,EventDispatcher:Cw,Observable:dO,I18n:xf,LocalStorage:Mne,ImageUploader:YA},dom:{EventUtils:Ig,TreeWalker:jr,TextSeeker:fi,DOMUtils:$s,ScriptLoader:Qf,RangeUtils:Bo,Serializer:JM,StyleSheetLoader:Ap,ControlSelection:Rk,BookmarkManager:lm,Selection:L6,Event:Ig.Event},html:{Styles:w1,Entities:vu,Node:nu,Schema:zu,DomParser:ew,Writer:eR,Serializer:rv},Env:Hn,AddOnManager:Bi,Annotator:xu,Formatter:q6,UndoManager:Xp,EditorCommands:bz,WindowManager:sI,NotificationManager:rI,EditorObservable:xz,Shortcuts:gO,Editor:mO,FocusManager:tn,EditorManager:Ev,DOM:$s.DOM,ScriptLoader:Qf.ScriptLoader,PluginManager:Qu,ThemeManager:sw,ModelManager:uv,IconManager:rw,Resource:Fne,FakeClipboard:Kpe,trim:nn.trim,isArray:nn.isArray,is:nn.is,toArray:nn.toArray,makeMap:nn.makeMap,each:nn.each,map:nn.map,grep:nn.grep,inArray:nn.inArray,extend:nn.extend,walk:nn.walk,resolve:nn.resolve,explode:nn.explode,_addCacheSuffix:nn._addCacheSuffix},Mz=nn.extend(Ev,Ine),Lne=t=>{try{e.exports=t}catch{}};(t=>{window.tinymce=t,window.tinyMCE=t})(Mz),Lne(Mz)})()})(Mtt);(function(){var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const o=(m,C,B)=>{var L;return B(m,C.prototype)?!0:((L=m.constructor)===null||L===void 0?void 0:L.name)===C.name},s=m=>{const C=typeof m;return m===null?"null":C==="object"&&Array.isArray(m)?"array":C==="object"&&o(m,String,(B,L)=>L.isPrototypeOf(B))?"string":C},l=m=>C=>s(C)===m,c=m=>C=>typeof C===m,d=m=>C=>m===C,p=l("string"),v=l("object"),b=l("array"),S=d(null),x=c("boolean"),T=d(void 0),E=m=>m==null,k=m=>!E(m),F=c("function"),N=c("number"),$=()=>{},D=(m,C)=>(...B)=>m(C.apply(null,B)),O=(m,C)=>B=>m(C(B)),P=m=>()=>m,I=m=>m,z=(m,C)=>m===C;function K(m,...C){return(...B)=>{const L=C.concat(B);return m.apply(null,L)}}const j=m=>C=>!m(C),oe=m=>()=>{throw new Error(m)},xe=m=>m(),se=P(!1),Q=P(!0);class G{constructor(C,B){this.tag=C,this.value=B}static some(C){return new G(!0,C)}static none(){return G.singletonNone}fold(C,B){return this.tag?B(this.value):C()}isSome(){return this.tag}isNone(){return!this.tag}map(C){return this.tag?G.some(C(this.value)):G.none()}bind(C){return this.tag?C(this.value):G.none()}exists(C){return this.tag&&C(this.value)}forall(C){return!this.tag||C(this.value)}filter(C){return!this.tag||C(this.value)?this:G.none()}getOr(C){return this.tag?this.value:C}or(C){return this.tag?this:C}getOrThunk(C){return this.tag?this.value:C()}orThunk(C){return this.tag?this:C()}getOrDie(C){if(this.tag)return this.value;throw new Error(C!=null?C:"Called getOrDie on None")}static from(C){return k(C)?G.some(C):G.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(C){this.tag&&C(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}G.singletonNone=new G(!1);const ce=Array.prototype.slice,he=Array.prototype.indexOf,ve=Array.prototype.push,qe=(m,C)=>he.call(m,C),U=(m,C)=>qe(m,C)>-1,Fe=(m,C)=>{for(let B=0,L=m.length;B<L;B++){const Z=m[B];if(C(Z,B))return!0}return!1},De=(m,C)=>{const B=[];for(let L=0;L<m;L++)B.push(C(L));return B},Se=(m,C)=>{const B=m.length,L=new Array(B);for(let Z=0;Z<B;Z++){const te=m[Z];L[Z]=C(te,Z)}return L},re=(m,C)=>{for(let B=0,L=m.length;B<L;B++){const Z=m[B];C(Z,B)}},le=(m,C)=>{for(let B=m.length-1;B>=0;B--){const L=m[B];C(L,B)}},fe=(m,C)=>{const B=[],L=[];for(let Z=0,te=m.length;Z<te;Z++){const ke=m[Z];(C(ke,Z)?B:L).push(ke)}return{pass:B,fail:L}},ue=(m,C)=>{const B=[];for(let L=0,Z=m.length;L<Z;L++){const te=m[L];C(te,L)&&B.push(te)}return B},Be=(m,C,B)=>(le(m,(L,Z)=>{B=C(B,L,Z)}),B),Ce=(m,C,B)=>(re(m,(L,Z)=>{B=C(B,L,Z)}),B),me=(m,C,B)=>{for(let L=0,Z=m.length;L<Z;L++){const te=m[L];if(C(te,L))return G.some(te);if(B(te,L))break}return G.none()},q=(m,C)=>me(m,C,se),Ze=(m,C)=>{for(let B=0,L=m.length;B<L;B++){const Z=m[B];if(C(Z,B))return G.some(B)}return G.none()},We=m=>{const C=[];for(let B=0,L=m.length;B<L;++B){if(!b(m[B]))throw new Error("Arr.flatten item "+B+" was not an array, input: "+m);ve.apply(C,m[B])}return C},tt=(m,C)=>We(Se(m,C)),Qe=(m,C)=>{for(let B=0,L=m.length;B<L;++B){const Z=m[B];if(C(Z,B)!==!0)return!1}return!0},it=m=>{const C=ce.call(m,0);return C.reverse(),C},He=(m,C)=>{const B={};for(let L=0,Z=m.length;L<Z;L++){const te=m[L];B[String(te)]=C(te,L)}return B},Re=(m,C)=>{const B=ce.call(m,0);return B.sort(C),B},Ve=(m,C)=>C>=0&&C<m.length?G.some(m[C]):G.none(),Oe=m=>Ve(m,0),be=m=>Ve(m,m.length-1),ie=(m,C)=>{for(let B=0;B<m.length;B++){const L=C(m[B],B);if(L.isSome())return L}return G.none()},Ee=Object.keys,ot=Object.hasOwnProperty,Xe=(m,C)=>{const B=Ee(m);for(let L=0,Z=B.length;L<Z;L++){const te=B[L],ke=m[te];C(ke,te)}},zt=(m,C)=>qt(m,(B,L)=>({k:L,v:C(B,L)})),qt=(m,C)=>{const B={};return Xe(m,(L,Z)=>{const te=C(L,Z);B[te.k]=te.v}),B},bn=m=>(C,B)=>{m[B]=C},Kn=(m,C,B,L)=>{Xe(m,(Z,te)=>{(C(Z,te)?B:L)(Z,te)})},zn=(m,C)=>{const B={};return Kn(m,C,bn(B),$),B},fn=(m,C)=>{const B=[];return Xe(m,(L,Z)=>{B.push(C(L,Z))}),B},oo=m=>fn(m,I),ft=(m,C)=>Tt(m,C)?G.from(m[C]):G.none(),Tt=(m,C)=>ot.call(m,C),sn=(m,C)=>Tt(m,C)&&m[C]!==void 0&&m[C]!==null,kn=m=>{for(const C in m)if(ot.call(m,C))return!1;return!0};typeof window<"u"||Function("return this;")();const Pn=8,$n=9,_o=11,mr=1,Ot=3,Ct=m=>m.dom.nodeName.toLowerCase(),wn=m=>m.dom.nodeType,xn=m=>C=>wn(C)===m,pn=m=>wn(m)===Pn||Ct(m)==="#comment",eo=xn(mr),yr=xn(Ot),Ts=xn($n),ci=xn(_o),pr=m=>C=>eo(C)&&Ct(C)===m,xi=(m,C,B)=>{if(p(B)||x(B)||N(B))m.setAttribute(C,B+"");else throw console.error("Invalid call to Attribute.set. Key ",C,":: Value ",B,":: Element ",m),new Error("Attribute value was not simple")},wr=(m,C,B)=>{xi(m.dom,C,B)},Jo=(m,C)=>{const B=m.dom;Xe(C,(L,Z)=>{xi(B,Z,L)})},To=(m,C)=>{Xe(C,(B,L)=>{B.fold(()=>{Vr(m,L)},Z=>{xi(m.dom,L,Z)})})},Es=(m,C)=>{const B=m.dom.getAttribute(C);return B===null?void 0:B},si=(m,C)=>G.from(Es(m,C)),Vr=(m,C)=>{m.dom.removeAttribute(C)},ui=m=>Ce(m.dom.attributes,(C,B)=>(C[B.name]=B.value,C),{}),Yr=(m,C)=>{const L=(C||document).createElement("div");if(L.innerHTML=m,!L.hasChildNodes()||L.childNodes.length>1){const Z="HTML does not have a single root node";throw console.error(Z,m),new Error(Z)}return Ti(L.childNodes[0])},ra=(m,C)=>{const L=(C||document).createElement(m);return Ti(L)},ls=(m,C)=>{const L=(C||document).createTextNode(m);return Ti(L)},Ti=m=>{if(m==null)throw new Error("Node cannot be null or undefined");return{dom:m}},Le={fromHtml:Yr,fromTag:ra,fromText:ls,fromDom:Ti,fromPoint:(m,C,B)=>G.from(m.dom.elementFromPoint(C,B)).map(Ti)},Pt=(m,C)=>{const B=m.dom;if(B.nodeType!==mr)return!1;{const L=B;if(L.matches!==void 0)return L.matches(C);if(L.msMatchesSelector!==void 0)return L.msMatchesSelector(C);if(L.webkitMatchesSelector!==void 0)return L.webkitMatchesSelector(C);if(L.mozMatchesSelector!==void 0)return L.mozMatchesSelector(C);throw new Error("Browser lacks native selectors")}},Zt=m=>m.nodeType!==mr&&m.nodeType!==$n&&m.nodeType!==_o||m.childElementCount===0,to=(m,C)=>{const B=C===void 0?document:C.dom;return Zt(B)?[]:Se(B.querySelectorAll(m),Le.fromDom)},uo=(m,C)=>{const B=C===void 0?document:C.dom;return Zt(B)?G.none():G.from(B.querySelector(m)).map(Le.fromDom)},Xn=(m,C)=>m.dom===C.dom,vr=(m,C)=>{const B=m.dom,L=C.dom;return B===L?!1:B.contains(L)},zo=Pt,Fo=m=>Le.fromDom(m.dom.ownerDocument),Cs=m=>Ts(m)?m:Fo(m),dn=m=>Le.fromDom(Cs(m).dom.documentElement),lt=m=>Le.fromDom(Cs(m).dom.defaultView),ut=m=>G.from(m.dom.parentNode).map(Le.fromDom),en=m=>G.from(m.dom.parentElement).map(Le.fromDom),En=(m,C)=>{const B=F(C)?C:se;let L=m.dom;const Z=[];for(;L.parentNode!==null&&L.parentNode!==void 0;){const te=L.parentNode,ke=Le.fromDom(te);if(Z.push(ke),B(ke)===!0)break;L=te}return Z},An=m=>G.from(m.dom.previousSibling).map(Le.fromDom),Un=m=>G.from(m.dom.nextSibling).map(Le.fromDom),_n=m=>Se(m.dom.childNodes,Le.fromDom),Jn=(m,C)=>{const B=m.dom.childNodes;return G.from(B[C]).map(Le.fromDom)},go=m=>Jn(m,0),$o=(m,C)=>{ut(m).each(L=>{L.dom.insertBefore(C.dom,m.dom)})},Hr=(m,C)=>{Un(m).fold(()=>{ut(m).each(Z=>{Qo(Z,C)})},L=>{$o(L,C)})},ks=(m,C)=>{go(m).fold(()=>{Qo(m,C)},L=>{m.dom.insertBefore(C.dom,L.dom)})},Qo=(m,C)=>{m.dom.appendChild(C.dom)},fa=(m,C,B)=>{Jn(m,B).fold(()=>{Qo(m,C)},L=>{$o(L,C)})},sr=(m,C)=>{$o(m,C),Qo(C,m)},Tr=(m,C)=>{re(C,(B,L)=>{const Z=L===0?m:C[L-1];Hr(Z,B)})},Or=(m,C)=>{re(C,B=>{Qo(m,B)})},Js=m=>{m.dom.textContent="",re(_n(m),C=>{Ls(C)})},Ls=m=>{const C=m.dom;C.parentNode!==null&&C.parentNode.removeChild(C)},Ea=m=>{const C=_n(m);C.length>0&&Tr(m,C),Ls(m)},Fi=(m,C)=>Le.fromDom(m.dom.cloneNode(C)),da=m=>Fi(m,!1),fl=m=>Fi(m,!0),Ma=(m,C)=>{const B=Le.fromTag(C),L=ui(m);return Jo(B,L),B},ka=(m,C)=>{const B=Ma(m,C),L=_n(fl(m));return Or(B,L),B},Cr=(m,C)=>{const B=Ma(m,C);Hr(m,B);const L=_n(m);return Or(B,L),Ls(m),B},Ri=["tfoot","thead","tbody","colgroup"],Ws=m=>U(Ri,m),sa=(m,C)=>({rows:m,columns:C}),Oi=(m,C)=>({row:m,column:C}),Aa=(m,C,B)=>({element:m,rowspan:C,colspan:B}),mi=(m,C,B,L)=>({element:m,rowspan:C,colspan:B,isNew:L}),dl=(m,C,B,L,Z,te)=>({element:m,rowspan:C,colspan:B,row:L,column:Z,isLocked:te}),ha=(m,C,B)=>({element:m,cells:C,section:B}),hl=(m,C,B,L)=>({element:m,cells:C,section:B,isNew:L}),Sr=(m,C,B)=>({element:m,isNew:C,isLocked:B}),vi=(m,C,B,L)=>({element:m,cells:C,section:B,isNew:L}),Ue=(m,C,B,L)=>({startRow:m,startCol:C,finishRow:B,finishCol:L}),pt=(m,C,B)=>({element:m,colspan:C,column:B}),xt=(m,C)=>({element:m,columns:C}),Gt=m=>ci(m)&&k(m.dom.host),mn=F(Element.prototype.attachShadow)&&F(Node.prototype.getRootNode),Do=P(mn),or=mn?m=>Le.fromDom(m.dom.getRootNode()):Cs,Os=m=>{const C=or(m);return Gt(C)?G.some(C):G.none()},xr=m=>Le.fromDom(m.dom.host),Ns=m=>{if(Do()&&k(m.target)){const C=Le.fromDom(m.target);if(eo(C)&&Ss(C)&&m.composed&&m.composedPath){const B=m.composedPath();if(B)return Oe(B)}}return G.from(m.target)},Ss=m=>k(m.dom.shadowRoot),Hs=m=>{const C=yr(m)?m.dom.parentNode:m.dom;if(C==null||C.ownerDocument===null)return!1;const B=C.ownerDocument;return Os(Le.fromDom(C)).fold(()=>B.body.contains(C),O(Hs,xr))},Mi=()=>ae(Le.fromDom(document)),ae=m=>{const C=m.dom.body;if(C==null)throw new Error("Body is not available yet");return Le.fromDom(C)},Ke=(m,C,B)=>ue(En(m,B),C),St=(m,C)=>ue(_n(m),C),cn=(m,C)=>{let B=[];return re(_n(m),L=>{C(L)&&(B=B.concat([L])),B=B.concat(cn(L,C))}),B},Fn=(m,C,B)=>Ke(m,L=>Pt(L,C),B),Hn=(m,C)=>St(m,B=>Pt(B,C)),Ro=(m,C)=>to(C,m);var pe=(m,C,B,L,Z)=>m(B,L)?G.some(B):F(Z)&&Z(B)?G.none():C(B,L,Z);const je=(m,C,B)=>{let L=m.dom;const Z=F(B)?B:se;for(;L.parentNode;){L=L.parentNode;const te=Le.fromDom(L);if(C(te))return G.some(te);if(Z(te))break}return G.none()},et=(m,C,B)=>pe((Z,te)=>te(Z),je,m,C,B),Nt=(m,C)=>{const B=Z=>C(Le.fromDom(Z));return q(m.dom.childNodes,B).map(Le.fromDom)},Dn=(m,C)=>{const B=L=>{for(let Z=0;Z<L.childNodes.length;Z++){const te=Le.fromDom(L.childNodes[Z]);if(C(te))return G.some(te);const ke=B(L.childNodes[Z]);if(ke.isSome())return ke}return G.none()};return B(m.dom)},mo=(m,C,B)=>je(m,L=>Pt(L,C),B),Wn=(m,C)=>Nt(m,B=>Pt(B,C)),Wr=(m,C)=>uo(C,m),cs=(m,C,B)=>pe((Z,te)=>Pt(Z,te),mo,m,C,B),nn=(m,C,B=z)=>m.exists(L=>B(L,C)),Qs=m=>{const C=[],B=L=>{C.push(L)};for(let L=0;L<m.length;L++)m[L].each(B);return C},ps=(m,C)=>m!=null?C(m):G.none(),ei=(m,C)=>m?G.some(C):G.none(),Dl=(m,C,B)=>C===""||m.length>=C.length&&m.substr(B,B+C.length)===C,rr=(m,C,B=0,L)=>{const Z=m.indexOf(C,B);return Z!==-1?T(L)?!0:Z+C.length<=L:!1},Ye=(m,C)=>Dl(m,C,0),at=(m,C)=>Dl(m,C,m.length-C.length),Vt=(m=>C=>C.replace(m,""))(/^\s+|\s+$/g),ro=m=>m.length>0,ko=m=>{const C=parseFloat(m);return isNaN(C)?G.none():G.some(C)},xs=m=>m.style!==void 0&&F(m.style.getPropertyValue),Er=(m,C,B)=>{if(!p(B))throw console.error("Invalid call to CSS.set. Property ",C,":: Value ",B,":: Element ",m),new Error("CSS value must be a string: "+B);xs(m)&&m.style.setProperty(C,B)},Uc=(m,C)=>{xs(m)&&m.style.removeProperty(C)},Fr=(m,C,B)=>{const L=m.dom;Er(L,C,B)},Xr=(m,C)=>{const B=m.dom;Xe(C,(L,Z)=>{Er(B,Z,L)})},pa=(m,C)=>{const B=m.dom,Z=window.getComputedStyle(B).getPropertyValue(C);return Z===""&&!Hs(m)?Xa(B,C):Z},Xa=(m,C)=>xs(m)?m.style.getPropertyValue(C):"",Wc=(m,C)=>{const B=m.dom,L=Xa(B,C);return G.from(L).filter(Z=>Z.length>0)},qs=(m,C)=>{const B=m.dom;Uc(B,C),nn(si(m,"style").map(Vt),"")&&Vr(m,"style")},_s=(m,C)=>{const B=m.dom,L=C.dom;xs(B)&&xs(L)&&(L.style.cssText=B.style.cssText)},Jr=(m,C,B=0)=>si(m,C).map(L=>parseInt(L,10)).getOr(B),bi=(m,C)=>Jr(m,C,1),pl=m=>pr("col")(m)?Jr(m,"span",1)>1:bi(m,"colspan")>1,Fu=m=>bi(m,"rowspan")>1,Ii=(m,C)=>parseInt(pa(m,C),10),ff=P(10),Hf=P(10),Ja=(m,C)=>jf(m,C,Q),jf=(m,C,B)=>tt(_n(m),L=>Pt(L,C)?B(L)?[L]:[]:jf(L,C,B)),Ym=(m,C,B=se)=>{if(B(C))return G.none();if(U(m,Ct(C)))return G.some(C);const L=Z=>Pt(Z,"table")||B(Z);return mo(C,m.join(","),L)},Bl=(m,C)=>Ym(["td","th"],m,C),Ru=m=>Ja(m,"th,td"),yd=m=>Pt(m,"colgroup")?Hn(m,"col"):tt(zf(m),C=>Hn(C,"col")),Ta=(m,C)=>cs(m,"table",C),du=m=>Ja(m,"tr"),zf=m=>Ta(m).fold(P([]),C=>Hn(C,"colgroup")),rh=(m,C)=>Se(m,B=>{if(Ct(B)==="colgroup"){const L=Se(yd(B),Z=>{const te=Jr(Z,"span",1);return Aa(Z,1,te)});return ha(B,L,"colgroup")}else{const L=Se(Ru(B),Z=>{const te=Jr(Z,"rowspan",1),ke=Jr(Z,"colspan",1);return Aa(Z,te,ke)});return ha(B,L,C(B))}}),df=m=>ut(m).map(C=>{const B=Ct(C);return Ws(B)?B:"tbody"}).getOr("tbody"),pp=m=>{const C=du(m),L=[...zf(m),...C];return rh(L,df)},sh=(m,C)=>rh(m,()=>C),Ec=m=>{let C=!1,B;return(...L)=>(C||(C=!0,B=m.apply(null,L)),B)},Xm=(m,C,B,L)=>{const Z=m.isiOS()&&/ipad/i.test(B)===!0,te=m.isiOS()&&!Z,ke=m.isiOS()||m.isAndroid(),Ie=ke||L("(pointer:coarse)"),Je=Z||!te&&ke&&L("(min-device-width:768px)"),gt=te||ke&&!Je,Bt=C.isSafari()&&m.isiOS()&&/safari/i.test(B)===!1,hn=!gt&&!Je&&!Bt;return{isiPad:P(Z),isiPhone:P(te),isTablet:P(Je),isPhone:P(gt),isTouch:P(Ie),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:P(Bt),isDesktop:P(hn)}},gp=(m,C)=>{for(let B=0;B<m.length;B++){const L=m[B];if(L.test(C))return L}},Vf=(m,C)=>{const B=gp(m,C);if(!B)return{major:0,minor:0};const L=Z=>Number(C.replace(B,"$"+Z));return mt(L(1),L(2))},ih=(m,C)=>{const B=String(C).toLowerCase();return m.length===0?kc():Vf(m,B)},kc=()=>mt(0,0),mt=(m,C)=>({major:m,minor:C}),hf={nu:mt,detect:ih,unknown:kc},Ac=(m,C)=>ie(C.brands,B=>{const L=B.brand.toLowerCase();return q(m,Z=>{var te;return L===((te=Z.brand)===null||te===void 0?void 0:te.toLowerCase())}).map(Z=>({current:Z.name,version:hf.nu(parseInt(B.version,10),0)}))}),mp=(m,C)=>{const B=String(C).toLowerCase();return q(m,L=>L.search(B))},vp=(m,C)=>mp(m,C).map(B=>{const L=hf.detect(B.versionRegexes,C);return{current:B.name,version:L}}),Jm=(m,C)=>mp(m,C).map(B=>{const L=hf.detect(B.versionRegexes,C);return{current:B.name,version:L}}),gs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ia=m=>C=>rr(C,m),xg=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:m=>rr(m,"edge/")&&rr(m,"chrome")&&rr(m,"safari")&&rr(m,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gs],search:m=>rr(m,"chrome")&&!rr(m,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:m=>rr(m,"msie")||rr(m,"trident")},{name:"Opera",versionRegexes:[gs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ia("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ia("firefox")},{name:"Safari",versionRegexes:[gs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:m=>(rr(m,"safari")||rr(m,"mobile/"))&&rr(m,"applewebkit")}],qc=[{name:"Windows",search:Ia("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:m=>rr(m,"iphone")||rr(m,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ia("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Ia("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ia("linux"),versionRegexes:[]},{name:"Solaris",search:Ia("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ia("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ia("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],bp={browsers:P(xg),oses:P(qc)},Uf="Edge",La="Chromium",Qm="IE",ah="Opera",e1="Firefox",Nl="Safari",lh=()=>yp({current:void 0,version:hf.unknown()}),yp=m=>{const C=m.current,B=m.version,L=Z=>()=>C===Z;return{current:C,version:B,isEdge:L(Uf),isChromium:L(La),isIE:L(Qm),isOpera:L(ah),isFirefox:L(e1),isSafari:L(Nl)}},wd={unknown:lh,nu:yp,edge:P(Uf),chromium:P(La),ie:P(Qm),opera:P(ah),firefox:P(e1),safari:P(Nl)},ga="Windows",ch="iOS",Eg="Android",wp="Linux",Wf="macOS",t1="Solaris",Cp="FreeBSD",gl="ChromeOS",n1=()=>hu({current:void 0,version:hf.unknown()}),hu=m=>{const C=m.current,B=m.version,L=Z=>()=>C===Z;return{current:C,version:B,isWindows:L(ga),isiOS:L(ch),isAndroid:L(Eg),isMacOS:L(Wf),isLinux:L(wp),isSolaris:L(t1),isFreeBSD:L(Cp),isChromeOS:L(gl)}},Cd={unknown:n1,nu:hu,windows:P(ga),ios:P(ch),android:P(Eg),linux:P(wp),macos:P(Wf),solaris:P(t1),freebsd:P(Cp),chromeos:P(gl)},Zc={detect:(m,C,B)=>{const L=bp.browsers(),Z=bp.oses(),te=C.bind(Je=>Ac(L,Je)).orThunk(()=>vp(L,m)).fold(wd.unknown,wd.nu),ke=Jm(Z,m).fold(Cd.unknown,Cd.nu),Ie=Xm(ke,te,m,B);return{browser:te,os:ke,deviceType:Ie}}},o1=m=>window.matchMedia(m).matches;let r1=Ec(()=>Zc.detect(navigator.userAgent,G.from(navigator.userAgentData),o1));const kg=()=>r1(),pu=(m,C)=>{const B=(Ie,Je)=>{if(!N(Je)&&!Je.match(/^[0-9]+$/))throw new Error(m+".set accepts only positive integer values. Value was "+Je);const gt=Ie.dom;xs(gt)&&(gt.style[m]=Je+"px")},L=Ie=>{const Je=C(Ie);if(Je<=0||Je===null){const gt=pa(Ie,m);return parseFloat(gt)||0}return Je},Z=L,te=(Ie,Je)=>Ce(Je,(gt,Bt)=>{const hn=pa(Ie,Bt),Rn=hn===void 0?0:parseInt(hn,10);return isNaN(Rn)?gt:gt+Rn},0);return{set:B,get:L,getOuter:Z,aggregate:te,max:(Ie,Je,gt)=>{const Bt=te(Ie,gt);return Je>Bt?Je-Bt:0}}},ee=(m,C)=>ko(m).getOr(C),we=(m,C,B)=>ee(pa(m,C),B),Me=(m,C,B,L)=>{const Z=we(m,`padding-${B}`,0),te=we(m,`padding-${L}`,0),ke=we(m,`border-${B}-width`,0),Ie=we(m,`border-${L}-width`,0);return C-Z-te-ke-Ie},vt=(m,C)=>{const B=m.dom,L=B.getBoundingClientRect().width||B.offsetWidth;return C==="border-box"?L:Me(m,L,"left","right")},At=m=>we(m,"height",m.dom.offsetHeight),In=m=>we(m,"width",m.dom.offsetWidth),Lo=m=>vt(m,"content-box"),_r=pu("width",m=>m.dom.offsetWidth),br=m=>_r.get(m),bo=m=>_r.getOuter(m),$r=Lo,ni=In,Ha=(m,C,B)=>{const L=m.cells,Z=L.slice(0,C),te=L.slice(C),ke=Z.concat(B).concat(te);return IC(m,ke)},Li=(m,C,B)=>Ha(m,C,[B]),Sp=(m,C,B)=>{const L=m.cells;L[C]=B},IC=(m,C)=>vi(m.element,C,m.section,m.isNew),er=(m,C)=>{const B=m.cells,L=Se(B,C);return vi(m.element,L,m.section,m.isNew)},yi=(m,C)=>m.cells[C],ts=(m,C)=>yi(m,C).element,Qa=m=>m.cells.length,Oa=m=>{const C=fe(m,B=>B.section==="colgroup");return{rows:C.fail,cols:C.pass}},s1=(m,C,B)=>{const L=Se(m.cells,B);return vi(C(m.element),L,m.section,!0)},Ag="data-snooker-locked-cols",i1=m=>si(m,Ag).bind(C=>G.from(C.match(/\d+/g))).map(C=>He(C,Q)),gf=m=>{const C=Ce(Oa(m).rows,(L,Z)=>(re(Z.cells,(te,ke)=>{te.isLocked&&(L[ke]=!0)}),L),{}),B=fn(C,(L,Z)=>parseInt(Z,10));return Re(B)},Tg=(m,C)=>m+","+C,LC=(m,C,B)=>G.from(m.access[Tg(C,B)]),e3=(m,C,B)=>{const L=_i(m,Z=>B(C,Z.element));return L.length>0?G.some(L[0]):G.none()},_i=(m,C)=>{const B=tt(m.all,L=>L.cells);return ue(B,C)},a1=m=>{const C={};let B=0;return re(m.cells,L=>{const Z=L.colspan;De(Z,te=>{const ke=B+te;C[ke]=pt(L.element,Z,ke)}),B+=Z}),C},wy=m=>{const C={},B=[],Z=Oe(m).map(Tn=>Tn.element).bind(Ta).bind(i1).getOr({});let te=0,ke=0,Ie=0;const{pass:Je,fail:gt}=fe(m,Tn=>Tn.section==="colgroup");re(gt,Tn=>{const tn=[];re(Tn.cells,jn=>{let rn=0;for(;C[Tg(Ie,rn)]!==void 0;)rn++;const Yn=sn(Z,rn.toString()),Wo=dl(jn.element,jn.rowspan,jn.colspan,Ie,rn,Yn);for(let fr=0;fr<jn.colspan;fr++)for(let ii=0;ii<jn.rowspan;ii++){const wl=Ie+ii,Qi=rn+fr,al=Tg(wl,Qi);C[al]=Wo,ke=Math.max(ke,Qi+1)}tn.push(Wo)}),te++,B.push(ha(Tn.element,tn,Tn.section)),Ie++});const{columns:Bt,colgroups:hn}=be(Je).map(Tn=>{const tn=a1(Tn);return{colgroups:[xt(Tn.element,oo(tn))],columns:tn}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:sa(te,ke),access:C,all:B,columns:Bt,colgroups:hn}},lr={fromTable:m=>{const C=pp(m);return wy(C)},generate:wy,getAt:LC,findItem:e3,filterItems:_i,justCells:m=>tt(m.all,C=>C.cells),justColumns:m=>oo(m.columns),hasColumns:m=>Ee(m.columns).length>0,getColumnAt:(m,C)=>G.from(m.columns[C])},el=(m,C=Q)=>{const B=m.grid,L=De(B.columns,I),Z=De(B.rows,I);return Se(L,te=>mf(()=>tt(Z,gt=>lr.getAt(m,gt,te).filter(Bt=>Bt.column===te).toArray()),gt=>gt.colspan===1&&C(gt.element),()=>lr.getAt(m,0,te)))},mf=(m,C,B)=>{const L=m();return q(L,C).orThunk(()=>G.from(L[0]).orThunk(B)).map(ke=>ke.element)},qf=m=>{const C=m.grid,B=De(C.rows,I),L=De(C.columns,I);return Se(B,Z=>mf(()=>tt(L,Je=>lr.getAt(m,Z,Je).filter(gt=>gt.row===Z).fold(P([]),gt=>[gt])),Je=>Je.rowspan===1,()=>lr.getAt(m,Z,0)))},l1=(m,C)=>{if(C<0||C>=m.length-1)return G.none();const B=m[C].fold(()=>{const Z=it(m.slice(0,C));return ie(Z,(te,ke)=>te.map(Ie=>({value:Ie,delta:ke+1})))},Z=>G.some({value:Z,delta:0})),L=m[C+1].fold(()=>{const Z=m.slice(C+1);return ie(Z,(te,ke)=>te.map(Ie=>({value:Ie,delta:ke+1})))},Z=>G.some({value:Z,delta:1}));return B.bind(Z=>L.map(te=>{const ke=te.delta+Z.delta;return Math.abs(te.value-Z.value)/ke}))},xp=(m,C)=>B=>Sy(B)==="rtl"?C:m,Sy=m=>pa(m,"direction")==="rtl"?"rtl":"ltr",xd=pu("height",m=>{const C=m.dom;return Hs(m)?C.getBoundingClientRect().height:C.offsetHeight}),Ed=m=>xd.get(m),no=m=>xd.getOuter(m),HC=At,ic=(m,C)=>({left:m,top:C,translate:(L,Z)=>ic(m+L,C+Z)}),Tc=ic,xy=m=>{const C=m.getBoundingClientRect();return Tc(C.left,C.top)},kd=(m,C)=>m!==void 0?m:C!==void 0?C:0,Mu=m=>{const C=m.dom.ownerDocument,B=C.body,L=C.defaultView,Z=C.documentElement;if(B===m.dom)return Tc(B.offsetLeft,B.offsetTop);const te=kd(L==null?void 0:L.pageYOffset,Z.scrollTop),ke=kd(L==null?void 0:L.pageXOffset,Z.scrollLeft),Ie=kd(Z.clientTop,B.clientTop),Je=kd(Z.clientLeft,B.clientLeft);return jC(m).translate(ke-Je,te-Ie)},jC=m=>{const C=m.dom,L=C.ownerDocument.body;return L===C?Tc(L.offsetLeft,L.offsetTop):Hs(m)?xy(C):Tc(0,0)},vf=(m,C)=>({row:m,y:C}),c1=(m,C)=>({col:m,x:C}),u1=m=>Mu(m).left+bo(m),yn=m=>Mu(m).left,Qv=(m,C)=>c1(m,yn(C)),e0=(m,C)=>c1(m,u1(C)),Iu=m=>Mu(m).top,Ep=(m,C)=>vf(m,Iu(C)),t0=(m,C)=>vf(m,Iu(C)+no(C)),$i=(m,C,B)=>{if(B.length===0)return[];const L=Se(B.slice(1),(te,ke)=>te.map(Ie=>m(ke,Ie))),Z=B[B.length-1].map(te=>C(B.length-1,te));return L.concat([Z])},zC=m=>-m,gu={delta:I,positions:m=>$i(Ep,t0,m),edge:Iu},Oo=xp({delta:I,edge:yn,positions:m=>$i(Qv,e0,m)},{delta:zC,edge:u1,positions:m=>$i(e0,Qv,m)}),ia={delta:(m,C)=>Oo(C).delta(m,C),positions:(m,C)=>Oo(C).positions(m,C),edge:m=>Oo(m).edge(m)},_g={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Ey=(()=>{const m="[0-9]+",C="[+-]?"+m,B="[eE]"+C,L="\\.",Z=Ie=>`(?:${Ie})?`,ke=`[+-]?(?:${["Infinity",m+L+Z(m)+Z(B),L+m+Z(B),m+Z(B)].join("|")})`;return new RegExp(`^(${ke})(.*)$`)})(),n0=(m,C)=>Fe(C,B=>Fe(_g[B],L=>m===L)),$g=(m,C)=>G.from(Ey.exec(m)).bind(L=>{const Z=Number(L[1]),te=L[2];return n0(te,C)?G.some({value:Z,unit:te}):G.none()}),Gc=/(\d+(\.\d+)?)%/,f1=/(\d+(\.\d+)?)px|em/,Dg=pr("col"),Di=(m,C,B)=>{const L=en(m).getOrThunk(()=>ae(Fo(m)));return C(m)/B(L)*100},Lu=(m,C)=>{Fr(m,"width",C+"px")},d1=(m,C)=>{Fr(m,"width",C+"%")},kp=(m,C)=>{Fr(m,"height",C+"px")},VC=m=>HC(m)+"px",Bg=(m,C,B,L)=>{const Z=Ta(m).map(te=>{const ke=B(te);return Math.floor(C/100*ke)}).getOr(C);return L(m,Z),Z},Ad=(m,C,B,L)=>{const Z=parseFloat(m);return at(m,"%")&&Ct(C)!=="table"?Bg(C,Z,B,L):Z},uh=m=>{const C=VC(m);return C?Ad(C,m,Ed,kp):Ed(m)},Ap=(m,C,B)=>{const L=B(m),Z=bi(m,C);return L/Z},ky=(m,C)=>Wc(m,C).orThunk(()=>si(m,C).map(B=>B+"px")),fh=m=>ky(m,"width"),jr=m=>ky(m,"height"),bf=m=>Di(m,br,$r),Pl=m=>Dg(m)?br(m):ni(m),Td=m=>Ap(m,"rowspan",uh),Kc=m=>fh(m).bind(B=>$g(B,["fixed","relative","empty"])),Ay=(m,C,B)=>{Fr(m,"width",C+B)},ja=m=>br(m)+"px",ml=m=>Di(m,br,$r)+"%",o0=m=>fh(m).exists(C=>Gc.test(C)),ln=m=>fh(m).exists(C=>f1.test(C)),_a=m=>fh(m).isNone(),Hu=P(Gc),Zi=pr("col"),Tp=m=>fh(m).getOrThunk(()=>Pl(m)+"px"),dh=m=>jr(m).getOrThunk(()=>Td(m)+"px"),yf=m=>Se(lr.justColumns(m),C=>G.from(C.element)),r0=m=>{const C=kg().browser,B=C.isChromium()||C.isFirefox();return Zi(m)?B:!0},Oc=(m,C,B,L,Z,te)=>m.filter(L).fold(()=>te(l1(B,C)),ke=>Z(ke)),h1=(m,C,B,L)=>{const Z=el(m),te=lr.hasColumns(m)?yf(m):Z,ke=[G.some(ia.edge(C))].concat(Se(ia.positions(Z,C),Je=>Je.map(gt=>gt.x))),Ie=j(pl);return Se(te,(Je,gt)=>Oc(Je,gt,ke,Ie,Bt=>{if(r0(Bt))return B(Bt);{const hn=ps(Z[gt],I);return Oc(hn,gt,ke,Ie,Rn=>L(G.some(br(Rn))),L)}},L))},Fl=m=>m.map(C=>C+"px").getOr(""),Kr=(m,C)=>h1(m,C,Tp,Fl),Zf=(m,C,B)=>h1(m,C,bf,L=>L.fold(()=>B.minCellWidth(),Z=>Z/B.pixelWidth()*100)),hh=(m,C,B)=>h1(m,C,Pl,L=>L.getOrThunk(B.minCellWidth)),Rl=(m,C,B,L,Z)=>{const te=qf(m),ke=[G.some(B.edge(C))].concat(Se(B.positions(te,C),Ie=>Ie.map(Je=>Je.y)));return Se(te,(Ie,Je)=>Oc(Ie,Je,ke,j(Fu),L,Z))},ph=(m,C,B)=>Rl(m,C,B,Td,L=>L.getOrThunk(Hf)),Gi=(m,C,B)=>Rl(m,C,B,dh,Fl),Op=(m,C)=>()=>Hs(m)?C(m):parseFloat(Wc(m,"width").getOr("0")),lc=m=>{const C=Op(m,br),B=P(0);return{width:C,pixelWidth:C,getWidths:(Z,te)=>hh(Z,m,te),getCellDelta:B,singleColumnWidth:P([0]),minCellWidth:B,setElementWidth:$,adjustTableWidth:$,isRelative:!0,label:"none"}},p1=m=>{const C=Op(m,Je=>parseFloat(ml(Je))),B=Op(m,br);return{width:C,pixelWidth:B,getWidths:(Je,gt)=>Zf(Je,m,gt),getCellDelta:Je=>Je/B()*100,singleColumnWidth:(Je,gt)=>[100-Je],minCellWidth:()=>ff()/B()*100,setElementWidth:d1,adjustTableWidth:Je=>{const gt=C(),Bt=Je/100*gt,hn=gt+Bt;d1(m,hn)},isRelative:!0,label:"percent"}},$t=m=>{const C=Op(m,br);return{width:C,pixelWidth:C,getWidths:(ke,Ie)=>hh(ke,m,Ie),getCellDelta:I,singleColumnWidth:(ke,Ie)=>[Math.max(ff(),ke+Ie)-ke],minCellWidth:ff,setElementWidth:Lu,adjustTableWidth:ke=>{const Ie=C()+ke;Lu(m,Ie)},isRelative:!1,label:"pixel"}},cc=(m,C)=>Hu().exec(C)!==null?p1(m):$t(m),_c={getTableSize:m=>fh(m).fold(()=>lc(m),B=>cc(m,B)),pixelSize:$t,percentageSize:p1,noneSize:lc},Gf=(m,C,B,L,Z,te)=>({minRow:m,minCol:C,maxRow:B,maxCol:L,allCells:Z,selectedCells:te}),$c=(m,C)=>{const B=m.grid.columns;let Z=m.grid.rows,te=B,ke=0,Ie=0;const Je=[],gt=[];return Xe(m.access,Bt=>{if(Je.push(Bt),C(Bt)){gt.push(Bt);const hn=Bt.row,Rn=hn+Bt.rowspan-1,Tn=Bt.column,tn=Tn+Bt.colspan-1;hn<Z?Z=hn:Rn>ke&&(ke=Rn),Tn<te?te=Tn:tn>Ie&&(Ie=tn)}}),Gf(Z,te,ke,Ie,Je,gt)},ma=(m,C,B)=>{const L=m[B].element,Z=Le.fromTag("td");Qo(Z,Le.fromTag("br")),(C?Qo:ks)(L,Z)},W=(m,C,B,L)=>{const Z=ue(m,Ie=>Ie.section!=="colgroup"),te=C.grid.columns,ke=C.grid.rows;for(let Ie=0;Ie<ke;Ie++){let Je=!1;for(let gt=0;gt<te;gt++)Ie<B.minRow||Ie>B.maxRow||gt<B.minCol||gt>B.maxCol||(lr.getAt(C,Ie,gt).filter(L).isNone()?ma(Z,Je,Ie):Je=!0)}},X=(m,C,B,L)=>{Xe(B.columns,ke=>{(ke.column<C.minCol||ke.column>C.maxCol)&&Ls(ke.element)});const Z=ue(Ja(m,"tr"),ke=>ke.dom.childElementCount===0);re(Z,Ls),(C.minCol===C.maxCol||C.minRow===C.maxRow)&&re(Ja(m,"th,td"),ke=>{Vr(ke,"rowspan"),Vr(ke,"colspan")}),Vr(m,Ag),Vr(m,"data-snooker-col-series"),_c.getTableSize(m).adjustTableWidth(L)},_e=(m,C,B,L)=>{if(L.minCol===0&&C.grid.columns===L.maxCol+1)return 0;const Z=hh(C,m,B),te=Ce(Z,(gt,Bt)=>gt+Bt,0),Je=Ce(Z.slice(L.minCol,L.maxCol+1),(gt,Bt)=>gt+Bt,0)/te*B.pixelWidth()-B.pixelWidth();return B.getCellDelta(Je)},$e=(m,C)=>{const B=Rn=>Pt(Rn.element,C),L=fl(m),Z=pp(L),te=_c.getTableSize(m),ke=lr.generate(Z),Ie=$c(ke,B),Je="th:not("+C+"),td:not("+C+")",gt=jf(L,"th,td",Rn=>Pt(Rn,Je));re(gt,Ls),W(Z,ke,Ie,B);const Bt=lr.fromTable(m),hn=_e(m,Bt,te,Ie);return X(L,Ie,ke,hn),L},yt="\xA0",Cn=((m,C)=>{const B=te=>{if(!m(te))throw new Error("Can only get "+C+" value of a "+C+" node");return L(te).getOr("")},L=te=>m(te)?G.from(te.dom.nodeValue):G.none();return{get:B,getOption:L,set:(te,ke)=>{if(!m(te))throw new Error("Can only set raw "+C+" value of a "+C+" node");te.dom.nodeValue=ke}}})(yr,"text"),Gn=m=>Cn.get(m),Zo=m=>Cn.getOption(m),ur=(m,C)=>Cn.set(m,C),ns=m=>Ct(m)==="img"?1:Zo(m).fold(()=>_n(m).length,C=>C.length),ds=m=>Zo(m).filter(C=>C.trim().length!==0||C.indexOf(yt)>-1).isSome(),Ps=["img","br"],Ml=m=>ds(m)||U(Ps,Ct(m)),Yc=m=>Dn(m,Ml),Kf=m=>ju(m,Ml),ju=(m,C)=>{const B=L=>{const Z=_n(L);for(let te=Z.length-1;te>=0;te--){const ke=Z[te];if(C(ke))return G.some(ke);const Ie=B(ke);if(Ie.isSome())return Ie}return G.none()};return B(m)},gh={scope:["row","col"]},Od=m=>()=>{const C=Le.fromTag("td",m.dom);return Qo(C,Le.fromTag("br",m.dom)),C},wf=m=>()=>Le.fromTag("col",m.dom),mh=m=>()=>Le.fromTag("colgroup",m.dom),Cf=m=>()=>Le.fromTag("tr",m.dom),g1=(m,C,B)=>{const L=ka(m,C);return Xe(B,(Z,te)=>{Z===null?Vr(L,te):wr(L,te,Z)}),L},m1=m=>m,UC=(m,C,B)=>Yc(m).map(Z=>{const te=B.join(","),ke=Fn(Z,te,Ie=>Xn(Ie,m));return Be(ke,(Ie,Je)=>{const gt=da(Je);return Vr(gt,"contenteditable"),Qo(Ie,gt),gt},C)}).getOr(C),WC=(m,C)=>{Xe(gh,(B,L)=>si(m,L).filter(Z=>U(B,Z)).each(Z=>wr(C,L,Z)))},Uo=(m,C,B)=>{const L=(ke,Ie)=>{_s(ke.element,Ie),qs(Ie,"height"),ke.colspan!==1&&qs(Ie,"width")},Z=ke=>{const Ie=Le.fromTag(Ct(ke.element),C.dom),Je=B.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),gt=Je.length>0?UC(ke.element,Ie,Je):Ie;return Qo(gt,Le.fromTag("br")),L(ke,Ie),WC(ke.element,Ie),m(ke.element,Ie),Ie};return{col:ke=>{const Ie=Le.fromTag(Ct(ke.element),C.dom);return L(ke,Ie),m(ke.element,Ie),Ie},colgroup:mh(C),row:Cf(C),cell:Z,replace:g1,colGap:wf(C),gap:Od(C)}},As=m=>({col:wf(m),colgroup:mh(m),row:Cf(m),cell:Od(m),replace:m1,colGap:wf(m),gap:Od(m)}),za=(m,C)=>{const L=(C||document).createElement("div");return L.innerHTML=m,_n(Le.fromDom(L))},wi=m=>Se(m,Le.fromDom),Ng=m=>Le.fromDom(m.getBody()),tl=m=>C=>Xn(C,Ng(m)),Xc=m=>{Vr(m,"data-mce-style");const C=B=>Vr(B,"data-mce-style");re(Ru(m),C),re(yd(m),C),re(du(m),C)},Yf=m=>Le.fromDom(m.selection.getStart()),Ty=m=>m.getBoundingClientRect().width,_d=m=>m.getBoundingClientRect().height,_p=(m,C)=>{const B=m.dom.getStyle(C,"width")||m.dom.getAttrib(C,"width");return G.from(B).filter(ro)},Pg=m=>/^(\d+(\.\d+)?)%$/.test(m),i0=m=>/^(\d+(\.\d+)?)px$/.test(m),t3=(m,C)=>{const B=C.column,L=C.column+C.colspan-1,Z=C.row,te=C.row+C.rowspan-1;return B<=m.finishCol&&L>=m.startCol&&Z<=m.finishRow&&te>=m.startRow},Fg=(m,C)=>C.column>=m.startCol&&C.column+C.colspan-1<=m.finishCol&&C.row>=m.startRow&&C.row+C.rowspan-1<=m.finishRow,v1=(m,C)=>{let B=!0;const L=K(Fg,C);for(let Z=C.startRow;Z<=C.finishRow;Z++)for(let te=C.startCol;te<=C.finishCol;te++)B=B&&lr.getAt(m,Z,te).exists(L);return B?G.some(C):G.none()},a0=(m,C)=>Ue(Math.min(m.row,C.row),Math.min(m.column,C.column),Math.max(m.row+m.rowspan-1,C.row+C.rowspan-1),Math.max(m.column+m.colspan-1,C.column+C.colspan-1)),n3=(m,C,B)=>{const L=lr.findItem(m,C,Xn),Z=lr.findItem(m,B,Xn);return L.bind(te=>Z.map(ke=>a0(te,ke)))},l0=(m,C,B)=>n3(m,C,B).bind(L=>v1(m,L)),Oy=(m,C,B,L)=>lr.findItem(m,C,Xn).bind(Z=>{const te=B>0?Z.row+Z.rowspan-1:Z.row,ke=L>0?Z.column+Z.colspan-1:Z.column;return lr.getAt(m,te+B,ke+L).map(Je=>Je.element)}),o3=(m,C,B)=>n3(m,C,B).map(L=>{const Z=lr.filterItems(m,K(t3,L));return Se(Z,te=>te.element)}),Ki=(m,C)=>{const B=(L,Z)=>vr(Z,L);return lr.findItem(m,C,B).map(L=>L.element)},g_=(m,C,B)=>Ta(m).bind(L=>{const Z=Xf(L);return Oy(Z,m,C,B)}),$p=(m,C,B)=>{const L=Xf(m);return o3(L,C,B)},va=(m,C,B,L,Z)=>{const te=Xf(m),ke=Xn(m,B)?G.some(C):Ki(te,C),Ie=Xn(m,Z)?G.some(L):Ki(te,L);return ke.bind(Je=>Ie.bind(gt=>o3(te,Je,gt)))},qC=(m,C,B)=>{const L=Xf(m);return l0(L,C,B)},Xf=lr.fromTable;var mu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],vh=()=>{const m=gt=>Le.fromDom(gt.dom.cloneNode(!1)),C=gt=>Cs(gt).dom,B=gt=>eo(gt)?Ct(gt)==="body"?!0:U(mu,Ct(gt)):!1,L=gt=>eo(gt)?U(["br","img","hr","input"],Ct(gt)):!1,Z=gt=>eo(gt)&&Es(gt,"contenteditable")==="false",te=(gt,Bt)=>gt.dom.compareDocumentPosition(Bt.dom),ke=(gt,Bt)=>{const hn=ui(gt);Jo(Bt,hn)},Ie=gt=>{const Bt=Ct(gt);return U(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Bt)},Je=gt=>eo(gt)?si(gt,"lang"):G.none();return{up:P({selector:mo,closest:cs,predicate:je,all:En}),down:P({selector:Ro,predicate:cn}),styles:P({get:pa,getRaw:Wc,set:Fr,remove:qs}),attrs:P({get:Es,set:wr,remove:Vr,copyTo:ke}),insert:P({before:$o,after:Hr,afterAll:Tr,append:Qo,appendAll:Or,prepend:ks,wrap:sr}),remove:P({unwrap:Ea,remove:Ls}),create:P({nu:Le.fromTag,clone:m,text:Le.fromText}),query:P({comparePosition:te,prevSibling:An,nextSibling:Un}),property:P({children:_n,name:Ct,parent:ut,document:C,isText:yr,isComment:pn,isElement:eo,isSpecial:Ie,getLanguage:Je,getText:Gn,setText:ur,isBoundary:B,isEmptyTag:L,isNonEditable:Z}),eq:Xn,is:zo}};const c0=(m,C,B,L)=>{const Z=B[0],te=B.slice(1);return L(m,C,Z,te)},m_=(m,C,B)=>B.length>0?c0(m,C,B,_y):G.none(),_y=(m,C,B,L)=>{const Z=C(m,B);return Be(L,(te,ke)=>{const Ie=C(m,ke);return u0(m,te,Ie)},Z)},u0=(m,C,B)=>C.bind(L=>B.filter(K(m.eq,L))),$y=(m,C)=>K(m.eq,C),Dy=(m,C,B,L=se)=>{const Z=[C].concat(m.up().all(C)),te=[B].concat(m.up().all(B)),ke=Bt=>Ze(Bt,L).fold(()=>Bt,Rn=>Bt.slice(0,Rn+1)),Ie=ke(Z),Je=ke(te),gt=q(Ie,Bt=>Fe(Je,$y(m,Bt)));return{firstpath:Ie,secondpath:Je,shared:gt}},By=m_,ZC=Dy,f0=vh(),bh=(m,C)=>By(f0,(B,L)=>m(L),C),Sf=(m,C,B)=>ZC(f0,m,C,B),Dp=m=>mo(m,"table"),d0=(m,C,B)=>{const L=Z=>te=>B!==void 0&&B(te)||Xn(te,Z);return Xn(m,C)?G.some({boxes:G.some([m]),start:m,finish:C}):Dp(m).bind(Z=>Dp(C).bind(te=>{if(Xn(Z,te))return G.some({boxes:$p(Z,m,C),start:m,finish:C});if(vr(Z,te)){const ke=Fn(C,"td,th",L(Z)),Ie=ke.length>0?ke[ke.length-1]:C;return G.some({boxes:va(Z,m,Z,C,te),start:m,finish:Ie})}else if(vr(te,Z)){const ke=Fn(m,"td,th",L(te)),Ie=ke.length>0?ke[ke.length-1]:m;return G.some({boxes:va(te,m,Z,C,te),start:m,finish:Ie})}else return Sf(m,C).shared.bind(ke=>cs(ke,"table",B).bind(Ie=>{const Je=Fn(C,"td,th",L(Ie)),gt=Je.length>0?Je[Je.length-1]:C,Bt=Fn(m,"td,th",L(Ie)),hn=Bt.length>0?Bt[Bt.length-1]:m;return G.some({boxes:va(Ie,m,Z,C,te),start:hn,finish:gt})}))}))},h0=(m,C)=>{const B=Ro(m,C);return B.length>0?G.some(B):G.none()},p0=(m,C)=>q(m,B=>Pt(B,C)),Ny=(m,C,B)=>Wr(m,C).bind(L=>Wr(m,B).bind(Z=>bh(Dp,[L,Z]).map(te=>({first:L,last:Z,table:te})))),r3=(m,C)=>mo(m,"table").bind(B=>Wr(B,C).bind(L=>d0(L,m).bind(Z=>Z.boxes.map(te=>({boxes:te,start:Z.start,finish:Z.finish}))))),GC=(m,C,B,L,Z)=>p0(m,Z).bind(te=>g_(te,C,B).bind(ke=>r3(ke,L))),b1=(m,C)=>h0(m,C),ms=(m,C,B)=>Ny(m,C,B).bind(L=>{const Z=Je=>Xn(m,Je),te="thead,tfoot,tbody,table",ke=mo(L.first,te,Z),Ie=mo(L.last,te,Z);return ke.bind(Je=>Ie.bind(gt=>Xn(Je,gt)?qC(L.table,L.first,L.last):G.none()))}),Ho=I,vu=m=>{const C=(L,Z)=>si(L,Z).exists(te=>parseInt(te,10)>1),B=L=>C(L,"rowspan")||C(L,"colspan");return m.length>0&&Qe(m,B)?G.some(m):G.none()},y1=(m,C,B)=>C.length<=1?G.none():ms(m,B.firstSelectedSelector,B.lastSelectedSelector).map(L=>({bounds:L,cells:C})),yh="data-mce-selected",v_="td["+yh+"],th["+yh+"]",Rg="["+yh+"]",Dr="data-mce-first-selected",Py="td["+Dr+"],th["+Dr+"]",Fy="data-mce-last-selected",s3="td["+Fy+"],th["+Fy+"]",on=Rg,$d={selected:yh,selectedSelector:v_,firstSelected:Dr,firstSelectedSelector:Py,lastSelected:Fy,lastSelectedSelector:s3},g0=(m,C,B)=>({element:B,mergable:y1(C,m,$d),unmergable:vu(m),selection:Ho(m)}),Ry=(m,C,B)=>({element:m,clipboard:C,generators:B}),KC=(m,C,B,L)=>({selection:Ho(m),clipboard:B,generators:L}),zu=m=>Ta(m).bind(C=>b1(C,$d.firstSelectedSelector)).fold(P(m),C=>C[0]),w1=m=>(C,B)=>{const L=Ct(C),Z=L==="col"||L==="colgroup"?zu(C):C;return cs(Z,m,B)},Mg=w1("th,td,caption"),YC=w1("th,td"),Jc=m=>wi(m.model.table.getSelectedCells()),Yi=m=>ue(Jc(m),C=>Pt(C,$d.selectedSelector)),Jf=m=>Ta(m[0]).map(C=>{const B=$e(C,on);return Xc(B),[B]}),XC=(m,C)=>Se(C,B=>m.selection.serializer.serialize(B.dom,{})).join(""),wh=m=>Se(m,C=>C.dom.innerText).join(""),b_=(m,C)=>{m.on("BeforeGetContent",B=>{const L=Z=>{B.preventDefault(),Jf(Z).each(te=>{B.content=B.format==="text"?wh(te):XC(m,te)})};if(B.selection===!0){const Z=Yi(m);Z.length>=1&&L(Z)}}),m.on("BeforeSetContent",B=>{if(B.selection===!0&&B.paste===!0){const L=Jc(m);Oe(L).each(Z=>{Ta(Z).each(te=>{const ke=ue(za(B.content),Je=>Ct(Je)!=="meta"),Ie=pr("table");if(ke.length===1&&Ie(ke[0])){B.preventDefault();const Je=Le.fromDom(m.getDoc()),gt=As(Je),Bt=Ry(Z,ke[0],gt);C.pasteCells(te,Bt).each(()=>{m.focus()})}})})}})},Ch=(m,C)=>({element:m,offset:C}),Dd=(m,C,B)=>m.property().isText(C)&&m.property().getText(C).trim().length===0||m.property().isComment(C)?B(C).bind(L=>Dd(m,L,B).orThunk(()=>G.some(L))):G.none(),i3=(m,C)=>m.property().isText(C)?m.property().getText(C).length:m.property().children(C).length,C1=(m,C)=>{const B=Dd(m,C,m.query().prevSibling).getOr(C);if(m.property().isText(B))return Ch(B,i3(m,B));const L=m.property().children(B);return L.length>0?C1(m,L[L.length-1]):Ch(B,i3(m,B))},y_=C1,Ig=vh(),Bd=m=>y_(Ig,m),w_=(m,C)=>{pl(m)||Kc(m).each(L=>{const Z=L.value/2;Ay(m,Z,L.unit),Ay(C,Z,L.unit)})},S1=m=>Se(m,P(0)),a3=(m,C,B,L,Z)=>Z(m.slice(0,C)).concat(L).concat(Z(m.slice(B))),Lg=m=>(C,B,L,Z)=>{if(m(L)){const te=Math.max(Z,C[B]-Math.abs(L)),ke=Math.abs(te-C[B]);return L>=0?ke:-ke}else return L},fo=Lg(m=>m<0),x1=Lg(Q),JC=()=>{const m=(Ie,Je,gt,Bt,hn)=>{const Rn=fo(Ie,Je,Bt,hn);return a3(Ie,Je,gt+1,[Rn,0],S1)},C=(Ie,Je,gt,Bt)=>{const hn=(100+gt)/100,Rn=Math.max(Bt,(Ie[Je]+gt)/hn);return Se(Ie,(Tn,tn)=>(tn===Je?Rn:Tn/hn)-Tn)},B=(Ie,Je,gt,Bt,hn,Rn)=>Rn?C(Ie,Je,Bt,hn):m(Ie,Je,gt,Bt,hn);return{resizeTable:(Ie,Je)=>Ie(Je),clampTableDelta:fo,calcLeftEdgeDeltas:B,calcMiddleDeltas:(Ie,Je,gt,Bt,hn,Rn,Tn)=>B(Ie,gt,Bt,hn,Rn,Tn),calcRightEdgeDeltas:(Ie,Je,gt,Bt,hn,Rn)=>{if(Rn)return C(Ie,gt,Bt,hn);{const Tn=fo(Ie,gt,Bt,hn);return S1(Ie.slice(0,gt)).concat([Tn])}},calcRedestributedWidths:(Ie,Je,gt,Bt)=>{if(Bt){const Rn=(Je+gt)/Je,Tn=Se(Ie,tn=>tn/Rn);return{delta:Rn*100-100,newSizes:Tn}}else return{delta:gt,newSizes:Ie}}}},QC=()=>{const m=(ke,Ie,Je,gt,Bt)=>{const hn=gt>=0?Je:Ie,Rn=x1(ke,hn,gt,Bt);return a3(ke,Ie,Je+1,[Rn,-Rn],S1)};return{resizeTable:(ke,Ie,Je)=>{Je&&ke(Ie)},clampTableDelta:(ke,Ie,Je,gt,Bt)=>{if(Bt){if(Je>=0)return Je;{const hn=Ce(ke,(Rn,Tn)=>Rn+Tn-gt,0);return Math.max(-hn,Je)}}else return fo(ke,Ie,Je,gt)},calcLeftEdgeDeltas:m,calcMiddleDeltas:(ke,Ie,Je,gt,Bt,hn)=>m(ke,Je,gt,Bt,hn),calcRightEdgeDeltas:(ke,Ie,Je,gt,Bt,hn)=>{if(hn)return S1(ke);{const Rn=gt/ke.length;return Se(ke,P(Rn))}},calcRedestributedWidths:(ke,Ie,Je,gt)=>({delta:0,newSizes:ke})}},m0=m=>lr.fromTable(m).grid,My=pr("th"),$s=m=>Qe(m,C=>My(C.element)),v0=(m,C)=>m&&C?"sectionCells":m?"section":"cells",Hg=m=>{const C=m.section==="thead",B=nn(eS(m.cells),"th");return m.section==="tfoot"?{type:"footer"}:C||B?{type:"header",subType:v0(C,B)}:{type:"body"}},eS=m=>{const C=ue(m,B=>My(B.element));return C.length===0?G.some("td"):C.length===m.length?G.some("th"):G.none()},jg=m=>{const C=Se(m,Z=>Hg(Z).type),B=U(C,"header"),L=U(C,"footer");if(!B&&!L)return G.some("body");{const Z=U(C,"body");return B&&!Z&&!L?G.some("header"):!B&&!Z&&L?G.some("footer"):G.none()}},l3=m=>ie(m.all,C=>{const B=Hg(C);return B.type==="header"?G.from(B.subType):G.none()}),Qf=(m,C,B)=>Sr(B(m.element,C),!0,m.isLocked),aa=(m,C)=>m.section!==C?vi(m.element,m.cells,C,m.isNew):m,Iy=()=>({transformRow:aa,transformCell:(m,C,B)=>{const L=B(m.element,C),Z=Ct(L)!=="td"?Cr(L,"td"):L;return Sr(Z,m.isNew,m.isLocked)}}),c3=()=>({transformRow:aa,transformCell:Qf}),Sh=()=>({transformRow:(m,C)=>aa(m,C==="thead"?"tbody":C),transformCell:Qf}),b0={getTableSectionType:(m,C)=>{const B=lr.fromTable(m);switch(l3(B).getOr(C)){case"section":return Iy();case"sectionCells":return c3();case"cells":return Sh()}},section:Iy,sectionCells:c3,cells:Sh,fallback:()=>({transformRow:I,transformCell:Qf})},Ly=m=>cs(m,"[contenteditable]"),ed=(m,C=!1)=>Hs(m)?m.dom.isContentEditable:Ly(m).fold(P(C),B=>bu(B)==="true"),bu=m=>m.dom.contentEditable,Hy=(m,C,B,L)=>{B===L?Vr(m,C):wr(m,C,B)},S_=(m,C,B)=>{be(Hn(m,C)).fold(()=>ks(m,B),L=>Hr(L,B))},NF=(m,C)=>{const B=Wn(m,C).getOrThunk(()=>{const L=Le.fromTag(C,Fo(m).dom);return C==="thead"?S_(m,"caption,colgroup",L):C==="colgroup"?S_(m,"caption",L):Qo(m,L),L});return Js(B),B},xf=(m,C)=>{const B=[],L=[],Z=Tn=>Se(Tn,tn=>{tn.isNew&&B.push(tn.element);const jn=tn.element;return Js(jn),re(tn.cells,rn=>{rn.isNew&&L.push(rn.element),Hy(rn.element,"colspan",rn.colspan,1),Hy(rn.element,"rowspan",rn.rowspan,1),Qo(jn,rn.element)}),jn}),te=Tn=>tt(Tn,tn=>Se(tn.cells,jn=>(Hy(jn.element,"span",jn.colspan,1),jn.element))),ke=(Tn,tn)=>{const jn=NF(m,tn),Yn=(tn==="colgroup"?te:Z)(Tn);Or(jn,Yn)},Ie=Tn=>{Wn(m,Tn).each(Ls)},Je=(Tn,tn)=>{Tn.length>0?ke(Tn,tn):Ie(tn)},gt=[],Bt=[],hn=[],Rn=[];return re(C,Tn=>{switch(Tn.section){case"thead":gt.push(Tn);break;case"tbody":Bt.push(Tn);break;case"tfoot":hn.push(Tn);break;case"colgroup":Rn.push(Tn);break}}),Je(Rn,"colgroup"),Je(gt,"thead"),Je(Bt,"tbody"),Je(hn,"tfoot"),{newRows:B,newCells:L}},Bi=m=>Se(m,C=>{const B=da(C.element);return re(C.cells,L=>{const Z=fl(L.element);Hy(Z,"colspan",L.colspan,1),Hy(Z,"rowspan",L.rowspan,1),Qo(B,Z)}),B}),x_=(m,C)=>Se(m,B=>yi(B,C)),E_=(m,C)=>m[C],xh=(m,C)=>{if(m.length===0)return 0;const B=m[0];return Ze(m,Z=>!C(B.element,Z.element)).getOr(m.length)},jy=(m,C,B,L)=>{const Z=E_(m,C),te=Z.section==="colgroup",ke=xh(Z.cells.slice(B),L),Ie=te?1:xh(x_(m.slice(C),B),L);return{colspan:ke,rowspan:Ie}},nS=(m,C)=>{const B=Se(m,Z=>Se(Z.cells,se)),L=(Z,te,ke,Ie)=>{for(let Je=Z;Je<Z+ke;Je++)for(let gt=te;gt<te+Ie;gt++)B[Je][gt]=!0};return Se(m,(Z,te)=>{const ke=tt(Z.cells,(Ie,Je)=>{if(B[te][Je]===!1){const gt=jy(m,te,Je,C);return L(te,Je,gt.rowspan,gt.colspan),[mi(Ie.element,gt.rowspan,gt.colspan,Ie.isNew)]}else return[]});return hl(Z.element,ke,Z.section,Z.isNew)})},Eh=(m,C,B)=>{const L=[];re(m.colgroups,Z=>{const te=[];for(let ke=0;ke<m.grid.columns;ke++){const Ie=lr.getColumnAt(m,ke).map(Je=>Sr(Je.element,B,!1)).getOrThunk(()=>Sr(C.colGap(),!0,!1));te.push(Ie)}L.push(vi(Z.element,te,"colgroup",B))});for(let Z=0;Z<m.grid.rows;Z++){const te=[];for(let Je=0;Je<m.grid.columns;Je++){const gt=lr.getAt(m,Z,Je).map(Bt=>Sr(Bt.element,B,Bt.isLocked)).getOrThunk(()=>Sr(C.gap(),!0,!1));te.push(gt)}const ke=m.all[Z],Ie=vi(ke.element,te,ke.section,B);L.push(Ie)}return L},kh=(m,C)=>Eh(m,C,!1),Ah=m=>nS(m,Xn),zg=(m,C)=>ie(m.all,B=>q(B.cells,L=>Xn(C,L.element))),Vg=(m,C,B)=>{const L=Se(C.selection,te=>Bl(te).bind(ke=>zg(m,ke)).filter(B)),Z=Qs(L);return ei(Z.length>0,Z)},ba=(m,C,B,L,Z)=>(te,ke,Ie,Je)=>{const gt=lr.fromTable(te),Bt=G.from(Je==null?void 0:Je.section).getOrThunk(b0.fallback);return C(gt,ke).map(Rn=>{const Tn=kh(gt,Ie),tn=m(Tn,Rn,Xn,Z(Ie),Bt),jn=gf(tn.grid),rn=Ah(tn.grid);return{info:Rn,grid:rn,cursor:tn.cursor,lockedColumns:jn}}).bind(Rn=>{const Tn=xf(te,Rn.grid),tn=G.from(Je==null?void 0:Je.sizing).getOrThunk(()=>_c.getTableSize(te)),jn=G.from(Je==null?void 0:Je.resize).getOrThunk(QC);return B(te,Rn.grid,Rn.info,{sizing:tn,resize:jn,section:Bt}),L(te),Vr(te,Ag),Rn.lockedColumns.length>0&&wr(te,Ag,Rn.lockedColumns.join(",")),G.some({cursor:Rn.cursor,newRows:Tn.newRows,newCells:Tn.newCells})})},u3=(m,C)=>Bl(C.element).bind(B=>zg(m,B).map(L=>({...L,generators:C.generators,clipboard:C.clipboard}))),zy=(m,C)=>Vg(m,C,Q).map(B=>({cells:B,generators:C.generators,clipboard:C.clipboard})),k_=(m,C)=>C.mergable,f3=(m,C)=>C.unmergable,Dc=(m,C)=>Vg(m,C,Q),Nd=(m,C)=>Vg(m,C,B=>!B.isLocked),A_=(m,C)=>zg(m,C).exists(B=>!B.isLocked),d3=(m,C)=>Qe(C,B=>A_(m,B)),T_=(m,C)=>k_(m,C).filter(B=>d3(m,B.cells)),h3=(m,C)=>f3(m,C).filter(B=>d3(m,B)),Vy=(m,C,B,L)=>{const Z=Oa(m).rows;if(Z.length===0)return m;for(let te=C.startRow;te<=C.finishRow;te++)for(let ke=C.startCol;ke<=C.finishCol;ke++){const Ie=Z[te],Je=yi(Ie,ke).isLocked;Sp(Ie,ke,Sr(L(),!1,Je))}return m},p3=(m,C,B,L)=>{const Z=Oa(m).rows;let te=!0;for(let ke=0;ke<Z.length;ke++)for(let Ie=0;Ie<Qa(Z[0]);Ie++){const Je=Z[ke],gt=yi(Je,Ie),Bt=gt.element,hn=B(Bt,C);hn&&!te?Sp(Je,Ie,Sr(L(),!0,gt.isLocked)):hn&&(te=!1)}return m},O_=(m,C)=>Ce(m,(B,L)=>Fe(B,Z=>C(Z.element,L.element))?B:B.concat([L]),[]),E1=(m,C,B,L)=>(C>0&&C<m[0].cells.length&&re(m,Z=>{const te=Z.cells[C-1];let ke=0;const Ie=L();for(;Z.cells.length>C+ke&&B(te.element,Z.cells[C+ke].element);)Sp(Z,C+ke,Sr(Ie,!0,Z.cells[C+ke].isLocked)),ke++}),m),Ug=(m,C,B,L)=>{const Z=Oa(m).rows;if(C>0&&C<Z.length){const te=Z[C-1].cells,ke=O_(te,B);re(ke,Ie=>{let Je=G.none();for(let gt=C;gt<Z.length;gt++)for(let Bt=0;Bt<Qa(Z[0]);Bt++){const hn=Z[gt],Rn=yi(hn,Bt);B(Rn.element,Ie.element)&&(Je.isNone()&&(Je=G.some(L())),Je.each(tn=>{Sp(hn,Bt,Sr(tn,!0,Rn.isLocked))}))}})}return m},oS=m=>{const C=te=>te(m),B=P(m),L=()=>Z,Z={tag:!0,inner:m,fold:(te,ke)=>ke(m),isValue:Q,isError:se,map:te=>y0.value(te(m)),mapError:L,bind:C,exists:C,forall:C,getOr:B,or:L,getOrThunk:B,orThunk:L,getOrDie:B,each:te=>{te(m)},toOptional:()=>G.some(m)};return Z},g3=m=>{const C=()=>B,B={tag:!1,inner:m,fold:(L,Z)=>L(m),isValue:se,isError:Q,map:C,mapError:L=>y0.error(L(m)),bind:C,exists:se,forall:Q,getOr:I,or:I,getOrThunk:xe,orThunk:xe,getOrDie:oe(String(m)),each:$,toOptional:G.none};return B},y0={value:oS,error:g3,fromOption:(m,C)=>m.fold(()=>g3(C),oS)},fi=(m,C,B)=>{if(m.row>=C.length||m.column>Qa(C[0]))return y0.error("invalid start address out of table bounds, row: "+m.row+", column: "+m.column);const L=C.slice(m.row),Z=L[0].cells.slice(m.column),te=Qa(B[0]),ke=B.length;return y0.value({rowDelta:L.length-ke,colDelta:Z.length-te})},vl=(m,C)=>{const B=Qa(m[0]),L=Qa(C[0]);return{rowDelta:0,colDelta:B-L}},yu=(m,C)=>{const B=m.length,L=C.length;return{rowDelta:B-L,colDelta:0}},wu=(m,C,B,L)=>{const Z=C.section==="colgroup"?B.col:B.cell;return De(m,te=>Sr(Z(),!0,L(te)))},__=(m,C,B,L)=>{const Z=m[m.length-1];return m.concat(De(C,()=>{const te=Z.section==="colgroup"?B.colgroup:B.row,ke=s1(Z,te,I),Ie=wu(ke.cells.length,ke,B,Je=>Tt(L,Je.toString()));return IC(ke,Ie)}))},m3=(m,C,B,L)=>Se(m,Z=>{const te=wu(C,Z,B,se);return Ha(Z,L,te)}),w0=(m,C,B)=>Se(m,L=>Ce(B,(Z,te)=>{const ke=wu(1,L,C,Q)[0];return Li(Z,te,ke)},L)),Yl=(m,C,B)=>{const L=C.colDelta<0?m3:I,Z=C.rowDelta<0?__:I,te=gf(m),ke=Qa(m[0]),Ie=Fe(te,Bt=>Bt===ke-1),Je=L(m,Math.abs(C.colDelta),B,Ie?ke-1:ke),gt=gf(Je);return Z(Je,Math.abs(C.rowDelta),B,He(gt,Q))},Wg=(m,C,B,L)=>{const Z=yi(m[C],B),te=K(L,Z.element),ke=m[C];return m.length>1&&Qa(ke)>1&&(B>0&&te(ts(ke,B-1))||B<ke.cells.length-1&&te(ts(ke,B+1))||C>0&&te(ts(m[C-1],B))||C<m.length-1&&te(ts(m[C+1],B)))},$_=(m,C,B,L,Z,te)=>{const ke=m.row,Ie=m.column,Je=B.length,gt=Qa(B[0]),Bt=ke+Je,hn=Ie+gt+te.length,Rn=He(te,Q);for(let Tn=ke;Tn<Bt;Tn++){let tn=0;for(let jn=Ie;jn<hn;jn++){if(Rn[jn]){tn++;continue}Wg(C,Tn,jn,Z)&&p3(C,ts(C[Tn],jn),Z,L.cell);const rn=jn-Ie-tn,Yn=yi(B[Tn-ke],rn),Wo=Yn.element,fr=L.replace(Wo);Sp(C[Tn],jn,Sr(fr,!0,Yn.isLocked))}}return C},rS=(m,C,B)=>{const L=Qa(C[0]),Z=Oa(C).cols.length+m.row,te=De(L-m.column,Ie=>Ie+m.column),ke=q(te,Ie=>Qe(B,Je=>Je!==Ie)).getOr(L-1);return{row:Z,column:ke}},sS=(m,C,B)=>ue(B,L=>L>=m.column&&L<=Qa(C[0])+m.column),v3=(m,C,B,L,Z)=>{const te=gf(C),ke=rS(m,C,te),Ie=Oa(B).rows,Je=sS(ke,Ie,te);return fi(ke,C,Ie).map(Bt=>{const hn={...Bt,colDelta:Bt.colDelta-Je.length},Rn=Yl(C,hn,L),Tn=gf(Rn),tn=sS(ke,Ie,Tn);return $_(ke,Rn,Ie,L,Z,tn)})},C0=(m,C,B,L,Z)=>{E1(C,m,Z,L.cell);const te=yu(B,C),ke=Yl(B,te,L),Ie=yu(C,ke),Je=Yl(C,Ie,L);return Se(Je,(gt,Bt)=>Ha(gt,m,ke[Bt].cells))},Th=(m,C,B,L,Z)=>{Ug(C,m,Z,L.cell);const te=gf(C),ke=vl(C,B),Ie={...ke,colDelta:ke.colDelta-te.length},Je=Yl(C,Ie,L),{cols:gt,rows:Bt}=Oa(Je),hn=gf(Je),Rn=vl(B,C),Tn={...Rn,colDelta:Rn.colDelta+hn.length},tn=w0(B,L,hn),jn=Yl(tn,Tn,L);return[...gt,...Bt.slice(0,m),...jn,...Bt.slice(m,Bt.length)]},b3=(m,C,B,L)=>s1(m,Z=>L(Z,B),C),y3=(m,C,B,L,Z)=>{const{rows:te,cols:ke}=Oa(m),Ie=te.slice(0,C),Je=te.slice(C),gt=b3(te[B],(Bt,hn)=>C>0&&C<te.length&&L(ts(te[C-1],hn),ts(te[C],hn))?yi(te[C],hn):Sr(Z(Bt.element,L),!0,Bt.isLocked),L,Z);return[...ke,...Ie,gt,...Je]},w3=(m,C,B,L,Z,te,ke)=>{if(B==="colgroup"||!L){const Ie=yi(m,Z);return Sr(ke(Ie.element,te),!0,!1)}else return yi(m,C)},C3=(m,C,B,L,Z)=>Se(m,te=>{const ke=C>0&&C<Qa(te)&&L(ts(te,C-1),ts(te,C)),Ie=w3(te,C,te.section,ke,B,L,Z);return Li(te,C,Ie)}),D_=(m,C)=>tt(m,B=>{const L=B.cells,Z=Be(C,(te,ke)=>ke>=0&&ke<te.length?te.slice(0,ke).concat(te.slice(ke+1)):te,L);return Z.length>0?[vi(B.element,Z,B.section,B.isNew)]:[]}),S3=(m,C,B)=>{const{rows:L,cols:Z}=Oa(m);return[...Z,...L.slice(0,C),...L.slice(B+1)]},B_=(m,C,B,L)=>ts(m[C],B)!==void 0&&C>0&&L(ts(m[C-1],B),ts(m[C],B)),x3=(m,C,B)=>C>0&&B(ts(m,C-1),ts(m,C)),E3=(m,C,B,L)=>B_(m,C,B,L)||x3(m[C],B,L),S0=(m,C)=>Qe(C,I)&&$s(m.cells)?Q:(L,Z,te)=>!(Ct(L.element)==="th"&&C[te]),N_=(m,C)=>Qe(C,I)&&$s(m)?Q:(L,Z,te)=>!(Ct(L.element)==="th"&&C[Z]),k1=(m,C,B,L)=>{const Z=ke=>ke==="row"?Fu(C):pl(C),te=ke=>Z(ke)?`${ke}group`:ke;return m?My(C)?te(B):null:L&&My(C)?te(B==="row"?"col":"row"):null},iS=(m,C)=>(B,L,Z)=>G.some(k1(m,B.element,"col",C[Z])),k3=(m,C)=>(B,L)=>G.some(k1(m,B.element,"row",C[L])),Xi=(m,C,B)=>Sr(B(m.element,C),!0,m.isLocked),A1=(m,C,B,L,Z,te,ke)=>{const Ie=Je=>Fe(C,gt=>B(Je.element,gt.element));return Se(m,(Je,gt)=>er(Je,(Bt,hn)=>{if(Ie(Bt)){const Rn=ke(Bt,gt,hn)?Z(Bt,B,L):Bt;return te(Rn,gt,hn).each(Tn=>{To(Rn.element,{scope:G.from(Tn)})}),Rn}else return Bt}))},Uy=(m,C,B)=>tt(m,(L,Z)=>E3(m,Z,C,B)?[]:[yi(L,C)]),A3=(m,C,B)=>{const L=m[C];return tt(L.cells,(Z,te)=>E3(m,C,te,B)?[]:[Z])},T1=(m,C,B,L,Z)=>{const te=Oa(m).rows,ke=tt(C,Bt=>Uy(te,Bt,L)),Ie=Se(te,Bt=>$s(Bt.cells)),Je=N_(ke,Ie),gt=k3(B,Ie);return A1(m,ke,L,Z,Xi,gt,Je)},uc=(m,C,B,L,Z,te,ke)=>{const{cols:Ie,rows:Je}=Oa(m),gt=Je[C[0]],Bt=tt(C,rn=>A3(Je,rn,Z)),hn=Se(gt.cells,(rn,Yn)=>$s(Uy(Je,Yn,Z))),Rn=[...Je];re(C,rn=>{Rn[rn]=ke.transformRow(Je[rn],B)});const Tn=[...Ie,...Rn],tn=S0(gt,hn),jn=iS(L,hn);return A1(Tn,Bt,Z,te,ke.transformCell,jn,tn)},Vu=(m,C,B,L)=>{const Z=Oa(m).rows,te=Se(C,ke=>yi(Z[ke.row],ke.column));return A1(m,te,B,L,Xi,G.none,Q)},Qc={generate:m=>{if(!b(m))throw new Error("cases must be an array");if(m.length===0)throw new Error("there must be at least one case");const C=[],B={};return re(m,(L,Z)=>{const te=Ee(L);if(te.length!==1)throw new Error("one and only one name per case");const ke=te[0],Ie=L[ke];if(B[ke]!==void 0)throw new Error("duplicate key detected:"+ke);if(ke==="cata")throw new Error("cannot have a case named cata (sorry)");if(!b(Ie))throw new Error("case arguments must be an array");C.push(ke),B[ke]=(...Je)=>{const gt=Je.length;if(gt!==Ie.length)throw new Error("Wrong number of arguments to case "+ke+". Expected "+Ie.length+" ("+Ie+"), got "+gt);return{fold:(...hn)=>{if(hn.length!==m.length)throw new Error("Wrong number of arguments to fold. Expected "+m.length+", got "+hn.length);return hn[Z].apply(null,Je)},match:hn=>{const Rn=Ee(hn);if(C.length!==Rn.length)throw new Error("Wrong number of arguments to match. Expected: "+C.join(",")+`
Actual: `+Rn.join(","));if(!Qe(C,tn=>U(Rn,tn)))throw new Error("Not all branches were specified when using match. Specified: "+Rn.join(", ")+`
Required: `+C.join(", "));return hn[ke].apply(null,Je)},log:hn=>{console.log(hn,{constructors:C,constructor:ke,params:Je})}}}}),B}},O1={...Qc.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Yt=(m,C)=>m.length===0?O1.none():m.length===1?O1.only(0):C===0?O1.left(0,1):C===m.length-1?O1.right(C-1,C):C>0&&C<m.length-1?O1.middle(C-1,C,C+1):O1.none(),x0=(m,C,B,L,Z)=>{const te=m.slice(0),ke=Yt(m,C),Ie=P(Se(te,P(0))),Je=Rn=>L.singleColumnWidth(te[Rn],B),gt=(Rn,Tn)=>Z.calcLeftEdgeDeltas(te,Rn,Tn,B,L.minCellWidth(),L.isRelative),Bt=(Rn,Tn,tn)=>Z.calcMiddleDeltas(te,Rn,Tn,tn,B,L.minCellWidth(),L.isRelative),hn=(Rn,Tn)=>Z.calcRightEdgeDeltas(te,Rn,Tn,B,L.minCellWidth(),L.isRelative);return ke.fold(Ie,Je,gt,Bt,hn)},E0=(m,C,B)=>{let L=0;for(let Z=m;Z<C;Z++)L+=B[Z]!==void 0?B[Z]:0;return L},P_=(m,C)=>{const B=lr.justCells(m);return Se(B,L=>{const Z=E0(L.column,L.column+L.colspan,C);return{element:L.element,width:Z,colspan:L.colspan}})},$a=(m,C)=>{const B=lr.justColumns(m);return Se(B,(L,Z)=>({element:L.element,width:C[Z],colspan:L.colspan}))},ol=(m,C)=>{const B=lr.justCells(m);return Se(B,L=>{const Z=E0(L.row,L.row+L.rowspan,C);return{element:L.element,height:Z,rowspan:L.rowspan}})},_1=(m,C)=>Se(m.all,(B,L)=>({element:B.element,height:C[L]})),O3=m=>Be(m,(C,B)=>C+B,0),aS=(m,C)=>lr.hasColumns(m)?$a(m,C):P_(m,C),k0=(m,C,B)=>{const L=aS(m,C);re(L,Z=>{B.setElementWidth(Z.element,Z.width)})},Bp=(m,C,B,L,Z)=>{const te=lr.fromTable(m),ke=Z.getCellDelta(C),Ie=Z.getWidths(te,Z),Je=B===te.grid.columns-1,gt=L.clampTableDelta(Ie,B,ke,Z.minCellWidth(),Je),Bt=x0(Ie,B,gt,Z,L),hn=Se(Bt,(Rn,Tn)=>Rn+Ie[Tn]);k0(te,hn,Z),L.resizeTable(Z.adjustTableWidth,gt,Je)},lS=(m,C,B,L)=>{const Z=lr.fromTable(m),te=ph(Z,m,L),ke=Se(te,(Bt,hn)=>B===hn?Math.max(C+Bt,Hf()):Bt),Ie=ol(Z,ke),Je=_1(Z,ke);re(Je,Bt=>{kp(Bt.element,Bt.height)}),re(Ie,Bt=>{kp(Bt.element,Bt.height)});const gt=O3(ke);kp(m,gt)},$1=(m,C,B,L,Z)=>{const te=lr.generate(C),ke=L.getWidths(te,L),Ie=L.pixelWidth(),{newSizes:Je,delta:gt}=Z.calcRedestributedWidths(ke,Ie,B.pixelDelta,L.isRelative);k0(te,Je,L),L.adjustTableWidth(gt)},Wy=(m,C,B,L)=>{const Z=lr.generate(C),te=L.getWidths(Z,L);k0(Z,te,L)},D1=m=>Ce(m,(B,L)=>Fe(B,te=>te.column===L.column)?B:B.concat([L]),[]).sort((B,L)=>B.column-L.column),cS=pr("col"),_3=pr("colgroup"),$3=m=>Ct(m)==="tr"||_3(m),D3=m=>{const C=Jr(m,"colspan",1),B=Jr(m,"rowspan",1);return{element:m,colspan:C,rowspan:B}},B1=(m,C=D3)=>{const B=Ie=>cS(Ie.element)?m.col(Ie):m.cell(Ie),L=Ie=>_3(Ie.element)?m.colgroup(Ie):m.row(Ie),Z=Ie=>{if($3(Ie))return L({element:Ie});{const Je=Ie,gt=B(C(Je));return te=G.some({item:Je,replacement:gt}),gt}};let te=G.none();return{getOrInit:(Ie,Je)=>te.fold(()=>Z(Ie),gt=>Je(Ie,gt.item)?gt.replacement:Z(Ie))}},F_=m=>C=>{const B=[],L=(ke,Ie)=>q(B,Je=>Ie(Je.item,ke)),Z=ke=>{const Ie=m==="td"?{scope:null}:{},Je=C.replace(ke,m,Ie);return B.push({item:ke,sub:Je}),Je};return{replaceOrInit:(ke,Ie)=>{if($3(ke)||cS(ke))return ke;{const Je=ke;return L(Je,Ie).fold(()=>Z(Je),gt=>Ie(ke,gt.item)?gt.sub:Z(Je))}}}},qy=m=>si(m,"scope").map(C=>C.substr(0,3)),fc={modification:B1,transform:F_,merging:m=>({unmerge:L=>{const Z=qy(L);return Z.each(te=>wr(L,"scope",te)),()=>{const te=m.cell({element:L,colspan:1,rowspan:1});return qs(te,"width"),qs(L,"width"),Z.each(ke=>wr(te,"scope",ke)),te}},merge:L=>{const Z=()=>{const te=Qs(Se(L,qy));if(te.length===0)return G.none();{const ke=te[0],Ie=["row","col"];return Fe(te,gt=>gt!==ke&&U(Ie,gt))?G.none():G.from(ke)}};return qs(L[0],"width"),Z().fold(()=>Vr(L[0],"scope"),te=>wr(L[0],"scope",te+"group")),P(L[0])}})},N3=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],P3=(m,C)=>{const B=m.property().name(C);return U(["ol","ul"],B)},A0=(m,C)=>{const B=m.property().name(C);return U(N3,B)},Zg=(m,C)=>U(["br","img","hr","input"],m.property().name(C)),Gg=vh(),qr=m=>A0(Gg,m),eu=m=>P3(Gg,m),Np=m=>Zg(Gg,m),Zy=m=>{const C=pr("br"),B=Je=>Qe(Je,gt=>C(gt)||yr(gt)&&Gn(gt).trim().length===0),L=Je=>Ct(Je)==="li"||je(Je,eu).isSome(),Z=Je=>Un(Je).map(gt=>qr(gt)?!0:Np(gt)?Ct(gt)!=="img":!1).getOr(!1),te=Je=>Kf(Je).bind(gt=>{const Bt=Z(gt);return ut(gt).map(hn=>Bt===!0||L(hn)||C(gt)||qr(hn)&&!Xn(Je,hn)?[]:[Le.fromTag("br")])}).getOr([]),Ie=(()=>{const Je=tt(m,gt=>{const Bt=_n(gt);return B(Bt)?[]:Bt.concat(te(gt))});return Je.length===0?[Le.fromTag("br")]:Je})();Js(m[0]),Or(m[0],Ie)},ti=m=>ed(m,!0),T0=m=>{Ru(m).length===0&&Ls(m)},N1=(m,C)=>({grid:m,cursor:C}),rl=m=>ie(m,C=>ie(C.cells,B=>{const L=B.element;return ei(ti(L),L)})),Kg=(m,C,B)=>{var L,Z;const te=Oa(m).rows;return G.from((Z=(L=te[C])===null||L===void 0?void 0:L.cells[B])===null||Z===void 0?void 0:Z.element).filter(ti).orThunk(()=>rl(te))},di=(m,C,B)=>{const L=Kg(m,C,B);return N1(m,L)},uS=m=>Ce(m,(B,L)=>Fe(B,te=>te.row===L.row)?B:B.concat([L]),[]).sort((B,L)=>B.row-L.row),Pd=(m,C,B,L)=>{const Z=C[0].row,te=uS(C),ke=Be(te,(Ie,Je)=>({grid:y3(Ie.grid,Z,Je.row+Ie.delta,B,L.getOrInit),delta:Ie.delta+1}),{grid:m,delta:0}).grid;return di(ke,Z,C[0].column)},Gy=(m,C,B,L)=>{const Z=uS(C),te=Z[Z.length-1],ke=te.row+te.rowspan,Ie=Be(Z,(Je,gt)=>y3(Je,ke,gt.row,B,L.getOrInit),m);return di(Ie,ke,C[0].column)},fS=(m,C,B,L)=>{const Z=C.details,te=D1(Z),ke=te[0].column,Ie=Be(te,(Je,gt)=>({grid:C3(Je.grid,ke,gt.column+Je.delta,B,L.getOrInit),delta:Je.delta+1}),{grid:m,delta:0}).grid;return di(Ie,Z[0].row,ke)},dS=(m,C,B,L)=>{const Z=C.details,te=Z[Z.length-1],ke=te.column+te.colspan,Ie=D1(Z),Je=Be(Ie,(gt,Bt)=>C3(gt,ke,Bt.column,B,L.getOrInit),m);return di(Je,Z[0].row,ke)},hS=(m,C,B,L)=>{const Z=D1(C),te=Se(Z,Ie=>Ie.column),ke=T1(m,te,!0,B,L.replaceOrInit);return di(ke,C[0].row,C[0].column)},pS=(m,C,B,L)=>{const Z=Vu(m,C,B,L.replaceOrInit);return di(Z,C[0].row,C[0].column)},gS=(m,C,B,L)=>{const Z=D1(C),te=Se(Z,Ie=>Ie.column),ke=T1(m,te,!1,B,L.replaceOrInit);return di(ke,C[0].row,C[0].column)},F3=(m,C,B,L)=>{const Z=Vu(m,C,B,L.replaceOrInit);return di(Z,C[0].row,C[0].column)},O0=(m,C)=>(B,L,Z,te,ke)=>{const Ie=uS(L),Je=Se(Ie,Bt=>Bt.row),gt=uc(B,Je,m,C,Z,te.replaceOrInit,ke);return di(gt,L[0].row,L[0].column)},P1=O0("thead",!0),tu=O0("tbody",!1),R_=O0("tfoot",!1),bl=(m,C,B,L)=>{const Z=D1(C.details),te=D_(m,Se(Z,Ie=>Ie.column)),ke=te.length>0?te[0].cells.length-1:0;return di(te,Z[0].row,Math.min(Z[0].column,ke))},M_=(m,C,B,L)=>{const Z=uS(C),te=S3(m,Z[0].row,Z[Z.length-1].row),ke=te.length>0?te.length-1:0;return di(te,Math.min(C[0].row,ke),C[0].column)},Oh=(m,C,B,L)=>{const Z=C.cells;Zy(Z);const te=Vy(m,C.bounds,B,L.merge(Z));return N1(te,G.from(Z[0]))},io=(m,C,B,L)=>{const te=Be(C,(ke,Ie)=>p3(ke,Ie,B,L.unmerge(Ie)),m);return N1(te,G.from(C[0]))},Ky=(m,C,B,L)=>{const te=((Je,gt)=>{const Bt=lr.fromTable(Je);return Eh(Bt,gt,!0)})(C.clipboard,C.generators),ke=Oi(C.row,C.column);return v3(ke,m,te,C.generators,B).fold(()=>N1(m,G.some(C.element)),Je=>di(Je,C.row,C.column))},F1=(m,C,B)=>{const L=sh(m,B.section),Z=lr.generate(L);return Eh(Z,C,!0)},mS=(m,C,B,L)=>{const Z=Oa(m).rows,te=C.cells[0].column,ke=Z[C.cells[0].row],Ie=F1(C.clipboard,C.generators,ke),Je=C0(te,m,Ie,C.generators,B);return di(Je,C.cells[0].row,C.cells[0].column)},vS=(m,C,B,L)=>{const Z=Oa(m).rows,te=C.cells[C.cells.length-1].column+C.cells[C.cells.length-1].colspan,ke=Z[C.cells[0].row],Ie=F1(C.clipboard,C.generators,ke),Je=C0(te,m,Ie,C.generators,B);return di(Je,C.cells[0].row,C.cells[0].column)},R3=(m,C,B,L)=>{const Z=Oa(m).rows,te=C.cells[0].row,ke=Z[te],Ie=F1(C.clipboard,C.generators,ke),Je=Th(te,m,Ie,C.generators,B);return di(Je,C.cells[0].row,C.cells[0].column)},M3=(m,C,B,L)=>{const Z=Oa(m).rows,te=C.cells[C.cells.length-1].row+C.cells[C.cells.length-1].rowspan,ke=Z[C.cells[0].row],Ie=F1(C.clipboard,C.generators,ke),Je=Th(te,m,Ie,C.generators,B);return di(Je,C.cells[0].row,C.cells[0].column)},I_=(m,C)=>{const B=lr.fromTable(m);return Dc(B,C).bind(Z=>{const te=Z[Z.length-1],ke=Z[0].column,Ie=te.column+te.colspan,Je=We(Se(B.all,gt=>ue(gt.cells,Bt=>Bt.column>=ke&&Bt.column<Ie)));return eS(Je)}).getOr("")},Il=(m,C)=>{const B=lr.fromTable(m);return Dc(B,C).bind(eS).getOr("")},yl=(m,C)=>{const B=lr.fromTable(m);return Dc(B,C).bind(Z=>{const te=Z[Z.length-1],ke=Z[0].row,Ie=te.row+te.rowspan,Je=B.all.slice(ke,Ie);return jg(Je)}).getOr("")},Xl=(m,C,B,L)=>Wy(m,C,B,L.sizing),hi=(m,C,B,L)=>$1(m,C,B,L.sizing,L.resize),Ll=(m,C)=>Fe(C,B=>B.column===0&&B.isLocked),sl=(m,C)=>Fe(C,B=>B.column+B.colspan>=m.grid.columns&&B.isLocked),Yy=(m,C)=>{const B=el(m),L=D1(C);return Ce(L,(Z,te)=>{const Ie=B[te.column].map(bo).getOr(0);return Z+Ie},0)},Xy=m=>(C,B)=>Dc(C,B).filter(L=>!(m?Ll:sl)(C,L)).map(L=>({details:L,pixelDelta:Yy(C,L)})),I3=(m,C)=>Nd(m,C).map(B=>({details:B,pixelDelta:-Yy(m,B)})),bS=m=>(C,B)=>zy(C,B).filter(L=>!(m?Ll:sl)(C,L.cells)),_0=fc.transform("th"),R1=fc.transform("td"),yS=ba(Pd,Dc,$,$,fc.modification),Jy=ba(Gy,Dc,$,$,fc.modification),L_=ba(fS,Xy(!0),hi,$,fc.modification),PF=ba(dS,Xy(!1),hi,$,fc.modification),H_=ba(bl,I3,hi,T0,fc.modification),j_=ba(M_,Dc,$,T0,fc.modification),z_=ba(hS,Nd,$,$,_0),wS=ba(gS,Nd,$,$,R1),CS=ba(P1,Nd,$,$,_0),L3=ba(tu,Nd,$,$,R1),V_=ba(R_,Nd,$,$,R1),H3=ba(pS,Nd,$,$,_0),j3=ba(F3,Nd,$,$,R1),Mn=ba(Oh,T_,Xl,$,fc.merging),U_=ba(io,h3,Xl,$,fc.merging),Va=ba(Ky,u3,Xl,$,fc.modification),W_=ba(mS,bS(!0),$,$,fc.modification),z3=ba(vS,bS(!1),$,$,fc.modification),V3=ba(R3,zy,$,$,fc.modification),Ef=ba(M3,zy,$,$,fc.modification),FF=I_,U3=Il,_h=yl,Yg=(m,C)=>m.dispatch("NewRow",{node:C}),SS=(m,C)=>m.dispatch("NewCell",{node:C}),dc=(m,C,B)=>{m.dispatch("TableModified",{...B,table:C})},td=(m,C,B,L,Z)=>{m.dispatch("TableSelectionChange",{cells:C,start:B,finish:L,otherCells:Z})},Xg=m=>{m.dispatch("TableSelectionClear")},nd=(m,C,B,L,Z)=>{m.dispatch("ObjectResizeStart",{target:C,width:B,height:L,origin:Z})},q_=(m,C,B,L,Z)=>{m.dispatch("ObjectResized",{target:C,width:B,height:L,origin:Z})},$0={structure:!1,style:!0},Da={structure:!0,style:!1},W3={structure:!0,style:!0},$h=m=>C=>C.options.get(m),Qy="100%",q3=m=>{var C;const B=m.dom,L=(C=B.getParent(m.selection.getStart(),B.isBlock))!==null&&C!==void 0?C:m.getBody();return $r(Le.fromDom(L))+"px"},Z3=(m,C)=>D0(m)||!J3(m)?C:Qg(m)?{...C,width:q3(m)}:{...C,width:Qy},Z_=(m,C)=>D0(m)||J3(m)?C:Qg(m)?{...C,width:q3(m)}:{...C,width:Qy},G_=m=>{const C=m.options.register;C("table_clone_elements",{processor:"string[]"}),C("table_use_colgroups",{processor:"boolean",default:!0}),C("table_header_type",{processor:B=>{const L=U(["section","cells","sectionCells","auto"],B);return L?{value:B,valid:L}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),C("table_sizing_mode",{processor:"string",default:"auto"}),C("table_default_attributes",{processor:"object",default:{border:"1"}}),C("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),C("table_column_resizing",{processor:B=>{const L=U(["preservetable","resizetable"],B);return L?{value:B,valid:L}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),C("table_resize_bars",{processor:"boolean",default:!0}),C("table_style_by_css",{processor:"boolean",default:!0})},G3=m=>G.from(m.options.get("table_clone_elements")),K3=m=>{const C=m.options.get("object_resizing");return U(C.split(","),"table")},Y3=$h("table_header_type"),Pp=$h("table_column_resizing"),X3=m=>Pp(m)==="preservetable",xS=m=>Pp(m)==="resizetable",ES=$h("table_sizing_mode"),Jg=m=>ES(m)==="relative",Qg=m=>ES(m)==="fixed",D0=m=>ES(m)==="responsive",K_=$h("table_resize_bars"),J3=$h("table_style_by_css"),Y_=m=>{const C=m.options,B=C.get("table_default_attributes");return C.isSet("table_default_attributes")?B:Z_(m,B)},kS=m=>{const C=m.options,B=C.get("table_default_styles");return C.isSet("table_default_styles")?B:Z3(m,B)},X_=$h("table_use_colgroups"),em=(m,C)=>Jg(m)?_c.percentageSize(C):Qg(m)?_c.pixelSize(C):_c.getTableSize(C),ki=(m,C,B)=>{const L=tc=>Ct(Ng(tc))==="table",Z=tc=>!L(m)||m0(tc).rows>1,te=tc=>!L(m)||m0(tc).columns>1,ke=G3(m),Ie=xS(m)?$:w_,Je=tc=>{switch(Y3(m)){case"section":return b0.section();case"sectionCells":return b0.sectionCells();case"cells":return b0.cells();default:return b0.getTableSectionType(tc,"section")}},gt=(tc,ub)=>ub.cursor.fold(()=>{const Gp=Ru(tc);return Oe(Gp).filter(Hs).map(ad=>{B.clearSelectedCells(tc.dom);const Sl=m.dom.createRng();return Sl.selectNode(ad.dom),m.selection.setRng(Sl),wr(ad,"data-mce-selected","1"),Sl})},Gp=>{const ad=Bd(Gp),Sl=m.dom.createRng();return Sl.setStart(ad.element.dom,ad.offset),Sl.setEnd(ad.element.dom,ad.offset),m.selection.setRng(Sl),B.clearSelectedCells(tc.dom),G.some(Sl)}),Bt=(tc,ub,Gp,ad)=>(Sl,X$,J$=!1)=>{Xc(Sl);const wm=Le.fromDom(m.getDoc()),Q$=Uo(Gp,wm,ke),eD={sizing:em(m,Sl),resize:xS(m)?JC():QC(),section:Je(Sl)};return ub(Sl)?tc(Sl,X$,Q$,eD).bind(fb=>{C.refresh(Sl.dom),re(fb.newRows,ov=>{Yg(m,ov.dom)}),re(fb.newCells,ov=>{SS(m,ov.dom)});const tD=gt(Sl,fb);return Hs(Sl)&&(Xc(Sl),J$||dc(m,Sl.dom,ad)),tD.map(ov=>({rng:ov,effect:ad}))}):G.none()},hn=Bt(j_,Z,$,Da),Rn=Bt(H_,te,$,Da),Tn=Bt(yS,Q,$,Da),tn=Bt(Jy,Q,$,Da),jn=Bt(L_,Q,Ie,Da),rn=Bt(PF,Q,Ie,Da),Yn=Bt(Mn,Q,$,Da),Wo=Bt(U_,Q,$,Da),fr=Bt(W_,Q,$,Da),ii=Bt(z3,Q,$,Da),wl=Bt(V3,Q,$,Da),Qi=Bt(Ef,Q,$,Da),al=Bt(Va,Q,$,W3),Ld=Bt(H3,Q,$,Da),cb=Bt(j3,Q,$,Da),L2=Bt(z_,Q,$,Da),ym=Bt(wS,Q,$,Da),Ds=Bt(CS,Q,$,Da),ec=Bt(L3,Q,$,Da),Cl=Bt(V_,Q,$,Da);return{deleteRow:hn,deleteColumn:Rn,insertRowsBefore:Tn,insertRowsAfter:tn,insertColumnsBefore:jn,insertColumnsAfter:rn,mergeCells:Yn,unmergeCells:Wo,pasteColsBefore:fr,pasteColsAfter:ii,pasteRowsBefore:wl,pasteRowsAfter:Qi,pasteCells:al,makeCellsHeader:Ld,unmakeCellsHeader:cb,makeColumnsHeader:L2,unmakeColumnsHeader:ym,makeRowsHeader:Ds,makeRowsBody:ec,makeRowsFooter:Cl,getTableRowType:_h,getTableCellType:U3,getTableColType:FF}},M1=(m,C,B)=>{const L=Jr(m,C,1);B===1||L<=1?Vr(m,C):wr(m,C,Math.min(B,L))},Jl=(m,C)=>B=>{const L=B.column+B.colspan-1,Z=B.column;return L>=m&&Z<C},Q3=(m,C,B)=>{if(lr.hasColumns(m)){const L=ue(lr.justColumns(m),Jl(C,B)),Z=Se(L,ke=>{const Ie=fl(ke.element);return M1(Ie,"span",B-C),Ie}),te=Le.fromTag("colgroup");return Or(te,Z),[te]}else return[]},ek=(m,C,B)=>Se(m.all,L=>{const Z=ue(L.cells,Jl(C,B)),te=Se(Z,Ie=>{const Je=fl(Ie.element);return M1(Je,"colspan",B-C),Je}),ke=Le.fromTag("tr");return Or(ke,te),ke}),tk=(m,C)=>{const B=lr.fromTable(m);return Nd(B,C).map(Z=>{const te=Z[Z.length-1],ke=Z[0].column,Ie=te.column+te.colspan,Je=Q3(B,ke,Ie),gt=ek(B,ke,Ie);return[...Je,...gt]})},e2=(m,C,B)=>{const L=lr.fromTable(m);return Dc(L,C).bind(te=>{const ke=Eh(L,B,!1),Je=Oa(ke).rows.slice(te[0].row,te[te.length-1].row+te[te.length-1].rowspan),gt=tt(Je,hn=>{const Rn=ue(hn.cells,Tn=>!Tn.isLocked);return Rn.length>0?[{...hn,cells:Rn}]:[]}),Bt=Ah(gt);return ei(Bt.length>0,Bt)}).map(te=>Bi(te))},B0=Qc.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),nk=(m,C,B)=>{const L=B.substring(0,B.length-m.length),Z=parseFloat(L);return L===Z.toString()?C(Z):B0.invalid(B)},tm={...B0,from:m=>at(m,"%")?nk("%",B0.percent,m):at(m,"px")?nk("px",B0.pixels,m):B0.invalid(m)},J_=(m,C)=>Se(m,B=>tm.from(B).fold(()=>B,Z=>Z/C*100+"%",Z=>Z+"%")),Q_=(m,C,B)=>{const L=B/C;return Se(m,Z=>tm.from(Z).fold(()=>Z,ke=>ke*L+"px",ke=>ke/100*B+"px"))},ok=(m,C)=>{const B=m.fold(()=>P(""),L=>{const Z=L/C;return P(Z+"px")},()=>{const L=100/C;return P(L+"%")});return De(C,B)},e$=(m,C,B)=>m.fold(()=>C,L=>Q_(C,B,L),L=>J_(C,B)),rk=(m,C,B)=>{const L=tm.from(B),Z=Qe(m,te=>te==="0px")?ok(L,m.length):e$(L,m,C);return o$(Z)},AS=(m,C)=>m.length===0?C:Be(m,(B,L)=>tm.from(L).fold(P(0),I,I)+B,0),t$=(m,C)=>{const B=Math.floor(m);return{value:B+C,remainder:m-B}},n$=(m,C)=>tm.from(m).fold(P(m),B=>B+C+"px",B=>B+C+"%"),o$=m=>{if(m.length===0)return m;const C=Be(m,(L,Z)=>{const te=tm.from(Z).fold(()=>({value:Z,remainder:0}),ke=>t$(ke,"px"),ke=>({value:ke+"%",remainder:0}));return{output:[te.value].concat(L.output),remainder:L.remainder+te.remainder}},{output:[],remainder:0}),B=C.output;return B.slice(0,B.length-1).concat([n$(B[B.length-1],Math.round(C.remainder))])},r$=tm.from,TS=(m,C,B)=>{re(C,L=>{const Z=m.slice(L.column,L.colspan+L.column),te=AS(Z,ff());Fr(L.element,"width",te+B)})},s$=(m,C,B)=>{re(C,(L,Z)=>{const te=AS([m[Z]],ff());Fr(L.element,"width",te+B)})},N0=(m,C,B,L)=>{re(B,Z=>{const te=m.slice(Z.row,Z.rowspan+Z.row),ke=AS(te,Hf());Fr(Z.element,"height",ke+L)}),re(C,(Z,te)=>{Fr(Z.element,"height",m[te])})},t2=m=>r$(m).fold(P("px"),P("px"),P("%")),OS=(m,C,B)=>{const L=lr.fromTable(m),Z=L.all,te=lr.justCells(L),ke=lr.justColumns(L);C.each(Ie=>{const Je=t2(Ie),gt=br(m),Bt=Kr(L,m),hn=rk(Bt,gt,Ie);lr.hasColumns(L)?s$(hn,ke,Je):TS(hn,te,Je),Fr(m,"width",Ie)}),B.each(Ie=>{const Je=t2(Ie),gt=Ed(m),Bt=Gi(L,m,gu),hn=rk(Bt,gt,Ie);N0(hn,Z,te,Je),Fr(m,"height",Ie)})},_S=o0,$S=ln,Fp=_a,nm=m=>{Vr(m,"width")},Rp=m=>{const C=ml(m);OS(m,G.some(C),G.none()),nm(m)},P0=m=>{const C=ja(m);OS(m,G.some(C),G.none()),nm(m)},sk=m=>{qs(m,"width");const C=yd(m),B=C.length>0?C:Ru(m);re(B,L=>{qs(L,"width"),nm(L)}),nm(m)},Dh={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Bh=()=>Le.fromTag("th"),i$=()=>Le.fromTag("td"),Mp=()=>Le.fromTag("col"),n2=(m,C,B,L)=>{const Z=Le.fromTag("tr");for(let te=0;te<m;te++){const ke=L<C||te<B?Bh():i$();te<B&&wr(ke,"scope","row"),L<C&&wr(ke,"scope","col"),Qo(ke,Le.fromTag("br")),Qo(Z,ke)}return Z},a$=m=>{const C=Le.fromTag("colgroup");return De(m,()=>Qo(C,Mp())),C},DS=(m,C,B,L)=>De(m,Z=>n2(C,B,L,Z)),l$=(m,C,B,L,Z,te=Dh)=>{const ke=Le.fromTag("table"),Ie=Z!=="cells";Xr(ke,te.styles),Jo(ke,te.attributes),te.colGroups&&Qo(ke,a$(C));const Je=Math.min(m,B);if(Ie&&B>0){const Tn=Le.fromTag("thead");Qo(ke,Tn);const jn=DS(B,C,Z==="sectionCells"?Je:0,L);Or(Tn,jn)}const gt=Le.fromTag("tbody");Qo(ke,gt);const Bt=Ie?m-Je:m,Rn=DS(Bt,C,Ie?0:B,L);return Or(gt,Rn),ke},c$=m=>m.dom.innerHTML,BS=m=>{const C=Le.fromTag("div"),B=Le.fromDom(m.dom.cloneNode(!0));return Qo(C,B),c$(C)},F0=(m,C)=>{m.selection.select(C.dom,!0),m.selection.collapse(!0)},R0=(m,C)=>{Wr(C,"td,th").each(K(F0,m))},ik=(m,C)=>{re(Ro(C,"tr"),B=>{Yg(m,B.dom),re(Ro(B,"th,td"),L=>{SS(m,L.dom)})})},NS=m=>p(m)&&m.indexOf("%")!==-1,ak=(m,C,B,L,Z)=>{const te=kS(m),ke={styles:te,attributes:Y_(m),colGroups:X_(m)};return m.undoManager.ignore(()=>{const Ie=l$(B,C,Z,L,Y3(m),ke);wr(Ie,"data-mce-id","__mce");const Je=BS(Ie);m.insertContent(Je),m.addVisual()}),Wr(Ng(m),'table[data-mce-id="__mce"]').map(Ie=>(Qg(m)?P0(Ie):D0(m)?sk(Ie):(Jg(m)||NS(te.width))&&Rp(Ie),Xc(Ie),Vr(Ie,"data-mce-id"),ik(m,Ie),R0(m,Ie),Ie.dom)).getOrNull()},lk=(m,C,B,L={})=>{const Z=te=>N(te)&&te>0;if(Z(C)&&Z(B)){const te=L.headerRows||0,ke=L.headerColumns||0;return ak(m,B,C,ke,te)}else return console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table."),null};var M0=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const PS="x-tinymce/dom-table-",o2=PS+"rows",r2=PS+"columns",FS=m=>{const C=M0.FakeClipboardItem(m);M0.write([C])},Ip=m=>{var C;const B=(C=M0.read())!==null&&C!==void 0?C:[];return ie(B,L=>G.from(L.getType(m)))},Lp=m=>{Ip(m).isSome()&&M0.clear()},I0=m=>{m.fold(MF,C=>FS({[o2]:C}))},I1=()=>Ip(o2),MF=()=>Lp(o2),od=m=>{m.fold(RS,C=>FS({[r2]:C}))},Uu=()=>Ip(r2),RS=()=>Lp(r2),s2=m=>Mg(Yf(m),tl(m)),u$=m=>YC(Yf(m),tl(m)),ck=(m,C)=>{const B=tl(m),L=()=>s2(m).each(rn=>{Ta(rn,B).filter(j(B)).each(Yn=>{const Wo=Le.fromText("");if(Hr(Yn,Wo),Ls(Yn),m.dom.isEmpty(m.getBody()))m.setContent(""),m.selection.setCursorLocation();else{const fr=m.dom.createRng();fr.setStart(Wo.dom,0),fr.setEnd(Wo.dom,0),m.selection.setRng(fr),m.nodeChanged()}})}),Z=rn=>s2(m).each(Yn=>{D0(m)||Qg(m)||Jg(m)||Ta(Yn,B).each(fr=>{rn==="relative"&&!_S(fr)?Rp(fr):rn==="fixed"&&!$S(fr)?P0(fr):rn==="responsive"&&!Fp(fr)&&sk(fr),Xc(fr),dc(m,fr.dom,Da)})}),te=rn=>Ta(rn,B),ke=rn=>u$(m).bind(Yn=>te(Yn).map(Wo=>rn(Wo,Yn))),Ie=(rn,Yn)=>{ke(Wo=>{m.formatter.toggle("tableclass",{value:Yn},Wo.dom),dc(m,Wo.dom,$0)})},Je=(rn,Yn)=>{ke(Wo=>{const fr=Jc(m),wl=Qe(fr,Qi=>m.formatter.match("tablecellclass",{value:Yn},Qi.dom))?m.formatter.remove:m.formatter.apply;re(fr,Qi=>wl("tablecellclass",{value:Yn},Qi.dom)),dc(m,Wo.dom,$0)})},gt=()=>{s2(m).each(rn=>{Ta(rn,B).each(Yn=>{Wn(Yn,"caption").fold(()=>{const Wo=Le.fromTag("caption");Qo(Wo,Le.fromText("Caption")),fa(Yn,Wo,0),m.selection.setCursorLocation(Wo.dom,0)},Wo=>{pr("caption")(rn)&&uo("td",Yn).each(fr=>m.selection.setCursorLocation(fr.dom,0)),Ls(Wo)}),dc(m,Yn.dom,Da)})})},Bt=rn=>{m.focus()},hn=(rn,Yn=!1)=>ke((Wo,fr)=>{const ii=g0(Jc(m),Wo,fr);rn(Wo,ii,Yn).each(Bt)}),Rn=()=>ke((rn,Yn)=>{const Wo=g0(Jc(m),rn,Yn),fr=Uo($,Le.fromDom(m.getDoc()),G.none());return e2(rn,Wo,fr)}),Tn=()=>ke((rn,Yn)=>{const Wo=g0(Jc(m),rn,Yn);return tk(rn,Wo)}),tn=(rn,Yn)=>Yn().each(Wo=>{const fr=Se(Wo,ii=>fl(ii));ke((ii,wl)=>{const Qi=As(Le.fromDom(m.getDoc())),al=KC(Jc(m),wl,fr,Qi);rn(ii,al).each(Bt)})}),jn=rn=>(Yn,Wo)=>ft(Wo,"type").each(fr=>{hn(rn(fr),Wo.no_events)});Xe({mceTableSplitCells:()=>hn(C.unmergeCells),mceTableMergeCells:()=>hn(C.mergeCells),mceTableInsertRowBefore:()=>hn(C.insertRowsBefore),mceTableInsertRowAfter:()=>hn(C.insertRowsAfter),mceTableInsertColBefore:()=>hn(C.insertColumnsBefore),mceTableInsertColAfter:()=>hn(C.insertColumnsAfter),mceTableDeleteCol:()=>hn(C.deleteColumn),mceTableDeleteRow:()=>hn(C.deleteRow),mceTableCutCol:()=>Tn().each(rn=>{od(rn),hn(C.deleteColumn)}),mceTableCutRow:()=>Rn().each(rn=>{I0(rn),hn(C.deleteRow)}),mceTableCopyCol:()=>Tn().each(rn=>od(rn)),mceTableCopyRow:()=>Rn().each(rn=>I0(rn)),mceTablePasteColBefore:()=>tn(C.pasteColsBefore,Uu),mceTablePasteColAfter:()=>tn(C.pasteColsAfter,Uu),mceTablePasteRowBefore:()=>tn(C.pasteRowsBefore,I1),mceTablePasteRowAfter:()=>tn(C.pasteRowsAfter,I1),mceTableDelete:L,mceTableCellToggleClass:Je,mceTableToggleClass:Ie,mceTableToggleCaption:gt,mceTableSizingMode:(rn,Yn)=>Z(Yn),mceTableCellType:jn(rn=>rn==="th"?C.makeCellsHeader:C.unmakeCellsHeader),mceTableColType:jn(rn=>rn==="th"?C.makeColumnsHeader:C.unmakeColumnsHeader),mceTableRowType:jn(rn=>{switch(rn){case"header":return C.makeRowsHeader;case"footer":return C.makeRowsFooter;default:return C.makeRowsBody}})},(rn,Yn)=>m.addCommand(Yn,rn)),m.addCommand("mceInsertTable",(rn,Yn)=>{lk(m,Yn.rows,Yn.columns,Yn.options)}),m.addCommand("mceTableApplyCellStyle",(rn,Yn)=>{const Wo=wl=>"tablecell"+wl.toLowerCase().replace("-","");if(!v(Yn))return;const fr=Jc(m);if(fr.length===0)return;const ii=zn(Yn,(wl,Qi)=>m.formatter.has(Wo(Qi))&&p(wl));kn(ii)||(Xe(ii,(wl,Qi)=>{const al=Wo(Qi);re(fr,Ld=>{wl===""?m.formatter.remove(al,{value:null},Ld.dom,!0):m.formatter.apply(al,{value:wl},Ld.dom)})}),te(fr[0]).each(wl=>dc(m,wl.dom,$0)))})},L0=(m,C)=>{const B=tl(m),L=Z=>YC(Yf(m)).bind(te=>Ta(te,B).map(ke=>{const Ie=g0(Jc(m),ke,te);return Z(ke,Ie)})).getOr("");Xe({mceTableRowType:()=>L(C.getTableRowType),mceTableCellType:()=>L(C.getTableCellType),mceTableColType:()=>L(C.getTableColType)},(Z,te)=>m.addQueryValueHandler(te,Z))},om=Qc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),L1=(m,C,B,L)=>m.fold(C,B,L),uk=m=>m.fold(I,I,I),H0=om.before,i2=om.on,f$=om.after,Hl={before:H0,on:i2,after:f$,cata:L1,getStart:uk},Ji={create:(m,C)=>({selection:m,kill:C})},j0=(m,C)=>{const B=m.document.createRange();return B.selectNode(C.dom),B},Fd=(m,C)=>{const B=m.document.createRange();return fk(B,C),B},fk=(m,C)=>m.selectNodeContents(C.dom),a2=(m,C)=>{C.fold(B=>{m.setStartBefore(B.dom)},(B,L)=>{m.setStart(B.dom,L)},B=>{m.setStartAfter(B.dom)})},rm=(m,C)=>{C.fold(B=>{m.setEndBefore(B.dom)},(B,L)=>{m.setEnd(B.dom,L)},B=>{m.setEndAfter(B.dom)})},l2=(m,C,B)=>{const L=m.document.createRange();return a2(L,C),rm(L,B),L},H1=(m,C,B,L,Z)=>{const te=m.document.createRange();return te.setStart(C.dom,B),te.setEnd(L.dom,Z),te},d$=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom,width:m.width,height:m.height}),j1=m=>{const C=m.getClientRects(),B=C.length>0?C[0]:m.getBoundingClientRect();return B.width>0||B.height>0?G.some(B).map(d$):G.none()},sm=Qc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),dk=(m,C,B)=>C(Le.fromDom(B.startContainer),B.startOffset,Le.fromDom(B.endContainer),B.endOffset),IS=(m,C)=>C.match({domRange:B=>({ltr:P(B),rtl:G.none}),relative:(B,L)=>({ltr:Ec(()=>l2(m,B,L)),rtl:Ec(()=>G.some(l2(m,L,B)))}),exact:(B,L,Z,te)=>({ltr:Ec(()=>H1(m,B,L,Z,te)),rtl:Ec(()=>G.some(H1(m,Z,te,B,L)))})}),Rd=(m,C)=>{const B=C.ltr();return B.collapsed?C.rtl().filter(Z=>Z.collapsed===!1).map(Z=>sm.rtl(Le.fromDom(Z.endContainer),Z.endOffset,Le.fromDom(Z.startContainer),Z.startOffset)).getOrThunk(()=>dk(m,sm.ltr,B)):dk(m,sm.ltr,B)},LS=(m,C)=>{const B=IS(m,C);return Rd(m,B)},jl=(m,C)=>LS(m,C).match({ltr:(L,Z,te,ke)=>{const Ie=m.document.createRange();return Ie.setStart(L.dom,Z),Ie.setEnd(te.dom,ke),Ie},rtl:(L,Z,te,ke)=>{const Ie=m.document.createRange();return Ie.setStart(te.dom,ke),Ie.setEnd(L.dom,Z),Ie}});sm.ltr,sm.rtl;const z1={create:(m,C,B,L)=>({start:m,soffset:C,finish:B,foffset:L})},HS={create:(m,C,B,L)=>({start:Hl.on(m,C),finish:Hl.on(B,L)})},hk=(m,C)=>{const B=jl(m,C);return z1.create(Le.fromDom(B.startContainer),B.startOffset,Le.fromDom(B.endContainer),B.endOffset)},Bc=HS.create,z0=(m,C,B,L,Z,te,ke)=>Xn(B,Z)&&L===te?G.none():cs(B,"td,th",C).bind(Ie=>cs(Z,"td,th",C).bind(Je=>jS(m,C,Ie,Je,ke))),jS=(m,C,B,L,Z)=>Xn(B,L)?G.none():d0(B,L,C).bind(te=>{const ke=te.boxes.getOr([]);return ke.length>1?(Z(m,ke,te.start,te.finish),G.some(Ji.create(G.some(Bc(B,0,B,ns(B))),!0))):G.none()}),V0=(m,C,B,L,Z)=>{const te=ke=>(Z.clearBeforeUpdate(B),Z.selectRange(B,ke.boxes,ke.start,ke.finish),ke.boxes);return GC(L,m,C,Z.firstSelectedSelector,Z.lastSelectedSelector).map(te)},hc=(m,C)=>({item:m,mode:C}),Cu=(m,C,B,L=ya)=>m.property().parent(C).map(Z=>hc(Z,L)),ya=(m,C,B,L=Su)=>B.sibling(m,C).map(Z=>hc(Z,L)),Su=(m,C,B,L=Su)=>{const Z=m.property().children(C);return B.first(Z).map(ke=>hc(ke,L))},c2=[{current:Cu,next:ya,fallback:G.none()},{current:ya,next:Su,fallback:G.some(Cu)},{current:Su,next:Su,fallback:G.some(ya)}],Wu=(m,C,B,L,Z=c2)=>q(Z,ke=>ke.current===B).bind(ke=>ke.current(m,C,L,ke.next).orThunk(()=>ke.fallback.bind(Ie=>Wu(m,C,Ie,L)))),U0={left:()=>({sibling:(B,L)=>B.query().prevSibling(L),first:B=>B.length>0?G.some(B[B.length-1]):G.none()}),right:()=>({sibling:(B,L)=>B.query().nextSibling(L),first:B=>B.length>0?G.some(B[0]):G.none()})},u2=(m,C,B,L,Z,te)=>Wu(m,C,L,Z).bind(Ie=>te(Ie.item)?G.none():B(Ie.item)?G.some(Ie.item):u2(m,Ie.item,B,Ie.mode,Z,te)),zS=(m,C,B,L)=>u2(m,C,B,ya,U0.left(),L),VS=(m,C,B,L)=>u2(m,C,B,ya,U0.right(),L),U1=m=>C=>m.property().children(C).length===0,US=(m,C,B)=>WS(m,C,U1(m),B),pk=(m,C,B)=>qS(m,C,U1(m),B),WS=zS,qS=VS,W0=vh(),f2=(m,C)=>US(W0,m,C),ZS=(m,C)=>pk(W0,m,C),GS=(m,C,B)=>WS(W0,m,C,B),gk=(m,C,B)=>qS(W0,m,C,B),g$=(m,C,B)=>je(m,C,B).isSome(),d2=Qc.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),m$=(m,C,B)=>{const L=m.getRect(C),Z=m.getRect(B);return Z.right>L.left&&Z.left<L.right},v$=m=>cs(m,"tr"),Ql={...d2,verify:(m,C,B,L,Z,te,ke)=>cs(L,"td,th",ke).bind(Ie=>cs(C,"td,th",ke).map(Je=>Xn(Ie,Je)?Xn(L,Ie)&&ns(Ie)===Z?te(Je):d2.none("in same cell"):bh(v$,[Ie,Je]).fold(()=>m$(m,Je,Ie)?d2.success():te(Je),gt=>te(Je)))).getOr(d2.none("default")),cata:(m,C,B,L,Z)=>m.fold(C,B,L,Z)},b$=(m,C,B,L)=>({parent:m,children:C,element:B,index:L}),q0=m=>ut(m).bind(C=>{const B=_n(C);return Z0(B,m).map(L=>b$(C,B,m,L))}),Z0=(m,C)=>Ze(m,K(Xn,C)),h2=pr("br"),KS=(m,C,B)=>C(m,B).bind(L=>yr(L)&&Gn(L).trim().length===0?KS(L,C,B):G.some(L)),mk=(m,C,B)=>B.traverse(C).orThunk(()=>KS(C,B.gather,m)).map(B.relative),y$=(m,C)=>Jn(m,C).filter(h2).orThunk(()=>Jn(m,C-1).filter(h2)),pc=(m,C,B,L)=>y$(C,B).bind(Z=>L.traverse(Z).fold(()=>KS(Z,L.gather,m).map(L.relative),te=>q0(te).map(ke=>Hl.on(ke.parent,ke.index)))),YS=(m,C,B,L)=>(h2(C)?mk(m,C,L):pc(m,C,B,L)).map(te=>({start:te,finish:te})),W1=m=>Ql.cata(m,C=>G.none(),()=>G.none(),C=>G.some(Ch(C,0)),C=>G.some(Ch(C,ns(C)))),Nh=(m,C)=>({left:m.left,top:m.top+C,right:m.right,bottom:m.bottom+C}),G0=(m,C)=>({left:m.left,top:m.top-C,right:m.right,bottom:m.bottom-C}),im=(m,C,B)=>({left:m.left+C,top:m.top+B,right:m.right+C,bottom:m.bottom+B}),p2=m=>m.top,w$=m=>m.bottom,C$=(m,C,B)=>B>=0&&B<ns(C)?m.getRangedRect(C,B,C,B+1):B>0?m.getRangedRect(C,B-1,C,B):G.none(),g2=m=>({left:m.left,top:m.top,right:m.right,bottom:m.bottom}),Hp=(m,C)=>G.some(m.getRect(C)),m2=(m,C,B)=>eo(C)?Hp(m,C).map(g2):yr(C)?C$(m,C,B).map(g2):G.none(),jp=(m,C)=>eo(C)?Hp(m,C).map(g2):yr(C)?m.getRangedRect(C,0,C,ns(C)).map(g2):G.none(),zl=5,vk=100,kf=Qc.generate([{none:[]},{retry:["caret"]}]),bk=(m,C)=>m.left<C.left||Math.abs(C.right-m.left)<1||m.left>C.right,K0=(m,C,B)=>et(C,qr).fold(se,L=>jp(m,L).exists(Z=>bk(B,Z))),v2=(m,C,B,L,Z)=>{const te=Nh(Z,zl);return Math.abs(B.bottom-L.bottom)<1||B.top>Z.bottom?kf.retry(te):B.top===Z.bottom?kf.retry(Nh(Z,1)):K0(m,C,Z)?kf.retry(im(te,zl,0)):kf.none()},Y0={point:p2,adjuster:(m,C,B,L,Z)=>{const te=G0(Z,zl);return Math.abs(B.top-L.top)<1||B.bottom<Z.top?kf.retry(te):B.bottom===Z.top?kf.retry(G0(Z,1)):K0(m,C,Z)?kf.retry(im(te,zl,0)):kf.none()},move:G0,gather:f2},JS={point:w$,adjuster:v2,move:Nh,gather:ZS},yk=(m,C,B)=>m.elementFromPoint(C,B).filter(L=>Ct(L)==="table").isSome(),q1=(m,C,B,L,Z)=>Z1(m,C,B,C.move(L,zl),Z),Z1=(m,C,B,L,Z)=>Z===0?G.some(L):yk(m,L.left,C.point(L))?q1(m,C,B,L,Z-1):m.situsFromPoint(L.left,C.point(L)).bind(te=>te.start.fold(G.none,ke=>jp(m,ke).bind(Ie=>C.adjuster(m,ke,Ie,B,L).fold(G.none,Je=>Z1(m,C,B,Je,Z-1))).orThunk(()=>G.some(L)),G.none)),S$=(m,C,B)=>m.point(C)>B.getInnerHeight()?G.some(m.point(C)-B.getInnerHeight()):m.point(C)<0?G.some(-m.point(C)):G.none(),zp=(m,C,B)=>{const L=m.move(B,zl),Z=Z1(C,m,B,L,vk).getOr(L);return S$(m,Z,C).fold(()=>C.situsFromPoint(Z.left,m.point(Z)),te=>(C.scrollBy(0,te),C.situsFromPoint(Z.left,m.point(Z)-te)))},b2={tryUp:K(zp,Y0),tryDown:K(zp,JS),getJumpSize:P(zl)},x$=20,QS=(m,C,B)=>m.getSelection().bind(L=>YS(C,L.finish,L.foffset,B).fold(()=>G.some(Ch(L.finish,L.foffset)),Z=>{const te=m.fromSitus(Z),ke=Ql.verify(m,L.finish,L.foffset,te.finish,te.foffset,B.failure,C);return W1(ke)})),X0=(m,C,B,L,Z,te)=>te===0?G.none():jF(m,C,B,L,Z).bind(ke=>{const Ie=m.fromSitus(ke),Je=Ql.verify(m,B,L,Ie.finish,Ie.foffset,Z.failure,C);return Ql.cata(Je,()=>G.none(),()=>G.some(ke),gt=>Xn(B,gt)&&L===0?Vp(m,B,L,G0,Z):X0(m,C,gt,0,Z,te-1),gt=>Xn(B,gt)&&L===ns(gt)?Vp(m,B,L,Nh,Z):X0(m,C,gt,ns(gt),Z,te-1))}),Vp=(m,C,B,L,Z)=>m2(m,C,B).bind(te=>y2(m,Z,L(te,b2.getJumpSize()))),y2=(m,C,B)=>{const L=kg().browser;return L.isChromium()||L.isSafari()||L.isFirefox()?C.retry(m,B):G.none()},jF=(m,C,B,L,Z)=>m2(m,B,L).bind(te=>y2(m,Z,te)),E$=(m,C,B)=>QS(m,C,B).bind(L=>X0(m,C,L.element,L.offset,B,x$).map(m.fromSitus)),wk=(m,C)=>g$(m,B=>ut(B).exists(L=>Xn(L,C))),Up=(m,C,B,L,Z)=>cs(L,"td,th",C).bind(te=>cs(te,"table",C).bind(ke=>wk(Z,ke)?E$(m,C,B).bind(Ie=>cs(Ie.finish,"td,th",C).map(Je=>({start:te,finish:Je,range:Ie}))):G.none())),w2=(m,C,B,L,Z,te)=>te(L,C).orThunk(()=>Up(m,C,B,L,Z).map(ke=>{const Ie=ke.range;return Ji.create(G.some(Bc(Ie.start,Ie.soffset,Ie.finish,Ie.foffset)),!0)})),Rr=(m,C)=>cs(m,"tr",C).bind(B=>cs(B,"table",C).bind(L=>{const Z=Ro(L,"tr");return Xn(B,Z[0])?GS(L,te=>Kf(te).isSome(),C).map(te=>{const ke=ns(te);return Ji.create(G.some(Bc(te,ke,te,ke)),!0)}):G.none()})),Md=(m,C)=>cs(m,"tr",C).bind(B=>cs(B,"table",C).bind(L=>{const Z=Ro(L,"tr");return Xn(B,Z[Z.length-1])?gk(L,te=>Yc(te).isSome(),C).map(te=>Ji.create(G.some(Bc(te,0,te,0)),!0)):G.none()})),Wp=(m,C,B,L,Z,te,ke)=>Up(m,B,L,Z,te).bind(Ie=>jS(C,B,Ie.start,Ie.finish,ke)),qp=m=>{let C=m;return{get:()=>C,set:Z=>{C=Z}}},ex=m=>{const C=qp(G.none()),B=()=>C.get().each(m);return{clear:()=>{B(),C.set(G.none())},isSet:()=>C.get().isSome(),get:()=>C.get(),set:Ie=>{B(),C.set(G.some(Ie))}}},G1=()=>{const m=ex($);return{...m,on:B=>m.get().each(B)}},Ck=(m,C)=>cs(m,"td,th",C),Af=(m,C,B,L)=>{const Z=G1(),te=Z.clear,ke=Bt=>{Z.on(hn=>{L.clearBeforeUpdate(C),Ck(Bt.target,B).each(Rn=>{d0(hn,Rn,B).each(Tn=>{const tn=Tn.boxes.getOr([]);if(tn.length===1){const jn=tn[0],rn=bu(jn)==="false",Yn=nn(Ly(Bt.target),jn,Xn);rn&&Yn&&(L.selectRange(C,tn,jn,jn),m.selectContents(jn))}else tn.length>1&&(L.selectRange(C,tn,Tn.start,Tn.finish),m.selectContents(Rn))})})})};return{clearstate:te,mousedown:Bt=>{L.clear(C),Ck(Bt.target,B).each(Z.set)},mouseover:Bt=>{ke(Bt)},mouseup:Bt=>{ke(Bt),te()}}},C2={traverse:Un,gather:ZS,relative:Hl.before,retry:b2.tryDown,failure:Ql.failedDown},tx={traverse:An,gather:f2,relative:Hl.before,retry:b2.tryUp,failure:Ql.failedUp},gc=m=>C=>C===m,Ua=gc(38),nx=gc(40),K1=m=>m>=37&&m<=40,J0={isBackward:gc(37),isForward:gc(39)},Sk={isBackward:gc(39),isForward:gc(37)},ox=m=>{const C=m!==void 0?m.dom:document,B=C.body.scrollLeft||C.documentElement.scrollLeft,L=C.body.scrollTop||C.documentElement.scrollTop;return Tc(B,L)},k$=(m,C,B)=>{const Z=(B!==void 0?B.dom:document).defaultView;Z&&Z.scrollBy(m,C)},Q0=Qc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),A$=m=>Q0.exact(m.start,m.soffset,m.finish,m.foffset),xk=m=>m.match({domRange:C=>Le.fromDom(C.startContainer),relative:(C,B)=>Hl.getStart(C),exact:(C,B,L,Z)=>C}),Ek=Q0.domRange,T$=Q0.relative,kk=Q0.exact,Ak=m=>{const C=xk(m);return lt(C)},Tk=z1.create,am={domRange:Ek,relative:T$,exact:kk,exactFromRange:A$,getWin:Ak,range:Tk},S2=(m,C,B)=>{var L,Z;return G.from((Z=(L=m.dom).caretPositionFromPoint)===null||Z===void 0?void 0:Z.call(L,C,B)).bind(te=>{if(te.offsetNode===null)return G.none();const ke=m.dom.createRange();return ke.setStart(te.offsetNode,te.offset),ke.collapse(),G.some(ke)})},Ok=(m,C,B)=>{var L,Z;return G.from((Z=(L=m.dom).caretRangeFromPoint)===null||Z===void 0?void 0:Z.call(L,C,B))},Y1=(()=>document.caretPositionFromPoint?S2:document.caretRangeFromPoint?Ok:G.none)(),eb=(m,C,B)=>{const L=Le.fromDom(m.document);return Y1(L,C,B).map(Z=>z1.create(Le.fromDom(Z.startContainer),Z.startOffset,Le.fromDom(Z.endContainer),Z.endOffset))},x2=(m,C)=>{const B=Ct(m);return B==="input"?Hl.after(m):U(["br","img"],B)?C===0?Hl.before(m):Hl.after(m):Hl.on(m,C)},O$=(m,C)=>{const B=m.fold(Hl.before,x2,Hl.after),L=C.fold(Hl.before,x2,Hl.after);return am.relative(B,L)},_$=(m,C,B,L)=>{const Z=x2(m,C),te=x2(B,L);return am.relative(Z,te)},$$=(m,C,B,L)=>{const te=Fo(m).dom.createRange();return te.setStart(m.dom,C),te.setEnd(B.dom,L),te},_k=(m,C,B,L)=>{const Z=$$(m,C,B,L),te=Xn(m,B)&&C===L;return Z.collapsed&&!te},qn=m=>G.from(m.getSelection()),wa=(m,C)=>{qn(m).each(B=>{B.removeAllRanges(),B.addRange(C)})},X1=(m,C,B,L,Z)=>{const te=H1(m,C,B,L,Z);wa(m,te)},il=(m,C,B,L,Z,te)=>{C.collapse(B.dom,L),C.extend(Z.dom,te)},xu=(m,C)=>LS(m,C).match({ltr:(B,L,Z,te)=>{X1(m,B,L,Z,te)},rtl:(B,L,Z,te)=>{qn(m).each(ke=>{if(ke.setBaseAndExtent)ke.setBaseAndExtent(B.dom,L,Z.dom,te);else if(ke.extend)try{il(m,ke,B,L,Z,te)}catch{X1(m,Z,te,B,L)}else X1(m,Z,te,B,L)})}}),lm=(m,C,B,L,Z)=>{const te=_$(C,B,L,Z);xu(m,te)},J1=(m,C,B)=>{const L=O$(C,B);xu(m,L)},E2=m=>{if(m.rangeCount>0){const C=m.getRangeAt(0),B=m.getRangeAt(m.rangeCount-1);return G.some(z1.create(Le.fromDom(C.startContainer),C.startOffset,Le.fromDom(B.endContainer),B.endOffset))}else return G.none()},D$=m=>{if(m.anchorNode===null||m.focusNode===null)return E2(m);{const C=Le.fromDom(m.anchorNode),B=Le.fromDom(m.focusNode);return _k(C,m.anchorOffset,B,m.focusOffset)?G.some(z1.create(C,m.anchorOffset,B,m.focusOffset)):E2(m)}},$k=(m,C,B=!0)=>{const Z=(B?Fd:j0)(m,C);wa(m,Z)},Dk=m=>qn(m).filter(C=>C.rangeCount>0).bind(D$),Bk=m=>Dk(m).map(C=>am.exact(C.start,C.soffset,C.finish,C.foffset)),B$=(m,C)=>{const B=jl(m,C);return j1(B)},N$=(m,C,B)=>eb(m,C,B),Nk=m=>{qn(m).each(C=>C.removeAllRanges())},rx=m=>({elementFromPoint:(rn,Yn)=>Le.fromPoint(Le.fromDom(m.document),rn,Yn),getRect:rn=>rn.dom.getBoundingClientRect(),getRangedRect:(rn,Yn,Wo,fr)=>{const ii=am.exact(rn,Yn,Wo,fr);return B$(m,ii)},getSelection:()=>Bk(m).map(rn=>hk(m,rn)),fromSitus:rn=>{const Yn=am.relative(rn.start,rn.finish);return hk(m,Yn)},situsFromPoint:(rn,Yn)=>N$(m,rn,Yn).map(Wo=>HS.create(Wo.start,Wo.soffset,Wo.finish,Wo.foffset)),clearSelection:()=>{Nk(m)},collapseSelection:(rn=!1)=>{Bk(m).each(Yn=>Yn.fold(Wo=>Wo.collapse(rn),(Wo,fr)=>{const ii=rn?Wo:fr;J1(m,ii,ii)},(Wo,fr,ii,wl)=>{const Qi=rn?Wo:ii,al=rn?fr:wl;lm(m,Qi,al,Qi,al)}))},setSelection:rn=>{lm(m,rn.start,rn.soffset,rn.finish,rn.foffset)},setRelativeSelection:(rn,Yn)=>{J1(m,rn,Yn)},selectNode:rn=>{$k(m,rn,!1)},selectContents:rn=>{$k(m,rn)},getInnerHeight:()=>m.innerHeight,getScrollY:()=>ox(Le.fromDom(m.document)).top,scrollBy:(rn,Yn)=>{k$(rn,Yn,Le.fromDom(m.document))}}),cm=(m,C)=>({rows:m,cols:C}),k2=(m,C,B,L)=>{const Z=rx(m),te=Af(Z,C,B,L);return{clearstate:te.clearstate,mousedown:te.mousedown,mouseover:te.mouseover,mouseup:te.mouseup}},tb=(m,C,B,L)=>{const Z=rx(m),te=()=>(L.clear(C),G.none());return{keydown:(Je,gt,Bt,hn,Rn,Tn)=>{const tn=Je.raw,jn=tn.which,rn=tn.shiftKey===!0;return h0(C,L.selectedSelector).fold(()=>(K1(jn)&&!rn&&L.clearBeforeUpdate(C),nx(jn)&&rn?K(Wp,Z,C,B,C2,hn,gt,L.selectRange):Ua(jn)&&rn?K(Wp,Z,C,B,tx,hn,gt,L.selectRange):nx(jn)?K(w2,Z,B,C2,hn,gt,Md):Ua(jn)?K(w2,Z,B,tx,hn,gt,Rr):G.none),Wo=>{const fr=ii=>()=>ie(ii,Qi=>V0(Qi.rows,Qi.cols,C,Wo,L)).fold(()=>Ny(C,L.firstSelectedSelector,L.lastSelectedSelector).map(Qi=>{const al=nx(jn)||Tn.isForward(jn)?Hl.after:Hl.before;return Z.setRelativeSelection(Hl.on(Qi.first,0),al(Qi.table)),L.clear(C),Ji.create(G.none(),!0)}),Qi=>G.some(Ji.create(G.none(),!0)));return nx(jn)&&rn?fr([cm(1,0)]):Ua(jn)&&rn?fr([cm(-1,0)]):Tn.isBackward(jn)&&rn?fr([cm(0,-1),cm(-1,0)]):Tn.isForward(jn)&&rn?fr([cm(0,1),cm(1,0)]):K1(jn)&&!rn?te:G.none})()},keyup:(Je,gt,Bt,hn,Rn)=>h0(C,L.selectedSelector).fold(()=>{const Tn=Je.raw,tn=Tn.which;return Tn.shiftKey===!0&&K1(tn)?z0(C,B,gt,Bt,hn,Rn,L.selectRange):G.none()},G.none)}},A2=(m,C,B,L)=>{const Z=rx(m);return(te,ke)=>{L.clearBeforeUpdate(C),d0(te,ke,B).each(Ie=>{const Je=Ie.boxes.getOr([]);L.selectRange(C,Je,Ie.start,Ie.finish),Z.selectContents(ke),Z.collapseSelection()})}},um=(m,C)=>{const B=Es(m,C);return B===void 0||B===""?[]:B.split(" ")},sx=(m,C,B)=>{const Z=um(m,C).concat([B]);return wr(m,C,Z.join(" ")),!0},Pk=(m,C,B)=>{const L=ue(um(m,C),Z=>Z!==B);return L.length>0?wr(m,C,L.join(" ")):Vr(m,C),!1},fm=m=>m.dom.classList!==void 0,nb=m=>um(m,"class"),P$=(m,C)=>sx(m,"class",C),F$=(m,C)=>Pk(m,"class",C),Ph=(m,C)=>{fm(m)?m.dom.classList.add(C):P$(m,C)},R$=m=>{(fm(m)?m.dom.classList:nb(m)).length===0&&Vr(m,"class")},Fk=(m,C)=>{fm(m)?m.dom.classList.remove(C):F$(m,C),R$(m)},ob=(m,C)=>fm(m)&&m.dom.classList.contains(C),yo=(m,C)=>{re(C,B=>{Fk(m,B)})},Id=m=>C=>{Ph(C,m)},Vl=m=>C=>{yo(C,m)},Q1={byClass:m=>{const C=Id(m.selected),B=Vl([m.selected,m.lastSelected,m.firstSelected]),L=te=>{const ke=Ro(te,m.selectedSelector);re(ke,B)};return{clearBeforeUpdate:L,clear:L,selectRange:(te,ke,Ie,Je)=>{L(te),re(ke,C),Ph(Ie,m.firstSelected),Ph(Je,m.lastSelected)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}},byAttr:(m,C,B)=>{const L=Je=>{Vr(Je,m.selected),Vr(Je,m.firstSelected),Vr(Je,m.lastSelected)},Z=Je=>{wr(Je,m.selected,"1")},te=Je=>{ke(Je),B()},ke=Je=>{const gt=Ro(Je,`${m.selectedSelector},${m.firstSelectedSelector},${m.lastSelectedSelector}`);re(gt,L)};return{clearBeforeUpdate:ke,clear:te,selectRange:(Je,gt,Bt,hn)=>{te(Je),re(gt,Z),wr(Bt,m.firstSelected,"1"),wr(hn,m.lastSelected,"1"),C(gt,Bt,hn)},selectedSelector:m.selectedSelector,firstSelectedSelector:m.firstSelectedSelector,lastSelectedSelector:m.lastSelectedSelector}}},ix=(m,C,B,L)=>{switch(m.tag){case"none":return C();case"single":return L(m.element);case"multiple":return B(m.elements)}},Rk=()=>({tag:"none"}),ax=m=>({tag:"multiple",elements:m}),M$=m=>({tag:"single",element:m}),T2=(m,C,B)=>({get:()=>b1(m(),B).fold(()=>C().fold(Rk,M$),ax)}),lx=(m,C)=>{const B=m.slice(0,C[C.length-1].row+1),L=Ah(B);return tt(L,Z=>{const te=Z.cells.slice(0,C[C.length-1].column+1);return Se(te,ke=>ke.element)})},dm=(m,C)=>{const B=m.slice(C[0].row+C[0].rowspan-1,m.length),L=Ah(B);return tt(L,Z=>{const te=Z.cells.slice(C[0].column+C[0].colspan-1,Z.cells.length);return Se(te,ke=>ke.element)})},cx=(m,C,B)=>{const L=lr.fromTable(m);return Dc(L,C).map(te=>{const ke=Eh(L,B,!1),{rows:Ie}=Oa(ke),Je=lx(Ie,te),gt=dm(Ie,te);return{upOrLeftCells:Je,downOrRightCells:gt}})},Mk=(m,C,B,L,Z,te,ke)=>({target:m,x:C,y:B,stop:L,prevent:Z,kill:te,raw:ke}),O2=m=>{const C=Le.fromDom(Ns(m).getOr(m.target)),B=()=>m.stopPropagation(),L=()=>m.preventDefault(),Z=D(L,B);return Mk(C,m.clientX,m.clientY,B,L,Z,m)},ux=(m,C)=>B=>{m(B)&&C(O2(B))},Gs=(m,C,B,L,Z)=>{const te=ux(B,L);return m.dom.addEventListener(C,te,Z),{unbind:K(Ik,m,C,te,Z)}},rd=(m,C,B,L)=>Gs(m,C,B,L,!1),Ik=(m,C,B,L)=>{m.dom.removeEventListener(C,B,L)},Lk=Q,hm=(m,C,B)=>rd(m,C,Lk,B),pm=O2,ev=m=>!ob(Le.fromDom(m.target),"ephox-snooker-resizer-bar"),fx=(m,C)=>{const B=T2(()=>Le.fromDom(m.getBody()),()=>YC(Yf(m),tl(m)),$d.selectedSelector),L=(Je,gt,Bt)=>{Ta(gt).each(Rn=>{const Tn=G3(m),tn=Uo($,Le.fromDom(m.getDoc()),Tn),jn=Jc(m),rn=cx(Rn,{selection:jn},tn);td(m,Je,gt,Bt,rn)})},Z=()=>Xg(m),te=Q1.byAttr($d,L,Z);return m.on("init",Je=>{const gt=m.getWin(),Bt=Ng(m),hn=tl(m),Rn=()=>{const Ds=m.selection,ec=Le.fromDom(Ds.getStart()),Cl=Le.fromDom(Ds.getEnd());bh(Ta,[ec,Cl]).fold(()=>te.clear(Bt),$)},Tn=k2(gt,Bt,hn,te),tn=tb(gt,Bt,hn,te),jn=A2(gt,Bt,hn,te),rn=Ds=>Ds.raw.shiftKey===!0;m.on("TableSelectorChange",Ds=>jn(Ds.start,Ds.finish));const Yn=(Ds,ec)=>{!rn(Ds)||(ec.kill&&Ds.kill(),ec.selection.each(Cl=>{const _f=am.relative(Cl.start,Cl.finish),Eu=jl(gt,_f);m.selection.setRng(Eu)}))},Wo=Ds=>{const ec=pm(Ds);if(ec.raw.shiftKey&&K1(ec.raw.which)){const Cl=m.selection.getRng(),_f=Le.fromDom(Cl.startContainer),Eu=Le.fromDom(Cl.endContainer);tn.keyup(ec,_f,Cl.startOffset,Eu,Cl.endOffset).each(nv=>{Yn(ec,nv)})}},fr=Ds=>{const ec=pm(Ds);C.hide();const Cl=m.selection.getRng(),_f=Le.fromDom(Cl.startContainer),Eu=Le.fromDom(Cl.endContainer),nv=xp(J0,Sk)(Le.fromDom(m.selection.getStart()));tn.keydown(ec,_f,Cl.startOffset,Eu,Cl.endOffset,nv).each(tc=>{Yn(ec,tc)}),C.show()},ii=Ds=>Ds.button===0,wl=Ds=>Ds.buttons===void 0?!0:(Ds.buttons&1)!==0,Qi=Ds=>{Tn.clearstate()},al=Ds=>{ii(Ds)&&ev(Ds)&&Tn.mousedown(pm(Ds))},Ld=Ds=>{wl(Ds)&&ev(Ds)&&Tn.mouseover(pm(Ds))},cb=Ds=>{ii(Ds)&&ev(Ds)&&Tn.mouseup(pm(Ds))},ym=(()=>{const Ds=qp(Le.fromDom(Bt)),ec=qp(0);return{touchEnd:_f=>{const Eu=Le.fromDom(_f.target);if(pr("td")(Eu)||pr("th")(Eu)){const nv=Ds.get(),tc=ec.get();Xn(nv,Eu)&&_f.timeStamp-tc<300&&(_f.preventDefault(),jn(Eu,Eu))}Ds.set(Eu),ec.set(_f.timeStamp)}}})();m.on("dragstart",Qi),m.on("mousedown",al),m.on("mouseover",Ld),m.on("mouseup",cb),m.on("touchend",ym.touchEnd),m.on("keyup",Wo),m.on("keydown",fr),m.on("NodeChange",Rn)}),m.on("PreInit",()=>{m.serializer.addTempAttr($d.firstSelected),m.serializer.addTempAttr($d.lastSelected)}),{getSelectedCells:()=>ix(B.get(),P([]),Je=>Se(Je,gt=>gt.dom),Je=>[Je.dom]),clearSelectedCells:Je=>te.clear(Le.fromDom(Je))}},Of=m=>{let C=[];return{bind:te=>{if(te===void 0)throw new Error("Event bind error: undefined handler");C.push(te)},unbind:te=>{C=ue(C,ke=>ke!==te)},trigger:(...te)=>{const ke={};re(m,(Ie,Je)=>{ke[Ie]=te[Je]}),re(C,Ie=>{Ie(ke)})}}},gm=m=>{const C=zt(m,L=>({bind:L.bind,unbind:L.unbind})),B=zt(m,L=>L.trigger);return{registry:C,trigger:B}},Hk=(m,C)=>{let B=null;const L=()=>{S(B)||(clearTimeout(B),B=null)};return{cancel:L,throttle:(...te)=>{L(),B=setTimeout(()=>{B=null,m.apply(null,te)},C)}}},rb=m=>m.slice(0).sort(),sd=(m,C)=>{throw new Error("All required keys ("+rb(m).join(", ")+") were not specified. Specified keys were: "+rb(C).join(", ")+".")},_2=m=>{throw new Error("Unsupported keys for object: "+rb(m).join(", "))},jk=(m,C)=>{if(!b(C))throw new Error("The "+m+" fields must be an array. Was: "+C+".");re(C,B=>{if(!p(B))throw new Error("The value "+B+" in the "+m+" fields was not a string.")})},I$=(m,C)=>{throw new Error("All values need to be of type: "+C+". Keys ("+rb(m).join(", ")+") were not.")},L$=m=>{const C=rb(m);q(C,(L,Z)=>Z<C.length-1&&L===C[Z+1]).each(L=>{throw new Error("The field: "+L+" occurs more than once in the combined fields: ["+C.join(", ")+"].")})},H$=(m,C)=>Zu(m,C,{validate:F,label:"function"}),Zu=(m,C,B)=>{if(C.length===0)throw new Error("You must specify at least one required field.");return jk("required",C),L$(C),L=>{const Z=Ee(L);Qe(C,Ie=>U(Z,Ie))||sd(C,Z),m(C,Z);const ke=ue(C,Ie=>!B.validate(L[Ie],Ie));return ke.length>0&&I$(ke,B.label),L}},mc=(m,C)=>{const B=ue(C,L=>!U(m,L));B.length>0&&_2(B)},Zp=m=>H$(mc,m),sb=Zp(["compare","extract","mutate","sink"]),$2=Zp(["element","start","stop","destroy"]),j$=Zp(["forceDrop","drop","move","delayDrop"]),Ur=()=>{let m=G.none();const C=()=>{m=G.none()},B=(te,ke)=>{const Ie=m.map(Je=>te.compare(Je,ke));return m=G.some(ke),Ie},L=(te,ke)=>{ke.extract(te).each(Je=>{B(ke,Je).each(Bt=>{Z.trigger.move(Bt)})})},Z=gm({move:Of(["info"])});return{onEvent:L,reset:C,events:Z.registry}},z$=()=>{const m=gm({move:Of(["info"])});return{onEvent:$,reset:$,events:m.registry}},D2=()=>{const m=z$(),C=Ur();let B=m;return{on:()=>{B.reset(),B=C},off:()=>{B.reset(),B=m},isOn:()=>B===C,onEvent:(Ie,Je)=>{B.onEvent(Ie,Je)},events:C.events}},dx=(m,C,B)=>{let L=!1;const Z=gm({start:Of([]),stop:Of([])}),te=D2(),ke=()=>{Tn.stop(),te.isOn()&&(te.off(),Z.trigger.stop())},Ie=Hk(ke,200),Je=jn=>{Tn.start(jn),te.on(),Z.trigger.start()},gt=jn=>{Ie.cancel(),te.onEvent(jn,C)};te.events.move.bind(jn=>{C.mutate(m,jn.info)});const Bt=()=>{L=!0},hn=()=>{L=!1},Rn=jn=>(...rn)=>{L&&jn.apply(null,rn)},Tn=C.sink(j$({forceDrop:ke,drop:Rn(ke),move:Rn(gt),delayDrop:Rn(Ie.throttle)}),B),tn=()=>{Tn.destroy()};return{element:Tn.element,go:Je,on:Bt,off:hn,destroy:tn,events:Z.registry}},zk=m=>{const C=m.replace(/\./g,"-");return{resolve:L=>C+"-"+L}},B2=zk("ephox-dragster").resolve,U$=m=>{const C={layerClass:B2("blocker"),...m},B=Le.fromTag("div");return wr(B,"role","presentation"),Xr(B,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ph(B,B2("blocker")),Ph(B,C.layerClass),{element:P(B),destroy:()=>{Ls(B)}}};var Uk=sb({compare:(m,C)=>Tc(C.left-m.left,C.top-m.top),extract:m=>G.some(Tc(m.x,m.y)),sink:(m,C)=>{const B=U$(C),L=hm(B.element(),"mousedown",m.forceDrop),Z=hm(B.element(),"mouseup",m.drop),te=hm(B.element(),"mousemove",m.move),ke=hm(B.element(),"mouseout",m.delayDrop),Ie=()=>{B.destroy(),Z.unbind(),te.unbind(),ke.unbind(),L.unbind()},Je=Bt=>{Qo(Bt,B.element())},gt=()=>{Ls(B.element())};return $2({element:B.element,start:Je,stop:gt,destroy:Ie})},mutate:(m,C)=>{m.mutate(C.left,C.top)}});const VF=(m,C={})=>{var B;const L=(B=C.mode)!==null&&B!==void 0?B:Uk;return dx(m,L,C)},N2=zk("ephox-snooker").resolve,px=()=>{const m=gm({drag:Of(["xDelta","yDelta"])});return{mutate:(B,L)=>{m.trigger.drag(B,L)},events:m.registry}},P2=()=>{const m=gm({drag:Of(["xDelta","yDelta","target"])});let C=G.none();const B=px();return B.events.drag.bind(te=>{C.each(ke=>{m.trigger.drag(te.xDelta,te.yDelta,ke)})}),{assign:te=>{C=G.some(te)},get:()=>C,mutate:B.mutate,events:m.registry}},F2=(m,C,B,L,Z)=>{const te=Le.fromTag("div");return Xr(te,{position:"absolute",left:C-L/2+"px",top:B+"px",height:Z+"px",width:L+"px"}),Jo(te,{"data-column":m,role:"presentation"}),te},Bo=(m,C,B,L,Z)=>{const te=Le.fromTag("div");return Xr(te,{position:"absolute",left:C+"px",top:B-Z/2+"px",height:Z+"px",width:L+"px"}),Jo(te,{"data-row":m,role:"presentation"}),te},gx=N2("resizer-bar"),qk=N2("resizer-rows"),Zk=N2("resizer-cols"),mm=7,Gk=(m,C)=>tt(m.all,(B,L)=>C(B.element)?[L]:[]),q$=(m,C)=>{const B=[];return De(m.grid.columns,L=>{lr.getColumnAt(m,L).map(te=>te.element).forall(C)&&B.push(L)}),ue(B,L=>{const Z=lr.filterItems(m,te=>te.column===L);return Qe(Z,te=>C(te.element))})},Kk=m=>{const C=Ro(m.parent(),"."+gx);re(C,Ls)},Z$=(m,C,B)=>{const L=m.origin();re(C,Z=>{Z.each(te=>{const ke=B(L,te);Ph(ke,gx),Qo(m.parent(),ke)})})},mx=(m,C,B,L)=>{Z$(m,C,(Z,te)=>{const ke=F2(te.col,te.x-Z.left,B.top-Z.top,mm,L);return Ph(ke,Zk),ke})},G$=(m,C,B,L)=>{Z$(m,C,(Z,te)=>{const ke=Bo(te.row,B.left-Z.left,te.y-Z.top,L,mm);return Ph(ke,qk),ke})},vx=(m,C,B,L,Z)=>{const te=Mu(B),ke=C.isResizable,Ie=L.length>0?gu.positions(L,B):[],Je=Ie.length>0?Gk(m,ke):[],gt=ue(Ie,(Tn,tn)=>Fe(Je,jn=>tn===jn));G$(C,gt,te,bo(B));const Bt=Z.length>0?ia.positions(Z,B):[],hn=Bt.length>0?q$(m,ke):[],Rn=ue(Bt,(Tn,tn)=>Fe(hn,jn=>tn===jn));mx(C,Rn,te,no(B))},R2=(m,C)=>{if(Kk(m),m.isResizable(C)){const B=lr.fromTable(C),L=qf(B),Z=el(B);vx(B,m,C,L,Z)}},bx=(m,C)=>{const B=Ro(m.parent(),"."+gx);re(B,C)},Yk=m=>{bx(m,C=>{Fr(C,"display","none")})},Xk=m=>{bx(m,C=>{Fr(C,"display","block")})},K$=m=>ob(m,qk),Jk=m=>ob(m,Zk),Qk=N2("resizer-bar-dragging"),eA=m=>{const C=P2(),B=VF(C,{});let L=G.none();const Z=(tn,jn)=>G.from(Es(tn,jn));C.events.drag.bind(tn=>{Z(tn.target,"data-row").each(jn=>{const rn=Ii(tn.target,"top");Fr(tn.target,"top",rn+tn.yDelta+"px")}),Z(tn.target,"data-column").each(jn=>{const rn=Ii(tn.target,"left");Fr(tn.target,"left",rn+tn.xDelta+"px")})});const te=(tn,jn)=>{const rn=Ii(tn,jn),Yn=Jr(tn,"data-initial-"+jn,0);return rn-Yn};B.events.stop.bind(()=>{C.get().each(tn=>{L.each(jn=>{Z(tn,"data-row").each(rn=>{const Yn=te(tn,"top");Vr(tn,"data-initial-top"),Tn.trigger.adjustHeight(jn,Yn,parseInt(rn,10))}),Z(tn,"data-column").each(rn=>{const Yn=te(tn,"left");Vr(tn,"data-initial-left"),Tn.trigger.adjustWidth(jn,Yn,parseInt(rn,10))}),R2(m,jn)})})});const ke=(tn,jn)=>{Tn.trigger.startAdjust(),C.assign(tn),wr(tn,"data-initial-"+jn,Ii(tn,jn)),Ph(tn,Qk),Fr(tn,"opacity","0.2"),B.go(m.parent())},Ie=hm(m.parent(),"mousedown",tn=>{K$(tn.target)&&ke(tn.target,"top"),Jk(tn.target)&&ke(tn.target,"left")}),Je=tn=>Xn(tn,m.view()),gt=tn=>cs(tn,"table",Je).filter(ed),Bt=hm(m.view(),"mouseover",tn=>{gt(tn.target).fold(()=>{Hs(tn.target)&&Kk(m)},jn=>{L=G.some(jn),R2(m,jn)})}),hn=()=>{Ie.unbind(),Bt.unbind(),B.destroy(),Kk(m)},Rn=tn=>{R2(m,tn)},Tn=gm({adjustHeight:Of(["table","delta","row"]),adjustWidth:Of(["table","delta","column"]),startAdjust:Of([])});return{destroy:hn,refresh:Rn,on:B.on,off:B.off,hideBars:K(Yk,m),showBars:K(Xk,m),events:Tn.registry}},tA={create:(m,C,B)=>{const L=gu,Z=ia,te=eA(m),ke=gm({beforeResize:Of(["table","type"]),afterResize:Of(["table","type"]),startDrag:Of([])});return te.events.adjustHeight.bind(Ie=>{const Je=Ie.table;ke.trigger.beforeResize(Je,"row");const gt=L.delta(Ie.delta,Je);lS(Je,gt,Ie.row,L),ke.trigger.afterResize(Je,"row")}),te.events.startAdjust.bind(Ie=>{ke.trigger.startDrag()}),te.events.adjustWidth.bind(Ie=>{const Je=Ie.table;ke.trigger.beforeResize(Je,"col");const gt=Z.delta(Ie.delta,Je),Bt=B(Je);Bp(Je,gt,Ie.column,C,Bt),ke.trigger.afterResize(Je,"col")}),{on:te.on,off:te.off,refreshBars:te.refresh,hideBars:te.hideBars,showBars:te.showBars,destroy:te.destroy,events:ke.registry}}},vc={only:(m,C)=>{const B=Ts(m)?dn(m):m;return{parent:P(B),view:P(m),origin:P(Tc(0,0)),isResizable:C}},detached:(m,C,B)=>{const L=()=>Mu(C);return{parent:P(C),view:P(m),origin:L,isResizable:B}},body:(m,C,B)=>({parent:P(C),view:P(m),origin:P(Tc(0,0)),isResizable:B})},ib=()=>{const m=Le.fromTag("div");return Xr(m,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Qo(Mi(),m),m},ab=(m,C)=>m.inline?vc.body(Le.fromDom(m.getBody()),ib(),C):vc.only(Le.fromDom(m.getDoc()),C),I2=(m,C)=>{m.inline&&Ls(C.parent())},bm=m=>k(m)&&m.nodeName==="TABLE",yx="bar-",Y$=m=>Es(m,"data-mce-resize")!=="false",lb=m=>{const C=lr.fromTable(m);lr.hasColumns(C)||re(Ru(m),B=>{const L=pa(B,"width");Fr(B,"width",L),Vr(B,"width")})},nA=m=>{const C=G1(),B=G1(),L=G1();let Z,te;const ke=tn=>em(m,tn),Ie=()=>X3(m)?QC():JC(),Je=tn=>m0(tn).columns,gt=(tn,jn,rn)=>{const Yn=at(jn,"e");if(te===""&&Rp(tn),rn!==Z&&te!==""){Fr(tn,"width",te);const Wo=Ie(),fr=ke(tn),ii=X3(m)||Yn?Je(tn)-1:0;Bp(tn,rn-Z,ii,Wo,fr)}else if(Pg(te)){const Wo=parseFloat(te.replace("%","")),fr=rn*Wo/Z;Fr(tn,"width",fr+"%")}i0(te)&&lb(tn)},Bt=()=>{B.on(tn=>{tn.destroy()}),L.on(tn=>{I2(m,tn)})};return m.on("init",()=>{const tn=ab(m,Y$);if(L.set(tn),K3(m)&&K_(m)){const jn=Ie(),rn=tA.create(tn,jn,ke);rn.on(),rn.events.startDrag.bind(Yn=>{C.set(m.selection.getRng())}),rn.events.beforeResize.bind(Yn=>{const Wo=Yn.table.dom;nd(m,Wo,Ty(Wo),_d(Wo),yx+Yn.type)}),rn.events.afterResize.bind(Yn=>{const Wo=Yn.table,fr=Wo.dom;Xc(Wo),C.on(ii=>{m.selection.setRng(ii),m.focus()}),q_(m,fr,Ty(fr),_d(fr),yx+Yn.type),m.undoManager.add()}),B.set(rn)}}),m.on("ObjectResizeStart",tn=>{const jn=tn.target;if(bm(jn)){const rn=Le.fromDom(jn);re(m.dom.select(".mce-clonedresizable"),Yn=>{m.dom.addClass(Yn,"mce-"+Pp(m)+"-columns")}),!$S(rn)&&Qg(m)?P0(rn):!_S(rn)&&Jg(m)&&Rp(rn),Fp(rn)&&Ye(tn.origin,yx)&&Rp(rn),Z=tn.width,te=D0(m)?"":_p(m,jn).getOr("")}}),m.on("ObjectResized",tn=>{const jn=tn.target;if(bm(jn)){const rn=Le.fromDom(jn),Yn=tn.origin;Ye(Yn,"corner-")&&gt(rn,Yn,tn.width),Xc(rn),dc(m,rn.dom,$0)}}),m.on("SwitchMode",()=>{B.on(tn=>{m.mode.isReadOnly()?tn.hideBars():tn.showBars()})}),m.on("remove",()=>{Bt()}),{refresh:tn=>{B.on(jn=>jn.refreshBars(Le.fromDom(tn)))},hide:()=>{B.on(tn=>tn.hideBars())},show:()=>{B.on(tn=>tn.showBars())}}},zr=m=>{G_(m);const C=nA(m),B=fx(m,C),L=ki(m,C,B);return ck(m,L),L0(m,L),b_(m,L),{getSelectedCells:B.getSelectedCells,clearSelectedCells:B.clearSelectedCells}},Gu=m=>({table:zr(m)});var tv=()=>{e.add("dom",Gu)};tv()})();(function(){const e=Object.getPrototypeOf,o=(n,a,f)=>{var g;return f(n,a.prototype)?!0:((g=n.constructor)===null||g===void 0?void 0:g.name)===a.name},s=n=>{const a=typeof n;return n===null?"null":a==="object"&&Array.isArray(n)?"array":a==="object"&&o(n,String,(f,g)=>g.isPrototypeOf(f))?"string":a},l=n=>a=>s(a)===n,c=n=>a=>typeof a===n,d=n=>a=>n===a,p=(n,a)=>b(n)&&o(n,a,(f,g)=>e(f)===g),v=l("string"),b=l("object"),S=n=>p(n,Object),x=l("array"),T=d(null),E=c("boolean"),k=d(void 0),F=n=>n==null,N=n=>!F(n),$=c("function"),D=c("number"),O=(n,a)=>{if(x(n)){for(let f=0,g=n.length;f<g;++f)if(!a(n[f]))return!1;return!0}return!1},P=()=>{},I=n=>()=>n(),z=(n,a)=>(...f)=>n(a.apply(null,f)),K=(n,a)=>f=>n(a(f)),j=n=>()=>n,oe=n=>n,xe=(n,a)=>n===a;function se(n,...a){return(...f)=>{const g=a.concat(f);return n.apply(null,g)}}const Q=n=>a=>!n(a),G=n=>()=>{throw new Error(n)},ce=n=>n(),he=j(!1),ve=j(!0);var qe=tinymce.util.Tools.resolve("tinymce.ThemeManager");class U{constructor(a,f){this.tag=a,this.value=f}static some(a){return new U(!0,a)}static none(){return U.singletonNone}fold(a,f){return this.tag?f(this.value):a()}isSome(){return this.tag}isNone(){return!this.tag}map(a){return this.tag?U.some(a(this.value)):U.none()}bind(a){return this.tag?a(this.value):U.none()}exists(a){return this.tag&&a(this.value)}forall(a){return!this.tag||a(this.value)}filter(a){return!this.tag||a(this.value)?this:U.none()}getOr(a){return this.tag?this.value:a}or(a){return this.tag?this:a}getOrThunk(a){return this.tag?this.value:a()}orThunk(a){return this.tag?this:a()}getOrDie(a){if(this.tag)return this.value;throw new Error(a!=null?a:"Called getOrDie on None")}static from(a){return N(a)?U.some(a):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(a){this.tag&&a(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(!1);const Fe=Array.prototype.slice,De=Array.prototype.indexOf,Se=Array.prototype.push,re=(n,a)=>De.call(n,a),le=(n,a)=>{const f=re(n,a);return f===-1?U.none():U.some(f)},fe=(n,a)=>re(n,a)>-1,ue=(n,a)=>{for(let f=0,g=n.length;f<g;f++){const w=n[f];if(a(w,f))return!0}return!1},Be=(n,a)=>{const f=[];for(let g=0;g<n;g++)f.push(a(g));return f},Ce=(n,a)=>{const f=[];for(let g=0;g<n.length;g+=a){const w=Fe.call(n,g,g+a);f.push(w)}return f},me=(n,a)=>{const f=n.length,g=new Array(f);for(let w=0;w<f;w++){const _=n[w];g[w]=a(_,w)}return g},q=(n,a)=>{for(let f=0,g=n.length;f<g;f++){const w=n[f];a(w,f)}},Ze=(n,a)=>{for(let f=n.length-1;f>=0;f--){const g=n[f];a(g,f)}},We=(n,a)=>{const f=[],g=[];for(let w=0,_=n.length;w<_;w++){const M=n[w];(a(M,w)?f:g).push(M)}return{pass:f,fail:g}},tt=(n,a)=>{const f=[];for(let g=0,w=n.length;g<w;g++){const _=n[g];a(_,g)&&f.push(_)}return f},Qe=(n,a,f)=>(Ze(n,(g,w)=>{f=a(f,g,w)}),f),it=(n,a,f)=>(q(n,(g,w)=>{f=a(f,g,w)}),f),He=(n,a,f)=>{for(let g=0,w=n.length;g<w;g++){const _=n[g];if(a(_,g))return U.some(_);if(f(_,g))break}return U.none()},Re=(n,a)=>He(n,a,he),Ve=(n,a)=>{for(let f=0,g=n.length;f<g;f++){const w=n[f];if(a(w,f))return U.some(f)}return U.none()},Oe=n=>{const a=[];for(let f=0,g=n.length;f<g;++f){if(!x(n[f]))throw new Error("Arr.flatten item "+f+" was not an array, input: "+n);Se.apply(a,n[f])}return a},be=(n,a)=>Oe(me(n,a)),ie=(n,a)=>{for(let f=0,g=n.length;f<g;++f){const w=n[f];if(a(w,f)!==!0)return!1}return!0},Ee=n=>{const a=Fe.call(n,0);return a.reverse(),a},ot=(n,a)=>tt(n,f=>!fe(a,f)),Xe=(n,a)=>{const f={};for(let g=0,w=n.length;g<w;g++){const _=n[g];f[String(_)]=a(_,g)}return f},zt=n=>[n],qt=(n,a)=>{const f=Fe.call(n,0);return f.sort(a),f},bn=(n,a)=>a>=0&&a<n.length?U.some(n[a]):U.none(),Kn=n=>bn(n,0),zn=n=>bn(n,n.length-1),fn=$(Array.from)?Array.from:n=>Fe.call(n),oo=(n,a)=>{for(let f=0;f<n.length;f++){const g=a(n[f],f);if(g.isSome())return g}return U.none()},ft=Object.keys,Tt=Object.hasOwnProperty,sn=(n,a)=>{const f=ft(n);for(let g=0,w=f.length;g<w;g++){const _=f[g],M=n[_];a(M,_)}},kn=(n,a)=>Pn(n,(f,g)=>({k:g,v:a(f,g)})),Pn=(n,a)=>{const f={};return sn(n,(g,w)=>{const _=a(g,w);f[_.k]=_.v}),f},$n=n=>(a,f)=>{n[f]=a},_o=(n,a,f,g)=>{sn(n,(w,_)=>{(a(w,_)?f:g)(w,_)})},mr=(n,a)=>{const f={},g={};return _o(n,a,$n(f),$n(g)),{t:f,f:g}},Ot=(n,a)=>{const f={};return _o(n,a,$n(f),P),f},Ct=(n,a)=>{const f=[];return sn(n,(g,w)=>{f.push(a(g,w))}),f},wn=(n,a)=>{const f=ft(n);for(let g=0,w=f.length;g<w;g++){const _=f[g],M=n[_];if(a(M,_,n))return U.some(M)}return U.none()},xn=n=>Ct(n,oe),pn=(n,a)=>eo(n,a)?U.from(n[a]):U.none(),eo=(n,a)=>Tt.call(n,a),yr=(n,a)=>eo(n,a)&&n[a]!==void 0&&n[a]!==null,Ts=(n,a,f=xe)=>n.exists(g=>f(g,a)),ci=(n,a,f=xe)=>wr(n,a,f).getOr(n.isNone()&&a.isNone()),pr=n=>{const a=[],f=g=>{a.push(g)};for(let g=0;g<n.length;g++)n[g].each(f);return a},xi=n=>{const a=[];for(let f=0;f<n.length;f++){const g=n[f];if(g.isSome())a.push(g.getOrDie());else return U.none()}return U.some(a)},wr=(n,a,f)=>n.isSome()&&a.isSome()?U.some(f(n.getOrDie(),a.getOrDie())):U.none(),Jo=(n,a,f,g)=>n.isSome()&&a.isSome()&&f.isSome()?U.some(g(n.getOrDie(),a.getOrDie(),f.getOrDie())):U.none(),To=(n,a)=>n!=null?U.some(a(n)):U.none(),Es=(n,a)=>n?U.some(a):U.none(),si=(n,a)=>n+a,Vr=(n,a)=>n.substring(a),ui=(n,a,f)=>a===""||n.length>=a.length&&n.substr(f,f+a.length)===a,Yr=(n,a)=>Ti(n,a)?Vr(n,a.length):n,ra=(n,a)=>dt(n,a)?n:si(n,a),ls=(n,a,f=0,g)=>{const w=n.indexOf(a,f);return w!==-1?k(g)?!0:w+a.length<=g:!1},Ti=(n,a)=>ui(n,a,0),dt=(n,a)=>ui(n,a,n.length-a.length),Pt=(n=>a=>a.replace(n,""))(/^\s+|\s+$/g),Zt=n=>n.length>0,to=n=>!Zt(n),uo=n=>n.style!==void 0&&$(n.style.getPropertyValue),Xn=(n,a)=>{const g=(a||document).createElement("div");if(g.innerHTML=n,!g.hasChildNodes()||g.childNodes.length>1){const w="HTML does not have a single root node";throw console.error(w,n),new Error(w)}return Fo(g.childNodes[0])},vr=(n,a)=>{const g=(a||document).createElement(n);return Fo(g)},zo=(n,a)=>{const g=(a||document).createTextNode(n);return Fo(g)},Fo=n=>{if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},dn={fromHtml:Xn,fromTag:vr,fromText:zo,fromDom:Fo,fromPoint:(n,a,f)=>U.from(n.dom.elementFromPoint(a,f)).map(Fo)},lt=typeof window<"u"?window:Function("return this;")(),ut=(n,a)=>{let f=a!=null?a:lt;for(let g=0;g<n.length&&f!==void 0&&f!==null;++g)f=f[n[g]];return f},en=(n,a)=>{const f=n.split(".");return ut(f,a)},En=(n,a)=>en(n,a),An=(n,a)=>{const f=En(n,a);if(f==null)throw new Error(n+" not available on this browser");return f},Un=Object.getPrototypeOf,_n=n=>An("HTMLElement",n),Jn=n=>{const a=en("ownerDocument.defaultView",n);return b(n)&&(_n(a).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(Un(n).constructor.name))},go=9,$o=11,Hr=1,ks=3,Qo=n=>n.dom.nodeName.toLowerCase(),fa=n=>n.dom.nodeType,sr=n=>a=>fa(a)===n,Tr=n=>Or(n)&&Jn(n.dom),Or=sr(Hr),Js=sr(ks),Ls=sr(go),Ea=sr($o),Fi=n=>a=>Or(a)&&Qo(a)===n,da=(n,a)=>{const f=n.dom;if(f.nodeType!==Hr)return!1;{const g=f;if(g.matches!==void 0)return g.matches(a);if(g.msMatchesSelector!==void 0)return g.msMatchesSelector(a);if(g.webkitMatchesSelector!==void 0)return g.webkitMatchesSelector(a);if(g.mozMatchesSelector!==void 0)return g.mozMatchesSelector(a);throw new Error("Browser lacks native selectors")}},fl=n=>n.nodeType!==Hr&&n.nodeType!==go&&n.nodeType!==$o||n.childElementCount===0,Ma=(n,a)=>{const f=a===void 0?document:a.dom;return fl(f)?[]:me(f.querySelectorAll(n),dn.fromDom)},ka=(n,a)=>{const f=a===void 0?document:a.dom;return fl(f)?U.none():U.from(f.querySelector(n)).map(dn.fromDom)},Cr=(n,a)=>n.dom===a.dom,Ri=(n,a)=>{const f=n.dom,g=a.dom;return f===g?!1:f.contains(g)},Ws=n=>dn.fromDom(n.dom.ownerDocument),sa=n=>Ls(n)?n:Ws(n),Oi=n=>dn.fromDom(sa(n).dom.documentElement),Aa=n=>dn.fromDom(sa(n).dom.defaultView),mi=n=>U.from(n.dom.parentNode).map(dn.fromDom),dl=n=>U.from(n.dom.parentElement).map(dn.fromDom),ha=n=>U.from(n.dom.offsetParent).map(dn.fromDom),hl=n=>U.from(n.dom.nextSibling).map(dn.fromDom),Sr=n=>me(n.dom.childNodes,dn.fromDom),vi=(n,a)=>{const f=n.dom.childNodes;return U.from(f[a]).map(dn.fromDom)},Ue=n=>vi(n,0),pt=(n,a)=>({element:n,offset:a}),xt=(n,a)=>{const f=Sr(n);return f.length>0&&a<f.length?pt(f[a],0):pt(n,a)},Gt=n=>Ea(n)&&N(n.dom.host),mn=$(Element.prototype.attachShadow)&&$(Node.prototype.getRootNode),Do=j(mn),or=mn?n=>dn.fromDom(n.dom.getRootNode()):sa,Os=n=>Gt(n)?n:dn.fromDom(sa(n).dom.body),xr=n=>Ns(n).isSome(),Ns=n=>{const a=or(n);return Gt(a)?U.some(a):U.none()},Ss=n=>dn.fromDom(n.dom.host),Hs=n=>{if(Do()&&N(n.target)){const a=dn.fromDom(n.target);if(Or(a)&&Mi(a)&&n.composed&&n.composedPath){const f=n.composedPath();if(f)return Kn(f)}}return U.from(n.target)},Mi=n=>N(n.dom.shadowRoot),ae=n=>{const a=Js(n)?n.dom.parentNode:n.dom;if(a==null||a.ownerDocument===null)return!1;const f=a.ownerDocument;return Ns(dn.fromDom(a)).fold(()=>f.body.contains(a),K(ae,Ss))},Ke=()=>St(dn.fromDom(document)),St=n=>{const a=n.dom.body;if(a==null)throw new Error("Body is not available yet");return dn.fromDom(a)},cn=(n,a,f)=>{if(v(f)||E(f)||D(f))n.setAttribute(a,f+"");else throw console.error("Invalid call to Attribute.set. Key ",a,":: Value ",f,":: Element ",n),new Error("Attribute value was not simple")},Fn=(n,a,f)=>{cn(n.dom,a,f)},Hn=(n,a)=>{const f=n.dom;sn(a,(g,w)=>{cn(f,w,g)})},Ro=(n,a)=>{const f=n.dom.getAttribute(a);return f===null?void 0:f},pe=(n,a)=>U.from(Ro(n,a)),je=(n,a)=>{const f=n.dom;return f&&f.hasAttribute?f.hasAttribute(a):!1},et=(n,a)=>{n.dom.removeAttribute(a)},Nt=n=>it(n.dom.attributes,(a,f)=>(a[f.name]=f.value,a),{}),Dn=(n,a,f)=>{if(!v(f))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",f,":: Element ",n),new Error("CSS value must be a string: "+f);uo(n)&&n.style.setProperty(a,f)},mo=(n,a)=>{uo(n)&&n.style.removeProperty(a)},Wn=(n,a,f)=>{const g=n.dom;Dn(g,a,f)},Wr=(n,a)=>{const f=n.dom;sn(a,(g,w)=>{Dn(f,w,g)})},cs=(n,a)=>{const f=n.dom;sn(a,(g,w)=>{g.fold(()=>{mo(f,w)},_=>{Dn(f,w,_)})})},nn=(n,a)=>{const f=n.dom,w=window.getComputedStyle(f).getPropertyValue(a);return w===""&&!ae(n)?Qs(f,a):w},Qs=(n,a)=>uo(n)?n.style.getPropertyValue(a):"",ps=(n,a)=>{const f=n.dom,g=Qs(f,a);return U.from(g).filter(w=>w.length>0)},ei=n=>{const a={},f=n.dom;if(uo(f))for(let g=0;g<f.style.length;g++){const w=f.style.item(g);a[w]=f.style[w]}return a},Dl=(n,a,f)=>{const g=dn.fromTag(n);return Wn(g,a,f),ps(g,a).isSome()},rr=(n,a)=>{const f=n.dom;mo(f,a),Ts(pe(n,"style").map(Pt),"")&&et(n,"style")},Ye=n=>n.dom.offsetWidth,at=(n,a)=>{const f=(V,J)=>{if(!D(J)&&!J.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+J);const ne=V.dom;uo(ne)&&(ne.style[n]=J+"px")},g=V=>{const J=a(V);if(J<=0||J===null){const ne=nn(V,n);return parseFloat(ne)||0}return J},w=g,_=(V,J)=>it(J,(ne,de)=>{const ye=nn(V,de),Ne=ye===void 0?0:parseInt(ye,10);return isNaN(Ne)?ne:ne+Ne},0);return{set:f,get:g,getOuter:w,aggregate:_,max:(V,J,ne)=>{const de=_(V,ne);return J>de?J-de:0}}},Ft=at("height",n=>{const a=n.dom;return ae(n)?a.getBoundingClientRect().height:a.offsetHeight}),Vt=n=>Ft.get(n),ro=n=>Ft.getOuter(n),ko=(n,a)=>{const f=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],g=Ft.max(n,a,f);Wn(n,"max-height",g+"px")},xs=(n,a)=>({left:n,top:a,translate:(g,w)=>xs(n+g,a+w)}),Er=xs,Uc=n=>{const a=n.getBoundingClientRect();return Er(a.left,a.top)},Fr=(n,a)=>n!==void 0?n:a!==void 0?a:0,Xr=n=>{const a=n.dom.ownerDocument,f=a.body,g=a.defaultView,w=a.documentElement;if(f===n.dom)return Er(f.offsetLeft,f.offsetTop);const _=Fr(g==null?void 0:g.pageYOffset,w.scrollTop),M=Fr(g==null?void 0:g.pageXOffset,w.scrollLeft),V=Fr(w.clientTop,f.clientTop),J=Fr(w.clientLeft,f.clientLeft);return pa(n).translate(M-J,_-V)},pa=n=>{const a=n.dom,g=a.ownerDocument.body;return g===a?Er(g.offsetLeft,g.offsetTop):ae(n)?Uc(a):Er(0,0)},Xa=at("width",n=>n.dom.offsetWidth),Wc=(n,a)=>Xa.set(n,a),qs=n=>Xa.get(n),_s=n=>Xa.getOuter(n),Jr=(n,a)=>{const f=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],g=Xa.max(n,a,f);Wn(n,"max-width",g+"px")},bi=n=>{let a=!1,f;return(...g)=>(a||(a=!0,f=n.apply(null,g)),f)},pl=(n,a,f,g)=>{const w=n.isiOS()&&/ipad/i.test(f)===!0,_=n.isiOS()&&!w,M=n.isiOS()||n.isAndroid(),V=M||g("(pointer:coarse)"),J=w||!_&&M&&g("(min-device-width:768px)"),ne=_||M&&!J,de=a.isSafari()&&n.isiOS()&&/safari/i.test(f)===!1,ye=!ne&&!J&&!de;return{isiPad:j(w),isiPhone:j(_),isTablet:j(J),isPhone:j(ne),isTouch:j(V),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:j(de),isDesktop:j(ye)}},Fu=(n,a)=>{for(let f=0;f<n.length;f++){const g=n[f];if(g.test(a))return g}},Ii=(n,a)=>{const f=Fu(n,a);if(!f)return{major:0,minor:0};const g=w=>Number(a.replace(f,"$"+w));return Ja(g(1),g(2))},ff=(n,a)=>{const f=String(a).toLowerCase();return n.length===0?Hf():Ii(n,f)},Hf=()=>Ja(0,0),Ja=(n,a)=>({major:n,minor:a}),jf={nu:Ja,detect:ff,unknown:Hf},Ym=(n,a)=>oo(a.brands,f=>{const g=f.brand.toLowerCase();return Re(n,w=>{var _;return g===((_=w.brand)===null||_===void 0?void 0:_.toLowerCase())}).map(w=>({current:w.name,version:jf.nu(parseInt(f.version,10),0)}))}),Bl=(n,a)=>{const f=String(a).toLowerCase();return Re(n,g=>g.search(f))},Ru=(n,a)=>Bl(n,a).map(f=>{const g=jf.detect(f.versionRegexes,a);return{current:f.name,version:g}}),yd=(n,a)=>Bl(n,a).map(f=>{const g=jf.detect(f.versionRegexes,a);return{current:f.name,version:g}}),Ta=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,du=n=>a=>ls(a,n),zf=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:n=>ls(n,"edge/")&&ls(n,"chrome")&&ls(n,"safari")&&ls(n,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ta],search:n=>ls(n,"chrome")&&!ls(n,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:n=>ls(n,"msie")||ls(n,"trident")},{name:"Opera",versionRegexes:[Ta,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:du("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:du("firefox")},{name:"Safari",versionRegexes:[Ta,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:n=>(ls(n,"safari")||ls(n,"mobile/"))&&ls(n,"applewebkit")}],rh=[{name:"Windows",search:du("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:n=>ls(n,"iphone")||ls(n,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:du("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:du("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:du("linux"),versionRegexes:[]},{name:"Solaris",search:du("sunos"),versionRegexes:[]},{name:"FreeBSD",search:du("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:du("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],df={browsers:j(zf),oses:j(rh)},pp="Edge",sh="Chromium",Ec="IE",Xm="Opera",gp="Firefox",Vf="Safari",ih=()=>kc({current:void 0,version:jf.unknown()}),kc=n=>{const a=n.current,f=n.version,g=w=>()=>a===w;return{current:a,version:f,isEdge:g(pp),isChromium:g(sh),isIE:g(Ec),isOpera:g(Xm),isFirefox:g(gp),isSafari:g(Vf)}},mt={unknown:ih,nu:kc,edge:j(pp),chromium:j(sh),ie:j(Ec),opera:j(Xm),firefox:j(gp),safari:j(Vf)},hf="Windows",Ac="iOS",mp="Android",vp="Linux",Jm="macOS",gs="Solaris",Ia="FreeBSD",xg="ChromeOS",qc=()=>bp({current:void 0,version:jf.unknown()}),bp=n=>{const a=n.current,f=n.version,g=w=>()=>a===w;return{current:a,version:f,isWindows:g(hf),isiOS:g(Ac),isAndroid:g(mp),isMacOS:g(Jm),isLinux:g(vp),isSolaris:g(gs),isFreeBSD:g(Ia),isChromeOS:g(xg)}},Uf={unknown:qc,nu:bp,windows:j(hf),ios:j(Ac),android:j(mp),linux:j(vp),macos:j(Jm),solaris:j(gs),freebsd:j(Ia),chromeos:j(xg)},Qm={detect:(n,a,f)=>{const g=df.browsers(),w=df.oses(),_=a.bind(J=>Ym(g,J)).orThunk(()=>Ru(g,n)).fold(mt.unknown,mt.nu),M=yd(w,n).fold(Uf.unknown,Uf.nu),V=pl(M,_,n,f);return{browser:_,os:M,deviceType:V}}},ah=n=>window.matchMedia(n).matches;let e1=bi(()=>Qm.detect(navigator.userAgent,U.from(navigator.userAgentData),ah));const Nl=()=>e1(),lh=(n,a,f,g,w,_,M)=>({target:n,x:a,y:f,stop:g,prevent:w,kill:_,raw:M}),yp=n=>{const a=dn.fromDom(Hs(n).getOr(n.target)),f=()=>n.stopPropagation(),g=()=>n.preventDefault(),w=z(g,f);return lh(a,n.clientX,n.clientY,f,g,w,n)},wd=(n,a)=>f=>{n(f)&&a(yp(f))},ga=(n,a,f,g,w)=>{const _=wd(f,g);return n.dom.addEventListener(a,_,w),{unbind:se(wp,n,a,_,w)}},ch=(n,a,f,g)=>ga(n,a,f,g,!1),Eg=(n,a,f,g)=>ga(n,a,f,g,!0),wp=(n,a,f,g)=>{n.dom.removeEventListener(a,f,g)},Wf=(n,a)=>{mi(n).each(g=>{g.dom.insertBefore(a.dom,n.dom)})},t1=(n,a)=>{hl(n).fold(()=>{mi(n).each(w=>{gl(w,a)})},g=>{Wf(g,a)})},Cp=(n,a)=>{Ue(n).fold(()=>{gl(n,a)},g=>{n.dom.insertBefore(a.dom,g.dom)})},gl=(n,a)=>{n.dom.appendChild(a.dom)},n1=(n,a,f)=>{vi(n,f).fold(()=>{gl(n,a)},g=>{Wf(g,a)})},hu=(n,a)=>{q(a,f=>{gl(n,f)})},Cd=n=>{n.dom.textContent="",q(Sr(n),a=>{pf(a)})},pf=n=>{const a=n.dom;a.parentNode!==null&&a.parentNode.removeChild(a)},Zc=n=>{const a=n!==void 0?n.dom:document,f=a.body.scrollLeft||a.documentElement.scrollLeft,g=a.body.scrollTop||a.documentElement.scrollTop;return Er(f,g)},o1=(n,a,f)=>{const w=(f!==void 0?f.dom:document).defaultView;w&&w.scrollTo(n,a)},r1=n=>{const a=n===void 0?window:n;return Nl().browser.isFirefox()?U.none():U.from(a.visualViewport)},kg=(n,a,f,g)=>({x:n,y:a,width:f,height:g,right:n+f,bottom:a+g}),pu=n=>{const a=n===void 0?window:n,f=a.document,g=Zc(dn.fromDom(f));return r1(a).fold(()=>{const w=a.document.documentElement,_=w.clientWidth,M=w.clientHeight;return kg(g.left,g.top,_,M)},w=>kg(Math.max(w.pageLeft,g.left),Math.max(w.pageTop,g.top),w.width,w.height))},ee=()=>dn.fromDom(document),we=(n,a)=>n.view(a).fold(j([]),g=>{const w=n.owner(g),_=we(n,w);return[g].concat(_)}),Me=(n,a)=>{const f=a.owner(n),g=we(a,f);return U.some(g)};var In=Object.freeze({__proto__:null,view:n=>{var a;return(n.dom===document?U.none():U.from((a=n.dom.defaultView)===null||a===void 0?void 0:a.frameElement)).map(dn.fromDom)},owner:n=>Ws(n)});const Lo=n=>{const a=ee(),f=Zc(a);return Me(n,In).fold(se(Xr,n),w=>{const _=pa(n),M=Qe(w,(V,J)=>{const ne=pa(J);return{left:V.left+ne.left,top:V.top+ne.top}},{left:0,top:0});return Er(M.left+_.left+f.left,M.top+_.top+f.top)})},_r=(n,a,f)=>({point:n,width:a,height:f}),br=(n,a,f,g)=>({x:n,y:a,width:f,height:g}),bo=(n,a,f,g)=>({x:n,y:a,width:f,height:g,right:n+f,bottom:a+g}),$r=n=>{const a=Xr(n),f=_s(n),g=ro(n);return bo(a.left,a.top,f,g)},ni=n=>{const a=Lo(n),f=_s(n),g=ro(n);return bo(a.left,a.top,f,g)},Ha=()=>pu(window),Li=n=>{const a=_=>_(n),f=j(n),g=()=>w,w={tag:!0,inner:n,fold:(_,M)=>M(n),isValue:ve,isError:he,map:_=>er.value(_(n)),mapError:g,bind:a,exists:a,forall:a,getOr:f,or:g,getOrThunk:f,orThunk:g,getOrDie:f,each:_=>{_(n)},toOptional:()=>U.some(n)};return w},Sp=n=>{const a=()=>f,f={tag:!1,inner:n,fold:(g,w)=>g(n),isValue:he,isError:ve,map:a,mapError:g=>er.error(g(n)),bind:a,exists:he,forall:ve,getOr:oe,or:oe,getOrThunk:ce,orThunk:ce,getOrDie:G(String(n)),each:P,toOptional:U.none};return f},er={value:Li,error:Sp,fromOption:(n,a)=>n.fold(()=>Sp(a),Li)};var yi;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(yi||(yi={}));const ts=(n,a,f)=>n.stype===yi.Error?a(n.serror):f(n.svalue),Qa=n=>{const a=[],f=[];return q(n,g=>{ts(g,w=>f.push(w),w=>a.push(w))}),{values:a,errors:f}},Oa=(n,a)=>n.stype===yi.Error?{stype:yi.Error,serror:a(n.serror)}:n,s1=(n,a)=>n.stype===yi.Value?{stype:yi.Value,svalue:a(n.svalue)}:n,Ag=(n,a)=>n.stype===yi.Value?a(n.svalue):n,i1=(n,a)=>n.stype===yi.Error?a(n.serror):n,gf=n=>({stype:yi.Value,svalue:n}),Tg=n=>({stype:yi.Error,serror:n}),_i={fromResult:n=>n.fold(Tg,gf),toResult:n=>ts(n,er.error,er.value),svalue:gf,partition:Qa,serror:Tg,bind:Ag,bindError:i1,map:s1,mapError:Oa,fold:ts},a1=(n,a,f,g)=>({tag:"field",key:n,newKey:a,presence:f,prop:g}),wy=(n,a)=>({tag:"custom",newKey:n,instantiator:a}),Jv=(n,a,f)=>{switch(n.tag){case"field":return a(n.key,n.newKey,n.presence,n.prop);case"custom":return f(n.newKey,n.instantiator)}},Og=(n,a)=>a,Cy=(n,a)=>S(n)&&S(a)?Zs(n,a):a,Sd=n=>(...a)=>{if(a.length===0)throw new Error("Can't merge zero objects");const f={};for(let g=0;g<a.length;g++){const w=a[g];for(const _ in w)eo(w,_)&&(f[_]=n(f[_],w[_]))}return f},Zs=Sd(Cy),lr=Sd(Og),el=()=>({tag:"required",process:{}}),mf=n=>({tag:"defaultedThunk",process:n}),qf=n=>mf(j(n)),l1=()=>({tag:"option",process:{}}),xp=n=>({tag:"mergeWithThunk",process:n}),Sy=n=>xp(j(n)),xd=(n,a)=>n.length>0?_i.svalue(Zs(a,lr.apply(void 0,n))):_i.svalue(a),Ed=n=>z(_i.serror,Oe)(n),ic={consolidateObj:(n,a)=>{const f=_i.partition(n);return f.errors.length>0?Ed(f.errors):xd(f.values,a)},consolidateArr:n=>{const a=_i.partition(n);return a.errors.length>0?Ed(a.errors):_i.svalue(a.values)}},Tc=n=>b(n)&&ft(n).length>100?" removed due to size":JSON.stringify(n,null,2),xy=n=>{const a=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):n;return me(a,f=>"Failed path: ("+f.path.join(" > ")+`)
`+f.getErrorInfo())},kd=(n,a)=>_i.serror([{path:n,getErrorInfo:a}]),Mu=(n,a,f)=>kd(n,()=>'Could not find valid *required* value for "'+a+'" in '+Tc(f)),jC=(n,a)=>kd(n,()=>'Choice schema did not contain choice key: "'+a+'"'),vf=(n,a,f)=>kd(n,()=>'The chosen schema: "'+f+'" did not exist in branches: '+Tc(a)),c1=(n,a)=>kd(n,()=>"There are unsupported fields: ["+a.join(", ")+"] specified"),u1=(n,a)=>kd(n,j(a)),yn=n=>{const a=(g,w)=>_i.bindError(n(w),_=>u1(g,_)),f=j("val");return{extract:a,toString:f}},Qv=yn(_i.svalue),e0=(n,a,f,g)=>pn(a,f).fold(()=>Mu(n,f,a),g),Iu=(n,a,f,g)=>{const w=pn(n,a).getOrThunk(()=>f(n));return g(w)},Ep=(n,a,f)=>f(pn(n,a)),t0=(n,a,f,g)=>{const w=pn(n,a).map(_=>_===!0?f(n):_);return g(w)},$i=(n,a,f,g,w)=>{const _=V=>w.extract(a.concat([g]),V),M=V=>V.fold(()=>_i.svalue(U.none()),J=>{const ne=w.extract(a.concat([g]),J);return _i.map(ne,U.some)});switch(n.tag){case"required":return e0(a,f,g,_);case"defaultedThunk":return Iu(f,g,n.process,_);case"option":return Ep(f,g,M);case"defaultedOptionThunk":return t0(f,g,n.process,M);case"mergeWithThunk":return Iu(f,g,j({}),V=>{const J=Zs(n.process(f),V);return _(J)})}},zC=(n,a,f)=>{const g={},w=[];for(const _ of f)Jv(_,(M,V,J,ne)=>{const de=$i(J,n,a,M,ne);_i.fold(de,ye=>{w.push(...ye)},ye=>{g[V]=ye})},(M,V)=>{g[M]=V(a)});return w.length>0?_i.serror(w):_i.svalue(g)},gu=n=>({extract:(g,w)=>n().extract(g,w),toString:()=>n().toString()}),Ei=n=>ft(Ot(n,N)),ac=n=>{const a=Oo(n),f=Qe(n,(w,_)=>Jv(_,M=>Zs(w,{[M]:!0}),j(w)),{});return{extract:(w,_)=>{const M=E(_)?[]:Ei(_),V=tt(M,J=>!yr(f,J));return V.length===0?a.extract(w,_):c1(w,V)},toString:a.toString}},Oo=n=>({extract:(g,w)=>zC(g,w,n),toString:()=>{const g=me(n,w=>Jv(w,(_,M,V,J)=>_+" -> "+J.toString(),(_,M)=>"state("+_+")"));return`obj{
`+g.join(`
`)+"}"}}),ia=n=>({extract:(g,w)=>{const _=me(w,(M,V)=>n.extract(g.concat(["["+V+"]"]),M));return ic.consolidateArr(_)},toString:()=>"array("+n.toString()+")"}),_g=(n,a)=>{const f=a!==void 0?a:oe;return{extract:(_,M)=>{const V=[];for(const J of n){const ne=J.extract(_,M);if(ne.stype===yi.Value)return{stype:yi.Value,svalue:f(ne.svalue)};V.push(ne)}return ic.consolidateArr(V)},toString:()=>"oneOf("+me(n,_=>_.toString()).join(", ")+")"}},Ey=(n,a)=>{const f=(_,M)=>ia(yn(n)).extract(_,M);return{extract:(_,M)=>{const V=ft(M),J=f(_,V);return _i.bind(J,ne=>{const de=me(ne,ye=>a1(ye,ye,el(),a));return Oo(de).extract(_,M)})},toString:()=>"setOf("+a.toString()+")"}},n0=(n,a)=>{const f=bi(a);return{extract:(_,M)=>f().extract(_,M),toString:()=>f().toString()}},$g=z(ia,Oo),Gc=j(Qv),f1=(n,a)=>yn(f=>{const g=typeof f;return n(f)?_i.svalue(f):_i.serror(`Expected type: ${a} but got: ${g}`)}),Dg=f1(D,"number"),Di=f1(v,"string"),Lu=f1(E,"boolean"),d1=f1($,"function"),kp=n=>{if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(a=>kp(n[a]));default:return!1}},VC=yn(n=>kp(n)?_i.svalue(n):_i.serror("Expected value to be acceptable for sending via postMessage")),Bg=(n,a,f,g)=>pn(f,g).fold(()=>vf(n,f,g),_=>_.extract(n.concat(["branch: "+g]),a)),Ad=(n,a)=>({extract:(w,_)=>pn(_,n).fold(()=>jC(w,n),V=>Bg(w,_,a,V)),toString:()=>"chooseOn("+n+"). Possible values: "+ft(a)}),uh=()=>ia(Qv),Ap=n=>yn(a=>n(a).fold(_i.serror,_i.svalue)),ky=(n,a)=>Ey(f=>_i.fromResult(n(f)),a),fh=(n,a,f)=>{const g=a.extract([n],f);return _i.mapError(g,w=>({input:f,errors:w}))},jr=(n,a,f)=>_i.toResult(fh(n,a,f)),bf=n=>n.fold(a=>{throw new Error(Td(a))},oe),Pl=(n,a,f)=>bf(jr(n,a,f)),Td=n=>`Errors: 
`+xy(n.errors).join(`
`)+`

Input object: `+Tc(n.input),Kc=(n,a)=>Ad(n,kn(a,Oo)),Ay=(n,a)=>n0(n,a),ja=a1,ml=wy,o0=n=>Ap(a=>fe(n,a)?er.value(a):er.error(`Unsupported value: "${a}", choose one of "${n.join(", ")}".`)),ln=n=>ja(n,n,el(),Gc()),_a=(n,a)=>ja(n,n,el(),a),Hu=n=>_a(n,Dg),Zi=n=>_a(n,Di),Tp=(n,a)=>ja(n,n,el(),o0(a)),dh=n=>_a(n,Lu),yf=n=>_a(n,d1),r0=(n,a)=>ja(n,n,l1(),yn(f=>_i.serror("The field: "+n+" is forbidden. "+a))),Oc=(n,a)=>ja(n,n,el(),Oo(a)),h1=(n,a)=>ja(n,n,el(),$g(a)),Fl=(n,a)=>ja(n,n,el(),ia(a)),Kr=n=>ja(n,n,l1(),Gc()),Zf=(n,a)=>ja(n,n,l1(),a),hh=n=>Zf(n,Dg),Rl=n=>Zf(n,Di),ph=(n,a)=>Zf(n,o0(a)),Gi=n=>Zf(n,d1),Op=(n,a)=>Zf(n,ia(a)),lc=(n,a)=>Zf(n,Oo(a)),p1=(n,a)=>Zf(n,ac(a)),$t=(n,a)=>ja(n,n,qf(a),Gc()),cc=(n,a,f)=>ja(n,n,qf(a),f),s0=(n,a)=>cc(n,a,Dg),_c=(n,a)=>cc(n,a,Di),Gf=(n,a,f)=>cc(n,a,o0(f)),$c=(n,a)=>cc(n,a,Lu),ma=(n,a)=>cc(n,a,d1),W=(n,a)=>cc(n,a,VC),X=(n,a,f)=>cc(n,a,ia(f)),_e=(n,a,f)=>cc(n,a,Oo(f)),$e=n=>{let a=n;return{get:()=>a,set:w=>{a=w}}},It={generate:n=>{if(!x(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");const a=[],f={};return q(n,(g,w)=>{const _=ft(g);if(_.length!==1)throw new Error("one and only one name per case");const M=_[0],V=g[M];if(f[M]!==void 0)throw new Error("duplicate key detected:"+M);if(M==="cata")throw new Error("cannot have a case named cata (sorry)");if(!x(V))throw new Error("case arguments must be an array");a.push(M),f[M]=(...J)=>{const ne=J.length;if(ne!==V.length)throw new Error("Wrong number of arguments to case "+M+". Expected "+V.length+" ("+V+"), got "+ne);return{fold:(...ye)=>{if(ye.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+ye.length);return ye[w].apply(null,J)},match:ye=>{const Ne=ft(ye);if(a.length!==Ne.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+`
Actual: `+Ne.join(","));if(!ie(a,rt=>fe(Ne,rt)))throw new Error("Not all branches were specified when using match. Specified: "+Ne.join(", ")+`
Required: `+a.join(", "));return ye[M].apply(null,J)},log:ye=>{console.log(ye,{constructors:a,constructor:M,params:J})}}}}),f}};It.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Cn=n=>{const a=[],f=[];return q(n,g=>{g.fold(w=>{a.push(w)},w=>{f.push(w)})}),{errors:a,values:f}},Gn=(n,a)=>{const f={};return sn(n,(g,w)=>{fe(a,w)||(f[w]=g)}),f},Zo=(n,a)=>({[n]:a}),ur=n=>{const a={};return q(n,f=>{a[f.key]=f.value}),a},ns=(n,a)=>Gn(n,a),ds=(n,a)=>Zo(n,a),Ps=n=>ur(n),Ml=(n,a)=>n.length===0?er.value(a):er.value(Zs(a,lr.apply(void 0,n))),Yc=n=>er.error(Oe(n)),Kf=(n,a)=>{const f=Cn(n);return f.errors.length>0?Yc(f.errors):Ml(f.values,a)},ju=n=>$(n)?n:he,gh=(n,a,f)=>{let g=n.dom;const w=ju(f);for(;g.parentNode;){g=g.parentNode;const _=dn.fromDom(g),M=a(_);if(M.isSome())return M;if(w(_))break}return U.none()},Od=(n,a,f)=>{const g=a(n),w=ju(f);return g.orThunk(()=>w(n)?U.none():gh(n,a,w))},wf=(n,a)=>Cr(n.element,a.event.target),mh={can:ve,abort:he,run:P},Cf=n=>{if(!yr(n,"can")&&!yr(n,"abort")&&!yr(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return{...mh,...n}},g1=(n,a)=>(...f)=>it(n,(g,w)=>g&&a(w).apply(void 0,f),!0),m1=(n,a)=>(...f)=>it(n,(g,w)=>g||a(w).apply(void 0,f),!1),UC=n=>$(n)?{can:ve,abort:he,run:n}:n,WC=n=>{const a=g1(n,w=>w.can),f=m1(n,w=>w.abort);return{can:a,abort:f,run:(...w)=>{q(n,_=>{_.run.apply(void 0,w)})}}},Uo=j,As=Uo("touchstart"),za=Uo("touchmove"),wi=Uo("touchend"),Ng=Uo("touchcancel"),tl=Uo("mousedown"),Xc=Uo("mousemove"),Yf=Uo("mouseout"),Ty=Uo("mouseup"),_d=Uo("mouseover"),_p=Uo("focusin"),Pg=Uo("focusout"),i0=Uo("keydown"),t3=Uo("keyup"),Fg=Uo("input"),v1=Uo("change"),a0=Uo("click"),n3=Uo("transitioncancel"),l0=Uo("transitionend"),Oy=Uo("transitionstart"),o3=Uo("selectstart"),Ki=n=>j("alloy."+n),g_={tap:Ki("tap")},$p=Ki("focus"),va=Ki("blur.post"),qC=Ki("paste.post"),Xf=Ki("receive"),mu=Ki("execute"),vh=Ki("focus.item"),c0=g_.tap,m_=Ki("longpress"),_y=Ki("sandbox.close"),u0=Ki("typeahead.cancel"),$y=Ki("system.init"),Dy=Ki("system.touchmove"),By=Ki("system.touchend"),ZC=Ki("system.scroll"),f0=Ki("system.resize"),bh=Ki("system.attached"),Sf=Ki("system.detached"),Dp=Ki("system.dismissRequested"),d0=Ki("system.repositionRequested"),h0=Ki("focusmanager.shifted"),p0=Ki("slotcontainer.visibility"),Ny=Ki("change.tab"),r3=Ki("dismiss.tab"),GC=Ki("highlight"),b1=Ki("dehighlight"),ms=(n,a)=>{yh(n,n.element,a,{})},Ho=(n,a,f)=>{yh(n,n.element,a,f)},vu=n=>{ms(n,mu())},y1=(n,a,f)=>{yh(n,a,f,{})},yh=(n,a,f,g)=>{const w={target:a,...g};n.getSystem().triggerEvent(f,a,w)},v_=(n,a,f,g)=>{const w={...g,target:a};n.getSystem().triggerEvent(f,a,w)},Rg=(n,a,f,g)=>{n.getSystem().triggerEvent(f,a,g.event)},Dr=n=>Ps(n),Py=(n,a)=>({key:n,value:Cf({abort:a})}),Fy=(n,a)=>({key:n,value:Cf({can:a})}),s3=n=>({key:n,value:Cf({run:(a,f)=>{f.event.prevent()}})}),on=(n,a)=>({key:n,value:Cf({run:a})}),$d=(n,a,f)=>({key:n,value:Cf({run:(g,w)=>{a.apply(void 0,[g,w].concat(f))}})}),g0=n=>a=>on(n,a),Ry=n=>a=>({key:n,value:Cf({run:(f,g)=>{wf(f,g)&&a(f,g)}})}),KC=(n,a)=>on(n,(f,g)=>{f.getSystem().getByUid(a).each(w=>{Rg(w,w.element,n,g)})}),zu=(n,a,f)=>{const g=a.partUids[f];return KC(n,g)},w1=(n,a)=>on(n,(f,g)=>{const w=g.event,_=f.getSystem().getByDom(w.target).getOrThunk(()=>Od(w.target,V=>f.getSystem().getByDom(V).toOptional(),he).getOr(f));a(f,_,g)}),Mg=n=>on(n,(a,f)=>{f.cut()}),YC=n=>on(n,(a,f)=>{f.stop()}),Jc=(n,a)=>Ry(n)(a),Yi=Ry(bh()),Jf=Ry(Sf()),XC=Ry($y()),wh=g0(mu()),b_=(n,a)=>{const g=(a||document).createElement("div");return g.innerHTML=n,Sr(dn.fromDom(g))},Ch=n=>n.dom.innerHTML,Dd=(n,a)=>{const g=Ws(n).dom,w=dn.fromDom(g.createDocumentFragment()),_=b_(a,g);hu(w,_),Cd(n),gl(n,w)},i3=n=>{const a=dn.fromTag("div"),f=dn.fromDom(n.dom.cloneNode(!0));return gl(a,f),Ch(a)},C1=(n,a)=>dn.fromDom(n.dom.cloneNode(a)),y_=n=>C1(n,!1),Ig=n=>{if(Gt(n))return"#shadow-root";{const a=y_(n);return i3(a)}},Bd=n=>Ig(n),w_=(n,a,f)=>Cr(a,n.element)&&!Cr(a,f),S1=Dr([Fy($p(),(n,a)=>{const f=a.event,g=f.originator,w=f.target;return w_(n,g,w)?(console.warn($p()+` did not get interpreted by the desired target. 
Originator: `+Bd(g)+`
Target: `+Bd(w)+`
Check the `+$p()+" event handlers"),!1):!0})]);var a3=Object.freeze({__proto__:null,events:S1});let Lg=0;const fo=n=>{const f=new Date().getTime(),g=Math.floor(Math.random()*1e9);return Lg++,n+"_"+g+Lg+String(f)},x1=j("alloy-id-"),JC=j("data-alloy-id"),QC=x1(),m0=JC(),My=(n,a)=>{const f=fo(QC+n);return $s(a,f),f},$s=(n,a)=>{Object.defineProperty(n.dom,m0,{value:a,writable:!0})},v0=n=>{const a=Or(n)?n.dom[m0]:null;return U.from(a)},Hg=n=>fo(n),eS=oe,jg=n=>{const a=w=>`The component must be in a context to execute: ${w}`+(n?`
`+Bd(n().element)+" is not in context.":""),f=w=>()=>{throw new Error(a(w))},g=w=>()=>{console.warn(a(w))};return{debugInfo:j("fake"),triggerEvent:g("triggerEvent"),triggerFocus:g("triggerFocus"),triggerEscape:g("triggerEscape"),broadcast:g("broadcast"),broadcastOn:g("broadcastOn"),broadcastEvent:g("broadcastEvent"),build:f("build"),buildOrPatch:f("buildOrPatch"),addToWorld:f("addToWorld"),removeFromWorld:f("removeFromWorld"),addToGui:f("addToGui"),removeFromGui:f("removeFromGui"),getByUid:f("getByUid"),getByDom:f("getByDom"),isConnected:he}},l3=jg(),Qf=(n,a,f)=>{const g=f.toString(),w=g.indexOf(")")+1,_=g.indexOf("("),M=g.substring(_+1,w-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:a,parameters:aa(M.slice(0,1).concat(M.slice(3)))}),n},aa=n=>me(n,a=>dt(a,"/*")?a.substring(0,a.length-2):a),Iy=(n,a)=>{const f=n.toString(),g=f.indexOf(")")+1,w=f.indexOf("("),_=f.substring(w+1,g-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:a,parameters:aa(_)}),n},c3=(n,a)=>{const f=a.toString(),g=f.indexOf(")")+1,w=f.indexOf("("),_=f.substring(w+1,g-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:aa(_.slice(1))}),n},Sh=fo("alloy-premade"),tS=n=>(Object.defineProperty(n.element.dom,Sh,{value:n.uid,writable:!0}),ds(Sh,n)),C_=n=>eo(n.dom,Sh),b0=n=>pn(n,Sh),Ly=n=>c3((a,...f)=>n(a.getApis(),a,...f),n),ed={init:()=>bu({readState:j("No State required")})},bu=n=>n,Hy=(n,a)=>{const f=me(a,w=>lc(w.name(),[ln("config"),$t("state",ed)])),g=jr("component.behaviours",Oo(f),n.behaviours).fold(w=>{throw new Error(Td(w)+`
Complete spec:
`+JSON.stringify(n,null,2))},oe);return{list:a,data:kn(g,w=>{const _=w.map(M=>({config:M.config,state:M.state.init(M.config)}));return j(_)})}},S_=n=>n.list,NF=n=>n.data,xf=(n,a)=>{const f={};return sn(n,(g,w)=>{sn(g,(_,M)=>{const V=pn(f,M).getOr([]);f[M]=V.concat([a(w,_)])})}),f},Bi=n=>({classes:k(n.classes)?[]:n.classes,attributes:k(n.attributes)?{}:n.attributes,styles:k(n.styles)?{}:n.styles}),x_=(n,a)=>({...n,attributes:{...n.attributes,...a.attributes},styles:{...n.styles,...a.styles},classes:n.classes.concat(a.classes)}),E_=(n,a,f,g)=>{const w={...a};q(f,de=>{w[de.name()]=de.exhibit(n,g)});const _=xf(w,(de,ye)=>({name:de,modification:ye})),M=de=>Qe(de,(ye,Ne)=>({...Ne.modification,...ye}),{}),V=Qe(_.classes,(de,ye)=>ye.modification.concat(de),[]),J=M(_.attributes),ne=M(_.styles);return Bi({classes:V,attributes:J,styles:ne})},xh=(n,a,f,g)=>{try{const w=qt(f,(_,M)=>{const V=_[a],J=M[a],ne=g.indexOf(V),de=g.indexOf(J);if(ne===-1)throw new Error("The ordering for "+n+" does not have an entry for "+V+`.
Order specified: `+JSON.stringify(g,null,2));if(de===-1)throw new Error("The ordering for "+n+" does not have an entry for "+J+`.
Order specified: `+JSON.stringify(g,null,2));return ne<de?-1:de<ne?1:0});return er.value(w)}catch(w){return er.error([w])}},jy=(n,a)=>({handler:n,purpose:a}),nS=(n,a)=>({cHandler:n,purpose:a}),Eh=(n,a)=>nS(se.apply(void 0,[n.handler].concat(a)),n.purpose),kh=n=>n.cHandler,Ah=(n,a)=>({name:n,handler:a}),zg=(n,a)=>{const f={};return q(n,g=>{f[g.name()]=g.handlers(a)}),f},Vg=(n,a,f)=>{const g={...f,...zg(a,n)};return xf(g,Ah)},ba=(n,a,f,g)=>{const w=Vg(n,f,g);return f3(w,a)},u3=n=>{const a=UC(n);return(f,g,...w)=>{const _=[f,g].concat(w);a.abort.apply(void 0,_)?g.stop():a.can.apply(void 0,_)&&a.run.apply(void 0,_)}},zy=(n,a)=>er.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(me(a,f=>f.name),null,2)]),k_=(n,a,f)=>{const g=a[f];return g?xh("Event: "+f,"name",n,g).map(w=>{const _=me(w,M=>M.handler);return WC(_)}):zy(f,n)},f3=(n,a)=>{const f=Ct(n,(g,w)=>(g.length===1?er.value(g[0].handler):k_(g,a,w)).map(M=>{const V=u3(M),J=g.length>1?tt(a[w],ne=>ue(g,de=>de.name===ne)).join(" > "):g[0].name;return ds(w,jy(V,J))}));return Kf(f,{})},Dc="alloy.base.behaviour",Nd=Oo([ja("dom","dom",el(),Oo([ln("tag"),$t("styles",{}),$t("classes",[]),$t("attributes",{}),Kr("value"),Kr("innerHtml")])),ln("components"),ln("uid"),$t("events",{}),$t("apis",{}),ja("eventOrder","eventOrder",Sy({[mu()]:["disabling",Dc,"toggling","typeaheadevents"],[$p()]:[Dc,"focusing","keying"],[$y()]:[Dc,"disabling","toggling","representing"],[Fg()]:[Dc,"representing","streaming","invalidating"],[Sf()]:[Dc,"representing","item-events","tooltipping"],[tl()]:["focusing",Dc,"item-type-events"],[As()]:["focusing",Dc,"item-type-events"],[_d()]:["item-type-events","tooltipping"],[Xf()]:["receiving","reflecting","tooltipping"]}),Gc()),Kr("domModification")]),A_=n=>jr("custom.definition",Nd,n),d3=n=>({...n.dom,uid:n.uid,domChildren:me(n.components,a=>a.element)}),T_=n=>n.domModification.fold(()=>Bi({}),Bi),h3=n=>n.events,Vy=(n,a)=>{const f=Ro(n,a);return f===void 0||f===""?[]:f.split(" ")},p3=(n,a,f)=>{const w=Vy(n,a).concat([f]);return Fn(n,a,w.join(" ")),!0},O_=(n,a,f)=>{const g=tt(Vy(n,a),w=>w!==f);return g.length>0?Fn(n,a,g.join(" ")):et(n,a),!1},E1=n=>n.dom.classList!==void 0,Ug=n=>Vy(n,"class"),oS=(n,a)=>p3(n,"class",a),g3=(n,a)=>O_(n,"class",a),nl=(n,a)=>{E1(n)?n.dom.classList.add(a):oS(n,a)},y0=n=>{(E1(n)?n.dom.classList:Ug(n)).length===0&&et(n,"class")},fi=(n,a)=>{E1(n)?n.dom.classList.remove(a):g3(n,a),y0(n)},vl=(n,a)=>E1(n)&&n.dom.classList.contains(a),yu=(n,a)=>{q(a,f=>{nl(n,f)})},wu=(n,a)=>{q(a,f=>{fi(n,f)})},__=(n,a)=>ie(a,f=>vl(n,f)),m3=n=>{const a=n.dom.classList,f=new Array(a.length);for(let g=0;g<a.length;g++){const w=a.item(g);w!==null&&(f[g]=w)}return f},w0=n=>E1(n)?m3(n):Ug(n),Yl=n=>n.dom.value,Wg=(n,a)=>{if(a===void 0)throw new Error("Value.set was undefined");n.dom.value=a},$_=(n,a,f)=>vi(n,a).map(w=>{if(f.exists(M=>!Cr(M,w))){const M=f.map(Qo).getOr("span"),V=dn.fromTag(M);return Wf(w,V),V}else return w}),rS=(n,a,f)=>{f.fold(()=>gl(n,a),g=>{Cr(g,a)||(Wf(g,a),pf(g))})},sS=(n,a,f)=>{const g=me(a,f),w=Sr(n);return q(w.slice(g.length),pf),g},v3=(n,a,f,g)=>{const w=vi(n,a),_=g(f,w),M=$_(n,a,w);return rS(n,_.element,M),_},C0=(n,a,f)=>sS(n,a,(g,w)=>v3(n,w,g,f)),Th=(n,a)=>sS(n,a,(f,g)=>{const w=vi(n,g);return rS(n,f,w),f}),b3=(n,a)=>{const f=ft(n),g=ft(a),w=ot(g,f),_=mr(n,(M,V)=>!eo(a,V)||M!==a[V]).t;return{toRemove:w,toSet:_}},y3=(n,a)=>{const{class:f,style:g,...w}=Nt(a),{toSet:_,toRemove:M}=b3(n.attributes,w),V=()=>{q(M,Zn=>et(a,Zn)),Hn(a,_)},J=ei(a),{toSet:ne,toRemove:de}=b3(n.styles,J),ye=()=>{q(de,Zn=>rr(a,Zn)),Wr(a,ne)},Ne=w0(a),Pe=ot(Ne,n.classes),rt=ot(n.classes,Ne),bt=()=>{yu(a,rt),wu(a,Pe)},Mt=Zn=>{Dd(a,Zn)},kt=()=>{const Zn=n.domChildren;Th(a,Zn)},Lt=()=>{const Zn=a,Xt=n.value.getOrUndefined();Xt!==Yl(Zn)&&Wg(Zn,Xt!=null?Xt:"")};return V(),bt(),ye(),n.innerHtml.fold(kt,Mt),Lt(),a},w3=n=>{const a=dn.fromTag(n.tag);Hn(a,n.attributes),yu(a,n.classes),Wr(a,n.styles),n.innerHtml.each(g=>Dd(a,g));const f=n.domChildren;return hu(a,f),n.value.each(g=>{Wg(a,g)}),a},C3=(n,a)=>{try{const f=y3(n,a);return U.some(f)}catch{return U.none()}},D_=n=>n.innerHtml.isSome()&&n.domChildren.length>0,S3=(n,a)=>{const f=w=>Qo(w)===n.tag&&!D_(n)&&!C_(w),g=a.filter(f).bind(w=>C3(n,w)).getOrThunk(()=>w3(n));return $s(g,n.uid),g},B_=n=>{const a=pn(n,"behaviours").getOr({});return be(ft(a),f=>{const g=a[f];return N(g)?[g.me]:[]})},x3=(n,a)=>Hy(n,a),E3=n=>{const a=B_(n);return x3(n,a)},S0=(n,a,f)=>{const g=d3(n),w=T_(n),_={"alloy.base.modification":w},M=a.length>0?E_(f,_,a,g):w;return x_(g,M)},N_=(n,a,f)=>{const g={"alloy.base.behaviour":h3(n)};return ba(f,n.eventOrder,a,g).getOrDie()},k1=(n,a)=>{const f=()=>Zn,g=$e(l3),w=bf(A_(n)),_=E3(n),M=S_(_),V=NF(_),J=S0(w,M,V),ne=S3(J,a),de=N_(w,M,V),ye=$e(w.components),Ne=Xt=>{g.set(Xt)},Pe=()=>{g.set(jg(f))},rt=()=>{const Xt=Sr(ne),Qn=be(Xt,ho=>g.get().getByDom(ho).fold(()=>[],zt));ye.set(Qn)},bt=Xt=>{const Qn=V;return($(Qn[Xt.name()])?Qn[Xt.name()]:()=>{throw new Error("Could not find "+Xt.name()+" in "+JSON.stringify(n,null,2))})()},Mt=Xt=>$(V[Xt.name()]),kt=()=>w.apis,Lt=Xt=>V[Xt]().map(Qn=>Qn.state.readState()).getOr("not enabled"),Zn={uid:n.uid,getSystem:g.get,config:bt,hasConfigured:Mt,spec:n,readState:Lt,getApis:kt,connect:Ne,disconnect:Pe,element:ne,syncComponents:rt,components:ye.get,events:de};return Zn},iS=(n,a)=>{const f=pn(n,"components").getOr([]);return a.fold(()=>me(f,uc),g=>me(f,(w,_)=>T1(w,vi(g,_))))},k3=(n,a)=>{const{events:f,...g}=eS(n),w=iS(g,a),_={...g,events:{...a3,...f},components:w};return er.value(k1(_,a))},Xi=n=>{const a=dn.fromText(n);return A1({element:a})},A1=n=>{const a=Pl("external.component",ac([ln("element"),Kr("uid")]),n),f=$e(jg()),g=V=>{f.set(V)},w=()=>{f.set(jg(()=>M))},_=a.uid.getOrThunk(()=>Hg("external"));$s(a.element,_);const M={uid:_,getSystem:f.get,config:U.none,hasConfigured:he,connect:g,disconnect:w,getApis:()=>({}),element:a.element,spec:n,readState:j("No state"),syncComponents:P,components:j([]),events:{}};return tS(M)},Uy=Hg,A3=n=>eo(n,"uid"),T1=(n,a)=>b0(n).getOrThunk(()=>{const f=A3(n)?n:{uid:Uy(""),...n};return k3(f,a).getOrDie()}),uc=n=>T1(n,U.none()),Vu=tS;var T3=(n,a,f,g,w)=>n(f,g)?U.some(f):$(w)&&w(f)?U.none():a(f,g,w);const Qc=(n,a,f)=>{let g=n.dom;const w=$(f)?f:he;for(;g.parentNode;){g=g.parentNode;const _=dn.fromDom(g);if(a(_))return U.some(_);if(w(_))break}return U.none()},qg=(n,a,f)=>T3((w,_)=>_(w),Qc,n,a,f),O1=(n,a)=>{const f=w=>a(dn.fromDom(w));return Re(n.dom.childNodes,f).map(dn.fromDom)},Yt=(n,a)=>{const f=g=>{for(let w=0;w<g.childNodes.length;w++){const _=dn.fromDom(g.childNodes[w]);if(a(_))return U.some(_);const M=f(g.childNodes[w]);if(M.isSome())return M}return U.none()};return f(n.dom)},x0=(n,a,f)=>qg(n,a,f).isSome(),E0=(n,a,f)=>Qc(n,g=>da(g,a),f),P_=(n,a)=>O1(n,f=>da(f,a)),$a=(n,a)=>ka(a,n),ol=(n,a,f)=>T3((w,_)=>da(w,_),E0,n,a,f),_1="aria-controls",O3=n=>qg(n,f=>{if(!Or(f))return!1;const g=Ro(f,"id");return g!==void 0&&g.indexOf(_1)>-1}).bind(f=>{const g=Ro(f,"id"),w=or(f);return $a(w,`[${_1}="${g}"]`)}),aS=()=>{const n=fo(_1);return{id:n,link:g=>{Fn(g,_1,n)},unlink:g=>{et(g,_1)}}},k0=(n,a)=>O3(a).exists(f=>Bp(n,f)),Bp=(n,a)=>x0(a,f=>Cr(f,n.element),he)||k0(n,a),lS="unknown";var $1;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})($1||($1={}));const Wy=$e({}),D1=(n,a)=>{const f=[],g=new Date().getTime();return{logEventCut:(w,_,M)=>{f.push({outcome:"cut",target:_,purpose:M})},logEventStopped:(w,_,M)=>{f.push({outcome:"stopped",target:_,purpose:M})},logNoParent:(w,_,M)=>{f.push({outcome:"no-parent",target:_,purpose:M})},logEventNoHandlers:(w,_)=>{f.push({outcome:"no-handlers-left",target:_})},logEventResponse:(w,_,M)=>{f.push({outcome:"response",purpose:M,target:_})},write:()=>{const w=new Date().getTime();fe(["mousemove","mouseover","mouseout",$y()],n)||console.log(n,{event:n,time:w-g,target:a.dom,sequence:me(f,_=>fe(["cut","stopped","response"],_.outcome)?"{"+_.purpose+"} "+_.outcome+" at ("+Bd(_.target)+")":_.outcome)})}}},cS=(n,a,f)=>{switch(pn(Wy.get(),n).orThunk(()=>{const w=ft(Wy.get());return oo(w,_=>n.indexOf(_)>-1?U.some(Wy.get()[_]):U.none())}).getOr($1.NORMAL)){case $1.NORMAL:return f(F_());case $1.LOGGING:{const w=D1(n,a),_=f(w);return w.write(),_}case $1.STOP:return!0}},_3=["alloy/data/Fields","alloy/debugging/Debugging"],$3=()=>{const n=new Error;if(n.stack!==void 0){const a=n.stack.split(`
`);return Re(a,f=>f.indexOf("alloy")>0&&!ue(_3,g=>f.indexOf(g)>-1)).getOr(lS)}else return lS},D3={logEventCut:P,logEventStopped:P,logNoParent:P,logEventNoHandlers:P,logEventResponse:P,write:P},B1=(n,a,f)=>cS(n,a,f),F_=j(D3),qy=j([ln("menu"),ln("selectedMenu")]),B3=j([ln("item"),ln("selectedItem")]);j(Oo(B3().concat(qy())));const fc=j(Oo(B3())),N3=Oc("initSize",[ln("numColumns"),ln("numRows")]),P3=()=>_a("markers",fc()),A0=()=>Oc("markers",[ln("backgroundMenu")].concat(qy()).concat(B3())),Zg=n=>Oc("markers",me(n,ln)),Gg=(n,a,f)=>($3(),ja(a,a,f,Ap(g=>er.value((...w)=>g.apply(void 0,w))))),qr=n=>Gg("onHandler",n,qf(P)),eu=n=>Gg("onKeyboardHandler",n,qf(U.none)),Np=n=>Gg("onHandler",n,el()),Zy=n=>Gg("onKeyboardHandler",n,el()),ti=(n,a)=>ml(n,j(a)),T0=n=>ml(n,oe),N1=j(N3),rl=(n,a,f,g,w,_,M,V=!1)=>({x:n,y:a,bubble:f,direction:g,placement:w,restriction:_,label:`${M}-${w}`,alwaysFit:V}),Kg=It.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),di=(n,a,f,g,w,_,M,V,J)=>n.fold(a,f,g,w,_,M,V,J),uS=(n,a,f,g)=>n.fold(a,a,g,g,a,g,f,f),Pd=(n,a,f,g)=>n.fold(a,g,a,g,f,f,a,g),Gy=Kg.southeast,fS=Kg.southwest,dS=Kg.northeast,hS=Kg.northwest,pS=Kg.south,gS=Kg.north,F3=Kg.east,O0=Kg.west,P1=(n,a,f,g)=>{const w=n+a;return w>g?f:w<f?g:w},tu=(n,a,f)=>Math.min(Math.max(n,a),f),R_=(n,a)=>{switch(a){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},bl=(n,a)=>Xe(["left","right","top","bottom"],f=>pn(a,f).map(g=>R_(n,g))),M_=(n,a,f)=>{const g=(J,ne)=>a[J].map(de=>{const ye=J==="top"||J==="bottom",Ne=ye?f.top:f.left,rt=(J==="left"||J==="top"?Math.max:Math.min)(de,ne)+Ne;return ye?tu(rt,n.y,n.bottom):tu(rt,n.x,n.right)}).getOr(ne),w=g("left",n.x),_=g("top",n.y),M=g("right",n.right),V=g("bottom",n.bottom);return bo(w,_,M-w,V-_)},Oh="layout",io=n=>n.x,Ky=(n,a)=>n.x+n.width/2-a.width/2,F1=(n,a)=>n.x+n.width-a.width,mS=(n,a)=>n.y-a.height,vS=n=>n.y+n.height,R3=(n,a)=>n.y+n.height/2-a.height/2,M3=n=>n.x+n.width,I_=(n,a)=>n.x-a.width,Il=(n,a,f)=>rl(io(n),vS(n),f.southeast(),Gy(),"southeast",bl(n,{left:1,top:3}),Oh),yl=(n,a,f)=>rl(F1(n,a),vS(n),f.southwest(),fS(),"southwest",bl(n,{right:0,top:3}),Oh),Xl=(n,a,f)=>rl(io(n),mS(n,a),f.northeast(),dS(),"northeast",bl(n,{left:1,bottom:2}),Oh),hi=(n,a,f)=>rl(F1(n,a),mS(n,a),f.northwest(),hS(),"northwest",bl(n,{right:0,bottom:2}),Oh),Ll=(n,a,f)=>rl(Ky(n,a),mS(n,a),f.north(),gS(),"north",bl(n,{bottom:2}),Oh),sl=(n,a,f)=>rl(Ky(n,a),vS(n),f.south(),pS(),"south",bl(n,{top:3}),Oh),Yy=(n,a,f)=>rl(M3(n),R3(n,a),f.east(),F3(),"east",bl(n,{left:0}),Oh),Xy=(n,a,f)=>rl(I_(n,a),R3(n,a),f.west(),O0(),"west",bl(n,{right:1}),Oh),I3=()=>[Il,yl,Xl,hi,sl,Ll,Yy,Xy],bS=()=>[yl,Il,hi,Xl,sl,Ll,Yy,Xy],_0=()=>[Xl,hi,Il,yl,Ll,sl],R1=()=>[hi,Xl,yl,Il,Ll,sl],yS=()=>[Il,yl,Xl,hi,sl,Ll],Jy=()=>[yl,Il,hi,Xl,sl,Ll],L_=(n,a)=>a.universal?n:tt(n,f=>fe(a.channels,f));var H_=Object.freeze({__proto__:null,events:n=>Dr([on(Xf(),(a,f)=>{const g=n.channels,w=ft(g),_=f,M=L_(w,_);q(M,V=>{const J=g[V],ne=J.schema,de=Pl("channel["+V+`] data
Receiver: `+Bd(a.element),ne,_.data);J.onReceive(a,de)})})])}),j_=[_a("channels",ky(er.value,ac([Np("onReceive"),$t("schema",Gc())])))];const z_=(n,a,f)=>wh(g=>{f(g,n,a)}),wS=(n,a,f)=>XC((g,w)=>{f(g,n,a)}),CS=(n,a,f,g,w,_)=>{const M=ac(n),V=lc(a,[p1("config",n)]);return j3(M,V,a,f,g,w,_)},L3=(n,a,f,g,w,_)=>{const M=n,V=lc(a,[Zf("config",n)]);return j3(M,V,a,f,g,w,_)},V_=(n,a,f)=>Qf((w,..._)=>{const M=[w].concat(_);return w.config({name:j(n)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+f)},V=>{const J=Array.prototype.slice.call(M,1);return a.apply(void 0,[w,V.config,V.state].concat(J))})},f,a),H3=n=>({key:n,value:void 0}),j3=(n,a,f,g,w,_,M)=>{const V=ye=>yr(ye,f)?ye[f]():U.none(),J=kn(w,(ye,Ne)=>V_(f,ye,Ne)),de={...kn(_,(ye,Ne)=>Iy(ye,Ne)),...J,revoke:se(H3,f),config:ye=>{const Ne=Pl(f+"-config",n,ye);return{key:f,value:{config:Ne,me:de,configAsRaw:bi(()=>Pl(f+"-config",n,ye)),initialConfig:ye,state:M}}},schema:j(a),exhibit:(ye,Ne)=>wr(V(ye),pn(g,"exhibit"),(Pe,rt)=>rt(Ne,Pe.config,Pe.state)).getOrThunk(()=>Bi({})),name:j(f),handlers:ye=>V(ye).map(Ne=>pn(g,"events").getOr(()=>({}))(Ne.config,Ne.state)).getOr({})};return de},Mn=n=>Ps(n),U_=ac([ln("fields"),ln("name"),$t("active",{}),$t("apis",{}),$t("state",ed),$t("extra",{})]),Va=n=>{const a=Pl("Creating behaviour: "+n.name,U_,n);return CS(a.fields,a.name,a.active,a.apis,a.extra,a.state)},W_=ac([ln("branchKey"),ln("branches"),ln("name"),$t("active",{}),$t("apis",{}),$t("state",ed),$t("extra",{})]),z3=n=>{const a=Pl("Creating behaviour: "+n.name,W_,n);return L3(Kc(a.branchKey,a.branches),a.name,a.active,a.apis,a.extra,a.state)},V3=j(void 0),Ef=Va({fields:j_,name:"receiving",active:H_});var U3=Object.freeze({__proto__:null,exhibit:(n,a)=>Bi({classes:[],styles:a.useFixed()?{}:{position:"relative"}})});const _h=n=>n.dom.focus(),Yg=n=>n.dom.blur(),SS=n=>{const a=or(n).dom;return n.dom===a.activeElement},dc=(n=ee())=>U.from(n.dom.activeElement).map(dn.fromDom),td=n=>dc(or(n)).filter(a=>n.dom.contains(a.dom)),Xg=(n,a)=>{const f=or(a),g=dc(f).bind(_=>{const M=V=>Cr(_,V);return M(a)?U.some(a):Yt(a,M)}),w=n(a);return g.each(_=>{dc(f).filter(M=>Cr(M,_)).fold(()=>{_h(_)},P)}),w},nd=(n,a,f,g,w)=>{const _=M=>M+"px";return{position:n,left:a.map(_),top:f.map(_),right:g.map(_),bottom:w.map(_)}},q_=n=>({...n,position:U.some(n.position)}),$0=(n,a)=>{cs(n,q_(a))},Da=It.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),W3=(n,a,f,g,w,_)=>{const M=a.rect,V=M.x-f,J=M.y-g,ne=M.width,de=M.height,ye=w-(V+ne),Ne=_-(J+de),Pe=U.some(V),rt=U.some(J),bt=U.some(ye),Mt=U.some(Ne),kt=U.none();return di(a.direction,()=>nd(n,Pe,rt,kt,kt),()=>nd(n,kt,rt,bt,kt),()=>nd(n,Pe,kt,kt,Mt),()=>nd(n,kt,kt,bt,Mt),()=>nd(n,Pe,rt,kt,kt),()=>nd(n,Pe,kt,kt,Mt),()=>nd(n,Pe,rt,kt,kt),()=>nd(n,kt,rt,bt,kt))},$h=(n,a)=>n.fold(()=>{const f=a.rect;return nd("absolute",U.some(f.x),U.some(f.y),U.none(),U.none())},(f,g,w,_)=>W3("absolute",a,f,g,w,_),(f,g,w,_)=>W3("fixed",a,f,g,w,_)),Qy=(n,a)=>{const f=se(Lo,a),g=n.fold(f,f,()=>{const M=Zc();return Lo(a).translate(-M.left,-M.top)}),w=_s(a),_=ro(a);return bo(g.left,g.top,w,_)},q3=(n,a)=>a.fold(()=>n.fold(Ha,Ha,bo),f=>n.fold(f,f,()=>{const g=f(),w=Z3(n,g.x,g.y);return bo(w.left,w.top,g.width,g.height)})),Z3=(n,a,f)=>{const g=Er(a,f),w=()=>{const _=Zc();return g.translate(-_.left,-_.top)};return n.fold(j(g),j(g),w)},Z_=(n,a,f,g)=>n.fold(a,f,g);Da.none;const G_=Da.relative,G3=Da.fixed,K3=(n,a)=>({anchorBox:n,origin:a}),Y3=(n,a)=>K3(n,a),Pp="data-alloy-placement",X3=(n,a)=>{Fn(n,Pp,a)},xS=n=>pe(n,Pp),ES=n=>et(n,Pp),Jg=It.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Qg=(n,a)=>{const{x:f,y:g,right:w,bottom:_}=a,{x:M,y:V,right:J,bottom:ne,width:de,height:ye}=n,Ne=M>=f&&M<=w,Pe=V>=g&&V<=_,rt=Ne&&Pe,bt=J<=w&&J>=f,Mt=ne<=_&&ne>=g,kt=bt&&Mt,Lt=Math.min(de,M>=f?w-M:J-f),Zn=Math.min(ye,V>=g?_-V:ne-g);return{originInBounds:rt,sizeInBounds:kt,visibleW:Lt,visibleH:Zn}},D0=(n,a)=>{const{x:f,y:g,right:w,bottom:_}=a,{x:M,y:V,width:J,height:ne}=n,de=Math.max(f,w-J),ye=Math.max(g,_-ne),Ne=tu(M,f,de),Pe=tu(V,g,ye),rt=Math.min(Ne+J,w)-Ne,bt=Math.min(Pe+ne,_)-Pe;return bo(Ne,Pe,rt,bt)},K_=(n,a,f)=>{const g=j(a.bottom-f.y),w=j(f.bottom-a.y),_=uS(n,w,w,g),M=j(a.right-f.x),V=j(f.right-a.x);return{maxWidth:Pd(n,V,V,M),maxHeight:_}},J3=(n,a,f,g)=>{const w=n.bubble,_=w.offset,M=M_(g,n.restriction,_),V=n.x+_.left,J=n.y+_.top,ne=bo(V,J,a,f),{originInBounds:de,sizeInBounds:ye,visibleW:Ne,visibleH:Pe}=Qg(ne,M),rt=de&&ye,bt=rt?ne:D0(ne,M),Mt=bt.width>0&&bt.height>0,{maxWidth:kt,maxHeight:Lt}=K_(n.direction,bt,g),Zn={rect:bt,maxHeight:Lt,maxWidth:kt,direction:n.direction,placement:n.placement,classes:{on:w.classesOn,off:w.classesOff},layout:n.label,testY:J};return rt||n.alwaysFit?Jg.fit(Zn):Jg.nofit(Zn,Ne,Pe,Mt)},Y_=(n,a,f,g,w,_)=>{const M=g.width,V=g.height,J=(de,ye,Ne,Pe,rt)=>{const bt=de(f,g,w,n,_),Mt=J3(bt,M,V,_);return Mt.fold(j(Mt),(kt,Lt,Zn,Xt)=>(rt===Xt?Zn>Pe||Lt>Ne:!rt&&Xt)?Mt:Jg.nofit(ye,Ne,Pe,rt))};return it(a,(de,ye)=>{const Ne=se(J,ye);return de.fold(j(de),Ne)},Jg.nofit({rect:f,maxHeight:g.height,maxWidth:g.width,direction:Gy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:f.y},-1,-1,!1)).fold(oe,oe)},kS=n=>{const a=$e(U.none()),f=()=>a.get().each(n);return{clear:()=>{f(),a.set(U.none())},isSet:()=>a.get().isSome(),get:()=>a.get(),set:V=>{f(),a.set(U.some(V))}}},X_=()=>kS(n=>n.destroy()),em=()=>kS(n=>n.unbind()),ki=()=>{const n=kS(P);return{...n,on:f=>n.get().each(f)}},M1=ve,Jl=(n,a,f)=>ch(n,a,M1,f),Q3=(n,a,f)=>Eg(n,a,M1,f),ek=yp,tk=["top","bottom","right","left"],e2="data-alloy-transition-timer",B0=(n,a)=>__(n,a.classes),nk=(n,a,f)=>f.exists(g=>{const w=n.mode;return w==="all"?!0:g[w]!==a[w]}),RF=(n,a)=>{const f=g=>parseFloat(g).toFixed(3);return wn(a,(g,w)=>{const _=n[w].map(f),M=g.map(f);return!ci(_,M)}).isSome()},tm=n=>{const a=_=>{const V=nn(n,_).split(/\s*,\s*/);return tt(V,Zt)},f=_=>{if(v(_)&&/^[\d.]+/.test(_)){const M=parseFloat(_);return dt(_,"ms")?M:M*1e3}else return 0},g=a("transition-delay"),w=a("transition-duration");return it(w,(_,M,V)=>{const J=f(g[V])+f(M);return Math.max(_,J)},0)},J_=(n,a)=>{const f=em(),g=em();let w;const _=ne=>{var de;const ye=(de=ne.raw.pseudoElement)!==null&&de!==void 0?de:"";return Cr(ne.target,n)&&to(ye)&&fe(tk,ne.raw.propertyName)},M=ne=>{if(F(ne)||_(ne)){f.clear(),g.clear();const de=ne==null?void 0:ne.raw.type;(F(de)||de===l0())&&(clearTimeout(w),et(n,e2),wu(n,a.classes))}},V=Jl(n,Oy(),ne=>{_(ne)&&(V.unbind(),f.set(Jl(n,l0(),M)),g.set(Jl(n,n3(),M)))}),J=tm(n);requestAnimationFrame(()=>{w=setTimeout(M,J+17),Fn(n,e2,w)})},Q_=(n,a)=>{yu(n,a.classes),pe(n,e2).each(f=>{clearTimeout(parseInt(f,10)),et(n,e2)}),J_(n,a)},ok=(n,a,f,g,w,_)=>{const M=nk(g,w,_);if(M||B0(n,g)){Wn(n,"position",f.position);const V=Qy(a,n),J=$h(a,{...w,rect:V}),ne=Xe(tk,de=>J[de]);RF(f,ne)&&(cs(n,ne),M&&Q_(n,g),Ye(n))}else wu(n,g.classes)},e$=n=>({width:_s(n),height:ro(n)}),rk=(n,a,f,g)=>{rr(a,"max-height"),rr(a,"max-width");const w=e$(a);return Y_(a,g.preference,n,w,f,g.bounds)},AS=(n,a)=>{const f=a.classes;wu(n,f.off),yu(n,f.on)},t$=(n,a,f)=>{const g=f.maxHeightFunction;g(n,a.maxHeight)},n$=(n,a,f)=>{const g=f.maxWidthFunction;g(n,a.maxWidth)},o$=(n,a,f)=>{const g=$h(f.origin,a);f.transition.each(w=>{ok(n,f.origin,g,w,a,f.lastPlacement)}),$0(n,g)},r$=(n,a)=>{X3(n,a.placement)},TS=(n,a)=>{ko(n,Math.floor(a))},s$=j((n,a)=>{TS(n,a),Wr(n,{"overflow-x":"hidden","overflow-y":"auto"})}),N0=j((n,a)=>{TS(n,a)}),t2=(n,a,f)=>n[a]===void 0?f:n[a],OS=(n,a,f,g,w,_,M,V)=>{const J=t2(M,"maxHeightFunction",s$()),ne=t2(M,"maxWidthFunction",P),de=n.anchorBox,ye=n.origin,Ne={bounds:q3(ye,_),origin:ye,preference:g,maxHeightFunction:J,maxWidthFunction:ne,lastPlacement:w,transition:V};return _S(de,a,f,Ne)},_S=(n,a,f,g)=>{const w=rk(n,a,f,g);return o$(a,w,g),r$(a,w),AS(a,w),t$(a,w,g),n$(a,w,g),{layout:w.layout,placement:w.placement}},$S=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Fp=(n,a,f,g=1)=>{const w=n*g,_=a*g,M=J=>pn(f,J).getOr([]),V=(J,ne,de)=>{const ye=ot($S,de);return{offset:Er(J,ne),classesOn:be(de,M),classesOff:be(ye,M)}};return{southeast:()=>V(-n,a,["top","alignLeft"]),southwest:()=>V(n,a,["top","alignRight"]),south:()=>V(-n/2,a,["top","alignCentre"]),northeast:()=>V(-n,-a,["bottom","alignLeft"]),northwest:()=>V(n,-a,["bottom","alignRight"]),north:()=>V(-n/2,-a,["bottom","alignCentre"]),east:()=>V(n,-a/2,["valignCentre","left"]),west:()=>V(-n,-a/2,["valignCentre","right"]),insetNortheast:()=>V(w,_,["top","alignLeft","inset"]),insetNorthwest:()=>V(-w,_,["top","alignRight","inset"]),insetNorth:()=>V(-w/2,_,["top","alignCentre","inset"]),insetSoutheast:()=>V(w,-_,["bottom","alignLeft","inset"]),insetSouthwest:()=>V(-w,-_,["bottom","alignRight","inset"]),insetSouth:()=>V(-w/2,-_,["bottom","alignCentre","inset"]),insetEast:()=>V(-w,-_/2,["valignCentre","right","inset"]),insetWest:()=>V(w,-_/2,["valignCentre","left","inset"])}},nm=()=>Fp(0,0,{}),Rp=oe,P0=(n,a)=>f=>sk(f)==="rtl"?a:n,sk=n=>nn(n,"direction")==="rtl"?"rtl":"ltr";var Dh;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Dh||(Dh={}));const Bh="data-alloy-vertical-dir",i$=n=>x0(n,a=>Or(a)&&Ro(a,"data-alloy-vertical-dir")===Dh.BottomToTop),Mp=()=>lc("layouts",[ln("onLtr"),ln("onRtl"),Kr("onBottomLtr"),Kr("onBottomRtl")]),n2=(n,a,f,g,w,_,M)=>{const V=M.map(i$).getOr(!1),J=a.layouts.map(Pe=>Pe.onLtr(n)),ne=a.layouts.map(Pe=>Pe.onRtl(n)),de=V?a.layouts.bind(Pe=>Pe.onBottomLtr.map(rt=>rt(n))).or(J).getOr(w):J.getOr(f),ye=V?a.layouts.bind(Pe=>Pe.onBottomRtl.map(rt=>rt(n))).or(ne).getOr(_):ne.getOr(g);return P0(de,ye)(n)},a$=(n,a,f)=>{const g=a.hotspot,w=Qy(f,g.element),_=n2(n.element,a,yS(),Jy(),_0(),R1(),U.some(a.hotspot.element));return U.some(Rp({anchorBox:w,bubble:a.bubble.getOr(nm()),overrides:a.overrides,layouts:_,placer:U.none()}))};var DS=[ln("hotspot"),Kr("bubble"),$t("overrides",{}),Mp(),ti("placement",a$)];const l$=(n,a,f)=>{const g=Z3(f,a.x,a.y),w=bo(g.left,g.top,a.width,a.height),_=n2(n.element,a,I3(),bS(),I3(),bS(),U.none());return U.some(Rp({anchorBox:w,bubble:a.bubble,overrides:a.overrides,layouts:_,placer:U.none()}))};var c$=[ln("x"),ln("y"),$t("height",0),$t("width",0),$t("bubble",nm()),$t("overrides",{}),Mp(),ti("placement",l$)];const BS=It.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),F0=n=>n.fold(oe,(a,f,g)=>a.translate(-f,-g)),R0=n=>n.fold(oe,oe),ik=n=>it(n,(a,f)=>a.translate(f.left,f.top),Er(0,0)),NS=n=>{const a=me(n,F0);return ik(a)},ak=n=>{const a=me(n,R0);return ik(a)},lk=BS.screen,M0=BS.absolute,PS=(n,a,f)=>{const g=Aa(f.root).dom,w=_=>{const M=Ws(_),V=Ws(n.element);return Cr(M,V)};return U.from(g.frameElement).map(dn.fromDom).filter(w).map(Xr)},o2=(n,a,f)=>{const g=Ws(n.element),w=Zc(g),_=PS(n,a,f).getOr(w);return M0(_,w.left,w.top)},r2=(n,a,f,g)=>{const w=lk(Er(n,a));return U.some(_r(w,f,g))},FS=(n,a,f,g,w)=>n.map(_=>{const M=[a,_.point],V=Z_(g,()=>ak(M),()=>ak(M),()=>NS(M)),J=br(V.left,V.top,_.width,_.height),ne=f.showAbove?_0():yS(),de=f.showAbove?R1():Jy(),ye=n2(w,f,ne,de,ne,de,U.none());return Rp({anchorBox:J,bubble:f.bubble.getOr(nm()),overrides:f.overrides,layouts:ye,placer:U.none()})}),Ip=(n,a,f)=>{const g=o2(n,f,a);return a.node.filter(ae).bind(w=>{const _=w.dom.getBoundingClientRect(),M=r2(_.left,_.top,_.width,_.height),V=a.node.getOr(n.element);return FS(M,g,a,f,V)})};var Lp=[ln("node"),ln("root"),Kr("bubble"),Mp(),$t("overrides",{}),$t("showAbove",!1),ti("placement",Ip)];const I0="\uFEFF",I1="\xA0",od={create:(n,a,f,g)=>({start:n,soffset:a,finish:f,foffset:g})},Uu=It.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),RS=(n,a,f,g)=>n.fold(a,f,g),s2=n=>n.fold(oe,oe,oe),u$=Uu.before,ck=Uu.on,L0=Uu.after,om={before:u$,on:ck,after:L0,cata:RS,getStart:s2},L1=It.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uk=n=>L1.exact(n.start,n.soffset,n.finish,n.foffset),H0=n=>n.match({domRange:a=>dn.fromDom(a.startContainer),relative:(a,f)=>om.getStart(a),exact:(a,f,g,w)=>a}),i2=L1.domRange,f$=L1.relative,Hl=L1.exact,MS=n=>{const a=H0(n);return Aa(a)},Ji=od.create,j0={domRange:i2,relative:f$,exact:Hl,exactFromRange:uk,getWin:MS,range:Ji},Fd=(n,a)=>{a.fold(f=>{n.setStartBefore(f.dom)},(f,g)=>{n.setStart(f.dom,g)},f=>{n.setStartAfter(f.dom)})},fk=(n,a)=>{a.fold(f=>{n.setEndBefore(f.dom)},(f,g)=>{n.setEnd(f.dom,g)},f=>{n.setEndAfter(f.dom)})},a2=(n,a,f)=>{const g=n.document.createRange();return Fd(g,a),fk(g,f),g},rm=(n,a,f,g,w)=>{const _=n.document.createRange();return _.setStart(a.dom,f),_.setEnd(g.dom,w),_},l2=n=>({left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}),H1=n=>{const a=n.getClientRects(),f=a.length>0?a[0]:n.getBoundingClientRect();return f.width>0||f.height>0?U.some(f).map(l2):U.none()},d$=n=>{const a=n.getBoundingClientRect();return a.width>0||a.height>0?U.some(a).map(l2):U.none()},j1=It.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),sm=(n,a,f)=>a(dn.fromDom(f.startContainer),f.startOffset,dn.fromDom(f.endContainer),f.endOffset),dk=(n,a)=>a.match({domRange:f=>({ltr:j(f),rtl:U.none}),relative:(f,g)=>({ltr:bi(()=>a2(n,f,g)),rtl:bi(()=>U.some(a2(n,g,f)))}),exact:(f,g,w,_)=>({ltr:bi(()=>rm(n,f,g,w,_)),rtl:bi(()=>U.some(rm(n,w,_,f,g)))})}),IS=(n,a)=>{const f=a.ltr();return f.collapsed?a.rtl().filter(w=>w.collapsed===!1).map(w=>j1.rtl(dn.fromDom(w.endContainer),w.endOffset,dn.fromDom(w.startContainer),w.startOffset)).getOrThunk(()=>sm(n,j1.ltr,f)):sm(n,j1.ltr,f)},Rd=(n,a)=>{const f=dk(n,a);return IS(n,f)},LS=(n,a)=>Rd(n,a).match({ltr:(g,w,_,M)=>{const V=n.document.createRange();return V.setStart(g.dom,w),V.setEnd(_.dom,M),V},rtl:(g,w,_,M)=>{const V=n.document.createRange();return V.setStart(_.dom,M),V.setEnd(g.dom,w),V}});j1.ltr,j1.rtl;const jl=(n,a)=>Ma(a,n),h$=(n,a,f,g)=>{const _=Ws(n).dom.createRange();return _.setStart(n.dom,a),_.setEnd(f.dom,g),_},z1=(n,a,f,g)=>{const w=h$(n,a,f,g),_=Cr(n,f)&&a===g;return w.collapsed&&!_},p$=n=>U.from(n.getSelection()),HS=n=>{if(n.rangeCount>0){const a=n.getRangeAt(0),f=n.getRangeAt(n.rangeCount-1);return U.some(od.create(dn.fromDom(a.startContainer),a.startOffset,dn.fromDom(f.endContainer),f.endOffset))}else return U.none()},hk=n=>{if(n.anchorNode===null||n.focusNode===null)return HS(n);{const a=dn.fromDom(n.anchorNode),f=dn.fromDom(n.focusNode);return z1(a,n.anchorOffset,f,n.focusOffset)?U.some(od.create(a,n.anchorOffset,f,n.focusOffset)):HS(n)}},Bc=n=>p$(n).filter(a=>a.rangeCount>0).bind(hk),z0=(n,a)=>{const f=LS(n,a);return H1(f)},jS=(n,a)=>{const f=LS(n,a);return d$(f)},hc=((n,a)=>{const f=_=>{if(!n(_))throw new Error("Can only get "+a+" value of a "+a+" node");return g(_).getOr("")},g=_=>n(_)?U.from(_.dom.nodeValue):U.none();return{get:f,getOption:g,set:(_,M)=>{if(!n(_))throw new Error("Can only set raw "+a+" value of a "+a+" node");_.dom.nodeValue=M}}})(Js,"text"),Cu=n=>hc.get(n),ya=(n,a)=>({element:n,offset:a}),Su=(n,a)=>{const f=Sr(n);if(f.length===0)return ya(n,a);if(a<f.length)return ya(f[a],0);{const g=f[f.length-1],w=Js(g)?Cu(g).length:Sr(g).length;return ya(g,w)}},c2=(n,a)=>Js(n)?ya(n,a):Su(n,a),Wu=(n,a)=>a.getSelection.getOrThunk(()=>()=>Bc(n))().map(g=>{const w=c2(g.start,g.soffset),_=c2(g.finish,g.foffset);return j0.range(w.element,w.offset,_.element,_.offset)}),V1=(n,a,f)=>{const g=Aa(a.root).dom,w=o2(n,f,a),_=Wu(g,a).bind(J=>jS(g,j0.exactFromRange(J)).orThunk(()=>{const de=dn.fromText(I0);Wf(J.start,de);const ye=z0(g,j0.exact(de,0,de,1));return pf(de),ye}).bind(de=>r2(de.left,de.top,de.width,de.height))),V=Wu(g,a).bind(J=>Or(J.start)?U.some(J.start):dl(J.start)).getOr(n.element);return FS(_,w,a,f,V)};var IF=[Kr("getSelection"),ln("root"),Kr("bubble"),Mp(),$t("overrides",{}),$t("showAbove",!1),ti("placement",V1)];const U0="link-layout",u2=n=>n.x+n.width,zS=(n,a)=>n.x-a.width,VS=(n,a)=>n.y-a.height+n.height,U1=n=>n.y,US=(n,a,f)=>rl(u2(n),U1(n),f.southeast(),Gy(),"southeast",bl(n,{left:0,top:2}),U0),pk=(n,a,f)=>rl(zS(n,a),U1(n),f.southwest(),fS(),"southwest",bl(n,{right:1,top:2}),U0),WS=(n,a,f)=>rl(u2(n),VS(n,a),f.northeast(),dS(),"northeast",bl(n,{left:0,bottom:3}),U0),qS=(n,a,f)=>rl(zS(n,a),VS(n,a),f.northwest(),hS(),"northwest",bl(n,{right:1,bottom:3}),U0),W0=()=>[US,pk,WS,qS],f2=()=>[pk,US,qS,WS],ZS=(n,a,f)=>{const g=Qy(f,a.item.element),w=n2(n.element,a,W0(),f2(),W0(),f2(),U.none());return U.some(Rp({anchorBox:g,bubble:nm(),overrides:a.overrides,layouts:w,placer:U.none()}))};var GS=[ln("item"),Mp(),$t("overrides",{}),ti("placement",ZS)],gk=Kc("type",{selection:IF,node:Lp,hotspot:DS,submenu:GS,makeshift:c$});const g$=[Fl("classes",Di),Gf("mode","all",["all","layout","placement"])],d2=[$t("useFixed",he),Kr("getBounds")],m$=[_a("anchor",gk),lc("transition",g$)],v$=()=>{const n=document.documentElement;return G3(0,0,n.clientWidth,n.clientHeight)},LF=n=>{const a=Xr(n.element),f=n.element.dom.getBoundingClientRect();return G_(a.left,a.top,f.width,f.height)},HF=(n,a,f,g,w,_,M)=>{const V=Y3(f.anchorBox,a);return OS(V,w.element,f.bubble,f.layouts,_,g,f.overrides,M)},Ql=(n,a,f,g,w)=>{b$(n,a,f,g,w,U.none())},b$=(n,a,f,g,w,_)=>{const M=_.map($r);return q0(n,a,f,g,w,M)},q0=(n,a,f,g,w,_)=>{const M=Pl("placement.info",Oo(m$),w),V=M.anchor,J=g.element,ne=f.get(g.uid);Xg(()=>{Wn(J,"position","fixed");const de=ps(J,"visibility");Wn(J,"visibility","hidden");const ye=a.useFixed()?v$():LF(n),Ne=V.placement,Pe=_.map(j).or(a.getBounds);Ne(n,V,ye).each(rt=>{const Mt=rt.placer.getOr(HF)(n,ye,rt,Pe,g,ne,M.transition);f.set(g.uid,Mt)}),de.fold(()=>{rr(J,"visibility")},rt=>{Wn(J,"visibility",rt)}),ps(J,"left").isNone()&&ps(J,"top").isNone()&&ps(J,"right").isNone()&&ps(J,"bottom").isNone()&&Ts(ps(J,"position"),"fixed")&&rr(J,"position")},J)};var KS=Object.freeze({__proto__:null,position:Ql,positionWithin:b$,positionWithinBounds:q0,getMode:(n,a,f)=>a.useFixed()?"fixed":"absolute",reset:(n,a,f,g)=>{const w=g.element;q(["position","left","right","top","bottom"],_=>rr(w,_)),ES(w),f.clear(g.uid)}}),y$=Object.freeze({__proto__:null,init:()=>{let n={};return bu({readState:()=>n,clear:w=>{N(w)?delete n[w]:n={}},set:(w,_)=>{n[w]=_},get:w=>pn(n,w)})}});const pc=Va({fields:d2,name:"positioning",active:U3,apis:KS,state:y$}),YS=n=>n.getSystem().isConnected(),W1=n=>{ms(n,Sf());const a=n.components();q(a,W1)},Nh=n=>{const a=n.components();q(a,Nh),ms(n,bh())},G0=(n,a)=>{n.getSystem().addToWorld(a),ae(n.element)&&Nh(a)},im=n=>{W1(n),n.getSystem().removeFromWorld(n)},p2=(n,a)=>{gl(n.element,a.element)},w$=n=>{q(n.components(),a=>pf(a.element)),Cd(n.element),n.syncComponents()},C$=(n,a,f)=>{const g=n.components();w$(n);const w=f(a),_=ot(g,w);q(_,M=>{W1(M),n.getSystem().removeFromWorld(M)}),q(w,M=>{YS(M)?p2(n,M):(n.getSystem().addToWorld(M),p2(n,M),ae(n.element)&&Nh(M))}),n.syncComponents()},g2=(n,a,f)=>{const g=n.components(),w=be(a,V=>b0(V).toArray());q(g,V=>{fe(w,V)||im(V)});const _=f(a),M=ot(g,_);q(M,V=>{YS(V)&&im(V)}),q(_,V=>{YS(V)||G0(n,V)}),n.syncComponents()},Hp=(n,a)=>{m2(n,a,gl)},m2=(n,a,f)=>{n.getSystem().addToWorld(a),f(n.element,a.element),ae(n.element)&&Nh(a),n.syncComponents()},jp=n=>{W1(n),pf(n.element),n.getSystem().removeFromWorld(n)},zl=n=>{const a=mi(n.element).bind(f=>n.getSystem().getByDom(f).toOptional());jp(n),a.each(f=>{f.syncComponents()})},vk=n=>{const a=n.components();q(a,jp),Cd(n.element),n.syncComponents()},kf=(n,a)=>{K0(n,a,gl)},bk=(n,a)=>{K0(n,a,t1)},K0=(n,a,f)=>{f(n,a.element);const g=Sr(a.element);q(g,w=>{a.getByDom(w).each(Nh)})},v2=n=>{const a=Sr(n.element);q(a,f=>{n.getByDom(f).each(W1)}),pf(n.element)},XS=(n,a,f,g)=>{f.get().each(M=>{vk(n)});const w=a.getAttachPoint(n);Hp(w,n);const _=n.getSystem().build(g);return Hp(n,_),f.set(_),_},Y0=(n,a,f,g)=>{const w=XS(n,a,f,g);return a.onOpen(n,w),w},JS=(n,a,f,g)=>f.get().map(()=>XS(n,a,f,g)),yk=(n,a,f,g,w)=>{QS(n,a),Y0(n,a,f,g),w(),Vp(n,a)},q1=(n,a,f)=>{f.get().each(g=>{vk(n),zl(n),a.onClose(n,g),f.clear()})},Z1=(n,a,f)=>f.isOpen(),S$=(n,a,f,g)=>Z1(n,a,f)&&f.get().exists(w=>a.isPartOf(n,w,g)),zp=(n,a,f)=>f.get(),b2=(n,a,f,g)=>{ps(n.element,a).fold(()=>{et(n.element,f)},w=>{Fn(n.element,f,w)}),Wn(n.element,a,g)},x$=(n,a,f)=>{pe(n.element,f).fold(()=>rr(n.element,a),g=>Wn(n.element,a,g))},QS=(n,a,f)=>{const g=a.getAttachPoint(n);Wn(n.element,"position",pc.getMode(g)),b2(n,"visibility",a.cloakVisibilityAttr,"hidden")},X0=n=>ue(["top","left","right","bottom"],a=>ps(n,a).isSome()),Vp=(n,a,f)=>{X0(n.element)||rr(n.element,"position"),x$(n,"visibility",a.cloakVisibilityAttr)};var y2=Object.freeze({__proto__:null,cloak:QS,decloak:Vp,open:Y0,openWhileCloaked:yk,close:q1,isOpen:Z1,isPartOf:S$,getState:zp,setContent:JS}),E$=Object.freeze({__proto__:null,events:(n,a)=>Dr([on(_y(),(f,g)=>{q1(f,n,a)})])}),wk=[qr("onOpen"),qr("onClose"),ln("isPartOf"),ln("getAttachPoint"),$t("cloakVisibilityAttr","data-precloak-visibility")],w2=Object.freeze({__proto__:null,init:()=>{const n=ki(),a=j("not-implemented");return bu({readState:a,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})}});const Rr=Va({fields:wk,name:"sandboxing",active:E$,apis:y2,state:w2}),Md=j("dismiss.popups"),Wp=j("reposition.popups"),qp=j("mouse.released"),ex=ac([$t("isExtraPart",he),lc("fireEventInstead",[$t("event",Dp())])]),G1=n=>{const a=Pl("Dismissal",ex,n);return{[Md()]:{schema:ac([ln("target")]),onReceive:(f,g)=>{Rr.isOpen(f)&&(Rr.isPartOf(f,g.target)||a.isExtraPart(f,g.target)||a.fireEventInstead.fold(()=>Rr.close(f),_=>ms(f,_.event)))}}}},Ck=ac([lc("fireEventInstead",[$t("event",d0())]),yf("doReposition")]),Af=n=>{const a=Pl("Reposition",Ck,n);return{[Wp()]:{onReceive:f=>{Rr.isOpen(f)&&a.fireEventInstead.fold(()=>a.doReposition(f),g=>ms(f,g.event))}}}},C2=(n,a,f)=>{a.store.manager.onLoad(n,a,f)},tx=(n,a,f)=>{a.store.manager.onUnload(n,a,f)};var K1=Object.freeze({__proto__:null,onLoad:C2,onUnload:tx,setValue:(n,a,f,g)=>{a.store.manager.setValue(n,a,f,g)},getValue:(n,a,f)=>a.store.manager.getValue(n,a,f),getState:(n,a,f)=>f}),Sk=Object.freeze({__proto__:null,events:(n,a)=>{const f=n.resetOnDom?[Yi((g,w)=>{C2(g,n,a)}),Jf((g,w)=>{tx(g,n,a)})]:[wS(n,a,C2)];return Dr(f)}});const ox=()=>{const n=$e(null),a=()=>({mode:"memory",value:n.get()}),f=()=>n.get()===null,g=()=>{n.set(null)};return bu({set:n.set,get:n.get,isNotSet:f,clear:g,readState:a})},k$=()=>bu({readState:P}),Q0=()=>{const n=$e({}),a=$e({});return bu({readState:()=>({mode:"dataset",dataByValue:n.get(),dataByText:a.get()}),lookup:M=>pn(n.get(),M).orThunk(()=>pn(a.get(),M)),update:M=>{const V=n.get(),J=a.get(),ne={},de={};q(M,ye=>{ne[ye.value]=ye,pn(ye,"meta").each(Ne=>{pn(Ne,"text").each(Pe=>{de[Pe]=ye})})}),n.set({...V,...ne}),a.set({...J,...de})},clear:()=>{n.set({}),a.set({})}})};var xk=Object.freeze({__proto__:null,memory:ox,dataset:Q0,manual:k$,init:n=>n.store.manager.state(n)});const Ek=(n,a,f,g)=>{const w=a.store;f.update([g]),w.setValue(n,g),a.onSetValue(n,g)},T$=(n,a,f)=>{const g=a.store,w=g.getDataKey(n);return f.lookup(w).getOrThunk(()=>g.getFallbackEntry(w))},kk=(n,a,f)=>{a.store.initialValue.each(w=>{Ek(n,a,f,w)})},Ak=(n,a,f)=>{f.clear()};var Tk=[Kr("initialValue"),ln("getFallbackEntry"),ln("getDataKey"),ln("setValue"),ti("manager",{setValue:Ek,getValue:T$,onLoad:kk,onUnload:Ak,state:Q0})];const am=(n,a,f)=>a.store.getValue(n),S2=(n,a,f,g)=>{a.store.setValue(n,g),a.onSetValue(n,g)},Ok=(n,a,f)=>{a.store.initialValue.each(g=>{a.store.setValue(n,g)})};var Y1=[ln("getValue"),$t("setValue",P),Kr("initialValue"),ti("manager",{setValue:S2,getValue:am,onLoad:Ok,onUnload:P,state:ed.init})];const eb=(n,a,f,g)=>{f.set(g),a.onSetValue(n,g)},x2=(n,a,f)=>f.get(),O$=(n,a,f)=>{a.store.initialValue.each(g=>{f.isNotSet()&&f.set(g)})},_$=(n,a,f)=>{f.clear()};var $$=[Kr("initialValue"),ti("manager",{setValue:eb,getValue:x2,onLoad:O$,onUnload:_$,state:ox})],_k=[cc("store",{mode:"memory"},Kc("mode",{memory:$$,manual:Y1,dataset:Tk})),qr("onSetValue"),$t("resetOnDom",!1)];const qn=Va({fields:_k,name:"representing",active:Sk,apis:K1,extra:{setValueFrom:(n,a)=>{const f=qn.getValue(a);qn.setValue(n,f)}},state:xk}),wa=(n,a)=>_e(n,{},me(a,f=>r0(f.name(),"Cannot configure "+f.name()+" for "+n)).concat([ml("dump",oe)])),X1=n=>n.dump,il=(n,a)=>({...Mn(a),...n.dump}),xu={field:wa,augment:il,get:X1},lm="placeholder",J1=It.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),E2=n=>eo(n,"uiType"),D$=(n,a,f,g)=>n.exists(w=>w!==f.owner)?J1.single(!0,j(f)):pn(g,f.name).fold(()=>{throw new Error("Unknown placeholder component: "+f.name+`
Known: [`+ft(g)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(f,null,2))},w=>w.replace()),$k=(n,a,f,g)=>E2(f)&&f.uiType===lm?D$(n,a,f,g):J1.single(!1,j(f)),Dk=(n,a,f,g)=>$k(n,a,f,g).fold((_,M)=>{const V=E2(f)?M(a,f.config,f.validated):M(a),J=pn(V,"components").getOr([]),ne=be(J,de=>Dk(n,a,de,g));return[{...V,components:ne}]},(_,M)=>{if(E2(f)){const V=M(a,f.config,f.validated);return f.validated.preprocess.getOr(oe)(V)}else return M(a)}),Bk=(n,a,f,g)=>be(f,w=>Dk(n,a,w,g)),B$=(n,a)=>{let f=!1;const g=()=>f,w=()=>{if(f)throw new Error("Trying to use the same placeholder more than once: "+n);return f=!0,a},_=()=>a.fold((M,V)=>M,(M,V)=>M);return{name:j(n),required:_,used:g,replace:w}},N$=(n,a,f,g)=>{const w=kn(g,(M,V)=>B$(V,M)),_=Bk(n,a,f,w);return sn(w,M=>{if(M.used()===!1&&M.required())throw new Error("Placeholder: "+M.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(a.components,null,2))}),_},Nk=J1.single,rx=J1.multiple,cm=j(lm),k2=It.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),tb=$t("factory",{sketch:oe}),A2=$t("schema",[]),um=ln("name"),sx=ja("pname","pname",mf(n=>"<alloy."+fo(n.name)+">"),Gc()),Pk=ml("schema",()=>[Kr("preprocess")]),fm=$t("defaults",j({})),nb=$t("overrides",j({})),P$=Oo([tb,A2,um,sx,fm,nb]),F$=Oo([tb,A2,um,fm,nb]),Ph=Oo([tb,A2,um,sx,fm,nb]),R$=Oo([tb,Pk,um,ln("unit"),sx,fm,nb]),Fk=n=>n.fold(U.some,U.none,U.some,U.some),ob=n=>{const a=f=>f.name;return n.fold(a,a,a,a)},yo=n=>n.fold(oe,oe,oe,oe),Id=(n,a)=>f=>{const g=Pl("Converting part type",a,f);return n(g)},Vl=Id(k2.required,P$),Tf=Id(k2.external,F$),qu=Id(k2.optional,Ph),Q1=Id(k2.group,R$),ix=j("entirety");var Rk=Object.freeze({__proto__:null,required:Vl,external:Tf,optional:qu,group:Q1,asNamedPart:Fk,name:ob,asCommon:yo,original:ix});const ax=(n,a,f,g)=>Zs(a.defaults(n,f,g),f,{uid:n.partUids[a.name]},a.overrides(n,f,g)),M$=(n,a,f)=>{const g={},w={};return q(f,_=>{_.fold(M=>{g[M.pname]=Nk(!0,(V,J,ne)=>M.factory.sketch(ax(V,M,J,ne)))},M=>{const V=a.parts[M.name];w[M.name]=j(M.factory.sketch(ax(a,M,V[ix()]),V))},M=>{g[M.pname]=Nk(!1,(V,J,ne)=>M.factory.sketch(ax(V,M,J,ne)))},M=>{g[M.pname]=rx(!0,(V,J,ne)=>{const de=V[M.name];return me(de,ye=>M.factory.sketch(Zs(M.defaults(V,ye,ne),ye,M.overrides(V,ye))))})})}),{internals:j(g),externals:j(w)}},T2=(n,a)=>{const f={};return q(a,g=>{Fk(g).each(w=>{const _=lx(n,w.pname);f[w.name]=M=>{const V=Pl("Part: "+w.name+" in "+n,Oo(w.schema),M);return{..._,config:M,validated:V}}})}),f},lx=(n,a)=>({uiType:cm(),owner:n,name:a}),dm=(n,a,f)=>({uiType:cm(),owner:n,name:a,config:f,validated:{}}),cx=n=>be(n,a=>a.fold(U.none,U.some,U.none,U.none).map(f=>Oc(f.name,f.schema.concat([T0(ix())]))).toArray()),Mk=n=>me(n,ob),O2=(n,a,f)=>M$(n,a,f),ux=(n,a,f)=>N$(U.some(n),a,a.components,f),Gs=(n,a,f)=>{const g=a.partUids[f];return n.getSystem().getByUid(g).toOptional()},rd=(n,a,f)=>Gs(n,a,f).getOrDie("Could not find part: "+f),Ik=(n,a,f)=>{const g={},w=a.partUids,_=n.getSystem();return q(f,M=>{g[M]=j(_.getByUid(w[M]))}),g},Lk=(n,a)=>{const f=n.getSystem();return kn(a.partUids,(g,w)=>j(f.getByUid(g)))},hm=n=>ft(n.partUids),pm=(n,a,f)=>{const g={},w=a.partUids,_=n.getSystem();return q(f,M=>{g[M]=j(_.getByUid(w[M]).getOrDie())}),g},ev=(n,a)=>{const f=Mk(a);return Ps(me(f,g=>({key:g,value:n+"-"+g})))},fx=n=>ja("partUids","partUids",xp(a=>ev(a.uid,n)),Gc());var Of=Object.freeze({__proto__:null,generate:T2,generateOne:dm,schemas:cx,names:Mk,substitutes:O2,components:ux,defaultUids:ev,defaultUidsSchema:fx,getAllParts:Lk,getAllPartNames:hm,getPart:Gs,getPartOrDie:rd,getParts:Ik,getPartsOrDie:pm});const gm=(n,a)=>(n.length>0?[Oc("parts",n)]:[]).concat([ln("uid"),$t("dom",{}),$t("components",[]),T0("originalSpec"),$t("debug.sketcher",{})]).concat(a),Hk=(n,a,f,g,w)=>{const _=gm(g,w);return Pl(n+" [SpecSchema]",ac(_.concat(a)),f)},rb=(n,a,f,g)=>{const w=jk(g),_=Hk(n,a,w,[],[]);return f(_,w)},sd=(n,a,f,g,w)=>{const _=jk(w),M=cx(f),V=fx(f),J=Hk(n,a,_,M,[V]),ne=O2(n,J,f),de=ux(n,J,ne.internals());return g(J,de,_,ne.externals())},_2=n=>eo(n,"uid"),jk=n=>_2(n)?n:{...n,uid:Hg("uid")},I$=n=>n.uid!==void 0,L$=ac([ln("name"),ln("factory"),ln("configFields"),$t("apis",{}),$t("extraApis",{})]),H$=ac([ln("name"),ln("factory"),ln("configFields"),ln("partFields"),$t("apis",{}),$t("extraApis",{})]),Zu=n=>{const a=Pl("Sketcher for "+n.name,L$,n),f=_=>rb(a.name,a.configFields,a.factory,_),g=kn(a.apis,Ly),w=kn(a.extraApis,(_,M)=>Iy(_,M));return{name:a.name,configFields:a.configFields,sketch:f,...g,...w}},mc=n=>{const a=Pl("Sketcher for "+n.name,H$,n),f=M=>sd(a.name,a.configFields,a.partFields,a.factory,M),g=T2(a.name,a.partFields),w=kn(a.apis,Ly),_=kn(a.extraApis,(M,V)=>Iy(M,V));return{name:a.name,partFields:a.partFields,configFields:a.configFields,sketch:f,parts:g,...w,..._}},Zp=n=>Fi("input")(n)&&Ro(n,"type")!=="radio"||Fi("textarea")(n);var $2=Object.freeze({__proto__:null,getCurrent:(n,a,f)=>a.find(n)});const j$=[ln("find")],Ur=Va({fields:j$,name:"composing",apis:$2}),z$=["input","button","textarea","select"],D2=(n,a,f)=>{(a.disabled()?Vk:hx)(n,a)},dx=(n,a)=>a.useNative===!0&&fe(z$,Qo(n.element)),zk=n=>je(n.element,"disabled"),V$=n=>{Fn(n.element,"disabled","disabled")},B2=n=>{et(n.element,"disabled")},U$=n=>Ro(n.element,"aria-disabled")==="true",W$=n=>{Fn(n.element,"aria-disabled","true")},zF=n=>{Fn(n.element,"aria-disabled","false")},Vk=(n,a,f)=>{a.disableClass.each(w=>{nl(n.element,w)}),(dx(n,a)?V$:W$)(n),a.onDisabled(n)},hx=(n,a,f)=>{a.disableClass.each(w=>{fi(n.element,w)}),(dx(n,a)?B2:zF)(n),a.onEnabled(n)},Uk=(n,a)=>dx(n,a)?zk(n):U$(n);var Wk=Object.freeze({__proto__:null,enable:hx,disable:Vk,isDisabled:Uk,onLoad:D2,set:(n,a,f,g)=>{(g?Vk:hx)(n,a)}}),P2=Object.freeze({__proto__:null,exhibit:(n,a)=>Bi({classes:a.disabled()?a.disableClass.toArray():[]}),events:(n,a)=>Dr([Py(mu(),(f,g)=>Uk(f,n)),wS(n,a,D2)])}),F2=[ma("disabled",he),$t("useNative",!0),Kr("disableClass"),qr("onDisabled"),qr("onEnabled")];const Bo=Va({fields:F2,name:"disabling",active:P2,apis:Wk}),gx=(n,a,f,g)=>{const w=jl(n.element,"."+a.highlightClass);q(w,_=>{ue(g,V=>Cr(V.element,_))||(fi(_,a.highlightClass),n.getSystem().getByDom(_).each(V=>{a.onDehighlight(n,V),ms(V,b1())}))})},qk=(n,a,f)=>gx(n,a,f,[]),Zk=(n,a,f,g)=>{mx(n,a,f,g)&&(fi(g.element,a.highlightClass),a.onDehighlight(n,g),ms(g,b1()))},mm=(n,a,f,g)=>{gx(n,a,f,[g]),mx(n,a,f,g)||(nl(g.element,a.highlightClass),a.onHighlight(n,g),ms(g,GC()))},Gk=(n,a,f)=>{R2(n,a).each(g=>{mm(n,a,f,g)})},q$=(n,a,f)=>{bx(n,a).each(g=>{mm(n,a,f,g)})},Kk=(n,a,f,g)=>{vx(n,a,f,g).fold(w=>{throw w},w=>{mm(n,a,f,w)})},Z$=(n,a,f,g)=>{const w=Jk(n,a);Re(w,g).each(M=>{mm(n,a,f,M)})},mx=(n,a,f,g)=>vl(g.element,a.highlightClass),G$=(n,a,f)=>$a(n.element,"."+a.highlightClass).bind(g=>n.getSystem().getByDom(g).toOptional()),vx=(n,a,f,g)=>{const w=jl(n.element,"."+a.itemClass);return U.from(w[g]).fold(()=>er.error(new Error("No element found with index "+g)),n.getSystem().getByDom)},R2=(n,a,f)=>$a(n.element,"."+a.itemClass).bind(g=>n.getSystem().getByDom(g).toOptional()),bx=(n,a,f)=>{const g=jl(n.element,"."+a.itemClass);return(g.length>0?U.some(g[g.length-1]):U.none()).bind(_=>n.getSystem().getByDom(_).toOptional())},Yk=(n,a,f,g)=>{const w=jl(n.element,"."+a.itemClass);return Ve(w,M=>vl(M,a.highlightClass)).bind(M=>{const V=P1(M,g,0,w.length-1);return n.getSystem().getByDom(w[V]).toOptional()})},Xk=(n,a,f)=>Yk(n,a,f,-1),K$=(n,a,f)=>Yk(n,a,f,1),Jk=(n,a,f)=>{const g=jl(n.element,"."+a.itemClass);return pr(me(g,w=>n.getSystem().getByDom(w).toOptional()))};var Qk=Object.freeze({__proto__:null,dehighlightAll:qk,dehighlight:Zk,highlight:mm,highlightFirst:Gk,highlightLast:q$,highlightAt:Kk,highlightBy:Z$,isHighlighted:mx,getHighlighted:G$,getFirst:R2,getLast:bx,getPrevious:Xk,getNext:K$,getCandidates:Jk}),eA=[ln("highlightClass"),ln("itemClass"),qr("onHighlight"),qr("onDehighlight")];const us=Va({fields:eA,name:"highlighting",apis:Qk}),tA=[8],vm=[9],id=[13],M2=[27],vc=[32],ib=[37],ab=[38],I2=[39],bm=[40],yx=(n,a,f)=>{const g=Ee(n.slice(0,a)),w=Ee(n.slice(a+1));return Re(g.concat(w),f)},Y$=(n,a,f)=>{const g=Ee(n.slice(0,a));return Re(g,f)},lb=(n,a,f)=>{const g=n.slice(0,a),w=n.slice(a+1);return Re(w.concat(g),f)},nA=(n,a,f)=>{const g=n.slice(a+1);return Re(g,f)},zr=n=>a=>{const f=a.raw;return fe(n,f.which)},Gu=n=>a=>ie(n,f=>f(a)),tv=n=>n.raw.shiftKey===!0,m=n=>n.raw.ctrlKey===!0,C=Q(tv),B=(n,a)=>({matches:n,classification:a}),L=(n,a)=>Re(n,g=>g.matches(a)).map(g=>g.classification),Z=(n,a,f)=>{a.exists(w=>f.exists(_=>Cr(_,w)))||Ho(n,h0(),{prevFocus:a,newFocus:f})},te=()=>{const n=f=>td(f.element);return{get:n,set:(f,g)=>{const w=n(f);f.getSystem().triggerFocus(g,f.element);const _=n(f);Z(f,w,_)}}},ke=()=>{const n=f=>us.getHighlighted(f).map(g=>g.element);return{get:n,set:(f,g)=>{const w=n(f);f.getSystem().getByDom(g).fold(P,M=>{us.highlight(f,M)});const _=n(f);Z(f,w,_)}}};var Ie;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Ie||(Ie={}));const Je=(n,a,f,g,w)=>{const _=()=>n.concat([$t("focusManager",te()),cc("focusInside","onFocus",Ap(ne=>fe(["onFocus","onEnterOrSpace","onApi"],ne)?er.value(ne):er.error("Invalid value for focusInside"))),ti("handler",J),ti("state",a),ti("sendFocusIn",w)]),M=(ne,de,ye,Ne,Pe)=>{const rt=ye(ne,de,Ne,Pe);return L(rt,de.event).bind(bt=>bt(ne,de,Ne,Pe))},J={schema:_,processKey:M,toEvents:(ne,de)=>{const ye=ne.focusInside!==Ie.OnFocusMode?U.none():w(ne).map(rt=>on($p(),(bt,Mt)=>{rt(bt,ne,de),Mt.stop()})),Ne=(rt,bt)=>{const Mt=zr(vc.concat(id))(bt.event);ne.focusInside===Ie.OnEnterOrSpaceMode&&Mt&&wf(rt,bt)&&w(ne).each(kt=>{kt(rt,ne,de),bt.stop()})},Pe=[on(i0(),(rt,bt)=>{M(rt,bt,f,ne,de).fold(()=>{Ne(rt,bt)},Mt=>{bt.stop()})}),on(t3(),(rt,bt)=>{M(rt,bt,g,ne,de).each(Mt=>{bt.stop()})})];return Dr(ye.toArray().concat(Pe))}};return J},gt=n=>{const a=[Kr("onEscape"),Kr("onEnter"),$t("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),$t("firstTabstop",0),$t("useTabstopAt",ve),Kr("visibilitySelector")].concat([n]),f=(bt,Mt)=>{const kt=bt.visibilitySelector.bind(Lt=>ol(Mt,Lt)).getOr(Mt);return Vt(kt)>0},g=(bt,Mt)=>{const kt=jl(bt.element,Mt.selector),Lt=tt(kt,Zn=>f(Mt,Zn));return U.from(Lt[Mt.firstTabstop])},w=(bt,Mt)=>Mt.focusManager.get(bt).bind(kt=>ol(kt,Mt.selector)),_=(bt,Mt)=>f(bt,Mt)&&bt.useTabstopAt(Mt),M=(bt,Mt,kt)=>{g(bt,Mt).each(Lt=>{Mt.focusManager.set(bt,Lt)})},V=(bt,Mt,kt,Lt,Zn)=>Zn(Mt,kt,Xt=>_(Lt,Xt)).fold(()=>Lt.cyclic?U.some(!0):U.none(),Xt=>(Lt.focusManager.set(bt,Xt),U.some(!0))),J=(bt,Mt,kt,Lt)=>{const Zn=jl(bt.element,kt.selector);return w(bt,kt).bind(Xt=>Ve(Zn,se(Cr,Xt)).bind(ho=>V(bt,Zn,ho,kt,Lt)))},ne=(bt,Mt,kt)=>{const Lt=kt.cyclic?yx:Y$;return J(bt,Mt,kt,Lt)},de=(bt,Mt,kt)=>{const Lt=kt.cyclic?lb:nA;return J(bt,Mt,kt,Lt)},ye=(bt,Mt,kt)=>kt.onEnter.bind(Lt=>Lt(bt,Mt)),Ne=(bt,Mt,kt)=>kt.onEscape.bind(Lt=>Lt(bt,Mt)),Pe=j([B(Gu([tv,zr(vm)]),ne),B(zr(vm),de),B(Gu([C,zr(id)]),ye)]),rt=j([B(zr(M2),Ne)]);return Je(a,ed.init,Pe,rt,()=>U.some(M))};var Bt=gt(ml("cyclic",he)),hn=gt(ml("cyclic",ve));const Rn=(n,a,f)=>(y1(n,f,mu()),U.some(!0)),Tn=(n,a,f)=>Zp(f)&&zr(vc)(a.event)?U.none():Rn(n,a,f),tn=(n,a)=>U.some(!0),jn=[$t("execute",Tn),$t("useSpace",!1),$t("useEnter",!0),$t("useControlEnter",!1),$t("useDown",!1)],rn=(n,a,f)=>f.execute(n,a,n.element),Yn=(n,a,f,g)=>{const w=f.useSpace&&!Zp(n.element)?vc:[],_=f.useEnter?id:[],M=f.useDown?bm:[],V=w.concat(_).concat(M);return[B(zr(V),rn)].concat(f.useControlEnter?[B(Gu([m,zr(id)]),rn)]:[])},Wo=(n,a,f,g)=>f.useSpace&&!Zp(n.element)?[B(zr(vc),tn)]:[];var fr=Je(jn,ed.init,Yn,Wo,()=>U.none());const ii=()=>{const n=ki();return bu({readState:()=>n.get().map(w=>({numRows:String(w.numRows),numColumns:String(w.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(w,_)=>{n.set({numRows:w,numColumns:_})},getNumRows:()=>n.get().map(w=>w.numRows),getNumColumns:()=>n.get().map(w=>w.numColumns)})};var Qi=Object.freeze({__proto__:null,flatgrid:ii,init:n=>n.state(n)});const al=n=>(a,f,g,w)=>{const _=n(a.element);return ym(_,a,f,g,w)},Ld=(n,a)=>{const f=P0(n,a);return al(f)},cb=(n,a)=>{const f=P0(a,n);return al(f)},L2=n=>(a,f,g,w)=>ym(n,a,f,g,w),ym=(n,a,f,g,w)=>g.focusManager.get(a).bind(M=>n(a.element,M,g,w)).map(M=>(g.focusManager.set(a,M),!0)),Ds=L2,ec=L2,Cl=L2,_f=n=>n.offsetWidth<=0&&n.offsetHeight<=0,Eu=n=>!_f(n.dom),nv=(n,a)=>Ve(n,a).map(f=>({index:f,candidates:n})),tc=(n,a,f)=>{const g=M=>Cr(M,a),w=jl(n,f),_=tt(w,Eu);return nv(_,g)},ub=(n,a)=>Ve(n,f=>Cr(a,f)),Gp=(n,a,f,g)=>{const w=Math.floor(a/f),_=a%f;return g(w,_).bind(M=>{const V=M.row*f+M.column;return V>=0&&V<n.length?U.some(n[V]):U.none()})},ad=(n,a,f,g,w)=>Gp(n,a,g,(_,M)=>{const J=_===f-1?n.length-_*g:g,ne=P1(M,w,0,J-1);return U.some({row:_,column:ne})}),Sl=(n,a,f,g,w)=>Gp(n,a,g,(_,M)=>{const V=P1(_,w,0,f-1),ne=V===f-1?n.length-V*g:g,de=tu(M,0,ne-1);return U.some({row:V,column:de})}),X$=(n,a,f,g)=>ad(n,a,f,g,1),J$=(n,a,f,g)=>ad(n,a,f,g,-1),wm=(n,a,f,g)=>Sl(n,a,f,g,-1),Q$=(n,a,f,g)=>Sl(n,a,f,g,1),eD=[ln("selector"),$t("execute",Tn),eu("onEscape"),$t("captureTab",!1),N1()],fb=(n,a,f)=>{$a(n.element,a.selector).each(g=>{a.focusManager.set(n,g)})},tD=(n,a)=>a.focusManager.get(n).bind(f=>ol(f,a.selector)),ov=(n,a,f,g)=>tD(n,f).bind(w=>f.execute(n,a,w)),wx=n=>(a,f,g,w)=>tc(a,f,g.selector).bind(_=>n(_.candidates,_.index,w.getNumRows().getOr(g.initSize.numRows),w.getNumColumns().getOr(g.initSize.numColumns))),nD=(n,a,f)=>f.captureTab?U.some(!0):U.none(),UF=(n,a,f)=>f.onEscape(n,a),WF=wx(J$),qF=wx(X$),gZ=wx(wm),oD=wx(Q$),mZ=j([B(zr(ib),Ld(WF,qF)),B(zr(I2),cb(WF,qF)),B(zr(ab),Ds(gZ)),B(zr(bm),ec(oD)),B(Gu([tv,zr(vm)]),nD),B(Gu([C,zr(vm)]),nD),B(zr(vc.concat(id)),ov)]),vZ=j([B(zr(M2),UF),B(zr(vc),tn)]);var bZ=Je(eD,ii,mZ,vZ,()=>U.some(fb));const Cx=(n,a,f,g)=>{const w=M=>Qo(M)==="button"&&Ro(M,"disabled")==="disabled",_=(M,V,J)=>{const ne=P1(V,g,0,J.length-1);return ne===M?U.none():w(J[ne])?_(M,ne,J):U.from(J[ne])};return tc(n,f,a).bind(M=>{const V=M.index,J=M.candidates;return _(V,V,J)})},yZ=[ln("selector"),$t("getInitial",U.none),$t("execute",Tn),eu("onEscape"),$t("executeOnMove",!1),$t("allowVertical",!0)],wZ=(n,a)=>a.focusManager.get(n).bind(f=>ol(f,a.selector)),rD=(n,a,f)=>wZ(n,f).bind(g=>f.execute(n,a,g)),ZF=(n,a,f)=>{a.getInitial(n).orThunk(()=>$a(n.element,a.selector)).each(g=>{a.focusManager.set(n,g)})},GF=(n,a,f)=>Cx(n,f.selector,a,-1),KF=(n,a,f)=>Cx(n,f.selector,a,1),sD=n=>(a,f,g,w)=>n(a,f,g,w).bind(()=>g.executeOnMove?rD(a,f,g):U.some(!0)),CZ=(n,a,f)=>f.onEscape(n,a),SZ=(n,a,f,g)=>{const w=ib.concat(f.allowVertical?ab:[]),_=I2.concat(f.allowVertical?bm:[]);return[B(zr(w),sD(Ld(GF,KF))),B(zr(_),sD(cb(GF,KF))),B(zr(id),rD),B(zr(vc),rD)]},oA=j([B(zr(vc),tn),B(zr(M2),CZ)]);var xZ=Je(yZ,ed.init,SZ,oA,()=>U.some(ZF));const Sx=(n,a,f)=>U.from(n[a]).bind(g=>U.from(g[f]).map(w=>({rowIndex:a,columnIndex:f,cell:w}))),nu=(n,a,f,g)=>{const _=n[a].length,M=P1(f,g,0,_-1);return Sx(n,a,M)},YF=(n,a,f,g)=>{const w=P1(f,g,0,n.length-1),_=n[w].length,M=tu(a,0,_-1);return Sx(n,w,M)},iD=(n,a,f,g)=>{const _=n[a].length,M=tu(f+g,0,_-1);return Sx(n,a,M)},XF=(n,a,f,g)=>{const w=tu(f+g,0,n.length-1),_=n[w].length,M=tu(a,0,_-1);return Sx(n,w,M)},EZ=(n,a,f)=>nu(n,a,f,1),JF=(n,a,f)=>nu(n,a,f,-1),kZ=(n,a,f)=>YF(n,f,a,-1),AZ=(n,a,f)=>YF(n,f,a,1),TZ=(n,a,f)=>iD(n,a,f,-1),OZ=(n,a,f)=>iD(n,a,f,1),_Z=(n,a,f)=>XF(n,f,a,-1),QF=(n,a,f)=>XF(n,f,a,1),eR=[Oc("selectors",[ln("row"),ln("cell")]),$t("cycles",!0),$t("previousSelector",U.none),$t("execute",Tn)],rv=(n,a,f)=>{a.previousSelector(n).orThunk(()=>{const w=a.selectors;return $a(n.element,w.cell)}).each(w=>{a.focusManager.set(n,w)})},tR=(n,a,f)=>td(n.element).bind(g=>f.execute(n,a,g)),nR=(n,a)=>me(n,f=>jl(f,a.selectors.cell)),H2=(n,a)=>(f,g,w)=>{const _=w.cycles?n:a;return ol(g,w.selectors.row).bind(M=>{const V=jl(M,w.selectors.cell);return ub(V,g).bind(J=>{const ne=jl(f,w.selectors.row);return ub(ne,M).bind(de=>{const ye=nR(ne,w);return _(ye,de,J).map(Ne=>Ne.cell)})})})},oR=H2(JF,TZ),rR=H2(EZ,OZ),$Z=H2(kZ,_Z),DZ=H2(AZ,QF),sR=j([B(zr(ib),Ld(oR,rR)),B(zr(I2),cb(oR,rR)),B(zr(ab),Ds($Z)),B(zr(bm),ec(DZ)),B(zr(vc.concat(id)),tR)]),aD=j([B(zr(vc),tn)]);var lD=Je(eR,ed.init,sR,aD,()=>U.some(rv));const BZ=[ln("selector"),$t("execute",Tn),$t("moveOnTab",!1)],Cm=(n,a,f)=>f.focusManager.get(n).bind(g=>f.execute(n,a,g)),iR=(n,a,f)=>{$a(n.element,a.selector).each(g=>{a.focusManager.set(n,g)})},cD=(n,a,f)=>Cx(n,f.selector,a,-1),aR=(n,a,f)=>Cx(n,f.selector,a,1),NZ=(n,a,f,g)=>f.moveOnTab?Cl(cD)(n,a,f,g):U.none(),xx=(n,a,f,g)=>f.moveOnTab?Cl(aR)(n,a,f,g):U.none(),Ex=j([B(zr(ab),Cl(cD)),B(zr(bm),Cl(aR)),B(Gu([tv,zr(vm)]),NZ),B(Gu([C,zr(vm)]),xx),B(zr(id),Cm),B(zr(vc),Cm)]),lR=j([B(zr(vc),tn)]);var cR=Je(BZ,ed.init,Ex,lR,()=>U.some(iR));const sv=[eu("onSpace"),eu("onEnter"),eu("onShiftEnter"),eu("onLeft"),eu("onRight"),eu("onTab"),eu("onShiftTab"),eu("onUp"),eu("onDown"),eu("onEscape"),$t("stopSpaceKeyup",!1),Kr("focusIn")],iv=(n,a,f)=>[B(zr(vc),f.onSpace),B(Gu([C,zr(id)]),f.onEnter),B(Gu([tv,zr(id)]),f.onShiftEnter),B(Gu([tv,zr(vm)]),f.onShiftTab),B(Gu([C,zr(vm)]),f.onTab),B(zr(ab),f.onUp),B(zr(bm),f.onDown),B(zr(ib),f.onLeft),B(zr(I2),f.onRight),B(zr(vc),f.onSpace)],PZ=(n,a,f)=>[...f.stopSpaceKeyup?[B(zr(vc),tn)]:[],B(zr(M2),f.onEscape)];var FZ=Je(sv,ed.init,iv,PZ,n=>n.focusIn);const uR=Bt.schema(),Sm=hn.schema(),uD=xZ.schema(),fR=bZ.schema(),dR=lD.schema(),hR=fr.schema(),fD=cR.schema(),pR=FZ.schema();var RZ=Object.freeze({__proto__:null,acyclic:uR,cyclic:Sm,flow:uD,flatgrid:fR,matrix:dR,execution:hR,menu:fD,special:pR});const MZ=n=>yr(n,"setGridSize"),No=z3({branchKey:"mode",branches:RZ,name:"keying",active:{events:(n,a)=>n.handler.toEvents(n,a)},apis:{focusIn:(n,a,f)=>{a.sendFocusIn(a).fold(()=>{n.getSystem().triggerFocus(n.element,n.element)},g=>{g(n,a,f)})},setGridSize:(n,a,f,g,w)=>{MZ(f)?f.setGridSize(g,w):console.error("Layout does not support setGridSize")}},state:Qi}),kx=(n,a)=>{Xg(()=>{C$(n,a,()=>me(a,n.getSystem().build))},n.element)},rA=(n,a)=>{Xg(()=>{g2(n,a,()=>C0(n.element,a,n.getSystem().buildOrPatch))},n.element)},dD=(n,a,f,g)=>{im(a);const w=v3(n.element,f,g,n.getSystem().buildOrPatch);G0(n,w),n.syncComponents()},hD=(n,a,f)=>{const g=n.getSystem().build(f);m2(n,g,a)},IZ=(n,a,f,g)=>{zl(a),hD(n,(w,_)=>n1(w,_,f),g)},gR=(n,a,f,g)=>(a.reuseDom?rA:kx)(n,g),mR=(n,a,f,g)=>{hD(n,gl,g)},vR=(n,a,f,g)=>{hD(n,Cp,g)},bR=(n,a,f,g)=>{const w=sA(n);Re(w,M=>Cr(g.element,M.element)).each(zl)},sA=(n,a)=>n.components(),iA=(n,a,f,g,w)=>{const _=sA(n);return U.from(_[g]).map(M=>(w.fold(()=>zl(M),V=>{(a.reuseDom?dD:IZ)(n,M,g,V)}),M))};var LZ=Object.freeze({__proto__:null,append:mR,prepend:vR,remove:bR,replaceAt:iA,replaceBy:(n,a,f,g,w)=>{const _=sA(n);return Ve(_,g).bind(M=>iA(n,a,f,M,w))},set:gR,contents:sA});const kr=Va({fields:[$c("reuseDom",!0)],name:"replacing",apis:LZ}),HZ=(n,a)=>{const f=Dr(a);return Va({fields:[ln("enabled")],name:n,active:{events:j(f)}})},Mr=(n,a)=>{const f=HZ(n,a);return{key:n,value:{config:{},me:f,configAsRaw:j({}),initialConfig:{},state:ed}}},yR=(n,a)=>{a.ignore||(_h(n.element),a.onFocus(n))};var Ax=Object.freeze({__proto__:null,focus:yR,blur:(n,a)=>{a.ignore||Yg(n.element)},isFocused:n=>SS(n.element)}),pD=Object.freeze({__proto__:null,exhibit:(n,a)=>{const f=a.ignore?{}:{attributes:{tabindex:"-1"}};return Bi(f)},events:n=>Dr([on($p(),(a,f)=>{yR(a,n),f.stop()})].concat(n.stopMousedown?[on(tl(),(a,f)=>{f.event.prevent()})]:[]))}),wR=[qr("onFocus"),$t("stopMousedown",!1),$t("ignore",!1)];const qo=Va({fields:wR,name:"focusing",active:pD,apis:Ax}),jZ=n=>({init:()=>{const f=$e(n);return{get:()=>f.get(),set:V=>f.set(V),clear:()=>f.set(n),readState:()=>f.get()}}}),zZ=(n,a,f)=>{const g=a.aria;g.update(n,g,f.get())},CR=(n,a,f)=>{a.toggleClass.each(g=>{f.get()?nl(n.element,g):fi(n.element,g)})},Tx=(n,a,f,g)=>{const w=f.get();f.set(g),CR(n,a,f),zZ(n,a,f),w!==g&&a.onToggled(n,g)},gD=(n,a,f)=>{Tx(n,a,f,!f.get())},VZ=(n,a,f)=>{Tx(n,a,f,!0)},UZ=(n,a,f)=>{Tx(n,a,f,!1)},SR=(n,a,f)=>f.get(),Ox=(n,a,f)=>{Tx(n,a,f,a.selected)};var mD=Object.freeze({__proto__:null,onLoad:Ox,toggle:gD,isOn:SR,on:VZ,off:UZ,set:Tx}),WZ=Object.freeze({__proto__:null,exhibit:()=>Bi({}),events:(n,a)=>{const f=z_(n,a,gD),g=wS(n,a,Ox);return Dr(Oe([n.toggleOnExecute?[f]:[],[g]]))}});const qZ=(n,a,f)=>{Fn(n.element,"aria-pressed",f),a.syncWithExpanded&&vD(n,a,f)},ZZ=(n,a,f)=>{Fn(n.element,"aria-selected",f)},ER=(n,a,f)=>{Fn(n.element,"aria-checked",f)},vD=(n,a,f)=>{Fn(n.element,"aria-expanded",f)};var GZ=[$t("selected",!1),Kr("toggleClass"),$t("toggleOnExecute",!0),qr("onToggled"),cc("aria",{mode:"none"},Kc("mode",{pressed:[$t("syncWithExpanded",!1),ti("update",qZ)],checked:[ti("update",ER)],expanded:[ti("update",vD)],selected:[ti("update",ZZ)],none:[ti("update",P)]}))];const Qr=Va({fields:GZ,name:"toggling",active:WZ,apis:mD,state:jZ(!1)}),kR=()=>{const n=(a,f)=>{f.stop(),vu(a)};return[on(a0(),n),on(c0(),n),Mg(As()),Mg(tl())]},lA=n=>{const a=f=>wh((g,w)=>{f(g),w.stop()});return Dr(Oe([n.map(a).toArray(),kR()]))},AR="alloy.item-hover",TR="alloy.item-focus",bD="alloy.item-toggled",OR=n=>{(td(n.element).isNone()||qo.isFocused(n))&&(qo.isFocused(n)||qo.focus(n),Ho(n,AR,{item:n}))},_R=n=>{Ho(n,TR,{item:n})},KZ=(n,a)=>{Ho(n,bD,{item:n,state:a})},$R=j(AR),YZ=j(TR),db=j(bD),XZ=n=>n.toggling.map(a=>a.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),JZ=n=>({aria:{mode:"checked"},...Ot(n,(a,f)=>f!=="exclusive"),onToggled:(a,f)=>{$(n.onToggled)&&n.onToggled(a,f),KZ(a,f)}}),hb=n=>({dom:n.dom,domModification:{...n.domModification,attributes:{role:XZ(n),...n.domModification.attributes,"aria-haspopup":n.hasSubmenu,...n.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:xu.augment(n.itemBehaviours,[n.toggling.fold(Qr.revoke,a=>Qr.config(JZ(a))),qo.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:a=>{_R(a)}}),No.config({mode:"execution"}),qn.config({store:{mode:"memory",initialValue:n.data}}),Mr("item-type-events",[...kR(),on(_d(),OR),on(vh(),qo.focus)])]),components:n.components,eventOrder:n.eventOrder}),QZ=[ln("data"),ln("components"),ln("dom"),$t("hasSubmenu",!1),Kr("toggling"),xu.field("itemBehaviours",[Qr,qo,No,qn]),$t("ignoreFocus",!1),$t("domModification",{}),ti("builder",hb),$t("eventOrder",{})],eG=n=>({dom:n.dom,components:n.components,events:Dr([YC(vh())])}),av=[ln("dom"),ln("components"),ti("builder",eG)],yD=j("item-widget"),wD=j([Vl({name:"widget",overrides:n=>({behaviours:Mn([qn.config({store:{mode:"manual",getValue:a=>n.data,setValue:P}})])})})]),ld=n=>{const a=O2(yD(),n,wD()),f=ux(yD(),n,a.internals()),g=_=>Gs(_,n,"widget").map(M=>(No.focusIn(M),M)),w=(_,M)=>Zp(M.event.target)?U.none():(()=>(n.autofocus&&M.setSource(_.element),U.none()))();return{dom:n.dom,components:f,domModification:n.domModification,events:Dr([wh((_,M)=>{g(_).each(V=>{M.stop()})}),on(_d(),OR),on(vh(),(_,M)=>{n.autofocus?g(_):qo.focus(_)})]),behaviours:xu.augment(n.widgetBehaviours,[qn.config({store:{mode:"memory",initialValue:n.data}}),qo.config({ignore:n.ignoreFocus,onFocus:_=>{_R(_)}}),No.config({mode:"special",focusIn:n.autofocus?_=>{g(_)}:V3(),onLeft:w,onRight:w,onEscape:(_,M)=>!qo.isFocused(_)&&!n.autofocus?(qo.focus(_),U.some(!0)):(n.autofocus&&M.setSource(_.element),U.none())})])}},DR=[ln("uid"),ln("data"),ln("components"),ln("dom"),$t("autofocus",!1),$t("ignoreFocus",!1),xu.field("widgetBehaviours",[qn,qo,No]),$t("domModification",{}),fx(wD()),ti("builder",ld)],BR=Kc("type",{widget:DR,item:QZ,separator:av}),NR=(n,a)=>({mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:a.initSize.numColumns,numRows:a.initSize.numRows},focusManager:n.focusManager}),tG=(n,a)=>({mode:"matrix",selectors:{row:a.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}),PR=(n,a)=>({mode:"menu",selector:"."+n.markers.item,moveOnTab:a.moveOnTab,focusManager:n.focusManager}),nG=j([Q1({factory:{sketch:n=>{const a=Pl("menu.spec item",BR,n);return a.builder(a)}},name:"items",unit:"item",defaults:(n,a)=>eo(a,"uid")?a:{...a,uid:Hg("item")},overrides:(n,a)=>({type:a.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}})})]),oG=j([ln("value"),ln("items"),ln("dom"),ln("components"),$t("eventOrder",{}),wa("menuBehaviours",[us,qn,Ur,No]),cc("movement",{mode:"menu",moveOnTab:!0},Kc("mode",{grid:[N1(),ti("config",NR)],matrix:[ti("config",tG),ln("rowSelector")],menu:[$t("moveOnTab",!0),ti("config",PR)]})),P3(),$t("fakeFocus",!1),$t("focusManager",te()),qr("onHighlight"),qr("onDehighlight")]),FR=j("alloy.menu-focus"),cA=(n,a)=>{const f=jl(n.element,'[role="menuitemradio"][aria-checked="true"]');q(f,g=>{Cr(g,a.element)||n.getSystem().getByDom(g).each(w=>{Qr.off(w)})})},CD=(n,a,f,g)=>({uid:n.uid,dom:n.dom,markers:n.markers,behaviours:il(n.menuBehaviours,[us.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight,onDehighlight:n.onDehighlight}),qn.config({store:{mode:"memory",initialValue:n.value}}),Ur.config({find:U.some}),No.config(n.movement.config(n,n.movement))]),events:Dr([on(YZ(),(w,_)=>{const M=_.event;w.getSystem().getByDom(M.target).each(V=>{us.highlight(w,V),_.stop(),Ho(w,FR(),{menu:w,item:V})})}),on($R(),(w,_)=>{const M=_.event.item;us.highlight(w,M)}),on(db(),(w,_)=>{const{item:M,state:V}=_.event;V&&Ro(M.element,"role")==="menuitemradio"&&cA(w,M)})]),components:a,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}),pb=mc({name:"Menu",configFields:oG(),partFields:nG(),factory:CD}),RR=n=>Pn(n,(a,f)=>({k:a,v:f})),SD=(n,a,f,g)=>pn(f,g).bind(w=>pn(n,w).bind(_=>{const M=SD(n,a,f,_);return U.some([_].concat(M))})).getOr([]),rG=(n,a)=>{const f={};sn(n,(M,V)=>{q(M,J=>{f[J]=V})});const g=a,w=RR(a),_=kn(w,(M,V)=>[V].concat(SD(f,g,w,V)));return kn(f,M=>pn(_,M).getOr([M]))},xD=()=>{const n=$e({}),a=$e({}),f=$e({}),g=ki(),w=$e({}),_=()=>{n.set({}),a.set({}),f.set({}),g.clear()},M=()=>g.get().isNone(),V=(Qn,ho)=>{a.set({...a.get(),[Qn]:{type:"prepared",menu:ho}})},J=(Qn,ho,so,Io)=>{g.set(Qn),n.set(so),a.set(ho),w.set(Io);const Vo=rG(Io,so);f.set(Vo)},ne=Qn=>wn(n.get(),(ho,so)=>ho===Qn),de=(Qn,ho,so)=>bt(Qn).bind(Io=>ne(Qn).bind(Vo=>ho(Vo).map(Ir=>({triggeredMenu:Io,triggeringItem:Ir,triggeringPath:so})))),ye=(Qn,ho)=>{const so=tt(kt(Qn).toArray(),Io=>bt(Io).isSome());return pn(f.get(),Qn).bind(Io=>{const Vo=Ee(so.concat(Io)),Ir=be(Vo,(os,Po)=>de(os,ho,Vo.slice(0,Po+1)).fold(()=>Ts(g.get(),os)?[]:[U.none()],rs=>[U.some(rs)]));return xi(Ir)})},Ne=Qn=>pn(n.get(),Qn).map(ho=>{const so=pn(f.get(),Qn).getOr([]);return[ho].concat(so)}),Pe=Qn=>pn(f.get(),Qn).bind(ho=>ho.length>1?U.some(ho.slice(1)):U.none()),rt=Qn=>pn(f.get(),Qn),bt=Qn=>Mt(Qn).bind(MR),Mt=Qn=>pn(a.get(),Qn),kt=Qn=>pn(n.get(),Qn);return{setMenuBuilt:V,setContents:J,expand:Ne,refresh:rt,collapse:Pe,lookupMenu:Mt,lookupItem:kt,otherMenus:Qn=>{const ho=w.get();return ot(ft(ho),Qn)},getPrimary:()=>g.get().bind(bt),getMenus:()=>a.get(),clear:_,isClear:M,getTriggeringPath:ye}},MR=n=>n.type==="prepared"?U.some(n.menu):U.none(),uA={init:xD,extractPreparedMenu:MR},IR=fo("tiered-menu-item-highlight"),j2=fo("tiered-menu-item-dehighlight");var nc;(function(n){n[n.HighlightMenuAndItem=0]="HighlightMenuAndItem",n[n.HighlightJustMenu=1]="HighlightJustMenu",n[n.HighlightNone=2]="HighlightNone"})(nc||(nc={}));const LR=(n,a)=>{const f=ki(),g=(Ln,co,nr)=>kn(nr,(Lr,zs)=>{const Ui=()=>pb.sketch({...Lr,value:zs,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:(Pc,iu)=>{Ho(Pc,IR,{menuComp:Pc,itemComp:iu})},onDehighlight:(Pc,iu)=>{Ho(Pc,j2,{menuComp:Pc,itemComp:iu})},focusManager:n.fakeFocus?ke():te()});return zs===co?{type:"prepared",menu:Ln.getSystem().build(Ui())}:{type:"notbuilt",nbMenu:Ui}}),w=uA.init(),_=Ln=>{const co=g(Ln,n.data.primary,n.data.menus),nr=J();return w.setContents(n.data.primary,co,n.data.expansions,nr),w.getPrimary()},M=Ln=>qn.getValue(Ln).value,V=(Ln,co,nr)=>oo(co,Lr=>{if(!Lr.getSystem().isConnected())return U.none();const zs=us.getCandidates(Lr);return Re(zs,Ui=>M(Ui)===nr)}),J=Ln=>kn(n.data.menus,(co,nr)=>be(co.items,Lr=>Lr.type==="separator"?[]:[Lr.data.value])),ne=us.highlight,de=(Ln,co)=>{ne(Ln,co),us.getHighlighted(co).orThunk(()=>us.getFirst(co)).each(nr=>{n.fakeFocus?us.highlight(co,nr):y1(Ln,nr.element,vh())})},ye=(Ln,co)=>pr(me(co,nr=>Ln.lookupMenu(nr).bind(Lr=>Lr.type==="prepared"?U.some(Lr.menu):U.none()))),Ne=(Ln,co,nr)=>{const Lr=ye(co,co.otherMenus(nr));q(Lr,zs=>{wu(zs.element,[n.markers.backgroundMenu]),n.stayInDom||kr.remove(Ln,zs)})},Pe=Ln=>f.get().getOrThunk(()=>{const co={},nr=jl(Ln.element,`.${n.markers.item}`),Lr=tt(nr,zs=>Ro(zs,"aria-haspopup")==="true");return q(Lr,zs=>{Ln.getSystem().getByDom(zs).each(Ui=>{const Pc=M(Ui);co[Pc]=Ui})}),f.set(co),co}),rt=(Ln,co)=>{const nr=Pe(Ln);sn(nr,(Lr,zs)=>{const Ui=fe(co,zs);Fn(Lr.element,"aria-expanded",Ui)})},bt=(Ln,co,nr)=>U.from(nr[0]).bind(Lr=>co.lookupMenu(Lr).bind(zs=>{if(zs.type==="notbuilt")return U.none();{const Ui=zs.menu,Pc=ye(co,nr.slice(1));return q(Pc,iu=>{nl(iu.element,n.markers.backgroundMenu)}),ae(Ui.element)||kr.append(Ln,Vu(Ui)),wu(Ui.element,[n.markers.backgroundMenu]),de(Ln,Ui),Ne(Ln,co,nr),U.some(Ui)}}));let Mt;(function(Ln){Ln[Ln.HighlightSubmenu=0]="HighlightSubmenu",Ln[Ln.HighlightParent=1]="HighlightParent"})(Mt||(Mt={}));const kt=(Ln,co,nr)=>{if(nr.type==="notbuilt"){const Lr=Ln.getSystem().build(nr.nbMenu());return w.setMenuBuilt(co,Lr),Lr}else return nr.menu},Lt=(Ln,co,nr=Mt.HighlightSubmenu)=>{if(co.hasConfigured(Bo)&&Bo.isDisabled(co))return U.some(co);{const Lr=M(co);return w.expand(Lr).bind(zs=>(rt(Ln,zs),U.from(zs[0]).bind(Ui=>w.lookupMenu(Ui).bind(Pc=>{const iu=kt(Ln,Ui,Pc);return ae(iu.element)||kr.append(Ln,Vu(iu)),n.onOpenSubmenu(Ln,co,iu,Ee(zs)),nr===Mt.HighlightSubmenu?(us.highlightFirst(iu),bt(Ln,w,zs)):(us.dehighlightAll(iu),U.some(co))}))))}},Zn=(Ln,co)=>{const nr=M(co);return w.collapse(nr).bind(Lr=>(rt(Ln,Lr),bt(Ln,w,Lr).map(zs=>(n.onCollapseMenu(Ln,co,zs),zs))))},Xt=(Ln,co)=>{const nr=M(co);return w.refresh(nr).bind(Lr=>(rt(Ln,Lr),bt(Ln,w,Lr)))},Qn=(Ln,co)=>Zp(co.element)?U.none():Lt(Ln,co,Mt.HighlightSubmenu),ho=(Ln,co)=>Zp(co.element)?U.none():Zn(Ln,co),so=(Ln,co)=>Zn(Ln,co).orThunk(()=>n.onEscape(Ln,co).map(()=>Ln)),Io=Ln=>(co,nr)=>ol(nr.getSource(),`.${n.markers.item}`).bind(Lr=>co.getSystem().getByDom(Lr).toOptional().bind(zs=>Ln(co,zs).map(ve))),Vo=Dr([on(FR(),(Ln,co)=>{const nr=co.event.item;w.lookupItem(M(nr)).each(()=>{const Lr=co.event.menu;us.highlight(Ln,Lr);const zs=M(co.event.item);w.refresh(zs).each(Ui=>Ne(Ln,w,Ui))})}),wh((Ln,co)=>{const nr=co.event.target;Ln.getSystem().getByDom(nr).each(Lr=>{M(Lr).indexOf("collapse-item")===0&&Zn(Ln,Lr),Lt(Ln,Lr,Mt.HighlightSubmenu).fold(()=>{n.onExecute(Ln,Lr)},P)})}),Yi((Ln,co)=>{_(Ln).each(nr=>{kr.append(Ln,Vu(nr)),n.onOpenMenu(Ln,nr),n.highlightOnOpen===nc.HighlightMenuAndItem?de(Ln,nr):n.highlightOnOpen===nc.HighlightJustMenu&&ne(Ln,nr)})}),on(IR,(Ln,co)=>{n.onHighlightItem(Ln,co.event.menuComp,co.event.itemComp)}),on(j2,(Ln,co)=>{n.onDehighlightItem(Ln,co.event.menuComp,co.event.itemComp)}),...n.navigateOnHover?[on($R(),(Ln,co)=>{const nr=co.event.item;Xt(Ln,nr),Lt(Ln,nr,Mt.HighlightParent),n.onHover(Ln,nr)})]:[]]),Ir=Ln=>us.getHighlighted(Ln).bind(us.getHighlighted),os=Ln=>{Ir(Ln).each(co=>{Zn(Ln,co)})},Po=Ln=>{w.getPrimary().each(co=>{de(Ln,co)})},rs=Ln=>U.from(Ln.components()[0]).filter(co=>Ro(co.element,"role")==="menu"),ss={collapseMenu:os,highlightPrimary:Po,repositionMenus:Ln=>{w.getPrimary().bind(nr=>Ir(Ln).bind(Lr=>{const zs=M(Lr),Ui=xn(w.getMenus()),Pc=pr(me(Ui,uA.extractPreparedMenu));return w.getTriggeringPath(zs,iu=>V(Ln,Pc,iu))}).map(Lr=>({primary:nr,triggeringPath:Lr}))).fold(()=>{rs(Ln).each(nr=>{n.onRepositionMenu(Ln,nr,[])})},({primary:nr,triggeringPath:Lr})=>{n.onRepositionMenu(Ln,nr,Lr)})}};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:il(n.tmenuBehaviours,[No.config({mode:"special",onRight:Io(Qn),onLeft:Io(ho),onEscape:Io(so),focusIn:(Ln,co)=>{w.getPrimary().each(nr=>{y1(Ln,nr.element,vh())})}}),us.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),Ur.config({find:Ln=>us.getHighlighted(Ln)}),kr.config({})]),eventOrder:n.eventOrder,apis:ss,events:Vo}},HR=j("collapse-item"),sG=(n,a,f)=>({primary:n,menus:a,expansions:f}),iG=(n,a)=>({primary:n,menus:ds(n,a),expansions:{}}),aG=n=>({value:fo(HR()),meta:{text:n}}),gb=Zu({name:"TieredMenu",configFields:[Zy("onExecute"),Zy("onEscape"),Np("onOpenMenu"),Np("onOpenSubmenu"),qr("onRepositionMenu"),qr("onCollapseMenu"),$t("highlightOnOpen",nc.HighlightMenuAndItem),Oc("data",[ln("primary"),ln("menus"),ln("expansions")]),$t("fakeFocus",!1),qr("onHighlightItem"),qr("onDehighlightItem"),qr("onHover"),A0(),ln("dom"),$t("navigateOnHover",!0),$t("stayInDom",!1),wa("tmenuBehaviours",[No,us,Ur,kr]),$t("eventOrder",{})],apis:{collapseMenu:(n,a)=>{n.collapseMenu(a)},highlightPrimary:(n,a)=>{n.highlightPrimary(a)},repositionMenus:(n,a)=>{n.repositionMenus(a)}},factory:LR,extraApis:{tieredData:sG,singleData:iG,collapseItem:aG}}),ED=(n,a,f,g,w)=>{const _=()=>n.lazySink(a),M=g.type==="horizontal"?{layouts:{onLtr:()=>yS(),onRtl:()=>Jy()}}:{},V=ne=>ne.length===2,J=ne=>V(ne)?M:{};return gb.sketch({dom:{tag:"div"},data:g.data,markers:g.menu.markers,highlightOnOpen:g.menu.highlightOnOpen,fakeFocus:g.menu.fakeFocus,onEscape:()=>(Rr.close(a),n.onEscape.map(ne=>ne(a)),U.some(!0)),onExecute:()=>U.some(!0),onOpenMenu:(ne,de)=>{pc.positionWithinBounds(_().getOrDie(),de,f,w())},onOpenSubmenu:(ne,de,ye,Ne)=>{const Pe=_().getOrDie();pc.position(Pe,ye,{anchor:{type:"submenu",item:de,...J(Ne)}})},onRepositionMenu:(ne,de,ye)=>{const Ne=_().getOrDie();pc.positionWithinBounds(Ne,de,f,w()),q(ye,Pe=>{const rt=J(Pe.triggeringPath);pc.position(Ne,Pe.triggeredMenu,{anchor:{type:"submenu",item:Pe.triggeringItem,...rt}})})}})},jR=(n,a)=>{const f=(Pe,rt)=>n.getRelated(Pe).exists(Mt=>Bp(Mt,rt)),g=(Pe,rt)=>{Rr.setContent(Pe,rt)},w=(Pe,rt,bt)=>{_(Pe,rt,bt,U.none())},_=(Pe,rt,bt,Mt)=>{M(Pe,rt,bt,()=>Mt.map(kt=>$r(kt)))},M=(Pe,rt,bt,Mt)=>{const kt=n.lazySink(Pe).getOrDie();Rr.openWhileCloaked(Pe,rt,()=>pc.positionWithinBounds(kt,Pe,bt,Mt())),qn.setValue(Pe,U.some({mode:"position",config:bt,getBounds:Mt}))},V=(Pe,rt,bt)=>{J(Pe,rt,bt,U.none)},J=(Pe,rt,bt,Mt)=>{const kt=ED(n,Pe,rt,bt,Mt);Rr.open(Pe,kt),qn.setValue(Pe,U.some({mode:"menu",menu:kt}))},ne=Pe=>{Rr.isOpen(Pe)&&(qn.setValue(Pe,U.none()),Rr.close(Pe))},de=Pe=>Rr.getState(Pe),ye=Pe=>{Rr.isOpen(Pe)&&qn.getValue(Pe).each(rt=>{switch(rt.mode){case"menu":Rr.getState(Pe).each(gb.repositionMenus);break;case"position":const bt=n.lazySink(Pe).getOrDie();pc.positionWithinBounds(bt,Pe,rt.config,rt.getBounds());break}})},Ne={setContent:g,showAt:w,showWithin:_,showWithinBounds:M,showMenuAt:V,showMenuWithinBounds:J,hide:ne,getContent:de,reposition:ye,isOpen:Rr.isOpen};return{uid:n.uid,dom:n.dom,behaviours:il(n.inlineBehaviours,[Rr.config({isPartOf:(Pe,rt,bt)=>Bp(rt,bt)||f(Pe,bt),getAttachPoint:Pe=>n.lazySink(Pe).getOrDie(),onOpen:Pe=>{n.onShow(Pe)},onClose:Pe=>{n.onHide(Pe)}}),qn.config({store:{mode:"memory",initialValue:U.none()}}),Ef.config({channels:{...G1({isExtraPart:a.isExtraPart,...n.fireDismissalEventInstead.map(Pe=>({fireEventInstead:{event:Pe.event}})).getOr({})}),...Af({...n.fireRepositionEventInstead.map(Pe=>({fireEventInstead:{event:Pe.event}})).getOr({}),doReposition:ye})}})]),eventOrder:n.eventOrder,apis:Ne}},ea=Zu({name:"InlineView",configFields:[ln("lazySink"),qr("onShow"),qr("onHide"),Gi("onEscape"),wa("inlineBehaviours",[Rr,qn,Ef]),lc("fireDismissalEventInstead",[$t("event",Dp())]),lc("fireRepositionEventInstead",[$t("event",d0())]),$t("getRelated",U.none),$t("isExtraPart",he),$t("eventOrder",U.none)],factory:jR,apis:{showAt:(n,a,f,g)=>{n.showAt(a,f,g)},showWithin:(n,a,f,g,w)=>{n.showWithin(a,f,g,w)},showWithinBounds:(n,a,f,g,w)=>{n.showWithinBounds(a,f,g,w)},showMenuAt:(n,a,f,g)=>{n.showMenuAt(a,f,g)},showMenuWithinBounds:(n,a,f,g,w)=>{n.showMenuWithinBounds(a,f,g,w)},hide:(n,a)=>{n.hide(a)},isOpen:(n,a)=>n.isOpen(a),getContent:(n,a)=>n.getContent(a),setContent:(n,a,f)=>{n.setContent(a,f)},reposition:(n,a)=>{n.reposition(a)}}});var z2=tinymce.util.Tools.resolve("tinymce.util.Delay");const ou=Zu({name:"Button",factory:n=>{const a=lA(n.action),f=n.dom.tag,g=_=>pn(n.dom,"attributes").bind(M=>pn(M,_)),w=()=>{if(f==="button"){const _=g("type").getOr("button"),M=g("role").map(V=>({role:V})).getOr({});return{type:_,...M}}else return{role:g("role").getOr("button")}};return{uid:n.uid,dom:n.dom,components:n.components,events:a,behaviours:xu.augment(n.buttonBehaviours,[qo.config({}),No.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:w()},eventOrder:n.eventOrder}},configFields:[$t("uid",void 0),ln("dom"),$t("components",[]),xu.field("buttonBehaviours",[qo,No]),Kr("action"),Kr("role"),$t("eventOrder",{})]}),oi=n=>{const a=I$(n)&&yr(n,"uid")?n.uid:Hg("memento");return{get:_=>_.getSystem().getByUid(a).getOrDie(),getOpt:_=>_.getSystem().getByUid(a).toOptional(),asSpec:()=>({...n,uid:a})}};var Hd=tinymce.util.Tools.resolve("tinymce.util.I18n");const lG={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},kD="temporary-placeholder",AD=n=>()=>pn(n,kD).getOr("!not found!"),TD=(n,a)=>{const f=n.toLowerCase();if(Hd.isRtl()){const g=ra(f,"-rtl");return eo(a,g)?g:f}else return f},fA=(n,a)=>pn(a,TD(n,a)),OD=(n,a)=>{const f=a();return fA(n,f).getOrThunk(AD(f))},zR=(n,a,f)=>{const g=a();return fA(n,g).or(f).getOrThunk(AD(g))},cG=n=>Hd.isRtl()?eo(lG,n):!1,_x=()=>Mr("add-focusable",[Yi(n=>{P_(n.element,"svg").each(a=>Fn(a,"focusable","false"))})]),VR=(n,a,f,g)=>{var w,_;const M=cG(a)?["tox-icon--flip"]:[],V=pn(f,TD(a,f)).or(g).getOrThunk(AD(f));return{dom:{tag:n.tag,attributes:(w=n.attributes)!==null&&w!==void 0?w:{},classes:n.classes.concat(M),innerHtml:V},behaviours:Mn([...(_=n.behaviours)!==null&&_!==void 0?_:[],_x()])}},Fh=(n,a,f,g=U.none())=>VR(a,n,f(),g),uG=(n,a,f)=>{const g=f(),w=Re(n,_=>eo(g,TD(_,g)));return VR(a,w.getOr(kD),g,U.none())},fG={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},dA=Zu({name:"Notification",factory:n=>{const a=oi({dom:{tag:"p",innerHtml:n.translationProvider(n.text)},behaviours:Mn([kr.config({})])}),f=Pe=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${Pe}%`}}}),g=Pe=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${Pe}%`}}),w=oi({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(0)]},g(0)],behaviours:Mn([kr.config({})])}),V={updateProgress:(Pe,rt)=>{Pe.getSystem().isConnected()&&w.getOpt(Pe).each(bt=>{kr.set(bt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[f(rt)]},g(rt)])})},updateText:(Pe,rt)=>{if(Pe.getSystem().isConnected()){const bt=a.get(Pe);kr.set(bt,[Xi(rt)])}}},J=Oe([n.icon.toArray(),n.level.toArray(),n.level.bind(Pe=>U.from(fG[Pe])).toArray()]),ne=oi(ou.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Fh("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:Pe=>{n.onAction(Pe)}})),de=uG(J,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),ye={dom:{tag:"div",classes:["tox-notification__body"]},components:[a.asSpec()],behaviours:Mn([kr.config({})])},Ne=[de,ye];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(Pe=>["tox-notification","tox-notification--in",`tox-notification--${Pe}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:Mn([qo.config({}),Mr("notification-events",[on(_p(),Pe=>{ne.getOpt(Pe).each(qo.focus)})])]),components:Ne.concat(n.progress?[w.asSpec()]:[]).concat(n.closeButton?[ne.asSpec()]:[]),apis:V}},configFields:[Kr("level"),ln("progress"),Kr("icon"),ln("onAction"),ln("text"),ln("iconProvider"),ln("translationProvider"),$c("closeButton",!0)],apis:{updateProgress:(n,a,f)=>{n.updateProgress(a,f)},updateText:(n,a,f)=>{n.updateText(a,f)}}});var _D=(n,a,f)=>{const g=a.backstage.shared,w=()=>{const J=$r(dn.fromDom(n.getContentAreaContainer())),ne=Ha(),de=tu(ne.x,J.x,J.right),ye=tu(ne.y,J.y,J.bottom),Ne=Math.max(J.right,ne.right),Pe=Math.max(J.bottom,ne.bottom);return U.some(bo(de,ye,Ne-de,Pe-ye))};return{open:(J,ne)=>{const de=()=>{ne(),ea.hide(Ne)},ye=uc(dA.sketch({text:J.text,level:fe(["success","error","warning","warn","info"],J.type)?J.type:void 0,progress:J.progressBar===!0,icon:J.icon,closeButton:J.closeButton,onAction:de,iconProvider:g.providers.icons,translationProvider:g.providers.translate})),Ne=uc(ea.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:g.getSink,fireDismissalEventInstead:{},...g.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));f.add(Ne),D(J.timeout)&&J.timeout>0&&z2.setEditorTimeout(n,()=>{de()},J.timeout);const rt={close:de,reposition:()=>{const bt=Vu(ye),Mt={maxHeightFunction:N0()},kt=n.notificationManager.getNotifications();if(kt[0]===rt){const Lt={...g.anchors.banner(),overrides:Mt};ea.showWithinBounds(Ne,bt,{anchor:Lt},w)}else le(kt,rt).each(Lt=>{const Zn=kt[Lt-1].getEl(),Xt={type:"node",root:Ke(),node:U.some(dn.fromDom(Zn)),overrides:Mt,layouts:{onRtl:()=>[sl],onLtr:()=>[sl]}};ea.showWithinBounds(Ne,bt,{anchor:Xt},w)})},text:bt=>{dA.updateText(ye,bt)},settings:J,getEl:()=>ye.element.dom,progressBar:{value:bt=>{dA.updateProgress(ye,bt)}}};return rt},close:J=>{J.close()},getArgs:J=>J.settings}},$x=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),hA=tinymce.util.Tools.resolve("tinymce.EditorManager"),V2=tinymce.util.Tools.resolve("tinymce.Env"),cd;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(cd||(cd={}));var Dx;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(Dx||(Dx={}));const ri=n=>a=>a.options.get(n),Bx=n=>a=>U.from(n(a)),UR=n=>{const a=V2.deviceType.isPhone(),f=V2.deviceType.isTablet()||a,g=n.options.register,w=M=>v(M)||M===!1,_=M=>v(M)||D(M);g("skin",{processor:M=>v(M)||M===!1,default:"oxide"}),g("skin_url",{processor:"string"}),g("height",{processor:_,default:Math.max(n.getElement().offsetHeight,400)}),g("width",{processor:_,default:$x.DOM.getStyle(n.getElement(),"width")}),g("min_height",{processor:"number",default:100}),g("min_width",{processor:"number"}),g("max_height",{processor:"number"}),g("max_width",{processor:"number"}),g("style_formats",{processor:"object[]"}),g("style_formats_merge",{processor:"boolean",default:!1}),g("style_formats_autohide",{processor:"boolean",default:!1}),g("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),g("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),g("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),g("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),g("content_langs",{processor:"object[]"}),g("removed_menuitems",{processor:"string",default:""}),g("menubar",{processor:M=>v(M)||E(M),default:!a}),g("menu",{processor:"object",default:{}}),g("toolbar",{processor:M=>E(M)||v(M)||x(M)?{value:M,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Be(9,M=>{g("toolbar"+(M+1),{processor:"string"})}),g("toolbar_mode",{processor:"string",default:f?"scrolling":"floating"}),g("toolbar_groups",{processor:"object",default:{}}),g("toolbar_location",{processor:"string",default:Dx.auto}),g("toolbar_persist",{processor:"boolean",default:!1}),g("toolbar_sticky",{processor:"boolean",default:n.inline}),g("toolbar_sticky_offset",{processor:"number",default:0}),g("fixed_toolbar_container",{processor:"string",default:""}),g("fixed_toolbar_container_target",{processor:"object"}),g("file_picker_callback",{processor:"function"}),g("file_picker_validator_handler",{processor:"function"}),g("file_picker_types",{processor:"string"}),g("typeahead_urls",{processor:"boolean",default:!0}),g("anchor_top",{processor:w,default:"#top"}),g("anchor_bottom",{processor:w,default:"#bottom"}),g("draggable_modal",{processor:"boolean",default:!1}),g("statusbar",{processor:"boolean",default:!0}),g("elementpath",{processor:"boolean",default:!0}),g("branding",{processor:"boolean",default:!0}),g("promotion",{processor:"boolean",default:!0}),g("resize",{processor:M=>M==="both"||E(M),default:!V2.deviceType.isTouch()}),g("sidebar_show",{processor:"string"})},$D=ri("readonly"),DD=ri("height"),BD=ri("width"),Nx=Bx(ri("min_width")),xm=Bx(ri("min_height")),pA=Bx(ri("max_width")),ND=Bx(ri("max_height")),gA=Bx(ri("style_formats")),WR=ri("style_formats_merge"),PD=ri("style_formats_autohide"),qR=ri("content_langs"),FD=ri("removed_menuitems"),mb=ri("toolbar_mode"),mA=ri("toolbar_groups"),RD=ri("toolbar_location"),ZR=ri("fixed_toolbar_container"),dG=ri("fixed_toolbar_container_target"),U2=ri("toolbar_persist"),GR=ri("toolbar_sticky_offset"),vA=ri("menubar"),W2=ri("toolbar"),KR=ri("file_picker_callback"),YR=ri("file_picker_validator_handler"),bA=ri("file_picker_types"),XR=ri("typeahead_urls"),JR=ri("anchor_top"),QR=ri("anchor_bottom"),e9=ri("draggable_modal"),t9=ri("statusbar"),n9=ri("elementpath"),o9=ri("branding"),r9=ri("resize"),s9=ri("paste_as_text"),i9=ri("sidebar_show"),a9=ri("promotion"),MD=n=>n.options.get("skin")===!1,q2=n=>n.options.get("menubar")!==!1,l9=n=>{const a=n.options.get("skin_url");if(MD(n))return a;if(a)return n.documentBaseURI.toAbsolute(a);{const f=n.options.get("skin");return hA.baseURL+"/skins/ui/"+f}},c9=n=>n.options.get("line_height_formats").split(" "),yA=n=>{const a=W2(n),f=v(a),g=x(a)&&a.length>0;return!Px(n)&&(g||f||a===!0)},wA=n=>{const a=Be(9,g=>n.options.get("toolbar"+(g+1))),f=tt(a,v);return Es(f.length>0,f)},Px=n=>wA(n).fold(()=>{const a=W2(n);return O(a,v)&&a.length>0},ve),ID=n=>RD(n)===Dx.bottom,u9=n=>{var a;if(!n.inline)return U.none();const f=(a=ZR(n))!==null&&a!==void 0?a:"";if(f.length>0)return $a(Ke(),f);const g=dG(n);return N(g)?U.some(dn.fromDom(g)):U.none()},Fx=n=>n.inline&&u9(n).isSome(),LD=n=>u9(n).getOrThunk(()=>Os(or(dn.fromDom(n.getElement())))),HD=n=>n.inline&&!q2(n)&&!yA(n)&&!Px(n),vb=n=>(n.options.get("toolbar_sticky")||n.inline)&&!Fx(n)&&!HD(n),f9=n=>{const a=n.options.get("menu");return kn(a,f=>({...f,items:f.items}))};var hG=Object.freeze({__proto__:null,get ToolbarMode(){return cd},get ToolbarLocation(){return Dx},register:UR,getSkinUrl:l9,isReadOnly:$D,isSkinDisabled:MD,getHeightOption:DD,getWidthOption:BD,getMinWidthOption:Nx,getMinHeightOption:xm,getMaxWidthOption:pA,getMaxHeightOption:ND,getUserStyleFormats:gA,shouldMergeStyleFormats:WR,shouldAutoHideStyleFormats:PD,getLineHeightFormats:c9,getContentLanguages:qR,getRemovedMenuItems:FD,isMenubarEnabled:q2,isMultipleToolbars:Px,isToolbarEnabled:yA,isToolbarPersist:U2,getMultipleToolbarsOption:wA,getUiContainer:LD,useFixedContainer:Fx,getToolbarMode:mb,isDraggableModal:e9,isDistractionFree:HD,isStickyToolbar:vb,getStickyToolbarOffset:GR,getToolbarLocation:RD,isToolbarLocationBottom:ID,getToolbarGroups:mA,getMenus:f9,getMenubar:vA,getToolbar:W2,getFilePickerCallback:KR,getFilePickerTypes:bA,useTypeaheadUrls:XR,getAnchorTop:JR,getAnchorBottom:QR,getFilePickerValidatorHandler:YR,useStatusBar:t9,useElementPath:n9,promotionEnabled:a9,useBranding:o9,getResize:r9,getPasteAsText:s9,getSidebarShow:i9});const d9="[data-mce-autocompleter]",h9=n=>ol(n,d9),pG=n=>$a(n,d9),gG={setup:(n,a)=>{const f=(w,_)=>{Ho(w,i0(),{raw:_})},g=()=>n.getMenu().bind(us.getHighlighted);a.on("keydown",w=>{const _=w.which;!n.isActive()||(n.isMenuOpen()?_===13?(g().each(vu),w.preventDefault()):_===40?(g().fold(()=>{n.getMenu().each(us.highlightFirst)},M=>{f(M,w)}),w.preventDefault(),w.stopImmediatePropagation()):(_===37||_===38||_===39)&&g().each(M=>{f(M,w),w.preventDefault(),w.stopImmediatePropagation()}):(_===13||_===38||_===40)&&n.cancelIfNecessary())}),a.on("NodeChange",w=>{n.isActive()&&!n.isProcessingAction()&&h9(dn.fromDom(w.element)).isNone()&&n.cancelIfNecessary()})}};var jD;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(jD||(jD={}));var Rh=jD;const zD="tox-menu-nav__js",CA="tox-collection__item",Z2="tox-swatch",mG={normal:zD,color:Z2},SA="tox-collection__item--enabled",vG="tox-collection__group-heading",p9="tox-collection__item-icon",VD="tox-collection__item-label",bG="tox-collection__item-accessory",UD="tox-collection__item-caret",yG="tox-collection__item-checkmark",bb="tox-collection__item--active",xA="tox-collection__item-container",g9="tox-collection__item-container--column",EA="tox-collection__item-container--row",kA="tox-collection__item-container--align-right",m9="tox-collection__item-container--align-left",Kp="tox-collection__item-container--valign-top",WD="tox-collection__item-container--valign-middle",wG="tox-collection__item-container--valign-bottom",v9=n=>pn(mG,n).getOr(zD),CG=n=>n==="color"?"tox-swatches":"tox-menu",qD=n=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:CG(n),tieredMenu:"tox-tiered-menu"}),jd=n=>{const a=qD(n);return{backgroundMenu:a.backgroundMenu,selectedMenu:a.selectedMenu,menu:a.menu,selectedItem:a.selectedItem,item:v9(n)}},SG=(n,a,f)=>{const g=qD(f);return{tag:"div",classes:Oe([[g.menu,`tox-menu-${a}-column`],n?[g.hasIcons]:[]])}},xG=[pb.parts.items({})],Rx=(n,a,f)=>{const g=qD(f);return{dom:{tag:"div",classes:Oe([[g.tieredMenu]])},markers:jd(f)}},ZD=j([Kr("data"),$t("inputAttributes",{}),$t("inputStyles",{}),$t("tag","input"),$t("inputClasses",[]),qr("onSetValue"),$t("styles",{}),$t("eventOrder",{}),wa("inputBehaviours",[qn,qo]),$t("selectOnFocus",!0)]),AA=n=>Mn([qo.config({onFocus:n.selectOnFocus?a=>{const f=a.element,g=Yl(f);f.dom.setSelectionRange(0,g.length)}:P})]),EG=n=>({...AA(n),...il(n.inputBehaviours,[qn.config({store:{mode:"manual",...n.data.map(a=>({initialValue:a})).getOr({}),getValue:a=>Yl(a.element),setValue:(a,f)=>{Yl(a.element)!==f&&Wg(a.element,f)}},onSetValue:n.onSetValue})])}),TA=n=>({tag:n.tag,attributes:{type:"text",...n.inputAttributes},styles:n.inputStyles,classes:n.inputClasses}),GD=(n,a)=>({uid:n.uid,dom:TA(n),components:[],behaviours:EG(n),eventOrder:n.eventOrder}),G2=Zu({name:"Input",configFields:ZD(),factory:GD}),KD=fo("refetch-trigger-event"),YD=fo("redirect-menu-item-interaction"),b9="tox-menu__searcher",OA=n=>$a(n.element,`.${b9}`).bind(a=>n.getSystem().getByDom(a).toOptional()),y9=OA,kG=(n,a)=>{qn.setValue(n,a.fetchPattern),n.element.dom.selectionStart=a.selectionStart,n.element.dom.selectionEnd=a.selectionEnd},w9=n=>{const a=qn.getValue(n),f=n.element.dom.selectionStart,g=n.element.dom.selectionEnd;return{fetchPattern:a,selectionStart:f,selectionEnd:g}},AG=(n,a)=>{pe(a.element,"id").each(f=>Fn(n.element,"aria-activedescendant",f))},TG=n=>{const a=(w,_)=>(_.cut(),U.none()),f=(w,_)=>{const M={interactionEvent:_.event,eventType:_.event.raw.type};return Ho(w,YD,M),U.some(!0)},g="searcher-events";return{dom:{tag:"div",classes:[CA]},components:[G2.sketch({inputClasses:[b9,"tox-textfield"],inputAttributes:{...n.placeholder.map(w=>({placeholder:n.i18n(w)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Mn([Mr(g,[on(Fg(),w=>{ms(w,KD)}),on(i0(),(w,_)=>{_.event.raw.key==="Escape"&&_.stop()})]),No.config({mode:"special",onLeft:a,onRight:a,onSpace:a,onEnter:f,onEscape:f,onUp:f,onDown:f})]),eventOrder:{keydown:[g,No.name()]}})]}},_A="tox-collection--results__js",K2=n=>{var a;return n.dom?{...n,dom:{...n.dom,attributes:{...(a=n.dom.attributes)!==null&&a!==void 0?a:{},id:fo("aria-item-search-result-id"),"aria-selected":"false"}}}:n},$A=(n,a)=>f=>{const g=Ce(f,a);return me(g,w=>({dom:n,components:w}))},OG=n=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[pb.parts.items({preprocess:n!=="auto"?$A({tag:"div",classes:["tox-swatches__row"]},n):oe})]}]}),_G=n=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[pb.parts.items({preprocess:$A({tag:"div",classes:["tox-collection__group"]},n)})]}),XD=(n,a)=>{const f=[];let g=[];return q(n,(w,_)=>{a(w,_)?(g.length>0&&f.push(g),g=[],(eo(w.dom,"innerHtml")||w.components&&w.components.length>0)&&g.push(w)):g.push(w)}),g.length>0&&f.push(g),me(f,w=>({dom:{tag:"div",classes:["tox-collection__group"]},components:w}))},JD=(n,a,f)=>pb.parts.items({preprocess:g=>{const w=me(g,f);return n!=="auto"&&n>1?$A({tag:"div",classes:["tox-collection__group"]},n)(w):XD(w,(_,M)=>a[M].type==="separator")}}),C9=(n,a,f=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[JD(n,a,oe)]}),S9=(n,a,f=!0)=>{const g=fo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",_A].concat(n===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:g}},components:[JD(n,a,K2)]}},x9=(n,a,f)=>{const g=fo("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[TG({i18n:Hd.translate,placeholder:f.placeholder}),{dom:{tag:"div",classes:[...n===1?["tox-collection--list"]:["tox-collection--grid"],_A],attributes:{id:g}},components:[JD(n,a,K2)]}]}},E9=(n,a=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[pb.parts.items({preprocess:f=>XD(f,(g,w)=>n[w].type==="separator")})]}),Mx=n=>ue(n,a=>"icon"in a&&a.icon!==void 0),Em=n=>(console.error(Td(n)),console.log(n),U.none()),$G=(n,a,f,g,w)=>{const _=E9(f);return{value:n,dom:_.dom,components:_.components,items:f}},DA=(n,a,f,g,w)=>{const _=()=>w.menuType!=="searchable"?C9(g,f):w.searchMode.searchMode==="search-with-field"?x9(g,f,w.searchMode):S9(g,f);if(w.menuType==="color"){const M=OG(g);return{value:n,dom:M.dom,components:M.components,items:f}}else if(w.menuType==="normal"&&g==="auto"){const M=C9(g,f);return{value:n,dom:M.dom,components:M.components,items:f}}else if(w.menuType==="normal"||w.menuType==="searchable"){const M=_();return{value:n,dom:M.dom,components:M.components,items:f}}else if(w.menuType==="listpreview"&&g!=="auto"){const M=_G(g);return{value:n,dom:M.dom,components:M.components,items:f}}else return{value:n,dom:SG(a,g,w.menuType),components:xG,items:f}},ta=Zi("type"),Ix=Zi("name"),BA=Zi("label"),km=Zi("text"),k9=Zi("title"),A9=Zi("icon"),yb=Zi("value"),DG=yf("fetch"),T9=yf("getSubmenuItems"),wb=yf("onAction"),Y2=yf("onItemAction"),Cb=ma("onSetup",()=>P),QD=Rl("name"),Am=Rl("text"),Mh=Rl("icon"),Lx=Rl("tooltip"),NA=Rl("label"),O9=Rl("shortcut"),e6=Gi("select"),Hx=$c("active",!1),BG=$c("borderless",!1),zd=$c("enabled",!0),jx=$c("primary",!1),t6=n=>$t("columns",n),PA=$t("meta",{}),n6=ma("onAction",P),lv=n=>_c("type",n),Sb=n=>ja("name","name",mf(()=>fo(`${n}-name`)),Di),NG=n=>ja("value","value",mf(()=>fo(`${n}-value`)),Gc()),_9=Oo([ta,Am]),PG=n=>jr("separatormenuitem",_9,n),$9=Oo([lv("autocompleteitem"),Hx,zd,PA,yb,Am,Mh]),D9=n=>jr("Autocompleter.Separator",_9,n),FG=n=>jr("Autocompleter.Item",$9,n),zx=[zd,Lx,Mh,Am,Cb],RG=Oo([ta,wb].concat(zx)),B9=n=>jr("toolbarbutton",RG,n),o6=[Hx].concat(zx),FA=Oo(o6.concat([ta,wb])),N9=n=>jr("ToggleButton",FA,n),r6=[ma("predicate",he),Gf("scope","node",["node","editor"]),Gf("position","selection",["node","selection","line"])],P9=zx.concat([lv("contextformbutton"),jx,wb,ml("original",oe)]),F9=o6.concat([lv("contextformbutton"),jx,wb,ml("original",oe)]),MG=zx.concat([lv("contextformbutton")]),R9=o6.concat([lv("contextformtogglebutton")]),M9=Kc("type",{contextformbutton:P9,contextformtogglebutton:F9}),I9=Oo([lv("contextform"),ma("initValue",j("")),NA,Fl("commands",M9),Zf("launch",Kc("type",{contextformbutton:MG,contextformtogglebutton:R9}))].concat(r6)),L9=n=>jr("ContextForm",I9,n),IG=Oo([lv("contexttoolbar"),Zi("items")].concat(r6)),LG=n=>jr("ContextToolbar",IG,n),HG=[ta,Zi("src"),Rl("alt"),X("classes",[],Di)],jG=Oo(HG),xb=[ta,km,QD,X("classes",["tox-collection__item-label"],Di)],s6=Oo(xb),H9=gu(()=>Ad("type",{cardimage:jG,cardtext:s6,cardcontainer:RA})),RA=Oo([ta,_c("direction","horizontal"),_c("align","left"),_c("valign","middle"),Fl("items",H9)]),ku=[zd,Am,O9,NG("menuitem"),PA],zG=Oo([ta,NA,Fl("items",H9),Cb,n6].concat(ku)),VG=n=>jr("cardmenuitem",zG,n),UG=Oo([ta,Hx,Mh].concat(ku)),i6=n=>jr("choicemenuitem",UG,n),j9=[ta,Zi("fancytype"),n6],WG=[$t("initData",{})].concat(j9),z9=[_e("initData",{},[$c("allowCustomColors",!0),Op("colors",Gc())])].concat(j9),qG=Kc("fancytype",{inserttable:WG,colorswatch:z9}),ZG=n=>jr("fancymenuitem",qG,n),GG=Oo([ta,Cb,n6,Mh].concat(ku)),Ku=n=>jr("menuitem",GG,n),Yp=Oo([ta,T9,Cb,Mh].concat(ku)),KG=n=>jr("nestedmenuitem",Yp,n),V9=Oo([ta,Mh,Hx,Cb,wb].concat(ku)),MA=n=>jr("togglemenuitem",V9,n),Vx=(n,a,f)=>{const g=jl(n.element,"."+f);if(g.length>0){const w=Ve(g,_=>{const M=_.dom.getBoundingClientRect().top,V=g[0].dom.getBoundingClientRect().top;return Math.abs(M-V)>a}).getOr(g.length);return U.some({numColumns:w,numRows:Math.ceil(g.length/w)})}else return U.none()},U9=(n,a)=>Mn([Mr(n,a)]),cv={namedEvents:U9,unnamedEvents:n=>U9(fo("unnamed-events"),n)},Ux=fo("tooltip.exclusive"),Wx=fo("tooltip.show"),Vd=fo("tooltip.hide"),W9=(n,a,f)=>{n.getSystem().broadcastOn([Ux],{})};var Yu=Object.freeze({__proto__:null,hideAllExclusive:W9,setComponents:(n,a,f,g)=>{f.getTooltip().each(w=>{w.getSystem().isConnected()&&kr.set(w,g)})}}),Ih=Object.freeze({__proto__:null,events:(n,a)=>{const f=w=>{a.getTooltip().each(_=>{zl(_),n.onHide(w,_),a.clearTooltip()}),a.clearTimer()},g=w=>{if(!a.isShowing()){W9(w);const _=n.lazySink(w).getOrDie(),M=w.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Dr(n.mode==="normal"?[on(_d(),V=>{ms(w,Wx)}),on(Yf(),V=>{ms(w,Vd)})]:[]),behaviours:Mn([kr.config({})])});a.setTooltip(M),Hp(_,M),n.onShow(w,M),pc.position(_,M,{anchor:n.anchor(w)})}};return Dr(Oe([[on(Wx,w=>{a.resetTimer(()=>{g(w)},n.delay)}),on(Vd,w=>{a.resetTimer(()=>{f(w)},n.delay)}),on(Xf(),(w,_)=>{const M=_;M.universal||fe(M.channels,Ux)&&f(w)}),Jf(w=>{f(w)})],n.mode==="normal"?[on(_p(),w=>{ms(w,Wx)}),on(va(),w=>{ms(w,Vd)}),on(_d(),w=>{ms(w,Wx)}),on(Yf(),w=>{ms(w,Vd)})]:[on(GC(),(w,_)=>{ms(w,Wx)}),on(b1(),w=>{ms(w,Vd)})]]))}}),YG=[ln("lazySink"),ln("tooltipDom"),$t("exclusive",!0),$t("tooltipComponents",[]),$t("delay",300),Gf("mode","normal",["normal","follow-highlight"]),$t("anchor",n=>({type:"hotspot",hotspot:n,layouts:{onLtr:j([sl,Ll,Il,Xl,yl,hi]),onRtl:j([sl,Ll,Il,Xl,yl,hi])}})),qr("onHide"),qr("onShow")],Eb=Object.freeze({__proto__:null,init:()=>{const n=ki(),a=ki(),f=()=>{n.on(clearTimeout)},g=(_,M)=>{f(),n.set(setTimeout(_,M))},w=j("not-implemented");return bu({getTooltip:a.get,isShowing:a.isSet,setTooltip:a.set,clearTooltip:a.clear,clearTimer:f,resetTimer:g,readState:w})}});const qx=Va({fields:YG,name:"tooltipping",active:Ih,state:Eb,apis:Yu}),Z9=n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Zx="silver.readonly",a6=Oo([dh("readonly")]),IA=(n,a)=>{const g=n.outerContainer.element;a&&(n.mothership.broadcastOn([Md()],{target:g}),n.uiMothership.broadcastOn([Md()],{target:g})),n.mothership.broadcastOn([Zx],{readonly:a}),n.uiMothership.broadcastOn([Zx],{readonly:a})},LA=(n,a)=>{n.on("init",()=>{n.mode.isReadOnly()&&IA(a,!0)}),n.on("SwitchMode",()=>IA(a,n.mode.isReadOnly())),$D(n)&&n.mode.set("readonly")},Wa=()=>Ef.config({channels:{[Zx]:{schema:a6,onReceive:(n,a)=>{Bo.set(n,a.readonly)}}}}),Xu={item:n=>Bo.config({disabled:n,disableClass:"tox-collection__item--state-disabled"}),button:n=>Bo.config({disabled:n}),splitButton:n=>Bo.config({disabled:n,disableClass:"tox-tbtn--disabled"}),toolbarButton:n=>Bo.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},HA=(n,a)=>{const f=n.getApi(a);return g=>{g(f)}},Gx=(n,a)=>Yi(f=>{HA(n,f)(w=>{const _=n.onSetup(w);$(_)&&a.set(_)})}),Kx=(n,a)=>Jf(f=>HA(n,f)(a.get())),eK=(n,a)=>wh((f,g)=>{HA(n,f)(n.onAction),!n.triggersSubmenu&&a===Rh.CLOSE_ON_EXECUTE&&(f.getSystem().isConnected()&&ms(f,_y()),g.stop())}),tK={[mu()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Yx=pr,X2=(n,a,f,g)=>{const w=$e(P);return{type:"item",dom:a.dom,components:Yx(a.optComponents),data:n.data,eventOrder:tK,hasSubmenu:n.triggersSubmenu,itemBehaviours:Mn([Mr("item-events",[eK(n,f),Gx(n,w),Kx(n,w)]),Xu.item(()=>!n.enabled||g.isDisabled()),Wa(),kr.config({})].concat(n.itemBehaviours))}},J2=n=>({value:n.value,meta:{text:n.text.getOr(""),...n.meta}}),nK=n=>{const a=V2.os.isMacOS()||V2.os.isiOS(),w=a?{alt:"\u2325",ctrl:"\u2303",shift:"\u21E7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},_=n.split("+"),M=me(_,V=>{const J=V.toLowerCase().trim();return eo(w,J)?w[J]:V});return a?M.join(""):M.join("+")},l6=(n,a,f=[p9])=>Fh(n,{tag:"div",classes:f},a),c6=n=>({dom:{tag:"div",classes:[VD]},components:[Xi(Hd.translate(n))]}),K9=(n,a)=>({dom:{tag:"div",classes:a,innerHtml:n}}),Y9=(n,a)=>({dom:{tag:"div",classes:[VD]},components:[{dom:{tag:n.tag,styles:n.styles},components:[Xi(Hd.translate(a))]}]}),X9=n=>({dom:{tag:"div",classes:[bG]},components:[Xi(nK(n))]}),J9=n=>l6("checkmark",n,[yG]),oK=n=>l6("chevron-right",n,[UD]),rK=n=>l6("chevron-down",n,[UD]),sK=(n,a)=>{const f=n.direction==="vertical"?g9:EA,g=n.align==="left"?m9:kA;return{dom:{tag:"div",classes:[xA,f,g,(()=>{switch(n.valign){case"top":return Kp;case"middle":return WD;case"bottom":return wG}})()]},components:a}},iK=(n,a,f)=>({dom:{tag:"img",classes:a,attributes:{src:n,alt:f.getOr("")}}}),aK=(n,a,f)=>{const g="custom",w="remove",_=n.ariaLabel,M=n.value,V=n.iconContent.map(ne=>zR(ne,a.icons,f));return{dom:(()=>{const ne=Z2,de=V.getOr(""),ye=_.map(Pe=>({title:a.translate(Pe)})).getOr({}),Ne={tag:"div",attributes:ye,classes:[ne]};return M===g?{...Ne,tag:"button",classes:[...Ne.classes,"tox-swatches__picker-btn"],innerHtml:de}:M===w?{...Ne,classes:[...Ne.classes,"tox-swatch--remove"],innerHtml:de}:N(M)?{...Ne,attributes:{...Ne.attributes,"data-mce-color":M},styles:{"background-color":M}}:Ne})(),optComponents:[]}},Q9=n=>{const a=n.map(f=>({attributes:{title:Hd.translate(f)}})).getOr({});return{tag:"div",classes:[zD,CA],...a}},u6=(n,a,f,g)=>{const w={tag:"div",classes:[p9]},_=Ne=>Fh(Ne,w,a.icons,g),M=()=>U.some({dom:w}),V=f?n.iconContent.map(_).orThunk(M):U.none(),J=n.checkMark,ne=U.from(n.meta).fold(()=>c6,Ne=>eo(Ne,"style")?se(Y9,Ne.style):c6),de=n.htmlContent.fold(()=>n.textContent.map(ne),Ne=>U.some(K9(Ne,[VD])));return{dom:Q9(n.ariaLabel),optComponents:[V,de,n.shortcutContent.map(X9),J,n.caret]}},Q2=(n,a,f,g=U.none())=>n.presets==="color"?aK(n,a,g):u6(n,a,f,g),eM=(n,a)=>pn(n,"tooltipWorker").map(f=>[qx.config({lazySink:a.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:g=>({type:"submenu",item:g,overrides:{maxHeightFunction:N0}}),mode:"follow-highlight",onShow:(g,w)=>{f(_=>{qx.setComponents(g,[A1({element:dn.fromDom(_)})])})}})]).getOr([]),lK=n=>$x.DOM.encode(n),f6=(n,a)=>{const f=Hd.translate(n),g=lK(f);if(a.length>0){const w=new RegExp(Z9(a),"gi");return g.replace(w,_=>`<span class="tox-autocompleter-highlight">${_}</span>`)}else return g},cK=(n,a,f,g,w,_,M,V=!0)=>{const J=Q2({presets:g,textContent:U.none(),htmlContent:f?n.text.map(ne=>f6(ne,a)):U.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:U.none(),checkMark:U.none(),caret:U.none(),value:n.value},M.providers,V,n.icon);return X2({data:J2(n),enabled:n.enabled,getApi:j({}),onAction:ne=>w(n.value,n.meta),onSetup:j(P),triggersSubmenu:!1,itemBehaviours:eM(n.meta,M)},J,_,M.providers)},tM=(n,a)=>me(n,f=>{switch(f.type){case"cardcontainer":return sK(f,tM(f.items,a));case"cardimage":return iK(f.src,f.classes,f.alt);case"cardtext":const w=f.name.exists(_=>fe(a.cardText.highlightOn,_))?U.from(a.cardText.matchText).getOr(""):"";return K9(f6(f.text,w),f.classes)}}),nM=(n,a,f,g)=>{const w=M=>({isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>{Bo.set(M,!V),q(jl(M.element,"*"),J=>{M.getSystem().getByDom(J).each(ne=>{ne.hasConfigured(Bo)&&Bo.set(ne,!V)})})}}),_={dom:Q9(n.label),optComponents:[U.some({dom:{tag:"div",classes:[xA,EA]},components:tM(n.items,g)})]};return X2({data:J2({text:U.none(),...n}),enabled:n.enabled,getApi:w,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:U.from(g.itemBehaviours).getOr([])},_,a,f.providers)},oM=(n,a,f,g,w,_,M,V=!0)=>{const J=de=>({setActive:ye=>{Qr.set(de,ye)},isActive:()=>Qr.isOn(de),isEnabled:()=>!Bo.isDisabled(de),setEnabled:ye=>Bo.set(de,!ye)}),ne=Q2({presets:f,textContent:a?n.text:U.none(),htmlContent:U.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:a?n.shortcut:U.none(),checkMark:a?U.some(J9(M.icons)):U.none(),caret:U.none(),value:n.value},M,V);return Zs(X2({data:J2(n),enabled:n.enabled,getApi:J,onAction:de=>g(n.value),onSetup:de=>(de.setActive(w),P),triggersSubmenu:!1,itemBehaviours:[]},ne,_,M),{toggling:{toggleClass:SA,toggleOnExecute:!1,selected:n.active,exclusive:!0}})},d6=T2(yD(),wD()),rM=n=>({value:n}),sM=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,iM=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,aM=n=>sM.test(n)||iM.test(n),uK=n=>Yr(n,"#").toUpperCase(),lM=n=>aM(n)?U.some({value:uK(n)}):U.none(),fK=n=>({value:n.value.replace(sM,(f,g,w,_)=>g+g+w+w+_+_)}),dK=n=>{const a=fK(n),f=iM.exec(a.value);return f===null?["FFFFFF","FF","FF","FF"]:f},h6=n=>{const a=n.toString(16);return(a.length===1?"0"+a:a).toUpperCase()},Xx=n=>{const a=h6(n.red)+h6(n.green)+h6(n.blue);return rM(a)},cM=Math.min,uM=Math.max,Jx=Math.round,Lh=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,fM=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Tm=(n,a,f,g)=>({red:n,green:a,blue:f,alpha:g}),p6=n=>{const a=parseInt(n,10);return a.toString()===n&&a>=0&&a<=255},dM=n=>{let a,f,g;const w=(n.hue||0)%360;let _=n.saturation/100,M=n.value/100;if(_=uM(0,cM(_,1)),M=uM(0,cM(M,1)),_===0)return a=f=g=Jx(255*M),Tm(a,f,g,1);const V=w/60,J=M*_,ne=J*(1-Math.abs(V%2-1)),de=M-J;switch(Math.floor(V)){case 0:a=J,f=ne,g=0;break;case 1:a=ne,f=J,g=0;break;case 2:a=0,f=J,g=ne;break;case 3:a=0,f=ne,g=J;break;case 4:a=ne,f=0,g=J;break;case 5:a=J,f=0,g=ne;break;default:a=f=g=0}return a=Jx(255*(a+de)),f=Jx(255*(f+de)),g=Jx(255*(g+de)),Tm(a,f,g,1)},kb=n=>{const a=dK(n),f=parseInt(a[1],16),g=parseInt(a[2],16),w=parseInt(a[3],16);return Tm(f,g,w,1)},hM=(n,a,f,g)=>{const w=parseInt(n,10),_=parseInt(a,10),M=parseInt(f,10),V=parseFloat(g);return Tm(w,_,M,V)},pM=n=>{if(n==="transparent")return U.some(Tm(0,0,0,0));const a=Lh.exec(n);if(a!==null)return U.some(hM(a[1],a[2],a[3],"1"));const f=fM.exec(n);return f!==null?U.some(hM(f[1],f[2],f[3],f[4])):U.none()},g6=n=>`rgba(${n.red},${n.green},${n.blue},${n.alpha})`,gM=Tm(255,0,0,1),hK=n=>{n.dispatch("SkinLoaded")},pK=(n,a)=>{n.dispatch("SkinLoadError",a)},ew=n=>{n.dispatch("ResizeEditor")},m6=(n,a)=>{n.dispatch("ResizeContent",a)},mM=(n,a)=>{n.dispatch("ScrollContent",a)},vM=(n,a)=>{n.dispatch("TextColorChange",a)},bM=(n,a)=>{n.dispatch("AfterProgressState",{state:a})},v6=(n,a)=>n.dispatch("ResolveName",{name:a.nodeName.toLowerCase(),target:a}),Ab=(n,a,f)=>({hue:n,saturation:a,value:f}),Qx=n=>{let a=0,f=0,g=0;const w=n.red/255,_=n.green/255,M=n.blue/255,V=Math.min(w,Math.min(_,M)),J=Math.max(w,Math.max(_,M));if(V===J)return g=V,Ab(0,0,g*100);const ne=w===V?_-M:M===V?w-_:M-w;return a=w===V?3:M===V?1:5,a=60*(a-ne/(J-V)),f=(J-V)/J,g=J,Ab(Math.round(a),Math.round(f*100),Math.round(g*100))},yM=n=>Qx(kb(n)),wM=n=>Xx(dM(n)),CM=n=>lM(n).orThunk(()=>pM(n).map(Xx)).getOrThunk(()=>{const a=document.createElement("canvas");a.height=1,a.width=1;const f=a.getContext("2d");f.clearRect(0,0,a.width,a.height),f.fillStyle="#FFFFFF",f.fillStyle=n,f.fillRect(0,0,1,1);const g=f.getImageData(0,0,1,1).data,w=g[0],_=g[1],M=g[2],V=g[3];return Xx(Tm(w,_,M,V))});var jA=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const SM="tinymce-custom-colors",b6=((n=10)=>{const a=jA.getItem(SM),f=v(a)?JSON.parse(a):[],w=(J=>n-J.length<0?J.slice(0,n):J)(f),_=J=>{le(w,J).each(M),w.unshift(J),w.length>n&&w.pop(),jA.setItem(SM,JSON.stringify(w))},M=J=>{w.splice(J,1)};return{add:_,state:()=>w.slice(0)}})(10),xM=n=>Math.max(5,Math.ceil(Math.sqrt(n))),EM=n=>{const a=[];for(let f=0;f<n.length;f+=2)a.push({text:n[f+1],value:"#"+CM(n[f]).value,type:"choiceitem"});return a},y6=n=>a=>a.options.get(n),gK=n=>{const a=n.options.register;a("color_map",{processor:f=>O(f,v)?{value:EM(f),valid:!0}:{valid:!1,message:"Must be an array of strings."},default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),a("color_cols",{processor:"number",default:xM(w6(n).length)}),a("custom_colors",{processor:"boolean",default:!0})},kM=y6("color_cols"),AM=y6("custom_colors"),w6=y6("color_map"),mK=()=>me(b6.state(),n=>({type:"choiceitem",text:n,value:n})),TM=n=>{b6.add(n)},C6="#000000",vK=n=>N(n.style),bK=(n,a)=>{let f;return n.dom.getParents(n.selection.getStart(),g=>{const w=vK(g)?g.style[a==="forecolor"?"color":"backgroundColor"]:null;w&&(f=f||w)}),U.from(f)},yK=(n,a,f)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.apply(a,{value:f}),n.nodeChanged()})},OM=(n,a)=>{n.undoManager.transact(()=>{n.focus(),n.formatter.remove(a,{value:null},void 0,!0),n.nodeChanged()})},wK=n=>{n.addCommand("mceApplyTextcolor",(a,f)=>{yK(n,a,f)}),n.addCommand("mceRemoveTextcolor",a=>{OM(n,a)})},_M=n=>{const a="choiceitem",f={type:a,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return n?[f,{type:a,text:"Custom color",icon:"color-picker",value:"custom"}]:[f]},S6=(n,a,f,g)=>{f==="custom"?NM(n)(_=>{_.each(M=>{TM(M),n.execCommand("mceApplyTextcolor",a,M),g(M)})},C6):f==="remove"?(g(""),n.execCommand("mceRemoveTextcolor",a)):(g(f),n.execCommand("mceApplyTextcolor",a,f))},$M=(n,a)=>n.concat(mK().concat(_M(a))),DM=(n,a)=>f=>{f($M(n,a))},eE=(n,a,f)=>{const g=a==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(g,f)},x6=(n,a,f,g,w)=>{n.ui.registry.addSplitButton(a,{tooltip:g,presets:"color",icon:a==="forecolor"?"text-color":"highlight-bg-color",select:_=>bK(n,f).bind(V=>pM(V).map(J=>{const ne=Xx(J).value;return ls(_.toLowerCase(),ne)})).getOr(!1),columns:kM(n),fetch:DM(w6(n),AM(n)),onAction:_=>{S6(n,f,w.get(),P)},onItemAction:(_,M)=>{S6(n,f,M,V=>{w.set(V),vM(n,{name:a,color:V})})},onSetup:_=>{eE(_,a,w.get());const M=V=>{V.name===a&&eE(_,V.name,V.color)};return n.on("TextColorChange",M),()=>{n.off("TextColorChange",M)}}})},BM=(n,a,f,g)=>{n.ui.registry.addNestedMenuItem(a,{text:g,icon:a==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",onAction:w=>{S6(n,f,w.value,P)}}]})},NM=n=>(a,f)=>{let g=!1;const w=V=>{const ne=V.getData().colorpicker;g?(a(U.from(ne)),V.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",ne]))},_=(V,J)=>{J.name==="hex-valid"&&(g=J.value)},M={colorpicker:f};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:M,onAction:_,onSubmit:w,onClose:P,onCancel:()=>{a(U.none())}})},CK=n=>{wK(n);const a=$e(C6),f=$e(C6);x6(n,"forecolor","forecolor","Text color",a),x6(n,"backcolor","hilitecolor","Background color",f),BM(n,"forecolor","forecolor","Text color"),BM(n,"backcolor","hilitecolor","Background color")},E6=(n,a,f,g,w,_,M,V)=>{const J=Mx(a),de=SK(a,f,g,w!=="color"?"normal":"color",_,M,V);return DA(n,J,de,g,{menuType:w})},SK=(n,a,f,g,w,_,M)=>pr(me(n,V=>V.type==="choiceitem"?i6(V).fold(Em,J=>U.some(oM(J,f===1,g,a,_(J.value),w,M,Mx(n)))):U.none())),zA=(n,a)=>{const f=jd(a);return n===1?{mode:"menu",moveOnTab:!0}:n==="auto"?{mode:"grid",selector:"."+f.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(a==="color"?"tox-swatches__row":"tox-collection__group")}},k6=(n,a)=>n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:a==="color"?".tox-swatches__row":".tox-collection__group",cell:a==="color"?`.${Z2}`:`.${CA}`}},PM=(n,a)=>{const f=FM(n,a),g=a.colorinput.getColorCols(),w="color",M={...E6(fo("menu-value"),f,V=>{n.onAction({value:V})},g,w,Rh.CLOSE_ON_EXECUTE,he,a.shared.providers),markers:jd(w),movement:zA(g,w)};return{type:"widget",data:{value:fo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[d6.widget(pb.sketch(M))]}},FM=(n,a)=>{const f=n.initData.allowCustomColors&&a.colorinput.hasCustomColors();return n.initData.colors.fold(()=>$M(a.colorinput.getColors(),f),g=>g.concat(_M(f)))},RM=fo("cell-over"),A6=fo("cell-execute"),xK=(n,a,f)=>{const g=M=>Ho(M,RM,{row:n,col:a}),w=M=>Ho(M,A6,{row:n,col:a}),_=(M,V)=>{V.stop(),w(M)};return uc({dom:{tag:"div",attributes:{role:"button",["aria-labelledby"]:f}},behaviours:Mn([Mr("insert-table-picker-cell",[on(_d(),qo.focus),on(mu(),w),on(a0(),_),on(c0(),_)]),Qr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),qo.config({onFocus:g})])})},EK=(n,a,f)=>{const g=[];for(let w=0;w<a;w++){const _=[];for(let M=0;M<f;M++)_.push(xK(w,M,n));g.push(_)}return g},kK=(n,a,f,g,w)=>{for(let _=0;_<g;_++)for(let M=0;M<w;M++)Qr.set(n[_][M],_<=a&&M<=f)},AK=n=>be(n,a=>me(a,Vu)),MM=(n,a)=>Xi(`${a}x${n}`),TK={inserttable:n=>{const g=fo("size-label"),w=EK(g,10,10),_=MM(0,0),M=oi({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:g}},components:[_],behaviours:Mn([kr.config({})])});return{type:"widget",data:{value:fo("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[d6.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:AK(w).concat(M.asSpec()),behaviours:Mn([Mr("insert-table-picker",[Yi(V=>{kr.set(M.get(V),[_])}),w1(RM,(V,J,ne)=>{const{row:de,col:ye}=ne.event;kK(w,de,ye,10,10),kr.set(M.get(V),[MM(de+1,ye+1)])}),w1(A6,(V,J,ne)=>{const{row:de,col:ye}=ne.event;n.onAction({numRows:de+1,numColumns:ye+1}),ms(V,_y())})]),No.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:PM},OK=(n,a)=>pn(TK,n.fancytype).map(f=>f(n,a)),_K=(n,a,f,g=!0,w=!1)=>{const _=w?rK(f.icons):oK(f.icons),M=J=>({isEnabled:()=>!Bo.isDisabled(J),setEnabled:ne=>Bo.set(J,!ne)}),V=Q2({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:U.none(),ariaLabel:n.text,caret:U.some(_),checkMark:U.none(),shortcutContent:n.shortcut},f,g);return X2({data:J2(n),getApi:M,enabled:n.enabled,onAction:P,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},V,a,f)},$K=(n,a,f,g=!0)=>{const w=M=>({isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>Bo.set(M,!V)}),_=Q2({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:U.none(),ariaLabel:n.text,caret:U.none(),checkMark:U.none(),shortcutContent:n.shortcut},f,g);return X2({data:J2(n),getApi:w,enabled:n.enabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,a,f)},VA=n=>({type:"separator",dom:{tag:"div",classes:[CA,vG]},components:n.text.map(Xi).toArray()}),T6=(n,a,f,g=!0)=>{const w=M=>({setActive:V=>{Qr.set(M,V)},isActive:()=>Qr.isOn(M),isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>Bo.set(M,!V)}),_=Q2({iconContent:n.icon,textContent:n.text,htmlContent:U.none(),ariaLabel:n.text,checkMark:U.some(J9(f.icons)),caret:U.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},f,g);return Zs(X2({data:J2(n),enabled:n.enabled,getApi:w,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},_,a,f),{toggling:{toggleClass:SA,toggleOnExecute:!1,selected:n.active}})},O6=cK,_6=VA,DK=$K,BK=_K,$6=T6,D6=OK,UA=nM;var PK=Object.freeze({__proto__:null,getCoupled:(n,a,f,g)=>f.getOrCreate(n,a,g),getExistingCoupled:(n,a,f,g)=>f.getExisting(n,a,g)}),FK=[_a("others",ky(er.value,Gc()))],RK=Object.freeze({__proto__:null,init:()=>{const n={},a=(_,M)=>{if(ft(_.others).length===0)throw new Error("Cannot find any known coupled components");return pn(n,M)},f=(_,M,V)=>a(M,V).getOrThunk(()=>{const ne=pn(M.others,V).getOrDie("No information found for coupled component: "+V)(_),de=_.getSystem().build(ne);return n[V]=de,de}),g=(_,M,V)=>a(M,V).orThunk(()=>(pn(M.others,V).getOrDie("No information found for coupled component: "+V),U.none())),w=j({});return bu({readState:w,getExisting:g,getOrCreate:f})}});const Hi=Va({fields:FK,name:"coupling",apis:PK,state:RK}),B6=n=>{let a=U.none(),f=[];const g=ne=>B6(de=>{w(ye=>{de(ne(ye))})}),w=ne=>{M()?J(ne):f.push(ne)},_=ne=>{M()||(a=U.some(ne),V(f),f=[])},M=()=>a.isSome(),V=ne=>{q(ne,J)},J=ne=>{a.each(de=>{setTimeout(()=>{ne(de)},0)})};return n(_),{get:w,map:g,isReady:M}},MK={nu:B6,pure:n=>B6(a=>{a(n)})},IK=n=>{setTimeout(()=>{throw n},0)},tw=n=>{const a=J=>{n().then(J,IK)};return{map:J=>tw(()=>n().then(J)),bind:J=>tw(()=>n().then(ne=>J(ne).toPromise())),anonBind:J=>tw(()=>n().then(()=>J.toPromise())),toLazy:()=>MK.nu(a),toCached:()=>{let J=null;return tw(()=>(J===null&&(J=n()),J))},toPromise:n,get:a}},Ul={nu:n=>tw(()=>new Promise(n)),pure:n=>tw(()=>Promise.resolve(n))},IM=j("sink"),LM=j(qu({name:IM(),overrides:j({dom:{tag:"div"},behaviours:Mn([pc.config({useFixed:ve})]),events:Dr([Mg(i0()),Mg(tl()),Mg(a0())])})})),Hh=(n,a)=>{const f=n.getHotspot(a).getOr(a),g="hotspot",w=n.getAnchorOverrides();return n.layouts.fold(()=>({type:g,hotspot:f,overrides:w}),_=>({type:g,hotspot:f,overrides:w,layouts:_}))},LK=(n,a,f)=>{const g=n.fetch;return g(f).map(a)},HK=(n,a,f,g,w,_,M)=>{const V=LK(n,a,g),J=HM(g,n);return V.map(ne=>ne.bind(de=>U.from(gb.sketch({..._.menu(),uid:Hg(""),data:de,highlightOnOpen:M,onOpenMenu:(ye,Ne)=>{const Pe=J().getOrDie();pc.position(Pe,Ne,{anchor:f}),Rr.decloak(w)},onOpenSubmenu:(ye,Ne,Pe)=>{const rt=J().getOrDie();pc.position(rt,Pe,{anchor:{type:"submenu",item:Ne}}),Rr.decloak(w)},onRepositionMenu:(ye,Ne,Pe)=>{const rt=J().getOrDie();pc.position(rt,Ne,{anchor:f}),q(Pe,bt=>{pc.position(rt,bt.triggeredMenu,{anchor:{type:"submenu",item:bt.triggeringItem}})})},onEscape:()=>(qo.focus(g),Rr.close(w),U.some(!0))}))))},nw=(n,a,f,g,w,_,M)=>{const V=Hh(n,f);return HK(n,a,V,f,g,w,M).map(ne=>(ne.fold(()=>{Rr.isOpen(g)&&Rr.close(g)},de=>{Rr.cloak(g),Rr.open(g,de),_(g)}),g))},Ba=(n,a,f,g,w,_,M)=>(Rr.close(g),Ul.pure(g)),N6=(n,a,f,g,w,_)=>{const M=Hi.getCoupled(f,"sandbox");return(Rr.isOpen(M)?Ba:nw)(n,a,f,M,g,w,_)},jK=(n,a,f)=>{const g=Ur.getCurrent(a).getOr(a),w=qs(n.element);f?Wn(g.element,"min-width",w+"px"):Wc(g.element,w)},HM=(n,a)=>n.getSystem().getByUid(a.uid+"-"+IM()).map(f=>()=>er.value(f)).getOrThunk(()=>a.lazySink.fold(()=>()=>er.error(new Error("No internal sink is specified, nor could an external sink be found")),f=>()=>f(n))),jM=n=>{Rr.getState(n).each(a=>{gb.repositionMenus(a)})},P6=(n,a,f)=>{const g=aS(),w=(V,J)=>{const ne=Hh(n,a);g.link(a.element),n.matchWidth&&jK(ne.hotspot,J,n.useMinWidth),n.onOpen(ne,V,J),f!==void 0&&f.onOpen!==void 0&&f.onOpen(V,J)},_=(V,J)=>{g.unlink(a.element),f!==void 0&&f.onClose!==void 0&&f.onClose(V,J)},M=HM(a,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:g.id,role:"listbox"}},behaviours:xu.augment(n.sandboxBehaviours,[qn.config({store:{mode:"memory",initialValue:a}}),Rr.config({onOpen:w,onClose:_,isPartOf:(V,J,ne)=>Bp(J,ne)||Bp(a,ne),getAttachPoint:()=>M().getOrDie()}),Ur.config({find:V=>Rr.getState(V).bind(J=>Ur.getCurrent(J))}),Ef.config({channels:{...G1({isExtraPart:he}),...Af({doReposition:jM})}})])}},zM=n=>{const a=Hi.getCoupled(n,"sandbox");jM(a)},F6=()=>[$t("sandboxClasses",[]),xu.field("sandboxBehaviours",[Ur,Ef,Rr,qn])],zK=j([ln("dom"),ln("fetch"),qr("onOpen"),eu("onExecute"),$t("getHotspot",U.some),$t("getAnchorOverrides",j({})),Mp(),wa("dropdownBehaviours",[Qr,Hi,No,qo]),ln("toggleClass"),$t("eventOrder",{}),Kr("lazySink"),$t("matchWidth",!1),$t("useMinWidth",!1),Kr("role")].concat(F6())),VK=j([Tf({schema:[A0(),$t("fakeFocus",!1)],name:"menu",defaults:n=>({onExecute:n.onExecute})}),LM()]),UK=(n,a,f,g)=>{const w=de=>pn(n.dom,"attributes").bind(ye=>pn(ye,de)),_=de=>{Rr.getState(de).each(ye=>{gb.highlightPrimary(ye)})},M=(de,ye,Ne)=>N6(n,oe,de,g,ye,Ne),V=de=>{M(de,_,nc.HighlightMenuAndItem).get(P)},J={expand:de=>{Qr.isOn(de)||M(de,P,nc.HighlightNone).get(P)},open:de=>{Qr.isOn(de)||M(de,P,nc.HighlightMenuAndItem).get(P)},refetch:de=>Hi.getExistingCoupled(de,"sandbox").fold(()=>M(de,P,nc.HighlightMenuAndItem).map(P),Ne=>nw(n,oe,de,Ne,g,P,nc.HighlightMenuAndItem).map(P)),isOpen:Qr.isOn,close:de=>{Qr.isOn(de)&&M(de,P,nc.HighlightMenuAndItem).get(P)},repositionMenus:de=>{Qr.isOn(de)&&zM(de)}},ne=(de,ye)=>(vu(de),U.some(!0));return{uid:n.uid,dom:n.dom,components:a,behaviours:il(n.dropdownBehaviours,[Qr.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Hi.config({others:{sandbox:de=>P6(n,de,{onOpen:()=>Qr.on(de),onClose:()=>Qr.off(de)})}}),No.config({mode:"special",onSpace:ne,onEnter:ne,onDown:(de,ye)=>{if(ud.isOpen(de)){const Ne=Hi.getCoupled(de,"sandbox");_(Ne)}else ud.open(de);return U.some(!0)},onEscape:(de,ye)=>ud.isOpen(de)?(ud.close(de),U.some(!0)):U.none()}),qo.config({})]),events:lA(U.some(V)),eventOrder:{...n.eventOrder,[mu()]:["disabling","toggling","alloy.base.behaviour"]},apis:J,domModification:{attributes:{"aria-haspopup":"true",...n.role.fold(()=>({}),de=>({role:de})),...n.dom.tag==="button"?{type:w("type").getOr("button")}:{}}}}},ud=mc({name:"Dropdown",configFields:zK(),partFields:VK(),factory:UK,apis:{open:(n,a)=>n.open(a),refetch:(n,a)=>n.refetch(a),expand:(n,a)=>n.expand(a),close:(n,a)=>n.close(a),isOpen:(n,a)=>n.isOpen(a),repositionMenus:(n,a)=>n.repositionMenus(a)}}),WK=n=>{switch(n.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:n}}},qK=n=>{const a=qn.getValue(n),f=OA(n).map(w9);ud.refetch(a).get(()=>{const g=Hi.getCoupled(a,"sandbox");f.each(w=>OA(g).each(_=>kG(_,w)))})},ZK=(n,a)=>{GK(n).each(f=>{v_(n,f.element,a.event.eventType,a.event.interactionEvent)})},GK=n=>Rr.getState(n).bind(us.getHighlighted).bind(us.getHighlighted),KK=n=>vl(n.element,_A)?U.some(n.element):$a(n.element,"."+_A),VM=(n,a,f)=>{y9(n).each(g=>{AG(g,f),KK(a).each(_=>{pe(_,"id").each(M=>Fn(g.element,"aria-controls",M))})}),Fn(f.element,"aria-selected","true")},YK=(n,a,f)=>{Fn(f.element,"aria-selected","false")},XK=n=>{y9(n).each(a=>qo.focus(a))},JK=n=>Hi.getExistingCoupled(n,"sandbox").bind(OA).map(w9).map(f=>f.fetchPattern).getOr("");var WA;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(WA||(WA={}));const QK=(n,a,f,g,w)=>{const _=f.shared.providers,M=V=>w?{...V,shortcut:U.none(),icon:V.text.isSome()?U.none():V.icon}:V;switch(n.type){case"menuitem":return Ku(n).fold(Em,V=>U.some(DK(M(V),a,_,g)));case"nestedmenuitem":return KG(n).fold(Em,V=>U.some(BK(M(V),a,_,g,w)));case"togglemenuitem":return MA(n).fold(Em,V=>U.some($6(M(V),a,_,g)));case"separator":return PG(n).fold(Em,V=>U.some(_6(V)));case"fancymenuitem":return ZG(n).fold(Em,V=>D6(V,f));default:return console.error("Unknown item in general menu",n),U.none()}},eY=(n,a,f,g,w,_,M)=>{const V=g===1,J=!V||Mx(n);return pr(me(n,ne=>{switch(ne.type){case"separator":return D9(ne).fold(Em,de=>U.some(_6(de)));case"cardmenuitem":return VG(ne).fold(Em,de=>U.some(UA({...de,onAction:ye=>{de.onAction(ye),f(de.value,de.meta)}},w,_,{itemBehaviours:eM(de.meta,_),cardText:{matchText:a,highlightOn:M}})));case"autocompleteitem":default:return FG(ne).fold(Em,de=>U.some(O6(de,a,V,"normal",f,w,_,J)))}}))},UM=(n,a,f,g,w,_)=>{const M=Mx(a),V=pr(me(a,de=>{const ye=Pe=>w?!eo(Pe,"text"):M,Ne=Pe=>QK(Pe,f,g,ye(Pe),w);return de.type==="nestedmenuitem"&&de.getSubmenuItems().length<=0?Ne({...de,enabled:!1}):Ne(de)})),J=WK(_);return(w?$G:DA)(n,M,V,1,J)},R6=n=>gb.singleData(n.value,n),WM=(n,a,f,g)=>{const w=zA(a,g),_=jd(g);return{data:R6({...n,movement:w,menuBehaviours:cv.unnamedEvents(a!=="auto"?[]:[Yi((M,V)=>{Vx(M,4,_.item).each(({numColumns:J,numRows:ne})=>{No.setGridSize(M,ne,J)})})])}),menu:{markers:jd(g),fakeFocus:f===WA.ContentFocus}}},tY=(n,a)=>h9(dn.fromDom(a.startContainer)).map(f=>{const g=n.createRng();return g.selectNode(f.dom),g}),nY={register:(n,a)=>{const f=$e(!1),g=$e(!1),w=uc(ea.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Mn([Mr("dismissAutocompleter",[on(Dp(),()=>ne())])]),lazySink:a.getSink})),_=()=>ea.isOpen(w),M=g.get,V=()=>{_()&&ea.hide(w)},J=()=>ea.getContent(w).bind(rt=>bn(rt.components(),0)),ne=()=>n.execCommand("mceAutocompleterClose"),de=rt=>{const bt=oo(rt,Mt=>U.from(Mt.columns)).getOr(1);return be(rt,Mt=>{const kt=Mt.items;return eY(kt,Mt.matchText,(Lt,Zn)=>{const Xt=n.selection.getRng();tY(n.dom,Xt).each(Qn=>{const ho={hide:()=>ne(),reload:so=>{V(),n.execCommand("mceAutocompleterReload",!1,{fetchOptions:so})}};f.set(!0),Mt.onAction(ho,Qn,Lt,Zn),f.set(!1)})},bt,Rh.BUBBLE_TO_SANDBOX,a,Mt.highlightOn)})},ye=(rt,bt)=>{pG(dn.fromDom(n.getBody())).each(Mt=>{const kt=oo(rt,Lt=>U.from(Lt.columns)).getOr(1);ea.showMenuAt(w,{anchor:{type:"node",root:dn.fromDom(n.getBody()),node:U.from(Mt)}},WM(DA("autocompleter-value",!0,bt,kt,{menuType:"normal"}),kt,WA.ContentFocus,"normal"))}),J().each(us.highlightFirst)},Ne=rt=>{const bt=de(rt);bt.length>0?ye(rt,bt):V()};n.on("AutocompleterStart",({lookupData:rt})=>{g.set(!0),f.set(!1),Ne(rt)}),n.on("AutocompleterUpdate",({lookupData:rt})=>Ne(rt)),n.on("AutocompleterEnd",()=>{V(),g.set(!1),f.set(!1)});const Pe={cancelIfNecessary:ne,isMenuOpen:_,isActive:M,isProcessingAction:f.get,getMenu:J};gG.setup(Pe,n)}},ow=(n,a,f)=>ol(n,a,f).isSome(),qM=(n,a)=>{let f=null;return{cancel:()=>{f!==null&&(clearTimeout(f),f=null)},schedule:(..._)=>{f=setTimeout(()=>{n.apply(null,_),f=null},a)}}},ZM=5,oY=400,M6=n=>{const a=n.raw;return a.touches===void 0||a.touches.length!==1?U.none():U.some(a.touches[0])},rY=(n,a)=>{const f=Math.abs(n.clientX-a.x),g=Math.abs(n.clientY-a.y);return f>ZM||g>ZM},sY=n=>{const a=ki(),f=$e(!1),g=qM(ne=>{n.triggerEvent(m_(),ne),f.set(!0)},oY),w=ne=>(M6(ne).each(de=>{g.cancel();const ye={x:de.clientX,y:de.clientY,target:ne.target};g.schedule(ne),f.set(!1),a.set(ye)}),U.none()),_=ne=>(g.cancel(),M6(ne).each(de=>{a.on(ye=>{rY(de,ye)&&a.clear()})}),U.none()),M=ne=>{g.cancel();const de=ye=>Cr(ye.target,ne.target);return a.get().filter(de).map(ye=>f.get()?(ne.prevent(),!1):n.triggerEvent(c0(),ne))},V=Ps([{key:As(),value:w},{key:za(),value:_},{key:wi(),value:M}]);return{fireIfReady:(ne,de)=>pn(V,de).bind(ye=>ye(ne))}},iY=n=>n.raw.which===tA[0]&&!fe(["input","textarea"],Qo(n.target))&&!ow(n.target,'[contenteditable="true"]'),aY=(n,a)=>{const f={stopBackspace:!0,...a},g=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],w=sY(f),_=me(g.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),Pe=>Jl(n,Pe,rt=>{w.fireIfReady(rt,Pe).each(Mt=>{Mt&&rt.kill()}),f.triggerEvent(Pe,rt)&&rt.kill()})),M=ki(),V=Jl(n,"paste",Pe=>{w.fireIfReady(Pe,"paste").each(bt=>{bt&&Pe.kill()}),f.triggerEvent("paste",Pe)&&Pe.kill(),M.set(setTimeout(()=>{f.triggerEvent(qC(),Pe)},0))}),J=Jl(n,"keydown",Pe=>{f.triggerEvent("keydown",Pe)?Pe.kill():f.stopBackspace&&iY(Pe)&&Pe.prevent()}),ne=Jl(n,"focusin",Pe=>{f.triggerEvent("focusin",Pe)&&Pe.kill()}),de=ki(),ye=Jl(n,"focusout",Pe=>{f.triggerEvent("focusout",Pe)&&Pe.kill(),de.set(setTimeout(()=>{f.triggerEvent(va(),Pe)},0))});return{unbind:()=>{q(_,Pe=>{Pe.unbind()}),J.unbind(),ne.unbind(),ye.unbind(),V.unbind(),M.on(clearTimeout),de.on(clearTimeout)}}},I6=(n,a)=>{const f=pn(n,"target").getOr(a);return $e(f)},lY=(n,a)=>{const f=$e(!1),g=$e(!1);return{stop:()=>{f.set(!0)},cut:()=>{g.set(!0)},isStopped:f.get,isCut:g.get,event:n,setSource:a.set,getSource:a.get}},GM=n=>{const a=$e(!1);return{stop:()=>{a.set(!0)},cut:P,isStopped:a.get,isCut:he,event:n,setSource:G("Cannot set source of a broadcasted event"),getSource:G("Cannot get source of a broadcasted event")}},tE=It.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),L6=(n,a,f,g,w,_)=>{const M=n(a,g),V=lY(f,w);return M.fold(()=>(_.logEventNoHandlers(a,g),tE.complete()),J=>{const ne=J.descHandler;return kh(ne)(V),V.isStopped()?(_.logEventStopped(a,J.element,ne.purpose),tE.stopped()):V.isCut()?(_.logEventCut(a,J.element,ne.purpose),tE.complete()):mi(J.element).fold(()=>(_.logNoParent(a,J.element,ne.purpose),tE.complete()),ye=>(_.logEventResponse(a,J.element,ne.purpose),tE.resume(ye)))})},KM=(n,a,f,g,w,_)=>L6(n,a,f,g,w,_).fold(ve,M=>KM(n,a,f,M,w,_),he),cY=(n,a,f,g,w)=>{const _=I6(f,g);return L6(n,a,f,g,_,w)},uY=(n,a,f)=>{const g=GM(a);return q(n,w=>{const _=w.descHandler;kh(_)(g)}),g.isStopped()},fY=(n,a,f,g)=>YM(n,a,f,f.target,g),YM=(n,a,f,g,w)=>{const _=I6(f,g);return KM(n,a,f,g,_,w)},dY=(n,a)=>({element:n,descHandler:a}),hY=(n,a)=>({id:n,descHandler:a}),pY=()=>{const n={},a=(M,V,J)=>{sn(J,(ne,de)=>{const ye=n[de]!==void 0?n[de]:{};ye[V]=Eh(ne,M),n[de]=ye})},f=(M,V)=>v0(V).bind(J=>pn(M,J)).map(J=>dY(V,J));return{registerId:a,unregisterId:M=>{sn(n,(V,J)=>{eo(V,M)&&delete V[M]})},filterByType:M=>pn(n,M).map(V=>Ct(V,(J,ne)=>hY(ne,J))).getOr([]),find:(M,V,J)=>pn(n,V).bind(ne=>Od(J,de=>f(ne,de),M))}},gY=()=>{const n=pY(),a={},f=ne=>{const de=ne.element;return v0(de).getOrThunk(()=>My("uid-",ne.element))},g=(ne,de)=>{const ye=a[de];if(ye===ne)_(ne);else throw new Error('The tagId "'+de+'" is already used by: '+Bd(ye.element)+`
Cannot use it for: `+Bd(ne.element)+`
The conflicting element is`+(ae(ye.element)?" ":" not ")+"already in the DOM")},w=ne=>{const de=f(ne);yr(a,de)&&g(ne,de);const ye=[ne];n.registerId(ye,de,ne.events),a[de]=ne},_=ne=>{v0(ne.element).each(de=>{delete a[de],n.unregisterId(de)})};return{find:(ne,de,ye)=>n.find(ne,de,ye),filter:ne=>n.filterByType(ne),register:w,unregister:_,getById:ne=>pn(a,ne)}},Om=Zu({name:"Container",factory:n=>{const{attributes:a,...f}=n.dom;return{uid:n.uid,dom:{tag:"div",attributes:{role:"presentation",...a},...f},components:n.components,behaviours:X1(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},configFields:[$t("components",[]),wa("containerBehaviours",[]),$t("events",{}),$t("domModification",{}),$t("eventOrder",{})]}),XM=n=>{const a=kt=>mi(n.element).fold(ve,Lt=>Cr(kt,Lt)),f=gY(),g=(kt,Lt)=>f.find(a,kt,Lt),w=aY(n.element,{triggerEvent:(kt,Lt)=>B1(kt,Lt.target,Zn=>fY(g,kt,Lt,Zn))}),_={debugInfo:j("real"),triggerEvent:(kt,Lt,Zn)=>{B1(kt,Lt,Xt=>YM(g,kt,Zn,Lt,Xt))},triggerFocus:(kt,Lt)=>{v0(kt).fold(()=>{_h(kt)},Zn=>{B1($p(),kt,Xt=>(cY(g,$p(),{originator:Lt,kill:P,prevent:P,target:kt},kt,Xt),!1))})},triggerEscape:(kt,Lt)=>{_.triggerEvent("keydown",kt.element,Lt.event)},getByUid:kt=>bt(kt),getByDom:kt=>Mt(kt),build:uc,buildOrPatch:T1,addToGui:kt=>{J(kt)},removeFromGui:kt=>{ne(kt)},addToWorld:kt=>{M(kt)},removeFromWorld:kt=>{V(kt)},broadcast:kt=>{Ne(kt)},broadcastOn:(kt,Lt)=>{Pe(kt,Lt)},broadcastEvent:(kt,Lt)=>{rt(kt,Lt)},isConnected:ve},M=kt=>{kt.connect(_),Js(kt.element)||(f.register(kt),q(kt.components(),M),_.triggerEvent($y(),kt.element,{target:kt.element}))},V=kt=>{Js(kt.element)||(q(kt.components(),V),f.unregister(kt)),kt.disconnect()},J=kt=>{Hp(n,kt)},ne=kt=>{zl(kt)},de=()=>{w.unbind(),pf(n.element)},ye=kt=>{const Lt=f.filter(Xf());q(Lt,Zn=>{const Xt=Zn.descHandler;kh(Xt)(kt)})},Ne=kt=>{ye({universal:!0,data:kt})},Pe=(kt,Lt)=>{ye({universal:!1,channels:kt,data:Lt})},rt=(kt,Lt)=>{const Zn=f.filter(kt);return uY(Zn,Lt)},bt=kt=>f.getById(kt).fold(()=>er.error(new Error('Could not find component with uid: "'+kt+'" in system.')),er.value),Mt=kt=>{const Lt=v0(kt).getOr("not found");return bt(Lt)};return M(n),{root:n,element:n.element,destroy:de,add:J,remove:ne,getByUid:bt,getByDom:Mt,addToWorld:M,removeFromWorld:V,broadcast:Ne,broadcastOn:Pe,broadcastEvent:rt}},JM=(n,a)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:me(n.items,a.interpreter)}),mY=j([$t("prefix","form-field"),wa("fieldBehaviours",[Ur,qn])]),vY=j([qu({schema:[ln("dom")],name:"label"}),qu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[ln("text")],name:"aria-descriptor"}),Vl({factory:{sketch:n=>{const a=ns(n,["factory"]);return n.factory.sketch(a)}},schema:[ln("factory")],name:"field"})]),bY=(n,a,f,g)=>{const w=il(n.fieldBehaviours,[Ur.config({find:V=>Gs(V,n,"field")}),qn.config({store:{mode:"manual",getValue:V=>Ur.getCurrent(V).bind(qn.getValue),setValue:(V,J)=>{Ur.getCurrent(V).each(ne=>{qn.setValue(ne,J)})}}})]),_=Dr([Yi((V,J)=>{const ne=Ik(V,n,["label","field","aria-descriptor"]);ne.field().each(de=>{const ye=fo(n.prefix);ne.label().each(Ne=>{Fn(Ne.element,"for",ye),Fn(de.element,"id",ye)}),ne["aria-descriptor"]().each(Ne=>{const Pe=fo(n.prefix);Fn(Ne.element,"id",Pe),Fn(de.element,"aria-describedby",Pe)})})})]),M={getField:V=>Gs(V,n,"field"),getLabel:V=>Gs(V,n,"label")};return{uid:n.uid,dom:n.dom,components:a,behaviours:w,events:_,apis:M}},hs=mc({name:"FormField",configFields:mY(),partFields:vY(),factory:bY,apis:{getField:(n,a)=>n.getField(a),getLabel:(n,a)=>n.getLabel(a)}});var H6=Object.freeze({__proto__:null,exhibit:(n,a)=>Bi({attributes:Ps([{key:a.tabAttr,value:"true"}])})}),yY=[$t("tabAttr","data-alloy-tabstop")];const la=Va({fields:yY,name:"tabstopping",active:H6});var wY=tinymce.util.Tools.resolve("tinymce.html.Entities");const nE=(n,a,f,g)=>{const w=SY(n,a,f,g);return hs.sketch(w)},CY=(n,a)=>nE(n,a,[],[]),SY=(n,a,f,g)=>({dom:QM(f),components:n.toArray().concat([a]),fieldBehaviours:Mn(g)}),qA=()=>QM([]),QM=n=>({tag:"div",classes:["tox-form__group"].concat(n)}),jh=(n,a)=>hs.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xi(a.translate(n))]}),Ju=fo("form-component-change"),oE=fo("form-close"),Tb=fo("form-cancel"),_m=fo("form-action"),ZA=fo("form-submit"),rw=fo("form-block"),uv=fo("form-unblock"),j6=fo("form-tabchange"),z6=fo("form-resize"),xY=(n,a,f)=>{const g=n.label.map(ye=>jh(ye,a)),w=ye=>(Ne,Pe)=>{ol(Pe.event.target,"[data-collection-item-value]").each(rt=>{ye(Ne,Pe,rt,Ro(rt,"data-collection-item-value"))})},_=(ye,Ne)=>{const Pe=me(Ne,Mt=>{const kt=Hd.translate(Mt.text),Lt=n.columns===1?`<div class="tox-collection__item-label">${kt}</div>`:"",Zn=`<div class="tox-collection__item-icon">${Mt.icon}</div>`,Xt={_:" "," - ":" ","-":" "},Qn=kt.replace(/\_| \- |\-/g,so=>Xt[so]);return`<div class="tox-collection__item${a.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${wY.encodeAllRaw(Mt.value)}" title="${Qn}" aria-label="${Qn}">${Zn}${Lt}</div>`}),rt=n.columns!=="auto"&&n.columns>1?Ce(Pe,n.columns):[Pe],bt=me(rt,Mt=>`<div class="tox-collection__group">${Mt.join("")}</div>`);Dd(ye.element,bt.join(""))},M=w((ye,Ne,Pe,rt)=>{Ne.stop(),a.isDisabled()||Ho(ye,_m,{name:n.name,value:rt})}),V=[on(_d(),w((ye,Ne,Pe)=>{_h(Pe)})),on(a0(),M),on(c0(),M),on(_p(),w((ye,Ne,Pe)=>{$a(ye.element,"."+bb).each(rt=>{fi(rt,bb)}),nl(Pe,bb)})),on(Pg(),w(ye=>{$a(ye.element,"."+bb).each(Ne=>{fi(Ne,bb)})})),wh(w((ye,Ne,Pe,rt)=>{Ho(ye,_m,{name:n.name,value:rt})}))],J=(ye,Ne)=>me(jl(ye.element,".tox-collection__item"),Ne),ne=hs.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:oe},behaviours:Mn([Bo.config({disabled:a.isDisabled,onDisabled:ye=>{J(ye,Ne=>{nl(Ne,"tox-collection__item--state-disabled"),Fn(Ne,"aria-disabled",!0)})},onEnabled:ye=>{J(ye,Ne=>{fi(Ne,"tox-collection__item--state-disabled"),et(Ne,"aria-disabled")})}}),Wa(),kr.config({}),qn.config({store:{mode:"memory",initialValue:f.getOr([])},onSetValue:(ye,Ne)=>{_(ye,Ne),n.columns==="auto"&&Vx(ye,5,"tox-collection__item").each(({numRows:Pe,numColumns:rt})=>{No.setGridSize(ye,Pe,rt)}),ms(ye,z6)}}),la.config({}),No.config(k6(n.columns,"normal")),Mr("collection-events",V)]),eventOrder:{[mu()]:["disabling","alloy.base.behaviour","collection-events"]}});return nE(g,ne,["tox-form__group--collection"],[])},EY=["input","textarea"],eI=n=>{const a=Qo(n);return fe(EY,a)},tI=(n,a)=>{const f=a.getRoot(n).getOr(n.element);fi(f,a.invalidClass),a.notify.each(g=>{eI(n.element)&&Fn(n.element,"aria-invalid",!1),g.getContainer(n).each(w=>{Dd(w,g.validHtml)}),g.onValid(n)})},nI=(n,a,f,g)=>{const w=a.getRoot(n).getOr(n.element);nl(w,a.invalidClass),a.notify.each(_=>{eI(n.element)&&Fn(n.element,"aria-invalid",!0),_.getContainer(n).each(M=>{Dd(M,g)}),_.onInvalid(n,g)})},oI=(n,a,f)=>a.validator.fold(()=>Ul.pure(er.value(!0)),g=>g.validate(n)),V6=(n,a,f)=>(a.notify.each(g=>{g.onValidate(n)}),oI(n,a).map(g=>n.getSystem().isConnected()?g.fold(w=>(nI(n,a,f,w),er.error(w)),w=>(tI(n,a),er.value(w))):er.error("No longer in system")));var kY=Object.freeze({__proto__:null,markValid:tI,markInvalid:nI,query:oI,run:V6,isInvalid:(n,a)=>{const f=a.getRoot(n).getOr(n.element);return vl(f,a.invalidClass)}}),AY=Object.freeze({__proto__:null,events:(n,a)=>n.validator.map(f=>Dr([on(f.onEvent,g=>{V6(g,n,a).get(oe)})].concat(f.validateOnLoad?[Yi(g=>{V6(g,n,a).get(P)})]:[]))).getOr({})}),rI=[ln("invalidClass"),$t("getRoot",U.none),lc("notify",[$t("aria","alert"),$t("getContainer",U.none),$t("validHtml",""),qr("onValid"),qr("onInvalid"),qr("onValidate")]),lc("validator",[ln("validate"),$t("onEvent","input"),$t("validateOnLoad",!0)])];const Qu=Va({fields:rI,name:"invalidating",active:AY,apis:kY,extra:{validation:n=>a=>{const f=qn.getValue(a);return Ul.pure(n(f))}}});var sI=Object.freeze({__proto__:null,events:()=>Dr([Py(o3(),ve)]),exhibit:()=>Bi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const iw=Va({fields:[],name:"unselecting",active:sI}),GA=(n,a)=>ud.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:Mn([Xu.button(a.providers.isDisabled),Wa(),iw.config({}),la.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:a.getSink,fetch:f=>Ul.nu(g=>n.fetch(g)).map(g=>U.from(R6(Zs(E6(fo("menu-value"),g,w=>{n.onItemAction(f,w)},n.columns,n.presets,Rh.CLOSE_ON_EXECUTE,he,a.providers),{movement:zA(n.columns,n.presets)})))),parts:{menu:Rx(!1,1,n.presets)}}),iI=fo("color-input-change"),aw=fo("color-swatch-change"),lw=fo("color-picker-cancel"),TY=(n,a,f,g)=>{const w=hs.parts.field({factory:G2,inputClasses:["tox-textfield"],data:g,onSetValue:ne=>Qu.run(ne).get(P),inputBehaviours:Mn([Bo.config({disabled:a.providers.isDisabled}),Wa(),la.config({}),Qu.config({invalidClass:"tox-textbox-field-invalid",getRoot:ne=>dl(ne.element),notify:{onValid:ne=>{const de=qn.getValue(ne);Ho(ne,iI,{color:de})}},validator:{validateOnLoad:!1,validate:ne=>{const de=qn.getValue(ne);if(de.length===0)return Ul.pure(er.value(!0));{const ye=dn.fromTag("span");Wn(ye,"background-color",de);const Ne=ps(ye,"background-color").fold(()=>er.error("blah"),Pe=>er.value(de));return Ul.pure(Ne)}}}})]),selectOnFocus:!1}),_=n.label.map(ne=>jh(ne,a.providers)),M=(ne,de)=>{Ho(ne,aw,{value:de})},V=(ne,de)=>{J.getOpt(ne).each(ye=>{de==="custom"?f.colorPicker(Ne=>{Ne.fold(()=>ms(ye,lw),Pe=>{M(ye,Pe),TM(Pe)})},"#ffffff"):de==="remove"?M(ye,""):M(ye,de)})},J=oi(GA({dom:{tag:"span",attributes:{"aria-label":a.providers.translate("Color swatch")}},layouts:{onRtl:()=>[yl,Il,sl],onLtr:()=>[Il,yl,sl]},components:[],fetch:DM(f.getColors(),f.hasCustomColors()),columns:f.getColorCols(),presets:"color",onItemAction:V},a));return hs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[w,J.asSpec()]}]),fieldBehaviours:Mn([Mr("form-field-events",[on(iI,(ne,de)=>{J.getOpt(ne).each(ye=>{Wn(ye.element,"background-color",de.event.color)}),Ho(ne,Ju,{name:n.name})}),on(aw,(ne,de)=>{hs.getField(ne).each(ye=>{qn.setValue(ye,de.event.value),Ur.getCurrent(ne).each(qo.focus)})}),on(lw,(ne,de)=>{hs.getField(ne).each(ye=>{Ur.getCurrent(ne).each(qo.focus)})})])])})},OY=qu({schema:[ln("dom")],name:"label"}),fv=n=>qu({name:""+n+"-edge",overrides:a=>a.model.manager.edgeActions[n].fold(()=>({}),g=>({events:Dr([$d(As(),(w,_,M)=>g(w,M),[a]),$d(tl(),(w,_,M)=>g(w,M),[a]),$d(Xc(),(w,_,M)=>{M.mouseIsDown.get()&&g(w,M)},[a])])}))}),_Y=fv("top-left"),$Y=fv("top"),DY=fv("top-right"),KA=fv("right"),BY=fv("bottom-right"),NY=fv("bottom"),PY=fv("bottom-left"),aI=fv("left"),FY=Vl({name:"thumb",defaults:j({dom:{styles:{position:"absolute"}}}),overrides:n=>({events:Dr([zu(As(),n,"spectrum"),zu(za(),n,"spectrum"),zu(wi(),n,"spectrum"),zu(tl(),n,"spectrum"),zu(Xc(),n,"spectrum"),zu(Ty(),n,"spectrum")])})}),RY=Vl({schema:[ml("mouseIsDown",()=>$e(!1))],name:"spectrum",overrides:n=>{const f=n.model.manager,g=(w,_)=>f.getValueFromEvent(_).map(M=>f.setValueFrom(w,n,M));return{behaviours:Mn([No.config({mode:"special",onLeft:w=>f.onLeft(w,n),onRight:w=>f.onRight(w,n),onUp:w=>f.onUp(w,n),onDown:w=>f.onDown(w,n)}),qo.config({})]),events:Dr([on(As(),g),on(za(),g),on(tl(),g),on(Xc(),(w,_)=>{n.mouseIsDown.get()&&g(w,_)})])}}});var MY=[OY,aI,KA,$Y,NY,_Y,DY,PY,BY,FY,RY];const rE=j("slider.change.value"),lI=n=>n.type.indexOf("touch")!==-1,U6=n=>{const a=n.event.raw;if(lI(a)){const f=a;return f.touches!==void 0&&f.touches.length===1?U.some(f.touches[0]).map(g=>Er(g.clientX,g.clientY)):U.none()}else{const f=a;return f.clientX!==void 0?U.some(f).map(g=>Er(g.clientX,g.clientY)):U.none()}},IY="top",LY="right",HY="bottom",jY="left",dv=n=>n.model.minX,hv=n=>n.model.minY,YA=n=>n.model.minX-1,XA=n=>n.model.minY-1,Ob=n=>n.model.maxX,pv=n=>n.model.maxY,$m=n=>n.model.maxX+1,JA=n=>n.model.maxY+1,cI=(n,a,f)=>a(n)-f(n),W6=n=>cI(n,Ob,dv),cw=n=>cI(n,pv,hv),$f=n=>W6(n)/2,QA=n=>cw(n)/2,_b=n=>n.stepSize,uI=n=>n.snapToGrid,fI=n=>n.snapStart,dI=n=>n.rounded,eT=(n,a)=>n[a+"-edge"]!==void 0,q6=n=>eT(n,jY),Z6=n=>eT(n,LY),hI=n=>eT(n,IY),pI=n=>eT(n,HY),Xp=n=>n.model.value.get(),gv=(n,a)=>({x:n,y:a}),fd=(n,a)=>{Ho(n,rE(),{value:a})},gI=(n,a)=>{fd(n,gv(YA(a),XA(a)))},mI=(n,a)=>{fd(n,XA(a))},zY=(n,a)=>{fd(n,gv($f(a),XA(a)))},VY=(n,a)=>{fd(n,gv($m(a),XA(a)))},UY=(n,a)=>{fd(n,$m(a))},WY=(n,a)=>{fd(n,gv($m(a),QA(a)))},qY=(n,a)=>{fd(n,gv($m(a),JA(a)))},ZY=(n,a)=>{fd(n,JA(a))},G6=(n,a)=>{fd(n,gv($f(a),JA(a)))},GY=(n,a)=>{fd(n,gv(YA(a),JA(a)))},KY=(n,a)=>{fd(n,YA(a))},YY=(n,a)=>{fd(n,gv(YA(a),QA(a)))},K6=(n,a,f,g)=>n<a?n:n>f?f:n===a?a-1:Math.max(a,n-g),Y6=(n,a,f,g)=>n>f?n:n<a?a:n===f?f+1:Math.min(f,n+g),vI=(n,a,f)=>Math.max(a,Math.min(f,n)),XY=(n,a,f,g,w)=>w.fold(()=>{const _=n-a,M=Math.round(_/g)*g;return vI(a+M,a-1,f+1)},_=>{const M=(n-_)%g,V=Math.round(M/g),J=Math.floor((n-_)/g),ne=Math.floor((f-_)/g),de=Math.min(ne,J+V),ye=_+de*g;return Math.max(_,ye)}),bI=(n,a,f)=>Math.min(f,Math.max(n,a))-a,X6=n=>{const{min:a,max:f,range:g,value:w,step:_,snap:M,snapStart:V,rounded:J,hasMinEdge:ne,hasMaxEdge:de,minBound:ye,maxBound:Ne,screenRange:Pe}=n,rt=ne?a-1:a,bt=de?f+1:f;if(w<ye)return rt;if(w>Ne)return bt;{const Mt=bI(w,ye,Ne),kt=vI(Mt/Pe*g+a,rt,bt);return M&&kt>=a&&kt<=f?XY(kt,a,f,_,V):J?Math.round(kt):kt}},yI=n=>{const{min:a,max:f,range:g,value:w,hasMinEdge:_,hasMaxEdge:M,maxBound:V,maxOffset:J,centerMinEdge:ne,centerMaxEdge:de}=n;return w<a?_?0:ne:w>f?M?V:de:(w-a)/g*J},J6="top",wI="right",CI="bottom",Q6="left",SI="width",xI="height",zh=n=>n.element.dom.getBoundingClientRect(),Df=(n,a)=>n[a],tT=n=>{const a=zh(n);return Df(a,Q6)},e8=n=>{const a=zh(n);return Df(a,wI)},nT=n=>{const a=zh(n);return Df(a,J6)},EI=n=>{const a=zh(n);return Df(a,CI)},kI=n=>{const a=zh(n);return Df(a,SI)},AI=n=>{const a=zh(n);return Df(a,xI)},oT=(n,a,f)=>(n+a)/2-f,Jp=(n,a)=>{const f=zh(n),g=zh(a),w=Df(f,Q6),_=Df(f,wI),M=Df(g,Q6);return oT(w,_,M)},TI=(n,a)=>{const f=zh(n),g=zh(a),w=Df(f,J6),_=Df(f,CI),M=Df(g,J6);return oT(w,_,M)},mv=(n,a)=>{Ho(n,rE(),{value:a})},t8=(n,a,f)=>{const g={min:dv(a),max:Ob(a),range:W6(a),value:f,step:_b(a),snap:uI(a),snapStart:fI(a),rounded:dI(a),hasMinEdge:q6(a),hasMaxEdge:Z6(a),minBound:tT(n),maxBound:e8(n),screenRange:kI(n)};return X6(g)},n8=(n,a,f)=>{const g=t8(n,a,f);return mv(n,g),g},JY=(n,a)=>{const f=dv(a);mv(n,f)},QY=(n,a)=>{const f=Ob(a);mv(n,f)},eX=(n,a,f)=>{const w=(n>0?Y6:K6)(Xp(f),dv(f),Ob(f),_b(f));return mv(a,w),U.some(w)},o8=n=>(a,f)=>eX(n,a,f).map(ve),tX=n=>U6(n).map(f=>f.left),r8=(n,a,f,g,w)=>{const M=kI(n),V=g.bind(de=>U.some(Jp(de,n))).getOr(0),J=w.bind(de=>U.some(Jp(de,n))).getOr(M),ne={min:dv(a),max:Ob(a),range:W6(a),value:f,hasMinEdge:q6(a),hasMaxEdge:Z6(a),minBound:tT(n),minOffset:0,maxBound:e8(n),maxOffset:M,centerMinEdge:V,centerMaxEdge:J};return yI(ne)},sE=(n,a,f,g,w,_)=>{const M=r8(a,_,f,g,w);return tT(a)-tT(n)+M},s8=(n,a,f,g)=>{const w=Xp(f),_=sE(n,g.getSpectrum(n),w,g.getLeftEdge(n),g.getRightEdge(n),f),M=qs(a.element)/2;Wn(a.element,"left",_-M+"px")},nX=o8(-1),Bf=o8(1),oX=U.none,rX=U.none,OI={"top-left":U.none(),top:U.none(),"top-right":U.none(),right:U.some(UY),"bottom-right":U.none(),bottom:U.none(),"bottom-left":U.none(),left:U.some(KY)};var _I=Object.freeze({__proto__:null,setValueFrom:n8,setToMin:JY,setToMax:QY,findValueOfOffset:t8,getValueFromEvent:tX,findPositionOfValue:sE,setPositionFromValue:s8,onLeft:nX,onRight:Bf,onUp:oX,onDown:rX,edgeActions:OI});const rT=(n,a)=>{Ho(n,rE(),{value:a})},i8=(n,a,f)=>{const g={min:hv(a),max:pv(a),range:cw(a),value:f,step:_b(a),snap:uI(a),snapStart:fI(a),rounded:dI(a),hasMinEdge:hI(a),hasMaxEdge:pI(a),minBound:nT(n),maxBound:EI(n),screenRange:AI(n)};return X6(g)},sX=(n,a,f)=>{const g=i8(n,a,f);return rT(n,g),g},iX=(n,a)=>{const f=hv(a);rT(n,f)},aX=(n,a)=>{const f=pv(a);rT(n,f)},lX=(n,a,f)=>{const w=(n>0?Y6:K6)(Xp(f),hv(f),pv(f),_b(f));return rT(a,w),U.some(w)},$I=n=>(a,f)=>lX(n,a,f).map(ve),DI=n=>U6(n).map(f=>f.top),cX=(n,a,f,g,w)=>{const M=AI(n),V=g.bind(de=>U.some(TI(de,n))).getOr(0),J=w.bind(de=>U.some(TI(de,n))).getOr(M),ne={min:hv(a),max:pv(a),range:cw(a),value:f,hasMinEdge:hI(a),hasMaxEdge:pI(a),minBound:nT(n),minOffset:0,maxBound:EI(n),maxOffset:M,centerMinEdge:V,centerMaxEdge:J};return yI(ne)},a8=(n,a,f,g,w,_)=>{const M=cX(a,_,f,g,w);return nT(a)-nT(n)+M},uX=(n,a,f,g)=>{const w=Xp(f),_=a8(n,g.getSpectrum(n),w,g.getTopEdge(n),g.getBottomEdge(n),f),M=Vt(a.element)/2;Wn(a.element,"top",_-M+"px")},BI=U.none,l8=U.none,fX=$I(-1),c8=$I(1),uw={"top-left":U.none(),top:U.some(mI),"top-right":U.none(),right:U.none(),"bottom-right":U.none(),bottom:U.some(ZY),"bottom-left":U.none(),left:U.none()};var NI=Object.freeze({__proto__:null,setValueFrom:sX,setToMin:iX,setToMax:aX,findValueOfOffset:i8,getValueFromEvent:DI,findPositionOfValue:a8,setPositionFromValue:uX,onLeft:BI,onRight:l8,onUp:fX,onDown:c8,edgeActions:uw});const iE=(n,a)=>{Ho(n,rE(),{value:a})},aE=(n,a)=>({x:n,y:a}),dX=(n,a,f)=>{const g=t8(n,a,f.left),w=i8(n,a,f.top),_=aE(g,w);return iE(n,_),_},hX=(n,a,f,g)=>{const w=n>0?Y6:K6,_=a?Xp(g).x:w(Xp(g).x,dv(g),Ob(g),_b(g)),M=a?w(Xp(g).y,hv(g),pv(g),_b(g)):Xp(g).y;return iE(f,aE(_,M)),U.some(_)},$b=(n,a)=>(f,g)=>hX(n,a,f,g).map(ve),pX=(n,a)=>{const f=dv(a),g=hv(a);iE(n,aE(f,g))},gX=(n,a)=>{const f=Ob(a),g=pv(a);iE(n,aE(f,g))},PI=n=>U6(n),FI=(n,a,f,g)=>{const w=Xp(f),_=sE(n,g.getSpectrum(n),w.x,g.getLeftEdge(n),g.getRightEdge(n),f),M=a8(n,g.getSpectrum(n),w.y,g.getTopEdge(n),g.getBottomEdge(n),f),V=qs(a.element)/2,J=Vt(a.element)/2;Wn(a.element,"left",_-V+"px"),Wn(a.element,"top",M-J+"px")},u8=$b(-1,!1),RI=$b(1,!1),ru=$b(-1,!0),MI=$b(1,!0),mX={"top-left":U.some(gI),top:U.some(zY),"top-right":U.some(VY),right:U.some(WY),"bottom-right":U.some(qY),bottom:U.some(G6),"bottom-left":U.some(GY),left:U.some(YY)};var vX=Object.freeze({__proto__:null,setValueFrom:dX,setToMin:pX,setToMax:gX,getValueFromEvent:PI,setPositionFromValue:FI,onLeft:u8,onRight:RI,onUp:ru,onDown:MI,edgeActions:mX});const II=[$t("stepSize",1),$t("onChange",P),$t("onChoose",P),$t("onInit",P),$t("onDragStart",P),$t("onDragEnd",P),$t("snapToGrid",!1),$t("rounded",!0),Kr("snapStart"),_a("model",Kc("mode",{x:[$t("minX",0),$t("maxX",100),ml("value",n=>$e(n.mode.minX)),ln("getInitialValue"),ti("manager",_I)],y:[$t("minY",0),$t("maxY",100),ml("value",n=>$e(n.mode.minY)),ln("getInitialValue"),ti("manager",NI)],xy:[$t("minX",0),$t("maxX",100),$t("minY",0),$t("maxY",100),ml("value",n=>$e({x:n.mode.minX,y:n.mode.minY})),ln("getInitialValue"),ti("manager",vX)]})),wa("sliderBehaviours",[No,qn]),ml("mouseIsDown",()=>$e(!1))],Ud=mc({name:"Slider",configFields:II,partFields:MY,factory:(n,a,f,g)=>{const w=Xt=>rd(Xt,n,"thumb"),_=Xt=>rd(Xt,n,"spectrum"),M=Xt=>Gs(Xt,n,"left-edge"),V=Xt=>Gs(Xt,n,"right-edge"),J=Xt=>Gs(Xt,n,"top-edge"),ne=Xt=>Gs(Xt,n,"bottom-edge"),de=n.model,ye=de.manager,Ne=(Xt,Qn)=>{ye.setPositionFromValue(Xt,Qn,n,{getLeftEdge:M,getRightEdge:V,getTopEdge:J,getBottomEdge:ne,getSpectrum:_})},Pe=(Xt,Qn)=>{de.value.set(Qn);const ho=w(Xt);Ne(Xt,ho)},rt=(Xt,Qn)=>{Pe(Xt,Qn);const ho=w(Xt);return n.onChange(Xt,ho,Qn),U.some(!0)},bt=Xt=>{ye.setToMin(Xt,n)},Mt=Xt=>{ye.setToMax(Xt,n)},kt=Xt=>{const Qn=()=>{Gs(Xt,n,"thumb").each(so=>{const Io=de.value.get();n.onChoose(Xt,so,Io)})},ho=n.mouseIsDown.get();n.mouseIsDown.set(!1),ho&&Qn()},Lt=(Xt,Qn)=>{Qn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Xt,w(Xt))},Zn=(Xt,Qn)=>{Qn.stop(),n.onDragEnd(Xt,w(Xt)),kt(Xt)};return{uid:n.uid,dom:n.dom,components:a,behaviours:il(n.sliderBehaviours,[No.config({mode:"special",focusIn:Xt=>Gs(Xt,n,"spectrum").map(No.focusIn).map(ve)}),qn.config({store:{mode:"manual",getValue:Xt=>de.value.get(),setValue:Pe}}),Ef.config({channels:{[qp()]:{onReceive:kt}}})]),events:Dr([on(rE(),(Xt,Qn)=>{rt(Xt,Qn.event.value)}),Yi((Xt,Qn)=>{const ho=de.getInitialValue();de.value.set(ho);const so=w(Xt);Ne(Xt,so);const Io=_(Xt);n.onInit(Xt,so,Io,de.value.get())}),on(As(),Lt),on(wi(),Zn),on(tl(),Lt),on(Ty(),Zn)]),apis:{resetToMin:bt,resetToMax:Mt,setValue:Pe,refresh:Ne},domModification:{styles:{position:"relative"}}}},apis:{setValue:(n,a,f)=>{n.setValue(a,f)},resetToMin:(n,a)=>{n.resetToMin(a)},resetToMax:(n,a)=>{n.resetToMax(a)},refresh:(n,a)=>{n.refresh(a)}}}),f8=fo("rgb-hex-update"),d8=fo("slider-update"),Vh=fo("palette-update"),h8=(n,a)=>{const f=Ud.parts.spectrum({dom:{tag:"div",classes:[a("hue-slider-spectrum")],attributes:{role:"presentation"}}}),g=Ud.parts.thumb({dom:{tag:"div",classes:[a("hue-slider-thumb")],attributes:{role:"presentation"}}});return Ud.sketch({dom:{tag:"div",classes:[a("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:j(0)},components:[f,g],sliderBehaviours:Mn([qo.config({})]),onChange:(w,_,M)=>{Ho(w,d8,{value:M})}})},p8="form",sT=[wa("formBehaviours",[qn])],iT=n=>"<alloy.field."+n+">",bX=n=>{const a=(()=>{const _=[];return{field:(V,J)=>(_.push(V),dm(p8,iT(V),J)),record:j(_)}})(),f=n(a),g=a.record(),w=me(g,_=>Vl({name:_,pname:iT(_)}));return sd(p8,sT,w,wX,f)},yX=(n,a)=>n.fold(()=>er.error(a),er.value),wX=(n,a)=>({uid:n.uid,dom:n.dom,components:a,behaviours:il(n.formBehaviours,[qn.config({store:{mode:"manual",getValue:f=>{const g=Lk(f,n);return kn(g,(w,_)=>w().bind(M=>{const V=Ur.getCurrent(M);return yX(V,new Error(`Cannot find a current component to extract the value from for form part '${_}': `+Bd(M.element)))}).map(qn.getValue))},setValue:(f,g)=>{sn(g,(w,_)=>{Gs(f,n,_).each(M=>{Ur.getCurrent(M).each(V=>{qn.setValue(V,w)})})})}}})]),apis:{getField:(f,g)=>Gs(f,n,g).bind(Ur.getCurrent)}}),fw={getField:Ly((n,a,f)=>n.getField(a,f)),sketch:bX},LI=fo("valid-input"),HI=fo("invalid-input"),jI=fo("validating-input"),aT="colorcustom.rgb.",CX=(n,a,f,g)=>{const w=(Ne,Pe)=>Qu.config({invalidClass:a("invalid"),notify:{onValidate:rt=>{Ho(rt,jI,{type:Ne})},onValid:rt=>{Ho(rt,LI,{type:Ne,value:qn.getValue(rt)})},onInvalid:rt=>{Ho(rt,HI,{type:Ne,value:qn.getValue(rt)})}},validator:{validate:rt=>{const bt=qn.getValue(rt),Mt=Pe(bt)?er.value(!0):er.error(n("aria.input.invalid"));return Ul.pure(Mt)},validateOnLoad:!1}}),_=(Ne,Pe,rt,bt,Mt)=>{const kt=n(aT+"range"),Lt=hs.parts.label({dom:{tag:"label",attributes:{"aria-label":bt}},components:[Xi(rt)]}),Zn=hs.parts.field({data:Mt,factory:G2,inputAttributes:{type:"text",...Pe==="hex"?{"aria-live":"polite"}:{}},inputClasses:[a("textfield")],inputBehaviours:Mn([w(Pe,Ne),la.config({})]),onSetValue:so=>{Qu.isInvalid(so)&&Qu.run(so).get(P)}}),Xt=[Lt,Zn],Qn=Pe!=="hex"?[hs.parts["aria-descriptor"]({text:kt})]:[],ho=Xt.concat(Qn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:ho}},M=(Ne,Pe)=>{const rt=Xx(Pe);return fw.getField(Ne,"hex").each(bt=>{qo.isFocused(bt)||qn.setValue(Ne,{hex:rt.value})}),rt},V=(Ne,Pe)=>{const rt=Pe.red,bt=Pe.green,Mt=Pe.blue;qn.setValue(Ne,{red:rt,green:bt,blue:Mt})},J=oi({dom:{tag:"div",classes:[a("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),ne=(Ne,Pe)=>{J.getOpt(Ne).each(rt=>{Wn(rt.element,"background-color","#"+Pe.value)})};return Zu({factory:()=>{const Ne={red:$e(U.some(255)),green:$e(U.some(255)),blue:$e(U.some(255)),hex:$e(U.some("ffffff"))},Pe=(Po,rs)=>{const fs=kb(rs);V(Po,fs),kt(fs)},rt=Po=>Ne[Po].get(),bt=(Po,rs)=>{Ne[Po].set(rs)},Mt=()=>rt("red").bind(Po=>rt("green").bind(rs=>rt("blue").map(fs=>Tm(Po,rs,fs,1)))),kt=Po=>{const rs=Po.red,fs=Po.green,ss=Po.blue;bt("red",U.some(rs)),bt("green",U.some(fs)),bt("blue",U.some(ss))},Lt=(Po,rs)=>{const fs=rs.event;fs.type!=="hex"?bt(fs.type,U.none()):g(Po)},Zn=(Po,rs)=>{f(Po);const fs=rM(rs);bt("hex",U.some(rs));const ss=kb(fs);V(Po,ss),kt(ss),Ho(Po,f8,{hex:fs}),ne(Po,fs)},Xt=(Po,rs,fs)=>{const ss=parseInt(fs,10);bt(rs,U.some(ss)),Mt().each(Ln=>{const co=M(Po,Ln);Ho(Po,f8,{hex:co}),ne(Po,co)})},Qn=Po=>Po.type==="hex",ho=(Po,rs)=>{const fs=rs.event;Qn(fs)?Zn(Po,fs.value):Xt(Po,fs.type,fs.value)},so=Po=>({label:n(aT+Po+".label"),description:n(aT+Po+".description")}),Io=so("red"),Vo=so("green"),Ir=so("blue"),os=so("hex");return Zs(fw.sketch(Po=>({dom:{tag:"form",classes:[a("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[Po.field("red",hs.sketch(_(p6,"red",Io.label,Io.description,255))),Po.field("green",hs.sketch(_(p6,"green",Vo.label,Vo.description,255))),Po.field("blue",hs.sketch(_(p6,"blue",Ir.label,Ir.description,255))),Po.field("hex",hs.sketch(_(aM,"hex",os.label,os.description,"ffffff"))),J.asSpec()],formBehaviours:Mn([Qu.config({invalidClass:a("form-invalid")}),Mr("rgb-form-events",[on(LI,ho),on(HI,Lt),on(jI,Lt)])])})),{apis:{updateHex:(Po,rs)=>{qn.setValue(Po,{hex:rs.value}),Pe(Po,rs),ne(Po,rs)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(Ne,Pe,rt)=>{Ne.updateHex(Pe,rt)}},extraApis:{}})},Qp=(n,a)=>{const f=Ud.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[a("sv-palette-spectrum")]}}),g=Ud.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[a("sv-palette-thumb")],innerHtml:`<div class=${a("sv-palette-inner-thumb")} role="presentation"></div>`}}),w=(ne,de)=>{const{width:ye,height:Ne}=ne,Pe=ne.getContext("2d");if(Pe===null)return;Pe.fillStyle=de,Pe.fillRect(0,0,ye,Ne);const rt=Pe.createLinearGradient(0,0,ye,0);rt.addColorStop(0,"rgba(255,255,255,1)"),rt.addColorStop(1,"rgba(255,255,255,0)"),Pe.fillStyle=rt,Pe.fillRect(0,0,ye,Ne);const bt=Pe.createLinearGradient(0,0,0,Ne);bt.addColorStop(0,"rgba(0,0,0,0)"),bt.addColorStop(1,"rgba(0,0,0,1)"),Pe.fillStyle=bt,Pe.fillRect(0,0,ye,Ne)},_=(ne,de)=>{const ye=ne.components()[0].element.dom,Ne=Ab(de,100,100),Pe=dM(Ne);w(ye,g6(Pe))},M=(ne,de)=>{const ye=Qx(kb(de));Ud.setValue(ne,{x:ye.saturation,y:100-ye.value})};return Zu({factory:ne=>{const de=j({x:0,y:0}),ye=(rt,bt,Mt)=>{Ho(rt,Vh,{value:Mt})},Ne=(rt,bt,Mt,kt)=>{w(Mt.element.dom,g6(gM))},Pe=Mn([Ur.config({find:U.some}),qo.config({})]);return Ud.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[a("sv-palette")]},model:{mode:"xy",getInitialValue:de},rounded:!1,components:[f,g],onChange:ye,onInit:Ne,sliderBehaviours:Pe})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(ne,de,ye)=>{_(de,ye)},setThumb:(ne,de,ye)=>{M(de,ye)}},extraApis:{}})},lT=(n,a)=>{const f=w=>{const _=CX(n,a,w.onValidHex,w.onInvalidHex),M=Qp(n,a),V=ho=>(100-ho)/100*360,J=ho=>100-ho/360*100,ne={paletteRgba:$e(gM),paletteHue:$e(0)},de=oi(h8(n,a)),ye=oi(M.sketch({})),Ne=oi(_.sketch({})),Pe=(ho,so,Io)=>{ye.getOpt(ho).each(Vo=>{M.setHue(Vo,Io)})},rt=(ho,so)=>{Ne.getOpt(ho).each(Io=>{_.updateHex(Io,so)})},bt=(ho,so,Io)=>{de.getOpt(ho).each(Vo=>{Ud.setValue(Vo,J(Io))})},Mt=(ho,so)=>{ye.getOpt(ho).each(Io=>{M.setThumb(Io,so)})},kt=(ho,so)=>{const Io=kb(ho);ne.paletteRgba.set(Io),ne.paletteHue.set(so)},Lt=(ho,so,Io,Vo)=>{kt(so,Io),q(Vo,Ir=>{Ir(ho,so,Io)})},Zn=()=>{const ho=[rt];return(so,Io)=>{const Vo=Io.event.value,Ir=ne.paletteHue.get(),os=Ab(Ir,Vo.x,100-Vo.y),Po=wM(os);Lt(so,Po,Ir,ho)}},Xt=()=>{const ho=[Pe,rt];return(so,Io)=>{const Vo=V(Io.event.value),Ir=ne.paletteRgba.get(),os=Qx(Ir),Po=Ab(Vo,os.saturation,os.value),rs=wM(Po);Lt(so,rs,Vo,ho)}},Qn=()=>{const ho=[Pe,bt,Mt];return(so,Io)=>{const Vo=Io.event.hex,Ir=yM(Vo);Lt(so,Vo,Ir.hue,ho)}};return{uid:w.uid,dom:w.dom,components:[ye.asSpec(),de.asSpec(),Ne.asSpec()],behaviours:Mn([Mr("colour-picker-events",[on(f8,Qn()),on(Vh,Zn()),on(d8,Xt())]),Ur.config({find:ho=>Ne.getOpt(ho)}),No.config({mode:"acyclic"})])}};return Zu({name:"ColourPicker",configFields:[ln("dom"),$t("onValidHex",P),$t("onInvalidHex",P)],factory:f})},dd={self:()=>Ur.config({find:U.some}),memento:n=>Ur.config({find:n.getOpt}),childAt:n=>Ur.config({find:a=>vi(a.element,n).bind(f=>a.getSystem().getByDom(f).toOptional())})},g8=Oo([$t("preprocess",oe),$t("postprocess",oe)]),cT=(n,a)=>{const f=Pl("RepresentingConfigs.memento processors",g8,a);return qn.config({store:{mode:"manual",getValue:g=>{const w=n.get(g),_=qn.getValue(w);return f.postprocess(_)},setValue:(g,w)=>{const _=f.preprocess(w),M=n.get(g);qn.setValue(M,_)}}})},dw=(n,a,f)=>qn.config({store:{mode:"manual",...n.map(g=>({initialValue:g})).getOr({}),getValue:a,setValue:f}}),Db=(n,a,f)=>dw(n,g=>a(g.element),(g,w)=>f(g.element,w)),hd={memento:cT,withElement:Db,withComp:dw,domValue:n=>Db(n,Yl,Wg),domHtml:n=>Db(n,Ch,Dd),memory:n=>qn.config({store:{mode:"memory",initialValue:n}})},kX={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},AX=n=>a=>n.translate(kX[a]),TX=(n,a,f)=>{const g=J=>"tox-"+J,w=lT(AX(a),g),_=J=>{Ho(J,_m,{name:"hex-valid",value:!0})},M=J=>{Ho(J,_m,{name:"hex-valid",value:!1})},V=oi(w.sketch({dom:{tag:"div",classes:[g("color-picker-container")],attributes:{role:"presentation"}},onValidHex:_,onInvalidHex:M}));return{dom:{tag:"div"},components:[V.asSpec()],behaviours:Mn([hd.withComp(f,J=>{const ne=V.get(J);return Ur.getCurrent(ne).bind(Ne=>qn.getValue(Ne).hex).map(Ne=>"#"+Ne).getOr("")},(J,ne)=>{const de=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,ye=U.from(de.exec(ne)).bind(rt=>bn(rt,1)),Ne=V.get(J);Ur.getCurrent(Ne).fold(()=>{console.log("Can not find form")},rt=>{qn.setValue(rt,{hex:ye.getOr("")}),fw.getField(rt,"hex").each(bt=>{ms(bt,Fg())})})}),dd.self()])}};var OX=tinymce.util.Tools.resolve("tinymce.Resource");const _X=n=>eo(n,"init"),zI=n=>{const a=ki(),f=oi({dom:{tag:n.tag}}),g=ki();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Mn([Mr("custom-editor-events",[Yi(w=>{f.getOpt(w).each(_=>{(_X(n)?n.init(_.element.dom):OX.load(n.scriptId,n.scriptUrl).then(M=>M(_.element.dom,n.settings))).then(M=>{g.on(V=>{M.setValue(V)}),g.clear(),a.set(M)})})})]),hd.withComp(U.none(),()=>a.get().fold(()=>g.get().getOr(""),w=>w.getValue()),(w,_)=>{a.get().fold(()=>g.set(_),M=>M.setValue(_))}),dd.self()]),components:[f.asSpec()]}};var vv=tinymce.util.Tools.resolve("tinymce.util.Tools");const $X=(n,a)=>{const f=vv.explode(a.getOption("images_file_types")),g=w=>ue(f,_=>dt(w.name.toLowerCase(),`.${_.toLowerCase()}`));return tt(fn(n),g)},VI=(n,a,f)=>{const g=(Ne,Pe)=>{Pe.stop()},w=Ne=>(Pe,rt)=>{q(Ne,bt=>{bt(Pe,rt)})},_=(Ne,Pe)=>{var rt;if(!Bo.isDisabled(Ne)){const bt=Pe.event.raw;V(Ne,(rt=bt.dataTransfer)===null||rt===void 0?void 0:rt.files)}},M=(Ne,Pe)=>{const rt=Pe.event.raw.target;V(Ne,rt.files)},V=(Ne,Pe)=>{Pe&&(qn.setValue(Ne,$X(Pe,a)),Ho(Ne,Ju,{name:n.name}))},J=oi({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Mn([Mr("input-file-events",[Mg(a0()),Mg(c0())])])}),ne=Ne=>({uid:Ne.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Mn([hd.memory(f.getOr([])),dd.self(),Bo.config({}),Qr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Mr("dropzone-events",[on("dragenter",w([g,Qr.toggle])),on("dragleave",w([g,Qr.toggle])),on("dragover",g),on("drop",w([g,_])),on(v1(),M)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Xi(a.translate("Drop an image here"))]},ou.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Xi(a.translate("Browse for an image")),J.asSpec()],action:Pe=>{J.get(Pe).element.dom.click()},buttonBehaviours:Mn([la.config({}),Xu.button(a.isDisabled),Wa()])})]}]}),de=n.label.map(Ne=>jh(Ne,a)),ye=hs.parts.field({factory:{sketch:ne}});return nE(de,ye,["tox-form__group--stretched"],[])},DX=(n,a)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${n.columns}col`]},components:me(n.items,a.interpreter)}),uT=fo("alloy-fake-before-tabstop"),Bb=fo("alloy-fake-after-tabstop"),UI=n=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:Mn([qo.config({ignore:!0}),la.config({})])}),m8=n=>({dom:{tag:"div",classes:["tox-navobj"]},components:[UI([uT]),n,UI([Bb])],behaviours:Mn([dd.childAt(1)])}),WI=(n,a)=>{Ho(n,i0(),{raw:{which:9,shiftKey:a}})},BX=(n,a)=>{const f=a.element;vl(f,uT)?WI(n,!0):vl(f,Bb)&&WI(n,!1)},lE=n=>ow(n,["."+uT,"."+Bb].join(","),he),NX=n=>{const a=$e(n.getOr(""));return{getValue:f=>a.get(),setValue:(f,g)=>{a.get()!==g&&Fn(f.element,"srcdoc",g),a.set(g)}}},qI=(n,a,f)=>{const g=n.sandboxed,w=n.transparent,_="tox-dialog__iframe",M={...n.label.map(ye=>({title:ye})).getOr({}),...f.map(ye=>({srcdoc:ye})).getOr({}),...g?{sandbox:"allow-scripts allow-same-origin"}:{}},V=NX(f),J=n.label.map(ye=>jh(ye,a)),ne=ye=>m8({uid:ye.uid,dom:{tag:"iframe",attributes:M,classes:w?[_]:[_,`${_}--opaque`]},behaviours:Mn([la.config({}),qo.config({}),hd.withComp(f,V.getValue,V.setValue)])}),de=hs.parts.field({factory:{sketch:ne}});return nE(J,de,["tox-form__group--stretched"],[])},PX=n=>new Promise((a,f)=>{const g=()=>{_(),a(n)},w=[Jl(n,"load",g),Jl(n,"error",()=>{_(),f("Unable to load data from image: "+n.dom.src)})],_=()=>q(w,M=>M.unbind());n.dom.complete&&g()}),ZI=(n,a,f,g,w)=>{const _=f*w,M=g*w,V=Math.max(0,n/2-_/2),J=Math.max(0,a/2-M/2);return{left:V.toString()+"px",top:J.toString()+"px",width:_.toString()+"px",height:M.toString()+"px"}},v8=(n,a,f)=>{const g=qs(n),w=Vt(n);return Math.min(g/a,w/f,1)},Dm=(n,a)=>{const f=$e(a.getOr({url:""})),g=oi({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:a.map(J=>({src:J.url})).getOr({})}}),w=oi({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[g.asSpec()]}),_=(J,ne)=>{const de={url:ne.url};ne.zoom.each(Ne=>de.zoom=Ne),ne.cachedWidth.each(Ne=>de.cachedWidth=Ne),ne.cachedHeight.each(Ne=>de.cachedHeight=Ne),f.set(de);const ye=()=>{const{cachedWidth:Ne,cachedHeight:Pe,zoom:rt}=de;if(!k(Ne)&&!k(Pe)){if(k(rt)){const Mt=v8(J.element,Ne,Pe);de.zoom=Mt}const bt=ZI(qs(J.element),Vt(J.element),Ne,Pe,de.zoom);w.getOpt(J).each(Mt=>{Wr(Mt.element,bt)})}};g.getOpt(J).each(Ne=>{const Pe=Ne.element;ne.url!==Ro(Pe,"src")&&(Fn(Pe,"src",ne.url),fi(J.element,"tox-imagepreview__loaded")),ye(),PX(Pe).then(rt=>{J.getSystem().isConnected()&&(nl(J.element,"tox-imagepreview__loaded"),de.cachedWidth=rt.dom.naturalWidth,de.cachedHeight=rt.dom.naturalHeight,ye())})})},M={};n.height.each(J=>M.height=J);const V=a.map(J=>({url:J.url,zoom:U.from(J.zoom),cachedWidth:U.from(J.cachedWidth),cachedHeight:U.from(J.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:M,attributes:{role:"presentation"}},components:[w.asSpec()],behaviours:Mn([dd.self(),hd.withComp(V,()=>f.get(),_)])}},b8=(n,a)=>{const f={dom:{tag:"label",classes:["tox-label"]},components:[Xi(a.providers.translate(n.label))]},g=me(n.items,a.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[f,...g],behaviours:Mn([dd.self(),kr.config({}),hd.domHtml(U.none()),No.config({mode:"acyclic"})])}},y8=fo("toolbar.button.execute"),GI=n=>wh((a,f)=>{HA(n,a)(g=>{Ho(a,y8,{buttonApi:g}),n.onAction(g)})}),fT={[mu()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},w8=(n,a,f)=>Fh(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:f},a),Nb=(n,a)=>w8(n,a,[]),C8=(n,a)=>w8(n,a,[kr.config({})]),dT=(n,a,f)=>({dom:{tag:"span",classes:[`${a}__select-label`]},components:[Xi(f.translate(n))],behaviours:Mn([kr.config({})])}),hw=fo("update-menu-text"),KI=fo("update-menu-icon"),S8=(n,a,f)=>{const g=$e(P),w=n.text.map(ye=>oi(dT(ye,a,f.providers))),_=n.icon.map(ye=>oi(C8(ye,f.providers.icons))),M=(ye,Ne)=>{const Pe=qn.getValue(ye);return qo.focus(Pe),Ho(Pe,"keydown",{raw:Ne.event.raw}),ud.close(Pe),U.some(!0)},V=n.role.fold(()=>({}),ye=>({role:ye})),J=n.tooltip.fold(()=>({}),ye=>{const Ne=f.providers.translate(ye);return{title:Ne,"aria-label":Ne}}),ne=Fh("chevron-down",{tag:"div",classes:[`${a}__select-chevron`]},f.providers.icons);return oi(ud.sketch({...n.uid?{uid:n.uid}:{},...V,dom:{tag:"button",classes:[a,`${a}--select`].concat(me(n.classes,ye=>`${a}--${ye}`)),attributes:{...J}},components:Yx([_.map(ye=>ye.asSpec()),w.map(ye=>ye.asSpec()),U.some(ne)]),matchWidth:!0,useMinWidth:!0,onOpen:(ye,Ne,Pe)=>{n.searchable&&XK(Pe)},dropdownBehaviours:Mn([...n.dropdownBehaviours,Xu.button(()=>n.disabled||f.providers.isDisabled()),Wa(),iw.config({}),kr.config({}),Mr("dropdown-events",[Gx(n,g),Kx(n,g)]),Mr("menubutton-update-display-text",[on(hw,(ye,Ne)=>{w.bind(Pe=>Pe.getOpt(ye)).each(Pe=>{kr.set(Pe,[Xi(f.providers.translate(Ne.event.text))])})}),on(KI,(ye,Ne)=>{_.bind(Pe=>Pe.getOpt(ye)).each(Pe=>{kr.set(Pe,[C8(Ne.event.icon,f.providers.icons)])})})])]),eventOrder:Zs(fT,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Mn([No.config({mode:"special",onLeft:M,onRight:M}),Mr("dropdown-sandbox-events",[on(KD,(ye,Ne)=>{qK(ye),Ne.stop()}),on(YD,(ye,Ne)=>{ZK(ye,Ne),Ne.stop()})])]),lazySink:f.getSink,toggleClass:`${a}--active`,parts:{menu:{...Rx(!1,n.columns,n.presets),fakeFocus:n.searchable,onHighlightItem:VM,onCollapseMenu:(ye,Ne,Pe)=>{us.getHighlighted(Pe).each(rt=>{VM(ye,Pe,rt)})},onDehighlightItem:YK}},fetch:ye=>Ul.nu(se(n.fetch,ye))})).asSpec()},FX=n=>v(n),YI=n=>n.type==="separator",XI=n=>eo(n,"getSubmenuItems"),JI={type:"separator"},RX=(n,a)=>{const f=it(n,(g,w)=>FX(w)?w===""?g:w==="|"?g.length>0&&!YI(g[g.length-1])?g.concat([JI]):g:eo(a,w.toLowerCase())?g.concat([a[w.toLowerCase()]]):g:g.concat([w]),[]);return f.length>0&&YI(f[f.length-1])&&f.pop(),f},MX=(n,a)=>{const f=n.getSubmenuItems(),g=cE(f,a),w=Zs(g.menus,{[n.value]:g.items}),_=Zs(g.expansions,{[n.value]:n.value});return{item:n,menus:w,expansions:_}},IX=n=>{const a=pn(n,"value").getOrThunk(()=>fo("generated-menu-item"));return Zs({value:a},n)},cE=(n,a)=>{const f=RX(v(n)?n.split(" "):n,a);return Qe(f,(g,w)=>{if(XI(w)){const _=IX(w),M=MX(_,a);return{menus:Zs(g.menus,M.menus),items:[M.item,...g.items],expansions:Zs(g.expansions,M.expansions)}}else return{...g,items:[w,...g.items]}},{menus:{},expansions:{},items:[]})},LX=n=>n.search.fold(()=>({searchMode:"no-search"}),a=>({searchMode:"search-with-field",placeholder:a.placeholder})),HX=n=>n.search.fold(()=>({searchMode:"no-search"}),a=>({searchMode:"search-with-results"})),Pb=(n,a,f,g)=>{const w=fo("primary-menu"),_=cE(n,f.shared.providers.menuItems());if(_.items.length===0)return U.none();const M=LX(g),V=UM(w,_.items,a,f,g.isHorizontalMenu,M),J=HX(g),ne=kn(_.menus,(ye,Ne)=>UM(Ne,ye,a,f,!1,J)),de=Zs(ne,ds(w,V));return U.from(gb.tieredData(w,de,_.expansions))},hT=n=>!eo(n,"items"),QI="data-value",eL=(n,a,f,g)=>me(f,w=>hT(w)?{type:"togglemenuitem",text:w.text,value:w.value,active:w.value===g,onAction:()=>{qn.setValue(n,w.value),Ho(n,Ju,{name:a}),qo.focus(n)}}:{type:"nestedmenuitem",text:w.text,getSubmenuItems:()=>eL(n,a,w.items,g)}),uE=(n,a)=>oo(n,f=>hT(f)?Es(f.value===a,f):uE(f.items,a)),jX=(n,a,f)=>{const g=a.shared.providers,w=f.bind(J=>uE(n.items,J)).orThunk(()=>Kn(n.items).filter(hT)),_=n.label.map(J=>jh(J,g)),M=hs.parts.field({dom:{},factory:{sketch:J=>S8({uid:J.uid,text:w.map(ne=>ne.text),icon:U.none(),tooltip:n.label,role:U.none(),fetch:(ne,de)=>{const ye=eL(ne,n.name,n.items,qn.getValue(ne));de(Pb(ye,Rh.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:U.none()}))},onSetup:j(P),getApi:j({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[la.config({}),hd.withComp(w.map(ne=>ne.value),ne=>Ro(ne.element,QI),(ne,de)=>{uE(n.items,de).each(ye=>{Fn(ne.element,QI,ye.value),Ho(ne,hw,{text:ye.text})})})]},"tox-listbox",a.shared)}}),V={dom:{tag:"div",classes:["tox-listboxfield"]},components:[M]};return hs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([_.toArray(),[V]]),fieldBehaviours:Mn([Bo.config({disabled:j(!n.enabled),onDisabled:J=>{hs.getField(J).each(Bo.disable)},onEnabled:J=>{hs.getField(J).each(Bo.enable)}})])})},zX=(n,a)=>({dom:{tag:"div",classes:n.classes},components:me(n.items,a.shared.interpreter)}),VX=(n,a)=>{const f=me(n.options,w=>({dom:{tag:"option",value:w.value,innerHtml:w.text}})),g=n.data.map(w=>ds("initialValue",w)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:f,behaviours:il(n.selectBehaviours,[qo.config({}),qn.config({store:{mode:"manual",getValue:w=>Yl(w.element),setValue:(w,_)=>{Re(n.options,V=>V.value===_).isSome()&&Wg(w.element,_)},...g}})])}},UX=Zu({name:"HtmlSelect",configFields:[ln("options"),wa("selectBehaviours",[qo,qn]),$t("selectClasses",[]),$t("selectAttributes",{}),Kr("data")],factory:VX}),x8=(n,a,f)=>{const g=me(n.items,J=>({text:a.translate(J.text),value:J.value})),w=n.label.map(J=>jh(J,a)),_=hs.parts.field({dom:{},...f.map(J=>({data:J})).getOr({}),selectAttributes:{size:n.size},options:g,factory:UX,selectBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||a.isDisabled()}),la.config({}),Mr("selectbox-change",[on(v1(),(J,ne)=>{Ho(J,Ju,{name:n.name})})])])}),M=n.size>1?U.none():U.some(Fh("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},a.icons)),V={dom:{tag:"div",classes:["tox-selectfield"]},components:Oe([[_],M.toArray()])};return hs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Oe([w.toArray(),[V]]),fieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||a.isDisabled(),onDisabled:J=>{hs.getField(J).each(Bo.disable)},onEnabled:J=>{hs.getField(J).each(Bo.enable)}}),Wa()])})},E8=j([$t("field1Name","field1"),$t("field2Name","field2"),Np("onLockedChange"),Zg(["lockClass"]),$t("locked",!1),xu.field("coupledFieldBehaviours",[Ur,qn])]),WX=(n,a,f)=>Gs(n,a,f).bind(Ur.getCurrent),tL=(n,a)=>Vl({factory:hs,name:n,overrides:f=>({fieldBehaviours:Mn([Mr("coupled-input-behaviour",[on(Fg(),g=>{WX(g,f,a).each(w=>{Gs(g,f,"lock").each(_=>{Qr.isOn(_)&&f.onLockedChange(g,w,_)})})})])])})}),k8=j([tL("field1","field2"),tL("field2","field1"),Vl({factory:ou,schema:[ln("dom")],name:"lock",overrides:n=>({buttonBehaviours:Mn([Qr.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])})})]),qX=(n,a,f,g)=>({uid:n.uid,dom:n.dom,components:a,behaviours:xu.augment(n.coupledFieldBehaviours,[Ur.config({find:U.some}),qn.config({store:{mode:"manual",getValue:w=>{const _=pm(w,n,["field1","field2"]);return{[n.field1Name]:qn.getValue(_.field1()),[n.field2Name]:qn.getValue(_.field2())}},setValue:(w,_)=>{const M=pm(w,n,["field1","field2"]);yr(_,n.field1Name)&&qn.setValue(M.field1(),_[n.field1Name]),yr(_,n.field2Name)&&qn.setValue(M.field2(),_[n.field2Name])}}})]),apis:{getField1:w=>Gs(w,n,"field1"),getField2:w=>Gs(w,n,"field2"),getLock:w=>Gs(w,n,"lock")}}),Au=mc({name:"FormCoupledInputs",configFields:E8(),partFields:k8(),factory:qX,apis:{getField1:(n,a)=>n.getField1(a),getField2:(n,a)=>n.getField2(a),getLock:(n,a)=>n.getLock(a)}}),nL=n=>{const a={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},f=w=>w in a?a[w]:1;let g=n.value.toFixed(f(n.unit));return g.indexOf(".")!==-1&&(g=g.replace(/\.?0*$/,"")),g+n.unit},A8=n=>{const f=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(n);if(f!==null){const g=parseFloat(f[1]),w=f[2];return er.value({value:g,unit:w})}else return er.error(n)},oL=(n,a)=>{const f={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},g=w=>eo(f,w);return n.unit===a?U.some(n.value):g(n.unit)&&g(a)?f[n.unit]===f[a]?U.some(n.value):U.some(n.value/f[n.unit]*f[a]):U.none()},pT=n=>U.none(),rL=(n,a)=>f=>oL(f,a).map(g=>({value:g*n,unit:a})),ZX=(n,a)=>{const f=A8(n).toOptional(),g=A8(a).toOptional();return wr(f,g,(w,_)=>oL(w,_.unit).map(M=>_.value/M).map(M=>rL(M,_.unit)).getOr(pT)).getOr(pT)},sL=(n,a)=>{let f=pT;const g=fo("ratio-event"),w=ye=>Fh(ye,{tag:"span",classes:["tox-icon","tox-lock-icon__"+ye]},a.icons),_=Au.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:a.translate(n.label.getOr("Constrain proportions"))}},components:[w("lock"),w("unlock")],buttonBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||a.isDisabled()}),Wa(),la.config({})])}),M=ye=>({dom:{tag:"div",classes:["tox-form__group"]},components:ye}),V=ye=>hs.parts.field({factory:G2,inputClasses:["tox-textfield"],inputBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||a.isDisabled()}),Wa(),la.config({}),Mr("size-input-events",[on(_p(),(Ne,Pe)=>{Ho(Ne,g,{isField1:ye})}),on(v1(),(Ne,Pe)=>{Ho(Ne,Ju,{name:n.name})})])]),selectOnFocus:!1}),J=ye=>({dom:{tag:"label",classes:["tox-label"]},components:[Xi(a.translate(ye))]}),ne=Au.parts.field1(M([hs.parts.label(J("Width")),V(!0)])),de=Au.parts.field2(M([hs.parts.label(J("Height")),V(!1)]));return Au.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[ne,de,M([J(I1),_])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(ye,Ne,Pe)=>{A8(qn.getValue(ye)).each(rt=>{f(rt).each(bt=>{qn.setValue(Ne,nL(bt))})})},coupledFieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||a.isDisabled(),onDisabled:ye=>{Au.getField1(ye).bind(hs.getField).each(Bo.disable),Au.getField2(ye).bind(hs.getField).each(Bo.disable),Au.getLock(ye).each(Bo.disable)},onEnabled:ye=>{Au.getField1(ye).bind(hs.getField).each(Bo.enable),Au.getField2(ye).bind(hs.getField).each(Bo.enable),Au.getLock(ye).each(Bo.enable)}}),Wa(),Mr("size-input-events2",[on(g,(ye,Ne)=>{const Pe=Ne.event.isField1,rt=Pe?Au.getField1(ye):Au.getField2(ye),bt=Pe?Au.getField2(ye):Au.getField1(ye),Mt=rt.map(qn.getValue).getOr(""),kt=bt.map(qn.getValue).getOr("");f=ZX(Mt,kt)})])])})},iL=(n,a,f)=>{const g=Ud.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Xi(a.translate(n.label))]}),w=Ud.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),_=Ud.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Ud.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:j(f.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[g,w,_],sliderBehaviours:Mn([dd.self(),qo.config({})]),onChoose:(M,V,J)=>{Ho(M,Ju,{name:n.name,value:J})}})},GX=(n,a)=>{const f=V=>({dom:{tag:"th",innerHtml:a.translate(V)}}),g=V=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:me(V,f)}]}),w=V=>({dom:{tag:"td",innerHtml:a.translate(V)}}),_=V=>({dom:{tag:"tr"},components:me(V,w)}),M=V=>({dom:{tag:"tbody"},components:me(V,_)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[g(n.header),M(n.cells)],behaviours:Mn([la.config({}),qo.config({})])}},T8=(n,a)=>{const f=n.label.map(Ne=>jh(Ne,a)),g=[Bo.config({disabled:()=>n.disabled||a.isDisabled()}),Wa(),No.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:Ne=>(ms(Ne,ZA),U.some(!0))}),Mr("textfield-change",[on(Fg(),(Ne,Pe)=>{Ho(Ne,Ju,{name:n.name})}),on(qC(),(Ne,Pe)=>{Ho(Ne,Ju,{name:n.name})})]),la.config({})],w=n.validation.map(Ne=>Qu.config({getRoot:Pe=>dl(Pe.element),invalidClass:"tox-invalid",validator:{validate:Pe=>{const rt=qn.getValue(Pe),bt=Ne.validator(rt);return Ul.pure(bt===!0?er.value(rt):er.error(bt))},validateOnLoad:Ne.validateOnLoad}})).toArray(),_=n.placeholder.fold(j({}),Ne=>({placeholder:a.translate(Ne)})),M=n.inputMode.fold(j({}),Ne=>({inputmode:Ne})),V={..._,...M},J=hs.parts.field({tag:n.multiline===!0?"textarea":"input",...n.data.map(Ne=>({data:Ne})).getOr({}),inputAttributes:V,inputClasses:[n.classname],inputBehaviours:Mn(Oe([g,w])),selectOnFocus:!1,factory:G2}),de=(n.flex?["tox-form__group--stretched"]:[]).concat(n.maximized?["tox-form-group--maximize"]:[]),ye=[Bo.config({disabled:()=>n.disabled||a.isDisabled(),onDisabled:Ne=>{hs.getField(Ne).each(Bo.disable)},onEnabled:Ne=>{hs.getField(Ne).each(Bo.enable)}}),Wa()];return nE(f,J,de,ye)},aL=(n,a,f)=>T8({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:!n.enabled,classname:"tox-textfield",validation:U.none(),maximized:n.maximized,data:f},a),lL=(n,a,f)=>T8({name:n.name,multiline:!0,label:n.label,inputMode:U.none(),placeholder:n.placeholder,flex:!0,disabled:!n.enabled,classname:"tox-textarea",validation:U.none(),maximized:n.maximized,data:f},a);var KX=Object.freeze({__proto__:null,events:(n,a)=>{const g=n.stream.streams.setup(n,a);return Dr([on(n.event,g),Jf(()=>a.cancel())].concat(n.cancelEvent.map(w=>[on(w,()=>a.cancel())]).getOr([])))}});const YX=(n,a)=>{let f=null;return{cancel:()=>{T(f)||(clearTimeout(f),f=null)},throttle:(..._)=>{T(f)&&(f=setTimeout(()=>{f=null,n.apply(null,_)},a))}}},O8=(n,a)=>{let f=null;const g=()=>{T(f)||(clearTimeout(f),f=null)};return{cancel:g,throttle:(..._)=>{g(),f=setTimeout(()=>{f=null,n.apply(null,_)},a)}}},cL=n=>{const a=$e(null);return bu({readState:()=>({timer:a.get()!==null?"set":"unset"}),setTimer:_=>{a.set(_)},cancel:()=>{const _=a.get();_!==null&&_.cancel()}})};var JX=Object.freeze({__proto__:null,throttle:cL,init:n=>n.stream.streams.state(n)});const QX=(n,a)=>{const f=n.stream,g=O8(n.onStream,f.delay);return a.setTimer(g),(w,_)=>{g.throttle(w,_),f.stopEvent&&_.stop()}};var _8=[_a("stream",Kc("mode",{throttle:[ln("delay"),$t("stopEvent",!0),ti("streams",{setup:QX,state:cL})]})),$t("event","input"),Kr("cancelEvent"),Np("onStream")];const $8=Va({fields:_8,name:"streaming",active:KX,state:JX}),gT=(n,a,f)=>{const g=qn.getValue(f);qn.setValue(a,g),D8(a)},uL=(n,a)=>{const f=n.element,g=Yl(f),w=f.dom;Ro(f,"type")!=="number"&&a(w,g)},D8=n=>{uL(n,(a,f)=>a.setSelectionRange(f.length,f.length))},eJ=(n,a)=>{uL(n,(f,g)=>f.setSelectionRange(a,g.length))},fL=(n,a,f)=>{if(n.selectsOver){const g=qn.getValue(a),w=n.getDisplayText(g),_=qn.getValue(f);return n.getDisplayText(_).indexOf(w)===0?U.some(()=>{gT(n,a,f),eJ(a,w.length)}):U.none()}else return U.none()},B8=j("alloy.typeahead.itemexecute"),dL=(n,a,f,g)=>{const w=(ye,Ne,Pe)=>{n.previewing.set(!1);const rt=Hi.getCoupled(ye,"sandbox");if(Rr.isOpen(rt))Ur.getCurrent(rt).each(bt=>{us.getHighlighted(bt).fold(()=>{Pe(bt)},()=>{Rg(rt,bt.element,"keydown",Ne)})});else{const bt=Mt=>{Ur.getCurrent(Mt).each(Pe)};nw(n,M(ye),ye,rt,g,bt,nc.HighlightMenuAndItem).get(P)}},_=AA(n),M=ye=>Ne=>Ne.map(Pe=>{const rt=xn(Pe.menus),bt=be(rt,kt=>tt(kt.items,Lt=>Lt.type==="item"));return qn.getState(ye).update(me(bt,kt=>kt.data)),Pe}),V=ye=>Ur.getCurrent(ye),J="typeaheadevents",ne=[qo.config({}),qn.config({onSetValue:n.onSetValue,store:{mode:"dataset",getDataKey:ye=>Yl(ye.element),getFallbackEntry:ye=>({value:ye,meta:{}}),setValue:(ye,Ne)=>{Wg(ye.element,n.model.getDisplayText(Ne))},...n.initialData.map(ye=>ds("initialValue",ye)).getOr({})}}),$8.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:(ye,Ne)=>{const Pe=Hi.getCoupled(ye,"sandbox");if(qo.isFocused(ye)&&Yl(ye.element).length>=n.minChars){const bt=V(Pe).bind(kt=>us.getHighlighted(kt).map(qn.getValue));n.previewing.set(!0);const Mt=kt=>{V(Pe).each(Lt=>{bt.fold(()=>{n.model.selectsOver&&us.highlightFirst(Lt)},Zn=>{us.highlightBy(Lt,Xt=>qn.getValue(Xt).value===Zn.value),us.getHighlighted(Lt).orThunk(()=>(us.highlightFirst(Lt),U.none()))})})};nw(n,M(ye),ye,Pe,g,Mt,nc.HighlightJustMenu).get(P)}},cancelEvent:u0()}),No.config({mode:"special",onDown:(ye,Ne)=>(w(ye,Ne,us.highlightFirst),U.some(!0)),onEscape:ye=>{const Ne=Hi.getCoupled(ye,"sandbox");return Rr.isOpen(Ne)?(Rr.close(Ne),U.some(!0)):U.none()},onUp:(ye,Ne)=>(w(ye,Ne,us.highlightLast),U.some(!0)),onEnter:ye=>{const Ne=Hi.getCoupled(ye,"sandbox"),Pe=Rr.isOpen(Ne);if(Pe&&!n.previewing.get())return V(Ne).bind(rt=>us.getHighlighted(rt)).map(rt=>(Ho(ye,B8(),{item:rt}),!0));{const rt=qn.getValue(ye);return ms(ye,u0()),n.onExecute(Ne,ye,rt),Pe&&Rr.close(Ne),U.some(!0)}}}),Qr.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Hi.config({others:{sandbox:ye=>P6(n,ye,{onOpen:()=>Qr.on(ye),onClose:()=>Qr.off(ye)})}}),Mr(J,[Yi(ye=>{n.lazyTypeaheadComp.set(U.some(ye))}),Jf(ye=>{n.lazyTypeaheadComp.set(U.none())}),wh(ye=>{const Ne=P;N6(n,M(ye),ye,g,Ne,nc.HighlightMenuAndItem).get(P)}),on(B8(),(ye,Ne)=>{const Pe=Hi.getCoupled(ye,"sandbox");gT(n.model,ye,Ne.event.item),ms(ye,u0()),n.onItemExecute(ye,Pe,Ne.event.item,qn.getValue(ye)),Rr.close(Pe),D8(ye)})].concat(n.dismissOnBlur?[on(va(),ye=>{const Ne=Hi.getCoupled(ye,"sandbox");td(Ne.element).isNone()&&Rr.close(Ne)})]:[]))],de={[Sf()]:[qn.name(),$8.name(),J],...n.eventOrder};return{uid:n.uid,dom:TA(Zs(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{..._,...il(n.typeaheadBehaviours,ne)},eventOrder:de}},tJ=j([Kr("lazySink"),ln("fetch"),$t("minChars",5),$t("responseTime",1e3),qr("onOpen"),$t("getHotspot",U.some),$t("getAnchorOverrides",j({})),$t("layouts",U.none()),$t("eventOrder",{}),_e("model",{},[$t("getDisplayText",n=>n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value),$t("selectsOver",!0),$t("populateFromBrowse",!0)]),qr("onSetValue"),eu("onExecute"),qr("onItemExecute"),$t("inputClasses",[]),$t("inputAttributes",{}),$t("inputStyles",{}),$t("matchWidth",!0),$t("useMinWidth",!1),$t("dismissOnBlur",!0),Zg(["openClass"]),Kr("initialData"),wa("typeaheadBehaviours",[qo,qn,$8,No,Qr,Hi]),ml("lazyTypeaheadComp",()=>$e(U.none)),ml("previewing",()=>$e(!0))].concat(ZD()).concat(F6())),nJ=j([Tf({schema:[A0()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(a,f,g)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(w=>{fL(n.model,w,g).fold(()=>{n.model.selectsOver?(us.dehighlight(f,g),n.previewing.set(!0)):n.previewing.set(!1)},_=>{_(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(w=>{n.model.populateFromBrowse&&gT(n.model,w,g)})},onExecute:(a,f)=>n.lazyTypeaheadComp.get().map(g=>(Ho(g,B8(),{item:f}),!0)),onHover:(a,f)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(g=>{n.model.populateFromBrowse&&gT(n.model,g,f)})}})})]),oJ=mc({name:"Typeahead",configFields:tJ(),partFields:nJ(),factory:dL}),Wd=n=>({...n,toCached:()=>Wd(n.toCached()),bindFuture:J=>Wd(n.bind(ne=>ne.fold(de=>Ul.pure(er.error(de)),de=>J(de)))),bindResult:J=>Wd(n.map(ne=>ne.bind(J))),mapResult:J=>Wd(n.map(ne=>ne.map(J))),mapError:J=>Wd(n.map(ne=>ne.mapError(J))),foldResult:(J,ne)=>n.map(de=>de.fold(J,ne)),withTimeout:(J,ne)=>Wd(Ul.nu(de=>{let ye=!1;const Ne=setTimeout(()=>{ye=!0,de(er.error(ne()))},J);n.get(Pe=>{ye||(clearTimeout(Ne),de(Pe))})}))}),N8=n=>Wd(Ul.nu(n)),hL=n=>Wd(Ul.pure(er.value(n))),sJ={nu:N8,wrap:Wd,pure:hL,value:hL,error:n=>Wd(Ul.pure(er.error(n))),fromResult:n=>Wd(Ul.pure(n)),fromFuture:n=>Wd(n.map(er.value)),fromPromise:n=>N8(a=>{n.then(f=>{a(er.value(f))},f=>{a(er.error(f))})})},pL=n=>({isEnabled:()=>!Bo.isDisabled(n),setEnabled:a=>Bo.set(n,!a),setActive:a=>{const f=n.element;a?(nl(f,"tox-tbtn--enabled"),Fn(f,"aria-pressed",!0)):(fi(f,"tox-tbtn--enabled"),et(f,"aria-pressed"))},isActive:()=>vl(n.element,"tox-tbtn--enabled")}),P8=(n,a,f,g)=>S8({text:n.text,icon:n.icon,tooltip:n.tooltip,searchable:n.search.isSome(),role:g,fetch:(w,_)=>{const M={pattern:n.search.isSome()?JK(w):""};n.fetch(V=>{_(Pb(V,Rh.CLOSE_ON_EXECUTE,f,{isHorizontalMenu:!1,search:n.search}))},M)},onSetup:n.onSetup,getApi:pL,columns:1,presets:"normal",classes:[],dropdownBehaviours:[la.config({})]},a,f.shared),iJ=(n,a,f)=>{const g=_=>M=>{const V=!M.isActive();M.setActive(V),_.storage.set(V),f.shared.getSink().each(J=>{a().getOpt(J).each(ne=>{_h(ne.element),Ho(ne,_m,{name:_.name,value:_.storage.get()})})})},w=_=>M=>{M.setActive(_.storage.get())};return _=>{_(me(n,M=>{const V=M.text.fold(()=>({}),J=>({text:J}));return{type:M.type,active:!1,...V,onAction:g(M),onSetup:w(M)}}))}},F8=(n,a,f=[],g,w,_)=>{const M=a.fold(()=>({}),ne=>({action:ne})),V={buttonBehaviours:Mn([Xu.button(()=>!n.enabled||_.isDisabled()),Wa(),la.config({}),Mr("button press",[s3("click"),s3("mousedown")])].concat(f)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...M},J=Zs(V,{dom:g});return Zs(J,{components:w})},gL=(n,a,f,g=[])=>{const w=n.tooltip.map(J=>({"aria-label":f.translate(J),title:f.translate(J)})).getOr({}),_={tag:"button",classes:["tox-tbtn"],attributes:w},M=n.icon.map(J=>Nb(J,f.icons)),V=Yx([M]);return F8(n,a,g,_,V,f)},mL=n=>{switch(n){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},fE=(n,a,f,g=[],w=[])=>{const _=f.translate(n.text),M=n.icon.map(Ne=>Nb(Ne,f.icons)),V=[M.getOrThunk(()=>Xi(_))],J=n.buttonType.getOr(!n.primary&&!n.borderless?"secondary":"primary"),de=[...mL(J),...M.isSome()?["tox-button--icon"]:[],...n.borderless?["tox-button--naked"]:[],...w];return F8(n,a,g,{tag:"button",classes:de,attributes:{title:_}},V,f)},vL=(n,a,f,g=[],w=[])=>{const _=fE(n,U.some(a),f,g,w);return ou.sketch(_)},bL=(n,a)=>f=>{a==="custom"?Ho(f,_m,{name:n,value:{}}):a==="submit"?ms(f,ZA):a==="cancel"?ms(f,Tb):console.error("Unknown button type: ",a)},aJ=(n,a)=>a==="menu",lJ=(n,a)=>a==="custom"||a==="cancel"||a==="submit",dE=(n,a,f)=>{if(aJ(n,a)){const g=()=>M,w=n,_={...n,type:"menubutton",search:U.none(),onSetup:V=>(V.setEnabled(n.enabled),P),fetch:iJ(w.items,g,f)},M=oi(P8(_,"tox-tbtn",f,U.none()));return M.asSpec()}else if(lJ(n,a)){const g=bL(n.name,a),w={...n,borderless:!1};return vL(w,g,f.shared.providers,[])}else throw console.error("Unknown footer button type: ",a),new Error("Unknown footer button type")},yL=(n,a)=>{const f=bL(n.name,"custom");return CY(U.none(),hs.parts.field({factory:ou,...fE(n,U.some(f),a,[hd.memory(""),dd.self()])}))},cJ={type:"separator"},uJ=n=>({type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:P}),mT=(n,a)=>({type:"menuitem",value:a,text:n,meta:{attach:void 0},onAction:P}),fJ=n=>me(n,uJ),dJ=(n,a)=>tt(a,f=>f.type===n),Br=(n,a)=>fJ(dJ(n,a)),hE=n=>Br("header",n.targets),wL=n=>Br("anchor",n.targets),CL=n=>U.from(n.anchorTop).map(a=>mT("<top>",a)).toArray(),SL=n=>U.from(n.anchorBottom).map(a=>mT("<bottom>",a)).toArray(),xL=n=>me(n,a=>mT(a,a)),EL=n=>it(n,(a,f)=>a.length===0||f.length===0?a.concat(f):a.concat(cJ,f),[]),kL=(n,a)=>{const f=n.toLowerCase();return tt(a,g=>{var w;const _=g.meta!==void 0&&g.meta.text!==void 0?g.meta.text:g.text,M=(w=g.value)!==null&&w!==void 0?w:"";return ls(_.toLowerCase(),f)||ls(M.toLowerCase(),f)})},pE=(n,a,f)=>{const g=qn.getValue(a),w=g.meta.text!==void 0?g.meta.text:g.value;return f.getLinkInformation().fold(()=>[],M=>{const V=kL(w,xL(f.getHistory(n)));return n==="file"?EL([V,kL(w,hE(M)),kL(w,Oe([CL(M),wL(M),SL(M)]))]):V})},AL=fo("aria-invalid"),TL=(n,a,f,g)=>{const w=a.shared.providers,_=Lt=>{const Zn=qn.getValue(Lt);f.addToHistory(Zn.value,n.filetype)},M={...g.map(Lt=>({initialData:Lt})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":AL,type:"url"},minChars:0,responseTime:0,fetch:Lt=>{const Zn=pE(n.filetype,Lt,f),Xt=Pb(Zn,Rh.BUBBLE_TO_SANDBOX,a,{isHorizontalMenu:!1,search:U.none()});return Ul.pure(Xt)},getHotspot:Lt=>rt.getOpt(Lt),onSetValue:(Lt,Zn)=>{Lt.hasConfigured(Qu)&&Qu.run(Lt).get(P)},typeaheadBehaviours:Mn([...f.getValidationHandler().map(Lt=>Qu.config({getRoot:Zn=>dl(Zn.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(Zn,Xt)=>{de.getOpt(Zn).each(Qn=>{Fn(Qn.element,"title",w.translate(Xt))})}},validator:{validate:Zn=>{const Xt=qn.getValue(Zn);return sJ.nu(Qn=>{Lt({type:n.filetype,url:Xt.value},ho=>{if(ho.status==="invalid"){const so=er.error(ho.message);Qn(so)}else{const so=er.value(ho.message);Qn(so)}})})},validateOnLoad:!1}})).toArray(),Bo.config({disabled:()=>!n.enabled||w.isDisabled()}),la.config({}),Mr("urlinput-events",[on(Fg(),Lt=>{const Zn=Yl(Lt.element),Xt=Zn.trim();Xt!==Zn&&Wg(Lt.element,Xt),n.filetype==="file"&&Ho(Lt,Ju,{name:n.name})}),on(v1(),Lt=>{Ho(Lt,Ju,{name:n.name}),_(Lt)}),on(qC(),Lt=>{Ho(Lt,Ju,{name:n.name}),_(Lt)})])]),eventOrder:{[Fg()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Lt=>Lt.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:a.shared.getSink,parts:{menu:Rx(!1,1,"normal")},onExecute:(Lt,Zn,Xt)=>{Ho(Zn,ZA,{})},onItemExecute:(Lt,Zn,Xt,Qn)=>{_(Lt),Ho(Lt,Ju,{name:n.name})}},V=hs.parts.field({...M,factory:oJ}),J=n.label.map(Lt=>jh(Lt,w)),de=oi(((Lt,Zn,Xt=Lt,Qn=Lt)=>Fh(Xt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Lt],attributes:{title:w.translate(Qn),"aria-live":"polite",...Zn.fold(()=>({}),ho=>({id:ho}))}},w.icons))("invalid",U.some(AL),"warning")),ye=oi({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[de.asSpec()]}),Ne=f.getUrlPicker(n.filetype),Pe=fo("browser.url.event"),rt=oi({dom:{tag:"div",classes:["tox-control-wrap"]},components:[V,ye.asSpec()],behaviours:Mn([Bo.config({disabled:()=>!n.enabled||w.isDisabled()})])}),bt=oi(vL({name:n.name,icon:U.some("browse"),text:n.label.getOr(""),enabled:n.enabled,primary:!1,buttonType:U.none(),borderless:!0},Lt=>ms(Lt,Pe),w,[],["tox-browse-url"])),Mt=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Oe([[rt.asSpec()],Ne.map(()=>bt.asSpec()).toArray()])}),kt=Lt=>{Ur.getCurrent(Lt).each(Zn=>{const Xt=qn.getValue(Zn),Qn={fieldname:n.name,...Xt};Ne.each(ho=>{ho(Qn).get(so=>{qn.setValue(Zn,so),Ho(Lt,Ju,{name:n.name})})})})};return hs.sketch({dom:qA(),components:J.toArray().concat([Mt()]),fieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||w.isDisabled(),onDisabled:Lt=>{hs.getField(Lt).each(Bo.disable),bt.getOpt(Lt).each(Bo.disable)},onEnabled:Lt=>{hs.getField(Lt).each(Bo.enable),bt.getOpt(Lt).each(Bo.enable)}}),Wa(),Mr("url-input-events",[on(Pe,kt)])])})},hJ=(n,a)=>Om.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${n.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[ou.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:OD(n.icon,a.icons),attributes:{title:a.translate(n.iconTooltip)}},action:f=>{Ho(f,_m,{name:"alert-banner",value:n.url})},buttonBehaviours:Mn([_x()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:a.translate(n.text)}}]}),pJ=(n,a)=>{n.dom.checked=a},gJ=n=>n.dom.checked,OL=(n,a,f)=>{const g=J=>(J.element.dom.click(),U.some(!0)),w=hs.parts.field({factory:{sketch:oe},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Mn([dd.self(),Bo.config({disabled:()=>!n.enabled||a.isDisabled()}),la.config({}),qo.config({}),hd.withElement(f,gJ,pJ),No.config({mode:"special",onEnter:g,onSpace:g,stopSpaceKeyup:!0}),Mr("checkbox-events",[on(v1(),(J,ne)=>{Ho(J,Ju,{name:n.name})})])])}),_=hs.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Xi(a.translate(n.label))],behaviours:Mn([iw.config({})])}),M=J=>Fh(J==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+J]},a.icons),V=oi({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[M("checked"),M("unchecked")]});return hs.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[w,V.asSpec(),_],fieldBehaviours:Mn([Bo.config({disabled:()=>!n.enabled||a.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:J=>{hs.getField(J).each(Bo.disable)},onEnabled:J=>{hs.getField(J).each(Bo.enable)}}),Wa()])})},R8=n=>n.presets==="presentation"?Om.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):Om.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:Mn([la.config({}),qo.config({})])}),qa=n=>(a,f,g,w)=>pn(f,"name").fold(()=>n(f,w,U.none()),_=>a.field(_,n(f,w,pn(g,_)))),mJ=n=>(a,f,g,w)=>{const _=Zs(f,{source:"dynamic"});return qa(n)(a,_,g,w)},vJ={bar:qa((n,a)=>JM(n,a.shared)),collection:qa((n,a,f)=>xY(n,a.shared.providers,f)),alertbanner:qa((n,a)=>hJ(n,a.shared.providers)),input:qa((n,a,f)=>aL(n,a.shared.providers,f)),textarea:qa((n,a,f)=>lL(n,a.shared.providers,f)),label:qa((n,a)=>b8(n,a.shared)),iframe:mJ((n,a,f)=>qI(n,a.shared.providers,f)),button:qa((n,a)=>yL(n,a.shared.providers)),checkbox:qa((n,a,f)=>OL(n,a.shared.providers,f)),colorinput:qa((n,a,f)=>TY(n,a.shared,a.colorinput,f)),colorpicker:qa((n,a,f)=>TX(n,a.shared.providers,f)),dropzone:qa((n,a,f)=>VI(n,a.shared.providers,f)),grid:qa((n,a)=>DX(n,a.shared)),listbox:qa((n,a,f)=>jX(n,a,f)),selectbox:qa((n,a,f)=>x8(n,a.shared.providers,f)),sizeinput:qa((n,a)=>sL(n,a.shared.providers)),slider:qa((n,a,f)=>iL(n,a.shared.providers,f)),urlinput:qa((n,a,f)=>TL(n,a,a.urlinput,f)),customeditor:qa(zI),htmlpanel:qa(R8),imagepreview:qa((n,a,f)=>Dm(n,f)),table:qa((n,a)=>GX(n,a.shared.providers)),panel:qa((n,a)=>zX(n,a))},bJ={field:(n,a)=>a,record:j([])},M8=(n,a,f,g)=>{const w=Zs(g,{shared:{interpreter:_=>I8(n,_,f,w)}});return I8(n,a,f,w)},I8=(n,a,f,g)=>pn(vJ,a.type).fold(()=>(console.error(`Unknown factory type "${a.type}", defaulting to container: `,a),a),w=>w(n,a,f,g)),yJ=(n,a,f)=>I8(bJ,n,a,f),bv="layout-inset",L8=n=>n.x,H8=(n,a)=>n.x+n.width/2-a.width/2,j8=(n,a)=>n.x+n.width-a.width,z8=n=>n.y,V8=(n,a)=>n.y+n.height-a.height,_L=(n,a)=>n.y+n.height/2-a.height/2,vT=(n,a,f)=>rl(j8(n,a),V8(n,a),f.insetSouthwest(),hS(),"southwest",bl(n,{right:0,bottom:3}),bv),bT=(n,a,f)=>rl(L8(n),V8(n,a),f.insetSoutheast(),dS(),"southeast",bl(n,{left:1,bottom:3}),bv),gE=(n,a,f)=>rl(j8(n,a),z8(n),f.insetNorthwest(),fS(),"northwest",bl(n,{right:0,top:2}),bv),mE=(n,a,f)=>rl(L8(n),z8(n),f.insetNortheast(),Gy(),"northeast",bl(n,{left:1,top:2}),bv),eg=(n,a,f)=>rl(H8(n,a),z8(n),f.insetNorth(),pS(),"north",bl(n,{top:2}),bv),vE=(n,a,f)=>rl(H8(n,a),V8(n,a),f.insetSouth(),gS(),"south",bl(n,{bottom:3}),bv),$L=(n,a,f)=>rl(j8(n,a),_L(n,a),f.insetEast(),O0(),"east",bl(n,{right:0}),bv),U8=(n,a,f)=>rl(L8(n),_L(n,a),f.insetWest(),F3(),"west",bl(n,{left:1}),bv),wJ=n=>{switch(n){case"north":return eg;case"northeast":return mE;case"northwest":return gE;case"south":return vE;case"southeast":return bT;case"southwest":return vT;case"east":return $L;case"west":return U8}},DL=(n,a,f,g,w)=>xS(g).map(wJ).getOr(eg)(n,a,f,g,w),CJ=n=>{switch(n){case"north":return vE;case"northeast":return bT;case"northwest":return vT;case"south":return eg;case"southeast":return mE;case"southwest":return gE;case"east":return U8;case"west":return $L}},SJ=(n,a,f,g,w)=>xS(g).map(CJ).getOr(eg)(n,a,f,g,w),BL={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},xJ=(n,a,f)=>{const w={maxHeightFunction:N0()},_=()=>({type:"node",root:Os(or(n())),node:U.from(n()),bubble:Fp(12,12,BL),layouts:{onRtl:()=>[mE],onLtr:()=>[gE]},overrides:w}),M=()=>({type:"hotspot",hotspot:a(),bubble:Fp(-12,12,BL),layouts:{onRtl:()=>[Il],onLtr:()=>[yl]},overrides:w});return()=>f()?_():M()},NL=(n,a,f)=>{const g=()=>({type:"node",root:Os(or(n())),node:U.from(n()),layouts:{onRtl:()=>[eg],onLtr:()=>[eg]}}),w=()=>({type:"hotspot",hotspot:a(),layouts:{onRtl:()=>[sl],onLtr:()=>[sl]}});return()=>f()?g():w()},EJ=(n,a)=>()=>({type:"selection",root:a(),getSelection:()=>{const f=n.selection.getRng();return U.some(j0.range(dn.fromDom(f.startContainer),f.startOffset,dn.fromDom(f.endContainer),f.endOffset))}}),PL=n=>a=>({type:"node",root:n(),node:a}),kJ=(n,a,f)=>{const g=Fx(n),w=()=>dn.fromDom(n.getBody()),_=()=>dn.fromDom(n.getContentAreaContainer()),M=()=>g||!f();return{inlineDialog:xJ(_,a,M),banner:NL(_,a,M),cursor:EJ(n,w),node:PL(w)}},FL=n=>(a,f)=>{NM(n)(a,f)},RL=n=>()=>AM(n),ML=n=>()=>w6(n),AJ=n=>()=>kM(n),IL=n=>({colorPicker:FL(n),hasCustomColors:RL(n),getColors:ML(n),getColorCols:AJ(n)}),LL=n=>()=>e9(n),TJ=n=>({isDraggableModal:LL(n)}),HL=n=>{const a=$e(ID(n)?"bottom":"top");return{isPositionedAtTop:()=>a.get()==="top",getDockingMode:a.get,setDockingMode:a.set}},jL=n=>yr(n,"items"),zL=n=>yr(n,"format"),qd=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],yT=n=>eo(n,"items"),wT=n=>eo(n,"block"),OJ=n=>eo(n,"inline"),W8=n=>eo(n,"selector"),VL=n=>it(n,(a,f)=>{if(yT(f)){const g=VL(f.items);return{customFormats:a.customFormats.concat(g.customFormats),formats:a.formats.concat([{title:f.title,items:g.formats}])}}else if(OJ(f)||wT(f)||W8(f)){const w=`custom-${v(f.name)?f.name:f.title.toLowerCase()}`;return{customFormats:a.customFormats.concat([{name:w,format:f}]),formats:a.formats.concat([{title:f.title,format:w,icon:f.icon}])}}else return{...a,formats:a.formats.concat(f)}},{customFormats:[],formats:[]}),q8=(n,a)=>{const f=VL(a),g=w=>{q(w,_=>{n.formatter.has(_.name)||n.formatter.register(_.name,_.format)})};return n.formatter?g(f.customFormats):n.on("init",()=>{g(f.customFormats)}),f.formats},Z8=n=>gA(n).map(a=>{const f=q8(n,a);return WR(n)?qd.concat(f):f}).getOr(qd),G8=n=>{const a=ft(n);return a.length===1&&fe(a,"title")},UL=(n,a,f)=>({...n,type:"formatter",isSelected:a(n.format),getStylePreview:f(n.format)}),K8=(n,a,f,g)=>{const w=J=>UL(J,f,g),_=J=>{const ne=V(J.items);return{...J,type:"submenu",getStyleItems:j(ne)}},M=J=>{const ne=v(J.name)?J.name:fo(J.title),de=`custom-${ne}`,ye={...J,type:"formatter",format:de,isSelected:f(de),getStylePreview:g(de)};return n.formatter.register(ne,ye),ye},V=J=>me(J,ne=>jL(ne)?_(ne):zL(ne)?w(ne):G8(ne)?{...ne,type:"separator"}:M(ne));return V(a)},WL=n=>{const a=V=>()=>n.formatter.match(V),f=V=>()=>{const J=n.formatter.get(V);return J!==void 0?U.some({tag:J.length>0&&(J[0].inline||J[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(V))}):U.none()},g=$e([]),w=$e([]),_=$e(!1);return n.on("PreInit",V=>{const J=Z8(n),ne=K8(n,J,a,f);g.set(ne)}),n.on("addStyleModifications",V=>{const J=K8(n,V.items,a,f);w.set(J),_.set(V.replace)}),{getData:()=>{const V=_.get()?[]:g.get(),J=w.get();return V.concat(J)}}},Y8=n=>N(n)&&n.nodeType===1,_J=vv.trim,qL=n=>a=>!!(Y8(a)&&(a.contentEditable===n||a.getAttribute("data-mce-contenteditable")===n)),ZL=qL("true"),$J=qL("false"),GL=(n,a,f,g,w)=>({type:n,title:a,url:f,level:g,attach:w}),KL=n=>{let a=n;for(;a=a.parentNode;){const f=a.contentEditable;if(f&&f!=="inherit")return ZL(a)}return!1},YL=(n,a)=>me(jl(dn.fromDom(a),n),f=>f.dom),XL=n=>n.innerText||n.textContent,DJ=n=>n.id?n.id:fo("h"),BJ=n=>n&&n.nodeName==="A"&&(n.id||n.name)!==void 0,NJ=n=>BJ(n)&&Zd(n),X8=n=>n&&/^(H[1-6])$/.test(n.nodeName),Zd=n=>KL(n)&&!$J(n),J8=n=>X8(n)&&Zd(n),PJ=n=>X8(n)?parseInt(n.nodeName.substr(1),10):0,FJ=n=>{var a;const f=DJ(n),g=()=>{n.id=f};return GL("header",(a=XL(n))!==null&&a!==void 0?a:"","#"+f,PJ(n),g)},RJ=n=>{const a=n.id||n.name,f=XL(n);return GL("anchor",f||"#"+a,"#"+a,0,P)},MJ=n=>me(tt(n,J8),FJ),IJ=n=>me(tt(n,NJ),RJ),JL=n=>YL("h1,h2,h3,h4,h5,h6,a:not([href])",n),QL=n=>_J(n.title).length>0,wpe={find:n=>{const a=JL(n);return tt(MJ(a).concat(IJ(a)),QL)}},ll="tinymce-url-history",CT=5,eH=n=>v(n)&&/^https?/.test(n),ST=n=>x(n)&&n.length<=CT&&ie(n,eH),tH=n=>b(n)&&wn(n,a=>!ST(a)).isNone(),nH=()=>{const n=jA.getItem(ll);if(n===null)return{};let a;try{a=JSON.parse(n)}catch(f){if(f instanceof SyntaxError)return console.log("Local storage "+ll+" was not valid JSON",f),{};throw f}return tH(a)?a:(console.log("Local storage "+ll+" was not valid format",a),{})},LJ=n=>{if(!tH(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));jA.setItem(ll,JSON.stringify(n))},HJ=n=>{const a=nH();return pn(a,n).getOr([])},jJ=(n,a)=>{if(!eH(n))return;const f=nH(),g=pn(f,a).getOr([]),w=tt(g,_=>_!==n);f[a]=[n].concat(w).slice(0,CT),LJ(f)},oH=n=>!!n,zJ=n=>kn(vv.makeMap(n,/[, ]/),oH),Q8=n=>U.from(KR(n)),rH=n=>{const a=U.from(bA(n)).filter(oH).map(zJ);return Q8(n).fold(he,f=>a.fold(ve,g=>ft(g).length>0?g:!1))},xT=(n,a)=>{const f=rH(n);return E(f)?f?Q8(n):U.none():f[a]?Q8(n):U.none()},VJ=(n,a)=>xT(n,a).map(f=>g=>Ul.nu(w=>{const _=(V,J)=>{if(!v(V))throw new Error("Expected value to be string");if(J!==void 0&&!b(J))throw new Error("Expected meta to be a object");w({value:V,meta:J})},M={filetype:a,fieldname:g.fieldname,...U.from(g.meta).getOr({})};f.call(n,_,g.value,M)})),e7=n=>U.from(n).filter(v).getOrUndefined(),UJ=n=>XR(n)?U.some({targets:wpe.find(n.getBody()),anchorTop:e7(JR(n)),anchorBottom:e7(QR(n))}):U.none(),sH=n=>U.from(YR(n)),WJ=n=>({getHistory:HJ,addToHistory:jJ,getLinkInformation:()=>UJ(n),getValidationHandler:()=>sH(n),getUrlPicker:a=>VJ(n,a)}),qJ=(n,a,f)=>{const g=$e(!1),w=HL(a),_={shared:{providers:{icons:()=>a.ui.registry.getAll().icons,menuItems:()=>a.ui.registry.getAll().menuItems,translate:Hd.translate,isDisabled:()=>a.mode.isReadOnly()||!a.ui.isEnabled(),getOption:a.options.get},interpreter:M=>yJ(M,{},_),anchors:kJ(a,f,w.isPositionedAtTop),header:w,getSink:n},urlinput:WJ(a),styles:WL(a),colorinput:IL(a),dialog:TJ(a),isContextMenuOpen:()=>g.get(),setContextMenuState:M=>g.set(M)};return _},iH=(n,a,f)=>{const g=(Xt,Qn)=>{q([a,f],ho=>{ho.broadcastEvent(Xt,Qn)})},w=(Xt,Qn)=>{q([a,f],ho=>{ho.broadcastOn([Xt],Qn)})},_=Xt=>w(Md(),{target:Xt.target}),M=ee(),V=Jl(M,"touchstart",_),J=Jl(M,"touchmove",Xt=>g(Dy(),Xt)),ne=Jl(M,"touchend",Xt=>g(By(),Xt)),de=Jl(M,"mousedown",_),ye=Jl(M,"mouseup",Xt=>{Xt.raw.button===0&&w(qp(),{target:Xt.target})}),Ne=Xt=>w(Md(),{target:dn.fromDom(Xt.target)}),Pe=Xt=>{Xt.button===0&&w(qp(),{target:dn.fromDom(Xt.target)})},rt=()=>{q(n.editorManager.get(),Xt=>{n!==Xt&&Xt.dispatch("DismissPopups",{relatedTarget:n})})},bt=Xt=>g(ZC(),ek(Xt)),Mt=Xt=>{w(Wp(),{}),g(f0(),ek(Xt))},kt=()=>w(Wp(),{}),Lt=Xt=>{Xt.state&&w(Md(),{target:dn.fromDom(n.getContainer())})},Zn=Xt=>{w(Md(),{target:dn.fromDom(Xt.relatedTarget.getContainer())})};n.on("PostRender",()=>{n.on("click",Ne),n.on("tap",Ne),n.on("mouseup",Pe),n.on("mousedown",rt),n.on("ScrollWindow",bt),n.on("ResizeWindow",Mt),n.on("ResizeEditor",kt),n.on("AfterProgressState",Lt),n.on("DismissPopups",Zn)}),n.on("remove",()=>{n.off("click",Ne),n.off("tap",Ne),n.off("mouseup",Pe),n.off("mousedown",rt),n.off("ScrollWindow",bt),n.off("ResizeWindow",Mt),n.off("ResizeEditor",kt),n.off("AfterProgressState",Lt),n.off("DismissPopups",Zn),de.unbind(),V.unbind(),J.unbind(),ne.unbind(),ye.unbind()}),n.on("detach",()=>{v2(a),v2(f),a.destroy(),f.destroy()})},ef=Of,Fb=Rk,ZJ=j([$t("shell",!1),ln("makeItem"),$t("setupItem",P),xu.field("listBehaviours",[kr])]),GJ=qu({name:"items",overrides:()=>({behaviours:Mn([kr.config({})])})}),aH=j([GJ]),t7=j("CustomList"),KJ=(n,a,f,g)=>{const w=(V,J)=>{M(V).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},ne=>{const de=kr.contents(ne),ye=J.length,Ne=ye-de.length,Pe=Ne>0?Be(Ne,()=>n.makeItem()):[],rt=de.slice(ye);q(rt,Mt=>kr.remove(ne,Mt)),q(Pe,Mt=>kr.append(ne,Mt));const bt=kr.contents(ne);q(bt,(Mt,kt)=>{n.setupItem(V,Mt,J[kt],kt)})})},_=n.shell?{behaviours:[kr.config({})],components:[]}:{behaviours:[],components:a},M=V=>n.shell?U.some(V):Gs(V,n,"items");return{uid:n.uid,dom:n.dom,components:_.components,behaviours:il(n.listBehaviours,_.behaviours),apis:{setItems:w}}},lH=mc({name:t7(),configFields:ZJ(),partFields:aH(),factory:KJ,apis:{setItems:(n,a,f)=>{n.setItems(a,f)}}}),Rb=j([ln("dom"),$t("shell",!0),wa("toolbarBehaviours",[kr])]),YJ=j([qu({name:"groups",overrides:()=>({behaviours:Mn([kr.config({})])})})]),XJ=(n,a,f,g)=>{const w=(V,J)=>{_(V).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},ne=>{kr.set(ne,J)})},_=V=>n.shell?U.some(V):Gs(V,n,"groups"),M=n.shell?{behaviours:[kr.config({})],components:[]}:{behaviours:[],components:a};return{uid:n.uid,dom:n.dom,components:M.components,behaviours:il(n.toolbarBehaviours,M.behaviours),apis:{setGroups:w},domModification:{attributes:{role:"group"}}}},Uh=mc({name:"Toolbar",configFields:Rb(),partFields:YJ(),factory:XJ,apis:{setGroups:(n,a,f)=>{n.setGroups(a,f)}}}),n7=P,cH=he,uH=j([]);var JJ=Object.freeze({__proto__:null,setup:n7,isDocked:cH,getBehaviours:uH});const fH=n=>(Ts(ps(n,"position"),"fixed")?U.none():ha(n)).orThunk(()=>{const g=dn.fromTag("span");return mi(n).bind(w=>{gl(w,g);const _=ha(g);return pf(g),_})}),dH=n=>fH(n).map(Xr).getOrThunk(()=>Er(0,0)),ET=It.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),QJ=(n,a)=>{const f=n.element;nl(f,a.transitionClass),fi(f,a.fadeOutClass),nl(f,a.fadeInClass),a.onShow(n)},kT=(n,a)=>{const f=n.element;nl(f,a.transitionClass),fi(f,a.fadeInClass),nl(f,a.fadeOutClass),a.onHide(n)},eQ=(n,a)=>n.y<a.bottom&&n.bottom>a.y,AT=(n,a)=>n.y>=a.y,tQ=(n,a)=>n.bottom<=a.bottom,TT=(n,a,f)=>ie(n,g=>{switch(g){case"bottom":return tQ(a,f);case"top":return AT(a,f)}}),pw=(n,a)=>a.getInitialPos().map(f=>bo(f.bounds.x,f.bounds.y,qs(n),Vt(n))),hH=(n,a,f)=>{f.setInitialPos({style:ei(n),position:nn(n,"position")||"static",bounds:a})},pH=(n,a,f)=>f.getInitialPos().bind(g=>{switch(f.clearInitialPos(),g.position){case"static":return U.some(ET.static());case"absolute":const w=fH(n).map($r).getOrThunk(()=>$r(Ke()));return U.some(ET.absolute(nd("absolute",pn(g.style,"left").map(_=>a.x-w.x),pn(g.style,"top").map(_=>a.y-w.y),pn(g.style,"right").map(_=>w.right-a.right),pn(g.style,"bottom").map(_=>w.bottom-a.bottom))));default:return U.none()}}),gH=(n,a,f)=>pw(n,f).filter(g=>TT(f.getModes(),g,a)).bind(g=>pH(n,g,f)),mH=(n,a,f)=>{const g=$r(n);if(TT(f.getModes(),g,a))return U.none();{hH(n,g,f);const w=Ha(),_=g.x-w.x,M=a.y-w.y,V=w.bottom-a.bottom,J=g.y<=a.y;return U.some(ET.fixed(nd("fixed",U.some(_),J?U.some(M):U.none(),U.none(),J?U.none():U.some(V))))}},vH=(n,a,f)=>{const g=n.element;return Ts(ps(g,"position"),"fixed")?gH(g,a,f):mH(g,a,f)},nQ=(n,a)=>{const f=n.element;return pw(f,a).bind(g=>pH(f,g,a))},OT=(n,a,f)=>{f.setDocked(!1),q(["left","right","top","bottom","position"],g=>rr(n.element,g)),a.onUndocked(n)},gw=(n,a,f,g)=>{const w=g.position==="fixed";f.setDocked(w),$0(n.element,g),(w?a.onDocked:a.onUndocked)(n)},bH=(n,a,f,g,w=!1)=>{a.contextual.each(_=>{_.lazyContext(n).each(M=>{const V=eQ(M,g);V!==f.isVisible()&&(f.setVisible(V),w&&!V?(yu(n.element,[_.fadeOutClass]),_.onHide(n)):(V?QJ:kT)(n,_))})})},oQ=(n,a,f)=>{const g=a.lazyViewport(n);f.isDocked()&&bH(n,a,f,g),vH(n,g,f).each(_=>{_.fold(()=>OT(n,a,f),M=>gw(n,a,f,M),M=>{bH(n,a,f,g,!0),gw(n,a,f,M)})})},mw=(n,a,f)=>{const g=n.element;f.setDocked(!1),nQ(n,f).each(w=>{w.fold(()=>OT(n,a,f),_=>gw(n,a,f,_),P)}),f.setVisible(!0),a.contextual.each(w=>{wu(g,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(n)}),_T(n,a,f)},_T=(n,a,f)=>{n.getSystem().isConnected()&&oQ(n,a,f)},yH=(n,a,f)=>{f.isDocked()&&mw(n,a,f)};var sQ=Object.freeze({__proto__:null,refresh:_T,reset:yH,isDocked:(n,a,f)=>f.isDocked(),getModes:(n,a,f)=>f.getModes(),setModes:(n,a,f,g)=>f.setModes(g)}),iQ=Object.freeze({__proto__:null,events:(n,a)=>Dr([Jc(l0(),(f,g)=>{n.contextual.each(w=>{vl(f.element,w.transitionClass)&&(wu(f.element,[w.transitionClass,w.fadeInClass]),(a.isVisible()?w.onShown:w.onHidden)(f)),g.stop()})}),on(ZC(),(f,g)=>{_T(f,n,a)}),on(f0(),(f,g)=>{yH(f,n,a)})])}),o7=[lc("contextual",[Zi("fadeInClass"),Zi("fadeOutClass"),Zi("transitionClass"),yf("lazyContext"),qr("onShow"),qr("onShown"),qr("onHide"),qr("onHidden")]),ma("lazyViewport",Ha),X("modes",["top","bottom"],Di),qr("onDocked"),qr("onUndocked")],aQ=Object.freeze({__proto__:null,init:n=>{const a=$e(!1),f=$e(!0),g=ki(),w=$e(n.modes),_=()=>`docked:  ${a.get()}, visible: ${f.get()}, modes: ${w.get().join(",")}`;return bu({isDocked:a.get,setDocked:a.set,getInitialPos:g.get,setInitialPos:g.set,clearInitialPos:g.clear,isVisible:f.get,setVisible:f.set,getModes:w.get,setModes:w.set,readState:_})}});const Nc=Va({fields:o7,name:"docking",active:iQ,apis:sQ,state:aQ}),r7=j(fo("toolbar-height-change")),tg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},SH="tox-tinymce--toolbar-sticky-on",xH="tox-tinymce--toolbar-sticky-off",EH=(n,a)=>{const f=Ws(a),w=Aa(a).dom.innerHeight,_=Zc(f),M=dn.fromDom(n.elm),V=ni(M),J=Vt(M),ne=V.y,de=ne+J,ye=Xr(a),Ne=Vt(a),Pe=ye.top,rt=Pe+Ne,bt=Math.abs(Pe-_.top)<2,Mt=Math.abs(rt-(_.top+w))<2;if(bt&&ne<rt)o1(_.left,ne-Ne,f);else if(Mt&&de>Pe){const kt=ne-w+J+Ne;o1(_.left,kt,f)}},s7=(n,a)=>fe(Nc.getModes(n),a),Mb=n=>{const a=g=>ro(g)+(parseInt(nn(g,"margin-top"),10)||0)+(parseInt(nn(g,"margin-bottom"),10)||0),f=n.element;dl(f).each(g=>{const w="padding-"+Nc.getModes(n)[0];if(Nc.isDocked(n)){const _=qs(g);Wn(f,"width",_+"px"),Wn(g,w,a(f)+"px")}else rr(f,"width"),rr(g,w)})},kH=(n,a)=>{a?(fi(n,tg.fadeOutClass),yu(n,[tg.transitionClass,tg.fadeInClass])):(fi(n,tg.fadeInClass),yu(n,[tg.fadeOutClass,tg.transitionClass]))},AH=(n,a)=>{const f=dn.fromDom(n.getContainer());a?(nl(f,SH),fi(f,xH)):(nl(f,xH),fi(f,SH))},i7=(n,a)=>{const f=Ws(a);dc(f).filter(g=>!Cr(a,g)).filter(g=>Cr(g,dn.fromDom(f.dom.body))||Ri(n,g)).each(()=>_h(a))},TH=(n,a)=>td(n).orThunk(()=>a().toOptional().bind(f=>td(f.element))),lQ=(n,a,f)=>{n.inline||(a.header.isPositionedAtTop()||n.on("ResizeEditor",()=>{f().each(Nc.reset)}),n.on("ResizeWindow ResizeEditor",()=>{f().each(Mb)}),n.on("SkinLoaded",()=>{f().each(g=>{Nc.isDocked(g)?Nc.reset(g):Nc.refresh(g)})}),n.on("FullscreenStateChanged",()=>{f().each(Nc.reset)})),n.on("AfterScrollIntoView",g=>{f().each(w=>{Nc.refresh(w);const _=w.element;Eu(_)&&EH(g,_)})}),n.on("PostRender",()=>{AH(n,!1)})},cQ=n=>n().map(Nc.isDocked).getOr(!1),uQ=()=>[Ef.config({channels:{[r7()]:{onReceive:Mb}}})],OH=(n,a)=>{const f=ki(),g=a.getSink,w=V=>{g().each(J=>V(J.element))},_=V=>{n.inline||Mb(V),AH(n,Nc.isDocked(V)),V.getSystem().broadcastOn([Wp()],{}),g().each(J=>J.getSystem().broadcastOn([Wp()],{}))},M=n.inline?[]:uQ();return[qo.config({}),Nc.config({contextual:{lazyContext:V=>{const J=ro(V.element),ne=n.inline?n.getContentAreaContainer():n.getContainer(),de=$r(dn.fromDom(ne)),ye=de.height-J,Ne=de.y+(s7(V,"top")?0:J);return U.some(bo(de.x,Ne,de.width,ye))},onShow:()=>{w(V=>kH(V,!0))},onShown:V=>{w(J=>wu(J,[tg.transitionClass,tg.fadeInClass])),f.get().each(J=>{i7(V.element,J),f.clear()})},onHide:V=>{TH(V.element,g).fold(f.clear,f.set),w(J=>kH(J,!1))},onHidden:()=>{w(V=>wu(V,[tg.transitionClass]))},...tg},lazyViewport:V=>{const J=Ha(),ne=GR(n),de=J.y+(s7(V,"top")?ne:0),ye=J.height-(s7(V,"bottom")?ne:0);return bo(J.x,de,J.width,ye)},modes:[a.header.getDockingMode()],onDocked:_,onUndocked:_}),...M]};var fQ=Object.freeze({__proto__:null,setup:lQ,isDocked:cQ,getBehaviours:OH});const dQ=n=>{const a=n.editor,f=n.sticky?OH:uH;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:Mn(f(a,n.sharedBackstage))}},hQ=Oo([ta,_a("items",_g([$g([Ix,Fl("items",Di)]),Di]))].concat(zx)),pQ=n=>jr("GroupToolbarButton",hQ,n),gQ=[Rl("text"),Rl("tooltip"),Rl("icon"),cc("search",!1,_g([Lu,Oo([Rl("placeholder")])],n=>E(n)?n?U.some({placeholder:U.none()}):U.none():U.some(n))),yf("fetch"),ma("onSetup",()=>P)],_H=Oo([ta,...gQ]),$T=n=>jr("menubutton",_H,n),a7=Oo([ta,Lx,Mh,Am,e6,DG,Cb,Gf("presets","normal",["normal","color","listpreview"]),t6(1),wb,Y2]),mQ=n=>jr("SplitButton",a7,n);var l7=Zu({factory:(n,a)=>{const f=(w,_)=>{const M=me(_,V=>{const J={type:"menubutton",text:V.text,fetch:de=>{de(V.getItems())}},ne=$T(J).mapError(de=>Td(de)).getOrDie();return P8(ne,"tox-mbtn",a.backstage,U.some("menuitem"))});kr.set(w,M)},g={focus:No.focusIn,setMenus:f};return{uid:n.uid,dom:n.dom,components:[],behaviours:Mn([kr.config({}),Mr("menubar-events",[Yi(w=>{n.onSetup(w)}),on(_d(),(w,_)=>{$a(w.element,".tox-mbtn--active").each(M=>{ol(_.event.target,".tox-mbtn").each(V=>{Cr(M,V)||w.getSystem().getByDom(M).each(J=>{w.getSystem().getByDom(V).each(ne=>{ud.expand(ne),ud.close(J),qo.focus(ne)})})})})}),on(h0(),(w,_)=>{_.event.prevFocus.bind(M=>w.getSystem().getByDom(M).toOptional()).each(M=>{_.event.newFocus.bind(V=>w.getSystem().getByDom(V).toOptional()).each(V=>{ud.isOpen(M)&&(ud.expand(V),ud.close(M))})})})]),No.config({mode:"flow",selector:".tox-mbtn",onEscape:w=>(n.onEscape(w),U.some(!0))}),la.config({})]),apis:g,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ln("dom"),ln("uid"),ln("onEscape"),ln("backstage"),$t("onSetup",P)],apis:{focus:(n,a)=>{n.focus(a)},setMenus:(n,a,f)=>{n.setMenus(a,f)}}});const vQ="\u26A1\uFE0FUpgrade",bE="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",DT=n=>({uid:n.uid,dom:n.dom,components:[{dom:{tag:"a",attributes:{href:bE,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:vQ}}]}),Ib=(n,a)=>a.getAnimationRoot.fold(()=>n.element,f=>f(n)),Bm=n=>n.dimension.property,Lb=(n,a)=>n.dimension.getDimension(a),BT=(n,a)=>{const f=Ib(n,a);wu(f,[a.shrinkingClass,a.growingClass])},c7=(n,a)=>{fi(n.element,a.openClass),nl(n.element,a.closedClass),Wn(n.element,Bm(a),"0px"),Ye(n.element)},NT=(n,a)=>{fi(n.element,a.closedClass),nl(n.element,a.openClass),rr(n.element,Bm(a))},u7=(n,a,f,g)=>{f.setCollapsed(),Wn(n.element,Bm(a),Lb(a,n.element)),BT(n,a),c7(n,a),a.onStartShrink(n),a.onShrunk(n)},bQ=(n,a,f,g)=>{const w=g.getOrThunk(()=>Lb(a,n.element));f.setCollapsed(),Wn(n.element,Bm(a),w),Ye(n.element);const _=Ib(n,a);fi(_,a.growingClass),nl(_,a.shrinkingClass),c7(n,a),a.onStartShrink(n)},$H=(n,a,f)=>{const g=Lb(a,n.element);(g==="0px"?u7:bQ)(n,a,f,U.some(g))},yE=(n,a,f)=>{const g=Ib(n,a),w=vl(g,a.shrinkingClass),_=Lb(a,n.element);NT(n,a);const M=Lb(a,n.element);(w?()=>{Wn(n.element,Bm(a),_),Ye(n.element)}:()=>{c7(n,a)})(),fi(g,a.shrinkingClass),nl(g,a.growingClass),NT(n,a),Wn(n.element,Bm(a),M),f.setExpanded(),a.onStartGrow(n)},PT=(n,a,f)=>{if(f.isExpanded()){rr(n.element,Bm(a));const g=Lb(a,n.element);Wn(n.element,Bm(a),g)}},yQ=(n,a,f)=>{f.isExpanded()||yE(n,a,f)},wQ=(n,a,f)=>{f.isExpanded()&&$H(n,a,f)},CQ=(n,a,f)=>{f.isExpanded()&&u7(n,a,f)},SQ=(n,a,f)=>f.isExpanded(),f7=(n,a,f)=>f.isCollapsed(),FT=(n,a,f)=>{const g=Ib(n,a);return vl(g,a.growingClass)===!0},d7=(n,a,f)=>{const g=Ib(n,a);return vl(g,a.shrinkingClass)===!0};var xQ=Object.freeze({__proto__:null,refresh:PT,grow:yQ,shrink:wQ,immediateShrink:CQ,hasGrown:SQ,hasShrunk:f7,isGrowing:FT,isShrinking:d7,isTransitioning:(n,a,f)=>FT(n,a)||d7(n,a),toggleGrow:(n,a,f)=>{(f.isExpanded()?$H:yE)(n,a,f)},disableTransitions:BT,immediateGrow:(n,a,f)=>{f.isExpanded()||(NT(n,a),Wn(n.element,Bm(a),Lb(a,n.element)),BT(n,a),f.setExpanded(),a.onStartGrow(n),a.onGrown(n))}}),EQ=Object.freeze({__proto__:null,exhibit:(n,a,f)=>{const g=a.expanded;return Bi(g?{classes:[a.openClass],styles:{}}:{classes:[a.closedClass],styles:ds(a.dimension.property,"0px")})},events:(n,a)=>Dr([Jc(l0(),(f,g)=>{g.event.raw.propertyName===n.dimension.property&&(BT(f,n),a.isExpanded()&&rr(f.element,n.dimension.property),(a.isExpanded()?n.onGrown:n.onShrunk)(f))})])}),kQ=[ln("closedClass"),ln("openClass"),ln("shrinkingClass"),ln("growingClass"),Kr("getAnimationRoot"),qr("onShrunk"),qr("onStartShrink"),qr("onGrown"),qr("onStartGrow"),$t("expanded",!1),_a("dimension",Kc("property",{width:[ti("property","width"),ti("getDimension",n=>qs(n)+"px")],height:[ti("property","height"),ti("getDimension",n=>Vt(n)+"px")]}))],$pe=Object.freeze({__proto__:null,init:n=>{const a=$e(n.expanded),f=()=>"expanded: "+a.get();return bu({isExpanded:()=>a.get()===!0,isCollapsed:()=>a.get()===!1,setCollapsed:se(a.set,!1),setExpanded:se(a.set,!0),readState:f})}});const Wh=Va({fields:kQ,name:"sliding",active:EQ,apis:xQ,state:$pe}),h7="container",AQ=[wa("slotBehaviours",[])],p7=n=>"<alloy.field."+n+">",TQ=n=>{const a=(()=>{const _=[];return{slot:(V,J)=>(_.push(V),dm(h7,p7(V),J)),record:j(_)}})(),f=n(a),g=a.record(),w=me(g,_=>Vl({name:_,pname:p7(_)}));return sd(h7,AQ,w,OQ,f)},OQ=(n,a)=>{const f=bt=>hm(n),g=(bt,Mt)=>Gs(bt,n,Mt),w=(bt,Mt)=>(kt,Lt)=>Gs(kt,n,Lt).map(Zn=>bt(Zn,Lt)).getOr(Mt),_=bt=>(Mt,kt)=>{q(kt,Lt=>bt(Mt,Lt))},M=(bt,Mt)=>Ro(bt.element,"aria-hidden")!=="true",V=(bt,Mt)=>{if(!M(bt)){const kt=bt.element;rr(kt,"display"),et(kt,"aria-hidden"),Ho(bt,p0(),{name:Mt,visible:!0})}},J=(bt,Mt)=>{if(M(bt)){const kt=bt.element;Wn(kt,"display","none"),Fn(kt,"aria-hidden","true"),Ho(bt,p0(),{name:Mt,visible:!1})}},ne=w(M,!1),de=w(J),ye=_(de),Ne=bt=>ye(bt,f()),Pe=w(V),rt={getSlotNames:f,getSlot:g,isShowing:ne,hideSlot:de,hideAllSlots:Ne,showSlot:Pe};return{uid:n.uid,dom:n.dom,components:a,behaviours:X1(n.slotBehaviours),apis:rt}},qh={...kn({getSlotNames:(n,a)=>n.getSlotNames(a),getSlot:(n,a,f)=>n.getSlot(a,f),isShowing:(n,a,f)=>n.isShowing(a,f),hideSlot:(n,a,f)=>n.hideSlot(a,f),hideAllSlots:(n,a)=>n.hideAllSlots(a),showSlot:(n,a,f)=>n.showSlot(a,f)},n=>Ly(n)),sketch:TQ},_Q=Oo([Mh,Lx,ma("onShow",P),ma("onHide",P),Cb]),BH=n=>jr("sidebar",_Q,n),$Q=n=>{const{sidebars:a}=n.ui.registry.getAll();q(ft(a),f=>{const g=a[f],w=()=>Ts(U.from(n.queryCommandValue("ToggleSidebar")),f);n.ui.registry.addToggleButton(f,{icon:g.icon,tooltip:g.tooltip,onAction:_=>{n.execCommand("ToggleSidebar",!1,f),_.setActive(w())},onSetup:_=>{_.setActive(w());const M=()=>_.setActive(w());return n.on("ToggleSidebar",M),()=>{n.off("ToggleSidebar",M)}}})})},DQ=n=>({element:()=>n.element.dom}),BQ=(n,a)=>{const f=me(ft(a),g=>{const w=a[g],_=bf(BH(w));return{name:g,getApi:DQ,onSetup:_.onSetup,onShow:_.onShow,onHide:_.onHide}});return me(f,g=>{const w=$e(P);return n.slot(g.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cv.unnamedEvents([Gx(g,w),Kx(g,w),on(p0(),(_,M)=>{const V=M.event;Re(f,ne=>ne.name===V.name).each(ne=>{(V.visible?ne.onShow:ne.onHide)(ne.getApi(_))})})])})})},Bpe=n=>qh.sketch(a=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:BQ(a,n),slotBehaviours:cv.unnamedEvents([Yi(f=>qh.hideAllSlots(f))])})),Npe=(n,a,f)=>{Ur.getCurrent(n).each(w=>{kr.set(w,[Bpe(a)]);const _=f==null?void 0:f.toLowerCase();v(_)&&eo(a,_)&&Ur.getCurrent(w).each(M=>{qh.showSlot(M,_),Wh.immediateGrow(w),rr(w.element,"width")})})},NH=(n,a)=>{Ur.getCurrent(n).each(g=>{Ur.getCurrent(g).each(_=>{Wh.hasGrown(g)?qh.isShowing(_,a)?Wh.shrink(g):(qh.hideAllSlots(_),qh.showSlot(_,a)):(qh.hideAllSlots(_),qh.showSlot(_,a),Wh.grow(g))})})},PH=n=>Ur.getCurrent(n).bind(f=>Wh.isGrowing(f)||Wh.hasGrown(f)?Ur.getCurrent(f).bind(_=>Re(qh.getSlotNames(_),M=>qh.isShowing(_,M))):U.none()),g7=fo("FixSizeEvent"),m7=fo("AutoSizeEvent"),pd=n=>({uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Mn([la.config({}),qo.config({}),Wh.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:a=>{Ur.getCurrent(a).each(qh.hideAllSlots),ms(a,m7)},onGrown:a=>{ms(a,m7)},onStartGrow:a=>{Ho(a,g7,{width:ps(a.element,"width").getOr("")})},onStartShrink:a=>{Ho(a,g7,{width:qs(a.element)+"px"})}}),kr.config({}),Ur.config({find:a=>{const f=kr.contents(a);return Kn(f)}})])}],behaviours:Mn([dd.childAt(0),Mr("sidebar-sliding-events",[on(g7,(a,f)=>{Wn(a.element,"width",f.event.width)}),on(m7,(a,f)=>{rr(a.element,"width")})])])});var FH=Object.freeze({__proto__:null,block:(n,a,f,g)=>{Fn(n.element,"aria-busy",!0);const w=a.getRoot(n).getOr(n),_=Mn([No.config({mode:"special",onTab:()=>U.some(!0),onShiftTab:()=>U.some(!0)}),qo.config({})]),M=g(w,_),V=w.getSystem().build(M);kr.append(w,Vu(V)),V.hasConfigured(No)&&a.focus&&No.focusIn(V),f.isBlocked()||a.onBlock(n),f.blockWith(()=>kr.remove(w,V))},unblock:(n,a,f)=>{et(n.element,"aria-busy"),f.isBlocked()&&a.onUnblock(n),f.clear()}}),PQ=[ma("getRoot",U.none),$c("focus",!0),qr("onBlock"),qr("onUnblock")],FQ=Object.freeze({__proto__:null,init:()=>{const n=X_(),a=f=>{n.set({destroy:f})};return bu({readState:n.isSet,blockWith:a,clear:n.clear,isBlocked:n.isSet})}});const Gd=Va({fields:PQ,name:"blocking",apis:FH,state:FQ}),RQ=n=>{const a=n.dom.attributes!==void 0?n.dom.attributes:[];return it(a,(f,g)=>g.name==="class"?f:{...f,[g.name]:g.value},{})},IT=n=>Array.prototype.slice.call(n.dom.classList,0),yv=n=>{const a=dn.fromHtml(n),f=Sr(a),g=RQ(a),w=IT(a),_=f.length===0?{}:{innerHtml:Ch(a)};return{tag:Qo(a),classes:w,attributes:g,..._}},Kd=n=>(a,f)=>({dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:yv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),RH=n=>Ur.getCurrent(n).each(a=>_h(a.element)),LT=(n,a)=>{const f="tabindex",g=`data-mce-${f}`;U.from(n.iframeElement).map(dn.fromDom).each(w=>{a?(pe(w,f).each(_=>Fn(w,g,_)),Fn(w,f,-1)):(et(w,f),pe(w,g).each(_=>{Fn(w,f,_),et(w,g)}))})},MH=(n,a,f,g)=>{const w=a.element;if(LT(n,f),f)Gd.block(a,Kd(g)),rr(w,"display"),et(w,"aria-hidden"),n.hasFocus()&&RH(a);else{const _=Ur.getCurrent(a).exists(M=>SS(M.element));Gd.unblock(a),Wn(w,"display","none"),Fn(w,"aria-hidden","true"),_&&n.focus()}},MQ=n=>({uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Mn([kr.config({}),Gd.config({focus:!1}),Ur.config({find:a=>Kn(a.components())})]),components:[]}),IQ=n=>n.type==="focusin",LQ=n=>IQ(n)?(n.composed?Kn(n.composedPath()):U.from(n.target)).map(dn.fromDom).filter(Or).exists(f=>vl(f,"mce-pastebin")):!1,HQ=(n,a,f)=>{const g=$e(!1),w=ki(),_=V=>{g.get()&&!LQ(V)&&(V.preventDefault(),RH(a()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",()=>{n.dom.bind(n.getWin(),"focusin",_),n.on("BeforeExecCommand",V=>{V.command.toLowerCase()==="mcefocus"&&V.value!==!0&&_(V)})});const M=V=>{V!==g.get()&&(g.set(V),MH(n,a(),V,f.providers),bM(n,V))};n.on("ProgressState",V=>{if(w.on(clearTimeout),D(V.time)){const J=z2.setEditorTimeout(n,()=>M(V.state),V.time);w.set(J)}else M(V.state),w.clear()})},jQ=(n,a)=>it(n,(w,_)=>a(_,w.len).fold(j(w),V=>({len:V.finish,list:w.list.concat([V])})),{len:0,list:[]}).list,v7=(n,a,f)=>({within:n,extra:a,withinWidth:f}),IH=(n,a,f)=>{const g=jQ(n,(V,J)=>{const ne=f(V);return U.some({element:V,start:J,finish:J+ne,width:ne})}),w=tt(g,V=>V.finish<=a),_=Qe(w,(V,J)=>V+J.width,0),M=g.slice(w.length);return{within:w,extra:M,withinWidth:_}},wE=n=>me(n,a=>a.element),LH=(n,a,f)=>{const g=wE(n.concat(a));return v7(g,[],f)},HH=(n,a,f,g)=>{const w=wE(n).concat([f]);return v7(w,wE(a),g)},zQ=(n,a,f)=>v7(wE(n),[],f),jH=(n,a,f)=>{const g=IH(a,n,f);return g.extra.length===0?U.some(g):U.none()},VQ=(n,a,f,g)=>{const w=jH(n,a,f).getOrThunk(()=>IH(a,n-f(g),f)),_=w.within,M=w.extra,V=w.withinWidth;return M.length===1&&M[0].width<=f(g)?LH(_,M,V):M.length>=1?HH(_,M,g,V):zQ(_,M,V)},zH=(n,a)=>{const f=me(a,g=>Vu(g));Uh.setGroups(n,f)},UQ=n=>oo(n,a=>td(a.element).bind(f=>a.getSystem().getByDom(f).toOptional())),VH=(n,a,f)=>{const g=a.builtGroups.get();if(g.length===0)return;const w=rd(n,a,"primary"),_=Hi.getCoupled(n,"overflowGroup");Wn(w.element,"visibility","hidden");const M=g.concat([_]),V=UQ(M);f([]),zH(w,M);const J=qs(w.element),ne=VQ(J,a.builtGroups.get(),de=>qs(de.element),_);ne.extra.length===0?(kr.remove(w,_),f([])):(zH(w,ne.within),f(ne.extra)),rr(w.element,"visibility"),Ye(w.element),V.each(qo.focus)},UH=j([wa("splitToolbarBehaviours",[Hi]),ml("builtGroups",()=>$e([]))]),WQ=j([Zg(["overflowToggledClass"]),Gi("getOverflowBounds"),ln("lazySink"),ml("overflowGroups",()=>$e([]))].concat(UH())),qQ=j([Vl({factory:Uh,schema:Rb(),name:"primary"}),Tf({schema:Rb(),name:"overflow"}),Tf({name:"overflow-button"}),Tf({name:"overflow-group"})]),b7=j((n,a)=>{Jr(n,Math.floor(a))}),ZQ=j([Zg(["toggledClass"]),ln("lazySink"),yf("fetch"),Gi("getBounds"),lc("fireDismissalEventInstead",[$t("event",Dp())]),Mp()]),GQ=j([Tf({name:"button",overrides:n=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Mn([Qr.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Tf({factory:Uh,schema:Rb(),name:"toolbar",overrides:n=>({toolbarBehaviours:Mn([No.config({mode:"cyclic",onEscape:a=>(Gs(a,n,"button").each(qo.focus),U.none())})])})})]),WH=(n,a)=>{const f=Hi.getCoupled(n,"toolbarSandbox");Rr.isOpen(f)?Rr.close(f):Rr.open(f,a.toolbar())},y7=(n,a,f,g)=>{const w=f.getBounds.map(M=>M()),_=f.lazySink(n).getOrDie();pc.positionWithinBounds(_,a,{anchor:{type:"hotspot",hotspot:n,layouts:g,overrides:{maxWidthFunction:b7()}}},w)},qH=(n,a,f,g,w)=>{Uh.setGroups(a,w),y7(n,a,f,g),Qr.on(n)},ZH=(n,a,f)=>{const g=aS(),w=(M,V)=>{f.fetch().get(J=>{qH(n,V,f,a.layouts,J),g.link(n.element),No.focusIn(V)})},_=()=>{Qr.off(n),qo.focus(n),g.unlink(n.element)};return{dom:{tag:"div",attributes:{id:g.id}},behaviours:Mn([No.config({mode:"special",onEscape:M=>(Rr.close(M),U.some(!0))}),Rr.config({onOpen:w,onClose:_,isPartOf:(M,V,J)=>Bp(V,J)||Bp(n,J),getAttachPoint:()=>f.lazySink(n).getOrDie()}),Ef.config({channels:{...G1({isExtraPart:he,...f.fireDismissalEventInstead.map(M=>({fireEventInstead:{event:M.event}})).getOr({})}),...Af({doReposition:()=>{Rr.getState(Hi.getCoupled(n,"toolbarSandbox")).each(M=>{y7(n,M,f,a.layouts)})}})}})])}},Nm=mc({name:"FloatingToolbarButton",factory:(n,a,f,g)=>({...ou.sketch({...g.button(),action:w=>{WH(w,g)},buttonBehaviours:xu.augment({dump:g.button().buttonBehaviours},[Hi.config({others:{toolbarSandbox:w=>ZH(w,f,n)}})])}),apis:{setGroups:(w,_)=>{Rr.getState(Hi.getCoupled(w,"toolbarSandbox")).each(M=>{qH(w,M,n,f.layouts,_)})},reposition:w=>{Rr.getState(Hi.getCoupled(w,"toolbarSandbox")).each(_=>{y7(w,_,n,f.layouts)})},toggle:w=>{WH(w,g)},getToolbar:w=>Rr.getState(Hi.getCoupled(w,"toolbarSandbox")),isOpen:w=>Rr.isOpen(Hi.getCoupled(w,"toolbarSandbox"))}}),configFields:ZQ(),partFields:GQ(),apis:{setGroups:(n,a,f)=>{n.setGroups(a,f)},reposition:(n,a)=>{n.reposition(a)},toggle:(n,a)=>{n.toggle(a)},getToolbar:(n,a)=>n.getToolbar(a),isOpen:(n,a)=>n.isOpen(a)}}),KQ=j([ln("items"),Zg(["itemSelector"]),wa("tgroupBehaviours",[No])]),YQ=j([Q1({name:"items",unit:"item"})]),GH=(n,a,f,g)=>({uid:n.uid,dom:n.dom,components:a,behaviours:il(n.tgroupBehaviours,[No.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),HT=mc({name:"ToolbarGroup",configFields:KQ(),partFields:YQ(),factory:GH}),KH=n=>me(n,a=>Vu(a)),YH=(n,a,f)=>{VH(n,f,g=>{f.overflowGroups.set(g),a.getOpt(n).each(w=>{Nm.setGroups(w,KH(g))})})},XH=(n,a,f,g)=>{const w=oi(Nm.sketch({fetch:()=>Ul.nu(_=>{_(KH(n.overflowGroups.get()))}),layouts:{onLtr:()=>[yl,Il],onRtl:()=>[Il,yl],onBottomLtr:()=>[hi,Xl],onBottomRtl:()=>[Xl,hi]},getBounds:f.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:g["overflow-button"](),toolbar:g.overflow()}}));return{uid:n.uid,dom:n.dom,components:a,behaviours:il(n.splitToolbarBehaviours,[Hi.config({others:{overflowGroup:()=>HT.sketch({...g["overflow-group"](),items:[w.asSpec()]})}})]),apis:{setGroups:(_,M)=>{n.builtGroups.set(me(M,_.getSystem().build)),YH(_,w,n)},refresh:_=>YH(_,w,n),toggle:_=>{w.getOpt(_).each(M=>{Nm.toggle(M)})},isOpen:_=>w.getOpt(_).map(Nm.isOpen).getOr(!1),reposition:_=>{w.getOpt(_).each(M=>{Nm.reposition(M)})},getOverflow:_=>w.getOpt(_).bind(Nm.getToolbar)},domModification:{attributes:{role:"group"}}}},JH=mc({name:"SplitFloatingToolbar",configFields:WQ(),partFields:qQ(),factory:XH,apis:{setGroups:(n,a,f)=>{n.setGroups(a,f)},refresh:(n,a)=>{n.refresh(a)},reposition:(n,a)=>{n.reposition(a)},toggle:(n,a)=>{n.toggle(a)},isOpen:(n,a)=>n.isOpen(a),getOverflow:(n,a)=>n.getOverflow(a)}}),XQ=j([Zg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),qr("onOpened"),qr("onClosed")].concat(UH())),C7=j([Vl({factory:Uh,schema:Rb(),name:"primary"}),Vl({factory:Uh,schema:Rb(),name:"overflow",overrides:n=>({toolbarBehaviours:Mn([Wh.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:a=>{Gs(a,n,"overflow-button").each(f=>{Qr.off(f),qo.focus(f)}),n.onClosed(a)},onGrown:a=>{No.focusIn(a),n.onOpened(a)},onStartGrow:a=>{Gs(a,n,"overflow-button").each(Qr.on)}}),No.config({mode:"acyclic",onEscape:a=>(Gs(a,n,"overflow-button").each(qo.focus),U.some(!0))})])})}),Tf({name:"overflow-button",overrides:n=>({buttonBehaviours:Mn([Qr.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Tf({name:"overflow-group"})]),JQ=(n,a)=>Gs(n,a,"overflow").map(Wh.hasGrown).getOr(!1),QH=(n,a)=>{Gs(n,a,"overflow-button").bind(()=>Gs(n,a,"overflow")).each(f=>{jT(n,a),Wh.toggleGrow(f)})},jT=(n,a)=>{Gs(n,a,"overflow").each(f=>{VH(n,a,g=>{const w=me(g,_=>Vu(_));Uh.setGroups(f,w)}),Gs(n,a,"overflow-button").each(g=>{Wh.hasGrown(f)&&Qr.on(g)}),Wh.refresh(f)})},QQ=(n,a,f,g)=>{const w="alloy.toolbar.toggle",_=(M,V)=>{const J=me(V,M.getSystem().build);n.builtGroups.set(J)};return{uid:n.uid,dom:n.dom,components:a,behaviours:il(n.splitToolbarBehaviours,[Hi.config({others:{overflowGroup:M=>HT.sketch({...g["overflow-group"](),items:[ou.sketch({...g["overflow-button"](),action:V=>{ms(M,w)}})]})}}),Mr("toolbar-toggle-events",[on(w,M=>{QH(M,n)})])]),apis:{setGroups:(M,V)=>{_(M,V),jT(M,n)},refresh:M=>jT(M,n),toggle:M=>QH(M,n),isOpen:M=>JQ(M,n)},domModification:{attributes:{role:"group"}}}},zT=mc({name:"SplitSlidingToolbar",configFields:XQ(),partFields:C7(),factory:QQ,apis:{setGroups:(n,a,f)=>{n.setGroups(a,f)},refresh:(n,a)=>{n.refresh(a)},toggle:(n,a)=>{n.toggle(a)},isOpen:(n,a)=>n.isOpen(a)}}),ej=n=>{const a=n.title.fold(()=>({}),f=>({attributes:{title:f}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...a},components:[HT.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Mn([la.config({}),qo.config({})])}},CE=n=>HT.sketch(ej(n)),tj=(n,a)=>{const f=Yi(g=>{const w=me(n.initGroups,CE);Uh.setGroups(g,w)});return Mn([Xu.toolbarButton(n.providers.isDisabled),Wa(),No.config({mode:a,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Mr("toolbar-events",[f])])},nj=n=>{const a=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ej({title:U.none(),items:[]}),"overflow-button":gL({name:"more",icon:U.some("more-drawer"),enabled:!0,tooltip:U.some("More..."),primary:!1,buttonType:U.none(),borderless:!1},U.none(),n.providers)},splitToolbarBehaviours:tj(n,a)}},eee=n=>{const a=nj(n),f=4,g=JH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return JH.sketch({...a,lazySink:n.getSink,getOverflowBounds:()=>{const w=n.moreDrawerData.lazyHeader().element,_=ni(w),M=Oi(w),V=ni(M),J=Math.max(M.dom.scrollHeight,V.height);return bo(_.x+f,V.y,_.width-f*2,J)},parts:{...a.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[g],markers:{overflowToggledClass:"tox-tbtn--enabled"}})},oj=n=>{const a=zT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),f=zT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),g=nj(n);return zT.sketch({...g,components:[a,f],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:w=>{w.getSystem().broadcastOn([r7()],{type:"opened"})},onClosed:w=>{w.getSystem().broadcastOn([r7()],{type:"closed"})}})},VT=n=>{const a=n.cyclicKeying?"cyclic":"acyclic";return Uh.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===cd.scrolling?["tox-toolbar--scrolling"]:[])},components:[Uh.parts.groups({})],toolbarBehaviours:tj(n,a)})},tee=(n,a,f)=>{const g={getSocket:w=>ef.getPart(w,n,"socket"),setSidebar:(w,_,M)=>{ef.getPart(w,n,"sidebar").each(V=>Npe(V,_,M))},toggleSidebar:(w,_)=>{ef.getPart(w,n,"sidebar").each(M=>NH(M,_))},whichSidebar:w=>ef.getPart(w,n,"sidebar").bind(PH).getOrNull(),getHeader:w=>ef.getPart(w,n,"header"),getToolbar:w=>ef.getPart(w,n,"toolbar"),setToolbar:(w,_)=>{ef.getPart(w,n,"toolbar").each(M=>{const V=me(_,CE);M.getApis().setGroups(M,V)})},setToolbars:(w,_)=>{ef.getPart(w,n,"multiple-toolbar").each(M=>{const V=me(_,J=>me(J,CE));lH.setItems(M,V)})},refreshToolbar:w=>{ef.getPart(w,n,"toolbar").each(M=>M.getApis().refresh(M))},toggleToolbarDrawer:w=>{ef.getPart(w,n,"toolbar").each(_=>{To(_.getApis().toggle,M=>M(_))})},isToolbarDrawerToggled:w=>ef.getPart(w,n,"toolbar").bind(_=>U.from(_.getApis().isOpen).map(M=>M(_))).getOr(!1),getThrobber:w=>ef.getPart(w,n,"throbber"),focusToolbar:w=>{ef.getPart(w,n,"toolbar").orThunk(()=>ef.getPart(w,n,"multiple-toolbar")).each(M=>{No.focusIn(M)})},setMenubar:(w,_)=>{ef.getPart(w,n,"menubar").each(M=>{l7.setMenus(M,_)})},focusMenubar:w=>{ef.getPart(w,n,"menubar").each(_=>{l7.focus(_)})}};return{uid:n.uid,dom:n.dom,components:a,apis:g,behaviours:n.behaviours}},nee=Fb.optional({factory:l7,name:"menubar",schema:[ln("backstage")]}),S7=n=>n.type===cd.sliding?oj:n.type===cd.floating?eee:VT,x7=Fb.optional({factory:{sketch:n=>lH.sketch({uid:n.uid,dom:n.dom,listBehaviours:Mn([No.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>VT({type:n.type,uid:fo("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:()=>(n.onEscape(),U.some(!0))}),setupItem:(a,f,g,w)=>{Uh.setGroups(f,g)},shell:!0})},name:"multiple-toolbar",schema:[ln("dom"),ln("onEscape")]}),oee=Fb.optional({factory:{sketch:n=>{const a=S7(n),f={type:n.type,uid:n.uid,onEscape:()=>(n.onEscape(),U.some(!0)),cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return a(f)}},name:"toolbar",schema:[ln("dom"),ln("onEscape"),ln("getSink")]}),ree=Fb.optional({factory:{sketch:dQ},name:"header",schema:[ln("dom")]}),see=Fb.optional({factory:{sketch:DT},name:"promotion",schema:[ln("dom")]}),iee=Fb.optional({name:"socket",schema:[ln("dom")]}),aee=Fb.optional({factory:{sketch:pd},name:"sidebar",schema:[ln("dom")]}),lee=Fb.optional({factory:{sketch:MQ},name:"throbber",schema:[ln("dom")]});var ji=mc({name:"OuterContainer",factory:tee,configFields:[ln("dom"),ln("behaviours")],partFields:[ree,nee,oee,x7,iee,aee,see,lee],apis:{getSocket:(n,a)=>n.getSocket(a),setSidebar:(n,a,f,g)=>{n.setSidebar(a,f,g)},toggleSidebar:(n,a,f)=>{n.toggleSidebar(a,f)},whichSidebar:(n,a)=>n.whichSidebar(a),getHeader:(n,a)=>n.getHeader(a),getToolbar:(n,a)=>n.getToolbar(a),setToolbar:(n,a,f)=>{n.setToolbar(a,f)},setToolbars:(n,a,f)=>{n.setToolbars(a,f)},refreshToolbar:(n,a)=>n.refreshToolbar(a),toggleToolbarDrawer:(n,a)=>{n.toggleToolbarDrawer(a)},isToolbarDrawerToggled:(n,a)=>n.isToolbarDrawerToggled(a),getThrobber:(n,a)=>n.getThrobber(a),setMenubar:(n,a,f)=>{n.setMenubar(a,f)},focusMenubar:(n,a)=>{n.focusMenubar(a)},focusToolbar:(n,a)=>{n.focusToolbar(a)}}});const cee="file edit view insert format tools table help",E7={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},UT=(n,a,f)=>{const g=FD(f).split(/[ ,]/);return{text:n.title,getItems:()=>be(n.items,w=>{const _=w.toLowerCase();return _.trim().length===0?[]:ue(g,M=>M===_)?[]:_==="separator"||_==="|"?[{type:"separator"}]:a.menuItems[_]?[a.menuItems[_]]:[]})}},SE=n=>n.split(" "),k7=(n,a)=>{const f={...E7,...a.menus},g=ft(a.menus).length>0,w=a.menubar===void 0||a.menubar===!0?SE(cee):SE(a.menubar===!1?"":a.menubar),_=tt(w,V=>{const J=eo(E7,V);return g?J||pn(a.menus,V).exists(ne=>eo(ne,"items")):J}),M=me(_,V=>{const J=f[V];return UT({title:J.title,items:SE(J.items)},a,n)});return tt(M,V=>{const J=ne=>v(ne)||ne.type!=="separator";return V.getItems().length>0&&ue(V.getItems(),J)})},Hb=n=>{const a=()=>{n._skinLoaded=!0,hK(n)};return()=>{n.initialized?a():n.on("init",a)}},rj=(n,a)=>()=>pK(n,{message:a}),sj=(n,a,f)=>(n.on("remove",()=>f.unload(a)),f.load(a)),uee=(n,a)=>{const f=a+"/skin.min.css";return sj(n,f,n.ui.styleSheetLoader)},fee=(n,a)=>{if(xr(dn.fromDom(n.getElement()))){const g=a+"/skin.shadowdom.min.css";return sj(n,g,$x.DOM.styleSheetLoader)}else return Promise.resolve()},ij=(n,a)=>{const f=l9(a);f&&a.contentCSS.push(f+(n?"/content.inline":"/content")+".min.css"),!MD(a)&&v(f)?Promise.all([uee(a,f),fee(a,f)]).then(Hb(a),rj(a,"Skin could not be loaded")):Hb(a)()},dee=se(ij,!1),hee=se(ij,!0),WT=(n,a)=>f=>{const g=em(),w=()=>{f.setActive(n.formatter.match(a));const _=n.formatter.formatChanged(a,f.setActive);g.set(_)};return n.initialized?w():n.once("init",w),()=>{n.off("init",w),g.clear()}},xE=(n,a,f)=>g=>{const w=()=>f(g),_=()=>{f(g),n.on(a,w)};return n.initialized?_():n.once("init",_),()=>{n.off("init",_),n.off(a,w)}},aj=n=>a=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("mceToggleFormat",!1,a.format)})},gd=(n,a)=>()=>n.execCommand(a),lj=(n,a,f)=>{const g=(V,J,ne,de)=>{const ye=a.shared.providers.translate(V.title);if(V.type==="separator")return U.some({type:"separator",text:ye});if(V.type==="submenu"){const Ne=be(V.getStyleItems(),Pe=>w(Pe,J,de));return J===0&&Ne.length<=0?U.none():U.some({type:"nestedmenuitem",text:ye,enabled:Ne.length>0,getSubmenuItems:()=>be(V.getStyleItems(),Pe=>w(Pe,J,de))})}else return U.some({type:"togglemenuitem",text:ye,icon:V.icon,active:V.isSelected(de),enabled:!ne,onAction:f.onAction(V),...V.getStylePreview().fold(()=>({}),Ne=>({meta:{style:Ne}}))})},w=(V,J,ne)=>{const de=V.type==="formatter"&&f.isInvalid(V);return J===0?de?[]:g(V,J,!1,ne).toArray():g(V,J,de,ne).toArray()},_=V=>{const J=f.getCurrentValue(),ne=f.shouldHide?0:1;return be(V,de=>w(de,ne,J))};return{validateItems:_,getFetch:(V,J)=>(ne,de)=>{const ye=J(),Ne=_(ye),Pe=Pb(Ne,Rh.CLOSE_ON_EXECUTE,V,{isHorizontalMenu:!1,search:U.none()});de(Pe)}}},vw=(n,a,f)=>{const g=f.dataset,w=g.type==="basic"?()=>me(g.data,_=>UL(_,f.isSelectedFor,f.getPreviewFor)):g.getData;return{items:lj(n,a,f),getStyleItems:w}},EE=(n,a,f)=>{const{items:g,getStyleItems:w}=vw(n,a,f),_=V=>({getComponent:j(V)}),M=xE(n,"NodeChange",V=>{const J=V.getComponent();f.updateText(J)});return S8({text:f.icon.isSome()?U.none():f.text,icon:f.icon,tooltip:U.from(f.tooltip),role:U.none(),fetch:g.getFetch(a,w),onSetup:M,getApi:_,columns:1,presets:"normal",classes:f.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",a.shared)},pee=n=>me(n,a=>{let f=a,g=a;const w=a.split("=");return w.length>1&&(f=w[0],g=w[1]),{title:f,format:g}}),gee=n=>({type:"basic",data:n});var bw;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(bw||(bw={}));const mee=(n,a)=>a===bw.SemiColon?n.replace(/;$/,"").split(";"):n.split(" "),qT=(n,a,f)=>{const g=n.options.get(a),w=pee(mee(g,f));return{type:"basic",data:w}},ZT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],A7=n=>{const a=()=>Re(ZT,V=>n.formatter.match(V.format)),f=V=>()=>n.formatter.match(V),g=V=>U.none,w=V=>{const ne=a().fold(j("left"),de=>de.title.toLowerCase());Ho(V,KI,{icon:`align-${ne}`})},_=gee(ZT),M=V=>()=>Re(ZT,J=>J.format===V.format).each(J=>n.execCommand(J.command));return{tooltip:"Align",text:U.none(),icon:U.some("align-left"),isSelectedFor:f,getCurrentValue:U.none,getPreviewFor:g,onAction:M,updateText:w,dataset:_,shouldHide:!1,isInvalid:V=>!n.formatter.canApply(V.format)}},vee=(n,a)=>EE(n,a,A7(n)),cj=(n,a)=>{const f=vw(n,a,A7(n));n.ui.registry.addNestedMenuItem("align",{text:a.shared.providers.translate("Align"),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},uj=(n,a)=>{const f=a(),g=me(f,w=>w.format);return U.from(n.formatter.closest(g)).bind(w=>Re(f,_=>_.format===w)).orThunk(()=>Es(n.formatter.match("p"),{title:"Paragraph",format:"p"}))},fj=n=>{const a="Paragraph",f=M=>()=>n.formatter.match(M),g=M=>()=>{const V=n.formatter.get(M);return V?U.some({tag:V.length>0&&(V[0].inline||V[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(M))}):U.none()},w=M=>{const J=uj(n,()=>_.data).fold(j(a),ne=>ne.title);Ho(M,hw,{text:J})},_=qT(n,"block_formats",bw.SemiColon);return{tooltip:"Blocks",text:U.some(a),icon:U.none(),isSelectedFor:f,getCurrentValue:U.none,getPreviewFor:g,onAction:aj(n),updateText:w,dataset:_,shouldHide:!1,isInvalid:M=>!n.formatter.canApply(M.format)}},bee=(n,a)=>EE(n,a,fj(n)),dj=(n,a)=>{const f=vw(n,a,fj(n));n.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},yee=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],T7=n=>{const a=n.split(/\s*,\s*/);return me(a,f=>f.replace(/^['"]+|['"]+$/g,""))},wee=n=>{const a=()=>{const f=T7(n.toLowerCase());return ie(yee,g=>f.indexOf(g.toLowerCase())>-1)};return n.indexOf("-apple-system")===0&&a()},hj=n=>{const a="System Font",f=()=>{const ne=rt=>rt?T7(rt)[0]:"",de=n.queryCommandValue("FontName"),ye=J.data,Ne=de?de.toLowerCase():"";return{matchOpt:Re(ye,rt=>{const bt=rt.format;return bt.toLowerCase()===Ne||ne(bt).toLowerCase()===ne(Ne).toLowerCase()}).orThunk(()=>Es(wee(Ne),{title:a,format:Ne})),font:de}},g=ne=>de=>de.exists(ye=>ye.format===ne),w=()=>{const{matchOpt:ne}=f();return ne},_=ne=>()=>U.some({tag:"div",styles:ne.indexOf("dings")===-1?{"font-family":ne}:{}}),M=ne=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontName",!1,ne.format)})},V=ne=>{const{matchOpt:de,font:ye}=f(),Ne=de.fold(j(ye),Pe=>Pe.title);Ho(ne,hw,{text:Ne})},J=qT(n,"font_family_formats",bw.SemiColon);return{tooltip:"Fonts",text:U.some(a),icon:U.none(),isSelectedFor:g,getCurrentValue:w,getPreviewFor:_,onAction:M,updateText:V,dataset:J,shouldHide:!1,isInvalid:he}},Cee=(n,a)=>EE(n,a,hj(n)),See=(n,a)=>{const f=vw(n,a,hj(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:a.shared.providers.translate("Fonts"),getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},xee={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},pj={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Eee=(n,a)=>{const f=Math.pow(10,a);return Math.round(n*f)/f},kee=(n,a)=>/[0-9.]+px$/.test(n)?Eee(parseInt(n,10)*72/96,a||0)+"pt":pn(pj,n).getOr(n),Aee=n=>pn(xee,n).getOr(""),gj=n=>{const a=()=>{let J=U.none();const ne=V.data,de=n.queryCommandValue("FontSize");if(de)for(let ye=3;J.isNone()&&ye>=0;ye--){const Ne=kee(de,ye),Pe=Aee(Ne);J=Re(ne,rt=>rt.format===de||rt.format===Ne||rt.format===Pe)}return{matchOpt:J,size:de}},f=J=>ne=>ne.exists(de=>de.format===J),g=()=>{const{matchOpt:J}=a();return J},w=j(U.none),_=J=>()=>{n.undoManager.transact(()=>{n.focus(),n.execCommand("FontSize",!1,J.format)})},M=J=>{const{matchOpt:ne,size:de}=a(),ye=ne.fold(j(de),Ne=>Ne.title);Ho(J,hw,{text:ye})},V=qT(n,"font_size_formats",bw.Space);return{tooltip:"Font sizes",text:U.some("12pt"),icon:U.none(),isSelectedFor:f,getPreviewFor:w,getCurrentValue:g,onAction:_,updateText:M,dataset:V,shouldHide:!1,isInvalid:he}},Tee=(n,a)=>EE(n,a,gj(n)),Oee=(n,a)=>{const f=vw(n,a,gj(n));n.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>f.items.validateItems(f.getStyleItems())})},mj=(n,a)=>{const f="Paragraph",g=M=>()=>n.formatter.match(M),w=M=>()=>{const V=n.formatter.get(M);return V!==void 0?U.some({tag:V.length>0&&(V[0].inline||V[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(M))}):U.none()},_=M=>{const V=ye=>jL(ye)?be(ye.items,V):zL(ye)?[{title:ye.title,format:ye.format}]:[],J=be(Z8(n),V),de=uj(n,j(J)).fold(j(f),ye=>ye.title);Ho(M,hw,{text:de})};return{tooltip:"Formats",text:U.some(f),icon:U.none(),isSelectedFor:g,getCurrentValue:U.none,getPreviewFor:w,onAction:aj(n),updateText:_,shouldHide:PD(n),isInvalid:M=>!n.formatter.canApply(M.format),dataset:a}},vj=(n,a)=>{const f={type:"advanced",...a.styles};return EE(n,a,mj(n,f))},_ee=(n,a)=>{const f={type:"advanced",...a.styles},g=vw(n,a,mj(n,f));n.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>g.items.validateItems(g.getStyleItems())})};var bj=Object.freeze({__proto__:null,events:(n,a)=>{const f=(g,w)=>{n.updateState.each(_=>{const M=_(g,w);a.set(M)}),n.renderComponents.each(_=>{const M=_(w,a.get());(n.reuseDom?rA:kx)(g,M)})};return Dr([on(Xf(),(g,w)=>{const _=w;if(!_.universal){const M=n.channel;fe(_.channels,M)&&f(g,_.data)}}),Yi((g,w)=>{n.initialData.each(_=>{f(g,_)})})])}}),yj=Object.freeze({__proto__:null,getState:(n,a,f)=>f}),wj=[ln("channel"),Kr("renderComponents"),Kr("updateState"),Kr("initialData"),$c("reuseDom",!0)],$ee=Object.freeze({__proto__:null,init:()=>{const n=$e(U.none()),a=()=>n.set(U.none());return{readState:()=>n.get().getOr("none"),get:n.get,set:n.set,clear:a}}});const tf=Va({fields:wj,name:"reflecting",active:bj,apis:yj,state:$ee}),kE=j([ln("toggleClass"),ln("fetch"),Np("onExecute"),$t("getHotspot",U.some),$t("getAnchorOverrides",j({})),Mp(),Np("onItemExecute"),Kr("lazySink"),ln("dom"),qr("onOpen"),wa("splitDropdownBehaviours",[Hi,No,qo]),$t("matchWidth",!1),$t("useMinWidth",!1),$t("eventOrder",{}),Kr("role")].concat(F6())),Dee=Vl({factory:ou,schema:[ln("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Mn([qo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(n.uid).each(vu)},buttonBehaviours:Mn([Qr.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])})}),Bee=Vl({factory:ou,schema:[ln("dom")],name:"button",defaults:()=>({buttonBehaviours:Mn([qo.revoke()])}),overrides:n=>({dom:{tag:"span",attributes:{role:"presentation"}},action:a=>{a.getSystem().getByUid(n.uid).each(f=>{n.onExecute(f,a)})}})}),Nee=j([Dee,Bee,qu({factory:{sketch:n=>({uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}})},schema:[ln("text")],name:"aria-descriptor"}),Tf({schema:[A0()],name:"menu",defaults:n=>({onExecute:(a,f)=>{a.getSystem().getByUid(n.uid).each(g=>{n.onItemExecute(g,a,f)})}})}),LM()]),Pee=(n,a,f,g)=>{const w=de=>{Ur.getCurrent(de).each(ye=>{us.highlightFirst(ye),No.focusIn(ye)})},_=de=>{N6(n,oe,de,g,w,nc.HighlightMenuAndItem).get(P)},M=de=>(_(de),U.some(!0)),V=de=>{const ye=rd(de,n,"button");return vu(ye),U.some(!0)},J={...Dr([Yi((de,ye)=>{Gs(de,n,"aria-descriptor").each(Pe=>{const rt=fo("aria");Fn(Pe.element,"id",rt),Fn(de.element,"aria-describedby",rt)})})]),...lA(U.some(_))},ne={repositionMenus:de=>{Qr.isOn(de)&&zM(de)}};return{uid:n.uid,dom:n.dom,components:a,apis:ne,eventOrder:{...n.eventOrder,[mu()]:["disabling","toggling","alloy.base.behaviour"]},events:J,behaviours:il(n.splitDropdownBehaviours,[Hi.config({others:{sandbox:de=>{const ye=rd(de,n,"arrow");return P6(n,de,{onOpen:()=>{Qr.on(ye),Qr.on(de)},onClose:()=>{Qr.off(ye),Qr.off(de)}})}}}),No.config({mode:"special",onSpace:V,onEnter:V,onDown:M}),qo.config({}),Qr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},GT=mc({name:"SplitDropdown",configFields:kE(),partFields:Nee(),factory:Pee,apis:{repositionMenus:(n,a)=>n.repositionMenus(a)}}),Fee=n=>({isEnabled:()=>!Bo.isDisabled(n),setEnabled:a=>Bo.set(n,!a)}),Ree=n=>({setActive:a=>{Qr.set(n,a)},isActive:()=>Qr.isOn(n),isEnabled:()=>!Bo.isDisabled(n),setEnabled:a=>Bo.set(n,!a)}),Cj=(n,a)=>n.map(f=>({"aria-label":a.translate(f),title:a.translate(f)})).getOr({}),KT=fo("focus-button"),O7=(n,a,f,g,w,_)=>({dom:{tag:"button",classes:["tox-tbtn"].concat(a.isSome()?["tox-tbtn--select"]:[]),attributes:Cj(f,_)},components:Yx([n.map(M=>Nb(M,_.icons)),a.map(M=>dT(M,"tox-tbtn",_))]),eventOrder:{[tl()]:["focusing","alloy.base.behaviour","common-button-display-events"]},buttonBehaviours:Mn([Xu.toolbarButton(_.isDisabled),Wa(),Mr("common-button-display-events",[on(tl(),(M,V)=>{V.event.prevent(),ms(M,KT)})])].concat(g.map(M=>tf.config({channel:M,initialData:{icon:n,text:a},renderComponents:(V,J)=>Yx([V.icon.map(ne=>Nb(ne,_.icons)),V.text.map(ne=>dT(ne,"tox-tbtn",_))])})).toArray()).concat(w.getOr([])))}),Mee=(n,a,f,g)=>{const w=a.shared;return Nm.sketch({lazySink:w.getSink,fetch:()=>Ul.nu(_=>{_(me(f(n.items),CE))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:O7(n.icon,n.text,n.tooltip,U.none(),U.none(),w.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:g}}}})},Sj=(n,a,f)=>{const g=$e(P),w=O7(n.icon,n.text,n.tooltip,U.none(),U.none(),f);return ou.sketch({dom:w.dom,components:w.components,eventOrder:fT,buttonBehaviours:Mn([Mr("toolbar-button-events",[GI({onAction:n.onAction,getApi:a.getApi}),Gx(a,g),Kx(a,g)]),Xu.toolbarButton(()=>!n.enabled||f.isDisabled()),Wa()].concat(a.toolbarButtonBehaviours))})},xj=(n,a)=>Ej(n,a,[]),Ej=(n,a,f)=>Sj(n,{toolbarButtonBehaviours:f.length>0?[Mr("toolbarButtonWith",f)]:[],getApi:Fee,onSetup:n.onSetup},a),Iee=(n,a)=>kj(n,a,[]),kj=(n,a,f)=>Sj(n,{toolbarButtonBehaviours:[kr.config({}),Qr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(f.length>0?[Mr("toolbarToggleButtonWith",f)]:[]),getApi:Ree,onSetup:n.onSetup},a),Lee=(n,a,f)=>g=>Ul.nu(w=>a.fetch(w)).map(w=>U.from(R6(Zs(E6(fo("menu-value"),w,_=>{a.onItemAction(n(g),_)},a.columns,a.presets,Rh.CLOSE_ON_EXECUTE,a.select.getOr(he),f),{movement:zA(a.columns,a.presets),menuBehaviours:cv.unnamedEvents(a.columns!=="auto"?[]:[Yi((_,M)=>{Vx(_,4,v9(a.presets)).each(({numRows:V,numColumns:J})=>{No.setGridSize(_,V,J)})})])})))),Hee=(n,a)=>{const f=fo("channel-update-split-dropdown-display"),g=M=>({isEnabled:()=>!Bo.isDisabled(M),setEnabled:V=>Bo.set(M,!V),setIconFill:(V,J)=>{$a(M.element,'svg path[id="'+V+'"], rect[id="'+V+'"]').each(ne=>{Fn(ne,"fill",J)})},setActive:V=>{Fn(M.element,"aria-pressed",V),$a(M.element,"span").each(J=>{M.getSystem().getByDom(J).each(ne=>Qr.set(ne,V))})},isActive:()=>$a(M.element,"span").exists(V=>M.getSystem().getByDom(V).exists(Qr.isOn))}),w=$e(P),_={getApi:g,onSetup:n.onSetup};return GT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...Cj(n.tooltip,a.providers)}},onExecute:M=>{n.onAction(g(M))},onItemExecute:(M,V,J)=>{},splitDropdownBehaviours:Mn([Xu.splitButton(a.providers.isDisabled),Wa(),Mr("split-dropdown-events",[on(KT,qo.focus),Gx(_,w),Kx(_,w)]),iw.config({})]),eventOrder:{[bh()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:a.getSink,fetch:Lee(g,n,a.providers),parts:{menu:Rx(!1,n.columns,n.presets)},components:[GT.parts.button(O7(n.icon,n.text,U.none(),U.some(f),U.some([Qr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),a.providers)),GT.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:OD("chevron-down",a.providers.icons)},buttonBehaviours:Mn([Xu.splitButton(a.providers.isDisabled),Wa(),_x()])}),GT.parts["aria-descriptor"]({text:a.providers.translate("To open the popup, press Shift+Enter")})]})},jee=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],wv=(n,a)=>(f,g,w)=>{const _=n(f).mapError(M=>Td(M)).getOrDie();return a(_,g,w)},zee={button:wv(B9,(n,a)=>xj(n,a.shared.providers)),togglebutton:wv(N9,(n,a)=>Iee(n,a.shared.providers)),menubutton:wv($T,(n,a)=>P8(n,"tox-tbtn",a,U.none())),splitbutton:wv(mQ,(n,a)=>Hee(n,a.shared)),grouptoolbarbutton:wv(pQ,(n,a,f)=>{const g=f.ui.registry.getAll().buttons,w=M=>XT(f,{buttons:g,toolbar:M,allowToolbarGroups:!1},a,U.none()),_={[Bh]:a.shared.header.isPositionedAtTop()?Dh.TopToBottom:Dh.BottomToTop};switch(mb(f)){case cd.floating:return Mee(n,a,w,_);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},YT=(n,a,f)=>pn(zee,n.type).fold(()=>(console.error("skipping button defined by",n),U.none()),g=>U.some(g(n,a,f))),AE={styles:vj,fontsize:Tee,fontfamily:Cee,blocks:bee,align:vee},_7=n=>{const a=me(jee,f=>{const g=tt(f.items,w=>eo(n,w)||eo(AE,w));return{name:f.name,items:g}});return tt(a,f=>f.items.length>0)},Vee=n=>{const a=n.split("|");return me(a,f=>({items:f.trim().split(" ")}))},Uee=n=>O(n,a=>eo(a,"name")&&eo(a,"items")),Wee=n=>{const a=n.toolbar,f=n.buttons;return a===!1?[]:a===void 0||a===!0?_7(f):v(a)?Vee(a):Uee(a)?a:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},qee=(n,a,f,g,w,_)=>pn(a,f.toLowerCase()).orThunk(()=>_.bind(M=>oo(M,V=>pn(a,V+f.toLowerCase())))).fold(()=>pn(AE,f.toLowerCase()).map(M=>M(n,w)),M=>M.type==="grouptoolbarbutton"&&!g?(console.warn(`Ignoring the '${f}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),U.none()):YT(M,w,n)),XT=(n,a,f,g)=>{const w=Wee(a),_=me(w,M=>{const V=be(M.items,J=>J.trim().length===0?[]:qee(n,a.buttons,J,a.allowToolbarGroups,f,g).toArray());return{title:U.from(n.translate(M.name)),items:V}});return tt(_,M=>M.items.length>0)},Aj=(n,a,f,g)=>{const w=a.outerContainer,_=f.toolbar,M=f.buttons;if(O(_,v)){const V=_.map(J=>{const ne={toolbar:J,buttons:M,allowToolbarGroups:f.allowToolbarGroups};return XT(n,ne,g,U.none())});ji.setToolbars(w,V)}else ji.setToolbar(w,XT(n,f,g,U.none()))},TE=Nl(),Tj=TE.os.isiOS()&&TE.os.version.major<=12,Oj=(n,a)=>{const f=n.dom;let g=n.getWin();const w=n.getDoc().documentElement,_=$e(Er(g.innerWidth,g.innerHeight)),M=$e(Er(w.offsetWidth,w.offsetHeight)),V=()=>{const Ne=_.get();(Ne.left!==g.innerWidth||Ne.top!==g.innerHeight)&&(_.set(Er(g.innerWidth,g.innerHeight)),m6(n))},J=()=>{const Ne=n.getDoc().documentElement,Pe=M.get();(Pe.left!==Ne.offsetWidth||Pe.top!==Ne.offsetHeight)&&(M.set(Er(Ne.offsetWidth,Ne.offsetHeight)),m6(n))},ne=Ne=>{mM(n,Ne)};f.bind(g,"resize",V),f.bind(g,"scroll",ne);const de=Q3(dn.fromDom(n.getBody()),"load",J),ye=a.uiMothership.element;n.on("hide",()=>{Wn(ye,"display","none")}),n.on("show",()=>{rr(ye,"display")}),n.on("NodeChange",J),n.on("remove",()=>{de.unbind(),f.unbind(g,"resize",V),f.unbind(g,"scroll",ne),g=null})};var _j=Object.freeze({__proto__:null,render:(n,a,f,g,w)=>{const _=$e(0),M=a.outerContainer;dee(n);const V=dn.fromDom(w.targetNode),J=Os(or(V));bk(V,a.mothership),kf(J,a.uiMothership),n.on("PostRender",()=>{ji.setSidebar(M,f.sidebar,i9(n)),Aj(n,a,f,g),_.set(n.getWin().innerWidth),ji.setMenubar(M,k7(n,f)),Oj(n,a)});const ne=ji.getSocket(M).getOrDie("Could not find expected socket element");if(Tj){Wr(ne.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Pe=YX(()=>{n.dispatch("ScrollContent")},20),rt=Jl(ne.element,"scroll",Pe.throttle);n.on("remove",rt.unbind)}LA(n,a),n.addCommand("ToggleSidebar",(Pe,rt)=>{ji.toggleSidebar(M,rt),n.dispatch("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",()=>{var Pe;return(Pe=ji.whichSidebar(M))!==null&&Pe!==void 0?Pe:""});const de=mb(n),ye=()=>{ji.refreshToolbar(a.outerContainer)};(de===cd.sliding||de===cd.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Pe=n.getWin().innerWidth;Pe!==_.get()&&(ye(),_.set(Pe))});const Ne={setEnabled:Pe=>{IA(a,!Pe)},isEnabled:()=>!Bo.isDisabled(M)};return{iframeContainer:ne.element.dom,editorContainer:M.element.dom,api:Ne}}});const $7=n=>/^[0-9\.]+(|px)$/i.test(""+n)?U.some(parseInt(""+n,10)):U.none(),JT=n=>D(n)?n+"px":n,QT=(n,a,f)=>{const g=a.filter(_=>n<_),w=f.filter(_=>n>_);return g.or(w).getOr(n)},Gee=n=>{const a=DD(n),f=xm(n),g=ND(n);return $7(a).map(w=>QT(w,f,g))},Kee=n=>Gee(n).getOr(DD(n)),$j=n=>{const a=BD(n),f=Nx(n),g=pA(n);return $7(a).map(w=>QT(w,f,g))},Yee=n=>$j(n).getOr(BD(n)),{ToolbarLocation:D7,ToolbarMode:Dj}=hG,Bj=(n,a,f,g,w)=>{const{uiMothership:_,outerContainer:M}=f,V=$x.DOM,J=Fx(n),ne=vb(n),de=pA(n).or($j(n)),ye=g.shared.header,Ne=ye.isPositionedAtTop,Pe=mb(n),rt=Pe===Dj.sliding||Pe===Dj.floating,bt=$e(!1),Mt=()=>bt.get()&&!n.removed,kt=os=>rt?os.fold(j(0),Po=>Po.components().length>1?Vt(Po.components()[1].element):0):0,Lt=os=>{switch(RD(n)){case D7.auto:const Po=ji.getToolbar(M),rs=kt(Po),fs=Vt(os.element)-rs,ss=$r(a);if(ss.y>fs)return"top";{const co=Oi(a),nr=Math.max(co.dom.scrollHeight,Vt(co));return ss.bottom<nr-fs||Ha().bottom<ss.bottom-fs?"bottom":"top"}case D7.bottom:return"bottom";case D7.top:default:return"top"}},Zn=os=>{w.on(Po=>{Nc.setModes(Po,[os]),ye.setDockingMode(os);const rs=Ne()?Dh.TopToBottom:Dh.BottomToTop;Fn(Po.element,Bh,rs)})},Xt=()=>{w.on(os=>{const Po=de.getOrThunk(()=>{const rs=$7(nn(Ke(),"margin-left")).getOr(0);return qs(Ke())-Xr(a).left+rs});Wn(os.element,"max-width",Po+"px")})},Qn=()=>{w.on(os=>{const Po=ji.getToolbar(M),rs=kt(Po),fs=$r(a),ss=Ne()?Math.max(fs.y-Vt(os.element)+rs,0):fs.bottom;Wr(M.element,{position:"absolute",top:Math.round(ss)+"px",left:Math.round(fs.x)+"px"})})},ho=()=>{_.broadcastOn([Wp()],{})},so=(os=!1)=>{if(!!Mt()){if(J||Xt(),rt&&ji.refreshToolbar(M),J||Qn(),ne){const Po=os?Nc.reset:Nc.refresh;w.on(Po)}ho()}},Io=(os=!0)=>{J||!ne||!Mt()||w.on(Po=>{const rs=ye.getDockingMode(),fs=Lt(Po);fs!==rs&&(Zn(fs),os&&so(!0))})};return{isVisible:Mt,isPositionedAtTop:Ne,show:()=>{bt.set(!0),Wn(M.element,"display","flex"),V.addClass(n.getBody(),"mce-edit-focus"),rr(_.element,"display"),Io(!1),so()},hide:()=>{bt.set(!1),f.outerContainer&&(Wn(M.element,"display","none"),V.removeClass(n.getBody(),"mce-edit-focus")),Wn(_.element,"display","none")},update:so,updateMode:Io,repositionPopups:ho}},Nj=(n,a)=>{const f=$r(n);return{pos:a?f.y:f.bottom,bounds:f}},Xee=(n,a,f,g)=>{const w=$e(Nj(a,f.isPositionedAtTop())),_=V=>{const{pos:J,bounds:ne}=Nj(a,f.isPositionedAtTop()),{pos:de,bounds:ye}=w.get(),Ne=ne.height!==ye.height||ne.width!==ye.width;w.set({pos:J,bounds:ne}),Ne&&m6(n,V),f.isVisible()&&(de!==J?f.update(!0):Ne&&(f.updateMode(),f.repositionPopups()))};g||(n.on("activate",f.show),n.on("deactivate",f.hide)),n.on("SkinLoaded ResizeWindow",()=>f.update(!0)),n.on("NodeChange keydown",V=>{requestAnimationFrame(()=>_(V))}),n.on("ScrollWindow",()=>f.updateMode());const M=em();M.set(Q3(dn.fromDom(n.getBody()),"load",V=>_(V.raw))),n.on("remove",()=>{M.clear()})};var Jee=Object.freeze({__proto__:null,render:(n,a,f,g,w)=>{const{mothership:_,uiMothership:M,outerContainer:V}=a,J=ki(),ne=dn.fromDom(w.targetNode),de=Bj(n,ne,a,g,J),ye=U2(n);hee(n);const Ne=()=>{if(J.isSet()){de.show();return}J.set(ji.getHeader(V).getOrDie());const rt=LD(n);kf(rt,_),kf(rt,M),Aj(n,a,f,g),ji.setMenubar(V,k7(n,f)),de.show(),Xee(n,ne,de,ye),n.nodeChanged()};n.on("show",Ne),n.on("hide",de.hide),ye||(n.on("focus",Ne),n.on("blur",de.hide)),n.on("init",()=>{(n.hasFocus()||ye)&&Ne()}),LA(n,a);const Pe={show:Ne,hide:de.hide,setEnabled:rt=>{IA(a,!rt)},isEnabled:()=>!Bo.isDisabled(V)};return{editorContainer:V.element.dom,api:Pe}}});const Qee="contexttoolbar-show",jb="contexttoolbar-hide",B7=n=>({hide:()=>ms(n,_y()),getValue:()=>qn.getValue(n)}),Pj=(n,a)=>on(y8,(f,g)=>{const w=n.get(f),_=B7(w);a.onAction(_,g.event.buttonApi)}),ete=(n,a,f)=>{const{primary:g,...w}=a.original,_=bf(B9({...w,type:"button",onAction:P}));return Ej(_,f,[Pj(n,a)])},Fj=(n,a,f)=>{const{primary:g,...w}=a.original,_=bf(N9({...w,type:"togglebutton",onAction:P}));return kj(_,f,[Pj(n,a)])},N7=n=>n.type==="contextformtogglebutton",Rj=(n,a,f)=>N7(a)?Fj(n,a,f):ete(n,a,f),Mj=(n,a,f)=>{const g=me(a,M=>oi(Rj(n,M,f)));return{asSpecs:()=>me(g,M=>M.asSpec()),findPrimary:M=>oo(a,(V,J)=>V.primary?U.from(g[J]).bind(ne=>ne.getOpt(M)).filter(Q(Bo.isDisabled)):U.none())}},Ij=(n,a)=>{const f=n.label.fold(()=>({}),_=>({"aria-label":_})),g=oi(G2.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:f,selectOnFocus:!0,inputBehaviours:Mn([No.config({mode:"special",onEnter:_=>w.findPrimary(_).map(M=>(vu(M),!0)),onLeft:(_,M)=>(M.cut(),U.none()),onRight:(_,M)=>(M.cut(),U.none())})])})),w=Mj(g,n.commands,a);return[{title:U.none(),items:[g.asSpec()]},{title:U.none(),items:w.asSpecs()}]},eO={renderContextForm:(n,a,f)=>VT({type:n,uid:fo("context-toolbar"),initGroups:Ij(a,f),onEscape:U.none,cyclicKeying:!0,providers:f}),buildInitGroups:Ij},tO=(n,a,f=.01)=>a.bottom-n.y>=f&&n.bottom-a.y>=f,Lj=n=>{const a=n.getBoundingClientRect();if(a.height<=0&&a.width<=0){const f=xt(dn.fromDom(n.startContainer),n.startOffset).element;return(Js(f)?mi(f):U.some(f)).filter(Or).map(w=>w.dom.getBoundingClientRect()).getOr(a)}else return a},nO=n=>{const a=n.selection.getRng(),f=Lj(a);if(n.inline){const g=Zc();return bo(g.left+f.left,g.top+f.top,f.width,f.height)}else{const g=ni(dn.fromDom(n.getBody()));return bo(g.x+f.left,g.y+f.top,f.width,f.height)}},Hj=(n,a)=>a.filter(f=>ae(f)&&Tr(f)).map(ni).getOrThunk(()=>nO(n)),tte=(n,a,f)=>{const g=Math.max(n.x+f,a.x),w=Math.min(n.right-f,a.right);return{x:g,width:w-g}},nte=(n,a,f,g,w,_)=>{const M=dn.fromDom(n.getContainer()),V=$a(M,".tox-editor-header").getOr(M),J=$r(V),ne=J.y>=a.bottom,de=g&&!ne;if(n.inline&&de)return{y:Math.max(J.bottom+_,f.y),bottom:f.bottom};if(n.inline&&!de)return{y:f.y,bottom:Math.min(J.y-_,f.bottom)};const ye=w==="line"?$r(M):a;return de?{y:Math.max(J.bottom+_,f.y),bottom:Math.min(ye.bottom-_,f.bottom)}:{y:Math.max(ye.y+_,f.y),bottom:Math.min(J.y-_,f.bottom)}},jj=(n,a,f,g=0)=>{const w=pu(window),_=$r(dn.fromDom(n.getContentAreaContainer())),M=q2(n)||yA(n)||Px(n),{x:V,width:J}=tte(_,w,g);if(n.inline&&!M)return bo(V,w.y,J,w.height);{const ne=a.header.isPositionedAtTop(),{y:de,bottom:ye}=nte(n,_,w,ne,f,g);return bo(V,de,J,ye-de)}},oO=12,zj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},P7={maxHeightFunction:N0(),maxWidthFunction:b7()},rO=(n,a)=>{const f=n.selection.getRng(),g=xt(dn.fromDom(f.startContainer),f.startOffset);return f.startContainer===f.endContainer&&f.startOffset===f.endOffset-1&&Cr(g.element,a)},Vj=(n,a,f)=>{const g=ps(n,"position");Wn(n,"position",a);const w=f(n);return g.each(_=>Wn(n,"position",_)),w},F7=n=>n==="node",R7=(n,a,f,g,w)=>{const _=nO(n),M=g.lastElement().exists(V=>Cr(f,V));if(rO(n,f))return M?DL:eg;if(M)return Vj(a,g.getMode(),()=>tO(_,$r(a))&&!g.isReposition()?SJ:DL);{const V=g.getMode()==="fixed"?w.y+Zc().top:w.y,J=Vt(a)+oO;return V+J<=_.y?eg:vE}},ote=(n,a,f,g)=>{const w=J=>(ne,de,ye,Ne,Pe)=>{const rt=R7(n,Ne,J,f,Pe),bt={...ne,y:Pe.y,height:Pe.height};return{...rt(bt,de,ye,Ne,Pe),alwaysFit:!0}},_=J=>F7(g)?[w(J)]:[];return a?{onLtr:J=>[sl,Il,yl,Xl,hi,Ll].concat(_(J)),onRtl:J=>[sl,yl,Il,hi,Xl,Ll].concat(_(J))}:{onLtr:J=>[Ll,sl,Xl,Il,hi,yl].concat(_(J)),onRtl:J=>[Ll,sl,hi,yl,Xl,Il].concat(_(J))}},Uj=(n,a,f,g)=>a==="line"?{bubble:Fp(oO,0,zj),layouts:{onLtr:()=>[Yy],onRtl:()=>[Xy]},overrides:P7}:{bubble:Fp(0,oO,zj,1/oO),layouts:ote(n,f,g,a),overrides:P7},M7=(n,a)=>{const f=tt(a,_=>_.predicate(n.dom)),{pass:g,fail:w}=We(f,_=>_.type==="contexttoolbar");return{contextToolbars:g,contextForms:w}},rte=n=>{if(n.length<=1)return n;{const a=_=>ue(n,M=>M.position===_),f=_=>tt(n,M=>M.position===_),g=a("selection"),w=a("node");if(g||w)if(w&&g){const _=f("node"),M=me(f("selection"),V=>({...V,position:"node"}));return _.concat(M)}else return f(g?"selection":"node");else return f("line")}},Wj=n=>{if(n.length<=1)return n;{const a=g=>Re(n,w=>w.position===g);return a("selection").orThunk(()=>a("node")).orThunk(()=>a("line")).map(g=>g.position).fold(()=>[],g=>tt(n,w=>w.position===g))}},qj=(n,a,f)=>{const g=M7(n,a);if(g.contextForms.length>0)return U.some({elem:n,toolbars:[g.contextForms[0]]});{const w=M7(n,f);if(w.contextForms.length>0)return U.some({elem:n,toolbars:[w.contextForms[0]]});if(g.contextToolbars.length>0||w.contextToolbars.length>0){const _=rte(g.contextToolbars.concat(w.contextToolbars));return U.some({elem:n,toolbars:_})}else return U.none()}},ste=(n,a,f)=>n(a)?U.none():gh(a,g=>{if(Or(g)){const{contextToolbars:w,contextForms:_}=M7(g,f.inNodeScope),M=_.length>0?_:Wj(w);return M.length>0?U.some({elem:g,toolbars:M}):U.none()}else return U.none()},n),ite=(n,a)=>{const f=dn.fromDom(a.getBody()),g=M=>Cr(M,f),w=M=>!g(M)&&!Ri(f,M),_=dn.fromDom(a.selection.getNode());return w(_)?U.none():qj(_,n.inNodeScope,n.inEditorScope).orThunk(()=>ste(g,_,n))},ate=(n,a)=>{const f={},g=[],w=[],_={},M={},V=(de,ye)=>{const Ne=bf(L9(ye));f[de]=Ne,Ne.launch.map(Pe=>{_["form:"+de]={...ye.launch,type:Pe.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{a(Ne)}}}),Ne.scope==="editor"?w.push(Ne):g.push(Ne),M[de]=Ne},J=(de,ye)=>{LG(ye).each(Ne=>{ye.scope==="editor"?w.push(Ne):g.push(Ne),M[de]=Ne})},ne=ft(n);return q(ne,de=>{const ye=n[de];ye.type==="contextform"?V(de,ye):ye.type==="contexttoolbar"&&J(de,ye)}),{forms:f,inNodeScope:g,inEditorScope:w,lookupTable:M,formNavigators:_}},I7=fo("forward-slide"),L7=fo("backward-slide"),H7=fo("change-slide-event"),j7="tox-pop--resizing",Zj=n=>{const a=$e([]);return ea.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:f=>{a.set([]),ea.getContent(f).each(g=>{rr(g.element,"visibility")}),fi(f.element,j7),rr(f.element,"width")},inlineBehaviours:Mn([Mr("context-toolbar-events",[Jc(l0(),(f,g)=>{g.event.raw.propertyName==="width"&&(fi(f.element,j7),rr(f.element,"width"))}),on(H7,(f,g)=>{const w=f.element;rr(w,"width");const _=qs(w);ea.setContent(f,g.event.contents),nl(w,j7);const M=qs(w);Wn(w,"width",_+"px"),ea.getContent(f).each(V=>{g.event.focus.bind(J=>(_h(J),td(w))).orThunk(()=>(No.focusIn(V),dc(or(w))))}),setTimeout(()=>{Wn(f.element,"width",M+"px")},0)}),on(I7,(f,g)=>{ea.getContent(f).each(w=>{a.set(a.get().concat([{bar:w,focus:dc(or(f.element))}]))}),Ho(f,H7,{contents:g.event.forwardContents,focus:U.none()})}),on(L7,(f,g)=>{zn(a.get()).each(w=>{a.set(a.get().slice(0,a.get().length-1)),Ho(f,H7,{contents:Vu(w.bar),focus:w.focus})})})]),No.config({mode:"special",onEscape:f=>zn(a.get()).fold(()=>n.onEscape(),g=>(ms(f,L7),U.some(!0)))})]),lazySink:()=>er.value(n.sink)})},z7="tox-pop--transition",lte=(n,a,f,g)=>{const w=g.backstage,_=w.shared,M=Nl().deviceType.isTouch,V=ki(),J=ki(),ne=ki(),de=uc(Zj({sink:f,onEscape:()=>(n.focus(),U.some(!0))})),ye=()=>{const Vo=ne.get().getOr("node"),Ir=F7(Vo)?1:0;return jj(n,_,Vo,Ir)},Ne=()=>!n.removed&&!(M()&&w.isContextMenuOpen()),Pe=Vo=>Ts(wr(Vo,V.get(),Cr),!0),rt=()=>{if(Ne()){const Vo=ye(),Ir=Ts(ne.get(),"node")?Hj(n,V.get()):nO(n);return Vo.height<=0||!tO(Ir,Vo)}else return!0},bt=()=>{V.clear(),J.clear(),ne.clear(),ea.hide(de)},Mt=()=>{if(ea.isOpen(de)){const Vo=de.element;rr(Vo,"display"),rt()?Wn(Vo,"display","none"):(J.set(0),ea.reposition(de))}},kt=Vo=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Vo],behaviours:Mn([No.config({mode:"acyclic"}),Mr("pop-dialog-wrap-events",[Yi(Ir=>{n.shortcuts.add("ctrl+F9","focus statusbar",()=>No.focusIn(Ir))}),Jf(Ir=>{n.shortcuts.remove("ctrl+F9")})])])}),Lt=bi(()=>ate(a,Vo=>{const Ir=Qn([Vo]);Ho(de,I7,{forwardContents:kt(Ir)})})),Zn=(Vo,Ir)=>XT(n,{buttons:Vo,toolbar:Ir.items,allowToolbarGroups:!1},g.backstage,U.some(["form:"])),Xt=(Vo,Ir)=>eO.buildInitGroups(Vo,Ir),Qn=Vo=>{const{buttons:Ir}=n.ui.registry.getAll(),os=Lt(),Po={...Ir,...os.formNavigators},rs=mb(n)===cd.scrolling?cd.scrolling:cd.default,fs=Oe(me(Vo,ss=>ss.type==="contexttoolbar"?Zn(Po,ss):Xt(ss,_.providers)));return VT({type:rs,uid:fo("context-toolbar"),initGroups:fs,onEscape:U.none,cyclicKeying:!0,providers:_.providers})},ho=(Vo,Ir)=>{const os=Vo==="node"?_.anchors.node(Ir):_.anchors.cursor(),Po=Uj(n,Vo,M(),{lastElement:V.get,isReposition:()=>Ts(J.get(),0),getMode:()=>pc.getMode(f)});return Zs(os,Po)},so=(Vo,Ir)=>{if(Io.cancel(),!Ne())return;const os=Qn(Vo),Po=Vo[0].position,rs=ho(Po,Ir);ne.set(Po),J.set(1);const fs=de.element;rr(fs,"display"),Pe(Ir)||(fi(fs,z7),pc.reset(f,de)),ea.showWithinBounds(de,kt(os),{anchor:rs,transition:{classes:[z7],mode:"placement"}},()=>U.some(ye())),Ir.fold(V.clear,V.set),rt()&&Wn(fs,"display","none")},Io=O8(()=>{if(!(!n.hasFocus()||n.removed))if(vl(de.element,z7))Io.throttle();else{const Vo=Lt();ite(Vo,n).fold(bt,Ir=>{so(Ir.toolbars,U.some(Ir.elem))})}},17);n.on("init",()=>{n.on("remove",bt),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Mt),n.on("click keyup focus SetContent",Io.throttle),n.on(jb,bt),n.on(Qee,Vo=>{const Ir=Lt();pn(Ir.lookupTable,Vo.toolbarKey).each(os=>{so([os],Es(Vo.target!==n,Vo.target)),ea.getContent(de).each(No.focusIn)})}),n.on("focusout",Vo=>{z2.setEditorTimeout(n,()=>{td(f.element).isNone()&&td(de.element).isNone()&&bt()},0)}),n.on("SwitchMode",()=>{n.mode.isReadOnly()&&bt()}),n.on("AfterProgressState",Vo=>{Vo.state?bt():n.hasFocus()&&Io.throttle()}),n.on("NodeChange",Vo=>{td(de.element).fold(Io.throttle,P)})})},cte=n=>{q([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],f=>{n.ui.registry.addToggleButton(f.name,{tooltip:f.text,icon:f.icon,onAction:gd(n,f.cmd),onSetup:WT(n,f.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:gd(n,"JustifyNone")})},ute={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},fte=(()=>{const n="[0-9]+",a="[+-]?"+n,f="[eE]"+a,g="\\.",w=V=>`(?:${V})?`,M=`[+-]?(?:${["Infinity",n+g+w(n)+w(f),g+n+w(f),n+w(f)].join("|")})`;return new RegExp(`^(${M})(.*)$`)})(),V7=(n,a)=>ue(a,f=>ue(ute[f],g=>n===g)),dte=(n,a)=>U.from(fte.exec(n)).bind(g=>{const w=Number(g[1]),_=g[2];return V7(_,a)?U.some({value:w,unit:_}):U.none()}),hte=(n,a)=>dte(n,a).map(({value:f,unit:g})=>f+g),sO=(n,a)=>{const f=()=>{const g=a.getOptions(n),w=a.getCurrent(n).map(a.hash),_=ki();return me(g,M=>({type:"togglemenuitem",text:a.display(M),onSetup:V=>{const J=de=>{de&&(_.on(ye=>ye.setActive(!1)),_.set(V)),V.setActive(de)};J(Ts(w,a.hash(M)));const ne=a.watcher(n,M,J);return()=>{_.clear(),ne()}},onAction:()=>a.setCurrent(n,M)}))};n.ui.registry.addMenuButton(a.name,{tooltip:a.text,icon:a.icon,fetch:g=>g(f()),onSetup:a.onToolbarSetup}),n.ui.registry.addNestedMenuItem(a.name,{type:"nestedmenuitem",text:a.text,getSubmenuItems:f,onSetup:a.onMenuSetup})},Gj={name:"lineheight",text:"Line height",icon:"line-height",getOptions:c9,hash:n=>hte(n,["fixed","relative","empty"]).getOr(n),display:oe,watcher:(n,a,f)=>n.formatter.formatChanged("lineheight",f,!1,{value:a}).unbind,getCurrent:n=>U.from(n.queryCommandValue("LineHeight")),setCurrent:(n,a)=>n.execCommand("LineHeight",!1,a)},Kj=n=>U.from(qR(n)).map(f=>({name:"language",text:"Language",icon:"language",getOptions:j(f),hash:g=>k(g.customCode)?g.code:`${g.code}/${g.customCode}`,display:g=>g.title,watcher:(g,w,_)=>{var M;return g.formatter.formatChanged("lang",_,!1,{value:w.code,customValue:(M=w.customCode)!==null&&M!==void 0?M:null}).unbind},getCurrent:g=>{const w=dn.fromDom(g.selection.getNode());return Od(w,_=>U.some(_).filter(Or).bind(M=>pe(M,"lang").map(J=>{const ne=pe(M,"data-mce-lang").getOrUndefined();return{code:J,customCode:ne,title:""}})))},setCurrent:(g,w)=>g.execCommand("Lang",!1,w),onToolbarSetup:g=>{const w=em();return g.setActive(n.formatter.match("lang",{},void 0,!0)),w.set(n.formatter.formatChanged("lang",g.setActive,!0)),w.clear}})),pte=n=>{sO(n,Gj),Kj(n).each(a=>sO(n,a))},gte=(n,a)=>{cj(n,a),See(n,a),_ee(n,a),dj(n,a),Oee(n,a)},mte=n=>xE(n,"NodeChange",a=>{a.setEnabled(n.queryCommandState("outdent"))}),vte=n=>{n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:mte(n),onAction:gd(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:gd(n,"indent")})},bte=n=>{vte(n)},U7=(n,a)=>f=>{f.setActive(a.get());const g=w=>{a.set(w.state),f.setActive(w.state)};return n.on("PastePlainTextToggle",g),()=>n.off("PastePlainTextToggle",g)},yte=n=>{const a=$e(s9(n)),f=()=>n.execCommand("mceTogglePlainTextPaste");n.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:f,onSetup:U7(n,a)}),n.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:f,onSetup:U7(n,a)})},iO=(n,a)=>()=>{n.execCommand("mceToggleFormat",!1,a)},wte=n=>{vv.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(a,f)=>{n.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onSetup:WT(n,a.name),onAction:iO(n,a.name)})});for(let a=1;a<=6;a++){const f="h"+a;n.ui.registry.addToggleButton(f,{text:f.toUpperCase(),tooltip:"Heading "+a,onSetup:WT(n,f),onAction:iO(n,f)})}},Cte=n=>{vv.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{n.ui.registry.addButton(a.name,{tooltip:a.text,icon:a.icon,onAction:gd(n,a.action)})})},W7=n=>{vv.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],a=>{n.ui.registry.addToggleButton(a.name,{tooltip:a.text,icon:a.icon,onAction:gd(n,a.action),onSetup:WT(n,a.name)})})},Yj=n=>{wte(n),Cte(n),W7(n)},Xj=n=>{vv.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],a=>{n.ui.registry.addMenuItem(a.name,{text:a.text,icon:a.icon,shortcut:a.shortcut,onAction:gd(n,a.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:iO(n,"code")})},q7=n=>{Yj(n),Xj(n)},aO=(n,a)=>xE(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",f=>{f.setEnabled(!n.mode.isReadOnly()&&n.undoManager[a]())}),Ste=n=>{n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:aO(n,"hasUndo"),onAction:gd(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:aO(n,"hasRedo"),onAction:gd(n,"redo")})},xte=n=>{n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:aO(n,"hasUndo"),onAction:gd(n,"undo")}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:aO(n,"hasRedo"),onAction:gd(n,"redo")})},Ete=n=>{Ste(n),xte(n)},Jj=n=>xE(n,"VisualAid",a=>{a.setActive(n.hasVisual)}),kte=n=>{n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Jj(n),onAction:gd(n,"mceToggleVisualAid")})},Ate=n=>{n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:gd(n,"mceToggleVisualAid")})},Tte=n=>{Ate(n),kte(n)},Ote=(n,a)=>{cte(n),q7(n),gte(n,a),Ete(n),CK(n),Tte(n),bte(n),pte(n),yte(n)},_te=n=>v(n)?n.split(/[ ,]/):n,Qj=n=>a=>a.options.get(n),$te=n=>{const a=n.options.register;a("contextmenu_avoid_overlap",{processor:"string",default:""}),a("contextmenu_never_use_native",{processor:"boolean",default:!1}),a("contextmenu",{processor:f=>f===!1?{value:[],valid:!0}:v(f)||O(f,v)?{value:_te(f),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},ez=Qj("contextmenu_never_use_native"),tz=Qj("contextmenu_avoid_overlap"),Dte=n=>Z7(n).length===0,Z7=n=>{const a=n.ui.registry.getAll().contextMenus,f=n.options.get("contextmenu");return n.options.isSet("contextmenu")?f:tt(f,g=>eo(a,g))},_E=(n,a)=>({type:"makeshift",x:n,y:a}),Bte=(n,a,f)=>_E(n.x+a,n.y+f),nz=n=>n.type==="longpress"||n.type.indexOf("touch")===0,zb=n=>{if(nz(n)){const a=n.touches[0];return _E(a.pageX,a.pageY)}else return _E(n.pageX,n.pageY)},oz=n=>{if(nz(n)){const a=n.touches[0];return _E(a.clientX,a.clientY)}else return _E(n.clientX,n.clientY)},Nte=(n,a)=>{const f=$x.DOM.getPos(n);return Bte(a,f.x,f.y)},Pte=(n,a)=>a.type==="contextmenu"||a.type==="longpress"?n.inline?zb(a):Nte(n.getContentAreaContainer(),oz(a)):rz(n),rz=n=>({type:"selection",root:dn.fromDom(n.selection.getNode())}),Fte=n=>({type:"node",node:U.some(dn.fromDom(n.selection.getNode())),root:dn.fromDom(n.getBody())}),G7=(n,a,f)=>{switch(f){case"node":return Fte(n);case"point":return Pte(n,a);case"selection":return rz(n)}},Rte=(n,a,f,g,w,_)=>{const M=f(),V=G7(n,a,_);Pb(M,Rh.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:U.none()}).map(J=>{a.preventDefault(),ea.showMenuAt(w,{anchor:V},{menu:{markers:jd("normal")},data:J})})},Mte={onLtr:()=>[sl,Il,yl,Xl,hi,Ll,eg,vE,mE,bT,gE,vT],onRtl:()=>[sl,yl,Il,hi,Xl,Ll,eg,vE,gE,vT,mE,bT]},Ite=12,Lte={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Hte=(n,a)=>{const f=n.selection;if(f.isCollapsed()||a.touches.length<1)return!1;{const g=a.touches[0],w=f.getRng();return z0(n.getWin(),j0.domRange(w)).exists(M=>M.left<=g.clientX&&M.right>=g.clientX&&M.top<=g.clientY&&M.bottom>=g.clientY)}},jte=n=>{const a=n.selection.getRng(),f=()=>{z2.setEditorTimeout(n,()=>{n.selection.setRng(a)},10),_()};n.once("touchend",f);const g=M=>{M.preventDefault(),M.stopImmediatePropagation()};n.on("mousedown",g,!0);const w=()=>_();n.once("longpresscancel",w);const _=()=>{n.off("touchend",f),n.off("longpresscancel",w),n.off("mousedown",g)}},zte=(n,a,f)=>{const g=G7(n,a,f);return{bubble:Fp(0,f==="point"?Ite:0,Lte),layouts:Mte,overrides:{maxWidthFunction:b7(),maxHeightFunction:N0()},...g}},Vte=(n,a,f,g,w,_,M)=>{const V=zte(n,a,_);Pb(f,Rh.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!0,search:U.none()}).map(J=>{a.preventDefault();const ne=M?nc.HighlightMenuAndItem:nc.HighlightNone;ea.showMenuWithinBounds(w,{anchor:V},{menu:{markers:jd("normal"),highlightOnOpen:ne},data:J,type:"horizontal"},()=>U.some(jj(n,g.shared,_==="node"?"node":"selection"))),n.dispatch(jb)})},sz=(n,a,f,g,w,_)=>{const M=Nl(),V=M.os.isiOS(),J=M.os.isMacOS(),ne=M.os.isAndroid(),de=M.deviceType.isTouch(),ye=()=>!(ne||V||J&&de),Ne=()=>{const Pe=f();Vte(n,a,Pe,g,w,_,ye())};if((J||V)&&_!=="node"){const Pe=()=>{jte(n),Ne()};Hte(n,a)?Pe():(n.once("selectionchange",Pe),n.once("touchend",()=>n.off("selectionchange",Pe)))}else Ne()},K7=n=>v(n)?n==="|":n.type==="separator",Y7={type:"separator"},yw=n=>{const a=f=>({text:f.text,icon:f.icon,enabled:f.enabled,shortcut:f.shortcut});if(v(n))return n;switch(n.type){case"separator":return Y7;case"submenu":return{type:"nestedmenuitem",...a(n),getSubmenuItems:()=>{const g=n.getSubmenuItems();return v(g)?g:me(g,yw)}};default:const f=n;return{type:"menuitem",...a(f),onAction:I(f.onAction)}}},iz=(n,a)=>{if(a.length===0)return n;const g=zn(n).filter(w=>!K7(w)).fold(()=>[],w=>[Y7]);return n.concat(g).concat(a).concat([Y7])},Ute=(n,a,f)=>{const g=it(a,(w,_)=>pn(n,_.toLowerCase()).map(M=>{const V=M.update(f);if(v(V))return iz(w,V.split(" "));if(V.length>0){const J=me(V,yw);return iz(w,J)}else return w}).getOrThunk(()=>w.concat([_])),[]);return g.length>0&&K7(g[g.length-1])&&g.pop(),g},X7=(n,a)=>a.ctrlKey&&!ez(n),Wte=n=>n.type==="longpress"||eo(n,"touches"),az=(n,a)=>!Wte(a)&&(a.button!==2||a.target===n.getBody()&&a.pointerType===""),lz=(n,a)=>az(n,a)?n.selection.getStart(!0):a.target,qte=(n,a)=>{const f=tz(n),g=az(n,a)?"selection":"point";if(Zt(f)){const w=lz(n,a);return ow(dn.fromDom(w),f)?"node":g}else return g},Zte=(n,a,f)=>{const w=Nl().deviceType.isTouch,_=uc(ea.sketch({dom:{tag:"div"},lazySink:a,onEscape:()=>n.focus(),onShow:()=>f.setContextMenuState(!0),onHide:()=>f.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Mn([Mr("dismissContextMenu",[on(Dp(),(J,ne)=>{Rr.close(J),n.focus()})])])})),M=()=>ea.hide(_),V=J=>{if(ez(n)&&J.preventDefault(),X7(n,J)||Dte(n))return;const ne=qte(n,J),de=()=>{const Ne=lz(n,J),Pe=n.ui.registry.getAll(),rt=Z7(n);return Ute(Pe.contextMenus,rt,Ne)};(w()?sz:Rte)(n,J,de,f,_,ne)};n.on("init",()=>{const J="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(w()?"":" ResizeWindow");n.on(J,M),n.on("longpress contextmenu",V)})},J7=It.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),lO=n=>a=>a.translate(-n.left,-n.top),cO=n=>a=>a.translate(n.left,n.top),Pm=n=>(a,f)=>it(n,(g,w)=>w(g),Er(a,f)),uO=(n,a,f)=>n.fold(Pm([cO(f),lO(a)]),Pm([lO(a)]),Pm([])),ww=(n,a,f)=>n.fold(Pm([cO(f)]),Pm([]),Pm([cO(a)])),cz=(n,a,f)=>n.fold(Pm([]),Pm([lO(f)]),Pm([cO(a),lO(f)])),Gte=(n,a,f,g,w,_)=>{const M=ww(n,w,_),V=ww(a,w,_);return Math.abs(M.left-V.left)<=f&&Math.abs(M.top-V.top)<=g},Kte=(n,a,f,g,w,_)=>{const M=ww(n,w,_),V=ww(a,w,_),J=Math.abs(M.left-V.left),ne=Math.abs(M.top-V.top);return Er(J,ne)},uz=(n,a,f)=>{const g=n.fold((w,_)=>({position:U.some("absolute"),left:U.some(w+"px"),top:U.some(_+"px")}),(w,_)=>({position:U.some("absolute"),left:U.some(w-f.left+"px"),top:U.some(_-f.top+"px")}),(w,_)=>({position:U.some("fixed"),left:U.some(w+"px"),top:U.some(_+"px")}));return{right:U.none(),bottom:U.none(),...g}},Yte=(n,a,f)=>n.fold((g,w)=>Vb(g+a,w+f),(g,w)=>Cv(g+a,w+f),(g,w)=>Ub(g+a,w+f)),Q7=(n,a,f,g)=>{const w=(_,M)=>(V,J)=>{const ne=_(a,f,g);return M(V.getOr(ne.left),J.getOr(ne.top))};return n.fold(w(cz,Vb),w(ww,Cv),w(uO,Ub))},Vb=J7.offset,Cv=J7.absolute,Ub=J7.fixed,fz=(n,a)=>{const f=Ro(n,a);return k(f)?NaN:parseInt(f,10)},Xte=(n,a)=>{const f=n.element,g=fz(f,a.leftAttr),w=fz(f,a.topAttr);return isNaN(g)||isNaN(w)?U.none():U.some(Er(g,w))},Jte=(n,a,f)=>{const g=n.element;Fn(g,a.leftAttr,f.left+"px"),Fn(g,a.topAttr,f.top+"px")},Qte=(n,a)=>{const f=n.element;et(f,a.leftAttr),et(f,a.topAttr)},dz=(n,a,f,g)=>Xte(n,a).fold(()=>f,w=>Ub(w.left+g.left,w.top+g.top)),ene=(n,a,f,g,w,_)=>{const M=dz(n,a,f,g),V=a.mustSnap?nne(n,a,M,w,_):one(n,a,M,w,_),J=uO(M,w,_);return Jte(n,a,J),V.fold(()=>({coord:Ub(J.left,J.top),extra:U.none()}),ne=>({coord:ne.output,extra:ne.extra}))},tne=(n,a)=>{Qte(n,a)},hz=(n,a,f,g)=>oo(n,w=>{const _=w.sensor;return Gte(a,_,w.range.left,w.range.top,f,g)?U.some({output:Q7(w.output,a,f,g),extra:w.extra}):U.none()}),nne=(n,a,f,g,w)=>{const _=a.getSnapPoints(n);return hz(_,f,g,w).orThunk(()=>it(_,(J,ne)=>{const de=ne.sensor,ye=Kte(f,de,ne.range.left,ne.range.top,g,w);return J.deltas.fold(()=>({deltas:U.some(ye),snap:U.some(ne)}),Ne=>{const Pe=(ye.left+ye.top)/2,rt=(Ne.left+Ne.top)/2;return Pe<=rt?{deltas:U.some(ye),snap:U.some(ne)}:J})},{deltas:U.none(),snap:U.none()}).snap.map(J=>({output:Q7(J.output,f,g,w),extra:J.extra})))},one=(n,a,f,g,w)=>{const _=a.getSnapPoints(n);return hz(_,f,g,w)},eB=(n,a,f)=>({coord:Q7(n.output,n.output,a,f),extra:n.extra});var sne=Object.freeze({__proto__:null,snapTo:(n,a,f,g)=>{const w=a.getTarget(n.element);if(a.repositionTarget){const _=Ws(n.element),M=Zc(_),V=dH(w),J=eB(g,M,V),ne=uz(J.coord,M,V);cs(w,ne)}}});const tB="data-initial-z-index",ine=n=>{mi(n.element).filter(Or).each(a=>{pe(a,tB).fold(()=>rr(a,"z-index"),f=>Wn(a,"z-index",f)),et(a,tB)})},ane=n=>{mi(n.element).filter(Or).each(a=>{ps(a,"z-index").each(f=>{Fn(a,tB,f)}),Wn(a,"z-index",nn(n.element,"z-index"))})},pz=(n,a)=>{n.getSystem().addToGui(a),ane(a)},lne=n=>{ine(n),n.getSystem().removeFromGui(n)},gz=(n,a,f)=>n.getSystem().build(Om.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[a]},events:f}));var cne=lc("snaps",[ln("getSnapPoints"),qr("onSensor"),ln("leftAttr"),ln("topAttr"),$t("lazyViewport",Ha),$t("mustSnap",!1)]);const nB=[$t("useFixed",he),ln("blockerClass"),$t("getTarget",oe),$t("onDrag",P),$t("repositionTarget",!0),$t("onDrop",P),ma("getBounds",Ha),cne],une=n=>Jo(ps(n,"left"),ps(n,"top"),ps(n,"position"),(a,f,g)=>(g==="fixed"?Ub:Vb)(parseInt(a,10),parseInt(f,10))).getOrThunk(()=>{const a=Xr(n);return Cv(a.left,a.top)}),fne=(n,a,f,g,w)=>{const _=w.bounds,M=ww(a,f,g),V=tu(M.left,_.x,_.x+_.width-w.width),J=tu(M.top,_.y,_.y+_.height-w.height),ne=Cv(V,J);return a.fold(()=>{const de=cz(ne,f,g);return Vb(de.left,de.top)},j(ne),()=>{const de=uO(ne,f,g);return Ub(de.left,de.top)})},dne=(n,a,f,g,w,_,M)=>{const V=a.fold(()=>{const J=Yte(f,_.left,_.top),ne=uO(J,g,w);return Ub(ne.left,ne.top)},J=>{const ne=ene(n,J,f,_,g,w);return ne.extra.each(de=>{J.onSensor(n,de)}),ne.coord});return fne(n,V,g,w,M)},hne=(n,a,f,g)=>{const w=a.getTarget(n.element);if(a.repositionTarget){const _=Ws(n.element),M=Zc(_),V=dH(w),J=une(w),ne=dne(n,a.snaps,J,M,V,g,f),de=uz(ne,M,V);cs(w,de)}a.onDrag(n,w,g)},mz=(n,a)=>({bounds:n.getBounds(),height:ro(a.element),width:_s(a.element)}),oB=(n,a,f,g,w)=>{const _=f.update(g,w),M=f.getStartData().getOrThunk(()=>mz(a,n));_.each(V=>{hne(n,a,M,V)})},vz=(n,a,f,g)=>{a.each(lne),f.snaps.each(_=>{tne(n,_)});const w=f.getTarget(n.element);g.reset(),f.onDrop(n,w)},rB=n=>(a,f)=>{const g=w=>{f.setStartData(mz(a,w))};return Dr([on(ZC(),w=>{f.getStartData().each(()=>g(w))}),...n(a,f,g)])},pne=n=>Dr([on(tl(),n.forceDrop),on(Ty(),n.drop),on(Xc(),(a,f)=>{n.move(f.event)}),on(Yf(),n.delayDrop)]);var bz=Object.freeze({__proto__:null,getData:n=>U.from(Er(n.x,n.y)),getDelta:(n,a)=>Er(a.left-n.left,a.top-n.top)});const Sv=(n,a,f)=>[on(tl(),(g,w)=>{if(w.event.raw.button!==0)return;w.stop();const M=()=>vz(g,U.some(ne),n,a),V=qM(M,200),J={drop:M,delayDrop:V.schedule,forceDrop:M,move:ye=>{V.cancel(),oB(g,n,a,bz,ye)}},ne=gz(g,n.blockerClass,pne(J));(()=>{f(g),pz(g,ne)})()})],gne=[...nB,ti("dragger",{handlers:rB(Sv)})],sB=n=>Dr([on(As(),n.forceDrop),on(wi(),n.drop),on(Ng(),n.drop),on(za(),(a,f)=>{n.move(f.event)})]),fO=n=>{const a=n[0];return U.some(Er(a.clientX,a.clientY))};var yz=Object.freeze({__proto__:null,getData:n=>{const f=n.raw.touches;return f.length===1?fO(f):U.none()},getDelta:(n,a)=>Er(a.left-n.left,a.top-n.top)});const wz=(n,a,f)=>{const g=ki(),w=_=>{vz(_,g.get(),n,a),g.clear()};return[on(As(),(_,M)=>{M.stop();const V=()=>w(_),J={drop:V,delayDrop:P,forceDrop:V,move:ye=>{oB(_,n,a,yz,ye)}},ne=gz(_,n.blockerClass,sB(J));g.set(ne),(()=>{f(_),pz(_,ne)})()}),on(za(),(_,M)=>{M.stop(),oB(_,n,a,yz,M.event)}),on(wi(),(_,M)=>{M.stop(),w(_)}),on(Ng(),w)]},mne=[...nB,ti("dragger",{handlers:rB(wz)})],Wb=(n,a,f)=>[...Sv(n,a,f),...wz(n,a,f)],Cz=[...nB,ti("dragger",{handlers:rB(Wb)})];var vne=Object.freeze({__proto__:null,mouse:gne,touch:mne,mouseOrTouch:Cz}),bne=Object.freeze({__proto__:null,init:()=>{let n=U.none(),a=U.none();const f=()=>{n=U.none(),a=U.none()},g=(J,ne)=>{const de=n.map(ye=>J.getDelta(ye,ne));return n=U.some(ne),de},w=(J,ne)=>J.getData(ne).bind(de=>g(J,de)),_=J=>{a=U.some(J)},M=()=>a,V=j({});return bu({readState:V,reset:f,update:w,getStartData:M,setStartData:_})}});const qb=z3({branchKey:"mode",branches:vne,name:"dragging",active:{events:(n,a)=>n.dragger.handlers(n,a)},extra:{snap:n=>({sensor:n.sensor,range:n.range,output:n.output,extra:U.from(n.extra)})},state:bne,apis:sne}),iB=40,Cw=iB/2,Sw=(n,a,f,g,w,_)=>n.fold(()=>qb.snap({sensor:Cv(f-Cw,g-Cw),range:Er(w,_),output:Cv(U.some(f),U.some(g)),extra:{td:a}}),M=>{const V=f-Cw,J=g-Cw,ne=iB,de=iB,ye=M.element.dom.getBoundingClientRect();return qb.snap({sensor:Cv(V,J),range:Er(ne,de),output:Cv(U.some(f-ye.width/2),U.some(g-ye.height/2)),extra:{td:a}})}),dO=(n,a,f)=>{const g=(w,_)=>w.exists(M=>Cr(M,_));return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(w,_)=>{const M=_.td;g(a.get(),M)||(a.set(M),f(M))},mustSnap:!0}},$E=n=>oi(ou.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Mn([qb.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),iw.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),Zb=(n,a)=>{const f=$e([]),g=$e([]),w=$e(!1),_=ki(),M=ki(),V=so=>{const Io=ni(so);return Sw(Pe.getOpt(a),so,Io.x,Io.y,Io.width,Io.height)},J=()=>me(f.get(),so=>V(so)),ne=so=>{const Io=ni(so);return Sw(rt.getOpt(a),so,Io.right,Io.bottom,Io.width,Io.height)},de=()=>me(g.get(),so=>ne(so)),ye=dO(J,_,so=>{M.get().each(Io=>{n.dispatch("TableSelectorChange",{start:so,finish:Io})})}),Ne=dO(de,M,so=>{_.get().each(Io=>{n.dispatch("TableSelectorChange",{start:Io,finish:so})})}),Pe=$E(ye),rt=$E(Ne),bt=uc(Pe.asSpec()),Mt=uc(rt.asSpec()),kt=(so,Io,Vo,Ir)=>{const os=Io.dom.getBoundingClientRect();rr(so.element,"display");const Po=Aa(dn.fromDom(n.getBody())).dom.innerHeight,rs=Vo(os),fs=Ir(os,Po);(rs||fs)&&Wn(so.element,"display","none")},Lt=(so,Io,Vo,Ir)=>{const os=Vo(Io);qb.snapTo(so,os),kt(so,Io,fs=>fs[Ir]<0,(fs,ss)=>fs[Ir]>ss)},Zn=so=>Lt(bt,so,V,"top"),Xt=()=>_.get().each(Zn),Qn=so=>Lt(Mt,so,ne,"bottom"),ho=()=>M.get().each(Qn);Nl().deviceType.isTouch()&&(n.on("TableSelectionChange",so=>{w.get()||(Hp(a,bt),Hp(a,Mt),w.set(!0)),_.set(so.start),M.set(so.finish),so.otherCells.each(Io=>{f.set(Io.upOrLeftCells),g.set(Io.downOrRightCells),Zn(so.start),Qn(so.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",()=>{Xt(),ho()}),n.on("TableSelectionClear",()=>{w.get()&&(zl(bt),zl(Mt),w.set(!1)),_.clear(),M.clear()}))};var hO=`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`;const yne=n=>n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark",Sz=(n,a,f)=>{var g;const w=(g=a.delimiter)!==null&&g!==void 0?g:"\u203A",_=(ne,de,ye)=>ou.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":ye,"aria-level":ye+1}},components:[Xi(ne)],action:Ne=>{n.focus(),n.selection.select(de),n.nodeChanged()},buttonBehaviours:Mn([Xu.button(f.isDisabled),Wa()])}),M=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Xi(` ${w} `)]}),V=ne=>it(ne,(de,ye,Ne)=>{const Pe=_(ye.name,ye.element,Ne);return Ne===0?de.concat([Pe]):de.concat([M(),Pe])},[]),J=ne=>{const de=[];let ye=ne.length;for(;ye-- >0;){const Ne=ne[ye];if(Ne.nodeType===1&&!yne(Ne)){const Pe=v6(n,Ne);if(Pe.isDefaultPrevented()||de.push({name:Pe.name,element:Ne}),Pe.isPropagationStopped())break}}return de};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Mn([No.config({mode:"flow",selector:"div[role=button]"}),Bo.config({disabled:f.isDisabled}),Wa(),la.config({}),kr.config({}),Mr("elementPathEvents",[Yi((ne,de)=>{n.shortcuts.add("alt+F11","focus statusbar elementpath",()=>No.focusIn(ne)),n.on("NodeChange",ye=>{const Ne=J(ye.parents),Pe=Ne.length>0?V(Ne):[];kr.set(ne,Pe)})})])]),components:[]}};var xv;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(xv||(xv={}));const xz=(n,a,f,g,w)=>{const _={height:QT(g+a.top,xm(n),ND(n))};return f===xv.Both&&(_.width=QT(w+a.left,Nx(n),pA(n))),_},Ez=(n,a,f)=>{const g=dn.fromDom(n.getContainer()),w=xz(n,a,f,Vt(g),qs(g));sn(w,(_,M)=>{D(_)&&Wn(g,M,JT(_))}),ew(n)},wne=n=>{const a=r9(n);return a===!1?xv.None:a==="both"?xv.Both:xv.Vertical},pO=(n,a,f,g)=>{const _=Er(f*20,g*20);return Ez(n,_,a),U.some(!0)},kz=(n,a)=>{const f=wne(n);return f===xv.None?U.none():U.some(Fh("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:a.translate("Resize")},behaviours:[qb.config({mode:"mouse",repositionTarget:!1,onDrag:(g,w,_)=>Ez(n,_,f),blockerClass:"tox-blocker"}),No.config({mode:"special",onLeft:()=>pO(n,f,-1,0),onRight:()=>pO(n,f,1,0),onUp:()=>pO(n,f,0,-1),onDown:()=>pO(n,f,0,1)}),la.config({}),qo.config({})]},a.icons))},Az=(n,a)=>{const f=(g,w,_)=>kr.set(g,[Xi(a.translate(["{0} "+_,w[_]]))]);return ou.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Mn([Xu.button(a.isDisabled),Wa(),la.config({}),kr.config({}),qn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Mr("wordcount-events",[wh(g=>{const w=qn.getValue(g),_=w.mode==="words"?"characters":"words";qn.setValue(g,{mode:_,count:w.count}),f(g,w.count,_)}),Yi(g=>{n.on("wordCountUpdate",w=>{const{mode:_}=qn.getValue(g);qn.setValue(g,{mode:_,count:w.wordCount}),f(g,w.wordCount,_)})})])]),eventOrder:{[mu()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},aB=(n,a)=>{const f=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Hd.translate(["Powered by {0}","Tiny"])},innerHtml:hO.trim()},behaviours:Mn([qo.config({})])}]}),g=()=>{const _=[];return n9(n)&&_.push(Sz(n,{},a)),n.hasPlugin("wordcount")&&_.push(Az(n,a)),o9(n)&&_.push(f()),_.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:_}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const _=g(),M=kz(n,a);return _.concat(M.toArray())})()}},Tz=n=>n.get().getOrDie("UI has not been rendered"),Cne=n=>{const a=n.inline,f=a?Jee:_j,g=vb(n)?fQ:JJ,w=ki(),_=ki(),M=ki(),V=ki(),ye=Nl().deviceType.isTouch()?["tox-platform-touch"]:[],Ne=ID(n),Pe=mb(n),rt=oi({dom:{tag:"div",classes:["tox-anchorbar"]}}),bt=()=>_.get().bind(ji.getHeader),Mt=()=>er.fromOption(w.get(),"UI has not been rendered"),kt=()=>_.get().bind(ss=>rt.getOpt(ss)).getOrDie("Could not find a anchor bar element"),Lt=()=>_.get().bind(ss=>ji.getToolbar(ss)).getOrDie("Could not find more toolbar element"),Zn=()=>_.get().bind(ss=>ji.getThrobber(ss)).getOrDie("Could not find throbber element"),Xt=qJ(Mt,n,kt),Qn=()=>{const ss={attributes:{[Bh]:Ne?Dh.BottomToTop:Dh.TopToBottom}},Ln=ji.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Xt,onEscape:()=>{n.focus()}}),co=ji.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Mt,providers:Xt.shared.providers,onEscape:()=>{n.focus()},type:Pe,lazyToolbar:Lt,lazyHeader:()=>bt().getOrDie("Could not find header element"),...ss}),nr=ji.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Xt.shared.providers,onEscape:()=>{n.focus()},type:Pe}),Lr=Px(n),zs=yA(n),Ui=q2(n),Pc=a9(n),iu=ho(),Xb=()=>Lr?[nr]:zs?[co]:[],xO=Pc?[iu,Ln]:[Ln];return ji.parts.header({dom:{tag:"div",classes:["tox-editor-header"],...ss},components:Oe([Ui?xO:[],Xb(),Fx(n)?[]:[rt.asSpec()]]),sticky:vb(n),editor:n,sharedBackstage:Xt.shared})},ho=()=>ji.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),so=()=>{const ss=ji.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ln=ji.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ss,Ln]}},Io=()=>{const ss=LD(n),Ln=Cr(Ke(),ss)&&nn(ss,"display")==="grid",co={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(ye),attributes:{...Hd.isRtl()?{dir:"rtl"}:{}}},behaviours:Mn([pc.config({useFixed:()=>g.isDocked(bt)})])},nr={dom:{styles:{width:document.body.clientWidth+"px"}},events:Dr([on(f0(),Ui=>{Wn(Ui.element,"width",document.body.clientWidth+"px")})])},Lr=uc(Zs(co,Ln?nr:{})),zs=XM(Lr);return w.set(Lr),V.set(zs),{sink:Lr,uiMothership:zs}},Vo=()=>{const ss=Qn(),Ln=so(),co=ji.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Xt}),nr=t9(n)&&!a?U.some(aB(n,Xt.shared.providers)):U.none(),Lr=Oe([Ne?[]:[ss],a?[]:[Ln],Ne?[ss]:[]]),Ui=Oe([[{dom:{tag:"div",classes:["tox-editor-container"]},components:Lr}],a?[]:nr.toArray(),[co]]),Pc=HD(n),iu={role:"application",...Hd.isRtl()?{dir:"rtl"}:{},...Pc?{"aria-hidden":"true"}:{}},Xb=uc(ji.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(a?["tox-tinymce-inline"]:[]).concat(Ne?["tox-tinymce--toolbar-bottom"]:[]).concat(ye),styles:{visibility:"hidden",...Pc?{opacity:"0",border:"0"}:{}},attributes:iu},components:Ui,behaviours:Mn([Wa(),Bo.config({disableClass:"tox-tinymce--disabled"}),No.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),xO=XM(Xb);return _.set(Xb),M.set(xO),{mothership:xO,outerContainer:Xb}},Ir=ss=>{const Ln=JT(Kee(n)),co=JT(Yee(n));return n.inline||(Dl("div","width",co)&&Wn(ss.element,"width",co),Dl("div","height",Ln)?Wn(ss.element,"height",Ln):Wn(ss.element,"height","400px")),Ln},os=ss=>{n.addShortcut("alt+F9","focus menubar",()=>{ji.focusMenubar(ss)}),n.addShortcut("alt+F10","focus toolbar",()=>{ji.focusToolbar(ss)}),n.addCommand("ToggleToolbarDrawer",()=>{ji.toggleToolbarDrawer(ss)}),n.addQueryStateHandler("ToggleToolbarDrawer",()=>ji.isToolbarDrawerToggled(ss))};return{getMothership:()=>Tz(M),getUiMothership:()=>Tz(V),backstage:Xt,renderUI:()=>{const{mothership:ss,outerContainer:Ln}=Vo(),{uiMothership:co,sink:nr}=Io();kn(mA(n),(FTe,RTe)=>{n.ui.registry.addGroupToolbarButton(RTe,FTe)});const{buttons:Lr,menuItems:zs,contextToolbars:Ui,sidebars:Pc}=n.ui.registry.getAll(),iu=wA(n),Xb={menuItems:zs,menus:f9(n),menubar:vA(n),toolbar:iu.getOrThunk(()=>W2(n)),allowToolbarGroups:Pe===cd.floating,buttons:Lr,sidebar:Pc};os(Ln),iH(n,ss,co),g.setup(n,Xt.shared,bt),Ote(n,Xt),Zte(n,Mt,Xt),$Q(n),HQ(n,Zn,Xt.shared),lte(n,Ui,nr,{backstage:Xt}),Zb(n,nr);const xO=n.getElement(),BTe=Ir(Ln),NTe={mothership:ss,uiMothership:co,outerContainer:Ln,sink:nr},PTe={targetNode:xO,height:BTe};return f.render(n,NTe,Xb,Xt,PTe)}}},Sne=(n,a)=>{const f=U.from(Ro(n,"id")).fold(()=>{const g=fo("dialog-describe");return Fn(a,"id",g),g},oe);Fn(n,"aria-describedby",f)},Oz=(n,a)=>{const f=pe(n,"id").fold(()=>{const g=fo("dialog-label");return Fn(a,"id",g),g},oe);Fn(n,"aria-labelledby",f)},xne=j([ln("lazySink"),Kr("dragBlockClass"),ma("getBounds",Ha),$t("useTabstopAt",ve),$t("eventOrder",{}),wa("modalBehaviours",[No]),eu("onExecute"),Zy("onEscape")]),lB={sketch:oe},Ene=j([qu({name:"draghandle",overrides:(n,a)=>({behaviours:Mn([qb.config({mode:"mouse",getTarget:f=>E0(f,'[role="dialog"]').getOr(f),blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(a,null,2)).message),getBounds:n.getDragBounds})])})}),Vl({schema:[ln("dom")],name:"title"}),Vl({factory:lB,schema:[ln("dom")],name:"close"}),Vl({factory:lB,schema:[ln("dom")],name:"body"}),qu({factory:lB,schema:[ln("dom")],name:"footer"}),Tf({factory:{sketch:(n,a)=>({...n,dom:a.dom,components:a.components})},schema:[$t("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),$t("components",[])],name:"blocker"})]),cB=(n,a,f,g)=>{const w=ki(),_=Pe=>{w.set(Pe);const rt=n.lazySink(Pe).getOrDie(),bt=g.blocker(),Mt=rt.getSystem().build({...bt,components:bt.components.concat([Vu(Pe)]),behaviours:Mn([qo.config({}),Mr("dialog-blocker-events",[Jc(_p(),()=>{No.focusIn(Pe)})])])});Hp(rt,Mt),No.focusIn(Pe)},M=Pe=>{w.clear(),mi(Pe.element).each(rt=>{Pe.getSystem().getByDom(rt).each(bt=>{zl(bt)})})},V=Pe=>rd(Pe,n,"body"),J=Pe=>rd(Pe,n,"footer"),ne=(Pe,rt)=>{Gd.block(Pe,rt)},de=Pe=>{Gd.unblock(Pe)},ye=fo("modal-events"),Ne={...n.eventOrder,[bh()]:[ye].concat(n.eventOrder["alloy.system.attached"]||[])};return{uid:n.uid,dom:n.dom,components:a,apis:{show:_,hide:M,getBody:V,getFooter:J,setIdle:de,setBusy:ne},eventOrder:Ne,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:il(n.modalBehaviours,[kr.config({}),No.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),Gd.config({getRoot:w.get}),Mr(ye,[Yi(Pe=>{Oz(Pe.element,rd(Pe,n,"title").element),Sne(Pe.element,rd(Pe,n,"body").element)})])])}},Ca=mc({name:"ModalDialog",configFields:xne(),partFields:Ene(),factory:cB,apis:{show:(n,a)=>{n.show(a)},hide:(n,a)=>{n.hide(a)},getBody:(n,a)=>n.getBody(a),getFooter:(n,a)=>n.getFooter(a),setBusy:(n,a,f)=>{n.setBusy(a,f)},setIdle:(n,a)=>{n.setIdle(a)}}}),kne=Oo([ta,Ix].concat(ku)),_z=Lu,$z=[Sb("button"),Mh,Gf("align","end",["start","end"]),jx,zd,ph("buttonType",["primary","secondary"])],Dz=[...$z,km],gO=[Tp("type",["submit","cancel","custom"]),...Dz],Ane=[Tp("type",["menu"]),Am,Lx,Mh,Fl("items",kne),...$z],Tne=Kc("type",{submit:gO,cancel:gO,custom:gO,menu:Ane}),Gb=[ta,km,Tp("level",["info","warn","error","success"]),A9,$t("url","")],Bz=Oo(Gb),One=n=>[ta,n],mO=[ta,km,zd,Sb("button"),Mh,BG,ph("buttonType",["primary","secondary","toolbar"]),jx],xw=Oo(mO),Fm=[ta,Ix],Yd=Fm.concat([NA]),vO=Fm.concat([BA,zd]),Tu=Oo(vO),bO=Lu,Nz=Yd.concat([t6("auto")]),Pz=Oo(Nz),_ne=$g([yb,km,A9]),Ev=Oo(Yd),Gpe=Di,Fz=Oo(Yd),Ew=Di,yO=Fm.concat([_c("tag","textarea"),Zi("scriptId"),Zi("scriptUrl"),W("settings",void 0)]),Rz=Fm.concat([_c("tag","textarea"),yf("init")]),$ne=Ap(n=>jr("customeditor.old",ac(Rz),n).orThunk(()=>jr("customeditor.new",ac(yO),n))),Dne=Di,Bne=Oo(Yd),kw=uh(),Xpe=n=>[ta,Hu("columns"),n],Nne=[ta,Zi("html"),Gf("presets","presentation",["presentation","document"])],Pne=Oo(Nne),Jpe=Yd.concat([$c("sandboxed",!0),$c("transparent",!0)]),Fne=Oo(Jpe),Rne=Di,DE=Oo(Fm.concat([Rl("height")])),Mne=Oo([Zi("url"),hh("zoom"),hh("cachedWidth"),hh("cachedHeight")]),Ine=Yd.concat([Rl("inputMode"),Rl("placeholder"),$c("maximized",!1),zd]),Mz=Oo(Ine),Lne=Di,Qpe=n=>[ta,BA,n],t=[km,yb],r=[km,Fl("items",Ay("items",()=>i))],i=_g([Oo(t),Oo(r)]),u=Yd.concat([Fl("items",i),zd]),h=Oo(u),y=Di,A=Yd.concat([h1("items",[km,yb]),s0("size",1),zd]),R=Oo(A),H=Di,Y=Yd.concat([$c("constrain",!0),zd]),ge=Oo(Y),Te=Oo([Zi("width"),Zi("height")]),Ae=Fm.concat([BA,s0("min",0),s0("max",0)]),nt=Oo(Ae),st=Dg,Ge=[ta,Fl("header",Di),Fl("cells",ia(Di))],ct=Oo(Ge),ht=Yd.concat([Rl("placeholder"),$c("maximized",!1),zd]),Et=Oo(ht),Dt=Di,Jt=Yd.concat([Gf("filetype","file",["image","media","file"]),zd]),an=Oo(Jt),Bn=Oo([yb,PA]),un=n=>ja("items","items",el(),ia(Ap(a=>jr(`Checking item of ${n}`,Wt,a).fold(f=>er.error(Td(f)),f=>er.value(f))))),Wt=gu(()=>Ad("type",{alertbanner:Bz,bar:Oo(One(un("bar"))),button:xw,checkbox:Tu,colorinput:Ev,colorpicker:Fz,dropzone:Bne,grid:Oo(Xpe(un("grid"))),iframe:Fne,input:Mz,listbox:h,selectbox:R,sizeinput:ge,slider:nt,textarea:Et,urlinput:an,customeditor:$ne,htmlpanel:Pne,imagepreview:DE,collection:Pz,label:Oo(Qpe(un("label"))),table:ct,panel:Nn})),Kt=[ta,$t("classes",[]),Fl("items",Wt)],Nn=Oo(Kt),vo=[Sb("tab"),k9,Fl("items",Wt)],Ao=[ta,h1("tabs",vo)],ir=Oo(Ao),Zr=Dz,bs=Tne,Ys=Oo([Zi("title"),_a("body",Ad("type",{panel:Nn,tabpanel:ir})),_c("size","normal"),Fl("buttons",bs),$t("initialData",{}),ma("onAction",P),ma("onChange",P),ma("onSubmit",P),ma("onClose",P),ma("onCancel",P),ma("onTabChange",P)]),xl=n=>jr("dialog",Ys,n),On=Oo([Tp("type",["cancel","custom"]),...Zr]),dr=Oo([Zi("title"),Zi("url"),hh("height"),hh("width"),Op("buttons",On),ma("onAction",P),ma("onCancel",P),ma("onClose",P),ma("onMessage",P)]),Nr=n=>jr("dialog",dr,n),Yo=n=>b(n)?[n].concat(be(xn(n),Yo)):x(n)?be(n,Yo):[],ca=n=>v(n.type)&&v(n.name),ao={checkbox:bO,colorinput:Gpe,colorpicker:Ew,dropzone:kw,input:Lne,iframe:Rne,imagepreview:Mne,selectbox:H,sizeinput:Te,slider:st,listbox:y,size:Te,textarea:Dt,urlinput:Bn,customeditor:Dne,collection:_ne,togglemenuitem:_z},Xo=n=>U.from(ao[n.type]),jo=n=>tt(Yo(n),ca),Vn=n=>{const a=jo(n),f=be(a,g=>Xo(g).fold(()=>[],w=>[_a(g.name,w)]));return Oo(f)},Pr=n=>{var a;const f=bf(xl(n)),g=Vn(n),w=(a=n.initialData)!==null&&a!==void 0?a:{};return{internalDialog:f,dataValidator:g,initialData:w}},gr={open:(n,a)=>{const f=Pr(a);return n(f.internalDialog,f.initialData,f.dataValidator)},openUrl:(n,a)=>{const f=bf(Nr(a));return n(f)},redial:n=>Pr(n)},Go=n=>{const a=[],f={};return sn(n,(g,w)=>{g.fold(()=>{a.push(w)},_=>{f[w]=_})}),a.length>0?er.error(a):er.value(f)},tr=(n,a,f)=>{const g=oi(fw.sketch(w=>({dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:me(n.items,_=>M8(w,_,a,f))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[g.asSpec()]}],behaviours:Mn([No.config({mode:"acyclic",useTabstopAt:Q(lE)}),dd.memento(g),hd.memento(g,{postprocess:w=>Go(w).fold(_=>(console.error(_),{}),oe)})])}},Fs=(n,a)=>({uid:n.uid,dom:n.dom,components:n.components,events:lA(n.action),behaviours:il(n.tabButtonBehaviours,[qo.config({}),No.config({mode:"execution",useSpace:!0,useEnter:!0}),qn.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}),js=Zu({name:"TabButton",configFields:[$t("uid",void 0),ln("value"),ja("dom","dom",xp(()=>({attributes:{role:"tab",id:fo("aria"),"aria-selected":"false"}})),Gc()),Kr("action"),$t("domModification",{}),wa("tabButtonBehaviours",[qo,No,qn]),ln("view")],factory:Fs}),Za=j([ln("tabs"),ln("dom"),$t("clickToDismiss",!1),wa("tabbarBehaviours",[us,No]),Zg(["tabClass","selectedClass"])]),Ni=Q1({factory:js,name:"tabs",unit:"tab",overrides:n=>{const a=(g,w)=>{us.dehighlight(g,w),Ho(g,r3(),{tabbar:g,button:w})},f=(g,w)=>{us.highlight(g,w),Ho(g,Ny(),{tabbar:g,button:w})};return{action:g=>{const w=g.getSystem().getByUid(n.uid).getOrDie(),_=us.isHighlighted(w,g);(()=>_&&n.clickToDismiss?a:_?P:f)()(w,g)},domModification:{classes:[n.markers.tabClass]}}}}),Ai=j([Ni]),Na=(n,a,f,g)=>({uid:n.uid,dom:n.dom,components:a,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:il(n.tabbarBehaviours,[us.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:(w,_)=>{Fn(_.element,"aria-selected","true")},onDehighlight:(w,_)=>{Fn(_.element,"aria-selected","false")}}),No.config({mode:"flow",getInitial:w=>us.getHighlighted(w).map(_=>_.element),selector:"."+n.markers.tabClass,executeOnMove:!0})])}),Wl=mc({name:"Tabbar",configFields:Za(),partFields:Ai(),factory:Na}),Ga=(n,a)=>({uid:n.uid,dom:n.dom,behaviours:il(n.tabviewBehaviours,[kr.config({})]),domModification:{attributes:{role:"tabpanel"}}}),Zh=Zu({name:"Tabview",configFields:[wa("tabviewBehaviours",[kr])],factory:Ga}),md=j([$t("selectFirst",!0),qr("onChangeTab"),qr("onDismissTab"),$t("tabs",[]),wa("tabSectionBehaviours",[])]),Gh=Vl({factory:Wl,schema:[ln("dom"),Oc("markers",[ln("tabClass"),ln("selectedClass")])],name:"tabbar",defaults:n=>({tabs:n.tabs})}),Kh=Vl({factory:Zh,name:"tabview"}),Yh=j([Gh,Kh]),Xh=(n,a,f,g)=>{const w=M=>{const V=qn.getValue(M);Gs(M,n,"tabview").each(J=>{Re(n.tabs,de=>de.value===V).each(de=>{const ye=de.view();pe(M.element,"id").each(Ne=>{Fn(J.element,"aria-labelledby",Ne)}),kr.set(J,ye),n.onChangeTab(J,M,ye)})})},_=(M,V)=>{Gs(M,n,"tabbar").each(J=>{V(J).each(vu)})};return{uid:n.uid,dom:n.dom,components:a,behaviours:X1(n.tabSectionBehaviours),events:Dr(Oe([n.selectFirst?[Yi((M,V)=>{_(M,us.getFirst)})]:[],[on(Ny(),(M,V)=>{const J=V.event.button;w(J)}),on(r3(),(M,V)=>{const J=V.event.button;n.onDismissTab(M,J)})]])),apis:{getViewItems:M=>Gs(M,n,"tabview").map(V=>kr.contents(V)).getOr([]),showTab:(M,V)=>{_(M,ne=>{const de=us.getCandidates(ne);return Re(de,Ne=>qn.getValue(Ne)===V).filter(Ne=>!us.isHighlighted(ne,Ne))})}}}},zi=mc({name:"TabSection",configFields:md(),partFields:Yh(),factory:Xh,apis:{getViewItems:(n,a)=>n.getViewItems(a),showTab:(n,a,f)=>{n.showTab(a,f)}}}),vd=(n,a,f)=>me(n,(g,w)=>{kr.set(f,n[w].view());const _=a.dom.getBoundingClientRect();return kr.set(f,[]),_.height}),Jh=n=>Kn(qt(n,(a,f)=>a>f?-1:a<f?1:0)),Kb=(n,a,f)=>{const g=Oi(n).dom,w=E0(n,".tox-dialog-wrap").getOr(n),_=nn(w,"position")==="fixed";let M;_?M=Math.max(g.clientHeight,window.innerHeight):M=Math.max(g.offsetHeight,g.scrollHeight);const V=Vt(a),ne=a.dom.offsetLeft>=f.dom.offsetLeft+qs(f)?Math.max(Vt(f),V):V,de=parseInt(nn(n,"margin-top"),10)||0,ye=parseInt(nn(n,"margin-bottom"),10)||0,Pe=Vt(n)+de+ye-ne;return M-Pe},Xd=(n,a)=>{Kn(n).each(f=>zi.showTab(a,f.value))},nf=(n,a)=>{Wn(n,"height",a+"px"),Wn(n,"flex-basis",a+"px")},oc=(n,a,f)=>{E0(n,'[role="dialog"]').each(g=>{$a(g,'[role="tablist"]').each(w=>{f.get().map(_=>(Wn(a,"height","0"),Wn(a,"flex-basis","0"),Math.min(_,Kb(g,a,w)))).each(_=>{nf(a,_)})})})},Nf=n=>$a(n,'[role="tabpanel"]'),Pf=n=>{const a=ki();return{extraEvents:[Yi(w=>{const _=w.element;Nf(_).each(M=>{Wn(M,"visibility","hidden"),w.getSystem().getByDom(M).toOptional().each(V=>{const J=vd(n,M,V);Jh(J).fold(a.clear,a.set)}),oc(_,M,a),rr(M,"visibility"),Xd(n,w),requestAnimationFrame(()=>{oc(_,M,a)})})}),on(f0(),w=>{const _=w.element;Nf(_).each(M=>{oc(_,M,a)})}),on(z6,(w,_)=>{const M=w.element;Nf(M).each(V=>{const J=dc(or(V));Wn(V,"visibility","hidden");const ne=ps(V,"height").map(Ne=>parseInt(Ne,10));rr(V,"height"),rr(V,"flex-basis");const de=V.dom.getBoundingClientRect().height;ne.forall(Ne=>de>Ne)?(a.set(de),oc(M,V,a)):ne.each(Ne=>{nf(V,Ne)}),rr(V,"visibility"),J.each(_h)})})],selectFirst:!1}},kv="send-data-to-section",BE="send-data-to-view",Rm=(n,a,f)=>{const g=$e({}),w=ne=>{const de=qn.getValue(ne),ye=Go(de).getOr({}),Ne=g.get(),Pe=Zs(Ne,ye);g.set(Pe)},_=ne=>{const de=g.get();qn.setValue(ne,de)},M=$e(null),V=me(n.tabs,ne=>({value:ne.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Xi(f.shared.providers.translate(ne.title))],view:()=>[fw.sketch(de=>({dom:{tag:"div",classes:["tox-form"]},components:me(ne.items,ye=>M8(de,ye,a,f)),formBehaviours:Mn([No.config({mode:"acyclic",useTabstopAt:Q(lE)}),Mr("TabView.form.events",[Yi(_),Jf(w)]),Ef.config({channels:Ps([{key:kv,value:{onReceive:w}},{key:BE,value:{onReceive:_}}])})])}))]})),J=Pf(V);return zi.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(ne,de,ye)=>{const Ne=qn.getValue(de);Ho(ne,j6,{name:Ne,oldName:M.get()}),M.set(Ne)},tabs:V,components:[zi.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Wl.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Mn([la.config({})])}),zi.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:J.selectFirst,tabSectionBehaviours:Mn([Mr("tabpanel",J.extraEvents),No.config({mode:"acyclic"}),Ur.config({find:ne=>Kn(zi.getViewItems(ne))}),hd.withComp(U.none(),ne=>(ne.getSystem().broadcastOn([kv],{}),g.get()),(ne,de)=>{g.set(de),ne.getSystem().broadcastOn([BE],{})})])})},ng=fo("update-dialog"),NE=fo("update-title"),wO=fo("update-body"),PE=fo("update-footer"),CO=fo("body-send-message"),SO=(n,a,f,g,w)=>{const _=J=>{const ne=J.body;switch(ne.type){case"tabpanel":return[Rm(ne,J.initialData,g)];default:return[tr(ne,J.initialData,g)]}},M=(J,ne)=>U.some({isTabPanel:()=>ne.body.type==="tabpanel"}),V={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...f.map(J=>({id:J})).getOr({}),...w?V:{}}},components:[],behaviours:Mn([dd.childAt(0),tf.config({channel:`${wO}-${a}`,updateState:M,renderComponents:_,initialData:n})])}},Av=(n,a,f,g,w)=>SO(n,a,U.some(f),g,w),Yb=(n,a,f)=>{const g=SO(n,a,U.none(),f,!1);return Ca.parts.body(g)},Rt=n=>{const a={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[m8({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:Mn([la.config({}),qo.config({})])})]}],behaviours:Mn([No.config({mode:"acyclic",useTabstopAt:Q(lE)})])};return Ca.parts.body(a)},jt=V2.deviceType.isTouch(),Sn=(n,a)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,a]}),vn=(n,a)=>Ca.parts.close(ou.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close")}},action:n,buttonBehaviours:Mn([la.config({})])})),So=()=>Ca.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Gr=(n,a)=>Ca.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:yv(`<p>${a.translate(n)}</p>`)}]}]}),Ci=n=>Ca.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n}),Si=(n,a)=>[Om.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Om.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:a})],Ou=n=>{const a="tox-dialog",f=a+"-wrap",g=f+"__backdrop",w=a+"__disable-scroll";return Ca.sketch({lazySink:n.lazySink,onEscape:_=>(n.onEscape(_),U.some(!0)),useTabstopAt:_=>!lE(_),dom:{tag:"div",classes:[a].concat(n.extraClasses),styles:{position:"relative",...n.extraStyles}},components:[n.header,n.body,...n.footer.toArray()],parts:{blocker:{dom:yv(`<div class="${f}"></div>`),components:[{dom:{tag:"div",classes:jt?[g,g+"--opaque"]:[g]}}]}},dragBlockClass:f,modalBehaviours:Mn([qo.config({}),Mr("dialog-events",n.dialogEvents.concat([Jc(_p(),(_,M)=>{No.focusIn(_)})])),Mr("scroll-lock",[Yi(()=>{nl(Ke(),w)}),Jf(()=>{fi(Ke(),w)})]),...n.extraBehaviours]),eventOrder:{[mu()]:["dialog-events"],[bh()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Sf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...n.eventOrder}})},Aw=n=>ou.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[Fh("close",{tag:"div",classes:["tox-icon"]},n.icons)],action:a=>{ms(a,Tb)}}),uB=(n,a,f,g)=>{const w=_=>[Xi(g.translate(_.title))];return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...f.map(_=>({id:_})).getOr({})}},components:[],behaviours:Mn([tf.config({channel:`${NE}-${a}`,initialData:n,renderComponents:w})])}},fB=()=>({dom:yv('<div class="tox-dialog__draghandle"></div>')}),Iz=(n,a,f,g)=>Om.sketch({dom:yv('<div class="tox-dialog__header"></div>'),components:[uB(n,a,U.some(f),g),fB(),Aw(g)],containerBehaviours:Mn([qb.config({mode:"mouse",blockerClass:"blocker",getTarget:w=>ol(w,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),Hne=(n,a,f)=>{const g=Ca.parts.title(uB(n,a,U.none(),f)),w=Ca.parts.draghandle(fB()),_=Ca.parts.close(Aw(f)),M=[g].concat(n.draggable?[w]:[]).concat([_]);return Om.sketch({dom:yv('<div class="tox-dialog__header"></div>'),components:M})},Ar=(n,a,f)=>Hne({title:f.shared.providers.translate(n),draggable:f.dialog.isDraggableModal()},a,f.shared.providers),Ut=(n,a,f)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":f.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:a,components:[{dom:yv('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),lo=(n,a,f)=>({onClose:()=>f.closeWindow(),onBlock:g=>{Ca.setBusy(n(),(w,_)=>Ut(g.message,_,a))},onUnblock:()=>{Ca.setIdle(n())}}),Ko=(n,a,f,g)=>{const w=(_,M)=>U.some(M);return uc(Ou({...n,lazySink:g.shared.getSink,extraBehaviours:[tf.config({channel:`${ng}-${n.id}`,updateState:w,initialData:a}),hd.memory({}),...n.extraBehaviours],onEscape:_=>{ms(_,Tb)},dialogEvents:f,eventOrder:{[Xf()]:[tf.name(),Ef.name()],[bh()]:["scroll-lock",tf.name(),"messages","dialog-events","alloy.base.behaviour"],[Sf()]:["alloy.base.behaviour","dialog-events","messages",tf.name(),"scroll-lock"]}}))},Vi=n=>{const a=f=>{const g=me(f.items,w=>{const _=$e(!1);return{...w,storage:_}});return{...f,items:g}};return me(n,f=>f.type==="menu"?a(f):f)},of=n=>it(n,(a,f)=>f.type==="menu"?it(f.items,(w,_)=>(w[_.name]=_.storage,w),a):a,{}),su=(n,a)=>[w1(_p(),BX),n(oE,(f,g)=>{a.onClose(),g.onClose()}),n(Tb,(f,g,w,_)=>{g.onCancel(f),ms(_,oE)}),on(uv,(f,g)=>a.onUnblock()),on(rw,(f,g)=>a.onBlock(g.event))],bc={initUrlDialog:(n,a)=>{const f=(w,_)=>on(w,(M,V)=>{g(M,(J,ne)=>{_(n(),J,V.event,M)})}),g=(w,_)=>{tf.getState(w).get().each(M=>{_(M,w)})};return[...su(f,a),f(_m,(w,_,M)=>{_.onAction(w,{name:M.name})})]},initDialog:(n,a,f)=>{const g=(_,M)=>on(_,(V,J)=>{w(V,(ne,de)=>{M(n(),ne,J.event,V)})}),w=(_,M)=>{tf.getState(_).get().each(V=>{M(V.internalDialog,_)})};return[...su(g,a),g(ZA,(_,M)=>M.onSubmit(_)),g(Ju,(_,M,V)=>{M.onChange(_,{name:V.name})}),g(_m,(_,M,V,J)=>{const ne=()=>No.focusIn(J),de=Pe=>je(Pe,"disabled")||pe(Pe,"aria-disabled").exists(rt=>rt==="true"),ye=or(J.element),Ne=dc(ye);M.onAction(_,{name:V.name,value:V.value}),dc(ye).fold(ne,Pe=>{de(Pe)||Ne.exists(rt=>Ri(Pe,rt)&&de(rt))?ne():f().toOptional().filter(rt=>!Ri(rt.element,Pe)).each(ne)})}),g(j6,(_,M,V)=>{M.onTabChange(_,{newTabName:V.name,oldTabName:V.oldName})}),Jf(_=>{const M=n();qn.setValue(_,M.getData())})]}},Lz=(n,a)=>dE(n,n.type,a),jne=(n,a,f)=>Re(a,g=>g.name===f).bind(g=>g.memento.getOpt(n)),zne=(n,a)=>{const f=a.map(V=>V.footerButtons).getOr([]),g=We(f,V=>V.align==="start"),w=(V,J)=>Om.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${V}`]},components:me(J,ne=>ne.memento.asSpec())}),_=w("start",g.pass),M=w("end",g.fail);return[_,M]},Vne=(n,a,f)=>{const g=(w,_)=>{const M=me(_.buttons,J=>{const ne=oi(Lz(J,f));return{name:J.name,align:J.align,memento:ne}}),V=J=>jne(w,M,J);return U.some({lookupByName:V,footerButtons:M})};return{dom:yv('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Mn([tf.config({channel:`${PE}-${a}`,initialData:n,updateState:g,renderComponents:zne})])}},pTe=(n,a,f)=>Vne(n,a,f),ege=(n,a,f)=>Ca.parts.footer(Vne(n,a,f)),tge=(n,a)=>{if(n.getRoot().getSystem().isConnected()){const g=Ur.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return fw.getField(g,a).orThunk(()=>{const w=n.getFooter();return tf.getState(w).get().bind(M=>M.lookupByName(a))})}else return U.none()},gTe=(n,a)=>{const f=n.getRoot();return tf.getState(f).get().map(g=>bf(jr("data",g.dataValidator,a))).getOr(a)},nge=(n,a,f)=>{const g=rt=>{const bt=n.getRoot();bt.getSystem().isConnected()&&rt(bt)},Pe={getData:()=>{const rt=n.getRoot(),bt=rt.getSystem().isConnected()?n.getFormWrapper():rt,Mt=qn.getValue(bt),kt=kn(f,Lt=>Lt.get());return{...Mt,...kt}},setData:rt=>{g(bt=>{const Mt=Pe.getData(),kt=Zs(Mt,rt),Lt=gTe(n,kt),Zn=n.getFormWrapper();qn.setValue(Zn,Lt),sn(f,(Xt,Qn)=>{eo(kt,Qn)&&Xt.set(kt[Qn])})})},setEnabled:(rt,bt)=>{tge(n,rt).each(bt?Bo.enable:Bo.disable)},focus:rt=>{tge(n,rt).each(qo.focus)},block:rt=>{if(!v(rt))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");g(bt=>{Ho(bt,rw,{message:rt})})},unblock:()=>{g(rt=>{ms(rt,uv)})},showTab:rt=>{g(bt=>{const Mt=n.getBody();tf.getState(Mt).get().exists(Lt=>Lt.isTabPanel())&&Ur.getCurrent(Mt).each(Lt=>{zi.showTab(Lt,rt)})})},redial:rt=>{g(bt=>{const Mt=n.getId(),kt=a(rt);bt.getSystem().broadcastOn([`${ng}-${Mt}`],kt),bt.getSystem().broadcastOn([`${NE}-${Mt}`],kt.internalDialog),bt.getSystem().broadcastOn([`${wO}-${Mt}`],kt.internalDialog),bt.getSystem().broadcastOn([`${PE}-${Mt}`],kt.internalDialog),Pe.setData(kt.initialData)})},close:()=>{g(rt=>{ms(rt,oE)})}};return Pe},mTe=n=>{switch(n){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},vTe=(n,a,f)=>{const g=fo("dialog"),w=n.internalDialog,_=Ar(w.title,g,f),M=Yb({body:w.body,initialData:w.initialData},g,f),V=Vi(w.buttons),J=of(V),ne=ege({buttons:V},g,f),de=bc.initDialog(()=>bt,lo(()=>Pe,f.shared.providers,a),f.shared.getSink),ye=mTe(w.size),Ne={id:g,header:_,body:M,footer:U.some(ne),extraClasses:ye,extraBehaviours:[],extraStyles:{}},Pe=Ko(Ne,n,de,f),rt=(()=>{const Mt=()=>{const kt=Ca.getBody(Pe);return Ur.getCurrent(kt).getOr(kt)};return{getId:j(g),getRoot:j(Pe),getBody:()=>Ca.getBody(Pe),getFooter:()=>Ca.getFooter(Pe),getFormWrapper:Mt}})(),bt=nge(rt,a.redial,J);return{dialog:Pe,instanceApi:bt}},bTe=(n,a,f,g)=>{const w=fo("dialog"),_=fo("dialog-label"),M=fo("dialog-content"),V=n.internalDialog,J=(kt,Lt)=>U.some(Lt),ne=oi(Iz({title:V.title,draggable:!0},w,_,f.shared.providers)),de=oi(Av({body:V.body,initialData:V.initialData},w,M,f,g)),ye=Vi(V.buttons),Ne=of(ye),Pe=oi(pTe({buttons:ye},w,f)),rt=bc.initDialog(()=>Mt,{onBlock:kt=>{Gd.block(bt,(Lt,Zn)=>Ut(kt.message,Zn,f.shared.providers))},onUnblock:()=>{Gd.unblock(bt)},onClose:()=>a.closeWindow()},f.shared.getSink),bt=uc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:{role:"dialog",["aria-labelledby"]:_,["aria-describedby"]:M}},eventOrder:{[Xf()]:[tf.name(),Ef.name()],[mu()]:["execute-on-form"],[bh()]:["reflecting","execute-on-form"]},behaviours:Mn([No.config({mode:"cyclic",onEscape:kt=>(ms(kt,oE),U.some(!0)),useTabstopAt:kt=>!lE(kt)&&(Qo(kt)!=="button"||Ro(kt,"disabled")!=="disabled")}),tf.config({channel:`${ng}-${w}`,updateState:J,initialData:n}),qo.config({}),Mr("execute-on-form",rt.concat([Jc(_p(),(kt,Lt)=>{No.focusIn(kt)})])),Gd.config({getRoot:()=>U.some(bt)}),kr.config({}),hd.memory({})]),components:[ne.asSpec(),de.asSpec(),Pe.asSpec()]}),Mt=nge({getId:j(w),getRoot:j(bt),getFooter:()=>Pe.get(bt),getBody:()=>de.get(bt),getFormWrapper:()=>{const kt=de.get(bt);return Ur.getCurrent(kt).getOr(kt)}},a.redial,Ne);return{dialog:bt,instanceApi:Mt}};var Une=tinymce.util.Tools.resolve("tinymce.util.URI");const yTe=n=>{const a=M=>{n.getSystem().isConnected()&&M(n)};return{block:M=>{if(!v(M))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");a(V=>{Ho(V,rw,{message:M})})},unblock:()=>{a(M=>{ms(M,uv)})},close:()=>{a(M=>{ms(M,oE)})},sendMessage:M=>{a(V=>{V.getSystem().broadcastOn([CO],M)})}}},wTe=["insertContent","setContent","execCommand","close","block","unblock"],oge=n=>b(n)&&wTe.indexOf(n.mceAction)!==-1,CTe=n=>!oge(n)&&b(n)&&eo(n,"mceAction"),STe=(n,a,f)=>{switch(f.mceAction){case"insertContent":n.insertContent(f.content);break;case"setContent":n.setContent(f.content);break;case"execCommand":const g=E(f.ui)?f.ui:!1;n.execCommand(f.cmd,g,f.value);break;case"close":a.close();break;case"block":a.block(f.message);break;case"unblock":a.unblock();break}},xTe=(n,a,f,g)=>{const w=fo("dialog"),_=Ar(n.title,w,g),M=Rt(n),V=n.buttons.bind(Lt=>Lt.length===0?U.none():U.some(ege({buttons:Lt},w,g))),J=bc.initUrlDialog(()=>kt,lo(()=>Mt,g.shared.providers,a)),ne={...n.height.fold(()=>({}),Lt=>({height:Lt+"px","max-height":Lt+"px"})),...n.width.fold(()=>({}),Lt=>({width:Lt+"px","max-width":Lt+"px"}))},de=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],ye=new Une(n.url,{base_uri:new Une(window.location.href)}),Ne=`${ye.protocol}://${ye.host}${ye.port?":"+ye.port:""}`,Pe=em(),rt=[Mr("messages",[Yi(()=>{const Lt=Jl(dn.fromDom(window),"message",Zn=>{if(ye.isSameOrigin(new Une(Zn.raw.origin))){const Xt=Zn.raw.data;oge(Xt)?STe(f,kt,Xt):CTe(Xt)&&n.onMessage(kt,Xt)}});Pe.set(Lt)}),Jf(Pe.clear)]),Ef.config({channels:{[CO]:{onReceive:(Lt,Zn)=>{$a(Lt.element,"iframe").each(Xt=>{const Qn=Xt.dom.contentWindow;N(Qn)&&Qn.postMessage(Zn,Ne)})}}}})],Mt=Ko({id:w,header:_,body:M,footer:V,extraClasses:de,extraBehaviours:rt,extraStyles:ne},n,J,g),kt=yTe(Mt);return{dialog:Mt,instanceApi:kt}},ETe=n=>{const a=n.shared;return{open:(g,w)=>{const _=()=>{Ca.hide(ne),w()},M=oi(dE({name:"close-alert",text:"OK",primary:!0,buttonType:U.some("primary"),align:"end",enabled:!0,icon:U.none()},"cancel",n)),V=So(),J=vn(_,a.providers),ne=uc(Ou({lazySink:()=>a.getSink(),header:Sn(V,J),body:Gr(g,a.providers),footer:U.some(Ci(Si([],[M.asSpec()]))),onEscape:_,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[on(Tb,_)],eventOrder:{}}));Ca.show(ne);const de=M.get(ne);qo.focus(de)}}},kTe=n=>{const a=n.shared;return{open:(g,w)=>{const _=Ne=>{Ca.hide(de),w(Ne)},M=oi(dE({name:"yes",text:"Yes",primary:!0,buttonType:U.some("primary"),align:"end",enabled:!0,icon:U.none()},"submit",n)),V=dE({name:"no",text:"No",primary:!1,buttonType:U.some("secondary"),align:"end",enabled:!0,icon:U.none()},"cancel",n),J=So(),ne=vn(()=>_(!1),a.providers),de=uc(Ou({lazySink:()=>a.getSink(),header:Sn(J,ne),body:Gr(g,a.providers),footer:U.some(Ci(Si([],[V,M.asSpec()]))),onEscape:()=>_(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[on(Tb,()=>_(!1)),on(ZA,()=>_(!0))],eventOrder:{}}));Ca.show(de);const ye=M.get(de);qo.focus(ye)}}},ATe=(n,a)=>bf(jr("data",a,n)),TTe=n=>ow(n,".tox-alert-dialog")||ow(n,".tox-confirm-dialog"),OTe=(n,a,f)=>a&&f?[]:[Nc.config({contextual:{lazyContext:()=>U.some($r(dn.fromDom(n.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})],_Te=n=>{const a=n.backstage,f=n.editor,g=vb(f),w=ETe(a),_=kTe(a),M=(rt,bt,Mt)=>bt!==void 0&&bt.inline==="toolbar"?de(rt,a.shared.anchors.inlineDialog(),Mt,bt.ariaAttrs):bt!==void 0&&bt.inline==="cursor"?de(rt,a.shared.anchors.cursor(),Mt,bt.ariaAttrs):ne(rt,Mt),V=(rt,bt)=>J(rt,bt),J=(rt,bt)=>{const Mt=kt=>{const Lt=xTe(kt,{closeWindow:()=>{Ca.hide(Lt.dialog),bt(Lt.instanceApi)}},f,a);return Ca.show(Lt.dialog),Lt.instanceApi};return gr.openUrl(Mt,rt)},ne=(rt,bt)=>{const Mt=(kt,Lt,Zn)=>{const Xt=Lt,ho=vTe({dataValidator:Zn,initialData:Xt,internalDialog:kt},{redial:gr.redial,closeWindow:()=>{Ca.hide(ho.dialog),bt(ho.instanceApi)}},a);return Ca.show(ho.dialog),ho.instanceApi.setData(Xt),ho.instanceApi};return gr.open(Mt,rt)},de=(rt,bt,Mt,kt=!1)=>{const Lt=(Zn,Xt,Qn)=>{const ho=ATe(Xt,Qn),so=ki(),Io=a.shared.header.isPositionedAtTop(),Vo={dataValidator:Qn,initialData:ho,internalDialog:Zn},Ir=()=>so.on(rs=>{ea.reposition(rs),Nc.refresh(rs)}),os=bTe(Vo,{redial:gr.redial,closeWindow:()=>{so.on(ea.hide),f.off("ResizeEditor",Ir),so.clear(),Mt(os.instanceApi)}},a,kt),Po=uc(ea.sketch({lazySink:a.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...Io?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Mn([Mr("window-manager-inline-events",[on(Dp(),(rs,fs)=>{ms(os.dialog,Tb)})]),...OTe(f,g,Io)]),isExtraPart:(rs,fs)=>TTe(fs)}));return so.set(Po),ea.showWithin(Po,Vu(os.dialog),{anchor:bt},U.some(Ke())),(!g||!Io)&&(Nc.refresh(Po),f.on("ResizeEditor",Ir)),os.instanceApi.setData(ho),No.focusIn(os.dialog),os.instanceApi};return gr.open(Lt,rt)};return{open:M,openUrl:V,alert:(rt,bt)=>{w.open(rt,bt)},close:rt=>{rt.close()},confirm:(rt,bt)=>{_.open(rt,bt)}}},$Te=n=>{UR(n),gK(n),$te(n)};var DTe=()=>{qe.add("silver",n=>{$Te(n);const{getUiMothership:a,backstage:f,renderUI:g}=Cne(n);nY.register(n,f.shared);const w=_Te({editor:n,backstage:f});return{renderUI:g,getWindowManagerImpl:j(w),getNotificationManagerImpl:()=>_D(n,{backstage:f},a())}})};DTe()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8 15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8Zm0 0 2.2 5.7-2.3-5.8ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Q,G,ce)=>{const he=G==="UL"?"InsertUnorderedList":"InsertOrderedList";Q.execCommand(he,!1,ce===!1?null:{"list-style-type":ce})},s=Q=>{Q.addCommand("ApplyUnorderedListStyle",(G,ce)=>{o(Q,"UL",ce["list-style-type"])}),Q.addCommand("ApplyOrderedListStyle",(G,ce)=>{o(Q,"OL",ce["list-style-type"])})},l=Q=>G=>G.options.get(Q),c=Q=>{const G=Q.options.register;G("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),G("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},d=l("advlist_number_styles"),p=l("advlist_bullet_styles"),v=Q=>Q==null,b=Q=>!v(Q);var S=tinymce.util.Tools.resolve("tinymce.util.Tools");class x{constructor(G,ce){this.tag=G,this.value=ce}static some(G){return new x(!0,G)}static none(){return x.singletonNone}fold(G,ce){return this.tag?ce(this.value):G()}isSome(){return this.tag}isNone(){return!this.tag}map(G){return this.tag?x.some(G(this.value)):x.none()}bind(G){return this.tag?G(this.value):x.none()}exists(G){return this.tag&&G(this.value)}forall(G){return!this.tag||G(this.value)}filter(G){return!this.tag||G(this.value)?this:x.none()}getOr(G){return this.tag?this.value:G}or(G){return this.tag?this:G}getOrThunk(G){return this.tag?this.value:G()}orThunk(G){return this.tag?this:G()}getOrDie(G){if(this.tag)return this.value;throw new Error(G!=null?G:"Called getOrDie on None")}static from(G){return b(G)?x.some(G):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(G){this.tag&&G(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(!1);const T=(Q,G)=>Q.dom.isChildOf(G,Q.getBody()),E=Q=>b(Q)&&/^(TH|TD)$/.test(Q.nodeName),k=Q=>G=>b(G)&&/^(OL|UL|DL)$/.test(G.nodeName)&&T(Q,G),F=Q=>{const G=Q.dom.getParent(Q.selection.getNode(),"ol,ul"),ce=Q.dom.getStyle(G,"listStyleType");return x.from(ce)},N=(Q,G)=>G!==null&&Q.dom.getContentEditableParent(G)==="false",$=(Q,G)=>{const ce=Q.dom.getParent(G,"ol,ul,dl");return N(Q,ce)},D=(Q,G)=>{for(let ce=0;ce<Q.length;ce++){const he=Q[ce];if(G(he))return ce}return-1},O=Q=>Q.replace(/\-/g," ").replace(/\b\w/g,G=>G.toUpperCase()),P=Q=>v(Q)||Q==="default"?"":Q,I=(Q,G,ce)=>{const he=D(G.parents,E),ve=he!==-1?G.parents.slice(0,he):G.parents,qe=S.grep(ve,k(Q));return qe.length>0&&qe[0].nodeName===ce},z=(Q,G)=>ce=>{const he=ve=>{ce.setActive(I(Q,ve,G)),ce.setEnabled(!$(Q,ve.element))};return Q.on("NodeChange",he),()=>Q.off("NodeChange",he)},K=(Q,G,ce,he,ve,qe)=>{Q.ui.registry.addSplitButton(G,{tooltip:ce,icon:ve==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:U=>{const Fe=S.map(qe,De=>{const Se=ve==="OL"?"num":"bull",re=De==="disc"||De==="decimal"?"default":De,le=P(De),fe=O(De);return{type:"choiceitem",value:le,icon:"list-"+Se+"-"+re,text:fe}});U(Fe)},onAction:()=>Q.execCommand(he),onItemAction:(U,Fe)=>{o(Q,ve,Fe)},select:U=>F(Q).map(De=>U===De).getOr(!1),onSetup:z(Q,ve)})},j=(Q,G,ce,he,ve,qe)=>{Q.ui.registry.addToggleButton(G,{active:!1,tooltip:ce,icon:ve==="OL"?"ordered-list":"unordered-list",onSetup:z(Q,ve),onAction:()=>Q.queryCommandState(he)||qe===""?Q.execCommand(he):o(Q,ve,qe)})},oe=(Q,G,ce,he,ve,qe)=>{qe.length>1?K(Q,G,ce,he,ve,qe):j(Q,G,ce,he,ve,P(qe[0]))},xe=Q=>{oe(Q,"numlist","Numbered list","InsertOrderedList","OL",d(Q)),oe(Q,"bullist","Bullet list","InsertUnorderedList","UL",p(Q))};var se=()=>{e.add("advlist",Q=>{Q.hasPlugin("lists")?(c(Q),xe(Q),s(Q)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})};se()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),s=tinymce.util.Tools.resolve("tinymce.util.Tools");const l=ce=>he=>he.options.get(ce),c=ce=>{const he=ce.options.register;he("allow_html_in_named_anchor",{processor:"boolean",default:!1})},d=l("allow_html_in_named_anchor"),p="a:not([href])",v=ce=>!ce,b=ce=>ce.getAttribute("id")||ce.getAttribute("name")||"",S=ce=>ce.nodeName.toLowerCase()==="a",x=ce=>S(ce)&&!ce.getAttribute("href")&&b(ce)!=="",T=ce=>x(ce)&&!ce.firstChild,E=ce=>{const he=ce.dom;o(he).walk(ce.selection.getRng(),ve=>{s.each(ve,qe=>{T(qe)&&he.remove(qe,!1)})})},k=ce=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(ce),F=ce=>ce.dom.getParent(ce.selection.getStart(),p),N=ce=>{const he=F(ce);return he?b(he):""},$=(ce,he)=>{ce.undoManager.transact(()=>{d(ce)||ce.selection.collapse(!0),ce.selection.isCollapsed()?ce.insertContent(ce.dom.createHTML("a",{id:he})):(E(ce),ce.formatter.remove("namedAnchor",void 0,void 0,!0),ce.formatter.apply("namedAnchor",{value:he}),ce.addVisual())})},D=(ce,he,ve)=>{ve.removeAttribute("name"),ve.id=he,ce.addVisual(),ce.undoManager.add()},O=(ce,he)=>{const ve=F(ce);ve?D(ce,he,ve):$(ce,he),ce.focus()},P=(ce,he)=>k(he)?(O(ce,he),!0):(ce.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),I=ce=>{const he=N(ce);ce.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:he},onSubmit:ve=>{P(ce,ve.getData().id)&&ve.close()}})},z=ce=>{ce.addCommand("mceAnchor",()=>{I(ce)})},K=ce=>v(ce.attr("href"))&&!v(ce.attr("id")||ce.attr("name")),j=ce=>K(ce)&&!ce.firstChild,oe=ce=>he=>{for(let ve=0;ve<he.length;ve++){const qe=he[ve];j(qe)&&qe.attr("contenteditable",ce)}},xe=ce=>{ce.on("PreInit",()=>{ce.parser.addNodeFilter("a",oe("false")),ce.serializer.addNodeFilter("a",oe(null))})},se=ce=>{ce.formatter.register("namedAnchor",{inline:"a",selector:p,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(he,ve,qe)=>x(he)})},Q=ce=>{const he=()=>ce.execCommand("mceAnchor");ce.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:he,onSetup:ve=>ce.selection.selectorChangedWithUnbind("a:not([href])",ve.setActive).unbind}),ce.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:he})};var G=()=>{e.add("anchor",ce=>{c(ce),xe(ce),z(ce),Q(ce),ce.on("PreInit",()=>{se(ce)})})};G()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,s=ue=>Be=>Be.options.get(ue),l=ue=>{const Be=ue.options.register;Be("autolink_pattern",{processor:"regexp",default:new RegExp("^"+o().source+"$","i")}),Be("link_default_target",{processor:"string"}),Be("link_default_protocol",{processor:"string",default:"https"})},c=s("autolink_pattern"),d=s("link_default_target"),p=s("link_default_protocol"),v=s("allow_unsafe_link_target"),b=(ue,Be,Ce)=>{var me;return Ce(ue,Be.prototype)?!0:((me=ue.constructor)===null||me===void 0?void 0:me.name)===Be.name},S=ue=>{const Be=typeof ue;return ue===null?"null":Be==="object"&&Array.isArray(ue)?"array":Be==="object"&&b(ue,String,(Ce,me)=>me.isPrototypeOf(Ce))?"string":Be},x=ue=>Be=>S(Be)===ue,T=ue=>Be=>ue===Be,E=x("string"),k=T(void 0),F=ue=>ue==null,N=ue=>!F(ue),$=ue=>Be=>!ue(Be),D=Object.hasOwnProperty,O=(ue,Be)=>D.call(ue,Be),P=(ue,Be,Ce)=>Be===""||ue.length>=Be.length&&ue.substr(Ce,Ce+Be.length)===Be,I=(ue,Be,Ce=0,me)=>{const q=ue.indexOf(Be,Ce);return q!==-1?k(me)?!0:q+Be.length<=me:!1},z=(ue,Be)=>P(ue,Be,0),K="\uFEFF",j=ue=>ue===K,oe=ue=>ue.replace(/\uFEFF/g,"");var xe=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const se=ue=>ue.nodeType===3,Q=ue=>ue.nodeType===1,G=ue=>/^[(\[{ \u00a0]$/.test(ue),ce=ue=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(ue),he=ue=>/[?!,.;:]/.test(ue),ve=(ue,Be,Ce)=>{for(let me=Be-1;me>=0;me--){const q=ue.charAt(me);if(!j(q)&&Ce(q))return me}return-1},qe=(ue,Be)=>{let Ce=ue,me=Be;for(;Q(Ce)&&Ce.childNodes[me];)Ce=Ce.childNodes[me],me=se(Ce)?Ce.data.length:Ce.childNodes.length;return{container:Ce,offset:me}},U=(ue,Be)=>{var Ce;const me=ue.schema.getVoidElements(),q=c(ue),{dom:Ze,selection:We}=ue;if(Ze.getParent(We.getNode(),"a[href]")!==null)return null;const tt=We.getRng(),Qe=xe(Ze,Xe=>Ze.isBlock(Xe)||O(me,Xe.nodeName.toLowerCase())||Ze.getContentEditable(Xe)==="false"),{container:it,offset:He}=qe(tt.endContainer,tt.endOffset),Re=(Ce=Ze.getParent(it,Ze.isBlock))!==null&&Ce!==void 0?Ce:Ze.getRoot(),Ve=Qe.backwards(it,He+Be,(Xe,zt)=>{const qt=Xe.data,bn=ve(qt,zt,$(G));return bn===-1||he(qt[bn])?bn:bn+1},Re);if(!Ve)return null;let Oe=Ve.container;const be=Qe.backwards(Ve.container,Ve.offset,(Xe,zt)=>{Oe=Xe;const qt=ve(Xe.data,zt,G);return qt===-1?qt:qt+1},Re),ie=Ze.createRng();be?ie.setStart(be.container,be.offset):ie.setStart(Oe,0),ie.setEnd(Ve.container,Ve.offset);const ot=oe(ie.toString()).match(q);if(ot){let Xe=ot[0];return z(Xe,"www.")?Xe=p(ue)+"://"+Xe:I(Xe,"@")&&!ce(Xe)&&(Xe="mailto:"+Xe),{rng:ie,url:Xe}}else return null},Fe=(ue,Be)=>{const{dom:Ce,selection:me}=ue,{rng:q,url:Ze}=Be,We=me.getBookmark();me.setRng(q);const tt="createlink",Qe={command:tt,ui:!1,value:Ze};if(!ue.dispatch("BeforeExecCommand",Qe).isDefaultPrevented()){ue.getDoc().execCommand(tt,!1,Ze),ue.dispatch("ExecCommand",Qe);const He=d(ue);if(E(He)){const Re=me.getNode();Ce.setAttrib(Re,"target",He),He==="_blank"&&!v(ue)&&Ce.setAttrib(Re,"rel","noopener")}}me.moveToBookmark(We),ue.nodeChanged()},De=ue=>{const Be=U(ue,-1);N(Be)&&Fe(ue,Be)},Se=De,re=ue=>{const Be=U(ue,0);N(Be)&&Fe(ue,Be)},le=ue=>{ue.on("keydown",Be=>{Be.keyCode===13&&!Be.isDefaultPrevented()&&re(ue)}),ue.on("keyup",Be=>{Be.keyCode===32?De(ue):(Be.keyCode===48&&Be.shiftKey||Be.keyCode===221)&&Se(ue)})};var fe=()=>{e.add("autolink",ue=>{l(ue),le(ue)})};fe()})();(function(){const e=O=>{let P=O;return{get:()=>P,set:K=>{P=K}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=tinymce.util.Tools.resolve("tinymce.Env");const l=O=>O.dispatch("ResizeEditor"),c=O=>P=>P.options.get(O),d=O=>{const P=O.options.register;P("autoresize_overflow_padding",{processor:"number",default:1}),P("autoresize_bottom_margin",{processor:"number",default:50})},p=c("min_height"),v=c("max_height"),b=c("autoresize_overflow_padding"),S=c("autoresize_bottom_margin"),x=O=>O.plugins.fullscreen&&O.plugins.fullscreen.isFullscreen(),T=(O,P)=>{const I=O.getBody();I&&(I.style.overflowY=P?"":"hidden",P||(I.scrollTop=0))},E=(O,P,I,z)=>{var K;const j=parseInt((K=O.getStyle(P,I,z))!==null&&K!==void 0?K:"",10);return isNaN(j)?0:j},k=O=>{if((O==null?void 0:O.type.toLowerCase())==="setcontent"){const P=O;return P.selection===!0||P.paste===!0}else return!1},F=(O,P,I)=>{var z;const K=O.dom,j=O.getDoc();if(!j)return;if(x(O)){T(O,!0);return}const oe=j.documentElement,xe=S(O),se=(z=p(O))!==null&&z!==void 0?z:O.getElement().offsetHeight;let Q=se;const G=E(K,oe,"margin-top",!0),ce=E(K,oe,"margin-bottom",!0);let he=oe.offsetHeight+G+ce+xe;he<0&&(he=0);const ve=O.getContainer().offsetHeight,qe=O.getContentAreaContainer().offsetHeight,U=ve-qe;he+U>se&&(Q=he+U);const Fe=v(O);if(Fe&&Q>Fe?(Q=Fe,T(O,!0)):T(O,!1),Q!==P.get()){const De=Q-P.get();if(K.setStyle(O.getContainer(),"height",Q+"px"),P.set(Q),l(O),s.browser.isSafari()&&(s.os.isMacOS()||s.os.isiOS())){const Se=O.getWin();Se.scrollTo(Se.pageXOffset,Se.pageYOffset)}O.hasFocus()&&k(I)&&O.selection.scrollIntoView(),(s.browser.isSafari()||s.browser.isChromium())&&De<0&&F(O,P,I)}},N=(O,P)=>{O.on("init",()=>{const I=b(O),z=O.dom;z.setStyles(O.getDoc().documentElement,{height:"auto"}),z.setStyles(O.getBody(),{paddingLeft:I,paddingRight:I,"min-height":0})}),O.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",I=>{F(O,P,I)})},$=(O,P)=>{O.addCommand("mceAutoResize",()=>{F(O,P)})};var D=()=>{o.add("autoresize",O=>{if(d(O),O.options.isSet("resize")||O.options.set("resize",!1),!O.inline){const P=e(0);$(O,P),N(O,P)}})};D()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Fe,De,Se)=>{var re;return Se(Fe,De.prototype)?!0:((re=Fe.constructor)===null||re===void 0?void 0:re.name)===De.name},s=Fe=>{const De=typeof Fe;return Fe===null?"null":De==="object"&&Array.isArray(Fe)?"array":De==="object"&&o(Fe,String,(Se,re)=>re.isPrototypeOf(Se))?"string":De},l=Fe=>De=>s(De)===Fe,c=Fe=>De=>Fe===De,d=l("string"),p=c(void 0);var v=tinymce.util.Tools.resolve("tinymce.util.Delay"),b=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),S=tinymce.util.Tools.resolve("tinymce.util.Tools");const x=Fe=>Fe.dispatch("RestoreDraft"),T=Fe=>Fe.dispatch("StoreDraft"),E=Fe=>Fe.dispatch("RemoveDraft"),k=Fe=>{const De={s:1e3,m:6e4},Se=/^(\d+)([ms]?)$/.exec(Fe);return(Se&&Se[2]?De[Se[2]]:1)*parseInt(Fe,10)},F=Fe=>De=>De.options.get(Fe),N=Fe=>{const De=Fe.options.register,Se=re=>{const le=d(re);return le?{value:k(re),valid:le}:{valid:!1,message:"Must be a string."}};De("autosave_ask_before_unload",{processor:"boolean",default:!0}),De("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),De("autosave_restore_when_empty",{processor:"boolean",default:!1}),De("autosave_interval",{processor:Se,default:"30s"}),De("autosave_retention",{processor:Se,default:"20m"})},$=F("autosave_ask_before_unload"),D=F("autosave_restore_when_empty"),O=F("autosave_interval"),P=F("autosave_retention"),I=Fe=>{const De=document.location;return Fe.options.get("autosave_prefix").replace(/{path}/g,De.pathname).replace(/{query}/g,De.search).replace(/{hash}/g,De.hash).replace(/{id}/g,Fe.id)},z=(Fe,De)=>{if(p(De))return Fe.dom.isEmpty(Fe.getBody());{const Se=S.trim(De);if(Se==="")return!0;{const re=new DOMParser().parseFromString(Se,"text/html");return Fe.dom.isEmpty(re)}}},K=Fe=>{var De;const Se=parseInt((De=b.getItem(I(Fe)+"time"))!==null&&De!==void 0?De:"0",10)||0;return new Date().getTime()-Se>P(Fe)?(j(Fe,!1),!1):!0},j=(Fe,De)=>{const Se=I(Fe);b.removeItem(Se+"draft"),b.removeItem(Se+"time"),De!==!1&&E(Fe)},oe=Fe=>{const De=I(Fe);!z(Fe)&&Fe.isDirty()&&(b.setItem(De+"draft",Fe.getContent({format:"raw",no_events:!0})),b.setItem(De+"time",new Date().getTime().toString()),T(Fe))},xe=Fe=>{var De;const Se=I(Fe);K(Fe)&&(Fe.setContent((De=b.getItem(Se+"draft"))!==null&&De!==void 0?De:"",{format:"raw"}),x(Fe))},se=Fe=>{const De=O(Fe);v.setEditorInterval(Fe,()=>{oe(Fe)},De)},Q=Fe=>{Fe.undoManager.transact(()=>{xe(Fe),j(Fe)}),Fe.focus()},G=Fe=>({hasDraft:()=>K(Fe),storeDraft:()=>oe(Fe),restoreDraft:()=>xe(Fe),removeDraft:De=>j(Fe,De),isEmpty:De=>z(Fe,De)});var ce=tinymce.util.Tools.resolve("tinymce.EditorManager");const he=Fe=>{Fe.editorManager.on("BeforeUnload",De=>{let Se;S.each(ce.get(),re=>{re.plugins.autosave&&re.plugins.autosave.storeDraft(),!Se&&re.isDirty()&&$(re)&&(Se=re.translate("You have unsaved changes are you sure you want to navigate away?"))}),Se&&(De.preventDefault(),De.returnValue=Se)})},ve=Fe=>De=>{De.setEnabled(K(Fe));const Se=()=>De.setEnabled(K(Fe));return Fe.on("StoreDraft RestoreDraft RemoveDraft",Se),()=>Fe.off("StoreDraft RestoreDraft RemoveDraft",Se)},qe=Fe=>{se(Fe);const De=()=>{Q(Fe)};Fe.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:De,onSetup:ve(Fe)}),Fe.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:De,onSetup:ve(Fe)})};var U=()=>{e.add("autosave",Fe=>(N(Fe),he(Fe),qe(Fe),Fe.on("init",()=>{D(Fe)&&Fe.dom.isEmpty(Fe.getBody())&&xe(Fe)}),G(Fe)))};U()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(it,He)=>it.dispatch("insertCustomChar",{chr:He}),s=(it,He)=>{const Re=o(it,He).chr;it.execCommand("mceInsertContent",!1,Re)},l=(it,He,Re)=>{var Ve;return Re(it,He.prototype)?!0:((Ve=it.constructor)===null||Ve===void 0?void 0:Ve.name)===He.name},c=it=>{const He=typeof it;return it===null?"null":He==="object"&&Array.isArray(it)?"array":He==="object"&&l(it,String,(Re,Ve)=>Ve.isPrototypeOf(Re))?"string":He},d=it=>He=>c(He)===it,p=it=>He=>typeof He===it,v=it=>He=>it===He,b=d("array"),S=v(null),x=v(void 0),T=it=>it==null,E=it=>!T(it),k=p("function"),N=(it=>()=>it)(!1);class ${constructor(He,Re){this.tag=He,this.value=Re}static some(He){return new $(!0,He)}static none(){return $.singletonNone}fold(He,Re){return this.tag?Re(this.value):He()}isSome(){return this.tag}isNone(){return!this.tag}map(He){return this.tag?$.some(He(this.value)):$.none()}bind(He){return this.tag?He(this.value):$.none()}exists(He){return this.tag&&He(this.value)}forall(He){return!this.tag||He(this.value)}filter(He){return!this.tag||He(this.value)?this:$.none()}getOr(He){return this.tag?this.value:He}or(He){return this.tag?this:He}getOrThunk(He){return this.tag?this.value:He()}orThunk(He){return this.tag?this:He()}getOrDie(He){if(this.tag)return this.value;throw new Error(He!=null?He:"Called getOrDie on None")}static from(He){return E(He)?$.some(He):$.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(He){this.tag&&He(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$.singletonNone=new $(!1);const D=Array.prototype.push,O=(it,He)=>{const Re=it.length,Ve=new Array(Re);for(let Oe=0;Oe<Re;Oe++){const be=it[Oe];Ve[Oe]=He(be,Oe)}return Ve},P=(it,He)=>{for(let Re=0,Ve=it.length;Re<Ve;Re++){const Oe=it[Re];He(Oe,Re)}},I=(it,He,Re)=>{for(let Ve=0,Oe=it.length;Ve<Oe;Ve++){const be=it[Ve];if(He(be,Ve))return $.some(be);if(Re(be,Ve))break}return $.none()},z=(it,He)=>I(it,He,N),K=it=>{const He=[];for(let Re=0,Ve=it.length;Re<Ve;++Re){if(!b(it[Re]))throw new Error("Arr.flatten item "+Re+" was not an array, input: "+it);D.apply(He,it[Re])}return He},j=(it,He)=>K(O(it,He));var oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const xe=it=>He=>He.options.get(it),se=it=>{const He=it.options.register,Re=Ve=>k(Ve)||b(Ve);He("charmap",{processor:Re}),He("charmap_append",{processor:Re})},Q=xe("charmap"),G=xe("charmap_append"),ce=oe.isArray,he="User Defined",ve=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],qe=it=>oe.grep(it,He=>ce(He)&&He.length===2),U=it=>ce(it)?qe(it):typeof it=="function"?it():[],Fe=(it,He)=>{const Re=Q(it);Re&&(He=[{name:he,characters:U(Re)}]);const Ve=G(it);if(Ve){const Oe=oe.grep(He,be=>be.name===he);return Oe.length?(Oe[0].characters=[...Oe[0].characters,...U(Ve)],He):He.concat({name:he,characters:U(Ve)})}return He},De=it=>{const He=Fe(it,ve());return He.length>1?[{name:"All",characters:j(He,Re=>Re.characters)}].concat(He):He},Se=it=>({getCharMap:()=>De(it),insertChar:Ve=>{s(it,Ve)}}),re=it=>{let He=it;return{get:()=>He,set:Oe=>{He=Oe}}},le=(it,He)=>{let Re=null;const Ve=()=>{S(Re)||(clearTimeout(Re),Re=null)};return{cancel:Ve,throttle:(...be)=>{Ve(),Re=setTimeout(()=>{Re=null,it.apply(null,be)},He)}}},fe=(it,He,Re=0,Ve)=>{const Oe=it.indexOf(He,Re);return Oe!==-1?x(Ve)?!0:Oe+He.length<=Ve:!1},ue=String.fromCodePoint,Be=(it,He,Re)=>fe(ue(it).toLowerCase(),Re)?!0:fe(He.toLowerCase(),Re)||fe(He.toLowerCase().replace(/\s+/g,""),Re),Ce=(it,He)=>{const Re=[],Ve=He.toLowerCase();return P(it.characters,Oe=>{Be(Oe[0],Oe[1],Ve)&&Re.push(Oe)}),O(Re,Oe=>({text:Oe[1],value:ue(Oe[0]),icon:ue(Oe[0])}))},me="pattern",q=(it,He)=>{const Re=()=>[{label:"Search",type:"input",name:me},{type:"collection",name:"results"}],Ve=()=>O(He,zn=>({title:zn.name,name:zn.name,items:Re()})),Oe=()=>({type:"panel",items:Re()}),be=()=>({type:"tabpanel",tabs:Ve()}),ie=He.length===1?re(he):re("All"),Ee=(zn,fn)=>{z(He,oo=>oo.name===ie.get()).each(oo=>{const ft=Ce(oo,fn);zn.setData({results:ft})})},Xe=le(zn=>{const fn=zn.getData().pattern;Ee(zn,fn)},40),zt=He.length===1?Oe():be(),qt={pattern:"",results:Ce(He[0],"")},bn={title:"Special Character",size:"normal",body:zt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:qt,onAction:(zn,fn)=>{fn.name==="results"&&(s(it,fn.value),zn.close())},onTabChange:(zn,fn)=>{ie.set(fn.newTabName),Xe.throttle(zn)},onChange:(zn,fn)=>{fn.name===me&&Xe.throttle(zn)}};it.windowManager.open(bn).focus(me)},Ze=(it,He)=>{it.addCommand("mceShowCharmap",()=>{q(it,He)})},We=(it,He)=>{it.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Re,Ve)=>new Promise((Oe,be)=>{Oe(Ce(He,Re))}),onAction:(Re,Ve,Oe)=>{it.selection.setRng(Ve),it.insertContent(Oe),Re.hide()}})},tt=it=>{const He=()=>it.execCommand("mceShowCharmap");it.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:He}),it.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:He})};var Qe=()=>{e.add("charmap",it=>{se(it);const He=De(it);return Ze(it,He),tt(it),We(it,He[0]),Se(it)})};Qe()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(v,b)=>{v.focus(),v.undoManager.transact(()=>{v.setContent(b)}),v.selection.setCursorLocation(),v.nodeChanged()},s=v=>v.getContent({source_view:!0}),l=v=>{const b=s(v);v.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:b},onSubmit:S=>{o(v,S.getData().code),S.close()}})},c=v=>{v.addCommand("mceCodeEditor",()=>{l(v)})},d=v=>{const b=()=>v.execCommand("mceCodeEditor");v.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:b}),v.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:b})};var p=()=>{e.add("code",v=>(c(v),d(v),{}))};p()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=he=>he==null,s=he=>!o(he),l=he=>()=>he;class c{constructor(ve,qe){this.tag=ve,this.value=qe}static some(ve){return new c(!0,ve)}static none(){return c.singletonNone}fold(ve,qe){return this.tag?qe(this.value):ve()}isSome(){return this.tag}isNone(){return!this.tag}map(ve){return this.tag?c.some(ve(this.value)):c.none()}bind(ve){return this.tag?ve(this.value):c.none()}exists(ve){return this.tag&&ve(this.value)}forall(ve){return!this.tag||ve(this.value)}filter(ve){return!this.tag||ve(this.value)?this:c.none()}getOr(ve){return this.tag?this.value:ve}or(ve){return this.tag?this:ve}getOrThunk(ve){return this.tag?this.value:ve()}orThunk(ve){return this.tag?this:ve()}getOrDie(ve){if(this.tag)return this.value;throw new Error(ve!=null?ve:"Called getOrDie on None")}static from(ve){return s(ve)?c.some(ve):c.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ve){this.tag&&ve(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const d=(he,ve)=>ve>=0&&ve<he.length?c.some(he[ve]):c.none(),p=he=>d(he,0);var v=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const b=typeof window<"u"?window:Function("return this;")(),S=function(he,ve,qe){const U=window.Prism;window.Prism={manual:!0};var Fe=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},De=function(Se){var re=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,le=0,fe={},ue={manual:Se.Prism&&Se.Prism.manual,disableWorkerMessageHandler:Se.Prism&&Se.Prism.disableWorkerMessageHandler,util:{encode:function Re(Ve){return Ve instanceof Be?new Be(Ve.type,Re(Ve.content),Ve.alias):Array.isArray(Ve)?Ve.map(Re):Ve.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Re){return Object.prototype.toString.call(Re).slice(8,-1)},objId:function(Re){return Re.__id||Object.defineProperty(Re,"__id",{value:++le}),Re.__id},clone:function Re(Ve,Oe){Oe=Oe||{};var be,ie;switch(ue.util.type(Ve)){case"Object":if(ie=ue.util.objId(Ve),Oe[ie])return Oe[ie];be={},Oe[ie]=be;for(var Ee in Ve)Ve.hasOwnProperty(Ee)&&(be[Ee]=Re(Ve[Ee],Oe));return be;case"Array":return ie=ue.util.objId(Ve),Oe[ie]?Oe[ie]:(be=[],Oe[ie]=be,Ve.forEach(function(ot,Xe){be[Xe]=Re(ot,Oe)}),be);default:return Ve}},getLanguage:function(Re){for(;Re;){var Ve=re.exec(Re.className);if(Ve)return Ve[1].toLowerCase();Re=Re.parentElement}return"none"},setLanguage:function(Re,Ve){Re.className=Re.className.replace(RegExp(re,"gi"),""),Re.classList.add("language-"+Ve)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(be){var Re=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(be.stack)||[])[1];if(Re){var Ve=document.getElementsByTagName("script");for(var Oe in Ve)if(Ve[Oe].src==Re)return Ve[Oe]}return null}},isActive:function(Re,Ve,Oe){for(var be="no-"+Ve;Re;){var ie=Re.classList;if(ie.contains(Ve))return!0;if(ie.contains(be))return!1;Re=Re.parentElement}return!!Oe}},languages:{plain:fe,plaintext:fe,text:fe,txt:fe,extend:function(Re,Ve){var Oe=ue.util.clone(ue.languages[Re]);for(var be in Ve)Oe[be]=Ve[be];return Oe},insertBefore:function(Re,Ve,Oe,be){be=be||ue.languages;var ie=be[Re],Ee={};for(var ot in ie)if(ie.hasOwnProperty(ot)){if(ot==Ve)for(var Xe in Oe)Oe.hasOwnProperty(Xe)&&(Ee[Xe]=Oe[Xe]);Oe.hasOwnProperty(ot)||(Ee[ot]=ie[ot])}var zt=be[Re];return be[Re]=Ee,ue.languages.DFS(ue.languages,function(qt,bn){bn===zt&&qt!=Re&&(this[qt]=Ee)}),Ee},DFS:function Re(Ve,Oe,be,ie){ie=ie||{};var Ee=ue.util.objId;for(var ot in Ve)if(Ve.hasOwnProperty(ot)){Oe.call(Ve,ot,Ve[ot],be||ot);var Xe=Ve[ot],zt=ue.util.type(Xe);zt==="Object"&&!ie[Ee(Xe)]?(ie[Ee(Xe)]=!0,Re(Xe,Oe,null,ie)):zt==="Array"&&!ie[Ee(Xe)]&&(ie[Ee(Xe)]=!0,Re(Xe,Oe,ot,ie))}}},plugins:{},highlightAll:function(Re,Ve){ue.highlightAllUnder(document,Re,Ve)},highlightAllUnder:function(Re,Ve,Oe){var be={callback:Oe,container:Re,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};ue.hooks.run("before-highlightall",be),be.elements=Array.prototype.slice.apply(be.container.querySelectorAll(be.selector)),ue.hooks.run("before-all-elements-highlight",be);for(var ie=0,Ee;Ee=be.elements[ie++];)ue.highlightElement(Ee,Ve===!0,be.callback)},highlightElement:function(Re,Ve,Oe){var be=ue.util.getLanguage(Re),ie=ue.languages[be];ue.util.setLanguage(Re,be);var Ee=Re.parentElement;Ee&&Ee.nodeName.toLowerCase()==="pre"&&ue.util.setLanguage(Ee,be);var ot=Re.textContent,Xe={element:Re,language:be,grammar:ie,code:ot};function zt(bn){Xe.highlightedCode=bn,ue.hooks.run("before-insert",Xe),Xe.element.innerHTML=Xe.highlightedCode,ue.hooks.run("after-highlight",Xe),ue.hooks.run("complete",Xe),Oe&&Oe.call(Xe.element)}if(ue.hooks.run("before-sanity-check",Xe),Ee=Xe.element.parentElement,Ee&&Ee.nodeName.toLowerCase()==="pre"&&!Ee.hasAttribute("tabindex")&&Ee.setAttribute("tabindex","0"),!Xe.code){ue.hooks.run("complete",Xe),Oe&&Oe.call(Xe.element);return}if(ue.hooks.run("before-highlight",Xe),!Xe.grammar){zt(ue.util.encode(Xe.code));return}if(Ve&&Se.Worker){var qt=new Worker(ue.filename);qt.onmessage=function(bn){zt(bn.data)},qt.postMessage(JSON.stringify({language:Xe.language,code:Xe.code,immediateClose:!0}))}else zt(ue.highlight(Xe.code,Xe.grammar,Xe.language))},highlight:function(Re,Ve,Oe){var be={code:Re,grammar:Ve,language:Oe};if(ue.hooks.run("before-tokenize",be),!be.grammar)throw new Error('The language "'+be.language+'" has no grammar.');return be.tokens=ue.tokenize(be.code,be.grammar),ue.hooks.run("after-tokenize",be),Be.stringify(ue.util.encode(be.tokens),be.language)},tokenize:function(Re,Ve){var Oe=Ve.rest;if(Oe){for(var be in Oe)Ve[be]=Oe[be];delete Ve.rest}var ie=new q;return Ze(ie,ie.head,Re),me(Re,ie,Ve,ie.head,0),tt(ie)},hooks:{all:{},add:function(Re,Ve){var Oe=ue.hooks.all;Oe[Re]=Oe[Re]||[],Oe[Re].push(Ve)},run:function(Re,Ve){var Oe=ue.hooks.all[Re];if(!(!Oe||!Oe.length))for(var be=0,ie;ie=Oe[be++];)ie(Ve)}},Token:Be};Se.Prism=ue;function Be(Re,Ve,Oe,be){this.type=Re,this.content=Ve,this.alias=Oe,this.length=(be||"").length|0}Be.stringify=function Re(Ve,Oe){if(typeof Ve=="string")return Ve;if(Array.isArray(Ve)){var be="";return Ve.forEach(function(zt){be+=Re(zt,Oe)}),be}var ie={type:Ve.type,content:Re(Ve.content,Oe),tag:"span",classes:["token",Ve.type],attributes:{},language:Oe},Ee=Ve.alias;Ee&&(Array.isArray(Ee)?Array.prototype.push.apply(ie.classes,Ee):ie.classes.push(Ee)),ue.hooks.run("wrap",ie);var ot="";for(var Xe in ie.attributes)ot+=" "+Xe+'="'+(ie.attributes[Xe]||"").replace(/"/g,"&quot;")+'"';return"<"+ie.tag+' class="'+ie.classes.join(" ")+'"'+ot+">"+ie.content+"</"+ie.tag+">"};function Ce(Re,Ve,Oe,be){Re.lastIndex=Ve;var ie=Re.exec(Oe);if(ie&&be&&ie[1]){var Ee=ie[1].length;ie.index+=Ee,ie[0]=ie[0].slice(Ee)}return ie}function me(Re,Ve,Oe,be,ie,Ee){for(var ot in Oe)if(!(!Oe.hasOwnProperty(ot)||!Oe[ot])){var Xe=Oe[ot];Xe=Array.isArray(Xe)?Xe:[Xe];for(var zt=0;zt<Xe.length;++zt){if(Ee&&Ee.cause==ot+","+zt)return;var qt=Xe[zt],bn=qt.inside,Kn=!!qt.lookbehind,zn=!!qt.greedy,fn=qt.alias;if(zn&&!qt.pattern.global){var oo=qt.pattern.toString().match(/[imsuy]*$/)[0];qt.pattern=RegExp(qt.pattern.source,oo+"g")}for(var ft=qt.pattern||qt,Tt=be.next,sn=ie;Tt!==Ve.tail&&!(Ee&&sn>=Ee.reach);sn+=Tt.value.length,Tt=Tt.next){var kn=Tt.value;if(Ve.length>Re.length)return;if(!(kn instanceof Be)){var Pn=1,$n;if(zn){if($n=Ce(ft,sn,Re,Kn),!$n||$n.index>=Re.length)break;var Ct=$n.index,_o=$n.index+$n[0].length,mr=sn;for(mr+=Tt.value.length;Ct>=mr;)Tt=Tt.next,mr+=Tt.value.length;if(mr-=Tt.value.length,sn=mr,Tt.value instanceof Be)continue;for(var Ot=Tt;Ot!==Ve.tail&&(mr<_o||typeof Ot.value=="string");Ot=Ot.next)Pn++,mr+=Ot.value.length;Pn--,kn=Re.slice(sn,mr),$n.index-=sn}else if($n=Ce(ft,0,kn,Kn),!$n)continue;var Ct=$n.index,wn=$n[0],xn=kn.slice(0,Ct),pn=kn.slice(Ct+wn.length),eo=sn+kn.length;Ee&&eo>Ee.reach&&(Ee.reach=eo);var yr=Tt.prev;xn&&(yr=Ze(Ve,yr,xn),sn+=xn.length),We(Ve,yr,Pn);var Ts=new Be(ot,bn?ue.tokenize(wn,bn):wn,fn,wn);if(Tt=Ze(Ve,yr,Ts),pn&&Ze(Ve,Tt,pn),Pn>1){var ci={cause:ot+","+zt,reach:eo};me(Re,Ve,Oe,Tt.prev,sn,ci),Ee&&ci.reach>Ee.reach&&(Ee.reach=ci.reach)}}}}}}function q(){var Re={value:null,prev:null,next:null},Ve={value:null,prev:Re,next:null};Re.next=Ve,this.head=Re,this.tail=Ve,this.length=0}function Ze(Re,Ve,Oe){var be=Ve.next,ie={value:Oe,prev:Ve,next:be};return Ve.next=ie,be.prev=ie,Re.length++,ie}function We(Re,Ve,Oe){for(var be=Ve.next,ie=0;ie<Oe&&be!==Re.tail;ie++)be=be.next;Ve.next=be,be.prev=Ve,Re.length-=ie}function tt(Re){for(var Ve=[],Oe=Re.head.next;Oe!==Re.tail;)Ve.push(Oe.value),Oe=Oe.next;return Ve}if(!Se.document)return Se.addEventListener&&(ue.disableWorkerMessageHandler||Se.addEventListener("message",function(Re){var Ve=JSON.parse(Re.data),Oe=Ve.language,be=Ve.code,ie=Ve.immediateClose;Se.postMessage(ue.highlight(be,ue.languages[Oe],Oe)),ie&&Se.close()},!1)),ue;var Qe=ue.util.currentScript();Qe&&(ue.filename=Qe.src,Qe.hasAttribute("data-manual")&&(ue.manual=!0));function it(){ue.manual||ue.highlightAll()}if(!ue.manual){var He=document.readyState;He==="loading"||He==="interactive"&&Qe&&Qe.defer?document.addEventListener("DOMContentLoaded",it):window.requestAnimationFrame?window.requestAnimationFrame(it):window.setTimeout(it,16)}return ue}(Fe);return typeof ve<"u"&&ve.exports&&(ve.exports=De),typeof he<"u"&&(he.Prism=De),De.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Se){function re(le,fe){return"___"+le.toUpperCase()+fe+"___"}Object.defineProperties(Se.languages["markup-templating"]={},{buildPlaceholders:{value:function(le,fe,ue,Be){if(le.language===fe){var Ce=le.tokenStack=[];le.code=le.code.replace(ue,function(me){if(typeof Be=="function"&&!Be(me))return me;for(var q=Ce.length,Ze;le.code.indexOf(Ze=re(fe,q))!==-1;)++q;return Ce[q]=me,Ze}),le.grammar=Se.languages.markup}}},tokenizePlaceholders:{value:function(le,fe){if(le.language!==fe||!le.tokenStack)return;le.grammar=Se.languages[fe];var ue=0,Be=Object.keys(le.tokenStack);function Ce(me){for(var q=0;q<me.length&&!(ue>=Be.length);q++){var Ze=me[q];if(typeof Ze=="string"||Ze.content&&typeof Ze.content=="string"){var We=Be[ue],tt=le.tokenStack[We],Qe=typeof Ze=="string"?Ze:Ze.content,it=re(fe,We),He=Qe.indexOf(it);if(He>-1){++ue;var Re=Qe.substring(0,He),Ve=new Se.Token(fe,Se.tokenize(tt,le.grammar),"language-"+fe,tt),Oe=Qe.substring(He+it.length),be=[];Re&&be.push.apply(be,Ce([Re])),be.push(Ve),Oe&&be.push.apply(be,Ce([Oe])),typeof Ze=="string"?me.splice.apply(me,[q,1].concat(be)):Ze.content=be}}else Ze.content&&Ce(Ze.content)}return me}Ce(le.tokens)}}})}(De),De.languages.c=De.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),De.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),De.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},De.languages.c.string],char:De.languages.c.char,comment:De.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:De.languages.c}}}}),De.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete De.languages.c.boolean,function(Se){var re=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,le=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return re.source});Se.languages.cpp=Se.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return re.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:re,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Se.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return le})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Se.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Se.languages.cpp}}}}),Se.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Se.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Se.languages.extend("cpp",{})}}),Se.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Se.languages.cpp["base-clause"])}(De),function(Se){function re($n,_o){return $n.replace(/<<(\d+)>>/g,function(mr,Ot){return"(?:"+_o[+Ot]+")"})}function le($n,_o,mr){return RegExp(re($n,_o),mr||"")}function fe($n,_o){for(var mr=0;mr<_o;mr++)$n=$n.replace(/<<self>>/g,function(){return"(?:"+$n+")"});return $n.replace(/<<self>>/g,"[^\\s\\S]")}var ue={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Be($n){return"\\b(?:"+$n.trim().replace(/ /g,"|")+")\\b"}var Ce=Be(ue.typeDeclaration),me=RegExp(Be(ue.type+" "+ue.typeDeclaration+" "+ue.contextual+" "+ue.other)),q=Be(ue.typeDeclaration+" "+ue.contextual+" "+ue.other),Ze=Be(ue.type+" "+ue.typeDeclaration+" "+ue.other),We=fe(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),tt=fe(/\((?:[^()]|<<self>>)*\)/.source,2),Qe=/@?\b[A-Za-z_]\w*\b/.source,it=re(/<<0>>(?:\s*<<1>>)?/.source,[Qe,We]),He=re(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[q,it]),Re=/\[\s*(?:,\s*)*\]/.source,Ve=re(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[He,Re]),Oe=re(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[We,tt,Re]),be=re(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Oe]),ie=re(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[be,He,Re]),Ee={keyword:me,punctuation:/[<>()?,.:[\]]/},ot=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Xe=/"(?:\\.|[^\\"\r\n])*"/.source,zt=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Se.languages.csharp=Se.languages.extend("clike",{string:[{pattern:le(/(^|[^$\\])<<0>>/.source,[zt]),lookbehind:!0,greedy:!0},{pattern:le(/(^|[^@$\\])<<0>>/.source,[Xe]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:le(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[He]),lookbehind:!0,inside:Ee},{pattern:le(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Qe,ie]),lookbehind:!0,inside:Ee},{pattern:le(/(\busing\s+)<<0>>(?=\s*=)/.source,[Qe]),lookbehind:!0},{pattern:le(/(\b<<0>>\s+)<<1>>/.source,[Ce,it]),lookbehind:!0,inside:Ee},{pattern:le(/(\bcatch\s*\(\s*)<<0>>/.source,[He]),lookbehind:!0,inside:Ee},{pattern:le(/(\bwhere\s+)<<0>>/.source,[Qe]),lookbehind:!0},{pattern:le(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Ve]),lookbehind:!0,inside:Ee},{pattern:le(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[ie,Ze,Qe]),inside:Ee}],keyword:me,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Se.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Se.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:le(/([(,]\s*)<<0>>(?=\s*:)/.source,[Qe]),lookbehind:!0,alias:"punctuation"}}),Se.languages.insertBefore("csharp","class-name",{namespace:{pattern:le(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Qe]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:le(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[tt]),lookbehind:!0,alias:"class-name",inside:Ee},"return-type":{pattern:le(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[ie,He]),inside:Ee,alias:"class-name"},"constructor-invocation":{pattern:le(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[ie]),lookbehind:!0,inside:Ee,alias:"class-name"},"generic-method":{pattern:le(/<<0>>\s*<<1>>(?=\s*\()/.source,[Qe,We]),inside:{function:le(/^<<0>>/.source,[Qe]),generic:{pattern:RegExp(We),alias:"class-name",inside:Ee}}},"type-list":{pattern:le(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Ce,it,Qe,ie,me.source,tt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:le(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[it,tt]),lookbehind:!0,greedy:!0,inside:Se.languages.csharp},keyword:me,"class-name":{pattern:RegExp(ie),greedy:!0,inside:Ee},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var qt=Xe+"|"+ot,bn=re(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[qt]),Kn=fe(re(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[bn]),2),zn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,fn=re(/<<0>>(?:\s*\(<<1>>*\))?/.source,[He,Kn]);Se.languages.insertBefore("csharp","class-name",{attribute:{pattern:le(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[zn,fn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:le(/^<<0>>(?=\s*:)/.source,[zn]),alias:"keyword"},"attribute-arguments":{pattern:le(/\(<<0>>*\)/.source,[Kn]),inside:Se.languages.csharp},"class-name":{pattern:RegExp(He),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var oo=/:[^}\r\n]+/.source,ft=fe(re(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[bn]),2),Tt=re(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[ft,oo]),sn=fe(re(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[qt]),2),kn=re(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[sn,oo]);function Pn($n,_o){return{interpolation:{pattern:le(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[$n]),lookbehind:!0,inside:{"format-string":{pattern:le(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[_o,oo]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Se.languages.csharp}}},string:/[\s\S]+/}}Se.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:le(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Tt]),lookbehind:!0,greedy:!0,inside:Pn(Tt,ft)},{pattern:le(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[kn]),lookbehind:!0,greedy:!0,inside:Pn(kn,sn)}],char:{pattern:RegExp(ot),greedy:!0}}),Se.languages.dotnet=Se.languages.cs=Se.languages.csharp}(De),function(Se){var re=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Se.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+re.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+re.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+re.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:re,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Se.languages.css.atrule.inside.rest=Se.languages.css;var le=Se.languages.markup;le&&(le.tag.addInlined("style","css"),le.tag.addAttribute("style","css"))}(De),function(Se){var re=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,le=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,fe={pattern:RegExp(/(^|[^\w.])/.source+le+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Se.languages.java=Se.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[fe,{pattern:RegExp(/(^|[^\w.])/.source+le+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:fe.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+le+/[A-Z]\w*\b/.source),lookbehind:!0,inside:fe.inside}],keyword:re,function:[Se.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Se.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Se.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":fe,keyword:re,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+le+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:fe.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+le+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:fe.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return re.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(De),De.languages.javascript=De.languages.extend("clike",{"class-name":[De.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),De.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,De.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:De.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:De.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:De.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:De.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:De.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),De.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:De.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),De.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),De.languages.markup&&(De.languages.markup.tag.addInlined("script","javascript"),De.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),De.languages.js=De.languages.javascript,De.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},De.languages.markup.tag.inside["attr-value"].inside.entity=De.languages.markup.entity,De.languages.markup.doctype.inside["internal-subset"].inside=De.languages.markup,De.hooks.add("wrap",function(Se){Se.type==="entity"&&(Se.attributes.title=Se.content.replace(/&amp;/,"&"))}),Object.defineProperty(De.languages.markup.tag,"addInlined",{value:function(re,le){var fe={};fe["language-"+le]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:De.languages[le]},fe.cdata=/^<!\[CDATA\[|\]\]>$/i;var ue={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:fe}};ue["language-"+le]={pattern:/[\s\S]+/,inside:De.languages[le]};var Be={};Be[re]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return re}),"i"),lookbehind:!0,greedy:!0,inside:ue},De.languages.insertBefore("markup","cdata",Be)}}),Object.defineProperty(De.languages.markup.tag,"addAttribute",{value:function(Se,re){De.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Se+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[re,"language-"+re],inside:De.languages[re]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),De.languages.html=De.languages.markup,De.languages.mathml=De.languages.markup,De.languages.svg=De.languages.markup,De.languages.xml=De.languages.extend("markup",{}),De.languages.ssml=De.languages.xml,De.languages.atom=De.languages.xml,De.languages.rss=De.languages.xml,function(Se){var re=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,le=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],fe=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,ue=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Be=/[{}\[\](),:;]/;Se.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:re,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:le,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:fe,operator:ue,punctuation:Be};var Ce={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Se.languages.php},me=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ce}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ce}}];Se.languages.insertBefore("php","variable",{string:me,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:re,string:me,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:le,number:fe,operator:ue,punctuation:Be}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Se.hooks.add("before-tokenize",function(q){if(!!/<\?/.test(q.code)){var Ze=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Se.languages["markup-templating"].buildPlaceholders(q,"php",Ze)}}),Se.hooks.add("after-tokenize",function(q){Se.languages["markup-templating"].tokenizePlaceholders(q,"php")})}(De),De.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},De.languages.python["string-interpolation"].inside.interpolation.inside.rest=De.languages.python,De.languages.py=De.languages.python,function(Se){Se.languages.ruby=Se.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Se.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var re={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Se.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Se.languages.ruby.function;var le="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",fe=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Se.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+le+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:re,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:re,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+fe),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+fe+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Se.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+le),greedy:!0,inside:{interpolation:re,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:re,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:re,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+le),greedy:!0,inside:{interpolation:re,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:re,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Se.languages.ruby.string,Se.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Se.languages.rb=Se.languages.ruby}(De),window.Prism=U,De}(void 0,void 0),x=he=>ve=>ve.options.get(he),T=he=>{const ve=he.options.register;ve("codesample_languages",{processor:"object[]"}),ve("codesample_global_prismjs",{processor:"boolean",default:!1})},E=x("codesample_languages"),k=x("codesample_global_prismjs"),F=he=>b.Prism&&k(he)?b.Prism:S,N=he=>s(he)&&he.nodeName==="PRE"&&he.className.indexOf("language-")!==-1,$=he=>{const ve=he.selection?he.selection.getNode():null;return N(ve)?c.some(ve):c.none()},D=(he,ve,qe)=>{const U=he.dom;he.undoManager.transact(()=>{const Fe=$(he);return qe=v.DOM.encode(qe),Fe.fold(()=>{he.insertContent('<pre id="__new" class="language-'+ve+'">'+qe+"</pre>");const De=U.select("#__new")[0];U.setAttrib(De,"id",null),he.selection.select(De)},De=>{U.setAttrib(De,"class","language-"+ve),De.innerHTML=qe,F(he).highlightElement(De),he.selection.select(De)})})},O=he=>$(he).bind(qe=>c.from(qe.textContent)).getOr(""),P=he=>{const ve=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],qe=E(he);return qe||ve},I=(he,ve)=>$(he).fold(()=>ve,U=>{const Fe=U.className.match(/language-(\w+)/);return Fe?Fe[1]:ve}),z=he=>{const ve=P(he),qe=p(ve).fold(l(""),De=>De.value),U=I(he,qe),Fe=O(he);he.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:ve},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:U,code:Fe},onSubmit:De=>{const Se=De.getData();D(he,Se.language,Se.code),De.close()}})},K=he=>{he.addCommand("codesample",()=>{const ve=he.selection.getNode();he.selection.isCollapsed()||N(ve)?z(he):he.formatter.toggle("code")})},oe=(he=>ve=>ve.replace(he,""))(/^\s+|\s+$/g);var xe=tinymce.util.Tools.resolve("tinymce.util.Tools");const se=he=>{he.on("PreProcess",ve=>{const qe=he.dom,U=qe.select("pre[contenteditable=false]",ve.node);xe.each(xe.grep(U,N),Fe=>{const De=Fe.textContent;qe.setAttrib(Fe,"class",oe(qe.getAttrib(Fe,"class"))),qe.setAttrib(Fe,"contentEditable",null),qe.setAttrib(Fe,"data-mce-highlighted",null);let Se;for(;Se=Fe.firstChild;)Fe.removeChild(Se);const re=qe.add(Fe,"code");re.textContent=De})}),he.on("SetContent",()=>{const ve=he.dom,qe=xe.grep(ve.select("pre"),U=>N(U)&&ve.getAttrib(U,"data-mce-highlighted")!=="true");qe.length&&he.undoManager.transact(()=>{xe.each(qe,U=>{var Fe;xe.each(ve.select("br",U),De=>{ve.replace(he.getDoc().createTextNode(`
`),De)}),U.innerHTML=ve.encode((Fe=U.textContent)!==null&&Fe!==void 0?Fe:""),F(he).highlightElement(U),ve.setAttrib(U,"data-mce-highlighted",!0),U.className=oe(U.className)})})}),he.on("PreInit",()=>{he.parser.addNodeFilter("pre",ve=>{var qe;for(let U=0,Fe=ve.length;U<Fe;U++){const De=ve[U];((qe=De.attr("class"))!==null&&qe!==void 0?qe:"").indexOf("language-")!==-1&&(De.attr("contenteditable","false"),De.attr("data-mce-highlighted","false"))}})})},Q=he=>{const ve=he.selection.getStart();return he.dom.is(ve,'pre[class*="language-"]')},G=he=>{const ve=()=>he.execCommand("codesample");he.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:ve,onSetup:qe=>{const U=()=>{qe.setActive(Q(he))};return he.on("NodeChange",U),()=>he.off("NodeChange",U)}}),he.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:ve})};var ce=()=>{e.add("codesample",he=>{T(he),se(he),G(he),K(he),he.on("dblclick",ve=>{N(ve.target)&&z(he)})})};ce()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(ft,Tt,sn)=>{var kn;return sn(ft,Tt.prototype)?!0:((kn=ft.constructor)===null||kn===void 0?void 0:kn.name)===Tt.name},s=ft=>{const Tt=typeof ft;return ft===null?"null":Tt==="object"&&Array.isArray(ft)?"array":Tt==="object"&&o(ft,String,(sn,kn)=>kn.isPrototypeOf(sn))?"string":Tt},l=ft=>Tt=>s(Tt)===ft,c=ft=>Tt=>typeof Tt===ft,d=l("string"),p=c("boolean"),v=ft=>ft==null,b=ft=>!v(ft),S=c("function"),x=c("number"),T=(ft,Tt)=>sn=>ft(Tt(sn)),k=(ft=>()=>ft)(!1);class F{constructor(Tt,sn){this.tag=Tt,this.value=sn}static some(Tt){return new F(!0,Tt)}static none(){return F.singletonNone}fold(Tt,sn){return this.tag?sn(this.value):Tt()}isSome(){return this.tag}isNone(){return!this.tag}map(Tt){return this.tag?F.some(Tt(this.value)):F.none()}bind(Tt){return this.tag?Tt(this.value):F.none()}exists(Tt){return this.tag&&Tt(this.value)}forall(Tt){return!this.tag||Tt(this.value)}filter(Tt){return!this.tag||Tt(this.value)?this:F.none()}getOr(Tt){return this.tag?this.value:Tt}or(Tt){return this.tag?this:Tt}getOrThunk(Tt){return this.tag?this.value:Tt()}orThunk(Tt){return this.tag?this:Tt()}getOrDie(Tt){if(this.tag)return this.value;throw new Error(Tt!=null?Tt:"Called getOrDie on None")}static from(Tt){return b(Tt)?F.some(Tt):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Tt){this.tag&&Tt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const N=(ft,Tt)=>{const sn=ft.length,kn=new Array(sn);for(let Pn=0;Pn<sn;Pn++){const $n=ft[Pn];kn[Pn]=Tt($n,Pn)}return kn},$=(ft,Tt)=>{for(let sn=0,kn=ft.length;sn<kn;sn++){const Pn=ft[sn];Tt(Pn,sn)}},D=(ft,Tt)=>{const sn=[];for(let kn=0,Pn=ft.length;kn<Pn;kn++){const $n=ft[kn];Tt($n,kn)&&sn.push($n)}return sn},O=9,P=11,I=1,z=3,K=(ft,Tt)=>{const kn=(Tt||document).createElement("div");if(kn.innerHTML=ft,!kn.hasChildNodes()||kn.childNodes.length>1){const Pn="HTML does not have a single root node";throw console.error(Pn,ft),new Error(Pn)}return xe(kn.childNodes[0])},j=(ft,Tt)=>{const kn=(Tt||document).createElement(ft);return xe(kn)},oe=(ft,Tt)=>{const kn=(Tt||document).createTextNode(ft);return xe(kn)},xe=ft=>{if(ft==null)throw new Error("Node cannot be null or undefined");return{dom:ft}},Q={fromHtml:K,fromTag:j,fromText:oe,fromDom:xe,fromPoint:(ft,Tt,sn)=>F.from(ft.dom.elementFromPoint(Tt,sn)).map(xe)},G=(ft,Tt)=>{const sn=ft.dom;if(sn.nodeType!==I)return!1;{const kn=sn;if(kn.matches!==void 0)return kn.matches(Tt);if(kn.msMatchesSelector!==void 0)return kn.msMatchesSelector(Tt);if(kn.webkitMatchesSelector!==void 0)return kn.webkitMatchesSelector(Tt);if(kn.mozMatchesSelector!==void 0)return kn.mozMatchesSelector(Tt);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const ce=ft=>ft.dom.nodeName.toLowerCase(),he=ft=>ft.dom.nodeType,ve=ft=>Tt=>he(Tt)===ft,qe=ve(I),U=ve(z),Fe=ve(O),De=ve(P),Se=ft=>Tt=>qe(Tt)&&ce(Tt)===ft,re=ft=>Q.fromDom(ft.dom.ownerDocument),le=ft=>Fe(ft)?ft:re(ft),fe=ft=>F.from(ft.dom.parentNode).map(Q.fromDom),ue=ft=>N(ft.dom.childNodes,Q.fromDom),Be=(ft,Tt,sn)=>{if(d(sn)||p(sn)||x(sn))ft.setAttribute(Tt,sn+"");else throw console.error("Invalid call to Attribute.set. Key ",Tt,":: Value ",sn,":: Element ",ft),new Error("Attribute value was not simple")},Ce=(ft,Tt,sn)=>{Be(ft.dom,Tt,sn)},me=(ft,Tt)=>{ft.dom.removeAttribute(Tt)},q=ft=>De(ft)&&b(ft.dom.host),We=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode)?ft=>Q.fromDom(ft.dom.getRootNode()):le,tt=ft=>{const Tt=We(ft);return q(Tt)?F.some(Tt):F.none()},Qe=ft=>Q.fromDom(ft.dom.host),it=ft=>{const Tt=U(ft)?ft.dom.parentNode:ft.dom;if(Tt==null||Tt.ownerDocument===null)return!1;const sn=Tt.ownerDocument;return tt(Q.fromDom(Tt)).fold(()=>sn.body.contains(Tt),T(it,Qe))},He=(ft,Tt,sn)=>{let kn=ft.dom;const Pn=S(sn)?sn:k;for(;kn.parentNode;){kn=kn.parentNode;const $n=Q.fromDom(kn);if(Tt($n))return F.some($n);if(Pn($n))break}return F.none()},Re=(ft,Tt,sn)=>He(ft,kn=>G(kn,Tt),sn),Ve=ft=>ft.style!==void 0&&S(ft.style.getPropertyValue),Oe=(ft,Tt)=>{const sn=ft.dom,Pn=window.getComputedStyle(sn).getPropertyValue(Tt);return Pn===""&&!it(ft)?be(sn,Tt):Pn},be=(ft,Tt)=>Ve(ft)?ft.style.getPropertyValue(Tt):"",ie=ft=>Oe(ft,"direction")==="rtl"?"rtl":"ltr",Ee=(ft,Tt)=>D(ue(ft),Tt),ot=(ft,Tt)=>Ee(ft,sn=>G(sn,Tt)),Xe=ft=>fe(ft).filter(qe),zt=(ft,Tt)=>(Tt?Re(ft,"ol,ul"):F.some(ft)).getOr(ft),qt=Se("li"),bn=(ft,Tt)=>{const sn=ft.selection.getSelectedBlocks();sn.length>0&&($(sn,kn=>{const Pn=Q.fromDom(kn),$n=qt(Pn),_o=zt(Pn,$n);Xe(_o).each(Ot=>{if(ie(Ot)!==Tt?Ce(_o,"dir",Tt):ie(_o)!==Tt&&me(_o,"dir"),$n){const wn=ot(_o,"li[dir]");$(wn,xn=>me(xn,"dir"))}})}),ft.nodeChanged())},Kn=ft=>{ft.addCommand("mceDirectionLTR",()=>{bn(ft,"ltr")}),ft.addCommand("mceDirectionRTL",()=>{bn(ft,"rtl")})},zn=(ft,Tt)=>sn=>{const kn=Pn=>{const $n=Q.fromDom(Pn.element);sn.setActive(ie($n)===Tt)};return ft.on("NodeChange",kn),()=>ft.off("NodeChange",kn)},fn=ft=>{ft.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>ft.execCommand("mceDirectionLTR"),onSetup:zn(ft,"ltr")}),ft.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>ft.execCommand("mceDirectionRTL"),onSetup:zn(ft,"rtl")})};var oo=()=>{e.add("directionality",ft=>{Kn(ft),fn(ft)})};oo()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=Oe=>be=>Oe===be,s=o(null),l=o(void 0),c=Oe=>Oe==null,d=Oe=>!c(Oe),p=()=>{},b=(Oe=>()=>Oe)(!1);class S{constructor(be,ie){this.tag=be,this.value=ie}static some(be){return new S(!0,be)}static none(){return S.singletonNone}fold(be,ie){return this.tag?ie(this.value):be()}isSome(){return this.tag}isNone(){return!this.tag}map(be){return this.tag?S.some(be(this.value)):S.none()}bind(be){return this.tag?be(this.value):S.none()}exists(be){return this.tag&&be(this.value)}forall(be){return!this.tag||be(this.value)}filter(be){return!this.tag||be(this.value)?this:S.none()}getOr(be){return this.tag?this.value:be}or(be){return this.tag?this:be}getOrThunk(be){return this.tag?this.value:be()}orThunk(be){return this.tag?this:be()}getOrDie(be){if(this.tag)return this.value;throw new Error(be!=null?be:"Called getOrDie on None")}static from(be){return d(be)?S.some(be):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(be){this.tag&&be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const x=(Oe,be)=>{for(let ie=0,Ee=Oe.length;ie<Ee;ie++){const ot=Oe[ie];if(be(ot,ie))return!0}return!1},T=(Oe,be)=>{const ie=Oe.length,Ee=new Array(ie);for(let ot=0;ot<ie;ot++){const Xe=Oe[ot];Ee[ot]=be(Xe,ot)}return Ee},E=(Oe,be)=>{for(let ie=0,Ee=Oe.length;ie<Ee;ie++){const ot=Oe[ie];be(ot,ie)}},k=Oe=>{let be=Oe;return{get:()=>be,set:ot=>{be=ot}}},F=(Oe,be)=>{let ie=null;const Ee=()=>{s(ie)||(clearTimeout(ie),ie=null)};return{cancel:Ee,throttle:(...Xe)=>{Ee(),ie=setTimeout(()=>{ie=null,Oe.apply(null,Xe)},be)}}},N=(Oe,be)=>{Oe.insertContent(be)},$=Object.keys,D=Object.hasOwnProperty,O=(Oe,be)=>{const ie=$(Oe);for(let Ee=0,ot=ie.length;Ee<ot;Ee++){const Xe=ie[Ee],zt=Oe[Xe];be(zt,Xe)}},P=(Oe,be)=>I(Oe,(ie,Ee)=>({k:Ee,v:be(ie,Ee)})),I=(Oe,be)=>{const ie={};return O(Oe,(Ee,ot)=>{const Xe=be(Ee,ot);ie[Xe.k]=Xe.v}),ie},z=(Oe,be)=>D.call(Oe,be),oe=(Oe=>(...be)=>{if(be.length===0)throw new Error("Can't merge zero objects");const ie={};for(let Ee=0;Ee<be.length;Ee++){const ot=be[Ee];for(const Xe in ot)z(ot,Xe)&&(ie[Xe]=Oe(ie[Xe],ot[Xe]))}return ie})((Oe,be)=>be),xe=Oe=>{const be=k(S.none()),ie=()=>be.get().each(Oe);return{clear:()=>{ie(),be.set(S.none())},isSet:()=>be.get().isSome(),get:()=>be.get(),set:qt=>{ie(),be.set(S.some(qt))}}},se=()=>{const Oe=xe(p);return{...Oe,on:ie=>Oe.get().each(ie)}},Q=(Oe,be,ie)=>be===""||Oe.length>=be.length&&Oe.substr(ie,ie+be.length)===be,G=(Oe,be,ie=0,Ee)=>{const ot=Oe.indexOf(be,ie);return ot!==-1?l(Ee)?!0:ot+be.length<=Ee:!1},ce=(Oe,be)=>Q(Oe,be,0);var he=tinymce.util.Tools.resolve("tinymce.Resource");const ve="tinymce.plugins.emoticons",qe=Oe=>be=>be.options.get(Oe),U=(Oe,be)=>{const ie=Oe.options.register;ie("emoticons_database",{processor:"string",default:"emojis"}),ie("emoticons_database_url",{processor:"string",default:`${be}/js/${Fe(Oe)}${Oe.suffix}.js`}),ie("emoticons_database_id",{processor:"string",default:ve}),ie("emoticons_append",{processor:"object",default:{}}),ie("emoticons_images_url",{processor:"string",default:"https://twemoji.maxcdn.com/v/13.0.1/72x72/"})},Fe=qe("emoticons_database"),De=qe("emoticons_database_url"),Se=qe("emoticons_database_id"),re=qe("emoticons_append"),le=qe("emoticons_images_url"),fe="All",ue={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},Be=(Oe,be)=>z(Oe,be)?Oe[be]:be,Ce=Oe=>{const be=re(Oe);return P(be,ie=>({keywords:[],category:"user",...ie}))},me=(Oe,be,ie)=>{const Ee=se(),ot=se(),Xe=le(Oe),zt=ft=>ce(ft.char,"<img")?ft.char.replace(/src="([^"]+)"/,(Tt,sn)=>`src="${Xe}${sn}"`):ft.char,qt=ft=>{const Tt={},sn=[];O(ft,(kn,Pn)=>{const $n={title:Pn,keywords:kn.keywords,char:zt(kn),category:Be(ue,kn.category)},_o=Tt[$n.category]!==void 0?Tt[$n.category]:[];Tt[$n.category]=_o.concat([$n]),sn.push($n)}),Ee.set(Tt),ot.set(sn)};Oe.on("init",()=>{he.load(ie,be).then(ft=>{const Tt=Ce(Oe);qt(oe(ft,Tt))},ft=>{console.log(`Failed to load emojis: ${ft}`),Ee.set({}),ot.set([])})});const bn=ft=>ft===fe?Kn():Ee.get().bind(Tt=>S.from(Tt[ft])).getOr([]),Kn=()=>ot.get().getOr([]),zn=()=>[fe].concat($(Ee.get().getOr({}))),fn=()=>oo()?Promise.resolve(!0):new Promise((ft,Tt)=>{let sn=15;const kn=setInterval(()=>{oo()?(clearInterval(kn),ft(!0)):(sn--,sn<0&&(console.log("Could not load emojis from url: "+be),clearInterval(kn),Tt(!1)))},100)}),oo=()=>Ee.isSet()&&ot.isSet();return{listCategories:zn,hasLoaded:oo,waitForLoad:fn,listAll:Kn,listCategory:bn}},q=(Oe,be)=>G(Oe.title.toLowerCase(),be)||x(Oe.keywords,ie=>G(ie.toLowerCase(),be)),Ze=(Oe,be,ie)=>{const Ee=[],ot=be.toLowerCase(),Xe=ie.fold(()=>b,zt=>qt=>qt>=zt);for(let zt=0;zt<Oe.length&&!((be.length===0||q(Oe[zt],ot))&&(Ee.push({value:Oe[zt].char,text:Oe[zt].title,icon:Oe[zt].char}),Xe(Ee.length)));zt++);return Ee},We="pattern",tt=(Oe,be)=>{const ie={pattern:"",results:Ze(be.listAll(),"",S.some(300))},Ee=k(fe),ot=zn=>{const fn=zn.getData(),oo=Ee.get(),ft=be.listCategory(oo),Tt=Ze(ft,fn[We],oo===fe?S.some(300):S.none());zn.setData({results:Tt})},Xe=F(zn=>{ot(zn)},200),zt={label:"Search",type:"input",name:We},qt={type:"collection",name:"results"},bn=()=>{const zn={type:"tabpanel",tabs:T(be.listCategories(),fn=>({title:fn,name:fn,items:[zt,qt]}))};return{title:"Emojis",size:"normal",body:zn,initialData:ie,onTabChange:(fn,oo)=>{Ee.set(oo.newTabName),Xe.throttle(fn)},onChange:Xe.throttle,onAction:(fn,oo)=>{oo.name==="results"&&(N(Oe,oo.value),fn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},Kn=Oe.windowManager.open(bn());Kn.focus(We),be.hasLoaded()||(Kn.block("Loading emojis..."),be.waitForLoad().then(()=>{Kn.redial(bn()),Xe.throttle(Kn),Kn.focus(We),Kn.unblock()}).catch(zn=>{Kn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),Kn.focus(We),Kn.unblock()}))},Qe=(Oe,be)=>{Oe.addCommand("mceEmoticons",()=>tt(Oe,be))},it=Oe=>{Oe.on("PreInit",()=>{Oe.parser.addAttributeFilter("data-emoticon",be=>{E(be,ie=>{ie.attr("data-mce-resize","false"),ie.attr("data-mce-placeholder","1")})})})},He=(Oe,be)=>{Oe.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(ie,Ee)=>be.waitForLoad().then(()=>{const ot=be.listAll();return Ze(ot,ie,S.some(Ee))}),onAction:(ie,Ee,ot)=>{Oe.selection.setRng(Ee),Oe.insertContent(ot),ie.hide()}})},Re=Oe=>{const be=()=>Oe.execCommand("mceEmoticons");Oe.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:be}),Oe.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:be})};var Ve=()=>{e.add("emoticons",(Oe,be)=>{U(Oe,be);const ie=De(Oe),Ee=Se(Oe),ot=me(Oe,ie,Ee);Qe(Oe,ot),Re(Oe),He(Oe,ot),it(Oe)})};Ve()})();(function(){const e=Ye=>{let at=Ye;return{get:()=>at,set:ro=>{at=ro}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=Ye=>({isFullscreen:()=>Ye.get()!==null}),l=(Ye,at,Ft)=>{var Vt;return Ft(Ye,at.prototype)?!0:((Vt=Ye.constructor)===null||Vt===void 0?void 0:Vt.name)===at.name},c=Ye=>{const at=typeof Ye;return Ye===null?"null":at==="object"&&Array.isArray(Ye)?"array":at==="object"&&l(Ye,String,(Ft,Vt)=>Vt.isPrototypeOf(Ft))?"string":at},d=Ye=>at=>c(at)===Ye,p=Ye=>at=>typeof at===Ye,v=Ye=>at=>Ye===at,b=d("string"),S=d("array"),x=v(null),T=p("boolean"),E=v(void 0),k=Ye=>Ye==null,F=Ye=>!k(Ye),N=p("function"),$=p("number"),D=()=>{},O=(Ye,at)=>(...Ft)=>Ye(at.apply(null,Ft)),P=(Ye,at)=>Ft=>Ye(at(Ft)),I=Ye=>()=>Ye;function z(Ye,...at){return(...Ft)=>{const Vt=at.concat(Ft);return Ye.apply(null,Vt)}}const K=I(!1),j=I(!0);class oe{constructor(at,Ft){this.tag=at,this.value=Ft}static some(at){return new oe(!0,at)}static none(){return oe.singletonNone}fold(at,Ft){return this.tag?Ft(this.value):at()}isSome(){return this.tag}isNone(){return!this.tag}map(at){return this.tag?oe.some(at(this.value)):oe.none()}bind(at){return this.tag?at(this.value):oe.none()}exists(at){return this.tag&&at(this.value)}forall(at){return!this.tag||at(this.value)}filter(at){return!this.tag||at(this.value)?this:oe.none()}getOr(at){return this.tag?this.value:at}or(at){return this.tag?this:at}getOrThunk(at){return this.tag?this.value:at()}orThunk(at){return this.tag?this:at()}getOrDie(at){if(this.tag)return this.value;throw new Error(at!=null?at:"Called getOrDie on None")}static from(at){return F(at)?oe.some(at):oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(at){this.tag&&at(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}oe.singletonNone=new oe(!1);const xe=Ye=>{const at=e(oe.none()),Ft=()=>at.get().each(Ye);return{clear:()=>{Ft(),at.set(oe.none())},isSet:()=>at.get().isSome(),get:()=>at.get(),set:Er=>{Ft(),at.set(oe.some(Er))}}},se=()=>xe(Ye=>Ye.unbind()),Q=()=>{const Ye=xe(D);return{...Ye,on:Ft=>Ye.get().each(Ft)}},G=(Ye,at)=>{let Ft=null;return{cancel:()=>{x(Ft)||(clearTimeout(Ft),Ft=null)},throttle:(...ko)=>{x(Ft)&&(Ft=setTimeout(()=>{Ft=null,Ye.apply(null,ko)},at))}}},ce=Array.prototype.push,he=(Ye,at)=>{const Ft=Ye.length,Vt=new Array(Ft);for(let ro=0;ro<Ft;ro++){const ko=Ye[ro];Vt[ro]=at(ko,ro)}return Vt},ve=(Ye,at)=>{for(let Ft=0,Vt=Ye.length;Ft<Vt;Ft++){const ro=Ye[Ft];at(ro,Ft)}},qe=(Ye,at)=>{const Ft=[];for(let Vt=0,ro=Ye.length;Vt<ro;Vt++){const ko=Ye[Vt];at(ko,Vt)&&Ft.push(ko)}return Ft},U=(Ye,at,Ft)=>{for(let Vt=0,ro=Ye.length;Vt<ro;Vt++){const ko=Ye[Vt];if(at(ko,Vt))return oe.some(ko);if(Ft(ko,Vt))break}return oe.none()},Fe=(Ye,at)=>U(Ye,at,K),De=Ye=>{const at=[];for(let Ft=0,Vt=Ye.length;Ft<Vt;++Ft){if(!S(Ye[Ft]))throw new Error("Arr.flatten item "+Ft+" was not an array, input: "+Ye);ce.apply(at,Ye[Ft])}return at},Se=(Ye,at)=>De(he(Ye,at)),re=(Ye,at)=>at>=0&&at<Ye.length?oe.some(Ye[at]):oe.none(),le=Ye=>re(Ye,0),fe=(Ye,at)=>{for(let Ft=0;Ft<Ye.length;Ft++){const Vt=at(Ye[Ft],Ft);if(Vt.isSome())return Vt}return oe.none()},ue=Object.keys,Be=(Ye,at)=>{const Ft=ue(Ye);for(let Vt=0,ro=Ft.length;Vt<ro;Vt++){const ko=Ft[Vt],xs=Ye[ko];at(xs,ko)}},Ce=(Ye,at,Ft=0,Vt)=>{const ro=Ye.indexOf(at,Ft);return ro!==-1?E(Vt)?!0:ro+at.length<=Vt:!1},me=Ye=>Ye.style!==void 0&&N(Ye.style.getPropertyValue),q=(Ye,at)=>{const Vt=(at||document).createElement("div");if(Vt.innerHTML=Ye,!Vt.hasChildNodes()||Vt.childNodes.length>1){const ro="HTML does not have a single root node";throw console.error(ro,Ye),new Error(ro)}return tt(Vt.childNodes[0])},Ze=(Ye,at)=>{const Vt=(at||document).createElement(Ye);return tt(Vt)},We=(Ye,at)=>{const Vt=(at||document).createTextNode(Ye);return tt(Vt)},tt=Ye=>{if(Ye==null)throw new Error("Node cannot be null or undefined");return{dom:Ye}},it={fromHtml:q,fromTag:Ze,fromText:We,fromDom:tt,fromPoint:(Ye,at,Ft)=>oe.from(Ye.dom.elementFromPoint(at,Ft)).map(tt)};typeof window<"u"||Function("return this;")();const He=9,Re=11,Ve=1,Oe=3,be=Ye=>Ye.dom.nodeType,ie=Ye=>at=>be(at)===Ye,Ee=ie(Ve),ot=ie(Oe),Xe=ie(He),zt=ie(Re),qt=(Ye,at)=>{const Ft=Ye.dom;if(Ft.nodeType!==Ve)return!1;{const Vt=Ft;if(Vt.matches!==void 0)return Vt.matches(at);if(Vt.msMatchesSelector!==void 0)return Vt.msMatchesSelector(at);if(Vt.webkitMatchesSelector!==void 0)return Vt.webkitMatchesSelector(at);if(Vt.mozMatchesSelector!==void 0)return Vt.mozMatchesSelector(at);throw new Error("Browser lacks native selectors")}},bn=Ye=>Ye.nodeType!==Ve&&Ye.nodeType!==He&&Ye.nodeType!==Re||Ye.childElementCount===0,Kn=(Ye,at)=>{const Ft=at===void 0?document:at.dom;return bn(Ft)?[]:he(Ft.querySelectorAll(Ye),it.fromDom)},zn=(Ye,at)=>Ye.dom===at.dom,fn=Ye=>it.fromDom(Ye.dom.ownerDocument),oo=Ye=>Xe(Ye)?Ye:fn(Ye),ft=Ye=>oe.from(Ye.dom.parentNode).map(it.fromDom),Tt=(Ye,at)=>{const Ft=N(at)?at:K;let Vt=Ye.dom;const ro=[];for(;Vt.parentNode!==null&&Vt.parentNode!==void 0;){const ko=Vt.parentNode,xs=it.fromDom(ko);if(ro.push(xs),Ft(xs)===!0)break;Vt=ko}return ro},sn=Ye=>{const at=Ft=>qe(Ft,Vt=>!zn(Ye,Vt));return ft(Ye).map(kn).map(at).getOr([])},kn=Ye=>he(Ye.dom.childNodes,it.fromDom),Pn=Ye=>zt(Ye)&&F(Ye.dom.host),$n=N(Element.prototype.attachShadow)&&N(Node.prototype.getRootNode),_o=I($n),mr=$n?Ye=>it.fromDom(Ye.dom.getRootNode()):oo,Ot=Ye=>{const at=mr(Ye);return Pn(at)?oe.some(at):oe.none()},Ct=Ye=>it.fromDom(Ye.dom.host),wn=Ye=>{if(_o()&&F(Ye.target)){const at=it.fromDom(Ye.target);if(Ee(at)&&xn(at)&&Ye.composed&&Ye.composedPath){const Ft=Ye.composedPath();if(Ft)return le(Ft)}}return oe.from(Ye.target)},xn=Ye=>F(Ye.dom.shadowRoot),pn=Ye=>{const at=ot(Ye)?Ye.dom.parentNode:Ye.dom;if(at==null||at.ownerDocument===null)return!1;const Ft=at.ownerDocument;return Ot(it.fromDom(at)).fold(()=>Ft.body.contains(at),P(pn,Ct))},eo=Ye=>{const at=Ye.dom.body;if(at==null)throw new Error("Body is not available yet");return it.fromDom(at)},yr=(Ye,at,Ft)=>{if(b(Ft)||T(Ft)||$(Ft))Ye.setAttribute(at,Ft+"");else throw console.error("Invalid call to Attribute.set. Key ",at,":: Value ",Ft,":: Element ",Ye),new Error("Attribute value was not simple")},Ts=(Ye,at,Ft)=>{yr(Ye.dom,at,Ft)},ci=(Ye,at)=>{const Ft=Ye.dom.getAttribute(at);return Ft===null?void 0:Ft},pr=(Ye,at)=>{Ye.dom.removeAttribute(at)},xi=(Ye,at,Ft)=>{if(!b(Ft))throw console.error("Invalid call to CSS.set. Property ",at,":: Value ",Ft,":: Element ",Ye),new Error("CSS value must be a string: "+Ft);me(Ye)&&Ye.style.setProperty(at,Ft)},wr=(Ye,at)=>{const Ft=Ye.dom;Be(at,(Vt,ro)=>{xi(Ft,ro,Vt)})},Jo=(Ye,at)=>{const Ft=Ye.dom,ro=window.getComputedStyle(Ft).getPropertyValue(at);return ro===""&&!pn(Ye)?To(Ft,at):ro},To=(Ye,at)=>me(Ye)?Ye.style.getPropertyValue(at):"",Es=(Ye,at,Ft,Vt,ro,ko,xs)=>({target:Ye,x:at,y:Ft,stop:Vt,prevent:ro,kill:ko,raw:xs}),si=Ye=>{const at=it.fromDom(wn(Ye).getOr(Ye.target)),Ft=()=>Ye.stopPropagation(),Vt=()=>Ye.preventDefault(),ro=O(Vt,Ft);return Es(at,Ye.clientX,Ye.clientY,Ft,Vt,ro,Ye)},Vr=(Ye,at)=>Ft=>{Ye(Ft)&&at(si(Ft))},ui=(Ye,at,Ft,Vt,ro)=>{const ko=Vr(Ft,Vt);return Ye.dom.addEventListener(at,ko,ro),{unbind:z(ra,Ye,at,ko,ro)}},Yr=(Ye,at,Ft,Vt)=>ui(Ye,at,Ft,Vt,!1),ra=(Ye,at,Ft,Vt)=>{Ye.dom.removeEventListener(at,Ft,Vt)},ls=j,Ti=(Ye,at,Ft)=>Yr(Ye,at,ls,Ft),dt=Ye=>{let at=!1,Ft;return(...Vt)=>(at||(at=!0,Ft=Ye.apply(null,Vt)),Ft)},Le=(Ye,at,Ft,Vt)=>{const ro=Ye.isiOS()&&/ipad/i.test(Ft)===!0,ko=Ye.isiOS()&&!ro,xs=Ye.isiOS()||Ye.isAndroid(),Er=xs||Vt("(pointer:coarse)"),Uc=ro||!ko&&xs&&Vt("(min-device-width:768px)"),Fr=ko||xs&&!Uc,Xr=at.isSafari()&&Ye.isiOS()&&/safari/i.test(Ft)===!1,pa=!Fr&&!Uc&&!Xr;return{isiPad:I(ro),isiPhone:I(ko),isTablet:I(Uc),isPhone:I(Fr),isTouch:I(Er),isAndroid:Ye.isAndroid,isiOS:Ye.isiOS,isWebView:I(Xr),isDesktop:I(pa)}},Pt=(Ye,at)=>{for(let Ft=0;Ft<Ye.length;Ft++){const Vt=Ye[Ft];if(Vt.test(at))return Vt}},Zt=(Ye,at)=>{const Ft=Pt(Ye,at);if(!Ft)return{major:0,minor:0};const Vt=ro=>Number(at.replace(Ft,"$"+ro));return Xn(Vt(1),Vt(2))},to=(Ye,at)=>{const Ft=String(at).toLowerCase();return Ye.length===0?uo():Zt(Ye,Ft)},uo=()=>Xn(0,0),Xn=(Ye,at)=>({major:Ye,minor:at}),vr={nu:Xn,detect:to,unknown:uo},zo=(Ye,at)=>fe(at.brands,Ft=>{const Vt=Ft.brand.toLowerCase();return Fe(Ye,ro=>{var ko;return Vt===((ko=ro.brand)===null||ko===void 0?void 0:ko.toLowerCase())}).map(ro=>({current:ro.name,version:vr.nu(parseInt(Ft.version,10),0)}))}),Fo=(Ye,at)=>{const Ft=String(at).toLowerCase();return Fe(Ye,Vt=>Vt.search(Ft))},Cs=(Ye,at)=>Fo(Ye,at).map(Ft=>{const Vt=vr.detect(Ft.versionRegexes,at);return{current:Ft.name,version:Vt}}),dn=(Ye,at)=>Fo(Ye,at).map(Ft=>{const Vt=vr.detect(Ft.versionRegexes,at);return{current:Ft.name,version:Vt}}),lt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ut=Ye=>at=>Ce(at,Ye),en=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:Ye=>Ce(Ye,"edge/")&&Ce(Ye,"chrome")&&Ce(Ye,"safari")&&Ce(Ye,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lt],search:Ye=>Ce(Ye,"chrome")&&!Ce(Ye,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:Ye=>Ce(Ye,"msie")||Ce(Ye,"trident")},{name:"Opera",versionRegexes:[lt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ut("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ut("firefox")},{name:"Safari",versionRegexes:[lt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:Ye=>(Ce(Ye,"safari")||Ce(Ye,"mobile/"))&&Ce(Ye,"applewebkit")}],En=[{name:"Windows",search:ut("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:Ye=>Ce(Ye,"iphone")||Ce(Ye,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ut("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ut("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ut("linux"),versionRegexes:[]},{name:"Solaris",search:ut("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ut("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ut("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],An={browsers:I(en),oses:I(En)},Un="Edge",_n="Chromium",Jn="IE",go="Opera",$o="Firefox",Hr="Safari",ks=()=>Qo({current:void 0,version:vr.unknown()}),Qo=Ye=>{const at=Ye.current,Ft=Ye.version,Vt=ro=>()=>at===ro;return{current:at,version:Ft,isEdge:Vt(Un),isChromium:Vt(_n),isIE:Vt(Jn),isOpera:Vt(go),isFirefox:Vt($o),isSafari:Vt(Hr)}},fa={unknown:ks,nu:Qo,edge:I(Un),chromium:I(_n),ie:I(Jn),opera:I(go),firefox:I($o),safari:I(Hr)},sr="Windows",Tr="iOS",Or="Android",Js="Linux",Ls="macOS",Ea="Solaris",Fi="FreeBSD",da="ChromeOS",fl=()=>Ma({current:void 0,version:vr.unknown()}),Ma=Ye=>{const at=Ye.current,Ft=Ye.version,Vt=ro=>()=>at===ro;return{current:at,version:Ft,isWindows:Vt(sr),isiOS:Vt(Tr),isAndroid:Vt(Or),isMacOS:Vt(Ls),isLinux:Vt(Js),isSolaris:Vt(Ea),isFreeBSD:Vt(Fi),isChromeOS:Vt(da)}},ka={unknown:fl,nu:Ma,windows:I(sr),ios:I(Tr),android:I(Or),linux:I(Js),macos:I(Ls),solaris:I(Ea),freebsd:I(Fi),chromeos:I(da)},Ri={detect:(Ye,at,Ft)=>{const Vt=An.browsers(),ro=An.oses(),ko=at.bind(Uc=>zo(Vt,Uc)).orThunk(()=>Cs(Vt,Ye)).fold(fa.unknown,fa.nu),xs=dn(ro,Ye).fold(ka.unknown,ka.nu),Er=Le(xs,ko,Ye,Ft);return{browser:ko,os:xs,deviceType:Er}}},Ws=Ye=>window.matchMedia(Ye).matches;let sa=dt(()=>Ri.detect(navigator.userAgent,oe.from(navigator.userAgentData),Ws));const Oi=()=>sa(),Aa=(Ye,at)=>({left:Ye,top:at,translate:(Vt,ro)=>Aa(Ye+Vt,at+ro)}),mi=Aa,dl=Ye=>{const at=Ye!==void 0?Ye.dom:document,Ft=at.body.scrollLeft||at.documentElement.scrollLeft,Vt=at.body.scrollTop||at.documentElement.scrollTop;return mi(Ft,Vt)},ha=Ye=>{const at=Ye===void 0?window:Ye;return Oi().browser.isFirefox()?oe.none():oe.from(at.visualViewport)},hl=(Ye,at,Ft,Vt)=>({x:Ye,y:at,width:Ft,height:Vt,right:Ye+Ft,bottom:at+Vt}),Sr=Ye=>{const at=Ye===void 0?window:Ye,Ft=at.document,Vt=dl(it.fromDom(Ft));return ha(at).fold(()=>{const ro=at.document.documentElement,ko=ro.clientWidth,xs=ro.clientHeight;return hl(Vt.left,Vt.top,ko,xs)},ro=>hl(Math.max(ro.pageLeft,Vt.left),Math.max(ro.pageTop,Vt.top),ro.width,ro.height))},vi=(Ye,at,Ft)=>ha(Ft).map(Vt=>{const ro=ko=>at(si(ko));return Vt.addEventListener(Ye,ro),{unbind:()=>Vt.removeEventListener(Ye,ro)}}).getOrThunk(()=>({unbind:D}));var Ue=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),pt=tinymce.util.Tools.resolve("tinymce.Env");const xt=(Ye,at)=>{Ye.dispatch("FullscreenStateChanged",{state:at}),Ye.dispatch("ResizeEditor")},Gt=Ye=>at=>at.options.get(Ye),mn=Ye=>{const at=Ye.options.register;at("fullscreen_native",{processor:"boolean",default:!1})},Do=Gt("fullscreen_native"),or=Ye=>{const at=it.fromDom(Ye.getElement());return Ot(at).map(Ct).getOrThunk(()=>eo(fn(at)))},Os=Ye=>Ye.fullscreenElement!==void 0?Ye.fullscreenElement:Ye.msFullscreenElement!==void 0?Ye.msFullscreenElement:Ye.webkitFullscreenElement!==void 0?Ye.webkitFullscreenElement:null,xr=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",Ns=Ye=>{const at=Ye.dom;at.requestFullscreen?at.requestFullscreen():at.msRequestFullscreen?at.msRequestFullscreen():at.webkitRequestFullScreen&&at.webkitRequestFullScreen()},Ss=Ye=>{const at=Ye.dom;at.exitFullscreen?at.exitFullscreen():at.msExitFullscreen?at.msExitFullscreen():at.webkitCancelFullScreen&&at.webkitCancelFullScreen()},Hs=Ye=>Ye.dom===Os(fn(Ye).dom),Mi=(Ye,at,Ft)=>qe(Tt(Ye,Ft),at),ae=(Ye,at)=>qe(sn(Ye),at),Ke=Ye=>Kn(Ye),St=(Ye,at,Ft)=>Mi(Ye,Vt=>qt(Vt,at),Ft),cn=(Ye,at)=>ae(Ye,Ft=>qt(Ft,at)),Fn="data-ephox-mobile-fullscreen-style",Hn="display:none!important;",Ro="position:absolute!important;",pe="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",je="background-color:rgb(255,255,255)!important;",et=pt.os.isAndroid(),Nt=Ye=>{const at=Jo(Ye,"background-color");return at!==void 0&&at!==""?"background-color:"+at+"!important":je},Dn=(Ye,at,Ft)=>{const Vt=Fr=>cn(Fr,"*:not(.tox-silver-sink)"),ro=Fr=>Xr=>{const pa=ci(Xr,"style"),Xa=pa===void 0?"no-styles":pa.trim();Xa!==Fr&&(Ts(Xr,Fn,Xa),wr(Xr,Ye.parseStyle(Fr)))},ko=St(at,"*"),xs=Se(ko,Vt),Er=Nt(Ft);ve(xs,ro(Hn)),ve(ko,ro(Ro+pe+Er)),ro((et===!0?"":Ro)+pe+Er)(at)},mo=Ye=>{const at=Ke("["+Fn+"]");ve(at,Ft=>{const Vt=ci(Ft,Fn);Vt&&Vt!=="no-styles"?wr(Ft,Ye.parseStyle(Vt)):pr(Ft,"style"),pr(Ft,Fn)})},Wn=Ue.DOM,Wr=()=>Sr(window),cs=Ye=>window.scrollTo(Ye.x,Ye.y),nn=ha().fold(()=>({bind:D,unbind:D}),Ye=>{const at=Q(),Ft=se(),Vt=se(),ro=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},ko=()=>{window.requestAnimationFrame(()=>{at.on(Fr=>wr(Fr,{top:Ye.offsetTop+"px",left:Ye.offsetLeft+"px",height:Ye.height+"px",width:Ye.width+"px"}))})},xs=G(()=>{ro(),ko()},50);return{bind:Fr=>{at.set(Fr),xs.throttle(),Ft.set(vi("resize",xs.throttle)),Vt.set(vi("scroll",xs.throttle))},unbind:()=>{at.on(()=>{Ft.clear(),Vt.clear()}),at.clear()}}}),Qs=(Ye,at)=>{const Ft=document.body,Vt=document.documentElement,ro=Ye.getContainer(),ko=it.fromDom(ro),xs=or(Ye),Er=at.get(),Uc=it.fromDom(Ye.getBody()),Fr=pt.deviceType.isTouch(),Xr=ro.style,pa=Ye.iframeElement,Xa=pa==null?void 0:pa.style,Wc=_s=>{_s(Ft,"tox-fullscreen"),_s(Vt,"tox-fullscreen"),_s(ro,"tox-fullscreen"),Ot(ko).map(Jr=>Ct(Jr).dom).each(Jr=>{_s(Jr,"tox-fullscreen"),_s(Jr,"tox-shadowhost")})},qs=()=>{Fr&&mo(Ye.dom),Wc(Wn.removeClass),nn.unbind(),oe.from(at.get()).each(_s=>_s.fullscreenChangeHandler.unbind())};if(Er)Er.fullscreenChangeHandler.unbind(),Do(Ye)&&Hs(xs)&&Ss(fn(xs)),Xa.width=Er.iframeWidth,Xa.height=Er.iframeHeight,Xr.width=Er.containerWidth,Xr.height=Er.containerHeight,Xr.top=Er.containerTop,Xr.left=Er.containerLeft,qs(),cs(Er.scrollPos),at.set(null),xt(Ye,!1),Ye.off("remove",qs);else{const _s=Ti(fn(xs),xr(),bi=>{Do(Ye)&&!Hs(xs)&&at.get()!==null&&Qs(Ye,at)}),Jr={scrollPos:Wr(),containerWidth:Xr.width,containerHeight:Xr.height,containerTop:Xr.top,containerLeft:Xr.left,iframeWidth:Xa.width,iframeHeight:Xa.height,fullscreenChangeHandler:_s};Fr&&Dn(Ye.dom,ko,Uc),Xa.width=Xa.height="100%",Xr.width=Xr.height="",Wc(Wn.addClass),nn.bind(ko),Ye.on("remove",qs),at.set(Jr),Do(Ye)&&Ns(xs),xt(Ye,!0)}},ps=(Ye,at)=>{Ye.addCommand("mceFullScreen",()=>{Qs(Ye,at)})},ei=(Ye,at)=>Ft=>{Ft.setActive(at.get()!==null);const Vt=ro=>Ft.setActive(ro.state);return Ye.on("FullscreenStateChanged",Vt),()=>Ye.off("FullscreenStateChanged",Vt)},Dl=(Ye,at)=>{const Ft=()=>Ye.execCommand("mceFullScreen");Ye.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Ft,onSetup:ei(Ye,at)}),Ye.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Ft,onSetup:ei(Ye,at)})};var rr=()=>{o.add("fullscreen",Ye=>{const at=e(null);return Ye.inline||(mn(Ye),ps(Ye,at),Dl(Ye,at),Ye.addShortcut("Meta+Shift+F","","mceFullScreen")),s(at)})};rr()})();(function(){const e=be=>{let ie=be;return{get:()=>ie,set:Xe=>{ie=Xe}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");let s=0;const l=be=>{const Ee=new Date().getTime(),ot=Math.floor(Math.random()*1e9);return s++,be+"_"+ot+s+String(Ee)},c=be=>({addTab:Ee=>{var ot;const Xe=(ot=Ee.name)!==null&&ot!==void 0?ot:l("tab-name"),zt=be.get();zt[Xe]=Ee,be.set(zt)}}),d=(be,ie)=>{be.addCommand("mceHelp",ie)},p=be=>ie=>ie.options.get(be),v=be=>{const ie=be.options.register;ie("help_tabs",{processor:"array"})},b=p("help_tabs"),S=p("forced_plugins"),x=(be,ie)=>{be.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:ie}),be.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:ie})},T=(be,ie,Ee)=>{var ot;return Ee(be,ie.prototype)?!0:((ot=be.constructor)===null||ot===void 0?void 0:ot.name)===ie.name},E=be=>{const ie=typeof be;return be===null?"null":ie==="object"&&Array.isArray(be)?"array":ie==="object"&&T(be,String,(Ee,ot)=>ot.isPrototypeOf(Ee))?"string":ie},k=be=>ie=>E(ie)===be,F=be=>ie=>typeof ie===be,N=be=>ie=>be===ie,$=k("string"),D=N(void 0),O=be=>be==null,P=be=>!O(be),I=F("function"),K=(be=>()=>be)(!1);class j{constructor(ie,Ee){this.tag=ie,this.value=Ee}static some(ie){return new j(!0,ie)}static none(){return j.singletonNone}fold(ie,Ee){return this.tag?Ee(this.value):ie()}isSome(){return this.tag}isNone(){return!this.tag}map(ie){return this.tag?j.some(ie(this.value)):j.none()}bind(ie){return this.tag?ie(this.value):j.none()}exists(ie){return this.tag&&ie(this.value)}forall(ie){return!this.tag||ie(this.value)}filter(ie){return!this.tag||ie(this.value)?this:j.none()}getOr(ie){return this.tag?this.value:ie}or(ie){return this.tag?this:ie}getOrThunk(ie){return this.tag?this.value:ie()}orThunk(ie){return this.tag?this:ie()}getOrDie(ie){if(this.tag)return this.value;throw new Error(ie!=null?ie:"Called getOrDie on None")}static from(ie){return P(ie)?j.some(ie):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ie){this.tag&&ie(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const oe=Array.prototype.slice,xe=Array.prototype.indexOf,se=(be,ie)=>xe.call(be,ie),Q=(be,ie)=>se(be,ie)>-1,G=(be,ie)=>{const Ee=be.length,ot=new Array(Ee);for(let Xe=0;Xe<Ee;Xe++){const zt=be[Xe];ot[Xe]=ie(zt,Xe)}return ot},ce=(be,ie)=>{const Ee=[];for(let ot=0,Xe=be.length;ot<Xe;ot++){const zt=be[ot];ie(zt,ot)&&Ee.push(zt)}return Ee},he=(be,ie,Ee)=>{for(let ot=0,Xe=be.length;ot<Xe;ot++){const zt=be[ot];if(ie(zt,ot))return j.some(zt);if(Ee(zt,ot))break}return j.none()},ve=(be,ie)=>he(be,ie,K),qe=(be,ie)=>{const Ee=oe.call(be,0);return Ee.sort(ie),Ee},U=Object.keys,Fe=Object.hasOwnProperty,De=(be,ie)=>Se(be,ie)?j.from(be[ie]):j.none(),Se=(be,ie)=>Fe.call(be,ie),re=be=>{const ie=[],Ee=ot=>{ie.push(ot)};for(let ot=0;ot<be.length;ot++)be[ot].each(Ee);return ie},le=`<h1>Editor UI keyboard navigation</h1>

<h2>Activating keyboard navigation</h2>

<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>
<ul>
  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>
  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>
  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>
</ul>

<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>

<h2>Moving between UI sections</h2>

<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>
<ul>
  <li>the menubar</li>
  <li>each group of the toolbar </li>
  <li>the sidebar</li>
  <li>the element path in the footer </li>
  <li>the wordcount toggle button in the footer </li>
  <li>the branding link in the footer </li>
  <li>the editor resize handle in the footer</li>
</ul>

<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>

<h2>Moving within UI sections</h2>

<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>
<ul>
  <li>moving between menus in the menubar</li>
  <li>moving between buttons in a toolbar group</li>
  <li>moving between items in the element path</li>
</ul>

<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>

<h1>Executing buttons</h1>

<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>

<h1>Opening, navigating and closing menus</h1>

<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>

<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>

<h1>Context toolbars and menus</h1>

<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>

<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>

<h1>Dialog navigation</h1>

<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>

<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>

<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tab\u2019s components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>`,fe=()=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:le}]});var ue=tinymce.util.Tools.resolve("tinymce.Env");const Be=be=>{const ie=ue.os.isMacOS()||ue.os.isiOS(),Xe=ie?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},zt=be.split("+"),qt=G(zt,bn=>{const Kn=bn.toLowerCase().trim();return Se(Xe,Kn)?Xe[Kn]:bn});return ie?qt.join("").replace(/\s/,""):qt.join("+")},Ce=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],me=()=>{const be=G(Ce,Ee=>{const ot=G(Ee.shortcuts,Be).join(" or ");return[Ee.action,ot]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:be}]}};var q=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ze=G([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"},{key:"tableofcontents",name:"Table of Contents",type:"premium"}],be=>({...be,type:be.type||"opensource",slug:be.slug||be.key})),We=be=>{const ie=()=>{const zn=ce(Ze,({type:ft})=>ft==="premium"),fn=qe(G(zn,ft=>ft.name),(ft,Tt)=>ft.localeCompare(Tt)),oo=G(fn,ft=>`<li>${ft}</li>`).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+q.translate("Premium plugins:")+"</b></p><ul>"+oo+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">'+q.translate("Learn more...")+"</a></li></ul></div>"},Ee=zn=>`<a href="${zn.url}" target="_blank" rel="noopener">${zn.name}</a>`,ot=(zn,fn)=>{const oo=zn.plugins[fn].getMetadata;if(I(oo)){const ft=oo();return{name:ft.name,html:Ee(ft)}}else return{name:fn,html:fn}},Xe=(zn,fn)=>ve(Ze,oo=>oo.key===fn).fold(()=>ot(zn,fn),oo=>{const ft=oo.type==="premium"?`${oo.name}*`:oo.name,Tt=Ee({name:ft,url:`https://www.tiny.cloud/docs/tinymce/6/${oo.slug}/`});return{name:ft,html:Tt}}),zt=zn=>{const fn=U(zn.plugins),oo=S(zn);return D(oo)?fn:ce(fn,ft=>!Q(oo,ft))},qt=zn=>{const fn=zt(zn),oo=qe(G(fn,Pn=>Xe(zn,Pn)),(Pn,$n)=>Pn.name.localeCompare($n.name)),ft=G(oo,Pn=>"<li>"+Pn.html+"</li>"),Tt=ft.length,sn=ft.join("");return"<p><b>"+q.translate(["Plugins installed ({0}):",Tt])+"</b></p><ul>"+sn+"</ul>"},Kn={type:"htmlpanel",presets:"document",html:[(zn=>zn==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+qt(zn)+"</div>")(be),ie()].join("")};return{name:"plugins",title:"Plugins",items:[Kn]}};var tt=tinymce.util.Tools.resolve("tinymce.EditorManager");const Qe=()=>{const ie=((Xe,zt)=>Xe.indexOf("@")===0?"X.X.X":Xe+"."+zt)(tt.majorVersion,tt.minorVersion),Ee='<a href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+ie+"</a>",ot={type:"htmlpanel",html:"<p>"+q.translate(["You are using {0}",Ee])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[ot]}},it=(be,ie)=>{const Ee={},ot=G(be,Xe=>{var zt;if($(Xe))return Se(ie,Xe)&&(Ee[Xe]=ie[Xe]),Xe;{const qt=(zt=Xe.name)!==null&&zt!==void 0?zt:l("tab-name");return Ee[qt]=Xe,qt}});return{tabs:Ee,names:ot}},He=be=>{const ie=U(be),Ee=ie.indexOf("versions");return Ee!==-1&&(ie.splice(Ee,1),ie.push("versions")),{tabs:be,names:ie}},Re=(be,ie)=>{const Ee=me(),ot=fe(),Xe=We(be),zt=Qe(),qt={[Ee.name]:Ee,[ot.name]:ot,[Xe.name]:Xe,[zt.name]:zt,...ie.get()};return j.from(b(be)).fold(()=>He(qt),bn=>it(bn,qt))},Ve=(be,ie)=>()=>{const{tabs:Ee,names:ot}=Re(be,ie),Xe=G(ot,bn=>De(Ee,bn)),zt=re(Xe),qt={type:"tabpanel",tabs:zt};be.windowManager.open({title:"Help",size:"medium",body:qt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})};var Oe=()=>{o.add("help",be=>{const ie=e({}),Ee=c(ie);v(be);const ot=Ve(be,ie);return x(be,ot),d(be,ot),be.shortcuts.add("Alt+0","Open help dialog","mceHelp"),Ee})};Oe()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=Object.getPrototypeOf,s=(pe,je,et)=>{var Nt;return et(pe,je.prototype)?!0:((Nt=pe.constructor)===null||Nt===void 0?void 0:Nt.name)===je.name},l=pe=>{const je=typeof pe;return pe===null?"null":je==="object"&&Array.isArray(pe)?"array":je==="object"&&s(pe,String,(et,Nt)=>Nt.isPrototypeOf(et))?"string":je},c=pe=>je=>l(je)===pe,d=pe=>je=>typeof je===pe,p=pe=>je=>pe===je,v=(pe,je)=>S(pe)&&s(pe,je,(et,Nt)=>o(et)===Nt),b=c("string"),S=c("object"),x=pe=>v(pe,Object),T=c("array"),E=p(null),k=d("boolean"),F=pe=>pe==null,N=pe=>!F(pe),$=d("function"),D=d("number"),O=(pe,je)=>{if(T(pe)){for(let et=0,Nt=pe.length;et<Nt;++et)if(!je(pe[et]))return!1;return!0}return!1},P=()=>{};class I{constructor(je,et){this.tag=je,this.value=et}static some(je){return new I(!0,je)}static none(){return I.singletonNone}fold(je,et){return this.tag?et(this.value):je()}isSome(){return this.tag}isNone(){return!this.tag}map(je){return this.tag?I.some(je(this.value)):I.none()}bind(je){return this.tag?je(this.value):I.none()}exists(je){return this.tag&&je(this.value)}forall(je){return!this.tag||je(this.value)}filter(je){return!this.tag||je(this.value)?this:I.none()}getOr(je){return this.tag?this.value:je}or(je){return this.tag?this:je}getOrThunk(je){return this.tag?this.value:je()}orThunk(je){return this.tag?this:je()}getOrDie(je){if(this.tag)return this.value;throw new Error(je!=null?je:"Called getOrDie on None")}static from(je){return N(je)?I.some(je):I.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(je){this.tag&&je(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const z=Object.keys,K=Object.hasOwnProperty,j=(pe,je)=>{const et=z(pe);for(let Nt=0,Dn=et.length;Nt<Dn;Nt++){const mo=et[Nt],Wn=pe[mo];je(Wn,mo)}},oe=pe=>(je,et)=>{pe[et]=je},xe=(pe,je,et,Nt)=>{j(pe,(Dn,mo)=>{(je(Dn,mo)?et:Nt)(Dn,mo)})},se=(pe,je)=>{const et={};return xe(pe,je,oe(et),P),et},Q=(pe,je)=>K.call(pe,je),G=(pe,je)=>Q(pe,je)&&pe[je]!==void 0&&pe[je]!==null,ce=Array.prototype.push,he=pe=>{const je=[];for(let et=0,Nt=pe.length;et<Nt;++et){if(!T(pe[et]))throw new Error("Arr.flatten item "+et+" was not an array, input: "+pe);ce.apply(je,pe[et])}return je},ve=(pe,je)=>je>=0&&je<pe.length?I.some(pe[je]):I.none(),qe=pe=>ve(pe,0),U=(pe,je)=>{for(let et=0;et<pe.length;et++){const Nt=je(pe[et],et);if(Nt.isSome())return Nt}return I.none()};typeof window<"u"||Function("return this;")();const Fe=(pe,je,et)=>{if(b(et)||k(et)||D(et))pe.setAttribute(je,et+"");else throw console.error("Invalid call to Attribute.set. Key ",je,":: Value ",et,":: Element ",pe),new Error("Attribute value was not simple")},De=(pe,je,et)=>{Fe(pe.dom,je,et)},Se=(pe,je)=>{pe.dom.removeAttribute(je)},re=(pe,je)=>{const Nt=(je||document).createElement("div");if(Nt.innerHTML=pe,!Nt.hasChildNodes()||Nt.childNodes.length>1){const Dn="HTML does not have a single root node";throw console.error(Dn,pe),new Error(Dn)}return ue(Nt.childNodes[0])},le=(pe,je)=>{const Nt=(je||document).createElement(pe);return ue(Nt)},fe=(pe,je)=>{const Nt=(je||document).createTextNode(pe);return ue(Nt)},ue=pe=>{if(pe==null)throw new Error("Node cannot be null or undefined");return{dom:pe}},Ce={fromHtml:re,fromTag:le,fromText:fe,fromDom:ue,fromPoint:(pe,je,et)=>I.from(pe.dom.elementFromPoint(je,et)).map(ue)};var me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),q=tinymce.util.Tools.resolve("tinymce.util.URI");const Ze=pe=>pe.length>0,We=pe=>je=>je.options.get(pe),tt=pe=>{const je=pe.options.register;je("image_dimensions",{processor:"boolean",default:!0}),je("image_advtab",{processor:"boolean",default:!1}),je("image_uploadtab",{processor:"boolean",default:!0}),je("image_prepend_url",{processor:"string",default:""}),je("image_class_list",{processor:"object[]"}),je("image_description",{processor:"boolean",default:!0}),je("image_title",{processor:"boolean",default:!1}),je("image_caption",{processor:"boolean",default:!1}),je("image_list",{processor:et=>{const Nt=et===!1||b(et)||O(et,S)||$(et);return Nt?{value:et,valid:Nt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},Qe=We("image_dimensions"),it=We("image_advtab"),He=We("image_uploadtab"),Re=We("image_prepend_url"),Ve=We("image_class_list"),Oe=We("image_description"),be=We("image_title"),ie=We("image_caption"),Ee=We("image_list"),ot=We("a11y_advanced_options"),Xe=We("automatic_uploads"),zt=pe=>Ze(pe.options.get("images_upload_url")),qt=pe=>N(pe.options.get("images_upload_handler")),bn=(pe,je)=>Math.max(parseInt(pe,10),parseInt(je,10)),Kn=pe=>new Promise(je=>{const et=document.createElement("img"),Nt=mo=>{et.onload=et.onerror=null,et.parentNode&&et.parentNode.removeChild(et),je(mo)};et.onload=()=>{const mo=bn(et.width,et.clientWidth),Wn=bn(et.height,et.clientHeight),Wr={width:mo,height:Wn};Nt(Promise.resolve(Wr))},et.onerror=()=>{Nt(Promise.reject(`Failed to get image dimensions for: ${pe}`))};const Dn=et.style;Dn.visibility="hidden",Dn.position="fixed",Dn.bottom=Dn.left="0px",Dn.width=Dn.height="auto",document.body.appendChild(et),et.src=pe}),zn=pe=>(pe&&(pe=pe.replace(/px$/,"")),pe),fn=pe=>(pe.length>0&&/^[0-9]+$/.test(pe)&&(pe+="px"),pe),oo=pe=>{if(pe.margin){const je=String(pe.margin).split(" ");switch(je.length){case 1:pe["margin-top"]=pe["margin-top"]||je[0],pe["margin-right"]=pe["margin-right"]||je[0],pe["margin-bottom"]=pe["margin-bottom"]||je[0],pe["margin-left"]=pe["margin-left"]||je[0];break;case 2:pe["margin-top"]=pe["margin-top"]||je[0],pe["margin-right"]=pe["margin-right"]||je[1],pe["margin-bottom"]=pe["margin-bottom"]||je[0],pe["margin-left"]=pe["margin-left"]||je[1];break;case 3:pe["margin-top"]=pe["margin-top"]||je[0],pe["margin-right"]=pe["margin-right"]||je[1],pe["margin-bottom"]=pe["margin-bottom"]||je[2],pe["margin-left"]=pe["margin-left"]||je[1];break;case 4:pe["margin-top"]=pe["margin-top"]||je[0],pe["margin-right"]=pe["margin-right"]||je[1],pe["margin-bottom"]=pe["margin-bottom"]||je[2],pe["margin-left"]=pe["margin-left"]||je[3]}delete pe.margin}return pe},ft=(pe,je)=>{const et=Ee(pe);b(et)?fetch(et).then(Nt=>{Nt.ok&&Nt.json().then(je)}):$(et)?et(je):je(et)},Tt=(pe,je,et)=>{const Nt=()=>{et.onload=et.onerror=null,pe.selection&&(pe.selection.select(et),pe.nodeChanged())};et.onload=()=>{!je.width&&!je.height&&Qe(pe)&&pe.dom.setAttribs(et,{width:String(et.clientWidth),height:String(et.clientHeight)}),Nt()},et.onerror=Nt},sn=pe=>new Promise((je,et)=>{const Nt=new FileReader;Nt.onload=()=>{je(Nt.result)},Nt.onerror=()=>{var Dn;et((Dn=Nt.error)===null||Dn===void 0?void 0:Dn.message)},Nt.readAsDataURL(pe)}),kn=pe=>pe.nodeName==="IMG"&&(pe.hasAttribute("data-mce-object")||pe.hasAttribute("data-mce-placeholder")),Pn=(pe,je)=>{const et=pe.options.get;return q.isDomSafe(je,"img",{allow_html_data_urls:et("allow_html_data_urls"),allow_script_urls:et("allow_script_urls"),allow_svg_data_urls:et("allow_svg_data_urls")})},$n=me.DOM,_o=pe=>pe.style.marginLeft&&pe.style.marginRight&&pe.style.marginLeft===pe.style.marginRight?zn(pe.style.marginLeft):"",mr=pe=>pe.style.marginTop&&pe.style.marginBottom&&pe.style.marginTop===pe.style.marginBottom?zn(pe.style.marginTop):"",Ot=pe=>pe.style.borderWidth?zn(pe.style.borderWidth):"",Ct=(pe,je)=>{var et;return pe.hasAttribute(je)&&(et=pe.getAttribute(je))!==null&&et!==void 0?et:""},wn=pe=>pe.parentNode!==null&&pe.parentNode.nodeName==="FIGURE",xn=(pe,je,et)=>{et===""||et===null?pe.removeAttribute(je):pe.setAttribute(je,et)},pn=pe=>{const je=$n.create("figure",{class:"image"});$n.insertAfter(je,pe),je.appendChild(pe),je.appendChild($n.create("figcaption",{contentEditable:"true"},"Caption")),je.contentEditable="false"},eo=pe=>{const je=pe.parentNode;N(je)&&($n.insertAfter(pe,je),$n.remove(je))},yr=pe=>{wn(pe)?eo(pe):pn(pe)},Ts=(pe,je)=>{const et=pe.getAttribute("style"),Nt=je(et!==null?et:"");Nt.length>0?(pe.setAttribute("style",Nt),pe.setAttribute("data-mce-style",Nt)):pe.removeAttribute("style")},ci=(pe,je)=>(et,Nt,Dn)=>{const mo=et.style;mo[Nt]?(mo[Nt]=fn(Dn),Ts(et,je)):xn(et,Nt,Dn)},pr=(pe,je)=>pe.style[je]?zn(pe.style[je]):Ct(pe,je),xi=(pe,je)=>{const et=fn(je);pe.style.marginLeft=et,pe.style.marginRight=et},wr=(pe,je)=>{const et=fn(je);pe.style.marginTop=et,pe.style.marginBottom=et},Jo=(pe,je)=>{const et=fn(je);pe.style.borderWidth=et},To=(pe,je)=>{pe.style.borderStyle=je},Es=pe=>{var je;return(je=pe.style.borderStyle)!==null&&je!==void 0?je:""},si=pe=>N(pe)&&pe.nodeName==="FIGURE",Vr=pe=>pe.nodeName==="IMG",ui=pe=>$n.getAttrib(pe,"alt").length===0&&$n.getAttrib(pe,"role")==="presentation",Yr=pe=>ui(pe)?"":Ct(pe,"alt"),ra=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),ls=(pe,je)=>{var et;const Nt=document.createElement("img");return xn(Nt,"style",je.style),(_o(Nt)||je.hspace!=="")&&xi(Nt,je.hspace),(mr(Nt)||je.vspace!=="")&&wr(Nt,je.vspace),(Ot(Nt)||je.border!=="")&&Jo(Nt,je.border),(Es(Nt)||je.borderStyle!=="")&&To(Nt,je.borderStyle),pe((et=Nt.getAttribute("style"))!==null&&et!==void 0?et:"")},Ti=(pe,je)=>{const et=document.createElement("img");if(uo(pe,{...je,caption:!1},et),Pt(et,je.alt,je.isDecorative),je.caption){const Nt=$n.create("figure",{class:"image"});return Nt.appendChild(et),Nt.appendChild($n.create("figcaption",{contentEditable:"true"},"Caption")),Nt.contentEditable="false",Nt}else return et},dt=(pe,je)=>({src:Ct(je,"src"),alt:Yr(je),title:Ct(je,"title"),width:pr(je,"width"),height:pr(je,"height"),class:Ct(je,"class"),style:pe(Ct(je,"style")),caption:wn(je),hspace:_o(je),vspace:mr(je),border:Ot(je),borderStyle:Es(je),isDecorative:ui(je)}),Le=(pe,je,et,Nt,Dn)=>{et[Nt]!==je[Nt]&&Dn(pe,Nt,String(et[Nt]))},Pt=(pe,je,et)=>{if(et){$n.setAttrib(pe,"role","presentation");const Nt=Ce.fromDom(pe);De(Nt,"alt","")}else{if(E(je)){const Nt=Ce.fromDom(pe);Se(Nt,"alt")}else{const Nt=Ce.fromDom(pe);De(Nt,"alt",je)}$n.getAttrib(pe,"role")==="presentation"&&$n.setAttrib(pe,"role","")}},Zt=(pe,je,et)=>{(et.alt!==je.alt||et.isDecorative!==je.isDecorative)&&Pt(pe,et.alt,et.isDecorative)},to=(pe,je)=>(et,Nt,Dn)=>{pe(et,Dn),Ts(et,je)},uo=(pe,je,et)=>{const Nt=dt(pe,et);Le(et,Nt,je,"caption",(Dn,mo,Wn)=>yr(Dn)),Le(et,Nt,je,"src",xn),Le(et,Nt,je,"title",xn),Le(et,Nt,je,"width",ci("width",pe)),Le(et,Nt,je,"height",ci("height",pe)),Le(et,Nt,je,"class",xn),Le(et,Nt,je,"style",to((Dn,mo)=>xn(Dn,"style",mo),pe)),Le(et,Nt,je,"hspace",to(xi,pe)),Le(et,Nt,je,"vspace",to(wr,pe)),Le(et,Nt,je,"border",to(Jo,pe)),Le(et,Nt,je,"borderStyle",to(To,pe)),Zt(et,Nt,je)},Xn=(pe,je)=>{const et=pe.dom.styles.parse(je),Nt=oo(et),Dn=pe.dom.styles.parse(pe.dom.styles.serialize(Nt));return pe.dom.styles.serialize(Dn)},vr=pe=>{const je=pe.selection.getNode(),et=pe.dom.getParent(je,"figure.image");return et?pe.dom.select("img",et)[0]:je&&(je.nodeName!=="IMG"||kn(je))?null:je},zo=(pe,je)=>{var et;const Nt=pe.dom,Dn=se(pe.schema.getTextBlockElements(),(Wn,Wr)=>!pe.schema.isValidChild(Wr,"figure")),mo=Nt.getParent(je.parentNode,Wn=>G(Dn,Wn.nodeName),pe.getBody());return mo&&(et=Nt.split(mo,je))!==null&&et!==void 0?et:je},Fo=pe=>{const je=vr(pe);return je?dt(et=>Xn(pe,et),je):ra()},Cs=(pe,je)=>{const et=Ti(Dn=>Xn(pe,Dn),je);pe.dom.setAttrib(et,"data-mce-id","__mcenew"),pe.focus(),pe.selection.setContent(et.outerHTML);const Nt=pe.dom.select('*[data-mce-id="__mcenew"]')[0];if(pe.dom.setAttrib(Nt,"data-mce-id",null),si(Nt)){const Dn=zo(pe,Nt);pe.selection.select(Dn)}else pe.selection.select(Nt)},dn=(pe,je)=>{pe.dom.setAttrib(je,"src",je.getAttribute("src"))},lt=(pe,je)=>{if(je){const et=pe.dom.is(je.parentNode,"figure.image")?je.parentNode:je;pe.dom.remove(et),pe.focus(),pe.nodeChanged(),pe.dom.isEmpty(pe.getBody())&&(pe.setContent(""),pe.selection.setCursorLocation())}},ut=(pe,je)=>{const et=vr(pe);if(et)if(uo(Nt=>Xn(pe,Nt),je,et),dn(pe,et),si(et.parentNode)){const Nt=et.parentNode;zo(pe,Nt),pe.selection.select(et.parentNode)}else pe.selection.select(et),Tt(pe,je,et)},en=(pe,je)=>{const et=je.src;return{...je,src:Pn(pe,et)?et:""}},En=(pe,je)=>{const et=vr(pe);if(et){const Dn={...dt(Wn=>Xn(pe,Wn),et),...je},mo=en(pe,Dn);Dn.src?ut(pe,mo):lt(pe,et)}else je.src&&Cs(pe,{...ra(),...je})},_n=(pe=>(...je)=>{if(je.length===0)throw new Error("Can't merge zero objects");const et={};for(let Nt=0;Nt<je.length;Nt++){const Dn=je[Nt];for(const mo in Dn)Q(Dn,mo)&&(et[mo]=pe(et[mo],Dn[mo]))}return et})((pe,je)=>x(pe)&&x(je)?_n(pe,je):je);var Jn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),go=tinymce.util.Tools.resolve("tinymce.util.Tools");const $o=pe=>b(pe.value)?pe.value:"",Hr=pe=>b(pe.text)?pe.text:b(pe.title)?pe.title:"",ks=(pe,je)=>{const et=[];return go.each(pe,Nt=>{const Dn=Hr(Nt);if(Nt.menu!==void 0){const mo=ks(Nt.menu,je);et.push({text:Dn,items:mo})}else{const mo=je(Nt);et.push({text:Dn,value:mo})}}),et},Qo=(pe=$o)=>je=>je?I.from(je).map(et=>ks(et,pe)):I.none(),fa=pe=>Qo($o)(pe),sr=pe=>Q(pe,"items"),Tr=(pe,je)=>U(pe,et=>sr(et)?Tr(et.items,je):et.value===je?I.some(et):I.none()),Js={sanitizer:Qo,sanitize:fa,findEntry:(pe,je)=>pe.bind(et=>Tr(et,je))},Ea={makeTab:pe=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Fi=pe=>{const je=Js.sanitizer(at=>pe.convertURL(at.value||at.url||"","src")),et=new Promise(at=>{ft(pe,Ft=>{at(je(Ft).map(Vt=>he([[{text:"None",value:""}],Vt])))})}),Nt=Js.sanitize(Ve(pe)),Dn=it(pe),mo=He(pe),Wn=zt(pe),Wr=qt(pe),cs=Fo(pe),nn=Oe(pe),Qs=be(pe),ps=Qe(pe),ei=ie(pe),Dl=ot(pe),rr=Xe(pe),Ye=I.some(Re(pe)).filter(at=>b(at)&&at.length>0);return et.then(at=>({image:cs,imageList:at,classList:Nt,hasAdvTab:Dn,hasUploadTab:mo,hasUploadUrl:Wn,hasUploadHandler:Wr,hasDescription:nn,hasImageTitle:Qs,hasDimensions:ps,hasImageCaption:ei,prependURL:Ye,hasAccessibilityOptions:Dl,automaticUploads:rr}))},da=pe=>{const je={name:"src",type:"urlinput",filetype:"image",label:"Source"},et=pe.imageList.map(Qs=>({name:"images",type:"listbox",label:"Image list",items:Qs})),Nt={name:"alt",type:"input",label:"Alternative description",enabled:!(pe.hasAccessibilityOptions&&pe.image.isDecorative)},Dn={name:"title",type:"input",label:"Image title"},mo={name:"dimensions",type:"sizeinput"},Wn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Wr=pe.classList.map(Qs=>({name:"classes",type:"listbox",label:"Class",items:Qs})),cs={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},nn=Qs=>Qs?{type:"grid",columns:2}:{type:"panel"};return he([[je],et.toArray(),pe.hasAccessibilityOptions&&pe.hasDescription?[Wn]:[],pe.hasDescription?[Nt]:[],pe.hasImageTitle?[Dn]:[],pe.hasDimensions?[mo]:[],[{...nn(pe.classList.isSome()&&pe.hasImageCaption),items:he([Wr.toArray(),pe.hasImageCaption?[cs]:[]])}]])},Ma={makeTab:pe=>({title:"General",name:"general",items:da(pe)}),makeItems:da},Cr={makeTab:pe=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Ri=pe=>({prevImage:Js.findEntry(pe.imageList,pe.image.src),prevAlt:pe.image.alt,open:!0}),Ws=pe=>({src:{value:pe.src,meta:{}},images:pe.src,alt:pe.alt,title:pe.title,dimensions:{width:pe.width,height:pe.height},classes:pe.class,caption:pe.caption,style:pe.style,vspace:pe.vspace,border:pe.border,hspace:pe.hspace,borderstyle:pe.borderStyle,fileinput:[],isDecorative:pe.isDecorative}),sa=(pe,je)=>({src:pe.src.value,alt:(pe.alt===null||pe.alt.length===0)&&je?null:pe.alt,title:pe.title,width:pe.dimensions.width,height:pe.dimensions.height,class:pe.classes,style:pe.style,caption:pe.caption,hspace:pe.hspace,vspace:pe.vspace,border:pe.border,borderStyle:pe.borderstyle,isDecorative:pe.isDecorative}),Oi=(pe,je)=>/^(?:[a-zA-Z]+:)?\/\//.test(je)?I.none():pe.prependURL.bind(et=>je.substring(0,et.length)!==et?I.some(et+je):I.none()),Aa=(pe,je)=>{const et=je.getData();Oi(pe,et.src.value).each(Nt=>{je.setData({src:{value:Nt,meta:et.src.meta}})})},mi=(pe,je,et)=>{pe.hasDescription&&b(et.alt)&&(je.alt=et.alt),pe.hasAccessibilityOptions&&(je.isDecorative=et.isDecorative||je.isDecorative||!1),pe.hasImageTitle&&b(et.title)&&(je.title=et.title),pe.hasDimensions&&(b(et.width)&&(je.dimensions.width=et.width),b(et.height)&&(je.dimensions.height=et.height)),b(et.class)&&Js.findEntry(pe.classList,et.class).each(Nt=>{je.classes=Nt.value}),pe.hasImageCaption&&k(et.caption)&&(je.caption=et.caption),pe.hasAdvTab&&(b(et.style)&&(je.style=et.style),b(et.vspace)&&(je.vspace=et.vspace),b(et.border)&&(je.border=et.border),b(et.hspace)&&(je.hspace=et.hspace),b(et.borderstyle)&&(je.borderstyle=et.borderstyle))},dl=(pe,je)=>{const et=je.getData(),Nt=et.src.meta;if(Nt!==void 0){const Dn=_n({},et);mi(pe,Dn,Nt),je.setData(Dn)}},ha=(pe,je,et,Nt)=>{const Dn=Nt.getData(),mo=Dn.src.value,Wn=Dn.src.meta||{};!Wn.width&&!Wn.height&&je.hasDimensions&&(Ze(mo)?pe.imageSize(mo).then(Wr=>{et.open&&Nt.setData({dimensions:Wr})}).catch(Wr=>console.error(Wr)):Nt.setData({dimensions:{width:"",height:""}}))},hl=(pe,je,et)=>{const Nt=et.getData(),Dn=Js.findEntry(pe.imageList,Nt.src.value);je.prevImage=Dn,et.setData({images:Dn.map(mo=>mo.value).getOr("")})},Sr=(pe,je,et,Nt)=>{Aa(je,Nt),dl(je,Nt),ha(pe,je,et,Nt),hl(je,et,Nt)},vi=(pe,je,et,Nt)=>{const Dn=Nt.getData(),mo=Js.findEntry(je.imageList,Dn.images);mo.each(Wn=>{Dn.alt===""||et.prevImage.map(cs=>cs.text===Dn.alt).getOr(!1)?Wn.value===""?Nt.setData({src:Wn,alt:et.prevAlt}):Nt.setData({src:Wn,alt:Wn.text}):Nt.setData({src:Wn})}),et.prevImage=mo,Sr(pe,je,et,Nt)},Ue=(pe,je,et,Nt)=>{const Dn=Nt.getData();Nt.block("Uploading image"),qe(Dn.fileinput).fold(()=>{Nt.unblock()},mo=>{const Wn=URL.createObjectURL(mo),Wr=()=>{Nt.unblock(),URL.revokeObjectURL(Wn)},cs=nn=>{Nt.setData({src:{value:nn,meta:{}}}),Nt.showTab("general"),Sr(pe,je,et,Nt)};sn(mo).then(nn=>{const Qs=pe.createBlobCache(mo,Wn,nn);je.automaticUploads?pe.uploadImage(Qs).then(ps=>{cs(ps.url),Wr()}).catch(ps=>{Wr(),pe.alertErr(ps)}):(pe.addToBlobCache(Qs),cs(Qs.blobUri()),Nt.unblock())})})},pt=(pe,je,et)=>(Nt,Dn)=>{Dn.name==="src"?Sr(pe,je,et,Nt):Dn.name==="images"?vi(pe,je,et,Nt):Dn.name==="alt"?et.prevAlt=Nt.getData().alt:Dn.name==="fileinput"?Ue(pe,je,et,Nt):Dn.name==="isDecorative"&&Nt.setEnabled("alt",!Nt.getData().isDecorative)},xt=pe=>()=>{pe.open=!1},Gt=pe=>pe.hasAdvTab||pe.hasUploadUrl||pe.hasUploadHandler?{type:"tabpanel",tabs:he([[Ma.makeTab(pe)],pe.hasAdvTab?[Ea.makeTab(pe)]:[],pe.hasUploadTab&&(pe.hasUploadUrl||pe.hasUploadHandler)?[Cr.makeTab(pe)]:[]])}:{type:"panel",items:Ma.makeItems(pe)},mn=(pe,je,et)=>Nt=>{const Dn=_n(Ws(je.image),Nt.getData()),mo={...Dn,style:ls(et.normalizeCss,sa(Dn,!1))};pe.execCommand("mceUpdateImage",!1,sa(mo,je.hasAccessibilityOptions)),pe.editorUpload.uploadImagesAuto(),Nt.close()},Do=pe=>je=>Pn(pe,je)?Kn(pe.documentBaseURI.toAbsolute(je)).then(et=>({width:String(et.width),height:String(et.height)})):Promise.resolve({width:"",height:""}),or=pe=>(je,et,Nt)=>{var Dn;return pe.editorUpload.blobCache.create({blob:je,blobUri:et,name:(Dn=je.name)===null||Dn===void 0?void 0:Dn.replace(/\.[^\.]+$/,""),filename:je.name,base64:Nt.split(",")[1]})},Os=pe=>je=>{pe.editorUpload.blobCache.add(je)},xr=pe=>je=>{pe.windowManager.alert(je)},Ns=pe=>je=>Xn(pe,je),Ss=pe=>je=>pe.dom.parseStyle(je),Hs=pe=>(je,et)=>pe.dom.serializeStyle(je,et),Mi=pe=>je=>Jn(pe).upload([je],!1).then(et=>{var Nt;return et.length===0?Promise.reject("Failed to upload image"):et[0].status===!1?Promise.reject((Nt=et[0].error)===null||Nt===void 0?void 0:Nt.message):et[0]}),ae=pe=>{const je={imageSize:Do(pe),addToBlobCache:Os(pe),createBlobCache:or(pe),alertErr:xr(pe),normalizeCss:Ns(pe),parseStyle:Ss(pe),serializeStyle:Hs(pe),uploadImage:Mi(pe)};return{open:()=>{Fi(pe).then(Nt=>{const Dn=Ri(Nt);return{title:"Insert/Edit Image",size:"normal",body:Gt(Nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ws(Nt.image),onSubmit:mn(pe,Nt,je),onChange:pt(je,Nt,Dn),onClose:xt(Dn)}}).then(pe.windowManager.open)}}},Ke=pe=>{pe.addCommand("mceImage",ae(pe).open),pe.addCommand("mceUpdateImage",(je,et)=>{pe.undoManager.transact(()=>En(pe,et))})},St=pe=>{const je=pe.attr("class");return N(je)&&/\bimage\b/.test(je)},cn=pe=>je=>{let et=je.length;const Nt=Dn=>{Dn.attr("contenteditable",pe?"true":null)};for(;et--;){const Dn=je[et];St(Dn)&&(Dn.attr("contenteditable",pe?"false":null),go.each(Dn.getAll("figcaption"),Nt))}},Fn=pe=>{pe.on("PreInit",()=>{pe.parser.addNodeFilter("figure",cn(!0)),pe.serializer.addNodeFilter("figure",cn(!1))})},Hn=pe=>{pe.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ae(pe).open,onSetup:je=>(je.setActive(N(vr(pe))),pe.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",je.setActive).unbind)}),pe.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ae(pe).open}),pe.ui.registry.addContextMenu("image",{update:je=>si(je)||Vr(je)&&!kn(je)?["image"]:[]})};var Ro=()=>{e.add("image",pe=>{tt(pe),Fn(pe),Hn(pe),Ke(pe)})};Ro()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(We,tt,Qe)=>{var it;return Qe(We,tt.prototype)?!0:((it=We.constructor)===null||it===void 0?void 0:it.name)===tt.name},s=We=>{const tt=typeof We;return We===null?"null":tt==="object"&&Array.isArray(We)?"array":tt==="object"&&o(We,String,(Qe,it)=>it.isPrototypeOf(Qe))?"string":tt},l=We=>tt=>s(tt)===We,c=We=>tt=>typeof tt===We,d=l("string"),p=l("object"),v=l("array"),b=c("function");var S=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.EditorManager"),T=tinymce.util.Tools.resolve("tinymce.Env"),E=tinymce.util.Tools.resolve("tinymce.util.Tools");const k=We=>tt=>tt.options.get(We),F=We=>{const tt=We.options.register,Qe=it=>d(it)||b(it)||p(it);tt("importcss_merge_classes",{processor:"boolean",default:!0}),tt("importcss_exclusive",{processor:"boolean",default:!0}),tt("importcss_selector_converter",{processor:"function"}),tt("importcss_selector_filter",{processor:Qe}),tt("importcss_file_filter",{processor:Qe}),tt("importcss_groups",{processor:"object[]"}),tt("importcss_append",{processor:"boolean",default:!1})},N=k("importcss_merge_classes"),$=k("importcss_exclusive"),D=k("importcss_selector_converter"),O=k("importcss_selector_filter"),P=k("importcss_groups"),I=k("importcss_append"),z=k("importcss_file_filter"),K=k("skin"),j=k("skin_url"),oe=Array.prototype.push,xe=(We,tt)=>{const Qe=We.length,it=new Array(Qe);for(let He=0;He<Qe;He++){const Re=We[He];it[He]=tt(Re,He)}return it},se=We=>{const tt=[];for(let Qe=0,it=We.length;Qe<it;++Qe){if(!v(We[Qe]))throw new Error("Arr.flatten item "+Qe+" was not an array, input: "+We);oe.apply(tt,We[Qe])}return tt},Q=(We,tt)=>se(xe(We,tt)),G=()=>{const We=[],tt=[],Qe={};return{addItemToGroup:(Ve,Oe)=>{Qe[Ve]?Qe[Ve].push(Oe):(tt.push(Ve),Qe[Ve]=[Oe])},addItem:Ve=>{We.push(Ve)},toFormats:()=>Q(tt,Oe=>{const be=Qe[Oe];return be.length===0?[]:[{title:Oe,items:be}]}).concat(We)}},ce=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,he=We=>{const tt=T.cacheSuffix;return d(We)&&(We=We.replace("?"+tt,"").replace("&"+tt,"")),We},ve=(We,tt)=>{const Qe=K(We);if(Qe){const it=j(We),He=it?We.documentBaseURI.toAbsolute(it):x.baseURL+"/skins/ui/"+Qe,Re=x.baseURL+"/skins/content/";return tt===He+"/content"+(We.inline?".inline":"")+".min.css"||tt.indexOf(Re)!==-1}return!1},qe=We=>d(We)?tt=>tt.indexOf(We)!==-1:We instanceof RegExp?tt=>We.test(tt):We,U=We=>We.styleSheet,Fe=We=>We.selectorText,De=(We,tt,Qe)=>{const it=[],He={},Re=(Ve,Oe)=>{let be=Ve.href,ie;if(be=he(be),!(!be||Qe&&!Qe(be,Oe)||ve(We,be))){E.each(Ve.imports,Ee=>{Re(Ee,!0)});try{ie=Ve.cssRules||Ve.rules}catch{}E.each(ie,Ee=>{U(Ee)?Re(Ee.styleSheet,!0):Fe(Ee)&&E.each(Ee.selectorText.split(","),ot=>{it.push(E.trim(ot))})})}};E.each(We.contentCSS,Ve=>{He[Ve]=!0}),Qe||(Qe=(Ve,Oe)=>Oe||He[Ve]);try{E.each(tt.styleSheets,Ve=>{Re(Ve)})}catch{}return it},Se=(We,tt)=>{let Qe={};const it=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(tt);if(!it)return;const He=it[1],Re=it[2].substr(1).split(".").join(" "),Ve=E.makeMap("a,img");return it[1]?(Qe={title:tt},We.schema.getTextBlockElements()[He]?Qe.block=He:We.schema.getBlockElements()[He]||Ve[He.toLowerCase()]?Qe.selector=He:Qe.inline=He):it[2]&&(Qe={inline:"span",title:tt.substr(1),classes:Re}),N(We)?Qe.classes=Re:Qe.attributes={class:Re},Qe},re=(We,tt)=>E.grep(We,Qe=>!Qe.filter||Qe.filter(tt)),le=We=>E.map(We,tt=>E.extend({},tt,{original:tt,selectors:{},filter:qe(tt.filter)})),fe=(We,tt)=>tt===null||$(We),ue=(We,tt,Qe,it)=>!(fe(We,Qe)?tt in it:tt in Qe.selectors),Be=(We,tt,Qe,it)=>{fe(We,Qe)?it[tt]=!0:Qe.selectors[tt]=!0},Ce=(We,tt,Qe,it)=>{let He;const Re=D(We);return it&&it.selector_converter?He=it.selector_converter:Re?He=Re:He=()=>Se(We,Qe),He.call(tt,Qe,it)},me=We=>{We.on("init",()=>{const tt=G(),Qe={},it=qe(O(We)),He=le(P(We)),Re=(Oe,be)=>{if(ue(We,Oe,be,Qe)){Be(We,Oe,be,Qe);const ie=Ce(We,We.plugins.importcss,Oe,be);if(ie){const Ee=ie.name||S.DOM.uniqueId();return We.formatter.register(Ee,ie),{title:ie.title,format:Ee}}}return null};E.each(De(We,We.getDoc(),qe(z(We))),Oe=>{if(!ce.test(Oe)&&(!it||it(Oe))){const be=re(He,Oe);if(be.length>0)E.each(be,ie=>{const Ee=Re(Oe,ie);Ee&&tt.addItemToGroup(ie.title,Ee)});else{const ie=Re(Oe,null);ie&&tt.addItem(ie)}}});const Ve=tt.toFormats();We.dispatch("addStyleModifications",{items:Ve,replace:!I(We)})})},q=We=>({convertSelectorToFormat:Qe=>Se(We,Qe)});var Ze=()=>{e.add("importcss",We=>(F(We),me(We),q(We)))};Ze()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=z=>K=>K.options.get(z),s=z=>{const K=z.options.register;K("insertdatetime_dateformat",{processor:"string",default:z.translate("%Y-%m-%d")}),K("insertdatetime_timeformat",{processor:"string",default:z.translate("%H:%M:%S")}),K("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),K("insertdatetime_element",{processor:"boolean",default:!1})},l=o("insertdatetime_dateformat"),c=o("insertdatetime_timeformat"),d=o("insertdatetime_formats"),p=o("insertdatetime_element"),v=z=>{const K=d(z);return K.length>0?K[0]:c(z)},b="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),S="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),x="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),T="January February March April May June July August September October November December".split(" "),E=(z,K)=>{if(z=""+z,z.length<K)for(let j=0;j<K-z.length;j++)z="0"+z;return z},k=(z,K,j=new Date)=>(K=K.replace("%D","%m/%d/%Y"),K=K.replace("%r","%I:%M:%S %p"),K=K.replace("%Y",""+j.getFullYear()),K=K.replace("%y",""+j.getYear()),K=K.replace("%m",E(j.getMonth()+1,2)),K=K.replace("%d",E(j.getDate(),2)),K=K.replace("%H",""+E(j.getHours(),2)),K=K.replace("%M",""+E(j.getMinutes(),2)),K=K.replace("%S",""+E(j.getSeconds(),2)),K=K.replace("%I",""+((j.getHours()+11)%12+1)),K=K.replace("%p",j.getHours()<12?"AM":"PM"),K=K.replace("%B",""+z.translate(T[j.getMonth()])),K=K.replace("%b",""+z.translate(x[j.getMonth()])),K=K.replace("%A",""+z.translate(S[j.getDay()])),K=K.replace("%a",""+z.translate(b[j.getDay()])),K=K.replace("%%","%"),K),F=(z,K,j,oe)=>{const xe=z.dom.create("time",{datetime:j},oe);z.dom.replace(xe,K),z.selection.select(xe,!0),z.selection.collapse(!1)},N=(z,K)=>{if(p(z)){const j=k(z,K);let oe;/%[HMSIp]/.test(K)?oe=k(z,"%Y-%m-%dT%H:%M"):oe=k(z,"%Y-%m-%d");const xe=z.dom.getParent(z.selection.getStart(),"time");xe?F(z,xe,oe,j):z.insertContent('<time datetime="'+oe+'">'+j+"</time>")}else z.insertContent(k(z,K))},$=z=>{z.addCommand("mceInsertDate",(K,j)=>{N(z,j!=null?j:l(z))}),z.addCommand("mceInsertTime",(K,j)=>{N(z,j!=null?j:c(z))})},D=z=>{let K=z;return{get:()=>K,set:xe=>{K=xe}}};var O=tinymce.util.Tools.resolve("tinymce.util.Tools");const P=z=>{const K=d(z),j=D(v(z)),oe=se=>z.execCommand("mceInsertDate",!1,se);z.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:se=>se===j.get(),fetch:se=>{se(O.map(K,Q=>({type:"choiceitem",text:k(z,Q),value:Q})))},onAction:se=>{oe(j.get())},onItemAction:(se,Q)=>{j.set(Q),oe(Q)}});const xe=se=>()=>{j.set(se),oe(se)};z.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>O.map(K,se=>({type:"menuitem",text:k(z,se),onAction:xe(se)}))})};var I=()=>{e.add("insertdatetime",z=>{s(z),$(z),P(z)})};I()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(Ue,pt,xt)=>{var Gt;return xt(Ue,pt.prototype)?!0:((Gt=Ue.constructor)===null||Gt===void 0?void 0:Gt.name)===pt.name},s=Ue=>{const pt=typeof Ue;return Ue===null?"null":pt==="object"&&Array.isArray(Ue)?"array":pt==="object"&&o(Ue,String,(xt,Gt)=>Gt.isPrototypeOf(xt))?"string":pt},l=Ue=>pt=>s(pt)===Ue,c=Ue=>pt=>typeof pt===Ue,d=Ue=>pt=>Ue===pt,p=l("string"),v=l("object"),b=l("array"),S=d(null),x=c("boolean"),T=Ue=>Ue==null,E=Ue=>!T(Ue),k=c("function"),F=(Ue,pt)=>{if(b(Ue)){for(let xt=0,Gt=Ue.length;xt<Gt;++xt)if(!pt(Ue[xt]))return!1;return!0}return!1},N=()=>{},$=Ue=>()=>Ue,D=(Ue,pt)=>Ue===pt;class O{constructor(pt,xt){this.tag=pt,this.value=xt}static some(pt){return new O(!0,pt)}static none(){return O.singletonNone}fold(pt,xt){return this.tag?xt(this.value):pt()}isSome(){return this.tag}isNone(){return!this.tag}map(pt){return this.tag?O.some(pt(this.value)):O.none()}bind(pt){return this.tag?pt(this.value):O.none()}exists(pt){return this.tag&&pt(this.value)}forall(pt){return!this.tag||pt(this.value)}filter(pt){return!this.tag||pt(this.value)?this:O.none()}getOr(pt){return this.tag?this.value:pt}or(pt){return this.tag?this:pt}getOrThunk(pt){return this.tag?this.value:pt()}orThunk(pt){return this.tag?this:pt()}getOrDie(pt){if(this.tag)return this.value;throw new Error(pt!=null?pt:"Called getOrDie on None")}static from(pt){return E(pt)?O.some(pt):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(pt){this.tag&&pt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const P=Array.prototype.indexOf,I=Array.prototype.push,z=(Ue,pt)=>P.call(Ue,pt),K=(Ue,pt)=>z(Ue,pt)>-1,j=(Ue,pt)=>{const xt=Ue.length,Gt=new Array(xt);for(let mn=0;mn<xt;mn++){const Do=Ue[mn];Gt[mn]=pt(Do,mn)}return Gt},oe=(Ue,pt)=>{for(let xt=0,Gt=Ue.length;xt<Gt;xt++){const mn=Ue[xt];pt(mn,xt)}},xe=(Ue,pt,xt)=>(oe(Ue,(Gt,mn)=>{xt=pt(xt,Gt,mn)}),xt),se=Ue=>{const pt=[];for(let xt=0,Gt=Ue.length;xt<Gt;++xt){if(!b(Ue[xt]))throw new Error("Arr.flatten item "+xt+" was not an array, input: "+Ue);I.apply(pt,Ue[xt])}return pt},Q=(Ue,pt)=>se(j(Ue,pt)),G=(Ue,pt)=>{for(let xt=0;xt<Ue.length;xt++){const Gt=pt(Ue[xt],xt);if(Gt.isSome())return Gt}return O.none()},ce=(Ue,pt,xt=D)=>Ue.exists(Gt=>xt(Gt,pt)),he=Ue=>{const pt=[],xt=Gt=>{pt.push(Gt)};for(let Gt=0;Gt<Ue.length;Gt++)Ue[Gt].each(xt);return pt},ve=(Ue,pt)=>Ue?O.some(pt):O.none(),qe=Ue=>pt=>pt.options.get(Ue),U=Ue=>{const pt=Ue.options.register;pt("link_assume_external_targets",{processor:xt=>{const Gt=p(xt)||x(xt);return Gt?xt===!0?{value:1,valid:Gt}:xt==="http"||xt==="https"?{value:xt,valid:Gt}:{value:0,valid:Gt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),pt("link_context_toolbar",{processor:"boolean",default:!1}),pt("link_list",{processor:xt=>p(xt)||k(xt)||F(xt,v)}),pt("link_default_target",{processor:"string"}),pt("link_default_protocol",{processor:"string",default:"https"}),pt("link_target_list",{processor:xt=>x(xt)||F(xt,v),default:!0}),pt("link_rel_list",{processor:"object[]",default:[]}),pt("link_class_list",{processor:"object[]",default:[]}),pt("link_title",{processor:"boolean",default:!0}),pt("allow_unsafe_link_target",{processor:"boolean",default:!1}),pt("link_quicklink",{processor:"boolean",default:!1})},Fe=qe("link_assume_external_targets"),De=qe("link_context_toolbar"),Se=qe("link_list"),re=qe("link_default_target"),le=qe("link_default_protocol"),fe=qe("link_target_list"),ue=qe("link_rel_list"),Be=qe("link_class_list"),Ce=qe("link_title"),me=qe("allow_unsafe_link_target"),q=qe("link_quicklink");var Ze=tinymce.util.Tools.resolve("tinymce.util.Tools");const We=Ue=>p(Ue.value)?Ue.value:"",tt=Ue=>p(Ue.text)?Ue.text:p(Ue.title)?Ue.title:"",Qe=(Ue,pt)=>{const xt=[];return Ze.each(Ue,Gt=>{const mn=tt(Gt);if(Gt.menu!==void 0){const Do=Qe(Gt.menu,pt);xt.push({text:mn,items:Do})}else{const Do=pt(Gt);xt.push({text:mn,value:Do})}}),xt},it=(Ue=We)=>pt=>O.from(pt).map(xt=>Qe(xt,Ue)),Ve={sanitize:Ue=>it(We)(Ue),sanitizeWith:it,createUi:(Ue,pt)=>xt=>({name:Ue,type:"listbox",label:pt,items:xt}),getValue:We},Oe=Object.keys,be=Object.hasOwnProperty,ie=(Ue,pt)=>{const xt=Oe(Ue);for(let Gt=0,mn=xt.length;Gt<mn;Gt++){const Do=xt[Gt],or=Ue[Do];pt(or,Do)}},Ee=Ue=>(pt,xt)=>{Ue[xt]=pt},ot=(Ue,pt,xt,Gt)=>{ie(Ue,(mn,Do)=>{(pt(mn,Do)?xt:Gt)(mn,Do)})},Xe=(Ue,pt)=>{const xt={};return ot(Ue,pt,Ee(xt),N),xt},zt=(Ue,pt)=>be.call(Ue,pt),qt=(Ue,pt)=>zt(Ue,pt)&&Ue[pt]!==void 0&&Ue[pt]!==null;var bn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Kn=tinymce.util.Tools.resolve("tinymce.util.URI");const zn=Ue=>E(Ue)&&Ue.nodeName.toLowerCase()==="a",fn=Ue=>zn(Ue)&&!!Tt(Ue),oo=(Ue,pt)=>{if(Ue.collapsed)return[];{const xt=Ue.cloneContents(),Gt=xt.firstChild,mn=new bn(Gt,xt),Do=[];let or=Gt;do pt(or)&&Do.push(or);while(or=mn.next());return Do}},ft=Ue=>/^\w+:/i.test(Ue),Tt=Ue=>{var pt,xt;return(xt=(pt=Ue.getAttribute("data-mce-href"))!==null&&pt!==void 0?pt:Ue.getAttribute("href"))!==null&&xt!==void 0?xt:""},sn=(Ue,pt)=>{const xt=["noopener"],Gt=Ue?Ue.split(/\s+/):[],mn=xr=>Ze.trim(xr.sort().join(" ")),Do=xr=>(xr=or(xr),xr.length>0?xr.concat(xt):xt),or=xr=>xr.filter(Ns=>Ze.inArray(xt,Ns)===-1),Os=pt?Do(Gt):or(Gt);return Os.length>0?mn(Os):""},kn=Ue=>Ue.replace(/\uFEFF/g,""),Pn=(Ue,pt)=>(pt=pt||Ue.selection.getNode(),wn(pt)?O.from(Ue.dom.select("a[href]",pt)[0]):O.from(Ue.dom.getParent(pt,"a[href]"))),$n=(Ue,pt)=>Pn(Ue,pt).isSome(),_o=(Ue,pt)=>{const xt=pt.fold(()=>Ue.getContent({format:"text"}),Gt=>Gt.innerText||Gt.textContent||"");return kn(xt)},mr=Ue=>Ze.grep(Ue,fn).length>0,Ot=Ue=>oo(Ue,fn).length>0,Ct=Ue=>{const pt=Ue.schema.getTextInlineElements(),xt=mn=>mn.nodeType===1&&!zn(mn)&&!zt(pt,mn.nodeName.toLowerCase());return oo(Ue.selection.getRng(),xt).length===0},wn=Ue=>E(Ue)&&Ue.nodeName==="FIGURE"&&/\bimage\b/i.test(Ue.className),xn=Ue=>xe(["title","rel","class","target"],(xt,Gt)=>(Ue[Gt].each(mn=>{xt[Gt]=mn.length>0?mn:null}),xt),{href:Ue.href}),pn=(Ue,pt)=>(pt==="http"||pt==="https")&&!ft(Ue)?pt+"://"+Ue:Ue,eo=(Ue,pt)=>{const xt={...pt};if(ue(Ue).length===0&&!me(Ue)){const Gt=sn(xt.rel,xt.target==="_blank");xt.rel=Gt||null}return O.from(xt.target).isNone()&&fe(Ue)===!1&&(xt.target=re(Ue)),xt.href=pn(xt.href,Fe(Ue)),xt},yr=(Ue,pt,xt,Gt)=>{xt.each(mn=>{zt(pt,"innerText")?pt.innerText=mn:pt.textContent=mn}),Ue.dom.setAttribs(pt,Gt),Ue.selection.select(pt)},Ts=(Ue,pt,xt,Gt)=>{const mn=Ue.dom;wn(pt)?Vr(mn,pt,Gt):xt.fold(()=>{Ue.execCommand("mceInsertLink",!1,Gt)},Do=>{Ue.insertContent(mn.createHTML("a",Gt,mn.encode(Do)))})},ci=(Ue,pt,xt)=>{const Gt=Ue.selection.getNode(),mn=Pn(Ue,Gt),Do=eo(Ue,xn(xt));Ue.undoManager.transact(()=>{xt.href===pt.href&&pt.attach(),mn.fold(()=>{Ts(Ue,Gt,xt.text,Do)},or=>{Ue.focus(),yr(Ue,or,xt.text,Do)})})},pr=Ue=>{const pt=Ue.dom,xt=Ue.selection,Gt=xt.getBookmark(),mn=xt.getRng().cloneRange(),Do=pt.getParent(mn.startContainer,"a[href]",Ue.getBody()),or=pt.getParent(mn.endContainer,"a[href]",Ue.getBody());Do&&mn.setStartBefore(Do),or&&mn.setEndAfter(or),xt.setRng(mn),Ue.execCommand("unlink"),xt.moveToBookmark(Gt)},xi=Ue=>{Ue.undoManager.transact(()=>{const pt=Ue.selection.getNode();wn(pt)?si(Ue,pt):pr(Ue),Ue.focus()})},wr=Ue=>{const{class:pt,href:xt,rel:Gt,target:mn,text:Do,title:or}=Ue;return Xe({class:pt.getOrNull(),href:xt,rel:Gt.getOrNull(),target:mn.getOrNull(),text:Do.getOrNull(),title:or.getOrNull()},(Os,xr)=>S(Os)===!1)},Jo=(Ue,pt)=>{const xt=Ue.options.get,Gt={allow_html_data_urls:xt("allow_html_data_urls"),allow_script_urls:xt("allow_script_urls"),allow_svg_data_urls:xt("allow_svg_data_urls")},mn=pt.href;return{...pt,href:Kn.isDomSafe(mn,"a",Gt)?mn:""}},To=(Ue,pt,xt)=>{const Gt=Jo(Ue,xt);Ue.hasPlugin("rtc",!0)?Ue.execCommand("createlink",!1,wr(Gt)):ci(Ue,pt,Gt)},Es=Ue=>{Ue.hasPlugin("rtc",!0)?Ue.execCommand("unlink"):xi(Ue)},si=(Ue,pt)=>{var xt;const Gt=Ue.dom.select("img",pt)[0];if(Gt){const mn=Ue.dom.getParents(Gt,"a[href]",pt)[0];mn&&((xt=mn.parentNode)===null||xt===void 0||xt.insertBefore(Gt,mn),Ue.dom.remove(mn))}},Vr=(Ue,pt,xt)=>{var Gt;const mn=Ue.select("img",pt)[0];if(mn){const Do=Ue.create("a",xt);(Gt=mn.parentNode)===null||Gt===void 0||Gt.insertBefore(Do,mn),Do.appendChild(mn)}},ui=Ue=>qt(Ue,"items"),Yr=(Ue,pt)=>G(pt,xt=>ui(xt)?Yr(Ue,xt.items):ve(xt.value===Ue,xt)),ra=(Ue,pt,xt,Gt)=>{const mn=Gt[pt],Do=Ue.length>0;return mn!==void 0?Yr(mn,xt).map(or=>({url:{value:or.value,meta:{text:Do?Ue:or.text,attach:N}},text:Do?Ue:or.text})):O.none()},ls=(Ue,pt)=>pt==="link"?Ue.link:pt==="anchor"?Ue.anchor:O.none(),dt={init:(Ue,pt)=>{const xt={text:Ue.text,title:Ue.title},Gt=xr=>{var Ns;return ve(xt.title.length<=0,O.from((Ns=xr.meta)===null||Ns===void 0?void 0:Ns.title).getOr(""))},mn=xr=>{var Ns;return ve(xt.text.length<=0,O.from((Ns=xr.meta)===null||Ns===void 0?void 0:Ns.text).getOr(xr.value))},Do=xr=>{const Ns=mn(xr.url),Ss=Gt(xr.url);return Ns.isSome()||Ss.isSome()?O.some({...Ns.map(Hs=>({text:Hs})).getOr({}),...Ss.map(Hs=>({title:Hs})).getOr({})}):O.none()},or=(xr,Ns)=>{const Ss=ls(pt,Ns).getOr([]);return ra(xt.text,Ns,Ss,xr)};return{onChange:(xr,Ns)=>{const Ss=Ns.name;return Ss==="url"?Do(xr()):K(["anchor","link"],Ss)?or(xr(),Ss):((Ss==="text"||Ss==="title")&&(xt[Ss]=xr()[Ss]),O.none())}}},getDelta:ra};var Le=tinymce.util.Tools.resolve("tinymce.util.Delay");const Pt=(Ue,pt,xt)=>{const Gt=Ue.selection.getRng();Le.setEditorTimeout(Ue,()=>{Ue.windowManager.confirm(pt,mn=>{Ue.selection.setRng(Gt),xt(mn)})})},Zt=Ue=>{const pt=Ue.href;return pt.indexOf("@")>0&&pt.indexOf("/")===-1&&pt.indexOf("mailto:")===-1?O.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Gt=>({...Gt,href:"mailto:"+pt})}):O.none()},to=(Ue,pt)=>xt=>{const Gt=xt.href;return Ue===1&&!ft(Gt)||Ue===0&&/^\s*www(\.|\d\.)/i.test(Gt)?O.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${pt}:// prefix?`,preprocess:Do=>({...Do,href:pt+"://"+Gt})}):O.none()},Xn={preprocess:(Ue,pt)=>G([Zt,to(Fe(Ue),le(Ue))],xt=>xt(pt)).fold(()=>Promise.resolve(pt),xt=>new Promise(Gt=>{Pt(Ue,xt.message,mn=>{Gt(mn?xt.preprocess(pt):pt)})}))},zo={getAnchors:Ue=>{const pt=Ue.dom.select("a:not([href])"),xt=Q(pt,Gt=>{const mn=Gt.name||Gt.id;return mn?[{text:mn,value:"#"+mn}]:[]});return xt.length>0?O.some([{text:"None",value:""}].concat(xt)):O.none()}},Cs={getClasses:Ue=>{const pt=Be(Ue);return pt.length>0?Ve.sanitize(pt):O.none()}},dn=Ue=>{try{return O.some(JSON.parse(Ue))}catch{return O.none()}},ut={getLinks:Ue=>{const pt=Gt=>Ue.convertURL(Gt.value||Gt.url||"","href"),xt=Se(Ue);return new Promise(Gt=>{p(xt)?fetch(xt).then(mn=>mn.ok?mn.text().then(dn):Promise.reject()).then(Gt,()=>Gt(O.none())):k(xt)?xt(mn=>Gt(O.some(mn))):Gt(O.from(xt))}).then(Gt=>Gt.bind(Ve.sanitizeWith(pt)).map(mn=>mn.length>0?[{text:"None",value:""}].concat(mn):mn))}},En={getRels:(Ue,pt)=>{const xt=ue(Ue);if(xt.length>0){const Gt=ce(pt,"_blank"),mn=me(Ue)===!1,Do=Os=>sn(Ve.getValue(Os),Gt);return(mn?Ve.sanitizeWith(Do):Ve.sanitize)(xt)}return O.none()}},An=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],_n={getTargets:Ue=>{const pt=fe(Ue);return b(pt)?Ve.sanitize(pt).orThunk(()=>O.some(An)):pt===!1?O.none():O.some(An)}},Jn=(Ue,pt,xt)=>{const Gt=Ue.getAttrib(pt,xt);return Gt!==null&&Gt.length>0?O.some(Gt):O.none()},go=(Ue,pt)=>{const xt=Ue.dom,mn=Ct(Ue)?O.some(_o(Ue.selection,pt)):O.none(),Do=pt.bind(Ss=>O.from(xt.getAttrib(Ss,"href"))),or=pt.bind(Ss=>O.from(xt.getAttrib(Ss,"target"))),Os=pt.bind(Ss=>Jn(xt,Ss,"rel")),xr=pt.bind(Ss=>Jn(xt,Ss,"class")),Ns=pt.bind(Ss=>Jn(xt,Ss,"title"));return{url:Do,text:mn,title:Ns,target:or,rel:Os,linkClass:xr}},Hr={collect:(Ue,pt)=>ut.getLinks(Ue).then(xt=>{const Gt=go(Ue,pt);return{anchor:Gt,catalogs:{targets:_n.getTargets(Ue),rels:En.getRels(Ue,Gt.target),classes:Cs.getClasses(Ue),anchor:zo.getAnchors(Ue),link:xt},optNode:pt,flags:{titleEnabled:Ce(Ue)}}})},ks=(Ue,pt)=>xt=>{const Gt=xt.getData();if(!Gt.url.value){Es(Ue),xt.close();return}const mn=Os=>O.from(Gt[Os]).filter(xr=>!ce(pt.anchor[Os],xr)),Do={href:Gt.url.value,text:mn("text"),target:mn("target"),rel:mn("rel"),class:mn("linkClass"),title:mn("title")},or={href:Gt.url.value,attach:Gt.url.meta!==void 0&&Gt.url.meta.attach?Gt.url.meta.attach:N};Xn.preprocess(Ue,Do).then(Os=>{To(Ue,or,Os)}),xt.close()},Qo=Ue=>{const pt=Pn(Ue);return Hr.collect(Ue,pt)},fa=(Ue,pt)=>{const xt=Ue.anchor,Gt=xt.url.getOr("");return{url:{value:Gt,meta:{original:{value:Gt}}},text:xt.text.getOr(""),title:xt.title.getOr(""),anchor:Gt,link:Gt,rel:xt.rel.getOr(""),target:xt.target.or(pt).getOr(""),linkClass:xt.linkClass.getOr("")}},sr=(Ue,pt,xt)=>{const Gt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],mn=Ue.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Do=Ue.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],or=O.from(re(xt)),Os=fa(Ue,or),xr=Ue.catalogs,Ns=dt.init(Os,xr),Ss={type:"panel",items:se([Gt,mn,Do,he([xr.anchor.map(Ve.createUi("anchor","Anchors")),xr.rels.map(Ve.createUi("rel","Rel")),xr.targets.map(Ve.createUi("target","Open link in...")),xr.link.map(Ve.createUi("link","Link list")),xr.classes.map(Ve.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Ss,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Os,onChange:(Hs,{name:Mi})=>{Ns.onChange(Hs.getData,{name:Mi}).each(ae=>{Hs.setData(ae)})},onSubmit:pt}},Tr=Ue=>{Qo(Ue).then(xt=>{const Gt=ks(Ue,xt);return sr(xt,Gt,Ue)}).then(xt=>{Ue.windowManager.open(xt)})},Or=Ue=>{Ue.addCommand("mceLink",(pt,xt)=>{(xt==null?void 0:xt.dialog)===!0||!q(Ue)?Tr(Ue):Ue.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})};var Js=tinymce.util.Tools.resolve("tinymce.util.VK");const Ls=(Ue,pt)=>{document.body.appendChild(Ue),Ue.dispatchEvent(pt),document.body.removeChild(Ue)},Ea=Ue=>{const pt=document.createElement("a");pt.target="_blank",pt.href=Ue,pt.rel="noreferrer noopener";const xt=document.createEvent("MouseEvents");xt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Ls(pt,xt)},Fi=(Ue,pt)=>Ue.dom.getParent(pt,"a[href]"),da=Ue=>Fi(Ue,Ue.selection.getStart()),fl=Ue=>Ue.altKey===!0&&Ue.shiftKey===!1&&Ue.ctrlKey===!1&&Ue.metaKey===!1,Ma=(Ue,pt)=>{if(pt){const xt=Tt(pt);if(/^#/.test(xt)){const Gt=Ue.dom.select(xt);Gt.length&&Ue.selection.scrollIntoView(Gt[0],!0)}else Ea(pt.href)}},ka=Ue=>()=>{Ue.execCommand("mceLink",!1,{dialog:!0})},Cr=Ue=>()=>{Ma(Ue,da(Ue))},Ri=Ue=>{Ue.on("click",pt=>{const xt=Fi(Ue,pt.target);xt&&Js.metaKeyPressed(pt)&&(pt.preventDefault(),Ma(Ue,xt))}),Ue.on("keydown",pt=>{if(!pt.isDefaultPrevented()&&pt.keyCode===13&&fl(pt)){const xt=da(Ue);xt&&(pt.preventDefault(),Ma(Ue,xt))}})},Ws=(Ue,pt)=>(Ue.on("NodeChange",pt),()=>Ue.off("NodeChange",pt)),sa=Ue=>pt=>{const xt=()=>pt.setActive(!Ue.mode.isReadOnly()&&$n(Ue,Ue.selection.getNode()));return xt(),Ws(Ue,xt)},Oi=Ue=>pt=>{const xt=()=>pt.setEnabled($n(Ue,Ue.selection.getNode()));return xt(),Ws(Ue,xt)},Aa=Ue=>pt=>{const xt=mn=>mr(mn)||Ot(Ue.selection.getRng()),Gt=Ue.dom.getParents(Ue.selection.getStart());return pt.setEnabled(xt(Gt)),Ws(Ue,mn=>pt.setEnabled(xt(mn.parents)))},mi=Ue=>{Ue.addShortcut("Meta+K","",()=>{Ue.execCommand("mceLink")})},dl=Ue=>{Ue.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ka(Ue),onSetup:sa(Ue)}),Ue.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Cr(Ue),onSetup:Oi(Ue)}),Ue.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Es(Ue),onSetup:Aa(Ue)})},ha=Ue=>{Ue.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Cr(Ue),onSetup:Oi(Ue)}),Ue.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ka(Ue)}),Ue.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Es(Ue),onSetup:Aa(Ue)})},hl=Ue=>{const pt="link unlink openlink",xt="link";Ue.ui.registry.addContextMenu("link",{update:Gt=>mr(Ue.dom.getParents(Gt,"a"))?pt:xt})},Sr=Ue=>{const pt=mn=>{mn.selection.collapse(!1)},xt=mn=>{const Do=Ue.selection.getNode();return mn.setEnabled($n(Ue,Do)),N},Gt=mn=>{const Do=Pn(Ue),or=Ct(Ue);if(Do.isNone()&&or){const Os=_o(Ue.selection,Do);return O.some(Os.length>0?Os:mn)}else return O.none()};Ue.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:sa(Ue)},label:"Link",predicate:mn=>De(Ue)&&$n(Ue,mn),initValue:()=>Pn(Ue).fold($(""),Tt),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:mn=>{const Do=Ue.selection.getNode();return mn.setActive($n(Ue,Do)),sa(Ue)(mn)},onAction:mn=>{const Do=mn.getValue(),or=Gt(Do);To(Ue,{href:Do,attach:N},{href:Do,text:or,title:O.none(),rel:O.none(),target:O.none(),class:O.none()}),pt(Ue),mn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:xt,onAction:mn=>{Es(Ue),mn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:xt,onAction:mn=>{Cr(Ue)(),mn.hide()}}]})};var vi=()=>{e.add("link",Ue=>{U(Ue),dl(Ue),ha(Ue),hl(Ue),Sr(Ue),Ri(Ue),Or(Ue),mi(Ue)})};vi()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(ee,we,Me)=>{var vt;return Me(ee,we.prototype)?!0:((vt=ee.constructor)===null||vt===void 0?void 0:vt.name)===we.name},s=ee=>{const we=typeof ee;return ee===null?"null":we==="object"&&Array.isArray(ee)?"array":we==="object"&&o(ee,String,(Me,vt)=>vt.isPrototypeOf(Me))?"string":we},l=ee=>we=>s(we)===ee,c=ee=>we=>typeof we===ee,d=l("string"),p=l("object"),v=l("array"),b=c("boolean"),S=ee=>ee==null,x=ee=>!S(ee),T=c("function"),E=c("number"),k=()=>{},F=ee=>()=>ee,N=(ee,we)=>ee===we,$=ee=>we=>!ee(we),D=F(!1);class O{constructor(we,Me){this.tag=we,this.value=Me}static some(we){return new O(!0,we)}static none(){return O.singletonNone}fold(we,Me){return this.tag?Me(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?O.some(we(this.value)):O.none()}bind(we){return this.tag?we(this.value):O.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:O.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we!=null?we:"Called getOrDie on None")}static from(we){return x(we)?O.some(we):O.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}O.singletonNone=new O(!1);const P=Array.prototype.slice,I=Array.prototype.indexOf,z=Array.prototype.push,K=(ee,we)=>I.call(ee,we),j=(ee,we)=>K(ee,we)>-1,oe=(ee,we)=>{for(let Me=0,vt=ee.length;Me<vt;Me++){const At=ee[Me];if(we(At,Me))return!0}return!1},xe=(ee,we)=>{const Me=ee.length,vt=new Array(Me);for(let At=0;At<Me;At++){const In=ee[At];vt[At]=we(In,At)}return vt},se=(ee,we)=>{for(let Me=0,vt=ee.length;Me<vt;Me++){const At=ee[Me];we(At,Me)}},Q=(ee,we)=>{const Me=[];for(let vt=0,At=ee.length;vt<At;vt++){const In=ee[vt];we(In,vt)&&Me.push(In)}return Me},G=(ee,we)=>{if(ee.length===0)return[];{let Me=we(ee[0]);const vt=[];let At=[];for(let In=0,Lo=ee.length;In<Lo;In++){const _r=ee[In],br=we(_r);br!==Me&&(vt.push(At),At=[]),Me=br,At.push(_r)}return At.length!==0&&vt.push(At),vt}},ce=(ee,we,Me)=>(se(ee,(vt,At)=>{Me=we(Me,vt,At)}),Me),he=(ee,we,Me)=>{for(let vt=0,At=ee.length;vt<At;vt++){const In=ee[vt];if(we(In,vt))return O.some(In);if(Me(In,vt))break}return O.none()},ve=(ee,we)=>he(ee,we,D),qe=ee=>{const we=[];for(let Me=0,vt=ee.length;Me<vt;++Me){if(!v(ee[Me]))throw new Error("Arr.flatten item "+Me+" was not an array, input: "+ee);z.apply(we,ee[Me])}return we},U=(ee,we)=>qe(xe(ee,we)),Fe=ee=>{const we=P.call(ee,0);return we.reverse(),we},De=(ee,we)=>we>=0&&we<ee.length?O.some(ee[we]):O.none(),Se=ee=>De(ee,0),re=ee=>De(ee,ee.length-1),le=(ee,we)=>{const Me=[],vt=T(we)?At=>oe(Me,In=>we(In,At)):At=>j(Me,At);for(let At=0,In=ee.length;At<In;At++){const Lo=ee[At];vt(Lo)||Me.push(Lo)}return Me},fe=(ee,we,Me=N)=>ee.exists(vt=>Me(vt,we)),ue=(ee,we,Me=N)=>Be(ee,we,Me).getOr(ee.isNone()&&we.isNone()),Be=(ee,we,Me)=>ee.isSome()&&we.isSome()?O.some(Me(ee.getOrDie(),we.getOrDie())):O.none(),Ce=1,me=(ee,we)=>{const vt=(we||document).createElement("div");if(vt.innerHTML=ee,!vt.hasChildNodes()||vt.childNodes.length>1){const At="HTML does not have a single root node";throw console.error(At,ee),new Error(At)}return We(vt.childNodes[0])},q=(ee,we)=>{const vt=(we||document).createElement(ee);return We(vt)},Ze=(ee,we)=>{const vt=(we||document).createTextNode(ee);return We(vt)},We=ee=>{if(ee==null)throw new Error("Node cannot be null or undefined");return{dom:ee}},Qe={fromHtml:me,fromTag:q,fromText:Ze,fromDom:We,fromPoint:(ee,we,Me)=>O.from(ee.dom.elementFromPoint(we,Me)).map(We)},it=(ee,we)=>{const Me=ee.dom;if(Me.nodeType!==Ce)return!1;{const vt=Me;if(vt.matches!==void 0)return vt.matches(we);if(vt.msMatchesSelector!==void 0)return vt.msMatchesSelector(we);if(vt.webkitMatchesSelector!==void 0)return vt.webkitMatchesSelector(we);if(vt.mozMatchesSelector!==void 0)return vt.mozMatchesSelector(we);throw new Error("Browser lacks native selectors")}},He=(ee,we)=>ee.dom===we.dom,Re=(ee,we)=>{const Me=ee.dom,vt=we.dom;return Me===vt?!1:Me.contains(vt)},Ve=it;var Oe=(ee,we,Me,vt,At)=>ee(Me,vt)?O.some(Me):T(At)&&At(Me)?O.none():we(Me,vt,At);typeof window<"u"||Function("return this;")();const be=ee=>ee.dom.nodeName.toLowerCase(),ie=ee=>ee.dom.nodeType,ot=(ee=>we=>ie(we)===ee)(Ce),Xe=ee=>we=>ot(we)&&be(we)===ee,zt=ee=>O.from(ee.dom.parentNode).map(Qe.fromDom),qt=ee=>O.from(ee.dom.parentElement).map(Qe.fromDom),bn=ee=>O.from(ee.dom.nextSibling).map(Qe.fromDom),Kn=ee=>xe(ee.dom.childNodes,Qe.fromDom),zn=(ee,we)=>{const Me=ee.dom.childNodes;return O.from(Me[we]).map(Qe.fromDom)},fn=ee=>zn(ee,0),oo=ee=>zn(ee,ee.dom.childNodes.length-1),ft=(ee,we,Me)=>{let vt=ee.dom;const At=T(Me)?Me:D;for(;vt.parentNode;){vt=vt.parentNode;const In=Qe.fromDom(vt);if(we(In))return O.some(In);if(At(In))break}return O.none()},Tt=(ee,we,Me)=>Oe((At,In)=>In(At),ft,ee,we,Me),sn=(ee,we)=>{zt(ee).each(vt=>{vt.dom.insertBefore(we.dom,ee.dom)})},kn=(ee,we)=>{bn(ee).fold(()=>{zt(ee).each(At=>{Pn(At,we)})},vt=>{sn(vt,we)})},Pn=(ee,we)=>{ee.dom.appendChild(we.dom)},$n=(ee,we)=>{se(we,Me=>{sn(ee,Me)})},_o=(ee,we)=>{se(we,Me=>{Pn(ee,Me)})},mr=ee=>{ee.dom.textContent="",se(Kn(ee),we=>{Ot(we)})},Ot=ee=>{const we=ee.dom;we.parentNode!==null&&we.parentNode.removeChild(we)};var Ct=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),wn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xn=tinymce.util.Tools.resolve("tinymce.util.VK");const pn=ee=>xe(ee,Qe.fromDom),eo=Object.keys,yr=(ee,we)=>{const Me=eo(ee);for(let vt=0,At=Me.length;vt<At;vt++){const In=Me[vt],Lo=ee[In];we(Lo,In)}},Ts=ee=>(we,Me)=>{ee[Me]=we},ci=(ee,we,Me,vt)=>{yr(ee,(At,In)=>{(we(At,In)?Me:vt)(At,In)})},pr=(ee,we)=>{const Me={};return ci(ee,we,Ts(Me),k),Me},xi=(ee,we,Me)=>{if(d(Me)||b(Me)||E(Me))ee.setAttribute(we,Me+"");else throw console.error("Invalid call to Attribute.set. Key ",we,":: Value ",Me,":: Element ",ee),new Error("Attribute value was not simple")},wr=(ee,we)=>{const Me=ee.dom;yr(we,(vt,At)=>{xi(Me,At,vt)})},Jo=ee=>ce(ee.dom.attributes,(we,Me)=>(we[Me.name]=Me.value,we),{}),To=(ee,we)=>Qe.fromDom(ee.dom.cloneNode(we)),Es=ee=>To(ee,!0),si=(ee,we)=>{const Me=Qe.fromTag(we),vt=Jo(ee);return wr(Me,vt),Me},Vr=(ee,we)=>{const Me=si(ee,we);kn(ee,Me);const vt=Kn(ee);return _o(Me,vt),Ot(ee),Me};var ui=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Yr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ra=ee=>we=>x(we)&&we.nodeName.toLowerCase()===ee,ls=ee=>we=>x(we)&&ee.test(we.nodeName),Ti=ee=>x(ee)&&ee.nodeType===3,dt=ee=>x(ee)&&ee.nodeType===1,Le=ls(/^(OL|UL|DL)$/),Pt=ls(/^(OL|UL)$/),Zt=ra("ol"),to=ls(/^(LI|DT|DD)$/),uo=ls(/^(DT|DD)$/),Xn=ls(/^(TH|TD)$/),vr=ra("br"),zo=ee=>{var we;return((we=ee.parentNode)===null||we===void 0?void 0:we.firstChild)===ee},Fo=(ee,we)=>x(we)&&we.nodeName in ee.schema.getTextBlockElements(),Cs=(ee,we)=>x(ee)&&ee.nodeName in we,dn=(ee,we)=>vr(we)?ee.isBlock(we.nextSibling)&&!vr(we.previousSibling):!1,lt=(ee,we,Me)=>{const vt=ee.isEmpty(we);return Me&&ee.select("span[data-mce-type=bookmark]",we).length>0?!1:vt},ut=(ee,we)=>ee.isChildOf(we,ee.getRoot()),en=ee=>we=>we.options.get(ee),En=ee=>{const we=ee.options.register;we("lists_indent_on_tab",{processor:"boolean",default:!0})},An=en("lists_indent_on_tab"),Un=en("forced_root_block"),_n=en("forced_root_block_attrs"),Jn=(ee,we)=>{const Me=ee.dom,vt=ee.schema.getBlockElements(),At=Me.createFragment(),In=Un(ee),Lo=_n(ee);let _r,br,bo=!1;for(br=Me.create(In,Lo),Cs(we.firstChild,vt)||At.appendChild(br);_r=we.firstChild;){const $r=_r.nodeName;!bo&&($r!=="SPAN"||_r.getAttribute("data-mce-type")!=="bookmark")&&(bo=!0),Cs(_r,vt)?(At.appendChild(_r),br=null):(br||(br=Me.create(In,Lo),At.appendChild(br)),br.appendChild(_r))}return!bo&&br&&br.appendChild(Me.create("br",{"data-mce-bogus":"1"})),At},go=ui.DOM,$o=(ee,we,Me)=>{const vt=bo=>{const $r=bo.parentNode;$r&&Yr.each(At,ni=>{$r.insertBefore(ni,Me.parentNode)}),go.remove(bo)},At=go.select('span[data-mce-type="bookmark"]',we),In=Jn(ee,Me),Lo=go.createRng();Lo.setStartAfter(Me),Lo.setEndAfter(we);const _r=Lo.extractContents();for(let bo=_r.firstChild;bo;bo=bo.firstChild)if(bo.nodeName==="LI"&&ee.dom.isEmpty(bo)){go.remove(bo);break}ee.dom.isEmpty(_r)||go.insertAfter(_r,we),go.insertAfter(In,we);const br=Me.parentElement;br&&lt(ee.dom,br)&&vt(br),go.remove(Me),lt(ee.dom,we)&&go.remove(we)},Hr=Xe("dd"),ks=Xe("dt"),Qo=(ee,we)=>{Hr(we)?Vr(we,"dt"):ks(we)&&qt(we).each(Me=>$o(ee,Me.dom,we.dom))},fa=ee=>{ks(ee)&&Vr(ee,"dd")},sr=(ee,we,Me)=>{we==="Indent"?se(Me,fa):se(Me,vt=>Qo(ee,vt))},Tr=(ee,we)=>{if(Ti(ee))return{container:ee,offset:we};const Me=Ct.getNode(ee,we);return Ti(Me)?{container:Me,offset:we>=ee.childNodes.length?Me.data.length:0}:Me.previousSibling&&Ti(Me.previousSibling)?{container:Me.previousSibling,offset:Me.previousSibling.data.length}:Me.nextSibling&&Ti(Me.nextSibling)?{container:Me.nextSibling,offset:0}:{container:ee,offset:we}},Or=ee=>{const we=ee.cloneRange(),Me=Tr(ee.startContainer,ee.startOffset);we.setStart(Me.container,Me.offset);const vt=Tr(ee.endContainer,ee.endOffset);return we.setEnd(vt.container,vt.offset),we},Js=["OL","UL","DL"],Ls=Js.join(","),Ea=(ee,we)=>{const Me=we||ee.selection.getStart(!0);return ee.dom.getParent(Me,Ls,sa(ee,Me))},Fi=(ee,we)=>x(ee)&&we.length===1&&we[0]===ee,da=ee=>Q(ee.querySelectorAll(Ls),Le),fl=ee=>{const we=Ea(ee),Me=ee.selection.getSelectedBlocks();return Fi(we,Me)?da(we):Q(Me,vt=>Le(vt)&&we!==vt)},Ma=(ee,we)=>{const Me=Yr.map(we,vt=>{const At=ee.dom.getParent(vt,"li,dd,dt",sa(ee,vt));return At||vt});return le(Me)},ka=ee=>{const we=ee.selection.getSelectedBlocks();return Q(Ma(ee,we),to)},Cr=ee=>Q(ka(ee),uo),Ri=(ee,we)=>{const Me=ee.dom.getParents(we,"TD,TH");return Me.length>0?Me[0]:ee.getBody()},Ws=(ee,we)=>!Le(we)&&!to(we)&&oe(Js,Me=>ee.isValidChild(we.nodeName,Me)),sa=(ee,we)=>{const Me=ee.dom.getParents(we,ee.dom.isBlock);return ve(Me,At=>Ws(ee.schema,At)).getOr(ee.getBody())},Oi=(ee,we)=>{const Me=ee.dom.getParents(we,"ol,ul",sa(ee,we));return re(Me)},Aa=ee=>{const we=Oi(ee,ee.selection.getStart()),Me=Q(ee.selection.getSelectedBlocks(),Pt);return we.toArray().concat(Me)},mi=ee=>{const we=Aa(ee);return dl(ee,we)},dl=(ee,we)=>{const Me=xe(we,vt=>Oi(ee,vt).getOr(vt));return le(Me)},ha=ee=>/\btox\-/.test(ee.className),hl=(ee,we)=>he(ee,Le,Xn).exists(Me=>Me.nodeName===we&&!ha(Me)),Sr=(ee,we)=>we!==null&&ee.dom.getContentEditableParent(we)==="false",vi=ee=>{const we=Ea(ee);return Sr(ee,we)},Ue=(ee,we)=>{const Me=ee.dom.getParent(we,"ol,ul,dl");return Sr(ee,Me)},pt=(ee,we)=>{const Me=ee.selection.getNode();return we({parents:ee.dom.getParents(Me),element:Me}),ee.on("NodeChange",we),()=>ee.off("NodeChange",we)},xt=(ee,we)=>{const vt=(we||document).createDocumentFragment();return se(ee,At=>{vt.appendChild(At.dom)}),Qe.fromDom(vt)},Gt=(ee,we,Me)=>ee.dispatch("ListMutation",{action:we,element:Me}),Do=(ee=>we=>we.replace(ee,""))(/^\s+|\s+$/g),or=ee=>ee.length>0,Os=ee=>!or(ee),xr=ee=>ee.style!==void 0&&T(ee.style.getPropertyValue),Ns=(ee,we,Me)=>{if(!d(Me))throw console.error("Invalid call to CSS.set. Property ",we,":: Value ",Me,":: Element ",ee),new Error("CSS value must be a string: "+Me);xr(ee)&&ee.style.setProperty(we,Me)},Ss=(ee,we,Me)=>{const vt=ee.dom;Ns(vt,we,Me)},Hs=(ee,we)=>{Pn(ee.item,we.list)},Mi=ee=>{for(let we=1;we<ee.length;we++)Hs(ee[we-1],ee[we])},ae=(ee,we)=>{Be(re(ee),Se(we),Hs)},Ke=(ee,we)=>{const Me={list:Qe.fromTag(we,ee),item:Qe.fromTag("li",ee)};return Pn(Me.list,Me.item),Me},St=(ee,we,Me)=>{const vt=[];for(let At=0;At<Me;At++)vt.push(Ke(ee,we.listType));return vt},cn=(ee,we)=>{for(let Me=0;Me<ee.length-1;Me++)Ss(ee[Me].item,"list-style-type","none");re(ee).each(Me=>{wr(Me.list,we.listAttributes),wr(Me.item,we.itemAttributes),_o(Me.item,we.content)})},Fn=(ee,we)=>{be(ee.list)!==we.listType&&(ee.list=Vr(ee.list,we.listType)),wr(ee.list,we.listAttributes)},Hn=(ee,we,Me)=>{const vt=Qe.fromTag("li",ee);return wr(vt,we),_o(vt,Me),vt},Ro=(ee,we)=>{Pn(ee.list,we),ee.item=we},pe=(ee,we,Me)=>{const vt=we.slice(0,Me.depth);return re(vt).each(At=>{const In=Hn(ee,Me.itemAttributes,Me.content);Ro(At,In),Fn(At,Me)}),vt},je=(ee,we,Me)=>{const vt=St(ee,Me,Me.depth-we.length);return Mi(vt),cn(vt,Me),ae(we,vt),we.concat(vt)},et=(ee,we)=>{const Me=ce(we,(vt,At)=>At.depth>vt.length?je(ee,vt,At):pe(ee,vt,At),[]);return Se(Me).map(vt=>vt.list)},Nt=ee=>Ve(ee,"OL,UL"),Dn=ee=>fn(ee).exists(Nt),mo=ee=>oo(ee).exists(Nt),Wn=ee=>ee.depth>0,Wr=ee=>ee.isSelected,cs=ee=>{const we=Kn(ee),Me=mo(ee)?we.slice(0,-1):we;return xe(Me,Es)},nn=(ee,we,Me)=>zt(ee).filter(ot).map(vt=>({depth:we,dirty:!1,isSelected:Me,content:cs(ee),itemAttributes:Jo(ee),listAttributes:Jo(vt),listType:be(vt)})),Qs=(ee,we)=>{switch(ee){case"Indent":we.depth++;break;case"Outdent":we.depth--;break;case"Flatten":we.depth=0}we.dirty=!0},ps=(ee,we)=>{ee.listType=we.listType,ee.listAttributes={...we.listAttributes}},ei=ee=>{ee.listAttributes=pr(ee.listAttributes,(we,Me)=>Me!=="start")},Dl=(ee,we)=>{const Me=ee[we].depth,vt=In=>In.depth===Me&&!In.dirty,At=In=>In.depth<Me;return he(Fe(ee.slice(0,we)),vt,At).orThunk(()=>he(ee.slice(we+1),vt,At))},rr=ee=>(se(ee,(we,Me)=>{Dl(ee,Me).fold(()=>{we.dirty&&ei(we)},vt=>ps(we,vt))}),ee),Ye=ee=>{let we=ee;return{get:()=>we,set:At=>{we=At}}},at=(ee,we,Me,vt)=>fn(vt).filter(Nt).fold(()=>{we.each(Lo=>{He(Lo.start,vt)&&Me.set(!0)});const At=nn(vt,ee,Me.get());we.each(Lo=>{He(Lo.end,vt)&&Me.set(!1)});const In=oo(vt).filter(Nt).map(Lo=>Ft(ee,we,Me,Lo)).getOr([]);return At.toArray().concat(In)},At=>Ft(ee,we,Me,At)),Ft=(ee,we,Me,vt)=>U(Kn(vt),At=>{const In=Nt(At)?Ft:at,Lo=ee+1;return In(Lo,we,Me,At)}),Vt=(ee,we)=>{const Me=Ye(!1),vt=0;return xe(ee,At=>({sourceList:At,entries:Ft(vt,we,Me,At)}))},ro=(ee,we)=>{const Me=rr(we);return xe(Me,vt=>{const At=xt(vt.content);return Qe.fromDom(Jn(ee,At.dom))})},ko=(ee,we)=>{const Me=rr(we);return et(ee.contentDocument,Me).toArray()},xs=(ee,we)=>U(G(we,Wn),Me=>Se(Me).exists(Wn)?ko(ee,Me):ro(ee,Me)),Er=(ee,we)=>{se(Q(ee,Wr),Me=>Qs(we,Me))},Uc=ee=>{const we=xe(ka(ee),Qe.fromDom);return Be(ve(we,$(Dn)),ve(Fe(we),$(Dn)),(Me,vt)=>({start:Me,end:vt}))},Fr=(ee,we,Me)=>{const vt=Vt(we,Uc(ee));se(vt,At=>{Er(At.entries,Me);const In=xs(ee,At.entries);se(In,Lo=>{Gt(ee,Me==="Indent"?"IndentList":"OutdentList",Lo.dom)}),$n(At.sourceList,In),Ot(At.sourceList)})},Xr=(ee,we)=>{const Me=pn(mi(ee)),vt=pn(Cr(ee));let At=!1;if(Me.length||vt.length){const In=ee.selection.getBookmark();Fr(ee,Me,we),sr(ee,we,vt),ee.selection.moveToBookmark(In),ee.selection.setRng(Or(ee.selection.getRng())),ee.nodeChanged(),At=!0}return At},pa=(ee,we)=>!vi(ee)&&Xr(ee,we),Xa=ee=>pa(ee,"Indent"),Wc=ee=>pa(ee,"Outdent"),qs=ee=>pa(ee,"Flatten");var _s=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Jr=ui.DOM,bi=ee=>{const we={},Me=vt=>{let At=ee[vt?"startContainer":"endContainer"],In=ee[vt?"startOffset":"endOffset"];if(dt(At)){const Lo=Jr.create("span",{"data-mce-type":"bookmark"});At.hasChildNodes()?(In=Math.min(In,At.childNodes.length-1),vt?At.insertBefore(Lo,At.childNodes[In]):Jr.insertAfter(Lo,At.childNodes[In])):At.appendChild(Lo),At=Lo,In=0}we[vt?"startContainer":"endContainer"]=At,we[vt?"startOffset":"endOffset"]=In};return Me(!0),ee.collapsed||Me(),we},pl=ee=>{const we=vt=>{const At=_r=>{var br;let bo=(br=_r.parentNode)===null||br===void 0?void 0:br.firstChild,$r=0;for(;bo;){if(bo===_r)return $r;(!dt(bo)||bo.getAttribute("data-mce-type")!=="bookmark")&&$r++,bo=bo.nextSibling}return-1};let In=ee[vt?"startContainer":"endContainer"],Lo=ee[vt?"startOffset":"endOffset"];if(!!In){if(dt(In)&&In.parentNode){const _r=In;Lo=At(In),In=In.parentNode,Jr.remove(_r),!In.hasChildNodes()&&Jr.isBlock(In)&&In.appendChild(Jr.create("br"))}ee[vt?"startContainer":"endContainer"]=In,ee[vt?"startOffset":"endOffset"]=Lo}};we(!0),we();const Me=Jr.createRng();return Me.setStart(ee.startContainer,ee.startOffset),ee.endContainer&&Me.setEnd(ee.endContainer,ee.endOffset),Or(Me)},Fu=ee=>{switch(ee){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ii=(ee,we,Me)=>{const vt=Me["list-style-type"]?Me["list-style-type"]:null;ee.setStyle(we,"list-style-type",vt)},ff=(ee,we)=>{Yr.each(we,(Me,vt)=>{ee.setAttribute(vt,Me)})},Hf=(ee,we,Me)=>{ff(we,Me["list-attributes"]),Yr.each(ee.select("li",we),vt=>{ff(vt,Me["list-item-attributes"])})},Ja=(ee,we,Me)=>{Ii(ee,we,Me),Hf(ee,we,Me)},jf=(ee,we,Me)=>{Yr.each(Me,vt=>ee.setStyle(we,vt,""))},Ym=(ee,we,Me,vt)=>{let At=we[Me?"startContainer":"endContainer"];const In=we[Me?"startOffset":"endOffset"];for(dt(At)&&(At=At.childNodes[Math.min(In,At.childNodes.length-1)]||At),!Me&&vr(At.nextSibling)&&(At=At.nextSibling);At.parentNode!==vt;){const Lo=At.parentNode;if(Fo(ee,At)||/^(TD|TH)$/.test(Lo.nodeName))return At;At=Lo}return At},Bl=(ee,we,Me)=>{const vt=[],At=ee.dom,In=Ym(ee,we,!0,Me),Lo=Ym(ee,we,!1,Me);let _r;const br=[];for(let bo=In;bo&&(br.push(bo),bo!==Lo);bo=bo.nextSibling);return Yr.each(br,bo=>{var $r;if(Fo(ee,bo)){vt.push(bo),_r=null;return}if(At.isBlock(bo)||vr(bo)){vr(bo)&&At.remove(bo),_r=null;return}const ni=bo.nextSibling;if(_s.isBookmarkNode(bo)&&(Le(ni)||Fo(ee,ni)||!ni&&bo.parentNode===Me)){_r=null;return}_r||(_r=At.create("p"),($r=bo.parentNode)===null||$r===void 0||$r.insertBefore(_r,bo),vt.push(_r)),_r.appendChild(bo)}),vt},Ru=(ee,we,Me)=>{const vt=ee.getStyle(we,"list-style-type");let At=Me?Me["list-style-type"]:"";return At=At===null?"":At,vt===At},yd=(ee,we,Me)=>{const vt=ee.selection.getRng();let At="LI";const In=sa(ee,ee.selection.getStart(!0)),Lo=ee.dom;if(Lo.getContentEditable(ee.selection.getNode())==="false")return;we=we.toUpperCase(),we==="DL"&&(At="DT");const _r=bi(vt),br=Bl(ee,vt,In);Yr.each(br,bo=>{let $r;const ni=bo.previousSibling,Ha=bo.parentNode;to(Ha)||(ni&&Le(ni)&&ni.nodeName===we&&Ru(Lo,ni,Me)?($r=ni,bo=Lo.rename(bo,At),ni.appendChild(bo)):($r=Lo.create(we),Ha.insertBefore($r,bo),$r.appendChild(bo),bo=Lo.rename(bo,At)),jf(Lo,bo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ja(Lo,$r,Me),df(ee.dom,$r))}),ee.selection.setRng(pl(_r))},Ta=(ee,we)=>Le(ee)&&ee.nodeName===(we==null?void 0:we.nodeName),du=(ee,we,Me)=>{const vt=ee.getStyle(we,"list-style-type",!0),At=ee.getStyle(Me,"list-style-type",!0);return vt===At},zf=(ee,we)=>ee.className===we.className,rh=(ee,we,Me)=>Ta(we,Me)&&du(ee,we,Me)&&zf(we,Me),df=(ee,we)=>{let Me,vt=we.nextSibling;if(rh(ee,we,vt)){const At=vt;for(;Me=At.firstChild;)we.appendChild(Me);ee.remove(At)}if(vt=we.previousSibling,rh(ee,we,vt)){const At=vt;for(;Me=At.lastChild;)we.insertBefore(Me,we.firstChild);ee.remove(At)}},pp=(ee,we,Me,vt)=>{if(we.nodeName!==Me){const At=ee.dom.rename(we,Me);Ja(ee.dom,At,vt),Gt(ee,Fu(Me),At)}else Ja(ee.dom,we,vt),Gt(ee,Fu(Me),we)},sh=(ee,we,Me,vt,At)=>{const In=Le(we);if(In&&we.nodeName===vt&&!Ec(At))qs(ee);else{yd(ee,vt,At);const Lo=bi(ee.selection.getRng()),_r=In?[we,...Me]:Me;Yr.each(_r,br=>{pp(ee,br,vt,At)}),ee.selection.setRng(pl(Lo))}},Ec=ee=>"list-style-type"in ee,Xm=(ee,we,Me,vt)=>{if(we!==ee.getBody())if(we)if(we.nodeName===Me&&!Ec(vt)&&!ha(we))qs(ee);else{const At=bi(ee.selection.getRng());Ja(ee.dom,we,vt);const In=ee.dom.rename(we,Me);df(ee.dom,In),ee.selection.setRng(pl(At)),yd(ee,Me,vt),Gt(ee,Fu(Me),In)}else yd(ee,Me,vt),Gt(ee,Fu(Me),we)},gp=(ee,we,Me)=>{const vt=Ea(ee);if(Ue(ee,vt))return;const At=fl(ee),In=p(Me)?Me:{};At.length>0?sh(ee,vt,At,we,In):Xm(ee,vt,we,In)},Vf=ui.DOM,ih=(ee,we)=>{const Me=we.parentElement;if(Me&&Me.nodeName==="LI"&&Me.firstChild===we){const vt=Me.previousSibling;vt&&vt.nodeName==="LI"?(vt.appendChild(we),lt(ee,Me)&&Vf.remove(Me)):Vf.setStyle(Me,"listStyleType","none")}if(Le(Me)){const vt=Me.previousSibling;vt&&vt.nodeName==="LI"&&vt.appendChild(we)}},kc=(ee,we)=>{const Me=Yr.grep(ee.select("ol,ul",we));Yr.each(Me,vt=>{ih(ee,vt)})},mt=(ee,we,Me,vt)=>{let At=we.startContainer;const In=we.startOffset;if(Ti(At)&&(Me?In<At.data.length:In>0))return At;const Lo=ee.schema.getNonEmptyElements();dt(At)&&(At=Ct.getNode(At,In));const _r=new wn(At,vt);Me&&dn(ee.dom,At)&&_r.next();const br=Me?_r.next.bind(_r):_r.prev2.bind(_r);for(;At=br();)if(At.nodeName==="LI"&&!At.hasChildNodes()||Lo[At.nodeName]||Ti(At)&&At.data.length>0)return At;return null},hf=(ee,we)=>{const Me=we.childNodes;return Me.length===1&&!Le(Me[0])&&ee.isBlock(Me[0])},Ac=(ee,we)=>{hf(ee,we)&&ee.remove(we.firstChild,!0)},mp=(ee,we,Me)=>{let vt;const At=hf(ee,Me)?Me.firstChild:Me;if(Ac(ee,we),!lt(ee,we,!0))for(;vt=we.firstChild;)At.appendChild(vt)},vp=(ee,we,Me)=>{let vt;const At=we.parentNode;if(!ut(ee,we)||!ut(ee,Me))return;Le(Me.lastChild)&&(vt=Me.lastChild),At===Me.lastChild&&vr(At.previousSibling)&&ee.remove(At.previousSibling);const In=Me.lastChild;In&&vr(In)&&we.hasChildNodes()&&ee.remove(In),lt(ee,Me,!0)&&mr(Qe.fromDom(Me)),mp(ee,we,Me),vt&&Me.appendChild(vt);const _r=Re(Qe.fromDom(Me),Qe.fromDom(we))?ee.getParents(we,Le,Me):[];ee.remove(we),se(_r,br=>{lt(ee,br)&&br!==ee.getRoot()&&ee.remove(br)})},Jm=(ee,we,Me)=>{mr(Qe.fromDom(Me)),vp(ee.dom,we,Me),ee.selection.setCursorLocation(Me,0)},gs=(ee,we,Me,vt)=>{const At=ee.dom;if(At.isEmpty(vt))Jm(ee,Me,vt);else{const In=bi(we);vp(At,Me,vt),ee.selection.setRng(pl(In))}},Ia=(ee,we,Me,vt)=>{const At=bi(we);vp(ee.dom,Me,vt);const In=pl(At);ee.selection.setRng(In)},xg=(ee,we)=>{const Me=ee.dom,vt=ee.selection,At=vt.getStart(),In=Ri(ee,At),Lo=Me.getParent(vt.getStart(),"LI",In);if(Lo){const _r=Lo.parentElement;if(_r===ee.getBody()&&lt(Me,_r))return!0;const br=Or(vt.getRng()),bo=Me.getParent(mt(ee,br,we,In),"LI",In);if(bo&&bo!==Lo)return ee.undoManager.transact(()=>{we?gs(ee,br,bo,Lo):zo(Lo)?Wc(ee):Ia(ee,br,Lo,bo)}),!0;if(!bo&&!we&&br.startOffset===0&&br.endOffset===0)return ee.undoManager.transact(()=>{qs(ee)}),!0}return!1},qc=(ee,we,Me)=>{const vt=ee.getParent(we.parentNode,ee.isBlock,Me);ee.remove(we),vt&&ee.isEmpty(vt)&&ee.remove(vt)},bp=(ee,we)=>{const Me=ee.dom,vt=ee.selection.getStart(),At=Ri(ee,vt),In=Me.getParent(vt,Me.isBlock,At);if(In&&Me.isEmpty(In)){const Lo=Or(ee.selection.getRng()),_r=Me.getParent(mt(ee,Lo,we,At),"LI",At);if(_r){const br=Ha=>j(["td","th","caption"],be(Ha)),bo=Ha=>Ha.dom===At,$r=Tt(Qe.fromDom(_r),br,bo),ni=Tt(Qe.fromDom(Lo.startContainer),br,bo);return ue($r,ni,He)?(ee.undoManager.transact(()=>{qc(Me,In,At),df(Me,_r.parentNode),ee.selection.select(_r,!0),ee.selection.collapse(we)}),!0):!1}}return!1},Uf=(ee,we)=>xg(ee,we)||bp(ee,we),La=ee=>{const we=ee.selection.getStart(),Me=Ri(ee,we);return ee.dom.getParent(we,"LI,DT,DD",Me)||ka(ee).length>0},Qm=ee=>La(ee)?(ee.undoManager.transact(()=>{ee.execCommand("Delete"),kc(ee.dom,ee.getBody())}),!0):!1,ah=(ee,we)=>{const Me=ee.selection;return!Ue(ee,Me.getNode())&&(Me.isCollapsed()?Uf(ee,we):Qm(ee))},e1=ee=>{ee.on("ExecCommand",we=>{const Me=we.command.toLowerCase();(Me==="delete"||Me==="forwarddelete")&&La(ee)&&kc(ee.dom,ee.getBody())}),ee.on("keydown",we=>{we.keyCode===xn.BACKSPACE?ah(ee,!1)&&we.preventDefault():we.keyCode===xn.DELETE&&ah(ee,!0)&&we.preventDefault()})},Nl=ee=>({backspaceDelete:we=>{ah(ee,we)}}),lh=(ee,we)=>{const Me=Ea(ee);Me===null||Ue(ee,Me)||ee.undoManager.transact(()=>{p(we.styles)&&ee.dom.setStyles(Me,we.styles),p(we.attrs)&&yr(we.attrs,(vt,At)=>ee.dom.setAttrib(Me,At,vt))})},yp=ee=>{const we=Fe(Do(ee).split("")),Me=xe(we,(vt,At)=>{const In=vt.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,At)*In});return ce(Me,(vt,At)=>vt+At,0)},wd=ee=>{if(ee--,ee<0)return"";{const we=ee%26,Me=Math.floor(ee/26),vt=wd(Me),At=String.fromCharCode("A".charCodeAt(0)+we);return vt+At}},ga=ee=>/^[A-Z]+$/.test(ee),ch=ee=>/^[a-z]+$/.test(ee),Eg=ee=>/^[0-9]+$/.test(ee),wp=ee=>Eg(ee)?2:ga(ee)?0:ch(ee)?1:Os(ee)?3:4,Wf=ee=>{switch(wp(ee)){case 2:return O.some({listStyleType:O.none(),start:ee});case 0:return O.some({listStyleType:O.some("upper-alpha"),start:yp(ee).toString()});case 1:return O.some({listStyleType:O.some("lower-alpha"),start:yp(ee).toString()});case 3:return O.some({listStyleType:O.none(),start:""});case 4:return O.none()}},t1=ee=>{const we=parseInt(ee.start,10);return fe(ee.listStyleType,"upper-alpha")?wd(we):fe(ee.listStyleType,"lower-alpha")?wd(we).toLowerCase():ee.start},Cp=ee=>{const we=Ea(ee);!Zt(we)||Ue(ee,we)||ee.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:t1({start:ee.dom.getAttrib(we,"start","1"),listStyleType:O.from(ee.dom.getStyle(we,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Me=>{const vt=Me.getData();Wf(vt.start).each(At=>{ee.execCommand("mceListUpdate",!1,{attrs:{start:At.start==="1"?"":At.start},styles:{"list-style-type":At.listStyleType.getOr("")}})}),Me.close()}})},gl=(ee,we)=>()=>{const Me=Ea(ee);return x(Me)&&Me.nodeName===we},n1=ee=>{ee.addCommand("mceListProps",()=>{Cp(ee)})},hu=ee=>{ee.on("BeforeExecCommand",we=>{const Me=we.command.toLowerCase();Me==="indent"?Xa(ee):Me==="outdent"&&Wc(ee)}),ee.addCommand("InsertUnorderedList",(we,Me)=>{gp(ee,"UL",Me)}),ee.addCommand("InsertOrderedList",(we,Me)=>{gp(ee,"OL",Me)}),ee.addCommand("InsertDefinitionList",(we,Me)=>{gp(ee,"DL",Me)}),ee.addCommand("RemoveList",()=>{qs(ee)}),n1(ee),ee.addCommand("mceListUpdate",(we,Me)=>{p(Me)&&lh(ee,Me)}),ee.addQueryStateHandler("InsertUnorderedList",gl(ee,"UL")),ee.addQueryStateHandler("InsertOrderedList",gl(ee,"OL")),ee.addQueryStateHandler("InsertDefinitionList",gl(ee,"DL"))},Cd=ee=>{ee.on("keydown",we=>{we.keyCode!==xn.TAB||xn.metaKeyPressed(we)||ee.undoManager.transact(()=>{(we.shiftKey?Wc(ee):Xa(ee))&&we.preventDefault()})})},pf=ee=>{An(ee)&&Cd(ee),e1(ee)},Zc=(ee,we)=>Me=>pt(ee,At=>{Me.setActive(hl(At.parents,we)),Me.setEnabled(!Ue(ee,At.element))}),o1=ee=>{const we=Me=>()=>ee.execCommand(Me);ee.hasPlugin("advlist")||(ee.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:we("InsertOrderedList"),onSetup:Zc(ee,"OL")}),ee.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:we("InsertUnorderedList"),onSetup:Zc(ee,"UL")}))},r1=(ee,we)=>Me=>pt(ee,At=>Me.setEnabled(hl(At.parents,we)&&!Ue(ee,At.element))),kg=ee=>{const we={text:"List properties...",icon:"ordered-list",onAction:()=>ee.execCommand("mceListProps"),onSetup:r1(ee,"OL")};ee.ui.registry.addMenuItem("listprops",we),ee.ui.registry.addContextMenu("lists",{update:Me=>{const vt=Ea(ee,Me);return Zt(vt)?["listprops"]:[]}})};var pu=()=>{e.add("lists",ee=>(En(ee),ee.hasPlugin("rtc",!0)?n1(ee):(pf(ee),hu(ee)),o1(ee),kg(ee),Nl(ee)))};pu()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(dt,Le,Pt)=>{var Zt;return Pt(dt,Le.prototype)?!0:((Zt=dt.constructor)===null||Zt===void 0?void 0:Zt.name)===Le.name},s=dt=>{const Le=typeof dt;return dt===null?"null":Le==="object"&&Array.isArray(dt)?"array":Le==="object"&&o(dt,String,(Pt,Zt)=>Zt.isPrototypeOf(Pt))?"string":Le},l=dt=>Le=>s(Le)===dt,c=l("string"),d=l("object"),p=l("array"),v=dt=>dt==null,b=dt=>!v(dt);class S{constructor(Le,Pt){this.tag=Le,this.value=Pt}static some(Le){return new S(!0,Le)}static none(){return S.singletonNone}fold(Le,Pt){return this.tag?Pt(this.value):Le()}isSome(){return this.tag}isNone(){return!this.tag}map(Le){return this.tag?S.some(Le(this.value)):S.none()}bind(Le){return this.tag?Le(this.value):S.none()}exists(Le){return this.tag&&Le(this.value)}forall(Le){return!this.tag||Le(this.value)}filter(Le){return!this.tag||Le(this.value)?this:S.none()}getOr(Le){return this.tag?this.value:Le}or(Le){return this.tag?this:Le}getOrThunk(Le){return this.tag?this.value:Le()}orThunk(Le){return this.tag?this:Le()}getOrDie(Le){if(this.tag)return this.value;throw new Error(Le!=null?Le:"Called getOrDie on None")}static from(Le){return b(Le)?S.some(Le):S.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Le){this.tag&&Le(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}S.singletonNone=new S(!1);const x=Array.prototype.push,T=(dt,Le)=>{for(let Pt=0,Zt=dt.length;Pt<Zt;Pt++){const to=dt[Pt];Le(to,Pt)}},E=dt=>{const Le=[];for(let Pt=0,Zt=dt.length;Pt<Zt;++Pt){if(!p(dt[Pt]))throw new Error("Arr.flatten item "+Pt+" was not an array, input: "+dt);x.apply(Le,dt[Pt])}return Le},k=dt=>{let Le=dt;return{get:()=>Le,set:to=>{Le=to}}},F=Object.keys,N=Object.hasOwnProperty,$=(dt,Le)=>{const Pt=F(dt);for(let Zt=0,to=Pt.length;Zt<to;Zt++){const uo=Pt[Zt],Xn=dt[uo];Le(Xn,uo)}},D=(dt,Le)=>O(dt,Le)?S.from(dt[Le]):S.none(),O=(dt,Le)=>N.call(dt,Le),P=dt=>Le=>Le.options.get(dt),I=dt=>{const Le=dt.options.register;Le("audio_template_callback",{processor:"function"}),Le("video_template_callback",{processor:"function"}),Le("iframe_template_callback",{processor:"function"}),Le("media_live_embeds",{processor:"boolean",default:!0}),Le("media_filter_html",{processor:"boolean",default:!0}),Le("media_url_resolver",{processor:"function"}),Le("media_alt_source",{processor:"boolean",default:!0}),Le("media_poster",{processor:"boolean",default:!0}),Le("media_dimensions",{processor:"boolean",default:!0})},z=P("audio_template_callback"),K=P("video_template_callback"),j=P("iframe_template_callback"),oe=P("media_live_embeds"),xe=P("media_filter_html"),se=P("media_url_resolver"),Q=P("media_alt_source"),G=P("media_poster"),ce=P("media_dimensions");var he=tinymce.util.Tools.resolve("tinymce.util.Tools"),ve=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qe=tinymce.util.Tools.resolve("tinymce.html.DomParser");const U=ve.DOM,Fe=dt=>dt.replace(/px$/,""),De=dt=>{const Le=dt.attr("style"),Pt=Le?U.parseStyle(Le):{};return{type:"ephox-embed-iri",source:dt.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:D(Pt,"max-width").map(Fe).getOr(""),height:D(Pt,"max-height").map(Fe).getOr("")}},Se=(dt,Le)=>{let Pt={};const to=qe({validate:!1,forced_root_block:!1},Le).parse(dt);for(let uo=to;uo;uo=uo.walk())if(uo.type===1){const Xn=uo.name;if(uo.attr("data-ephox-embed-iri")){Pt=De(uo);break}else!Pt.source&&Xn==="param"&&(Pt.source=uo.attr("movie")),(Xn==="iframe"||Xn==="object"||Xn==="embed"||Xn==="video"||Xn==="audio")&&(Pt.type||(Pt.type=Xn),Pt=he.extend(uo.attributes.map,Pt)),Xn==="script"&&(Pt={type:"script",source:uo.attr("src")}),Xn==="source"&&(Pt.source?Pt.altsource||(Pt.altsource=uo.attr("src")):Pt.source=uo.attr("src")),Xn==="img"&&!Pt.poster&&(Pt.poster=uo.attr("src"))}return Pt.source=Pt.source||Pt.src||"",Pt.altsource=Pt.altsource||"",Pt.poster=Pt.poster||"",Pt},re=dt=>{var Le;const Pt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Zt=(Le=dt.toLowerCase().split(".").pop())!==null&&Le!==void 0?Le:"";return D(Pt,Zt).getOr("")};var le=tinymce.util.Tools.resolve("tinymce.html.Node"),fe=tinymce.util.Tools.resolve("tinymce.html.Serializer");const ue=(dt,Le={})=>qe({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Le},dt),Be=ve.DOM,Ce=dt=>/^[0-9.]+$/.test(dt)?dt+"px":dt,me=(dt,Le)=>{const Pt=Le.attr("style"),Zt=Pt?Be.parseStyle(Pt):{};b(dt.width)&&(Zt["max-width"]=Ce(dt.width)),b(dt.height)&&(Zt["max-height"]=Ce(dt.height)),Le.attr("style",Be.serializeStyle(Zt))},q=["source","altsource"],Ze=(dt,Le,Pt,Zt)=>{let to=0,uo=0;const Xn=ue(Zt);Xn.addNodeFilter("source",zo=>to=zo.length);const vr=Xn.parse(dt);for(let zo=vr;zo;zo=zo.walk())if(zo.type===1){const Fo=zo.name;if(zo.attr("data-ephox-embed-iri")){me(Le,zo);break}else{switch(Fo){case"video":case"object":case"embed":case"img":case"iframe":Le.height!==void 0&&Le.width!==void 0&&(zo.attr("width",Le.width),zo.attr("height",Le.height));break}if(Pt)switch(Fo){case"video":zo.attr("poster",Le.poster),zo.attr("src",null);for(let dn=to;dn<2;dn++)if(Le[q[dn]]){const lt=new le("source",1);lt.attr("src",Le[q[dn]]),lt.attr("type",Le[q[dn]+"mime"]||null),zo.append(lt)}break;case"iframe":zo.attr("src",Le.source);break;case"object":const Cs=zo.getAll("img").length>0;if(Le.poster&&!Cs){zo.attr("src",Le.poster);const dn=new le("img",1);dn.attr("src",Le.poster),dn.attr("width",Le.width),dn.attr("height",Le.height),zo.append(dn)}break;case"source":if(uo<2&&(zo.attr("src",Le[q[uo]]),zo.attr("type",Le[q[uo]+"mime"]||null),!Le[q[uo]])){zo.remove();continue}uo++;break;case"img":Le.poster||zo.remove();break}}}return fe({},Zt).serialize(vr)},We=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],tt=dt=>{const Le=dt.match(/^(https?:\/\/|www\.)(.+)$/i);return Le&&Le.length>1?Le[1]==="www."?"https://":Le[1]:"https://"},Qe=(dt,Le)=>{const Pt=tt(Le),Zt=dt.regex.exec(Le);let to=Pt+dt.url;if(b(Zt))for(let uo=0;uo<Zt.length;uo++)to=to.replace("$"+uo,()=>Zt[uo]?Zt[uo]:"");return to.replace(/\?$/,"")},it=dt=>{const Le=We.filter(Pt=>Pt.regex.test(dt));return Le.length>0?he.extend({},Le[0],{url:Qe(Le[0],dt)}):null},He=(dt,Le)=>{if(Le)return Le(dt);{const Pt=dt.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+dt.source+'" width="'+dt.width+'" height="'+dt.height+'"'+Pt+"></iframe>"}},Re=dt=>{let Le='<object data="'+dt.source+'" width="'+dt.width+'" height="'+dt.height+'" type="application/x-shockwave-flash">';return dt.poster&&(Le+='<img src="'+dt.poster+'" width="'+dt.width+'" height="'+dt.height+'" />'),Le+="</object>",Le},Ve=(dt,Le)=>Le?Le(dt):'<audio controls="controls" src="'+dt.source+'">'+(dt.altsource?`
<source src="`+dt.altsource+'"'+(dt.altsourcemime?' type="'+dt.altsourcemime+'"':"")+` />
`:"")+"</audio>",Oe=(dt,Le)=>Le?Le(dt):'<video width="'+dt.width+'" height="'+dt.height+'"'+(dt.poster?' poster="'+dt.poster+'"':"")+` controls="controls">
<source src="`+dt.source+'"'+(dt.sourcemime?' type="'+dt.sourcemime+'"':"")+` />
`+(dt.altsource?'<source src="'+dt.altsource+'"'+(dt.altsourcemime?' type="'+dt.altsourcemime+'"':"")+` />
`:"")+"</video>",be=dt=>'<script src="'+dt.source+'"><\/script>',ie=(dt,Le)=>{var Pt;const Zt=he.extend({},Le);if(!Zt.source&&(he.extend(Zt,Se((Pt=Zt.embed)!==null&&Pt!==void 0?Pt:"",dt.schema)),!Zt.source))return"";Zt.altsource||(Zt.altsource=""),Zt.poster||(Zt.poster=""),Zt.source=dt.convertURL(Zt.source,"source"),Zt.altsource=dt.convertURL(Zt.altsource,"source"),Zt.sourcemime=re(Zt.source),Zt.altsourcemime=re(Zt.altsource),Zt.poster=dt.convertURL(Zt.poster,"poster");const to=it(Zt.source);if(to&&(Zt.source=to.url,Zt.type=to.type,Zt.allowfullscreen=to.allowFullscreen,Zt.width=Zt.width||String(to.w),Zt.height=Zt.height||String(to.h)),Zt.embed)return Ze(Zt.embed,Zt,!0,dt.schema);{const uo=z(dt),Xn=K(dt),vr=j(dt);return Zt.width=Zt.width||"300",Zt.height=Zt.height||"150",he.each(Zt,(zo,Fo)=>{Zt[Fo]=dt.dom.encode(""+zo)}),Zt.type==="iframe"?He(Zt,vr):Zt.sourcemime==="application/x-shockwave-flash"?Re(Zt):Zt.sourcemime.indexOf("audio")!==-1?Ve(Zt,uo):Zt.type==="script"?be(Zt):Oe(Zt,Xn)}},Ee=dt=>dt.hasAttribute("data-mce-object")||dt.hasAttribute("data-ephox-embed-iri"),ot=dt=>{dt.on("click keyup touchend",()=>{const Le=dt.selection.getNode();Le&&dt.dom.hasClass(Le,"mce-preview-object")&&dt.dom.getAttrib(Le,"data-mce-selected")&&Le.setAttribute("data-mce-selected","2")}),dt.on("ObjectSelected",Le=>{Le.target.getAttribute("data-mce-object")==="script"&&Le.preventDefault()}),dt.on("ObjectResized",Le=>{const Pt=Le.target;if(Pt.getAttribute("data-mce-object")){let Zt=Pt.getAttribute("data-mce-html");Zt&&(Zt=unescape(Zt),Pt.setAttribute("data-mce-html",escape(Ze(Zt,{width:String(Le.width),height:String(Le.height)},!1,dt.schema))))}})},Xe={},zt=(dt,Le,Pt)=>new Promise((Zt,to)=>{const uo=Xn=>(Xn.html&&(Xe[dt.source]=Xn),Zt({url:dt.source,html:Xn.html?Xn.html:Le(dt)}));Xe[dt.source]?uo(Xe[dt.source]):Pt({url:dt.source},uo,to)}),qt=(dt,Le)=>Promise.resolve({html:Le(dt),url:dt.source}),bn=dt=>Le=>ie(dt,Le),Kn=(dt,Le)=>{const Pt=se(dt);return Pt?zt(Le,bn(dt),Pt):qt(Le,bn(dt))},zn=dt=>O(Xe,dt),fn=(dt,Le)=>D(Le,dt).bind(Pt=>D(Pt,"meta")),oo=(dt,Le,Pt)=>Zt=>{const to=()=>D(dt,Zt),uo=()=>D(Le,Zt),Xn=Fo=>D(Fo,"value").bind(Cs=>Cs.length>0?S.some(Cs):S.none()),vr=()=>to().bind(Fo=>d(Fo)?Xn(Fo).orThunk(uo):uo().orThunk(()=>S.from(Fo))),zo=()=>uo().orThunk(()=>to().bind(Fo=>d(Fo)?Xn(Fo):S.from(Fo)));return{[Zt]:(Zt===Pt?vr():zo()).getOr("")}},ft=(dt,Le)=>{const Pt={};return D(dt,"dimensions").each(Zt=>{T(["width","height"],to=>{D(Le,to).orThunk(()=>D(Zt,to)).each(uo=>Pt[to]=uo)})}),Pt},Tt=(dt,Le)=>{const Pt=Le&&Le!=="dimensions"?fn(Le,dt).getOr({}):{},Zt=oo(dt,Pt,Le);return{...Zt("source"),...Zt("altsource"),...Zt("poster"),...Zt("embed"),...ft(dt,Pt)}},sn=dt=>{const Le={...dt,source:{value:D(dt,"source").getOr("")},altsource:{value:D(dt,"altsource").getOr("")},poster:{value:D(dt,"poster").getOr("")}};return T(["width","height"],Pt=>{D(dt,Pt).each(Zt=>{const to=Le.dimensions||{};to[Pt]=Zt,Le.dimensions=to})}),Le},kn=dt=>Le=>{const Pt=Le&&Le.msg?"Media embed handler error: "+Le.msg:"Media embed handler threw unknown error.";dt.notificationManager.open({type:"error",text:Pt})},Pn=dt=>{const Le=dt.selection.getNode(),Pt=Ee(Le)?dt.serializer.serialize(Le,{selection:!0}):"";return{embed:Pt,...Se(Pt,dt.schema)}},$n=(dt,Le)=>Pt=>{if(c(Pt.url)&&Pt.url.trim().length>0){const Zt=Pt.html,uo={...Se(Zt,Le.schema),source:Pt.url,embed:Zt};dt.setData(sn(uo))}},_o=(dt,Le)=>{const Pt=dt.dom.select("*[data-mce-object]");for(let Zt=0;Zt<Le.length;Zt++)for(let to=Pt.length-1;to>=0;to--)Le[Zt]===Pt[to]&&Pt.splice(to,1);dt.selection.select(Pt[0])},mr=(dt,Le)=>{const Pt=dt.dom.select("*[data-mce-object]");dt.insertContent(Le),_o(dt,Pt),dt.nodeChanged()},Ot=(dt,Le,Pt)=>{var Zt;Le.embed=Ze((Zt=Le.embed)!==null&&Zt!==void 0?Zt:"",Le,!1,Pt.schema),Le.embed&&(dt.source===Le.source||zn(Le.source))?mr(Pt,Le.embed):Kn(Pt,Le).then(to=>{mr(Pt,to.html)}).catch(kn(Pt))},Ct=dt=>{const Le=Pn(dt),Pt=k(Le),Zt=sn(Le),to=(Un,_n)=>{const Jn=Tt(_n.getData(),"source");Un.source!==Jn.source&&($n(An,dt)({url:Jn.source,html:""}),Kn(dt,Jn).then($n(An,dt)).catch(kn(dt)))},uo=Un=>{var _n;const Jn=Tt(Un.getData()),go=Se((_n=Jn.embed)!==null&&_n!==void 0?_n:"",dt.schema);Un.setData(sn(go))},Xn=(Un,_n)=>{const Jn=Tt(Un.getData(),_n),go=ie(dt,Jn);Un.setData(sn({...Jn,embed:go}))},vr=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],zo=ce(dt)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Fo={title:"General",name:"general",items:E([vr,zo])},dn={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},lt=[];Q(dt)&&lt.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),G(dt)&&lt.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const ut={title:"Advanced",name:"advanced",items:lt},en=[Fo,dn];lt.length>0&&en.push(ut);const En={type:"tabpanel",tabs:en},An=dt.windowManager.open({title:"Insert/Edit Media",size:"normal",body:En,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Un=>{const _n=Tt(Un.getData());Ot(Pt.get(),_n,dt),Un.close()},onChange:(Un,_n)=>{switch(_n.name){case"source":to(Pt.get(),Un);break;case"embed":uo(Un);break;case"dimensions":case"altsource":case"poster":Xn(Un,_n.name);break}Pt.set(Tt(Un.getData()))},initialData:Zt})},wn=dt=>({showDialog:()=>{Ct(dt)}}),xn=dt=>{const Le=()=>{Ct(dt)};dt.addCommand("mceMedia",Le)},pn=(dt,Le,Pt)=>Le===""||dt.length>=Le.length&&dt.substr(Pt,Pt+Le.length)===Le,eo=(dt,Le)=>pn(dt,Le,0);var yr=tinymce.util.Tools.resolve("tinymce.Env");const Ts=dt=>{const Le=dt.name;return Le==="iframe"||Le==="video"||Le==="audio"},ci=(dt,Le,Pt,Zt=null)=>{const to=dt.attr(Pt);return b(to)?to:O(Le,Pt)?null:Zt},pr=(dt,Le,Pt)=>{const Zt=Le.name==="img"||dt.name==="video",to=Zt?"300":null,uo=dt.name==="audio"?"30":"150",Xn=Zt?uo:null;Le.attr({width:ci(dt,Pt,"width",to),height:ci(dt,Pt,"height",Xn)})},xi=(dt,Le,Pt,Zt)=>{const to=ue(dt.schema).parse(Zt,{context:Le});for(;to.firstChild;)Pt.append(to.firstChild)},wr=(dt,Le)=>{const Pt=Le.name,Zt=new le("img",1);return To(dt,Le,Zt),pr(Le,Zt,{}),Zt.attr({style:Le.attr("style"),src:yr.transparentSrc,"data-mce-object":Pt,class:"mce-object mce-object-"+Pt}),Zt},Jo=(dt,Le)=>{var Pt;const Zt=Le.name,to=new le("span",1);to.attr({contentEditable:"false",style:Le.attr("style"),"data-mce-object":Zt,class:"mce-preview-object mce-object-"+Zt}),To(dt,Le,to);const uo=dt.dom.parseStyle((Pt=Le.attr("style"))!==null&&Pt!==void 0?Pt:""),Xn=new le(Zt,1);if(pr(Le,Xn,uo),Xn.attr({src:Le.attr("src"),style:Le.attr("style"),class:Le.attr("class")}),Zt==="iframe")Xn.attr({allowfullscreen:Le.attr("allowfullscreen"),frameborder:"0"});else{T(["controls","crossorigin","currentTime","loop","muted","poster","preload"],Cs=>{Xn.attr(Cs,Le.attr(Cs))});const Fo=to.attr("data-mce-html");b(Fo)&&xi(dt,Zt,Xn,unescape(Fo))}const vr=new le("span",1);return vr.attr("class","mce-shim"),to.append(Xn),to.append(vr),to},To=(dt,Le,Pt)=>{var Zt;const to=(Zt=Le.attributes)!==null&&Zt!==void 0?Zt:[];let uo=to.length;for(;uo--;){const Fo=to[uo].name;let Cs=to[uo].value;Fo!=="width"&&Fo!=="height"&&Fo!=="style"&&!eo(Fo,"data-mce-")&&((Fo==="data"||Fo==="src")&&(Cs=dt.convertURL(Cs,Fo)),Pt.attr("data-mce-p-"+Fo,Cs))}const Xn=fe({inner:!0},dt.schema),vr=new le("div",1);T(Le.children(),Fo=>vr.append(Fo));const zo=Xn.serialize(vr);zo&&(Pt.attr("data-mce-html",escape(zo)),Pt.empty())},Es=dt=>{const Le=dt.attr("class");return c(Le)&&/\btiny-pageembed\b/.test(Le)},si=dt=>{let Le=dt;for(;Le=Le.parent;)if(Le.attr("data-ephox-embed-iri")||Es(Le))return!0;return!1},Vr=dt=>Le=>{let Pt=Le.length,Zt;for(;Pt--;)Zt=Le[Pt],Zt.parent&&(Zt.parent.attr("data-mce-object")||(Ts(Zt)&&oe(dt)?si(Zt)||Zt.replace(Jo(dt,Zt)):si(Zt)||Zt.replace(wr(dt,Zt))))},ui=(dt,Le,Pt)=>{const Zt=xe(dt);return ue(dt.schema,{validate:Zt}).parse(Pt,{context:Le})},Yr=dt=>{dt.on("PreInit",()=>{const{schema:Le,serializer:Pt,parser:Zt}=dt,to=Le.getBoolAttrs();T("webkitallowfullscreen mozallowfullscreen".split(" "),uo=>{to[uo]={}}),$({embed:["wmode"]},(uo,Xn)=>{const vr=Le.getElementRule(Xn);vr&&T(uo,zo=>{vr.attributes[zo]={},vr.attributesOrder.push(zo)})}),Zt.addNodeFilter("iframe,video,audio,object,embed,script",Vr(dt)),Pt.addAttributeFilter("data-mce-object",(uo,Xn)=>{var vr;let zo=uo.length;for(;zo--;){const Fo=uo[zo];if(!Fo.parent)continue;const Cs=Fo.attr(Xn),dn=new le(Cs,1);if(Cs!=="audio"&&Cs!=="script"){const En=Fo.attr("class");En&&En.indexOf("mce-preview-object")!==-1&&Fo.firstChild?dn.attr({width:Fo.firstChild.attr("width"),height:Fo.firstChild.attr("height")}):dn.attr({width:Fo.attr("width"),height:Fo.attr("height")})}dn.attr({style:Fo.attr("style")});const lt=(vr=Fo.attributes)!==null&&vr!==void 0?vr:[];let ut=lt.length;for(;ut--;){const En=lt[ut].name;En.indexOf("data-mce-p-")===0&&dn.attr(En.substr(11),lt[ut].value)}Cs==="script"&&dn.attr("type","text/javascript");const en=Fo.attr("data-mce-html");if(en){const En=ui(dt,Cs,unescape(en));T(En.children(),An=>dn.append(An))}Fo.replace(dn)}})}),dt.on("SetContent",()=>{const Le=dt.dom;T(Le.select("span.mce-preview-object"),Pt=>{Le.select("span.mce-shim",Pt).length===0&&Le.add(Pt,"span",{class:"mce-shim"})})})},ra=dt=>{dt.on("ResolveName",Le=>{let Pt;Le.target.nodeType===1&&(Pt=Le.target.getAttribute("data-mce-object"))&&(Le.name=Pt)})},ls=dt=>{const Le=()=>dt.execCommand("mceMedia");dt.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Le,onSetup:Pt=>{const Zt=dt.selection;return Pt.setActive(Ee(Zt.getNode())),Zt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Pt.setActive).unbind}}),dt.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Le})};var Ti=()=>{e.add("media",dt=>(I(dt),xn(dt),ls(dt),ra(dt),Yr(dt),ot(dt),wn(dt)))};Ti()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=$=>D=>typeof D===$,s=o("boolean"),l=o("number"),c=$=>D=>D.options.get($),d=$=>{const D=$.options.register;D("nonbreaking_force_tab",{processor:O=>s(O)?{value:O?3:0,valid:!0}:l(O)?{value:O,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),D("nonbreaking_wrap",{processor:"boolean",default:!0})},p=c("nonbreaking_force_tab"),v=c("nonbreaking_wrap"),b=($,D)=>{let O="";for(let P=0;P<D;P++)O+=$;return O},S=$=>$.plugins.visualchars?$.plugins.visualchars.isEnabled():!1,x=($,D)=>{const O=()=>S($)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",P=()=>`<span class="${O()}" contenteditable="false">${b("&nbsp;",D)}</span>`,z=v($)||$.plugins.visualchars?P():b("&nbsp;",D);$.undoManager.transact(()=>$.insertContent(z))},T=$=>{$.addCommand("mceNonBreaking",()=>{x($,1)})};var E=tinymce.util.Tools.resolve("tinymce.util.VK");const k=$=>{const D=p($);D>0&&$.on("keydown",O=>{if(O.keyCode===E.TAB&&!O.isDefaultPrevented()){if(O.shiftKey)return;O.preventDefault(),O.stopImmediatePropagation(),x($,D)}})},F=$=>{const D=()=>$.execCommand("mceNonBreaking");$.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:D}),$.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:D})};var N=()=>{e.add("nonbreaking",$=>{d($),T($),F($),k($)})};N()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env");const s=k=>F=>F.options.get(k),l=k=>{const F=k.options.register;F("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),F("pagebreak_split_block",{processor:"boolean",default:!1})},c=s("pagebreak_separator"),d=s("pagebreak_split_block"),p="mce-pagebreak",v=k=>{const F=`<img src="${o.transparentSrc}" class="${p}" data-mce-resize="false" data-mce-placeholder />`;return k?`<p>${F}</p>`:F},b=k=>{const F=c(k),N=()=>d(k),$=new RegExp(F.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,D=>"\\"+D),"gi");k.on("BeforeSetContent",D=>{D.content=D.content.replace($,v(N()))}),k.on("PreInit",()=>{k.serializer.addNodeFilter("img",D=>{let O=D.length,P,I;for(;O--;)if(P=D[O],I=P.attr("class"),I&&I.indexOf(p)!==-1){const z=P.parent;if(z&&k.schema.getBlockElements()[z.name]&&N()){z.type=3,z.value=F,z.raw=!0,P.remove();continue}P.type=3,P.value=F,P.raw=!0}})})},S=k=>{k.addCommand("mcePageBreak",()=>{k.insertContent(v(d(k)))})},x=k=>{k.on("ResolveName",F=>{F.target.nodeName==="IMG"&&k.dom.hasClass(F.target,p)&&(F.name="pagebreak")})},T=k=>{const F=()=>k.execCommand("mcePageBreak");k.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:F}),k.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:F})};var E=()=>{e.add("pagebreak",k=>{l(k),S(k),T(k),b(k),x(k)})};E()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.Env"),s=tinymce.util.Tools.resolve("tinymce.util.Tools");const l=k=>F=>F.options.get(k),c=l("content_style"),d=l("content_css_cors"),p=l("body_class"),v=l("body_id"),b=k=>{var F;let N="";const $=k.dom.encode,D=(F=c(k))!==null&&F!==void 0?F:"";N+='<base href="'+$(k.documentBaseURI.getURI())+'">';const O=d(k)?' crossorigin="anonymous"':"";s.each(k.contentCSS,se=>{N+='<link type="text/css" rel="stylesheet" href="'+$(k.documentBaseURI.toAbsolute(se))+'"'+O+">"}),D&&(N+='<style type="text/css">'+D+"</style>");const P=v(k),I=p(k),z=o.os.isMacOS()||o.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",K='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+z+")) {e.preventDefault();}}}, false);<\/script> ",j=k.getBody().dir,oe=j?' dir="'+$(j)+'"':"";return"<!DOCTYPE html><html><head>"+N+'</head><body id="'+$(P)+'" class="mce-content-body '+$(I)+'"'+oe+">"+k.getContent()+K+"</body></html>"},S=k=>{const F=b(k);k.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:F}}).focus("close")},x=k=>{k.addCommand("mcePreview",()=>{S(k)})},T=k=>{const F=()=>k.execCommand("mcePreview");k.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:F}),k.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:F})};var E=()=>{e.add("preview",k=>{x(k),T(k)})};E()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(q,Ze,We)=>{var tt;return We(q,Ze.prototype)?!0:((tt=q.constructor)===null||tt===void 0?void 0:tt.name)===Ze.name},s=q=>{const Ze=typeof q;return q===null?"null":Ze==="object"&&Array.isArray(q)?"array":Ze==="object"&&o(q,String,(We,tt)=>tt.isPrototypeOf(We))?"string":Ze},l=q=>Ze=>s(Ze)===q,c=q=>Ze=>typeof Ze===q,d=l("string"),p=c("boolean"),v=q=>q==null,b=q=>!v(q),S=c("function"),x=q=>Ze=>Ze.options.get(q),T=q=>{const Ze=q.options.register,We=He=>Re=>{const Ve=p(Re)||d(Re);return Ve?p(Re)?{value:Re?He:"",valid:Ve}:{value:Re.trim(),valid:Ve}:{valid:!1,message:"Must be a boolean or string."}},tt="bold italic | quicklink h2 h3 blockquote";Ze("quickbars_selection_toolbar",{processor:We(tt),default:tt});const Qe="quickimage quicktable";Ze("quickbars_insert_toolbar",{processor:We(Qe),default:Qe});const it="alignleft aligncenter alignright";Ze("quickbars_image_toolbar",{processor:We(it),default:it})},E=x("quickbars_selection_toolbar"),k=x("quickbars_insert_toolbar"),F=x("quickbars_image_toolbar");let N=0;const $=q=>{const We=new Date().getTime(),tt=Math.floor(Math.random()*1e9);return N++,q+"_"+tt+N+String(We)},D=(q,Ze,We)=>{q.execCommand("mceInsertTable",!1,{rows:We,columns:Ze})},O=(q,Ze,We)=>{const tt=q.editorUpload.blobCache,Qe=tt.create($("mceu"),We,Ze);tt.add(Qe),q.insertContent(q.dom.createHTML("img",{src:Qe.blobUri()}))},P=q=>new Promise(Ze=>{const We=new FileReader;We.onloadend=()=>{Ze(We.result.split(",")[1])},We.readAsDataURL(q)});var I=tinymce.util.Tools.resolve("tinymce.Env"),z=tinymce.util.Tools.resolve("tinymce.util.Delay");const K=q=>new Promise(Ze=>{const We=document.createElement("input");We.type="file",We.accept="image/*",We.style.position="fixed",We.style.left="0",We.style.top="0",We.style.opacity="0.001",document.body.appendChild(We);const tt=it=>{Ze(Array.prototype.slice.call(it.target.files))};We.addEventListener("change",tt);const Qe=it=>{const He=()=>{var Re;Ze([]),(Re=We.parentNode)===null||Re===void 0||Re.removeChild(We)};I.os.isAndroid()&&it.type!=="remove"?z.setEditorTimeout(q,He,0):He(),q.off("focusin remove",Qe)};q.on("focusin remove",Qe),We.click()}),j=q=>{q.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{K(q).then(Ze=>{if(Ze.length>0){const We=Ze[0];P(We).then(tt=>{O(q,tt,We)})}})}}),q.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{D(q,2,2)}})},xe=(q=>()=>q)(!1);class se{constructor(Ze,We){this.tag=Ze,this.value=We}static some(Ze){return new se(!0,Ze)}static none(){return se.singletonNone}fold(Ze,We){return this.tag?We(this.value):Ze()}isSome(){return this.tag}isNone(){return!this.tag}map(Ze){return this.tag?se.some(Ze(this.value)):se.none()}bind(Ze){return this.tag?Ze(this.value):se.none()}exists(Ze){return this.tag&&Ze(this.value)}forall(Ze){return!this.tag||Ze(this.value)}filter(Ze){return!this.tag||Ze(this.value)?this:se.none()}getOr(Ze){return this.tag?this.value:Ze}or(Ze){return this.tag?this:Ze}getOrThunk(Ze){return this.tag?this.value:Ze()}orThunk(Ze){return this.tag?this:Ze()}getOrDie(Ze){if(this.tag)return this.value;throw new Error(Ze!=null?Ze:"Called getOrDie on None")}static from(Ze){return b(Ze)?se.some(Ze):se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ze){this.tag&&Ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}se.singletonNone=new se(!1);var Q=(q,Ze,We,tt,Qe)=>q(We,tt)?se.some(We):S(Qe)&&Qe(We)?se.none():Ze(We,tt,Qe);const G=1,ce=(q,Ze)=>{const tt=(Ze||document).createElement("div");if(tt.innerHTML=q,!tt.hasChildNodes()||tt.childNodes.length>1){const Qe="HTML does not have a single root node";throw console.error(Qe,q),new Error(Qe)}return qe(tt.childNodes[0])},he=(q,Ze)=>{const tt=(Ze||document).createElement(q);return qe(tt)},ve=(q,Ze)=>{const tt=(Ze||document).createTextNode(q);return qe(tt)},qe=q=>{if(q==null)throw new Error("Node cannot be null or undefined");return{dom:q}},Fe={fromHtml:ce,fromTag:he,fromText:ve,fromDom:qe,fromPoint:(q,Ze,We)=>se.from(q.dom.elementFromPoint(Ze,We)).map(qe)},De=(q,Ze)=>{const We=q.dom;if(We.nodeType!==G)return!1;{const tt=We;if(tt.matches!==void 0)return tt.matches(Ze);if(tt.msMatchesSelector!==void 0)return tt.msMatchesSelector(Ze);if(tt.webkitMatchesSelector!==void 0)return tt.webkitMatchesSelector(Ze);if(tt.mozMatchesSelector!==void 0)return tt.mozMatchesSelector(Ze);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const Se=q=>q.dom.nodeName.toLowerCase(),re=(q,Ze,We)=>{let tt=q.dom;const Qe=S(We)?We:xe;for(;tt.parentNode;){tt=tt.parentNode;const it=Fe.fromDom(tt);if(Ze(it))return se.some(it);if(Qe(it))break}return se.none()},le=(q,Ze,We)=>Q((Qe,it)=>it(Qe),re,q,Ze,We),fe=(q,Ze,We)=>re(q,tt=>De(tt,Ze),We),ue=(q,Ze,We)=>Q((Qe,it)=>De(Qe,it),fe,q,Ze,We),Be=q=>{const Ze=k(q);Ze.length>0&&q.ui.registry.addContextToolbar("quickblock",{predicate:We=>{const tt=Fe.fromDom(We),Qe=q.schema.getTextBlockElements(),it=He=>He.dom===q.getBody();return ue(tt,"table",it).fold(()=>le(tt,He=>Se(He)in Qe&&q.dom.isEmpty(He.dom),it).isSome(),xe)},items:Ze,position:"line",scope:"editor"})},Ce=q=>{const Ze=it=>q.dom.getContentEditableParent(it)!=="false",We=it=>it.nodeName==="IMG"||it.nodeName==="FIGURE"&&/image/i.test(it.className),tt=F(q);tt.length>0&&q.ui.registry.addContextToolbar("imageselection",{predicate:We,items:tt,position:"node"});const Qe=E(q);Qe.length>0&&q.ui.registry.addContextToolbar("textselection",{predicate:it=>!We(it)&&!q.selection.isCollapsed()&&Ze(it),items:Qe,position:"selection",scope:"editor"})};var me=()=>{e.add("quickbars",q=>{T(q),j(q),Be(q),Ce(q)})};me()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(D=>O=>typeof O===D)("function");var l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=tinymce.util.Tools.resolve("tinymce.util.Tools");const d=D=>O=>O.options.get(D),p=D=>{const O=D.options.register;O("save_enablewhendirty",{processor:"boolean",default:!0}),O("save_onsavecallback",{processor:"function"}),O("save_oncancelcallback",{processor:"function"})},v=d("save_enablewhendirty"),b=d("save_onsavecallback"),S=d("save_oncancelcallback"),x=(D,O)=>{D.notificationManager.open({text:O,type:"error"})},T=D=>{const O=l.DOM.getParent(D.id,"form");if(v(D)&&!D.isDirty())return;D.save();const P=b(D);if(s(P)){P.call(D,D),D.nodeChanged();return}O?(D.setDirty(!1),(!O.onsubmit||O.onsubmit())&&(typeof O.submit=="function"?O.submit():x(D,"Error: Form submit field collision.")),D.nodeChanged()):x(D,"Error: No form element found.")},E=D=>{const O=c.trim(D.startContent),P=S(D);if(s(P)){P.call(D,D);return}D.resetContent(O)},k=D=>{D.addCommand("mceSave",()=>{T(D)}),D.addCommand("mceCancel",()=>{E(D)})},F=D=>O=>{const P=()=>{O.setEnabled(!v(D)||D.isDirty())};return P(),D.on("NodeChange dirty",P),()=>D.off("NodeChange dirty",P)},N=D=>{D.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>D.execCommand("mceSave"),onSetup:F(D)}),D.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>D.execCommand("mceCancel"),onSetup:F(D)}),D.addShortcut("Meta+S","","mceSave")};var $=()=>{e.add("save",D=>{p(D),N(D),k(D)})};$()})();(function(){const e=lt=>{let ut=lt;return{get:()=>ut,set:An=>{ut=An}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(lt,ut,en)=>{var En;return en(lt,ut.prototype)?!0:((En=lt.constructor)===null||En===void 0?void 0:En.name)===ut.name},l=lt=>{const ut=typeof lt;return lt===null?"null":ut==="object"&&Array.isArray(lt)?"array":ut==="object"&&s(lt,String,(en,En)=>En.isPrototypeOf(en))?"string":ut},c=lt=>ut=>l(ut)===lt,d=lt=>ut=>typeof ut===lt,p=c("string"),v=c("array"),b=d("boolean"),S=lt=>lt==null,x=lt=>!S(lt),T=d("number"),E=()=>{},k=lt=>()=>lt,F=k(!0),$=k("[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]");class D{constructor(ut,en){this.tag=ut,this.value=en}static some(ut){return new D(!0,ut)}static none(){return D.singletonNone}fold(ut,en){return this.tag?en(this.value):ut()}isSome(){return this.tag}isNone(){return!this.tag}map(ut){return this.tag?D.some(ut(this.value)):D.none()}bind(ut){return this.tag?ut(this.value):D.none()}exists(ut){return this.tag&&ut(this.value)}forall(ut){return!this.tag||ut(this.value)}filter(ut){return!this.tag||ut(this.value)?this:D.none()}getOr(ut){return this.tag?this.value:ut}or(ut){return this.tag?this:ut}getOrThunk(ut){return this.tag?this.value:ut()}orThunk(ut){return this.tag?this:ut()}getOrDie(ut){if(this.tag)return this.value;throw new Error(ut!=null?ut:"Called getOrDie on None")}static from(ut){return x(ut)?D.some(ut):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ut){this.tag&&ut(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const O=$;var P=tinymce.util.Tools.resolve("tinymce.Env"),I=tinymce.util.Tools.resolve("tinymce.util.Tools");const z=Array.prototype.slice,K=Array.prototype.push,j=(lt,ut)=>{const en=lt.length,En=new Array(en);for(let An=0;An<en;An++){const Un=lt[An];En[An]=ut(Un,An)}return En},oe=(lt,ut)=>{for(let en=0,En=lt.length;en<En;en++){const An=lt[en];ut(An,en)}},xe=(lt,ut)=>{for(let en=lt.length-1;en>=0;en--){const En=lt[en];ut(En,en)}},se=(lt,ut)=>{if(lt.length===0)return[];{let en=ut(lt[0]);const En=[];let An=[];for(let Un=0,_n=lt.length;Un<_n;Un++){const Jn=lt[Un],go=ut(Jn);go!==en&&(En.push(An),An=[]),en=go,An.push(Jn)}return An.length!==0&&En.push(An),En}},Q=(lt,ut,en)=>(oe(lt,(En,An)=>{en=ut(en,En,An)}),en),G=lt=>{const ut=[];for(let en=0,En=lt.length;en<En;++en){if(!v(lt[en]))throw new Error("Arr.flatten item "+en+" was not an array, input: "+lt);K.apply(ut,lt[en])}return ut},ce=(lt,ut)=>G(j(lt,ut)),he=(lt,ut)=>{const en=z.call(lt,0);return en.sort(ut),en},ve=Object.hasOwnProperty,qe=(lt,ut)=>ve.call(lt,ut);typeof window<"u"||Function("return this;")();const U=9,Fe=11,De=1,Se=3,re=lt=>lt.dom.nodeType,fe=(lt=>ut=>re(ut)===lt)(Se),ue=(lt,ut,en)=>{if(p(en)||b(en)||T(en))lt.setAttribute(ut,en+"");else throw console.error("Invalid call to Attribute.set. Key ",ut,":: Value ",en,":: Element ",lt),new Error("Attribute value was not simple")},Be=(lt,ut,en)=>{ue(lt.dom,ut,en)},Ce=(lt,ut)=>{const En=(ut||document).createElement("div");if(En.innerHTML=lt,!En.hasChildNodes()||En.childNodes.length>1){const An="HTML does not have a single root node";throw console.error(An,lt),new Error(An)}return Ze(En.childNodes[0])},me=(lt,ut)=>{const En=(ut||document).createElement(lt);return Ze(En)},q=(lt,ut)=>{const En=(ut||document).createTextNode(lt);return Ze(En)},Ze=lt=>{if(lt==null)throw new Error("Node cannot be null or undefined");return{dom:lt}},tt={fromHtml:Ce,fromTag:me,fromText:q,fromDom:Ze,fromPoint:(lt,ut,en)=>D.from(lt.dom.elementFromPoint(ut,en)).map(Ze)},Qe=lt=>lt.nodeType!==De&&lt.nodeType!==U&&lt.nodeType!==Fe||lt.childElementCount===0,it=(lt,ut)=>{const en=ut===void 0?document:ut.dom;return Qe(en)?[]:j(en.querySelectorAll(lt),tt.fromDom)},He=lt=>D.from(lt.dom.parentNode).map(tt.fromDom),Re=lt=>j(lt.dom.childNodes,tt.fromDom),Ve=(lt,ut)=>({element:lt,offset:ut}),Oe=(lt,ut)=>{const en=Re(lt);return en.length>0&&ut<en.length?Ve(en[ut],0):Ve(lt,ut)},be=(lt,ut)=>{He(lt).each(En=>{En.dom.insertBefore(ut.dom,lt.dom)})},ie=(lt,ut)=>{lt.dom.appendChild(ut.dom)},Ee=(lt,ut)=>{be(lt,ut),ie(ut,lt)},Xe=((lt,ut)=>{const en=Un=>{if(!lt(Un))throw new Error("Can only get "+ut+" value of a "+ut+" node");return En(Un).getOr("")},En=Un=>lt(Un)?D.from(Un.dom.nodeValue):D.none();return{get:en,getOption:En,set:(Un,_n)=>{if(!lt(Un))throw new Error("Can only set raw "+ut+" value of a "+ut+" node");Un.dom.nodeValue=_n}}})(fe,"text"),zt=lt=>Xe.get(lt),qt=(lt,ut,en)=>(lt.compareDocumentPosition(ut)&en)!==0,bn=(lt,ut)=>qt(lt,ut,Node.DOCUMENT_POSITION_PRECEDING),Kn=(lt,ut)=>it(ut,lt);var zn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const fn=(lt,ut)=>lt.isBlock(ut)||qe(lt.schema.getVoidElements(),ut.nodeName),oo=(lt,ut)=>lt.getContentEditable(ut)==="false",ft=(lt,ut)=>lt.getContentEditable(ut)==="true"&&ut.parentNode&&lt.getContentEditableParent(ut.parentNode)==="false",Tt=(lt,ut)=>!lt.isBlock(ut)&&qe(lt.schema.getWhitespaceElements(),ut.nodeName),sn=(lt,ut)=>fn(lt,ut)||oo(lt,ut)||Tt(lt,ut)||ft(lt,ut),kn=lt=>lt.nodeType===3,Pn=()=>({sOffset:0,fOffset:0,elements:[]}),$n=(lt,ut)=>Oe(tt.fromDom(lt),ut),_o=(lt,ut,en,En,An,Un=!0)=>{let _n=Un?ut(!1):en;for(;_n;){const Jn=oo(lt,_n);if(Jn||Tt(lt,_n)){if(Jn?En.cef(_n):En.boundary(_n))break;_n=ut(!0);continue}else if(fn(lt,_n)){if(En.boundary(_n))break}else kn(_n)&&En.text(_n);if(_n===An)break;_n=ut(!1)}},mr=(lt,ut,en,En,An)=>{var Un;if(sn(lt,en))return;const _n=(Un=lt.getParent(En,lt.isBlock))!==null&&Un!==void 0?Un:lt.getRoot(),Jn=new zn(en,_n),go=An?Jn.next.bind(Jn):Jn.prev.bind(Jn);_o(lt,go,en,{boundary:F,cef:F,text:$o=>{An?ut.fOffset+=$o.length:ut.sOffset+=$o.length,ut.elements.push(tt.fromDom($o))}})},Ot=(lt,ut,en,En,An,Un=!0)=>{const _n=new zn(en,ut),Jn=[];let go=Pn();mr(lt,go,en,ut,!1);const $o=()=>(go.elements.length>0&&(Jn.push(go),go=Pn()),!1);return _o(lt,_n.next.bind(_n),en,{boundary:$o,cef:Hr=>($o(),An&&Jn.push(...An.cef(Hr)),!1),text:Hr=>{go.elements.push(tt.fromDom(Hr)),An&&An.text(Hr,go)}},En,Un),En&&mr(lt,go,En,ut,!0),$o(),Jn},Ct=(lt,ut)=>{const en=$n(ut.startContainer,ut.startOffset),En=en.element.dom,An=$n(ut.endContainer,ut.endOffset),Un=An.element.dom;return Ot(lt,ut.commonAncestorContainer,En,Un,{text:(_n,Jn)=>{_n===Un?Jn.fOffset+=_n.length-An.offset:_n===En&&(Jn.sOffset+=en.offset)},cef:_n=>{const Jn=ce(Kn(tt.fromDom(_n),"*[contenteditable=true]"),go=>{const $o=go.dom;return Ot(lt,$o,$o)});return he(Jn,(go,$o)=>bn(go.elements[0].dom,$o.elements[0].dom)?1:-1)}},!1)},wn=(lt,ut)=>ut.collapsed?[]:Ct(lt,ut),xn=(lt,ut)=>{const en=lt.createRng();return en.selectNode(ut),wn(lt,en)},pn=(lt,ut)=>ce(ut,en=>xn(lt,en)),eo=(lt,ut,en=0,En=lt.length)=>{const An=ut.regex;An.lastIndex=en;const Un=[];let _n;for(;_n=An.exec(lt);){const Jn=_n[ut.matchIndex],go=_n.index+_n[0].indexOf(Jn),$o=go+Jn.length;if($o>En)break;Un.push({start:go,finish:$o}),An.lastIndex=$o}return Un},yr=(lt,ut)=>{const en=Q(lt,(En,An)=>{const Un=zt(An),_n=En.last,Jn=_n+Un.length,go=ce(ut,($o,Hr)=>$o.start<Jn&&$o.finish>_n?[{element:An,start:Math.max(_n,$o.start)-_n,finish:Math.min(Jn,$o.finish)-_n,matchId:Hr}]:[]);return{results:En.results.concat(go),last:Jn}},{results:[],last:0}).results;return se(en,En=>En.matchId)},Ts=(lt,ut)=>ce(ut,en=>{const En=en.elements,An=j(En,zt).join(""),Un=eo(An,lt,en.sOffset,An.length-en.fOffset);return yr(En,Un)}),ci=(lt,ut)=>{xe(lt,(en,En)=>{xe(en,An=>{const Un=tt.fromDom(ut.cloneNode(!1));Be(Un,"data-mce-index",En);const _n=An.element.dom;if(_n.length===An.finish&&An.start===0)Ee(An.element,Un);else{_n.length!==An.finish&&_n.splitText(An.finish);const Jn=_n.splitText(An.start);Ee(tt.fromDom(Jn),Un)}})})},pr=(lt,ut,en,En)=>{const An=xn(lt,en),Un=Ts(ut,An);return ci(Un,En),Un.length},xi=(lt,ut,en,En)=>{const An=en.getBookmark(),Un=lt.select("td[data-mce-selected],th[data-mce-selected]"),_n=Un.length>0?pn(lt,Un):wn(lt,en.getRng()),Jn=Ts(ut,_n);return ci(Jn,En),en.moveToBookmark(An),Jn.length},wr=lt=>lt.getAttribute("data-mce-index"),Jo=(lt,ut,en,En)=>{const An=lt.dom.create("span",{"data-mce-bogus":1});An.className="mce-match-marker";const Un=lt.getBody();return Le(lt,ut,!1),En?xi(lt.dom,en,lt.selection,An):pr(lt.dom,en,Un,An)},To=lt=>{var ut;const en=lt.parentNode;lt.firstChild&&en.insertBefore(lt.firstChild,lt),(ut=lt.parentNode)===null||ut===void 0||ut.removeChild(lt)},Es=(lt,ut)=>{const en=[],En=I.toArray(lt.getBody().getElementsByTagName("span"));if(En.length)for(let An=0;An<En.length;An++){const Un=wr(En[An]);Un===null||!Un.length||Un===ut.toString()&&en.push(En[An])}return en},si=(lt,ut,en)=>{const En=ut.get();let An=En.index;const Un=lt.dom;en?An+1===En.count?An=0:An++:An-1===-1?An=En.count-1:An--,Un.removeClass(Es(lt,En.index),"mce-match-marker-selected");const _n=Es(lt,An);return _n.length?(Un.addClass(Es(lt,An),"mce-match-marker-selected"),lt.selection.scrollIntoView(_n[0]),An):-1},Vr=(lt,ut)=>{const en=ut.parentNode;lt.remove(ut),en&&lt.isEmpty(en)&&lt.remove(en)},ui=(lt,ut)=>{const en=lt.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),En="("+en+")";return ut?`(?:^|\\s|${O()})`+En+`(?=$|\\s|${O()})`:En},Yr=(lt,ut,en,En,An,Un)=>{const _n=lt.selection,Jn=ui(en,An),go=_n.isForward(),$o={regex:new RegExp(Jn,En?"g":"gi"),matchIndex:1},Hr=Jo(lt,ut,$o,Un);if(P.browser.isSafari()&&_n.setRng(_n.getRng(),go),Hr){const ks=si(lt,ut,!0);ut.set({index:ks,count:Hr,text:en,matchCase:En,wholeWord:An,inSelection:Un})}return Hr},ra=(lt,ut)=>{const en=si(lt,ut,!0);ut.set({...ut.get(),index:en})},ls=(lt,ut)=>{const en=si(lt,ut,!1);ut.set({...ut.get(),index:en})},Ti=lt=>{const ut=wr(lt);return ut!==null&&ut.length>0},dt=(lt,ut,en,En,An)=>{const Un=ut.get(),_n=Un.index;let Jn,go=_n;En=En!==!1;const $o=lt.getBody(),Hr=I.grep(I.toArray($o.getElementsByTagName("span")),Ti);for(let ks=0;ks<Hr.length;ks++){const Qo=wr(Hr[ks]);let fa=Jn=parseInt(Qo,10);if(An||fa===Un.index){for(en.length?(Hr[ks].innerText=en,To(Hr[ks])):Vr(lt.dom,Hr[ks]);Hr[++ks];)if(fa=parseInt(wr(Hr[ks]),10),fa===Jn)Vr(lt.dom,Hr[ks]);else{ks--;break}En&&go--}else Jn>_n&&Hr[ks].setAttribute("data-mce-index",String(Jn-1))}return ut.set({...Un,count:An?0:Un.count-1,index:go}),En?ra(lt,ut):ls(lt,ut),!An&&ut.get().count>0},Le=(lt,ut,en)=>{let En,An;const Un=ut.get(),_n=I.toArray(lt.getBody().getElementsByTagName("span"));for(let Jn=0;Jn<_n.length;Jn++){const go=wr(_n[Jn]);go!==null&&go.length&&(go===Un.index.toString()&&(En||(En=_n[Jn].firstChild),An=_n[Jn].firstChild),To(_n[Jn]))}if(ut.set({...Un,index:-1,count:0,text:""}),En&&An){const Jn=lt.dom.createRng();return Jn.setStart(En,0),Jn.setEnd(An,An.data.length),en!==!1&&lt.selection.setRng(Jn),Jn}else return},Pt=(lt,ut)=>ut.get().count>1,Zt=(lt,ut)=>ut.get().count>1,to=(lt,ut)=>({done:Jn=>Le(lt,ut,Jn),find:(Jn,go,$o,Hr=!1)=>Yr(lt,ut,Jn,go,$o,Hr),next:()=>ra(lt,ut),prev:()=>ls(lt,ut),replace:(Jn,go,$o)=>dt(lt,ut,Jn,go,$o)}),uo=lt=>{const ut=e(D.none()),en=()=>ut.get().each(lt);return{clear:()=>{en(),ut.set(D.none())},isSet:()=>ut.get().isSome(),get:()=>ut.get(),set:Jn=>{en(),ut.set(D.some(Jn))}}},Xn=()=>{const lt=uo(E);return{...lt,on:en=>lt.get().each(en)}},vr=(lt,ut)=>{const en=Xn();lt.undoManager.add();const En=I.trim(lt.selection.getContent({format:"text"})),An=sr=>{sr.setEnabled("next",Pt(lt,ut)),sr.setEnabled("prev",Zt(lt,ut))},Un=sr=>{const Tr=sr.getData(),Or=ut.get();ut.set({...Or,matchCase:Tr.matchcase,wholeWord:Tr.wholewords,inSelection:Tr.inselection})},_n=(sr,Tr)=>{oe(["replace","replaceall","prev","next"],Ls=>sr.setEnabled(Ls,!Tr))},Jn=sr=>{lt.windowManager.alert("Could not find the specified string.",()=>{sr.focus("findtext")})},go=(sr,Tr)=>{P.browser.isSafari()&&P.deviceType.isTouch()&&(Tr==="find"||Tr==="replace"||Tr==="replaceall")&&sr.focus(Tr)},$o=sr=>{Le(lt,ut,!1),_n(sr,!0),An(sr)},Hr=sr=>{const Tr=sr.getData(),Or=ut.get();if(!Tr.findtext.length){$o(sr);return}if(Or.text===Tr.findtext&&Or.matchCase===Tr.matchcase&&Or.wholeWord===Tr.wholewords)ra(lt,ut);else{const Js=Yr(lt,ut,Tr.findtext,Tr.matchcase,Tr.wholewords,Tr.inselection);Js<=0&&Jn(sr),_n(sr,Js===0)}An(sr)},ks=ut.get(),Qo={findtext:En,replacetext:"",wholewords:ks.wholeWord,matchcase:ks.matchCase,inselection:ks.inSelection},fa={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Qo,onChange:(sr,Tr)=>{Tr.name==="findtext"&&ut.get().count>0&&$o(sr)},onAction:(sr,Tr)=>{const Or=sr.getData();switch(Tr.name){case"find":Hr(sr);break;case"replace":dt(lt,ut,Or.replacetext)?An(sr):$o(sr);break;case"replaceall":dt(lt,ut,Or.replacetext,!0,!0),$o(sr);break;case"prev":ls(lt,ut),An(sr);break;case"next":ra(lt,ut),An(sr);break;case"matchcase":case"wholewords":case"inselection":Un(sr),$o(sr);break}go(sr,Tr.name)},onSubmit:sr=>{Hr(sr),go(sr,"find")},onClose:()=>{lt.focus(),Le(lt,ut),lt.undoManager.add()}};en.set(lt.windowManager.open(fa,{inline:"toolbar"}))},zo=(lt,ut)=>{lt.addCommand("SearchReplace",()=>{vr(lt,ut)})},Fo=(lt,ut)=>()=>{vr(lt,ut)},Cs=(lt,ut)=>{lt.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Fo(lt,ut),icon:"search"}),lt.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Fo(lt,ut),icon:"search"}),lt.shortcuts.add("Meta+F","",Fo(lt,ut))};var dn=()=>{o.add("searchreplace",lt=>{const ut=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return zo(lt,ut),Cs(lt,ut),to(lt,ut)})};dn()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(W,X,_e)=>{var $e;return _e(W,X.prototype)?!0:(($e=W.constructor)===null||$e===void 0?void 0:$e.name)===X.name},s=W=>{const X=typeof W;return W===null?"null":X==="object"&&Array.isArray(W)?"array":X==="object"&&o(W,String,(_e,$e)=>$e.isPrototypeOf(_e))?"string":X},l=W=>X=>s(X)===W,c=W=>X=>typeof X===W,d=W=>X=>W===X,p=l("string"),v=l("array"),b=c("boolean"),S=d(void 0),x=W=>W==null,T=W=>!x(W),E=c("function"),k=c("number"),F=()=>{},N=(W,X)=>_e=>W(X(_e)),$=W=>()=>W,D=W=>W,O=(W,X)=>W===X;function P(W,...X){return(..._e)=>{const $e=X.concat(_e);return W.apply(null,$e)}}const I=W=>{W()},z=$(!1),K=$(!0);class j{constructor(X,_e){this.tag=X,this.value=_e}static some(X){return new j(!0,X)}static none(){return j.singletonNone}fold(X,_e){return this.tag?_e(this.value):X()}isSome(){return this.tag}isNone(){return!this.tag}map(X){return this.tag?j.some(X(this.value)):j.none()}bind(X){return this.tag?X(this.value):j.none()}exists(X){return this.tag&&X(this.value)}forall(X){return!this.tag||X(this.value)}filter(X){return!this.tag||X(this.value)?this:j.none()}getOr(X){return this.tag?this.value:X}or(X){return this.tag?this:X}getOrThunk(X){return this.tag?this.value:X()}orThunk(X){return this.tag?this:X()}getOrDie(X){if(this.tag)return this.value;throw new Error(X!=null?X:"Called getOrDie on None")}static from(X){return T(X)?j.some(X):j.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(X){this.tag&&X(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}j.singletonNone=new j(!1);const oe=Object.keys,xe=Object.hasOwnProperty,se=(W,X)=>{const _e=oe(W);for(let $e=0,yt=_e.length;$e<yt;$e++){const It=_e[$e],Cn=W[It];X(Cn,It)}},Q=W=>(X,_e)=>{W[_e]=X},G=(W,X,_e,$e)=>{se(W,(yt,It)=>{(X(yt,It)?_e:$e)(yt,It)})},ce=(W,X)=>{const _e={};return G(W,X,Q(_e),F),_e},he=(W,X)=>{const _e=[];return se(W,($e,yt)=>{_e.push(X($e,yt))}),_e},ve=W=>he(W,D),qe=W=>oe(W).length,U=(W,X)=>Fe(W,X)?j.from(W[X]):j.none(),Fe=(W,X)=>xe.call(W,X),De=(W,X)=>Fe(W,X)&&W[X]!==void 0&&W[X]!==null,Se=Array.prototype.indexOf,re=Array.prototype.push,le=(W,X)=>Se.call(W,X),fe=(W,X)=>le(W,X)>-1,ue=(W,X)=>{for(let _e=0,$e=W.length;_e<$e;_e++){const yt=W[_e];if(X(yt,_e))return!0}return!1},Be=(W,X)=>{const _e=[];for(let $e=0;$e<W;$e++)_e.push(X($e));return _e},Ce=(W,X)=>{const _e=W.length,$e=new Array(_e);for(let yt=0;yt<_e;yt++){const It=W[yt];$e[yt]=X(It,yt)}return $e},me=(W,X)=>{for(let _e=0,$e=W.length;_e<$e;_e++){const yt=W[_e];X(yt,_e)}},q=(W,X)=>{for(let _e=W.length-1;_e>=0;_e--){const $e=W[_e];X($e,_e)}},Ze=(W,X)=>{const _e=[],$e=[];for(let yt=0,It=W.length;yt<It;yt++){const Cn=W[yt];(X(Cn,yt)?_e:$e).push(Cn)}return{pass:_e,fail:$e}},We=(W,X)=>{const _e=[];for(let $e=0,yt=W.length;$e<yt;$e++){const It=W[$e];X(It,$e)&&_e.push(It)}return _e},tt=(W,X,_e)=>(q(W,($e,yt)=>{_e=X(_e,$e,yt)}),_e),Qe=(W,X,_e)=>(me(W,($e,yt)=>{_e=X(_e,$e,yt)}),_e),it=(W,X,_e)=>{for(let $e=0,yt=W.length;$e<yt;$e++){const It=W[$e];if(X(It,$e))return j.some(It);if(_e(It,$e))break}return j.none()},He=(W,X)=>it(W,X,z),Re=W=>{const X=[];for(let _e=0,$e=W.length;_e<$e;++_e){if(!v(W[_e]))throw new Error("Arr.flatten item "+_e+" was not an array, input: "+W);re.apply(X,W[_e])}return X},Ve=(W,X)=>Re(Ce(W,X)),Oe=(W,X)=>{for(let _e=0,$e=W.length;_e<$e;++_e){const yt=W[_e];if(X(yt,_e)!==!0)return!1}return!0},be=(W,X)=>{const _e={};for(let $e=0,yt=W.length;$e<yt;$e++){const It=W[$e];_e[String(It)]=X(It,$e)}return _e},ie=(W,X)=>X>=0&&X<W.length?j.some(W[X]):j.none(),Ee=W=>ie(W,0),ot=W=>ie(W,W.length-1),Xe=(W,X)=>{for(let _e=0;_e<W.length;_e++){const $e=X(W[_e],_e);if($e.isSome())return $e}return j.none()},zt=(W,X)=>{const $e=(X||document).createElement("div");if($e.innerHTML=W,!$e.hasChildNodes()||$e.childNodes.length>1){const yt="HTML does not have a single root node";throw console.error(yt,W),new Error(yt)}return Kn($e.childNodes[0])},qt=(W,X)=>{const $e=(X||document).createElement(W);return Kn($e)},bn=(W,X)=>{const $e=(X||document).createTextNode(W);return Kn($e)},Kn=W=>{if(W==null)throw new Error("Node cannot be null or undefined");return{dom:W}},fn={fromHtml:zt,fromTag:qt,fromText:bn,fromDom:Kn,fromPoint:(W,X,_e)=>j.from(W.dom.elementFromPoint(X,_e)).map(Kn)};typeof window<"u"||Function("return this;")();const oo=8,ft=9,Tt=11,sn=1,kn=3,Pn=W=>W.dom.nodeName.toLowerCase(),$n=W=>W.dom.nodeType,_o=W=>X=>$n(X)===W,mr=W=>$n(W)===oo||Pn(W)==="#comment",Ot=_o(sn),Ct=_o(kn),wn=_o(ft),xn=_o(Tt),pn=W=>X=>Ot(X)&&Pn(X)===W,eo=(W,X)=>{const _e=W.dom;if(_e.nodeType!==sn)return!1;{const $e=_e;if($e.matches!==void 0)return $e.matches(X);if($e.msMatchesSelector!==void 0)return $e.msMatchesSelector(X);if($e.webkitMatchesSelector!==void 0)return $e.webkitMatchesSelector(X);if($e.mozMatchesSelector!==void 0)return $e.mozMatchesSelector(X);throw new Error("Browser lacks native selectors")}},yr=W=>W.nodeType!==sn&&W.nodeType!==ft&&W.nodeType!==Tt||W.childElementCount===0,Ts=(W,X)=>{const _e=X===void 0?document:X.dom;return yr(_e)?[]:Ce(_e.querySelectorAll(W),fn.fromDom)},ci=(W,X)=>{const _e=X===void 0?document:X.dom;return yr(_e)?j.none():j.from(_e.querySelector(W)).map(fn.fromDom)},pr=(W,X)=>W.dom===X.dom,xi=eo,wr=W=>fn.fromDom(W.dom.ownerDocument),Jo=W=>wn(W)?W:wr(W),To=W=>j.from(W.dom.parentNode).map(fn.fromDom),Es=(W,X)=>{const _e=E(X)?X:z;let $e=W.dom;const yt=[];for(;$e.parentNode!==null&&$e.parentNode!==void 0;){const It=$e.parentNode,Cn=fn.fromDom(It);if(yt.push(Cn),_e(Cn)===!0)break;$e=It}return yt},si=W=>j.from(W.dom.previousSibling).map(fn.fromDom),Vr=W=>j.from(W.dom.nextSibling).map(fn.fromDom),ui=W=>Ce(W.dom.childNodes,fn.fromDom),Yr=(W,X)=>{const _e=W.dom.childNodes;return j.from(_e[X]).map(fn.fromDom)},ra=W=>Yr(W,0),ls=W=>xn(W)&&T(W.dom.host),dt=E(Element.prototype.attachShadow)&&E(Node.prototype.getRootNode)?W=>fn.fromDom(W.dom.getRootNode()):Jo,Le=W=>{const X=dt(W);return ls(X)?j.some(X):j.none()},Pt=W=>fn.fromDom(W.dom.host),Zt=W=>{const X=Ct(W)?W.dom.parentNode:W.dom;if(X==null||X.ownerDocument===null)return!1;const _e=X.ownerDocument;return Le(fn.fromDom(X)).fold(()=>_e.body.contains(X),N(Zt,Pt))},to=(W,X)=>We(ui(W),X),uo=(W,X)=>{let _e=[];return me(ui(W),$e=>{X($e)&&(_e=_e.concat([$e])),_e=_e.concat(uo($e,X))}),_e},Xn=(W,X)=>to(W,_e=>eo(_e,X)),vr=(W,X)=>Ts(X,W);var zo=(W,X,_e,$e,yt)=>W(_e,$e)?j.some(_e):E(yt)&&yt(_e)?j.none():X(_e,$e,yt);const Fo=(W,X,_e)=>{let $e=W.dom;const yt=E(_e)?_e:z;for(;$e.parentNode;){$e=$e.parentNode;const It=fn.fromDom($e);if(X(It))return j.some(It);if(yt(It))break}return j.none()},Cs=(W,X)=>{const _e=yt=>X(fn.fromDom(yt));return He(W.dom.childNodes,_e).map(fn.fromDom)},dn=(W,X,_e)=>Fo(W,$e=>eo($e,X),_e),lt=(W,X)=>Cs(W,_e=>eo(_e,X)),ut=(W,X)=>ci(X,W),en=(W,X,_e)=>zo((yt,It)=>eo(yt,It),dn,W,X,_e),En=(W,X,_e)=>{if(p(_e)||b(_e)||k(_e))W.setAttribute(X,_e+"");else throw console.error("Invalid call to Attribute.set. Key ",X,":: Value ",_e,":: Element ",W),new Error("Attribute value was not simple")},An=(W,X,_e)=>{En(W.dom,X,_e)},Un=(W,X)=>{const _e=W.dom;se(X,($e,yt)=>{En(_e,yt,$e)})},_n=(W,X)=>{const _e=W.dom.getAttribute(X);return _e===null?void 0:_e},Jn=(W,X)=>j.from(_n(W,X)),go=(W,X)=>{W.dom.removeAttribute(X)},$o=W=>Qe(W.dom.attributes,(X,_e)=>(X[_e.name]=_e.value,X),{}),Hr=(W,X,_e=O)=>W.exists($e=>_e($e,X)),ks=W=>{const X=[],_e=$e=>{X.push($e)};for(let $e=0;$e<W.length;$e++)W[$e].each(_e);return X},Qo=(W,X,_e)=>W.isSome()&&X.isSome()?j.some(_e(W.getOrDie(),X.getOrDie())):j.none(),fa=W=>W.bind(D),sr=(W,X)=>W?j.some(X):j.none(),Tr=(W,X)=>W.substring(X),Or=(W,X,_e)=>X===""||W.length>=X.length&&W.substr(_e,_e+X.length)===X,Js=(W,X)=>Ls(W,X)?Tr(W,X.length):W,Ls=(W,X)=>Or(W,X,0),Fi=(W=>X=>X.replace(W,""))(/^\s+|\s+$/g),da=W=>W.length>0,fl=W=>!da(W),Ma=(W,X=10)=>{const _e=parseInt(W,X);return isNaN(_e)?j.none():j.some(_e)},ka=W=>{const X=parseFloat(W);return isNaN(X)?j.none():j.some(X)},Cr=W=>W.style!==void 0&&E(W.style.getPropertyValue),Ri=(W,X,_e)=>{if(!p(_e))throw console.error("Invalid call to CSS.set. Property ",X,":: Value ",_e,":: Element ",W),new Error("CSS value must be a string: "+_e);Cr(W)&&W.style.setProperty(X,_e)},Ws=(W,X)=>{Cr(W)&&W.style.removeProperty(X)},sa=(W,X,_e)=>{const $e=W.dom;Ri($e,X,_e)},Oi=(W,X)=>{const _e=W.dom,yt=window.getComputedStyle(_e).getPropertyValue(X);return yt===""&&!Zt(W)?Aa(_e,X):yt},Aa=(W,X)=>Cr(W)?W.style.getPropertyValue(X):"",mi=(W,X)=>{const _e=W.dom,$e=Aa(_e,X);return j.from($e).filter(yt=>yt.length>0)},dl=(W,X)=>{const _e=W.dom;Ws(_e,X),Hr(Jn(W,"style").map(Fi),"")&&go(W,"style")},ha=(W,X,_e=0)=>Jn(W,X).map($e=>parseInt($e,10)).getOr(_e),hl=(W,X)=>Sr(W,X,K),Sr=(W,X,_e)=>Ve(ui(W),$e=>eo($e,X)?_e($e)?[$e]:[]:Sr($e,X,_e)),vi=["tfoot","thead","tbody","colgroup"],Ue=W=>fe(vi,W),pt=(W,X)=>({rows:W,columns:X}),xt=(W,X,_e)=>({element:W,rowspan:X,colspan:_e}),Gt=(W,X,_e,$e,yt,It)=>({element:W,rowspan:X,colspan:_e,row:$e,column:yt,isLocked:It}),mn=(W,X,_e)=>({element:W,cells:X,section:_e}),Do=(W,X,_e,$e)=>({startRow:W,startCol:X,finishRow:_e,finishCol:$e}),or=(W,X,_e)=>({element:W,colspan:X,column:_e}),Os=(W,X)=>({element:W,columns:X}),xr=(W,X,_e=z)=>{if(_e(X))return j.none();if(fe(W,Pn(X)))return j.some(X);const $e=yt=>eo(yt,"table")||_e(yt);return dn(X,W.join(","),$e)},Ns=(W,X)=>xr(["td","th"],W,X),Ss=W=>hl(W,"th,td"),Hs=W=>eo(W,"colgroup")?Xn(W,"col"):Ve(Ke(W),X=>Xn(X,"col")),Mi=(W,X)=>en(W,"table",X),ae=W=>hl(W,"tr"),Ke=W=>Mi(W).fold($([]),X=>Xn(X,"colgroup")),St=(W,X)=>Ce(W,_e=>{if(Pn(_e)==="colgroup"){const $e=Ce(Hs(_e),yt=>{const It=ha(yt,"span",1);return xt(yt,1,It)});return mn(_e,$e,"colgroup")}else{const $e=Ce(Ss(_e),yt=>{const It=ha(yt,"rowspan",1),Cn=ha(yt,"colspan",1);return xt(yt,It,Cn)});return mn(_e,$e,X(_e))}}),cn=W=>To(W).map(X=>{const _e=Pn(X);return Ue(_e)?_e:"tbody"}).getOr("tbody"),Fn=W=>{const X=ae(W),$e=[...Ke(W),...X];return St($e,cn)},Hn="data-snooker-locked-cols",Ro=W=>Jn(W,Hn).bind(X=>j.from(X.match(/\d+/g))).map(X=>be(X,K)),pe=(W,X)=>W+","+X,je=(W,X,_e)=>j.from(W.access[pe(X,_e)]),et=(W,X,_e)=>{const $e=Nt(W,yt=>_e(X,yt.element));return $e.length>0?j.some($e[0]):j.none()},Nt=(W,X)=>{const _e=Ve(W.all,$e=>$e.cells);return We(_e,X)},Dn=W=>{const X={};let _e=0;return me(W.cells,$e=>{const yt=$e.colspan;Be(yt,It=>{const Cn=_e+It;X[Cn]=or($e.element,yt,Cn)}),_e+=yt}),X},mo=W=>{const X={},_e=[],yt=Ee(W).map(Ml=>Ml.element).bind(Mi).bind(Ro).getOr({});let It=0,Cn=0,Gn=0;const{pass:Zo,fail:ur}=Ze(W,Ml=>Ml.section==="colgroup");me(ur,Ml=>{const Yc=[];me(Ml.cells,Kf=>{let ju=0;for(;X[pe(Gn,ju)]!==void 0;)ju++;const gh=De(yt,ju.toString()),Od=Gt(Kf.element,Kf.rowspan,Kf.colspan,Gn,ju,gh);for(let wf=0;wf<Kf.colspan;wf++)for(let mh=0;mh<Kf.rowspan;mh++){const Cf=Gn+mh,g1=ju+wf,m1=pe(Cf,g1);X[m1]=Od,Cn=Math.max(Cn,g1+1)}Yc.push(Od)}),It++,_e.push(mn(Ml.element,Yc,Ml.section)),Gn++});const{columns:ns,colgroups:ds}=ot(Zo).map(Ml=>{const Yc=Dn(Ml);return{colgroups:[Os(Ml.element,ve(Yc))],columns:Yc}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:pt(It,Cn),access:X,all:_e,columns:ns,colgroups:ds}},ps={fromTable:W=>{const X=Fn(W);return mo(X)},generate:mo,getAt:je,findItem:et,filterItems:Nt,justCells:W=>Ve(W.all,X=>X.cells),justColumns:W=>ve(W.columns),hasColumns:W=>oe(W.columns).length>0,getColumnAt:(W,X)=>j.from(W.columns[X])};var ei=tinymce.util.Tools.resolve("tinymce.util.Tools");const Dl=(W,X,_e)=>{const $e=W.select("td,th",X);let yt;for(let It=0;It<$e.length;It++){const Cn=W.getStyle($e[It],_e);if(S(yt)&&(yt=Cn),yt!==Cn)return""}return yt},rr=(W,X,_e)=>{ei.each("left center right".split(" "),$e=>{$e!==_e&&W.formatter.remove("align"+$e,{},X)}),_e&&W.formatter.apply("align"+_e,{},X)},Ye=(W,X,_e)=>{ei.each("top middle bottom".split(" "),$e=>{$e!==_e&&W.formatter.remove("valign"+$e,{},X)}),_e&&W.formatter.apply("valign"+_e,{},X)},at=(W,X,_e)=>{W.dispatch("TableModified",{..._e,table:X})},Ft=(W,X)=>ka(W).getOr(X),Vt=(W,X,_e)=>Ft(Oi(W,X),_e),ro=(W,X,_e,$e)=>{const yt=Vt(W,`padding-${_e}`,0),It=Vt(W,`padding-${$e}`,0),Cn=Vt(W,`border-${_e}-width`,0),Gn=Vt(W,`border-${$e}-width`,0);return X-yt-It-Cn-Gn},ko=(W,X)=>{const _e=W.dom,$e=_e.getBoundingClientRect().width||_e.offsetWidth;return X==="border-box"?$e:ro(W,$e,"left","right")},Er=W=>ko(W,"content-box");var Uc=tinymce.util.Tools.resolve("tinymce.Env");const Fr="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Xr=Be(5,W=>{const X=`${W+1}px`;return{title:X,value:X}}),pa=Ce(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],W=>({title:W,value:W.toLowerCase()})),Xa="100%",Wc=W=>{var X;const _e=W.dom,$e=(X=_e.getParent(W.selection.getStart(),_e.isBlock))!==null&&X!==void 0?X:W.getBody();return Er(fn.fromDom($e))+"px"},qs=(W,X)=>pp(W)||!Bl(W)?X:df(W)?{...X,width:Wc(W)}:{...X,width:Xa},_s=(W,X)=>pp(W)||Bl(W)?X:df(W)?{...X,width:Wc(W)}:{...X,width:Xa},Jr=W=>X=>X.options.get(W),bi=W=>{const X=W.options.register;X("table_border_widths",{processor:"object[]",default:Xr}),X("table_border_styles",{processor:"object[]",default:pa}),X("table_cell_advtab",{processor:"boolean",default:!0}),X("table_row_advtab",{processor:"boolean",default:!0}),X("table_advtab",{processor:"boolean",default:!0}),X("table_appearance_options",{processor:"boolean",default:!0}),X("table_grid",{processor:"boolean",default:!Uc.deviceType.isTouch()}),X("table_cell_class_list",{processor:"object[]",default:[]}),X("table_row_class_list",{processor:"object[]",default:[]}),X("table_class_list",{processor:"object[]",default:[]}),X("table_toolbar",{processor:"string",default:Fr}),X("table_background_color_map",{processor:"object[]",default:[]}),X("table_border_color_map",{processor:"object[]",default:[]})},pl=Jr("table_sizing_mode"),Fu=Jr("table_border_widths"),Ii=Jr("table_border_styles"),ff=Jr("table_cell_advtab"),Hf=Jr("table_row_advtab"),Ja=Jr("table_advtab"),jf=Jr("table_appearance_options"),Ym=Jr("table_grid"),Bl=Jr("table_style_by_css"),Ru=Jr("table_cell_class_list"),yd=Jr("table_row_class_list"),Ta=Jr("table_class_list"),du=Jr("table_toolbar"),zf=Jr("table_background_color_map"),rh=Jr("table_border_color_map"),df=W=>pl(W)==="fixed",pp=W=>pl(W)==="responsive",sh=W=>{const X=W.options,_e=X.get("table_default_styles");return X.isSet("table_default_styles")?_e:qs(W,_e)},Ec=W=>{const X=W.options,_e=X.get("table_default_attributes");return X.isSet("table_default_attributes")?_e:_s(W,_e)},Xm=W=>W.nodeName.toLowerCase(),gp=W=>fn.fromDom(W.getBody()),Vf=W=>X=>pr(X,gp(W)),ih=W=>W?W.replace(/px$/,""):"",kc=W=>/^\d+(\.\d+)?$/.test(W)?W+"px":W,mt=W=>fn.fromDom(W.selection.getStart()),hf=W=>fn.fromDom(W.selection.getEnd()),Ac=(W,X)=>X.column>=W.startCol&&X.column+X.colspan-1<=W.finishCol&&X.row>=W.startRow&&X.row+X.rowspan-1<=W.finishRow,mp=(W,X)=>{let _e=!0;const $e=P(Ac,X);for(let yt=X.startRow;yt<=X.finishRow;yt++)for(let It=X.startCol;It<=X.finishCol;It++)_e=_e&&ps.getAt(W,yt,It).exists($e);return _e?j.some(X):j.none()},vp=(W,X)=>Do(Math.min(W.row,X.row),Math.min(W.column,X.column),Math.max(W.row+W.rowspan-1,X.row+X.rowspan-1),Math.max(W.column+W.colspan-1,X.column+X.colspan-1)),Jm=(W,X,_e)=>{const $e=ps.findItem(W,X,pr),yt=ps.findItem(W,_e,pr);return $e.bind(It=>yt.map(Cn=>vp(It,Cn)))},gs=(W,X,_e)=>Jm(W,X,_e).bind($e=>mp(W,$e)),Ia=(W,X,_e)=>{const $e=xg(W);return gs($e,X,_e)},xg=ps.fromTable,qc=(W,X)=>{To(W).each($e=>{$e.dom.insertBefore(X.dom,W.dom)})},bp=(W,X)=>{Vr(W).fold(()=>{To(W).each(yt=>{La(yt,X)})},$e=>{qc($e,X)})},Uf=(W,X)=>{ra(W).fold(()=>{La(W,X)},$e=>{W.dom.insertBefore(X.dom,$e.dom)})},La=(W,X)=>{W.dom.appendChild(X.dom)},Qm=(W,X)=>{qc(W,X),La(X,W)},ah=(W,X)=>{me(X,(_e,$e)=>{const yt=$e===0?W:X[$e-1];bp(yt,_e)})},e1=(W,X)=>{me(X,_e=>{La(W,_e)})},Nl=W=>{const X=W.dom;X.parentNode!==null&&X.parentNode.removeChild(X)},lh=W=>{const X=ui(W);X.length>0&&ah(W,X),Nl(W)},wd=((W,X)=>{const _e=It=>{if(!W(It))throw new Error("Can only get "+X+" value of a "+X+" node");return $e(It).getOr("")},$e=It=>W(It)?j.from(It.dom.nodeValue):j.none();return{get:_e,getOption:$e,set:(It,Cn)=>{if(!W(It))throw new Error("Can only set raw "+X+" value of a "+X+" node");It.dom.nodeValue=Cn}}})(Ct,"text"),ga=W=>wd.get(W),ch=(W,X)=>wd.set(W,X);var Eg=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],wp=()=>{const W=ur=>fn.fromDom(ur.dom.cloneNode(!1)),X=ur=>Jo(ur).dom,_e=ur=>Ot(ur)?Pn(ur)==="body"?!0:fe(Eg,Pn(ur)):!1,$e=ur=>Ot(ur)?fe(["br","img","hr","input"],Pn(ur)):!1,yt=ur=>Ot(ur)&&_n(ur,"contenteditable")==="false",It=(ur,ns)=>ur.dom.compareDocumentPosition(ns.dom),Cn=(ur,ns)=>{const ds=$o(ur);Un(ns,ds)},Gn=ur=>{const ns=Pn(ur);return fe(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ns)},Zo=ur=>Ot(ur)?Jn(ur,"lang"):j.none();return{up:$({selector:dn,closest:en,predicate:Fo,all:Es}),down:$({selector:vr,predicate:uo}),styles:$({get:Oi,getRaw:mi,set:sa,remove:dl}),attrs:$({get:_n,set:An,remove:go,copyTo:Cn}),insert:$({before:qc,after:bp,afterAll:ah,append:La,appendAll:e1,prepend:Uf,wrap:Qm}),remove:$({unwrap:lh,remove:Nl}),create:$({nu:fn.fromTag,clone:W,text:fn.fromText}),query:$({comparePosition:It,prevSibling:si,nextSibling:Vr}),property:$({children:ui,name:Pn,parent:To,document:X,isText:Ct,isComment:mr,isElement:Ot,isSpecial:Gn,getLanguage:Zo,getText:ga,setText:ch,isBoundary:_e,isEmptyTag:$e,isNonEditable:yt}),eq:pr,is:xi}};const Wf=(W,X,_e,$e)=>{const yt=_e[0],It=_e.slice(1);return $e(W,X,yt,It)},t1=(W,X,_e)=>_e.length>0?Wf(W,X,_e,Cp):j.none(),Cp=(W,X,_e,$e)=>{const yt=X(W,_e);return tt($e,(It,Cn)=>{const Gn=X(W,Cn);return gl(W,It,Gn)},yt)},gl=(W,X,_e)=>X.bind($e=>_e.filter(P(W.eq,$e))),n1=t1,hu=wp(),Cd=(W,X)=>n1(hu,(_e,$e)=>W($e),X),pf=W=>dn(W,"table"),Zc=(W,X)=>{const _e=vr(W,X);return _e.length>0?j.some(_e):j.none()},o1=(W,X,_e)=>ut(W,X).bind($e=>ut(W,_e).bind(yt=>Cd(pf,[$e,yt]).map(It=>({first:$e,last:yt,table:It})))),r1=(W,X)=>Zc(W,X),kg=(W,X,_e)=>o1(W,X,_e).bind($e=>{const yt=Zo=>pr(W,Zo),It="thead,tfoot,tbody,table",Cn=dn($e.first,It,yt),Gn=dn($e.last,It,yt);return Cn.bind(Zo=>Gn.bind(ur=>pr(Zo,ur)?Ia($e.table,$e.first,$e.last):j.none()))}),pu=W=>Ce(W,fn.fromDom),ee="data-mce-selected",we="td["+ee+"],th["+ee+"]",Me="data-mce-first-selected",vt="td["+Me+"],th["+Me+"]",At="data-mce-last-selected",In="td["+At+"],th["+At+"]",Lo={selected:ee,selectedSelector:we,firstSelected:Me,firstSelectedSelector:vt,lastSelected:At,lastSelectedSelector:In},_r=W=>Mi(W).bind(X=>r1(X,Lo.firstSelectedSelector)).fold($(W),X=>X[0]),br=W=>(X,_e)=>{const $e=Pn(X),yt=$e==="col"||$e==="colgroup"?_r(X):X;return en(yt,W,_e)},bo=br("th,td,caption"),$r=br("th,td"),ni=W=>pu(W.model.table.getSelectedCells()),Ha=(W,X)=>{const _e=$r(W),$e=_e.bind(yt=>Mi(yt)).map(yt=>ae(yt));return Qo(_e,$e,(yt,It)=>We(It,Cn=>ue(pu(Cn.dom.cells),Gn=>_n(Gn,X)==="1"||pr(Gn,yt)))).getOr([])},Li=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Sp=W=>({value:W}),IC=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,er=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,yi=W=>IC.test(W)||er.test(W),ts=W=>Js(W,"#").toUpperCase(),Qa=W=>yi(W)?j.some({value:ts(W)}):j.none(),Oa=W=>{const X=W.toString(16);return(X.length===1?"0"+X:X).toUpperCase()},s1=W=>{const X=Oa(W.red)+Oa(W.green)+Oa(W.blue);return Sp(X)},Ag=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,i1=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,gf=(W,X,_e,$e)=>({red:W,green:X,blue:_e,alpha:$e}),Tg=(W,X,_e,$e)=>{const yt=parseInt(W,10),It=parseInt(X,10),Cn=parseInt(_e,10),Gn=parseFloat($e);return gf(yt,It,Cn,Gn)},LC=W=>{if(W==="transparent")return j.some(gf(0,0,0,0));const X=Ag.exec(W);if(X!==null)return j.some(Tg(X[1],X[2],X[3],"1"));const _e=i1.exec(W);return _e!==null?j.some(Tg(_e[1],_e[2],_e[3],_e[4])):j.none()},e3=W=>Qa(W).orThunk(()=>LC(W).map(s1)).getOrThunk(()=>{const X=document.createElement("canvas");X.height=1,X.width=1;const _e=X.getContext("2d");_e.clearRect(0,0,X.width,X.height),_e.fillStyle="#FFFFFF",_e.fillStyle=W,_e.fillRect(0,0,1,1);const $e=_e.getImageData(0,0,1,1).data,yt=$e[0],It=$e[1],Cn=$e[2],Gn=$e[3];return s1(gf(yt,It,Cn,Gn))}),_i=W=>LC(W).map(s1).map(X=>"#"+X.value).getOr(W),a1=W=>{let X=W;return{get:()=>X,set:yt=>{X=yt}}},wy=W=>{const X=a1(j.none()),_e=()=>X.get().each(W);return{clear:()=>{_e(),X.set(j.none())},isSet:()=>X.get().isSome(),get:()=>X.get(),set:Gn=>{_e(),X.set(j.some(Gn))}}},Jv=()=>wy(W=>W.unbind()),Og=(W,X,_e)=>$e=>{const yt=Jv(),It=fl(_e),Cn=()=>{const Gn=ni(W),Zo=ur=>W.formatter.match(X,{value:_e},ur.dom,It);It?($e.setActive(!ue(Gn,Zo)),yt.set(W.formatter.formatChanged(X,ur=>$e.setActive(!ur),!0))):($e.setActive(Oe(Gn,Zo)),yt.set(W.formatter.formatChanged(X,$e.setActive,!1,{value:_e})))};return W.initialized?Cn():W.on("init",Cn),yt.clear},Cy=W=>De(W,"menu"),Sd=W=>Ce(W,X=>{const _e=X.text||X.title||"";return Cy(X)?{text:_e,items:Sd(X.menu)}:{text:_e,value:X.value}}),Zs=(W,X,_e,$e)=>Ce(X,yt=>{const It=yt.text||yt.title;return Cy(yt)?{type:"nestedmenuitem",text:It,getSubmenuItems:()=>Zs(W,yt.menu,_e,$e)}:{text:It,type:"togglemenuitem",onAction:()=>$e(yt.value),onSetup:Og(W,_e,yt.value)}}),lr=(W,X)=>_e=>{W.execCommand("mceTableApplyCellStyle",!1,{[X]:_e})},el=W=>Ve(W,X=>Cy(X)?[{...X,menu:el(X.menu)}]:da(X.value)?[X]:[]),mf=(W,X,_e,$e)=>yt=>yt(Zs(W,X,_e,$e)),qf=(W,X,_e)=>{const $e=Ce(X,yt=>({text:yt.title,value:"#"+e3(yt.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:$e.length>0?$e:void 0,allowCustomColors:!1},onAction:yt=>{const It=yt.value==="remove"?"":yt.value;W.execCommand("mceTableApplyCellStyle",!1,{[_e]:It})}}]},l1=W=>()=>{const _e=W.queryCommandValue("mceTableRowType")==="header"?"body":"header";W.execCommand("mceTableRowType",!1,{type:_e})},xp=W=>()=>{const _e=W.queryCommandValue("mceTableColType")==="th"?"td":"th";W.execCommand("mceTableColType",!1,{type:_e})},Sy=W=>{const X=Sd(Ru(W));return X.length>0?j.some({name:"class",type:"listbox",label:"Class",items:X}):j.none()},xd=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Li}],Ed=W=>xd.concat(Sy(W).toArray()),no=(W,X)=>{const $e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Sd(Ii(W)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],It=X==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat($e):$e;return{title:"Advanced",name:"advanced",items:It}},ic={normal:(W,X)=>{const _e=W.dom;return{setAttrib:(Cn,Gn)=>{_e.setAttrib(X,Cn,Gn)},setStyle:(Cn,Gn)=>{_e.setStyle(X,Cn,Gn)},setFormat:(Cn,Gn)=>{Gn===""?W.formatter.remove(Cn,{value:null},X,!0):W.formatter.apply(Cn,{value:Gn},X)}}}},Tc=pn("th"),xy=(W,X)=>W&&X?"sectionCells":W?"section":"cells",kd=W=>{const X=W.section==="thead",_e=Hr(Mu(W.cells),"th");return W.section==="tfoot"?{type:"footer"}:X||_e?{type:"header",subType:xy(X,_e)}:{type:"body"}},Mu=W=>{const X=We(W,_e=>Tc(_e.element));return X.length===0?j.some("td"):X.length===W.length?j.some("th"):j.none()},jC=W=>{const X=Ce(W,yt=>kd(yt).type),_e=fe(X,"header"),$e=fe(X,"footer");if(!_e&&!$e)return j.some("body");{const yt=fe(X,"body");return _e&&!yt&&!$e?j.some("header"):!_e&&!yt&&$e?j.some("footer"):j.none()}},vf=W=>{let X=!1,_e;return(...$e)=>(X||(X=!0,_e=W.apply(null,$e)),_e)},c1=(W,X)=>Xe(W.all,_e=>He(_e.cells,$e=>pr(X,$e.element))),u1=(W,X,_e)=>{const $e=Ce(X.selection,It=>Ns(It).bind(Cn=>c1(W,Cn)).filter(_e)),yt=ks($e);return sr(yt.length>0,yt)},yn=(W,X)=>X.mergable,Qv=(W,X)=>X.unmergable,e0=(W,X)=>u1(W,X,K),Iu=(W,X)=>c1(W,X).exists(_e=>!_e.isLocked),Ep=(W,X)=>Oe(X,_e=>Iu(W,_e)),t0=(W,X)=>yn(W,X).filter(_e=>Ep(W,_e.cells)),$i=(W,X)=>Qv(W,X).filter(_e=>Ep(W,_e));({...{generate:W=>{if(!v(W))throw new Error("cases must be an array");if(W.length===0)throw new Error("there must be at least one case");const X=[],_e={};return me(W,($e,yt)=>{const It=oe($e);if(It.length!==1)throw new Error("one and only one name per case");const Cn=It[0],Gn=$e[Cn];if(_e[Cn]!==void 0)throw new Error("duplicate key detected:"+Cn);if(Cn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!v(Gn))throw new Error("case arguments must be an array");X.push(Cn),_e[Cn]=(...Zo)=>{const ur=Zo.length;if(ur!==Gn.length)throw new Error("Wrong number of arguments to case "+Cn+". Expected "+Gn.length+" ("+Gn+"), got "+ur);return{fold:(...ds)=>{if(ds.length!==W.length)throw new Error("Wrong number of arguments to fold. Expected "+W.length+", got "+ds.length);return ds[yt].apply(null,Zo)},match:ds=>{const Ps=oe(ds);if(X.length!==Ps.length)throw new Error("Wrong number of arguments to match. Expected: "+X.join(",")+`
Actual: `+Ps.join(","));if(!Oe(X,Yc=>fe(Ps,Yc)))throw new Error("Not all branches were specified when using match. Specified: "+Ps.join(", ")+`
Required: `+X.join(", "));return ds[Cn].apply(null,Zo)},log:ds=>{console.log(ds,{constructors:X,constructor:Cn,params:Zo})}}}}),_e}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Oo=(W,X)=>{const _e=ps.fromTable(W);return e0(_e,X).bind(yt=>{const It=yt[yt.length-1],Cn=yt[0].row,Gn=It.row+It.rowspan,Zo=_e.all.slice(Cn,Gn);return jC(Zo)}).getOr("")},ia=W=>Ls(W,"rgb")?_i(W):W,_g=W=>{const X=fn.fromDom(W);return{borderwidth:mi(X,"border-width").getOr(""),borderstyle:mi(X,"border-style").getOr(""),bordercolor:mi(X,"border-color").map(ia).getOr(""),backgroundcolor:mi(X,"background-color").map(ia).getOr("")}},Ey=W=>{const X=W[0],_e=W.slice(1);return me(_e,$e=>{me(oe(X),yt=>{se($e,(It,Cn)=>{const Gn=X[yt];Gn!==""&&yt===Cn&&Gn!==It&&(X[yt]="")})})}),X},n0=(W,X,_e,$e)=>He(W,yt=>!S(_e.formatter.matchNode($e,X+yt))).getOr(""),$g=P(n0,["left","center","right"],"align"),Gc=P(n0,["top","middle","bottom"],"valign"),f1=(W,X)=>{const _e=sh(W),$e=Ec(W),yt=()=>({borderstyle:U(_e,"border-style").getOr(""),bordercolor:ia(U(_e,"border-color").getOr("")),backgroundcolor:ia(U(_e,"background-color").getOr(""))}),It={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},Cn=()=>{const ns=_e["border-width"];return Bl(W)&&ns?{border:ns}:U($e,"border").fold(()=>({}),ds=>({border:ds}))},Gn=X?yt():{},Zo=()=>{const ns=U(_e,"border-spacing").or(U($e,"cellspacing")).fold(()=>({}),Ps=>({cellspacing:Ps})),ds=U(_e,"border-padding").or(U($e,"cellpadding")).fold(()=>({}),Ps=>({cellpadding:Ps}));return{...ns,...ds}};return{...It,..._e,...$e,...Gn,...Cn(),...Zo()}},Dg=W=>Mi(fn.fromDom(W)).map(X=>{const _e={selection:pu(W.cells)};return Oo(X,_e)}).getOr(""),Di=(W,X,_e)=>{const $e=(Gn,Zo)=>{const ur=mi(fn.fromDom(Zo),"border-width");return Bl(W)&&ur.isSome()?ur.getOr(""):Gn.getAttrib(Zo,"border")||Dl(W.dom,Zo,"border-width")||Dl(W.dom,Zo,"border")||""},yt=W.dom,It=Bl(W)?yt.getStyle(X,"border-spacing")||yt.getAttrib(X,"cellspacing"):yt.getAttrib(X,"cellspacing")||yt.getStyle(X,"border-spacing"),Cn=Bl(W)?Dl(yt,X,"padding")||yt.getAttrib(X,"cellpadding"):yt.getAttrib(X,"cellpadding")||Dl(yt,X,"padding");return{width:yt.getStyle(X,"width")||yt.getAttrib(X,"width"),height:yt.getStyle(X,"height")||yt.getAttrib(X,"height"),cellspacing:It!=null?It:"",cellpadding:Cn!=null?Cn:"",border:$e(yt,X),caption:!!yt.select("caption",X)[0],class:yt.getAttrib(X,"class",""),align:$g(W,X),..._e?_g(X):{}}},Lu=(W,X,_e)=>{const $e=W.dom;return{height:$e.getStyle(X,"height")||$e.getAttrib(X,"height"),class:$e.getAttrib(X,"class",""),type:Dg(X),align:$g(W,X),..._e?_g(X):{}}},d1=(W,X,_e,$e)=>{const yt=W.dom,It=$e.getOr(X),Cn=(Gn,Zo)=>yt.getStyle(Gn,Zo)||yt.getAttrib(Gn,Zo);return{width:Cn(It,"width"),height:Cn(X,"height"),scope:yt.getAttrib(X,"scope"),celltype:Xm(X),class:yt.getAttrib(X,"class",""),halign:$g(W,X),valign:Gc(W,X),..._e?_g(X):{}}},kp=(W,X)=>{const _e=ps.fromTable(W),$e=ps.justCells(_e),yt=We($e,It=>ue(X,Cn=>pr(It.element,Cn)));return Ce(yt,It=>({element:It.element.dom,column:ps.getColumnAt(_e,It.column).map(Cn=>Cn.element.dom)}))},VC=(W,X,_e,$e)=>{$e("scope")&&W.setAttrib("scope",_e.scope),$e("class")&&W.setAttrib("class",_e.class),$e("height")&&W.setStyle("height",kc(_e.height)),$e("width")&&X.setStyle("width",kc(_e.width))},Bg=(W,X,_e)=>{_e("backgroundcolor")&&W.setFormat("tablecellbackgroundcolor",X.backgroundcolor),_e("bordercolor")&&W.setFormat("tablecellbordercolor",X.bordercolor),_e("borderstyle")&&W.setFormat("tablecellborderstyle",X.borderstyle),_e("borderwidth")&&W.setFormat("tablecellborderwidth",kc(X.borderwidth))},Ad=(W,X,_e,$e)=>{const yt=X.length===1;me(X,It=>{const Cn=It.element,Gn=yt?K:$e,Zo=ic.normal(W,Cn),ur=It.column.map(ns=>ic.normal(W,ns)).getOr(Zo);VC(Zo,ur,_e,Gn),ff(W)&&Bg(Zo,_e,Gn),$e("halign")&&rr(W,Cn,_e.halign),$e("valign")&&Ye(W,Cn,_e.valign)})},uh=(W,X)=>{W.execCommand("mceTableCellType",!1,{type:X.celltype,no_events:!0})},Ap=(W,X,_e,$e)=>{const yt=ce($e,(It,Cn)=>_e[Cn]!==It);qe(yt)>0&&X.length>=1&&Mi(X[0]).each(It=>{const Cn=kp(It,X),Gn=qe(ce(yt,(ur,ns)=>ns!=="scope"&&ns!=="celltype"))>0,Zo=Fe(yt,"celltype");(Gn||Fe(yt,"scope"))&&Ad(W,Cn,$e,P(Fe,yt)),Zo&&uh(W,$e),at(W,It.dom,{structure:Zo,style:Gn})})},ky=(W,X,_e,$e)=>{const yt=$e.getData();$e.close(),W.undoManager.transact(()=>{Ap(W,X,_e,yt),W.focus()})},fh=(W,X)=>{const _e=Mi(X[0]).map($e=>Ce(kp($e,X),yt=>d1(W,yt.element,ff(W),yt.column)));return Ey(_e.getOrDie())},jr=W=>{const X=ni(W);if(X.length===0)return;const _e=fh(W,X),$e={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ed(W)},no(W,"cell")]},yt={type:"panel",items:[{type:"grid",columns:2,items:Ed(W)}]};W.windowManager.open({title:"Cell Properties",size:"normal",body:ff(W)?$e:yt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_e,onSubmit:P(ky,W,X,_e)})},bf=W=>{const X=Sd(yd(W));return X.length>0?j.some({name:"class",type:"listbox",label:"Class",items:X}):j.none()},Pl=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Td=W=>Pl.concat(bf(W).toArray()),Kc=(W,X,_e)=>{_e("class")&&W.setAttrib("class",X.class),_e("height")&&W.setStyle("height",kc(X.height))},Ay=(W,X,_e)=>{_e("backgroundcolor")&&W.setStyle("background-color",X.backgroundcolor),_e("bordercolor")&&W.setStyle("border-color",X.bordercolor),_e("borderstyle")&&W.setStyle("border-style",X.borderstyle)},ja=(W,X,_e,$e)=>{const It=X.length===1?K:$e;me(X,Cn=>{const Gn=ic.normal(W,Cn);Kc(Gn,_e,It),Hf(W)&&Ay(Gn,_e,It),$e("align")&&rr(W,Cn,_e.align)})},ml=(W,X)=>{W.execCommand("mceTableRowType",!1,{type:X.type,no_events:!0})},o0=(W,X,_e,$e)=>{const yt=ce($e,(It,Cn)=>_e[Cn]!==It);if(qe(yt)>0){const It=Fe(yt,"type"),Cn=It?qe(yt)>1:!0;Cn&&ja(W,X,$e,P(Fe,yt)),It&&ml(W,$e),Mi(fn.fromDom(X[0])).each(Gn=>at(W,Gn.dom,{structure:It,style:Cn}))}},ln=(W,X,_e,$e)=>{const yt=$e.getData();$e.close(),W.undoManager.transact(()=>{o0(W,X,_e,yt),W.focus()})},_a=W=>{const X=Ha(mt(W),Lo.selected);if(X.length===0)return;const _e=Ce(X,Cn=>Lu(W,Cn.dom,Hf(W))),$e=Ey(_e),yt={type:"tabpanel",tabs:[{title:"General",name:"general",items:Td(W)},no(W,"row")]},It={type:"panel",items:[{type:"grid",columns:2,items:Td(W)}]};W.windowManager.open({title:"Row Properties",size:"normal",body:Hf(W)?yt:It,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:$e,onSubmit:P(ln,W,Ce(X,Cn=>Cn.dom),$e)})},Hu=(W,X,_e)=>{const $e=_e?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],yt=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],It=jf(W)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],Cn=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],Gn=X.length>0?[{type:"listbox",name:"class",label:"Class",items:X}]:[];return $e.concat(yt).concat(It).concat(Cn).concat(Gn)},Zi=(W,X,_e,$e)=>{if(X.tagName==="TD"||X.tagName==="TH")p(_e)&&T($e)?W.setStyle(X,_e,$e):W.setStyles(X,_e);else if(X.children)for(let yt=0;yt<X.children.length;yt++)Zi(W,X.children[yt],_e,$e)},Tp=(W,X,_e)=>{const $e=W.dom,yt={},It={};if(S(_e.class)||(yt.class=_e.class),It.height=kc(_e.height),Bl(W)?It.width=kc(_e.width):$e.getAttrib(X,"width")&&(yt.width=ih(_e.width)),Bl(W)?(It["border-width"]=kc(_e.border),It["border-spacing"]=kc(_e.cellspacing)):(yt.border=_e.border,yt.cellpadding=_e.cellpadding,yt.cellspacing=_e.cellspacing),Bl(W)&&X.children)for(let Cn=0;Cn<X.children.length;Cn++)Zi($e,X.children[Cn],{"border-width":kc(_e.border),padding:kc(_e.cellpadding)}),Ja(W)&&Zi($e,X.children[Cn],{"border-color":_e.bordercolor});if(Ja(W)){const Cn=_e;It["background-color"]=Cn.backgroundcolor,It["border-color"]=Cn.bordercolor,It["border-style"]=Cn.borderstyle}yt.style=$e.serializeStyle({...sh(W),...It}),$e.setAttribs(X,{...Ec(W),...yt})},dh=(W,X,_e,$e)=>{const yt=W.dom,It=$e.getData(),Cn=ce(It,(Gn,Zo)=>_e[Zo]!==Gn);$e.close(),It.class===""&&delete It.class,W.undoManager.transact(()=>{if(!X){const Gn=Ma(It.cols).getOr(1),Zo=Ma(It.rows).getOr(1);W.execCommand("mceInsertTable",!1,{rows:Zo,columns:Gn}),X=$r(mt(W),Vf(W)).bind(ur=>Mi(ur,Vf(W))).map(ur=>ur.dom).getOrDie()}if(qe(Cn)>0){Tp(W,X,It);const Gn=yt.select("caption",X)[0];(Gn&&!It.caption||!Gn&&It.caption)&&W.execCommand("mceTableToggleCaption"),rr(W,X,It.align)}if(W.focus(),W.addVisual(),qe(Cn)>0){const Gn=Fe(Cn,"caption"),Zo=Gn?qe(Cn)>1:!0;at(W,X,{structure:Gn,style:Zo})}})},yf=(W,X)=>{const _e=W.dom;let $e,yt=f1(W,Ja(W));X?(yt.cols="1",yt.rows="1",Ja(W)&&(yt.borderstyle="",yt.bordercolor="",yt.backgroundcolor="")):($e=_e.getParent(W.selection.getStart(),"table",W.getBody()),$e?yt=Di(W,$e,Ja(W)):Ja(W)&&(yt.borderstyle="",yt.bordercolor="",yt.backgroundcolor=""));const It=Sd(Ta(W));It.length>0&&yt.class&&(yt.class=yt.class.replace(/\s*mce\-item\-table\s*/g,""));const Cn={type:"grid",columns:2,items:Hu(W,It,X)},Gn=()=>({type:"panel",items:[Cn]}),Zo=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[Cn]},no(W,"table")]}),ur=Ja(W)?Zo():Gn();W.windowManager.open({title:"Table Properties",size:"normal",body:ur,onSubmit:P(dh,W,$e,yt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:yt})},r0=W=>{se({mceTableProps:P(yf,W,!1),mceTableRowProps:P(_a,W),mceTableCellProps:P(jr,W)},(X,_e)=>W.addCommand(_e,()=>X())),W.addCommand("mceInsertTableDialog",X=>{yf(W,!0)})},Oc=(W,X)=>lt(W,X).isSome(),h1=D,Fl=W=>{const X=($e,yt)=>Jn($e,yt).exists(It=>parseInt(It,10)>1),_e=$e=>X($e,"rowspan")||X($e,"colspan");return W.length>0&&Oe(W,_e)?j.some(W):j.none()},Kr=(W,X,_e)=>X.length<=1?j.none():kg(W,_e.firstSelectedSelector,_e.lastSelectedSelector).map($e=>({bounds:$e,cells:X})),Zf=W=>({element:W,mergable:j.none(),unmergable:j.none(),selection:[W]}),hh=(W,X,_e)=>({element:_e,mergable:Kr(X,W,Lo),unmergable:Fl(W),selection:h1(W)}),Rl=W=>{const X=a1(j.none()),_e=a1([]);let $e=j.none();const yt=pn("caption"),It=Uo=>$e.forall(As=>!As[Uo]),Cn=()=>bo(mt(W),Vf(W)),Gn=()=>bo(hf(W),Vf(W)),Zo=()=>Cn().bind(Uo=>fa(Qo(Mi(Uo),Gn().bind(Mi),(As,za)=>pr(As,za)?yt(Uo)?j.some(Zf(Uo)):j.some(hh(ni(W),As,Uo)):j.none()))),ur=Uo=>Mi(Uo.element).map(za=>{const wi=ps.fromTable(za),Ng=e0(wi,Uo).getOr([]),tl=Qe(Ng,(Xc,Yf)=>(Yf.isLocked&&(Xc.onAny=!0,Yf.column===0?Xc.onFirst=!0:Yf.column+Yf.colspan>=wi.grid.columns&&(Xc.onLast=!0)),Xc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:t0(wi,Uo).isSome(),unmergeable:$i(wi,Uo).isSome(),locked:tl}}),ns=()=>{X.set(vf(Zo)()),$e=X.get().bind(ur),me(_e.get(),I)},ds=Uo=>(Uo(),_e.set(_e.get().concat([Uo])),()=>{_e.set(We(_e.get(),As=>As!==Uo))}),Ps=(Uo,As)=>ds(()=>X.get().fold(()=>{Uo.setEnabled(!1)},za=>{Uo.setEnabled(!As(za))})),Ml=(Uo,As,za)=>ds(()=>X.get().fold(()=>{Uo.setEnabled(!1),Uo.setActive(!1)},wi=>{Uo.setEnabled(!As(wi)),Uo.setActive(za(wi))})),Yc=Uo=>$e.exists(As=>As.locked[Uo]),Kf=Uo=>Ps(Uo,As=>!1),ju=Uo=>Ps(Uo,As=>yt(As.element)),gh=Uo=>As=>Ps(As,za=>yt(za.element)||Yc(Uo)),Od=Uo=>As=>Ps(As,za=>yt(za.element)||Uo().isNone()),wf=(Uo,As)=>za=>Ps(za,wi=>yt(wi.element)||Uo().isNone()||Yc(As)),mh=Uo=>Ps(Uo,As=>It("mergeable")),Cf=Uo=>Ps(Uo,As=>It("unmergeable")),g1=Uo=>Ml(Uo,z,As=>Mi(As.element,Vf(W)).exists(wi=>Oc(wi,"caption"))),m1=(Uo,As)=>za=>Ml(za,wi=>yt(wi.element),()=>W.queryCommandValue(Uo)===As),UC=m1("mceTableRowType","header"),WC=m1("mceTableColType","th");return W.on("NodeChange ExecCommand TableSelectorChange",ns),{onSetupTable:Kf,onSetupCellOrRow:ju,onSetupColumn:gh,onSetupPasteable:Od,onSetupPasteableColumn:wf,onSetupMergeable:mh,onSetupUnmergeable:Cf,resetTargets:ns,onSetupTableWithCaption:g1,onSetupTableRowHeaders:UC,onSetupTableColumnHeaders:WC,targets:X.get}};var ph=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Gi="x-tinymce/dom-table-",Op=Gi+"rows",lc=Gi+"columns",p1=W=>{var X;const _e=(X=ph.read())!==null&&X!==void 0?X:[];return Xe(_e,$e=>j.from($e.getType(W)))},$t=()=>p1(Op),cc=()=>p1(lc),s0=(W,X)=>{W.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:Gn=>Gn("inserttable | cell row column | advtablesort | tableprops deletetable")});const _e=Gn=>()=>W.execCommand(Gn),$e=(Gn,Zo)=>{W.queryCommandSupported(Zo.command)&&W.ui.registry.addButton(Gn,{...Zo,onAction:E(Zo.onAction)?Zo.onAction:_e(Zo.command)})},yt=(Gn,Zo)=>{W.queryCommandSupported(Zo.command)&&W.ui.registry.addToggleButton(Gn,{...Zo,onAction:E(Zo.onAction)?Zo.onAction:_e(Zo.command)})};$e("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:X.onSetupTable}),$e("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:X.onSetupTable}),$e("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:X.onSetupCellOrRow}),$e("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:X.onSetupMergeable}),$e("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:X.onSetupUnmergeable}),$e("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:X.onSetupCellOrRow}),$e("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:X.onSetupCellOrRow}),$e("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:X.onSetupCellOrRow}),$e("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:X.onSetupCellOrRow}),$e("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:X.onSetupColumn("onFirst")}),$e("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:X.onSetupColumn("onLast")}),$e("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:X.onSetupColumn("onAny")}),$e("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:X.onSetupCellOrRow}),$e("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:X.onSetupCellOrRow}),$e("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:X.onSetupPasteable($t)}),$e("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:X.onSetupPasteable($t)}),$e("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:X.onSetupColumn("onAny")}),$e("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:X.onSetupColumn("onAny")}),$e("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:X.onSetupPasteableColumn(cc,"onFirst")}),$e("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:X.onSetupPasteableColumn(cc,"onLast")}),$e("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table"});const It=el(Ta(W));It.length!==0&&W.queryCommandSupported("mceTableToggleClass")&&W.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:mf(W,It,"tableclass",Gn=>W.execCommand("mceTableToggleClass",!1,Gn)),onSetup:X.onSetupTable});const Cn=el(Ru(W));Cn.length!==0&&W.queryCommandSupported("mceTableCellToggleClass")&&W.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:mf(W,Cn,"tablecellclass",Gn=>W.execCommand("mceTableCellToggleClass",!1,Gn)),onSetup:X.onSetupCellOrRow}),W.queryCommandSupported("mceTableApplyCellStyle")&&(W.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:mf(W,Li,"tablecellverticalalign",lr(W,"vertical-align")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:mf(W,Fu(W),"tablecellborderwidth",lr(W,"border-width")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:mf(W,Ii(W),"tablecellborderstyle",lr(W,"border-style")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:Gn=>Gn(qf(W,zf(W),"background-color")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:Gn=>Gn(qf(W,rh(W),"border-color")),onSetup:X.onSetupCellOrRow})),yt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:X.onSetupTableWithCaption}),yt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:l1(W),onSetup:X.onSetupTableRowHeaders}),yt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xp(W),onSetup:X.onSetupTableColumnHeaders})},_c=W=>{const X=$e=>W.dom.is($e,"table")&&W.getBody().contains($e),_e=du(W);_e.length>0&&W.ui.registry.addContextToolbar("table",{predicate:X,items:_e,scope:"node",position:"node"})},Gf=(W,X)=>{const _e=ds=>()=>W.execCommand(ds),$e=(ds,Ps)=>W.queryCommandSupported(Ps.command)?(W.ui.registry.addMenuItem(ds,{...Ps,onAction:E(Ps.onAction)?Ps.onAction:_e(Ps.command)}),!0):!1,yt=(ds,Ps)=>{W.queryCommandSupported(Ps.command)&&W.ui.registry.addToggleMenuItem(ds,{...Ps,onAction:E(Ps.onAction)?Ps.onAction:_e(Ps.command)})},It=ds=>{W.execCommand("mceInsertTable",!1,{rows:ds.numRows,columns:ds.numColumns})},Cn=[$e("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:X.onSetupCellOrRow}),$e("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:X.onSetupCellOrRow}),$e("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:X.onSetupCellOrRow}),$e("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:X.onSetupCellOrRow}),$e("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:X.onSetupCellOrRow}),$e("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:X.onSetupCellOrRow}),$e("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:X.onSetupPasteable($t)}),$e("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:X.onSetupPasteable($t)})],Gn=[$e("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:X.onSetupColumn("onFirst")}),$e("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:X.onSetupColumn("onLast")}),$e("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:X.onSetupColumn("onAny")}),$e("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:X.onSetupColumn("onAny")}),$e("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:X.onSetupColumn("onAny")}),$e("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:X.onSetupPasteableColumn(cc,"onFirst")}),$e("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:X.onSetupPasteableColumn(cc,"onLast")})],Zo=[$e("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:X.onSetupCellOrRow}),$e("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:X.onSetupMergeable}),$e("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:X.onSetupUnmergeable})];Ym(W)?W.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:It}]}):W.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:_e("mceInsertTableDialog")}),W.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:_e("mceInsertTableDialog")}),$e("tableprops",{text:"Table properties",onSetup:X.onSetupTable,command:"mceTableProps"}),$e("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:X.onSetupTable,command:"mceTableDelete"}),fe(Cn,!0)&&W.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:$("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),fe(Gn,!0)&&W.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:$("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),fe(Zo,!0)&&W.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:$("tablecellprops tablemergecells tablesplitcells")}),W.ui.registry.addContextMenu("table",{update:()=>(X.resetTargets(),X.targets().fold($(""),ds=>Pn(ds.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const ur=el(Ta(W));ur.length!==0&&W.queryCommandSupported("mceTableToggleClass")&&W.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Zs(W,ur,"tableclass",ds=>W.execCommand("mceTableToggleClass",!1,ds)),onSetup:X.onSetupTable});const ns=el(Ru(W));ns.length!==0&&W.queryCommandSupported("mceTableCellToggleClass")&&W.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Zs(W,ns,"tablecellclass",ds=>W.execCommand("mceTableCellToggleClass",!1,ds)),onSetup:X.onSetupCellOrRow}),W.queryCommandSupported("mceTableApplyCellStyle")&&(W.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Zs(W,Li,"tablecellverticalalign",lr(W,"vertical-align")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Zs(W,Fu(W),"tablecellborderwidth",lr(W,"border-width")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Zs(W,Ii(W),"tablecellborderstyle",lr(W,"border-style")),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>qf(W,zf(W),"background-color"),onSetup:X.onSetupCellOrRow}),W.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>qf(W,rh(W),"border-color"),onSetup:X.onSetupCellOrRow})),yt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:X.onSetupTableWithCaption}),yt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:l1(W),onSetup:X.onSetupTableRowHeaders}),yt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xp(W),onSetup:X.onSetupTableRowHeaders})},$c=W=>{const X=Rl(W);bi(W),r0(W),Gf(W,X),s0(W,X),_c(W)};var ma=()=>{e.add("table",$c)};ma()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const o=(ie,Ee,ot)=>{var Xe;return ot(ie,Ee.prototype)?!0:((Xe=ie.constructor)===null||Xe===void 0?void 0:Xe.name)===Ee.name},s=ie=>{const Ee=typeof ie;return ie===null?"null":Ee==="object"&&Array.isArray(ie)?"array":Ee==="object"&&o(ie,String,(ot,Xe)=>Xe.isPrototypeOf(ot))?"string":Ee},l=ie=>Ee=>s(Ee)===ie,c=ie=>Ee=>typeof Ee===ie,d=l("string"),p=l("object"),v=l("array"),b=ie=>ie==null,S=ie=>!b(ie),x=c("function"),T=(ie,Ee)=>{if(v(ie)){for(let ot=0,Xe=ie.length;ot<Xe;++ot)if(!Ee(ie[ot]))return!1;return!0}return!1},E=ie=>()=>ie;function k(ie,...Ee){return(...ot)=>{const Xe=Ee.concat(ot);return ie.apply(null,Xe)}}const F=E(!1),N=ie=>ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");var $=tinymce.util.Tools.resolve("tinymce.util.Tools");const D=ie=>Ee=>Ee.options.get(ie),O=ie=>{const Ee=ie.options.register;Ee("template_cdate_classes",{processor:"string",default:"cdate"}),Ee("template_mdate_classes",{processor:"string",default:"mdate"}),Ee("template_selected_content_classes",{processor:"string",default:"selcontent"}),Ee("template_preview_replace_values",{processor:"object"}),Ee("template_replace_values",{processor:"object"}),Ee("templates",{processor:ot=>d(ot)||T(ot,p)||x(ot),default:[]}),Ee("template_cdate_format",{processor:"string",default:ie.translate("%Y-%m-%d")}),Ee("template_mdate_format",{processor:"string",default:ie.translate("%Y-%m-%d")})},P=D("template_cdate_classes"),I=D("template_mdate_classes"),z=D("template_selected_content_classes"),K=D("template_preview_replace_values"),j=D("template_replace_values"),oe=D("templates"),xe=D("template_cdate_format"),se=D("template_mdate_format"),Q=D("content_style"),G=D("content_css_cors"),ce=D("body_class"),he=(ie,Ee)=>{if(ie=""+ie,ie.length<Ee)for(let ot=0;ot<Ee-ie.length;ot++)ie="0"+ie;return ie},ve=(ie,Ee,ot=new Date)=>{const Xe="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),zt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),bn="January February March April May June July August September October November December".split(" ");return Ee=Ee.replace("%D","%m/%d/%Y"),Ee=Ee.replace("%r","%I:%M:%S %p"),Ee=Ee.replace("%Y",""+ot.getFullYear()),Ee=Ee.replace("%y",""+ot.getYear()),Ee=Ee.replace("%m",he(ot.getMonth()+1,2)),Ee=Ee.replace("%d",he(ot.getDate(),2)),Ee=Ee.replace("%H",""+he(ot.getHours(),2)),Ee=Ee.replace("%M",""+he(ot.getMinutes(),2)),Ee=Ee.replace("%S",""+he(ot.getSeconds(),2)),Ee=Ee.replace("%I",""+((ot.getHours()+11)%12+1)),Ee=Ee.replace("%p",ot.getHours()<12?"AM":"PM"),Ee=Ee.replace("%B",""+ie.translate(bn[ot.getMonth()])),Ee=Ee.replace("%b",""+ie.translate(qt[ot.getMonth()])),Ee=Ee.replace("%A",""+ie.translate(zt[ot.getDay()])),Ee=Ee.replace("%a",""+ie.translate(Xe[ot.getDay()])),Ee=Ee.replace("%%","%"),Ee};class qe{constructor(Ee,ot){this.tag=Ee,this.value=ot}static some(Ee){return new qe(!0,Ee)}static none(){return qe.singletonNone}fold(Ee,ot){return this.tag?ot(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?qe.some(Ee(this.value)):qe.none()}bind(Ee){return this.tag?Ee(this.value):qe.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:qe.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee!=null?Ee:"Called getOrDie on None")}static from(Ee){return S(Ee)?qe.some(Ee):qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qe.singletonNone=new qe(!1);const U=(ie,Ee)=>{for(let ot=0,Xe=ie.length;ot<Xe;ot++){const zt=ie[ot];if(Ee(zt,ot))return!0}return!1},Fe=(ie,Ee)=>{const ot=ie.length,Xe=new Array(ot);for(let zt=0;zt<ot;zt++){const qt=ie[zt];Xe[zt]=Ee(qt,zt)}return Xe},De=(ie,Ee,ot)=>{for(let Xe=0,zt=ie.length;Xe<zt;Xe++){const qt=ie[Xe];if(Ee(qt,Xe))return qe.some(qt);if(ot(qt,Xe))break}return qe.none()},Se=(ie,Ee)=>De(ie,Ee,F),re=Object.hasOwnProperty,le=(ie,Ee)=>fe(ie,Ee)?qe.from(ie[Ee]):qe.none(),fe=(ie,Ee)=>re.call(ie,Ee),ue={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Be=ie=>ie.replace(/["'<>&]/g,Ee=>le(ue,Ee).getOr(Ee)),Ce=(ie,Ee,ot)=>U(ot.split(/\s+/),Xe=>ie.hasClass(Ee,Xe)),me=(ie,Ee)=>()=>{const ot=oe(ie);x(ot)?ot(Ee):d(ot)?fetch(ot).then(Xe=>{Xe.ok&&Xe.json().then(Ee)}):Ee(ot)},q=(ie,Ee)=>($.each(Ee,(ot,Xe)=>{x(ot)&&(ot=ot(Xe)),ie=ie.replace(new RegExp("\\{\\$"+N(Xe)+"\\}","g"),ot)}),ie),Ze=(ie,Ee)=>{const ot=ie.dom,Xe=j(ie);$.each(ot.select("*",Ee),zt=>{$.each(Xe,(qt,bn)=>{ot.hasClass(zt,bn)&&x(qt)&&qt(zt)})})},We=(ie,Ee,ot)=>{const Xe=ie.dom,zt=ie.selection.getContent();ot=q(ot,j(ie));let qt=Xe.create("div",{},ot);const bn=Xe.select(".mceTmpl",qt);bn&&bn.length>0&&(qt=Xe.create("div"),qt.appendChild(bn[0].cloneNode(!0))),$.each(Xe.select("*",qt),Kn=>{Ce(Xe,Kn,P(ie))&&(Kn.innerHTML=ve(ie,xe(ie))),Ce(Xe,Kn,I(ie))&&(Kn.innerHTML=ve(ie,se(ie))),Ce(Xe,Kn,z(ie))&&(Kn.innerHTML=zt)}),Ze(ie,qt),ie.execCommand("mceInsertContent",!1,qt.innerHTML),ie.addVisual()};var tt=tinymce.util.Tools.resolve("tinymce.Env");const Qe=(ie,Ee)=>{var ot;if(Ee.indexOf("<html>")===-1){let Xe="";const zt=(ot=Q(ie))!==null&&ot!==void 0?ot:"",qt=G(ie)?' crossorigin="anonymous"':"";$.each(ie.contentCSS,Tt=>{Xe+='<link type="text/css" rel="stylesheet" href="'+ie.documentBaseURI.toAbsolute(Tt)+'"'+qt+">"}),zt&&(Xe+='<style type="text/css">'+zt+"</style>");const bn=ce(ie),Kn=ie.dom.encode,zn=tt.os.isMacOS()||tt.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey",fn='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+zn+")) {e.preventDefault();}}}, false);<\/script> ",oo=ie.getBody().dir,ft=oo?' dir="'+Kn(oo)+'"':"";Ee='<!DOCTYPE html><html><head><base href="'+Kn(ie.documentBaseURI.getURI())+'">'+Xe+fn+'</head><body class="'+Kn(bn)+'"'+ft+">"+Ee+"</body></html>"}return q(Ee,K(ie))},it=(ie,Ee)=>{const ot=()=>{if(!Ee||Ee.length===0){const ft=ie.translate("No templates defined.");return ie.notificationManager.open({text:ft,type:"info"}),qe.none()}return qe.from($.map(Ee,(ft,Tt)=>{const sn=kn=>kn.url!==void 0;return{selected:Tt===0,text:ft.title,value:{url:sn(ft)?qe.from(ft.url):qe.none(),content:sn(ft)?qe.none():qe.from(ft.content),description:ft.description}}}))},Xe=ft=>Fe(ft,Tt=>({text:Tt.text,value:Tt.text})),zt=(ft,Tt)=>Se(ft,sn=>sn.text===Tt),qt=ft=>{ie.windowManager.alert("Could not load the specified template.",()=>ft.focus("template"))},bn=ft=>ft.value.url.fold(()=>Promise.resolve(ft.value.content.getOr("")),Tt=>fetch(Tt).then(sn=>sn.ok?sn.text():Promise.reject())),Kn=(ft,Tt)=>(sn,kn)=>{if(kn.name==="template"){const Pn=sn.getData().template;zt(ft,Pn).each($n=>{sn.block("Loading..."),bn($n).then(_o=>{Tt(sn,$n,_o)}).catch(()=>{Tt(sn,$n,""),sn.setEnabled("save",!1),qt(sn)})})}},zn=ft=>Tt=>{const sn=Tt.getData();zt(ft,sn.template).each(kn=>{bn(kn).then(Pn=>{ie.execCommand("mceInsertTemplate",!1,Pn),Tt.close()}).catch(()=>{Tt.setEnabled("save",!1),qt(Tt)})})},fn=ft=>{const Tt=Xe(ft),sn=($n,_o)=>({title:"Insert Template",size:"large",body:{type:"panel",items:$n},initialData:_o,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:zn(ft),onChange:Kn(ft,kn)}),kn=($n,_o,mr)=>{const Ot=Qe(ie,mr),Ct=[{type:"selectbox",name:"template",label:"Templates",items:Tt},{type:"htmlpanel",html:`<p aria-live="polite">${Be(_o.value.description)}</p>`},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1,transparent:!1}],wn={template:_o.text,preview:Ot};$n.unblock(),$n.redial(sn(Ct,wn)),$n.focus("template")},Pn=ie.windowManager.open(sn([],{template:"",preview:""}));Pn.block("Loading..."),bn(ft[0]).then($n=>{kn(Pn,ft[0],$n)}).catch(()=>{kn(Pn,ft[0],""),Pn.setEnabled("save",!1),qt(Pn)})};ot().each(fn)},He=ie=>Ee=>{it(ie,Ee)},Re=ie=>{ie.addCommand("mceInsertTemplate",k(We,ie)),ie.addCommand("mceTemplate",me(ie,He(ie)))},Ve=ie=>{ie.on("PreProcess",Ee=>{const ot=ie.dom,Xe=se(ie);$.each(ot.select("div",Ee.node),zt=>{ot.hasClass(zt,"mceTmpl")&&($.each(ot.select("*",zt),qt=>{Ce(ot,qt,I(ie))&&(qt.innerHTML=ve(ie,Xe))}),Ze(ie,zt))})})},Oe=ie=>{const Ee=()=>ie.execCommand("mceTemplate");ie.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:Ee}),ie.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:Ee})};var be=()=>{e.add("template",ie=>{O(ie),Oe(ie),Re(ie),Ve(ie)})};be()})();(function(){const e=E=>{let k=E;return{get:()=>k,set:$=>{k=$}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(E,k)=>{E.dispatch("VisualBlocks",{state:k})},l=(E,k,F)=>{E.dom.toggleClass(E.getBody(),"mce-visualblocks"),F.set(!F.get()),s(E,F.get())},c=(E,k,F)=>{E.addCommand("mceVisualBlocks",()=>{l(E,k,F)})},d=E=>k=>k.options.get(E),p=E=>{const k=E.options.register;k("visualblocks_default_state",{processor:"boolean",default:!1})},v=d("visualblocks_default_state"),b=(E,k,F)=>{E.on("PreviewFormats AfterPreviewFormats",N=>{F.get()&&E.dom.toggleClass(E.getBody(),"mce-visualblocks",N.type==="afterpreviewformats")}),E.on("init",()=>{v(E)&&l(E,k,F)})},S=(E,k)=>F=>{F.setActive(k.get());const N=$=>F.setActive($.state);return E.on("VisualBlocks",N),()=>E.off("VisualBlocks",N)},x=(E,k)=>{const F=()=>E.execCommand("mceVisualBlocks");E.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:F,onSetup:S(E,k)}),E.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:F,onSetup:S(E,k)})};var T=()=>{o.add("visualblocks",(E,k)=>{p(E);const F=e(!1);c(E,k,F),x(E,F),b(E,k,F)})};T()})();(function(){const e=Ot=>{let Ct=Ot;return{get:()=>Ct,set:pn=>{Ct=pn}}};var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=Ot=>({isEnabled:()=>Ot.get()}),l=(Ot,Ct)=>Ot.dispatch("VisualChars",{state:Ct}),c=(Ot,Ct,wn)=>{var xn;return wn(Ot,Ct.prototype)?!0:((xn=Ot.constructor)===null||xn===void 0?void 0:xn.name)===Ct.name},d=Ot=>{const Ct=typeof Ot;return Ot===null?"null":Ct==="object"&&Array.isArray(Ot)?"array":Ct==="object"&&c(Ot,String,(wn,xn)=>xn.isPrototypeOf(wn))?"string":Ct},p=Ot=>Ct=>d(Ct)===Ot,v=Ot=>Ct=>typeof Ct===Ot,b=Ot=>Ct=>Ot===Ct,S=p("string"),x=b(null),T=v("boolean"),E=Ot=>Ot==null,k=Ot=>!E(Ot),F=v("number");class N{constructor(Ct,wn){this.tag=Ct,this.value=wn}static some(Ct){return new N(!0,Ct)}static none(){return N.singletonNone}fold(Ct,wn){return this.tag?wn(this.value):Ct()}isSome(){return this.tag}isNone(){return!this.tag}map(Ct){return this.tag?N.some(Ct(this.value)):N.none()}bind(Ct){return this.tag?Ct(this.value):N.none()}exists(Ct){return this.tag&&Ct(this.value)}forall(Ct){return!this.tag||Ct(this.value)}filter(Ct){return!this.tag||Ct(this.value)?this:N.none()}getOr(Ct){return this.tag?this.value:Ct}or(Ct){return this.tag?this:Ct}getOrThunk(Ct){return this.tag?this.value:Ct()}orThunk(Ct){return this.tag?this:Ct()}getOrDie(Ct){if(this.tag)return this.value;throw new Error(Ct!=null?Ct:"Called getOrDie on None")}static from(Ct){return k(Ct)?N.some(Ct):N.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ct){this.tag&&Ct(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}N.singletonNone=new N(!1);const $=(Ot,Ct)=>{const wn=Ot.length,xn=new Array(wn);for(let pn=0;pn<wn;pn++){const eo=Ot[pn];xn[pn]=Ct(eo,pn)}return xn},D=(Ot,Ct)=>{for(let wn=0,xn=Ot.length;wn<xn;wn++){const pn=Ot[wn];Ct(pn,wn)}},O=(Ot,Ct)=>{const wn=[];for(let xn=0,pn=Ot.length;xn<pn;xn++){const eo=Ot[xn];Ct(eo,xn)&&wn.push(eo)}return wn},P=Object.keys,I=(Ot,Ct)=>{const wn=P(Ot);for(let xn=0,pn=wn.length;xn<pn;xn++){const eo=wn[xn],yr=Ot[eo];Ct(yr,eo)}};typeof window<"u"||Function("return this;")();const z=3,K=Ot=>Ot.dom.nodeType,j=Ot=>Ot.dom.nodeValue,xe=(Ot=>Ct=>K(Ct)===Ot)(z),se=(Ot,Ct,wn)=>{if(S(wn)||T(wn)||F(wn))Ot.setAttribute(Ct,wn+"");else throw console.error("Invalid call to Attribute.set. Key ",Ct,":: Value ",wn,":: Element ",Ot),new Error("Attribute value was not simple")},Q=(Ot,Ct,wn)=>{se(Ot.dom,Ct,wn)},G=(Ot,Ct)=>{const wn=Ot.dom.getAttribute(Ct);return wn===null?void 0:wn},ce=(Ot,Ct)=>{Ot.dom.removeAttribute(Ct)},he=(Ot,Ct)=>{const wn=G(Ot,Ct);return wn===void 0||wn===""?[]:wn.split(" ")},ve=(Ot,Ct,wn)=>{const pn=he(Ot,Ct).concat([wn]);return Q(Ot,Ct,pn.join(" ")),!0},qe=(Ot,Ct,wn)=>{const xn=O(he(Ot,Ct),pn=>pn!==wn);return xn.length>0?Q(Ot,Ct,xn.join(" ")):ce(Ot,Ct),!1},U=Ot=>Ot.dom.classList!==void 0,Fe=Ot=>he(Ot,"class"),De=(Ot,Ct)=>ve(Ot,"class",Ct),Se=(Ot,Ct)=>qe(Ot,"class",Ct),re=(Ot,Ct)=>{U(Ot)?Ot.dom.classList.add(Ct):De(Ot,Ct)},le=Ot=>{(U(Ot)?Ot.dom.classList:Fe(Ot)).length===0&&ce(Ot,"class")},fe=(Ot,Ct)=>{U(Ot)?Ot.dom.classList.remove(Ct):Se(Ot,Ct),le(Ot)},ue=(Ot,Ct)=>{const xn=(Ct||document).createElement("div");if(xn.innerHTML=Ot,!xn.hasChildNodes()||xn.childNodes.length>1){const pn="HTML does not have a single root node";throw console.error(pn,Ot),new Error(pn)}return me(xn.childNodes[0])},Be=(Ot,Ct)=>{const xn=(Ct||document).createElement(Ot);return me(xn)},Ce=(Ot,Ct)=>{const xn=(Ct||document).createTextNode(Ot);return me(xn)},me=Ot=>{if(Ot==null)throw new Error("Node cannot be null or undefined");return{dom:Ot}},Ze={fromHtml:ue,fromTag:Be,fromText:Ce,fromDom:me,fromPoint:(Ot,Ct,wn)=>N.from(Ot.dom.elementFromPoint(Ct,wn)).map(me)},We={"\xA0":"nbsp","\xAD":"shy"},tt=(Ot,Ct)=>{let wn="";return I(Ot,(xn,pn)=>{wn+=pn}),new RegExp("["+wn+"]",Ct?"g":"")},Qe=Ot=>{let Ct="";return I(Ot,wn=>{Ct&&(Ct+=","),Ct+="span.mce-"+wn}),Ct},it=tt(We),He=tt(We,!0),Re=Qe(We),Ve="mce-nbsp",Oe=Ot=>'<span data-mce-bogus="1" class="mce-'+We[Ot]+'">'+Ot+"</span>",be=Ot=>{const Ct=j(Ot);return xe(Ot)&&S(Ct)&&it.test(Ct)},ie=(Ot,Ct)=>{let wn=[];const xn=Ot.dom,pn=$(xn.childNodes,Ze.fromDom);return D(pn,eo=>{Ct(eo)&&(wn=wn.concat([eo])),wn=wn.concat(ie(eo,Ct))}),wn},Ee=(Ot,Ct)=>{for(;Ot.parentNode;){if(Ot.parentNode===Ct)return Ct;Ot=Ot.parentNode}},ot=Ot=>Ot.replace(He,Oe),Xe=Ot=>Ot.nodeName.toLowerCase()==="span"&&Ot.classList.contains("mce-nbsp-wrap"),zt=(Ot,Ct)=>{const wn=Ot.dom,xn=ie(Ze.fromDom(Ct),be);D(xn,pn=>{var eo;const yr=pn.dom.parentNode;if(Xe(yr))re(Ze.fromDom(yr),Ve);else{const Ts=ot(wn.encode((eo=j(pn))!==null&&eo!==void 0?eo:"")),ci=wn.create("div",{},Ts);let pr;for(;pr=ci.lastChild;)wn.insertAfter(pr,pn.dom);Ot.dom.remove(pn.dom)}})},qt=(Ot,Ct)=>{const wn=Ot.dom.select(Re,Ct);D(wn,xn=>{Xe(xn)?fe(Ze.fromDom(xn),Ve):Ot.dom.remove(xn,!0)})},bn=Ot=>{const Ct=Ot.getBody(),wn=Ot.selection.getBookmark();let xn=Ee(Ot.selection.getNode(),Ct);xn=xn!==void 0?xn:Ct,qt(Ot,xn),zt(Ot,xn),Ot.selection.moveToBookmark(wn)},Kn=(Ot,Ct)=>{l(Ot,Ct.get());const wn=Ot.getBody();Ct.get()===!0?zt(Ot,wn):qt(Ot,wn)},zn=(Ot,Ct)=>{Ct.set(!Ct.get());const wn=Ot.selection.getBookmark();Kn(Ot,Ct),Ot.selection.moveToBookmark(wn)},fn=(Ot,Ct)=>{Ot.addCommand("mceVisualChars",()=>{zn(Ot,Ct)})},oo=Ot=>Ct=>Ct.options.get(Ot),ft=Ot=>{const Ct=Ot.options.register;Ct("visualchars_default_state",{processor:"boolean",default:!1})},Tt=oo("visualchars_default_state"),sn=(Ot,Ct)=>{Ot.on("init",()=>{Kn(Ot,Ct)})},kn=(Ot,Ct)=>{let wn=null;return{cancel:()=>{x(wn)||(clearTimeout(wn),wn=null)},throttle:(...eo)=>{x(wn)&&(wn=setTimeout(()=>{wn=null,Ot.apply(null,eo)},Ct))}}},Pn=(Ot,Ct)=>{const wn=kn(()=>{bn(Ot)},300);Ot.on("keydown",xn=>{Ct.get()===!0&&(xn.keyCode===13?bn(Ot):wn.throttle())}),Ot.on("remove",wn.cancel)},$n=(Ot,Ct)=>wn=>{wn.setActive(Ct.get());const xn=pn=>wn.setActive(pn.state);return Ot.on("VisualChars",xn),()=>Ot.off("VisualChars",xn)},_o=(Ot,Ct)=>{const wn=()=>Ot.execCommand("mceVisualChars");Ot.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:wn,onSetup:$n(Ot,Ct)}),Ot.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:wn,onSetup:$n(Ot,Ct)})};var mr=()=>{o.add("visualchars",Ot=>{ft(Ot);const Ct=e(Tt(Ot));return fn(Ot,Ct),_o(Ot,Ct),Pn(Ot,Ct),sn(Ot,Ct),s(Ct)})};mr()})();(function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const s=(He=>Re=>He===Re)(null),l=He=>He,c="\uFEFF",d=He=>He.replace(/\uFEFF/g,""),p=(He,Re)=>{const Ve=He.length,Oe=new Array(Ve);for(let be=0;be<Ve;be++){const ie=He[be];Oe[be]=Re(ie,be)}return Oe},b={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]"},S={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},x=[new RegExp(b.aletter),new RegExp(b.midnumlet),new RegExp(b.midletter),new RegExp(b.midnum),new RegExp(b.numeric),new RegExp(b.cr),new RegExp(b.lf),new RegExp(b.newline),new RegExp(b.extend),new RegExp(b.format),new RegExp(b.katakana),new RegExp(b.extendnumlet),new RegExp("@")],T="",E=new RegExp("^"+b.punctuation+"$"),k=/^\s+$/,F=x,N=S.OTHER,$=He=>{let Re=N;const Ve=F.length;for(let Oe=0;Oe<Ve;++Oe){const be=F[Oe];if(be&&be.test(He)){Re=Oe;break}}return Re},D=He=>{const Re={};return Ve=>{if(Re[Ve])return Re[Ve];{const Oe=He(Ve);return Re[Ve]=Oe,Oe}}},O=He=>{const Re=D($);return p(He,Re)},P=(He,Re)=>{const Ve=He[Re],Oe=He[Re+1];if(Re<0||Re>He.length-1&&Re!==0||Ve===S.ALETTER&&Oe===S.ALETTER)return!1;const be=He[Re+2];if(Ve===S.ALETTER&&(Oe===S.MIDLETTER||Oe===S.MIDNUMLET||Oe===S.AT)&&be===S.ALETTER)return!1;const ie=He[Re-1];return(Ve===S.MIDLETTER||Ve===S.MIDNUMLET||Oe===S.AT)&&Oe===S.ALETTER&&ie===S.ALETTER||(Ve===S.NUMERIC||Ve===S.ALETTER)&&(Oe===S.NUMERIC||Oe===S.ALETTER)||(Ve===S.MIDNUM||Ve===S.MIDNUMLET)&&Oe===S.NUMERIC&&ie===S.NUMERIC||Ve===S.NUMERIC&&(Oe===S.MIDNUM||Oe===S.MIDNUMLET)&&be===S.NUMERIC||Ve===S.EXTEND||Ve===S.FORMAT||ie===S.EXTEND||ie===S.FORMAT||Oe===S.EXTEND||Oe===S.FORMAT||Ve===S.CR&&Oe===S.LF?!1:Ve===S.NEWLINE||Ve===S.CR||Ve===S.LF||Oe===S.NEWLINE||Oe===S.CR||Oe===S.LF?!0:!(Ve===S.KATAKANA&&Oe===S.KATAKANA||Oe===S.EXTENDNUMLET&&(Ve===S.ALETTER||Ve===S.NUMERIC||Ve===S.KATAKANA||Ve===S.EXTENDNUMLET)||Ve===S.EXTENDNUMLET&&(Oe===S.ALETTER||Oe===S.NUMERIC||Oe===S.KATAKANA)||Ve===S.AT)},I=T,z=k,K=E,j=He=>He==="http"||He==="https",oe=(He,Re)=>{let Ve;for(Ve=Re;Ve<He.length&&!z.test(He[Ve]);Ve++);return Ve},xe=(He,Re)=>{const Ve=oe(He,Re+1);return He.slice(Re+1,Ve).join(I).substr(0,3)==="://"?Ve:Re},se=(He,Re,Ve,Oe)=>{const be=[];let ie=[];for(let Ee=0;Ee<Ve.length;++Ee)if(ie.push(He[Ee]),P(Ve,Ee)){const ot=Re[Ee];if((Oe.includeWhitespace||!z.test(ot))&&(Oe.includePunctuation||!K.test(ot))){const Xe=Ee-ie.length+1,zt=Ee+1,qt=Re.slice(Xe,zt).join(I);if(j(qt)){const bn=xe(Re,Ee),Kn=He.slice(zt,bn);Array.prototype.push.apply(ie,Kn),Ee=bn}be.push(ie)}ie=[]}return be},Q=()=>({includeWhitespace:!1,includePunctuation:!1}),ce=(He,Re,Ve)=>{Ve={...Q(),...Ve};const Oe=[],be=[];for(let Ee=0;Ee<He.length;Ee++){const ot=Re(He[Ee]);ot!==c&&(Oe.push(He[Ee]),be.push(ot))}const ie=O(be);return se(Oe,be,ie,Ve)};var he=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const ve=(He,Re)=>{const Ve=Re.getBlockElements(),Oe=Re.getVoidElements(),be=zt=>Ve[zt.nodeName]||Oe[zt.nodeName],ie=[];let Ee="";const ot=new he(He,He);let Xe;for(;Xe=ot.next();)Xe.nodeType===3?Ee+=d(Xe.data):be(Xe)&&Ee.length&&(ie.push(Ee),Ee="");return Ee.length&&ie.push(Ee),ie},qe=He=>He.replace(/\u200B/g,""),U=He=>He.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,Fe=(He,Re)=>{const Ve=qe(ve(He,Re).join(`
`));return ce(Ve.split(""),l).length},De=(He,Re)=>{const Ve=ve(He,Re).join("");return U(Ve)},Se=(He,Re)=>{const Ve=ve(He,Re).join("").replace(/\s/g,"");return U(Ve)},re=(He,Re)=>()=>Re(He.getBody(),He.schema),le=(He,Re)=>()=>Re(He.selection.getRng().cloneContents(),He.schema),fe=He=>re(He,Fe),ue=He=>({body:{getWordCount:fe(He),getCharacterCount:re(He,De),getCharacterCountWithoutSpaces:re(He,Se)},selection:{getWordCount:le(He,Fe),getCharacterCount:le(He,De),getCharacterCountWithoutSpaces:le(He,Se)},getCount:fe(He)}),Be=(He,Re)=>{He.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Re.body.getWordCount()),String(Re.selection.getWordCount())],["Characters (no spaces)",String(Re.body.getCharacterCountWithoutSpaces()),String(Re.selection.getCharacterCountWithoutSpaces())],["Characters",String(Re.body.getCharacterCount()),String(Re.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ce=(He,Re)=>{He.addCommand("mceWordCount",()=>Be(He,Re))},me=(He,Re)=>{let Ve=null;return{cancel:()=>{s(Ve)||(clearTimeout(Ve),Ve=null)},throttle:(...ie)=>{s(Ve)&&(Ve=setTimeout(()=>{Ve=null,He.apply(null,ie)},Re))}}};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ze=(He,Re)=>{He.dispatch("wordCountUpdate",{wordCount:{words:Re.body.getWordCount(),characters:Re.body.getCharacterCount(),charactersWithoutSpaces:Re.body.getCharacterCountWithoutSpaces()}})},We=(He,Re)=>{Ze(He,Re)},tt=(He,Re,Ve)=>{const Oe=me(()=>We(He,Re),Ve);He.on("init",()=>{We(He,Re),q.setEditorTimeout(He,()=>{He.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Oe.throttle)},0),He.on("remove",Oe.cancel)})},Qe=He=>{const Re=()=>He.execCommand("mceWordCount");He.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Re}),He.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Re})};var it=(He=300)=>{e.add("wordcount",Re=>{const Ve=ue(Re);return Ce(Re,Ve),Qe(Re),tt(Re,Ve,He),Ve})};it()})();const Itt=z4({__name:"index",props:{modelValue:{default:""},height:{default:600},id:{default:"myTinymce"}},emits:["update:modelValue"],setup(e,{emit:o}){const s=e,l=VTe({get(){return s.modelValue},set(d){o("update:modelValue",d)}}),c={language:"zh-Hans",language_url:"/tinymce/langs/zh-Hans.js",skin_url:"/tinymce/skins/ui/oxide",content_css:"/tinymce/skins/content/default/content.css",content_style:"body{font-size:14px;font-family:Microsoft YaHei,\u5FAE\u8F6F\u96C5\u9ED1,\u5B8B\u4F53,Arial,Helvetica,sans-serif;line-height:1.5}img {max-width:100%;}",height:s.height,menubar:!1,toolbar_mode:"wrap",toolbar:"forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright alignjustify outdent indent  lineheight | styleselect formatselect fontselect fontsizeselect | bullist numlist | blockquote subscript superscript removeformat | table image media | indent2em formatpainter axupimgs| fullscreen code",plugins:"code codesample preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media template table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount autosave ",line_height_formats:"1 1.2 1.4 1.6 2",font_size_formats:"12px 14px 16px 18px 20px 22px 24px 28px 32px 36px 48px 56px 72px",font_family_formats:"\u5FAE\u8F6F\u96C5\u9ED1=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;\u82F9\u679C\u82F9\u65B9=PingFang SC,Microsoft YaHei,sans-serif;\u5B8B\u4F53=simsun,serif;\u4EFF\u5B8B\u4F53=FangSong,serif;\u9ED1\u4F53=SimHei,sans-serif;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;",images_file_types:"jpeg,jpg,png,gif,bmp",placeholder:"\u5728\u8FD9\u91CC\u8F93\u5165\u6587\u5B57",branding:!1,statusbar:!1,elementpath:!1,custom_undo_redo_levels:10,draggable_modal:!0,images_upload_handler:(d,p)=>new Promise((v,b)=>{const S=new XMLHttpRequest;S.withCredentials=!1,S.open("POST","postAcceptor.php"),S.upload.onprogress=T=>{p(T.loaded/T.total*100)},S.onload=()=>{if(S.status===403){b(new Error);return}if(S.status<200||S.status>=300){b(new Error(`HTTP Error: ${S.status}`));return}const T=JSON.parse(S.responseText);if(!T||typeof T.location!="string"){b(new Error(`Invalid JSON: ${S.responseText}`));return}v(T.location)},S.onerror=()=>{b(new Error(`Image upload failed due to a XHR Transport error. Code: ${S.status}`))};const x=new FormData;x.append("file",d.blob(),d.filename()),S.send(x)}),file_picker_callback:(d,p,v)=>{let b=".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4",S="/demo/upfile.php";switch(v.filetype){case"image":b=".jpg, .jpeg, .png, .gif",S="upimg.php";break;case"media":b=".mp3, .mp4",S="upfile.php";break}const x=document.createElement("input");x.setAttribute("type","file"),x.setAttribute("accept",b),x.click(),x.onchange=function(){if(x.files&&x.files[0]){const T=x.files[0];console.log(T.name);const E=new XMLHttpRequest;E.withCredentials=!1,E.open("POST",S),E.onload=function(){if(E.status!==200){d(`HTTP Error: ${E.status}`);return}const k=JSON.parse(E.responseText);if(!k||typeof k.location!="string"){d(`Invalid JSON: ${E.responseText}`);return}d(k.location)}}}}};return(d,p)=>(iy(),J5("div",null,[tp(FN(Rtt),{init:c,id:"myTinymce",modelValue:FN(l),"onUpdate:modelValue":p[0]||(p[0]=v=>UTe(l)?l.value=v:null)},null,8,["modelValue"])]))}});const Ltt=BCe(Itt,[["__scopeId","data-v-ce2e6e41"]]);var dTe={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,o){(function(l,c){e.exports=c()})(typeof self<"u"?self:qTe,function(){return function(s){var l={};function c(d){if(l[d])return l[d].exports;var p=l[d]={i:d,l:!1,exports:{}};return s[d].call(p.exports,p,p.exports,c),p.l=!0,p.exports}return c.m=s,c.c=l,c.d=function(d,p,v){c.o(d,p)||Object.defineProperty(d,p,{configurable:!1,enumerable:!0,get:v})},c.n=function(d){var p=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(p,"a",p),p},c.o=function(d,p){return Object.prototype.hasOwnProperty.call(d,p)},c.p="",c(c.s=109)}([function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(17),p=c(18),v=c(19),b=c(45),S=c(46),x=c(47),T=c(48),E=c(49),k=c(12),F=c(32),N=c(33),$=c(31),D=c(1),O={Scope:D.Scope,create:D.create,find:D.find,query:D.query,register:D.register,Container:d.default,Format:p.default,Leaf:v.default,Embed:T.default,Scroll:b.default,Block:x.default,Inline:S.default,Text:E.default,Attributor:{Attribute:k.default,Class:F.default,Style:N.default,Store:$.default}};l.default=O},function(s,l,c){var d=this&&this.__extends||function(){var $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var P in O)O.hasOwnProperty(P)&&(D[P]=O[P])};return function(D,O){$(D,O);function P(){this.constructor=D}D.prototype=O===null?Object.create(O):(P.prototype=O.prototype,new P)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=function($){d(D,$);function D(O){var P=this;return O="[Parchment] "+O,P=$.call(this,O)||this,P.message=O,P.name=P.constructor.name,P}return D}(Error);l.ParchmentError=p;var v={},b={},S={},x={};l.DATA_KEY="__blot";var T;(function($){$[$.TYPE=3]="TYPE",$[$.LEVEL=12]="LEVEL",$[$.ATTRIBUTE=13]="ATTRIBUTE",$[$.BLOT=14]="BLOT",$[$.INLINE=7]="INLINE",$[$.BLOCK=11]="BLOCK",$[$.BLOCK_BLOT=10]="BLOCK_BLOT",$[$.INLINE_BLOT=6]="INLINE_BLOT",$[$.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",$[$.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",$[$.ANY=15]="ANY"})(T=l.Scope||(l.Scope={}));function E($,D){var O=F($);if(O==null)throw new p("Unable to create "+$+" blot");var P=O,I=$ instanceof Node||$.nodeType===Node.TEXT_NODE?$:P.create(D);return new P(I,D)}l.create=E;function k($,D){return D===void 0&&(D=!1),$==null?null:$[l.DATA_KEY]!=null?$[l.DATA_KEY].blot:D?k($.parentNode,D):null}l.find=k;function F($,D){D===void 0&&(D=T.ANY);var O;if(typeof $=="string")O=x[$]||v[$];else if($ instanceof Text||$.nodeType===Node.TEXT_NODE)O=x.text;else if(typeof $=="number")$&T.LEVEL&T.BLOCK?O=x.block:$&T.LEVEL&T.INLINE&&(O=x.inline);else if($ instanceof HTMLElement){var P=($.getAttribute("class")||"").split(/\s+/);for(var I in P)if(O=b[P[I]],O)break;O=O||S[$.tagName]}return O==null?null:D&T.LEVEL&O.scope&&D&T.TYPE&O.scope?O:null}l.query=F;function N(){for(var $=[],D=0;D<arguments.length;D++)$[D]=arguments[D];if($.length>1)return $.map(function(I){return N(I)});var O=$[0];if(typeof O.blotName!="string"&&typeof O.attrName!="string")throw new p("Invalid definition");if(O.blotName==="abstract")throw new p("Cannot register abstract class");if(x[O.blotName||O.attrName]=O,typeof O.keyName=="string")v[O.keyName]=O;else if(O.className!=null&&(b[O.className]=O),O.tagName!=null){Array.isArray(O.tagName)?O.tagName=O.tagName.map(function(I){return I.toUpperCase()}):O.tagName=O.tagName.toUpperCase();var P=Array.isArray(O.tagName)?O.tagName:[O.tagName];P.forEach(function(I){(S[I]==null||O.className==null)&&(S[I]=O)})}return O}l.register=N},function(s,l,c){var d=c(51),p=c(11),v=c(3),b=c(20),S=String.fromCharCode(0),x=function(T){Array.isArray(T)?this.ops=T:T!=null&&Array.isArray(T.ops)?this.ops=T.ops:this.ops=[]};x.prototype.insert=function(T,E){var k={};return T.length===0?this:(k.insert=T,E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(k.attributes=E),this.push(k))},x.prototype.delete=function(T){return T<=0?this:this.push({delete:T})},x.prototype.retain=function(T,E){if(T<=0)return this;var k={retain:T};return E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(k.attributes=E),this.push(k)},x.prototype.push=function(T){var E=this.ops.length,k=this.ops[E-1];if(T=v(!0,{},T),typeof k=="object"){if(typeof T.delete=="number"&&typeof k.delete=="number")return this.ops[E-1]={delete:k.delete+T.delete},this;if(typeof k.delete=="number"&&T.insert!=null&&(E-=1,k=this.ops[E-1],typeof k!="object"))return this.ops.unshift(T),this;if(p(T.attributes,k.attributes)){if(typeof T.insert=="string"&&typeof k.insert=="string")return this.ops[E-1]={insert:k.insert+T.insert},typeof T.attributes=="object"&&(this.ops[E-1].attributes=T.attributes),this;if(typeof T.retain=="number"&&typeof k.retain=="number")return this.ops[E-1]={retain:k.retain+T.retain},typeof T.attributes=="object"&&(this.ops[E-1].attributes=T.attributes),this}}return E===this.ops.length?this.ops.push(T):this.ops.splice(E,0,T),this},x.prototype.chop=function(){var T=this.ops[this.ops.length-1];return T&&T.retain&&!T.attributes&&this.ops.pop(),this},x.prototype.filter=function(T){return this.ops.filter(T)},x.prototype.forEach=function(T){this.ops.forEach(T)},x.prototype.map=function(T){return this.ops.map(T)},x.prototype.partition=function(T){var E=[],k=[];return this.forEach(function(F){var N=T(F)?E:k;N.push(F)}),[E,k]},x.prototype.reduce=function(T,E){return this.ops.reduce(T,E)},x.prototype.changeLength=function(){return this.reduce(function(T,E){return E.insert?T+b.length(E):E.delete?T-E.delete:T},0)},x.prototype.length=function(){return this.reduce(function(T,E){return T+b.length(E)},0)},x.prototype.slice=function(T,E){T=T||0,typeof E!="number"&&(E=1/0);for(var k=[],F=b.iterator(this.ops),N=0;N<E&&F.hasNext();){var $;N<T?$=F.next(T-N):($=F.next(E-N),k.push($)),N+=b.length($)}return new x(k)},x.prototype.compose=function(T){var E=b.iterator(this.ops),k=b.iterator(T.ops),F=[],N=k.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){for(var $=N.retain;E.peekType()==="insert"&&E.peekLength()<=$;)$-=E.peekLength(),F.push(E.next());N.retain-$>0&&k.next(N.retain-$)}for(var D=new x(F);E.hasNext()||k.hasNext();)if(k.peekType()==="insert")D.push(k.next());else if(E.peekType()==="delete")D.push(E.next());else{var O=Math.min(E.peekLength(),k.peekLength()),P=E.next(O),I=k.next(O);if(typeof I.retain=="number"){var z={};typeof P.retain=="number"?z.retain=O:z.insert=P.insert;var K=b.attributes.compose(P.attributes,I.attributes,typeof P.retain=="number");if(K&&(z.attributes=K),D.push(z),!k.hasNext()&&p(D.ops[D.ops.length-1],z)){var j=new x(E.rest());return D.concat(j).chop()}}else typeof I.delete=="number"&&typeof P.retain=="number"&&D.push(I)}return D.chop()},x.prototype.concat=function(T){var E=new x(this.ops.slice());return T.ops.length>0&&(E.push(T.ops[0]),E.ops=E.ops.concat(T.ops.slice(1))),E},x.prototype.diff=function(T,E){if(this.ops===T.ops)return new x;var k=[this,T].map(function(O){return O.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:S;var I=O===T?"on":"with";throw new Error("diff() called "+I+" non-document")}).join("")}),F=new x,N=d(k[0],k[1],E),$=b.iterator(this.ops),D=b.iterator(T.ops);return N.forEach(function(O){for(var P=O[1].length;P>0;){var I=0;switch(O[0]){case d.INSERT:I=Math.min(D.peekLength(),P),F.push(D.next(I));break;case d.DELETE:I=Math.min(P,$.peekLength()),$.next(I),F.delete(I);break;case d.EQUAL:I=Math.min($.peekLength(),D.peekLength(),P);var z=$.next(I),K=D.next(I);p(z.insert,K.insert)?F.retain(I,b.attributes.diff(z.attributes,K.attributes)):F.push(K).delete(I);break}P-=I}}),F.chop()},x.prototype.eachLine=function(T,E){E=E||`
`;for(var k=b.iterator(this.ops),F=new x,N=0;k.hasNext();){if(k.peekType()!=="insert")return;var $=k.peek(),D=b.length($)-k.peekLength(),O=typeof $.insert=="string"?$.insert.indexOf(E,D)-D:-1;if(O<0)F.push(k.next());else if(O>0)F.push(k.next(O));else{if(T(F,k.next(1).attributes||{},N)===!1)return;N+=1,F=new x}}F.length()>0&&T(F,{},N)},x.prototype.transform=function(T,E){if(E=!!E,typeof T=="number")return this.transformPosition(T,E);for(var k=b.iterator(this.ops),F=b.iterator(T.ops),N=new x;k.hasNext()||F.hasNext();)if(k.peekType()==="insert"&&(E||F.peekType()!=="insert"))N.retain(b.length(k.next()));else if(F.peekType()==="insert")N.push(F.next());else{var $=Math.min(k.peekLength(),F.peekLength()),D=k.next($),O=F.next($);if(D.delete)continue;O.delete?N.push(O):N.retain($,b.attributes.transform(D.attributes,O.attributes,E))}return N.chop()},x.prototype.transformPosition=function(T,E){E=!!E;for(var k=b.iterator(this.ops),F=0;k.hasNext()&&F<=T;){var N=k.peekLength(),$=k.peekType();if(k.next(),$==="delete"){T-=Math.min(N,T-F);continue}else $==="insert"&&(F<T||!E)&&(T+=N);F+=N}return T},s.exports=x},function(s,l){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,p=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=function(k){return typeof Array.isArray=="function"?Array.isArray(k):d.call(k)==="[object Array]"},S=function(k){if(!k||d.call(k)!=="[object Object]")return!1;var F=c.call(k,"constructor"),N=k.constructor&&k.constructor.prototype&&c.call(k.constructor.prototype,"isPrototypeOf");if(k.constructor&&!F&&!N)return!1;var $;for($ in k);return typeof $>"u"||c.call(k,$)},x=function(k,F){p&&F.name==="__proto__"?p(k,F.name,{enumerable:!0,configurable:!0,value:F.newValue,writable:!0}):k[F.name]=F.newValue},T=function(k,F){if(F==="__proto__")if(c.call(k,F)){if(v)return v(k,F).value}else return;return k[F]};s.exports=function E(){var k,F,N,$,D,O,P=arguments[0],I=1,z=arguments.length,K=!1;for(typeof P=="boolean"&&(K=P,P=arguments[1]||{},I=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});I<z;++I)if(k=arguments[I],k!=null)for(F in k)N=T(P,F),$=T(k,F),P!==$&&(K&&$&&(S($)||(D=b($)))?(D?(D=!1,O=N&&b(N)?N:[]):O=N&&S(N)?N:{},x(P,{name:F,newValue:E(K,O,$)})):typeof $<"u"&&x(P,{name:F,newValue:$}));return P}},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.BlockEmbed=l.bubbleFormats=void 0;var d=function(){function Q(G,ce){for(var he=0;he<ce.length;he++){var ve=ce[he];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(G,ve.key,ve)}}return function(G,ce,he){return ce&&Q(G.prototype,ce),he&&Q(G,he),G}}(),p=function Q(G,ce,he){G===null&&(G=Function.prototype);var ve=Object.getOwnPropertyDescriptor(G,ce);if(ve===void 0){var qe=Object.getPrototypeOf(G);return qe===null?void 0:Q(qe,ce,he)}else{if("value"in ve)return ve.value;var U=ve.get;return U===void 0?void 0:U.call(he)}},v=c(3),b=P(v),S=c(2),x=P(S),T=c(0),E=P(T),k=c(16),F=P(k),N=c(6),$=P(N),D=c(7),O=P(D);function P(Q){return Q&&Q.__esModule?Q:{default:Q}}function I(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function z(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function K(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var j=1,oe=function(Q){K(G,Q);function G(){return I(this,G),z(this,(G.__proto__||Object.getPrototypeOf(G)).apply(this,arguments))}return d(G,[{key:"attach",value:function(){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"attach",this).call(this),this.attributes=new E.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new x.default().insert(this.value(),(0,b.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(he,ve){var qe=E.default.query(he,E.default.Scope.BLOCK_ATTRIBUTE);qe!=null&&this.attributes.attribute(qe,ve)}},{key:"formatAt",value:function(he,ve,qe,U){this.format(qe,U)}},{key:"insertAt",value:function(he,ve,qe){if(typeof ve=="string"&&ve.endsWith(`
`)){var U=E.default.create(xe.blotName);this.parent.insertBefore(U,he===0?this:this.next),U.insertAt(0,ve.slice(0,-1))}else p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertAt",this).call(this,he,ve,qe)}}]),G}(E.default.Embed);oe.scope=E.default.Scope.BLOCK_BLOT;var xe=function(Q){K(G,Q);function G(ce){I(this,G);var he=z(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ce));return he.cache={},he}return d(G,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(E.default.Leaf).reduce(function(he,ve){return ve.length()===0?he:he.insert(ve.value(),se(ve))},new x.default).insert(`
`,se(this))),this.cache.delta}},{key:"deleteAt",value:function(he,ve){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"deleteAt",this).call(this,he,ve),this.cache={}}},{key:"formatAt",value:function(he,ve,qe,U){ve<=0||(E.default.query(qe,E.default.Scope.BLOCK)?he+ve===this.length()&&this.format(qe,U):p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"formatAt",this).call(this,he,Math.min(ve,this.length()-he-1),qe,U),this.cache={})}},{key:"insertAt",value:function(he,ve,qe){if(qe!=null)return p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertAt",this).call(this,he,ve,qe);if(ve.length!==0){var U=ve.split(`
`),Fe=U.shift();Fe.length>0&&(he<this.length()-1||this.children.tail==null?p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertAt",this).call(this,Math.min(he,this.length()-1),Fe):this.children.tail.insertAt(this.children.tail.length(),Fe),this.cache={});var De=this;U.reduce(function(Se,re){return De=De.split(Se,!0),De.insertAt(0,re),re.length},he+Fe.length)}}},{key:"insertBefore",value:function(he,ve){var qe=this.children.head;p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"insertBefore",this).call(this,he,ve),qe instanceof F.default&&qe.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(he,ve){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"moveChildren",this).call(this,he,ve),this.cache={}}},{key:"optimize",value:function(he){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"optimize",this).call(this,he),this.cache={}}},{key:"path",value:function(he){return p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"path",this).call(this,he,!0)}},{key:"removeChild",value:function(he){p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"removeChild",this).call(this,he),this.cache={}}},{key:"split",value:function(he){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(ve&&(he===0||he>=this.length()-j)){var qe=this.clone();return he===0?(this.parent.insertBefore(qe,this),this):(this.parent.insertBefore(qe,this.next),qe)}else{var U=p(G.prototype.__proto__||Object.getPrototypeOf(G.prototype),"split",this).call(this,he,ve);return this.cache={},U}}}]),G}(E.default.Block);xe.blotName="block",xe.tagName="P",xe.defaultChild="break",xe.allowedChildren=[$.default,E.default.Embed,O.default];function se(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Q==null||(typeof Q.formats=="function"&&(G=(0,b.default)(G,Q.formats())),Q.parent==null||Q.parent.blotName=="scroll"||Q.parent.statics.scope!==Q.statics.scope)?G:se(Q.parent,G)}l.bubbleFormats=se,l.BlockEmbed=oe,l.default=xe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.overload=l.expandConfig=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},p=function(){function De(Se,re){var le=[],fe=!0,ue=!1,Be=void 0;try{for(var Ce=Se[Symbol.iterator](),me;!(fe=(me=Ce.next()).done)&&(le.push(me.value),!(re&&le.length===re));fe=!0);}catch(q){ue=!0,Be=q}finally{try{!fe&&Ce.return&&Ce.return()}finally{if(ue)throw Be}}return le}return function(Se,re){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return De(Se,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function De(Se,re){for(var le=0;le<re.length;le++){var fe=re[le];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Se,fe.key,fe)}}return function(Se,re,le){return re&&De(Se.prototype,re),le&&De(Se,le),Se}}();c(50);var b=c(2),S=se(b),x=c(14),T=se(x),E=c(8),k=se(E),F=c(9),N=se(F),$=c(0),D=se($),O=c(15),P=se(O),I=c(3),z=se(I),K=c(10),j=se(K),oe=c(34),xe=se(oe);function se(De){return De&&De.__esModule?De:{default:De}}function Q(De,Se,re){return Se in De?Object.defineProperty(De,Se,{value:re,enumerable:!0,configurable:!0,writable:!0}):De[Se]=re,De}function G(De,Se){if(!(De instanceof Se))throw new TypeError("Cannot call a class as a function")}var ce=(0,j.default)("quill"),he=function(){v(De,null,[{key:"debug",value:function(re){re===!0&&(re="log"),j.default.level(re)}},{key:"find",value:function(re){return re.__quill||D.default.find(re)}},{key:"import",value:function(re){return this.imports[re]==null&&ce.error("Cannot import "+re+". Are you sure it was registered?"),this.imports[re]}},{key:"register",value:function(re,le){var fe=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof re!="string"){var Be=re.attrName||re.blotName;typeof Be=="string"?this.register("formats/"+Be,re,le):Object.keys(re).forEach(function(Ce){fe.register(Ce,re[Ce],le)})}else this.imports[re]!=null&&!ue&&ce.warn("Overwriting "+re+" with",le),this.imports[re]=le,(re.startsWith("blots/")||re.startsWith("formats/"))&&le.blotName!=="abstract"?D.default.register(le):re.startsWith("modules")&&typeof le.register=="function"&&le.register()}}]);function De(Se){var re=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(G(this,De),this.options=ve(Se,le),this.container=this.options.container,this.container==null)return ce.error("Invalid Quill container",Se);this.options.debug&&De.debug(this.options.debug);var fe=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new k.default,this.scroll=D.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new T.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(k.default.events.EDITOR_CHANGE,function(Be){Be===k.default.events.TEXT_CHANGE&&re.root.classList.toggle("ql-blank",re.editor.isBlank())}),this.emitter.on(k.default.events.SCROLL_UPDATE,function(Be,Ce){var me=re.selection.lastRange,q=me&&me.length===0?me.index:void 0;qe.call(re,function(){return re.editor.update(null,Ce,q)},Be)});var ue=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+fe+"<p><br></p></div>");this.setContents(ue),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return v(De,[{key:"addContainer",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof re=="string"){var fe=re;re=document.createElement("div"),re.classList.add(fe)}return this.container.insertBefore(re,le),re}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(re,le,fe){var ue=this,Be=U(re,le,fe),Ce=p(Be,4);return re=Ce[0],le=Ce[1],fe=Ce[3],qe.call(this,function(){return ue.editor.deleteText(re,le)},fe,re,-1*le)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(re),this.container.classList.toggle("ql-disabled",!re)}},{key:"focus",value:function(){var re=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=re,this.scrollIntoView()}},{key:"format",value:function(re,le){var fe=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.default.sources.API;return qe.call(this,function(){var Be=fe.getSelection(!0),Ce=new S.default;if(Be==null)return Ce;if(D.default.query(re,D.default.Scope.BLOCK))Ce=fe.editor.formatLine(Be.index,Be.length,Q({},re,le));else{if(Be.length===0)return fe.selection.format(re,le),Ce;Ce=fe.editor.formatText(Be.index,Be.length,Q({},re,le))}return fe.setSelection(Be,k.default.sources.SILENT),Ce},ue)}},{key:"formatLine",value:function(re,le,fe,ue,Be){var Ce=this,me=void 0,q=U(re,le,fe,ue,Be),Ze=p(q,4);return re=Ze[0],le=Ze[1],me=Ze[2],Be=Ze[3],qe.call(this,function(){return Ce.editor.formatLine(re,le,me)},Be,re,0)}},{key:"formatText",value:function(re,le,fe,ue,Be){var Ce=this,me=void 0,q=U(re,le,fe,ue,Be),Ze=p(q,4);return re=Ze[0],le=Ze[1],me=Ze[2],Be=Ze[3],qe.call(this,function(){return Ce.editor.formatText(re,le,me)},Be,re,0)}},{key:"getBounds",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,fe=void 0;typeof re=="number"?fe=this.selection.getBounds(re,le):fe=this.selection.getBounds(re.index,re.length);var ue=this.container.getBoundingClientRect();return{bottom:fe.bottom-ue.top,height:fe.height,left:fe.left-ue.left,right:fe.right-ue.left,top:fe.top-ue.top,width:fe.width}}},{key:"getContents",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-re,fe=U(re,le),ue=p(fe,2);return re=ue[0],le=ue[1],this.editor.getContents(re,le)}},{key:"getFormat",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof re=="number"?this.editor.getFormat(re,le):this.editor.getFormat(re.index,re.length)}},{key:"getIndex",value:function(re){return re.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(re){return this.scroll.leaf(re)}},{key:"getLine",value:function(re){return this.scroll.line(re)}},{key:"getLines",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof re!="number"?this.scroll.lines(re.index,re.length):this.scroll.lines(re,le)}},{key:"getModule",value:function(re){return this.theme.modules[re]}},{key:"getSelection",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return re&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-re,fe=U(re,le),ue=p(fe,2);return re=ue[0],le=ue[1],this.editor.getText(re,le)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(re,le,fe){var ue=this,Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:De.sources.API;return qe.call(this,function(){return ue.editor.insertEmbed(re,le,fe)},Be,re)}},{key:"insertText",value:function(re,le,fe,ue,Be){var Ce=this,me=void 0,q=U(re,0,fe,ue,Be),Ze=p(q,4);return re=Ze[0],me=Ze[2],Be=Ze[3],qe.call(this,function(){return Ce.editor.insertText(re,le,me)},Be,re,le.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(re,le,fe){this.clipboard.dangerouslyPasteHTML(re,le,fe)}},{key:"removeFormat",value:function(re,le,fe){var ue=this,Be=U(re,le,fe),Ce=p(Be,4);return re=Ce[0],le=Ce[1],fe=Ce[3],qe.call(this,function(){return ue.editor.removeFormat(re,le)},fe,re)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(re){var le=this,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.default.sources.API;return qe.call(this,function(){re=new S.default(re);var ue=le.getLength(),Be=le.editor.deleteText(0,ue),Ce=le.editor.applyDelta(re),me=Ce.ops[Ce.ops.length-1];me!=null&&typeof me.insert=="string"&&me.insert[me.insert.length-1]===`
`&&(le.editor.deleteText(le.getLength()-1,1),Ce.delete(1));var q=Be.compose(Ce);return q},fe)}},{key:"setSelection",value:function(re,le,fe){if(re==null)this.selection.setRange(null,le||De.sources.API);else{var ue=U(re,le,fe),Be=p(ue,4);re=Be[0],le=Be[1],fe=Be[3],this.selection.setRange(new O.Range(re,le),fe),fe!==k.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.default.sources.API,fe=new S.default().insert(re);return this.setContents(fe,le)}},{key:"update",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k.default.sources.USER,le=this.scroll.update(re);return this.selection.update(re),le}},{key:"updateContents",value:function(re){var le=this,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k.default.sources.API;return qe.call(this,function(){return re=new S.default(re),le.editor.applyDelta(re,fe)},fe,!0)}}]),De}();he.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},he.events=k.default.events,he.sources=k.default.sources,he.version="1.3.7",he.imports={delta:S.default,parchment:D.default,"core/module":N.default,"core/theme":xe.default};function ve(De,Se){if(Se=(0,z.default)(!0,{container:De,modules:{clipboard:!0,keyboard:!0,history:!0}},Se),!Se.theme||Se.theme===he.DEFAULTS.theme)Se.theme=xe.default;else if(Se.theme=he.import("themes/"+Se.theme),Se.theme==null)throw new Error("Invalid theme "+Se.theme+". Did you register it?");var re=(0,z.default)(!0,{},Se.theme.DEFAULTS);[re,Se].forEach(function(ue){ue.modules=ue.modules||{},Object.keys(ue.modules).forEach(function(Be){ue.modules[Be]===!0&&(ue.modules[Be]={})})});var le=Object.keys(re.modules).concat(Object.keys(Se.modules)),fe=le.reduce(function(ue,Be){var Ce=he.import("modules/"+Be);return Ce==null?ce.error("Cannot load "+Be+" module. Are you sure you registered it?"):ue[Be]=Ce.DEFAULTS||{},ue},{});return Se.modules!=null&&Se.modules.toolbar&&Se.modules.toolbar.constructor!==Object&&(Se.modules.toolbar={container:Se.modules.toolbar}),Se=(0,z.default)(!0,{},he.DEFAULTS,{modules:fe},re,Se),["bounds","container","scrollingContainer"].forEach(function(ue){typeof Se[ue]=="string"&&(Se[ue]=document.querySelector(Se[ue]))}),Se.modules=Object.keys(Se.modules).reduce(function(ue,Be){return Se.modules[Be]&&(ue[Be]=Se.modules[Be]),ue},{}),Se}function qe(De,Se,re,le){if(this.options.strict&&!this.isEnabled()&&Se===k.default.sources.USER)return new S.default;var fe=re==null?null:this.getSelection(),ue=this.editor.delta,Be=De();if(fe!=null&&(re===!0&&(re=fe.index),le==null?fe=Fe(fe,Be,Se):le!==0&&(fe=Fe(fe,re,le,Se)),this.setSelection(fe,k.default.sources.SILENT)),Be.length()>0){var Ce,me=[k.default.events.TEXT_CHANGE,Be,ue,Se];if((Ce=this.emitter).emit.apply(Ce,[k.default.events.EDITOR_CHANGE].concat(me)),Se!==k.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,me)}}return Be}function U(De,Se,re,le,fe){var ue={};return typeof De.index=="number"&&typeof De.length=="number"?typeof Se!="number"?(fe=le,le=re,re=Se,Se=De.length,De=De.index):(Se=De.length,De=De.index):typeof Se!="number"&&(fe=le,le=re,re=Se,Se=0),(typeof re>"u"?"undefined":d(re))==="object"?(ue=re,fe=le):typeof re=="string"&&(le!=null?ue[re]=le:fe=re),fe=fe||k.default.sources.API,[De,Se,ue,fe]}function Fe(De,Se,re,le){if(De==null)return null;var fe=void 0,ue=void 0;if(Se instanceof S.default){var Be=[De.index,De.index+De.length].map(function(Ze){return Se.transformPosition(Ze,le!==k.default.sources.USER)}),Ce=p(Be,2);fe=Ce[0],ue=Ce[1]}else{var me=[De.index,De.index+De.length].map(function(Ze){return Ze<Se||Ze===Se&&le===k.default.sources.USER?Ze:re>=0?Ze+re:Math.max(Se,Ze+re)}),q=p(me,2);fe=q[0],ue=q[1]}return new O.Range(fe,ue-fe)}l.expandConfig=ve,l.overload=U,l.default=he},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function $(D,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,O,P){return O&&$(D.prototype,O),P&&$(D,P),D}}(),p=function $(D,O,P){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,O);if(I===void 0){var z=Object.getPrototypeOf(D);return z===null?void 0:$(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(7),b=T(v),S=c(0),x=T(S);function T($){return $&&$.__esModule?$:{default:$}}function E($,D){if(!($ instanceof D))throw new TypeError("Cannot call a class as a function")}function k($,D){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:$}function F($,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);$.prototype=Object.create(D&&D.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf($,D):$.__proto__=D)}var N=function($){F(D,$);function D(){return E(this,D),k(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return d(D,[{key:"formatAt",value:function(P,I,z,K){if(D.compare(this.statics.blotName,z)<0&&x.default.query(z,x.default.Scope.BLOT)){var j=this.isolate(P,I);K&&j.wrap(z,K)}else p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,P,I,z,K)}},{key:"optimize",value:function(P){if(p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,P),this.parent instanceof D&&D.compare(this.statics.blotName,this.parent.statics.blotName)>0){var I=this.parent.isolate(this.offset(),this.length());this.moveChildren(I),I.wrap(this)}}}],[{key:"compare",value:function(P,I){var z=D.order.indexOf(P),K=D.order.indexOf(I);return z>=0||K>=0?z-K:P===I?0:P<I?-1:1}}]),D}(x.default.Inline);N.allowedChildren=[N,x.default.Embed,b.default],N.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function S(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var T=function(E){x(k,E);function k(){return b(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(p.default.Text);l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function O(P,I){for(var z=0;z<I.length;z++){var K=I[z];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(P,K.key,K)}}return function(P,I,z){return I&&O(P.prototype,I),z&&O(P,z),P}}(),p=function O(P,I,z){P===null&&(P=Function.prototype);var K=Object.getOwnPropertyDescriptor(P,I);if(K===void 0){var j=Object.getPrototypeOf(P);return j===null?void 0:O(j,I,z)}else{if("value"in K)return K.value;var oe=K.get;return oe===void 0?void 0:oe.call(z)}},v=c(54),b=T(v),S=c(10),x=T(S);function T(O){return O&&O.__esModule?O:{default:O}}function E(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")}function k(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:O}function F(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(O,P):O.__proto__=P)}var N=(0,x.default)("quill:events"),$=["selectionchange","mousedown","mouseup","click"];$.forEach(function(O){document.addEventListener(O,function(){for(var P=arguments.length,I=Array(P),z=0;z<P;z++)I[z]=arguments[z];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(K){if(K.__quill&&K.__quill.emitter){var j;(j=K.__quill.emitter).handleDOM.apply(j,I)}})})});var D=function(O){F(P,O);function P(){E(this,P);var I=k(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return I.listeners={},I.on("error",N.error),I}return d(P,[{key:"emit",value:function(){N.log.apply(N,arguments),p(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(z){for(var K=arguments.length,j=Array(K>1?K-1:0),oe=1;oe<K;oe++)j[oe-1]=arguments[oe];(this.listeners[z.type]||[]).forEach(function(xe){var se=xe.node,Q=xe.handler;(z.target===se||se.contains(z.target))&&Q.apply(void 0,[z].concat(j))})}},{key:"listenDOM",value:function(z,K,j){this.listeners[z]||(this.listeners[z]=[]),this.listeners[z].push({node:K,handler:j})}}]),P}(b.default);D.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},D.sources={API:"api",SILENT:"silent",USER:"user"},l.default=D},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}var p=function v(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d(this,v),this.quill=b,this.options=S};p.DEFAULTS={},l.default=p},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=["error","warn","log","info"],p="warn";function v(S){if(d.indexOf(S)<=d.indexOf(p)){for(var x,T=arguments.length,E=Array(T>1?T-1:0),k=1;k<T;k++)E[k-1]=arguments[k];(x=console)[S].apply(x,E)}}function b(S){return d.reduce(function(x,T){return x[T]=v.bind(console,T,S),x},{})}v.level=b.level=function(S){p=S},l.default=b},function(s,l,c){var d=Array.prototype.slice,p=c(52),v=c(53),b=s.exports=function(E,k,F){return F||(F={}),E===k?!0:E instanceof Date&&k instanceof Date?E.getTime()===k.getTime():!E||!k||typeof E!="object"&&typeof k!="object"?F.strict?E===k:E==k:T(E,k,F)};function S(E){return E==null}function x(E){return!(!E||typeof E!="object"||typeof E.length!="number"||typeof E.copy!="function"||typeof E.slice!="function"||E.length>0&&typeof E[0]!="number")}function T(E,k,F){var N,$;if(S(E)||S(k)||E.prototype!==k.prototype)return!1;if(v(E))return v(k)?(E=d.call(E),k=d.call(k),b(E,k,F)):!1;if(x(E)){if(!x(k)||E.length!==k.length)return!1;for(N=0;N<E.length;N++)if(E[N]!==k[N])return!1;return!0}try{var D=p(E),O=p(k)}catch{return!1}if(D.length!=O.length)return!1;for(D.sort(),O.sort(),N=D.length-1;N>=0;N--)if(D[N]!=O[N])return!1;for(N=D.length-1;N>=0;N--)if($=D[N],!b(E[$],k[$],F))return!1;return typeof E==typeof k}},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(1),p=function(){function v(b,S,x){x===void 0&&(x={}),this.attrName=b,this.keyName=S;var T=d.Scope.TYPE&d.Scope.ATTRIBUTE;x.scope!=null?this.scope=x.scope&d.Scope.LEVEL|T:this.scope=d.Scope.ATTRIBUTE,x.whitelist!=null&&(this.whitelist=x.whitelist)}return v.keys=function(b){return[].map.call(b.attributes,function(S){return S.name})},v.prototype.add=function(b,S){return this.canAdd(b,S)?(b.setAttribute(this.keyName,S),!0):!1},v.prototype.canAdd=function(b,S){var x=d.query(b,d.Scope.BLOT&(this.scope|d.Scope.TYPE));return x==null?!1:this.whitelist==null?!0:typeof S=="string"?this.whitelist.indexOf(S.replace(/["']/g,""))>-1:this.whitelist.indexOf(S)>-1},v.prototype.remove=function(b){b.removeAttribute(this.keyName)},v.prototype.value=function(b){var S=b.getAttribute(this.keyName);return this.canAdd(b,S)&&S?S:""},v}();l.default=p},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.Code=void 0;var d=function(){function oe(xe,se){var Q=[],G=!0,ce=!1,he=void 0;try{for(var ve=xe[Symbol.iterator](),qe;!(G=(qe=ve.next()).done)&&(Q.push(qe.value),!(se&&Q.length===se));G=!0);}catch(U){ce=!0,he=U}finally{try{!G&&ve.return&&ve.return()}finally{if(ce)throw he}}return Q}return function(xe,se){if(Array.isArray(xe))return xe;if(Symbol.iterator in Object(xe))return oe(xe,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function oe(xe,se){for(var Q=0;Q<se.length;Q++){var G=se[Q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(xe,G.key,G)}}return function(xe,se,Q){return se&&oe(xe.prototype,se),Q&&oe(xe,Q),xe}}(),v=function oe(xe,se,Q){xe===null&&(xe=Function.prototype);var G=Object.getOwnPropertyDescriptor(xe,se);if(G===void 0){var ce=Object.getPrototypeOf(xe);return ce===null?void 0:oe(ce,se,Q)}else{if("value"in G)return G.value;var he=G.get;return he===void 0?void 0:he.call(Q)}},b=c(2),S=O(b),x=c(0),T=O(x),E=c(4),k=O(E),F=c(6),N=O(F),$=c(7),D=O($);function O(oe){return oe&&oe.__esModule?oe:{default:oe}}function P(oe,xe){if(!(oe instanceof xe))throw new TypeError("Cannot call a class as a function")}function I(oe,xe){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe&&(typeof xe=="object"||typeof xe=="function")?xe:oe}function z(oe,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xe);oe.prototype=Object.create(xe&&xe.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),xe&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,xe):oe.__proto__=xe)}var K=function(oe){z(xe,oe);function xe(){return P(this,xe),I(this,(xe.__proto__||Object.getPrototypeOf(xe)).apply(this,arguments))}return xe}(N.default);K.blotName="code",K.tagName="CODE";var j=function(oe){z(xe,oe);function xe(){return P(this,xe),I(this,(xe.__proto__||Object.getPrototypeOf(xe)).apply(this,arguments))}return p(xe,[{key:"delta",value:function(){var Q=this,G=this.domNode.textContent;return G.endsWith(`
`)&&(G=G.slice(0,-1)),G.split(`
`).reduce(function(ce,he){return ce.insert(he).insert(`
`,Q.formats())},new S.default)}},{key:"format",value:function(Q,G){if(!(Q===this.statics.blotName&&G)){var ce=this.descendant(D.default,this.length()-1),he=d(ce,1),ve=he[0];ve!=null&&ve.deleteAt(ve.length()-1,1),v(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"format",this).call(this,Q,G)}}},{key:"formatAt",value:function(Q,G,ce,he){if(G!==0&&!(T.default.query(ce,T.default.Scope.BLOCK)==null||ce===this.statics.blotName&&he===this.statics.formats(this.domNode))){var ve=this.newlineIndex(Q);if(!(ve<0||ve>=Q+G)){var qe=this.newlineIndex(Q,!0)+1,U=ve-qe+1,Fe=this.isolate(qe,U),De=Fe.next;Fe.format(ce,he),De instanceof xe&&De.formatAt(0,Q-qe+G-U,ce,he)}}}},{key:"insertAt",value:function(Q,G,ce){if(ce==null){var he=this.descendant(D.default,Q),ve=d(he,2),qe=ve[0],U=ve[1];qe.insertAt(U,G)}}},{key:"length",value:function(){var Q=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?Q:Q+1}},{key:"newlineIndex",value:function(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G)return this.domNode.textContent.slice(0,Q).lastIndexOf(`
`);var ce=this.domNode.textContent.slice(Q).indexOf(`
`);return ce>-1?Q+ce:-1}},{key:"optimize",value:function(Q){this.domNode.textContent.endsWith(`
`)||this.appendChild(T.default.create("text",`
`)),v(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"optimize",this).call(this,Q);var G=this.next;G!=null&&G.prev===this&&G.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===G.statics.formats(G.domNode)&&(G.optimize(Q),G.moveChildren(this),G.remove())}},{key:"replace",value:function(Q){v(xe.prototype.__proto__||Object.getPrototypeOf(xe.prototype),"replace",this).call(this,Q),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(G){var ce=T.default.find(G);ce==null?G.parentNode.removeChild(G):ce instanceof T.default.Embed?ce.remove():ce.unwrap()})}}],[{key:"create",value:function(Q){var G=v(xe.__proto__||Object.getPrototypeOf(xe),"create",this).call(this,Q);return G.setAttribute("spellcheck",!1),G}},{key:"formats",value:function(){return!0}}]),xe}(k.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",l.Code=K,l.default=j},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},p=function(){function De(Se,re){var le=[],fe=!0,ue=!1,Be=void 0;try{for(var Ce=Se[Symbol.iterator](),me;!(fe=(me=Ce.next()).done)&&(le.push(me.value),!(re&&le.length===re));fe=!0);}catch(q){ue=!0,Be=q}finally{try{!fe&&Ce.return&&Ce.return()}finally{if(ue)throw Be}}return le}return function(Se,re){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return De(Se,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function De(Se,re){for(var le=0;le<re.length;le++){var fe=re[le];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Se,fe.key,fe)}}return function(Se,re,le){return re&&De(Se.prototype,re),le&&De(Se,le),Se}}(),b=c(2),S=G(b),x=c(20),T=G(x),E=c(0),k=G(E),F=c(13),N=G(F),$=c(24),D=G($),O=c(4),P=G(O),I=c(16),z=G(I),K=c(21),j=G(K),oe=c(11),xe=G(oe),se=c(3),Q=G(se);function G(De){return De&&De.__esModule?De:{default:De}}function ce(De,Se,re){return Se in De?Object.defineProperty(De,Se,{value:re,enumerable:!0,configurable:!0,writable:!0}):De[Se]=re,De}function he(De,Se){if(!(De instanceof Se))throw new TypeError("Cannot call a class as a function")}var ve=/^[ -~]*$/,qe=function(){function De(Se){he(this,De),this.scroll=Se,this.delta=this.getDelta()}return v(De,[{key:"applyDelta",value:function(re){var le=this,fe=!1;this.scroll.update();var ue=this.scroll.length();return this.scroll.batchStart(),re=Fe(re),re.reduce(function(Be,Ce){var me=Ce.retain||Ce.delete||Ce.insert.length||1,q=Ce.attributes||{};if(Ce.insert!=null){if(typeof Ce.insert=="string"){var Ze=Ce.insert;Ze.endsWith(`
`)&&fe&&(fe=!1,Ze=Ze.slice(0,-1)),Be>=ue&&!Ze.endsWith(`
`)&&(fe=!0),le.scroll.insertAt(Be,Ze);var We=le.scroll.line(Be),tt=p(We,2),Qe=tt[0],it=tt[1],He=(0,Q.default)({},(0,O.bubbleFormats)(Qe));if(Qe instanceof P.default){var Re=Qe.descendant(k.default.Leaf,it),Ve=p(Re,1),Oe=Ve[0];He=(0,Q.default)(He,(0,O.bubbleFormats)(Oe))}q=T.default.attributes.diff(He,q)||{}}else if(d(Ce.insert)==="object"){var be=Object.keys(Ce.insert)[0];if(be==null)return Be;le.scroll.insertAt(Be,be,Ce.insert[be])}ue+=me}return Object.keys(q).forEach(function(ie){le.scroll.formatAt(Be,me,ie,q[ie])}),Be+me},0),re.reduce(function(Be,Ce){return typeof Ce.delete=="number"?(le.scroll.deleteAt(Be,Ce.delete),Be):Be+(Ce.retain||Ce.insert.length||1)},0),this.scroll.batchEnd(),this.update(re)}},{key:"deleteText",value:function(re,le){return this.scroll.deleteAt(re,le),this.update(new S.default().retain(re).delete(le))}},{key:"formatLine",value:function(re,le){var fe=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ue).forEach(function(Be){if(!(fe.scroll.whitelist!=null&&!fe.scroll.whitelist[Be])){var Ce=fe.scroll.lines(re,Math.max(le,1)),me=le;Ce.forEach(function(q){var Ze=q.length();if(!(q instanceof N.default))q.format(Be,ue[Be]);else{var We=re-q.offset(fe.scroll),tt=q.newlineIndex(We+me)-We+1;q.formatAt(We,tt,Be,ue[Be])}me-=Ze})}}),this.scroll.optimize(),this.update(new S.default().retain(re).retain(le,(0,j.default)(ue)))}},{key:"formatText",value:function(re,le){var fe=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ue).forEach(function(Be){fe.scroll.formatAt(re,le,Be,ue[Be])}),this.update(new S.default().retain(re).retain(le,(0,j.default)(ue)))}},{key:"getContents",value:function(re,le){return this.delta.slice(re,re+le)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(re,le){return re.concat(le.delta())},new S.default)}},{key:"getFormat",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,fe=[],ue=[];le===0?this.scroll.path(re).forEach(function(Ce){var me=p(Ce,1),q=me[0];q instanceof P.default?fe.push(q):q instanceof k.default.Leaf&&ue.push(q)}):(fe=this.scroll.lines(re,le),ue=this.scroll.descendants(k.default.Leaf,re,le));var Be=[fe,ue].map(function(Ce){if(Ce.length===0)return{};for(var me=(0,O.bubbleFormats)(Ce.shift());Object.keys(me).length>0;){var q=Ce.shift();if(q==null)return me;me=U((0,O.bubbleFormats)(q),me)}return me});return Q.default.apply(Q.default,Be)}},{key:"getText",value:function(re,le){return this.getContents(re,le).filter(function(fe){return typeof fe.insert=="string"}).map(function(fe){return fe.insert}).join("")}},{key:"insertEmbed",value:function(re,le,fe){return this.scroll.insertAt(re,le,fe),this.update(new S.default().retain(re).insert(ce({},le,fe)))}},{key:"insertText",value:function(re,le){var fe=this,ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return le=le.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(re,le),Object.keys(ue).forEach(function(Be){fe.scroll.formatAt(re,le.length,Be,ue[Be])}),this.update(new S.default().retain(re).insert(le,(0,j.default)(ue)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var re=this.scroll.children.head;return re.statics.blotName!==P.default.blotName||re.children.length>1?!1:re.children.head instanceof z.default}},{key:"removeFormat",value:function(re,le){var fe=this.getText(re,le),ue=this.scroll.line(re+le),Be=p(ue,2),Ce=Be[0],me=Be[1],q=0,Ze=new S.default;Ce!=null&&(Ce instanceof N.default?q=Ce.newlineIndex(me)-me+1:q=Ce.length()-me,Ze=Ce.delta().slice(me,me+q-1).insert(`
`));var We=this.getContents(re,le+q),tt=We.diff(new S.default().insert(fe).concat(Ze)),Qe=new S.default().retain(re).concat(tt);return this.applyDelta(Qe)}},{key:"update",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ue=this.delta;if(le.length===1&&le[0].type==="characterData"&&le[0].target.data.match(ve)&&k.default.find(le[0].target)){var Be=k.default.find(le[0].target),Ce=(0,O.bubbleFormats)(Be),me=Be.offset(this.scroll),q=le[0].oldValue.replace(D.default.CONTENTS,""),Ze=new S.default().insert(q),We=new S.default().insert(Be.value()),tt=new S.default().retain(me).concat(Ze.diff(We,fe));re=tt.reduce(function(Qe,it){return it.insert?Qe.insert(it.insert,Ce):Qe.push(it)},new S.default),this.delta=ue.compose(re)}else this.delta=this.getDelta(),(!re||!(0,xe.default)(ue.compose(re),this.delta))&&(re=ue.diff(this.delta,fe));return re}}]),De}();function U(De,Se){return Object.keys(Se).reduce(function(re,le){return De[le]==null||(Se[le]===De[le]?re[le]=Se[le]:Array.isArray(Se[le])?Se[le].indexOf(De[le])<0&&(re[le]=Se[le].concat([De[le]])):re[le]=[Se[le],De[le]]),re},{})}function Fe(De){return De.reduce(function(Se,re){if(re.insert===1){var le=(0,j.default)(re.attributes);return delete le.image,Se.insert({image:re.attributes.image},le)}if(re.attributes!=null&&(re.attributes.list===!0||re.attributes.bullet===!0)&&(re=(0,j.default)(re),re.attributes.list?re.attributes.list="ordered":(re.attributes.list="bullet",delete re.attributes.bullet)),typeof re.insert=="string"){var fe=re.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Se.insert(fe,re.attributes)}return Se.push(re)},new S.default)}l.default=qe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.Range=void 0;var d=function(){function oe(xe,se){var Q=[],G=!0,ce=!1,he=void 0;try{for(var ve=xe[Symbol.iterator](),qe;!(G=(qe=ve.next()).done)&&(Q.push(qe.value),!(se&&Q.length===se));G=!0);}catch(U){ce=!0,he=U}finally{try{!G&&ve.return&&ve.return()}finally{if(ce)throw he}}return Q}return function(xe,se){if(Array.isArray(xe))return xe;if(Symbol.iterator in Object(xe))return oe(xe,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function oe(xe,se){for(var Q=0;Q<se.length;Q++){var G=se[Q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(xe,G.key,G)}}return function(xe,se,Q){return se&&oe(xe.prototype,se),Q&&oe(xe,Q),xe}}(),v=c(0),b=D(v),S=c(21),x=D(S),T=c(11),E=D(T),k=c(8),F=D(k),N=c(10),$=D(N);function D(oe){return oe&&oe.__esModule?oe:{default:oe}}function O(oe){if(Array.isArray(oe)){for(var xe=0,se=Array(oe.length);xe<oe.length;xe++)se[xe]=oe[xe];return se}else return Array.from(oe)}function P(oe,xe){if(!(oe instanceof xe))throw new TypeError("Cannot call a class as a function")}var I=(0,$.default)("quill:selection"),z=function oe(xe){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;P(this,oe),this.index=xe,this.length=se},K=function(){function oe(xe,se){var Q=this;P(this,oe),this.emitter=se,this.scroll=xe,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=b.default.create("cursor",this),this.lastRange=this.savedRange=new z(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){Q.mouseDown||setTimeout(Q.update.bind(Q,F.default.sources.USER),1)}),this.emitter.on(F.default.events.EDITOR_CHANGE,function(G,ce){G===F.default.events.TEXT_CHANGE&&ce.length()>0&&Q.update(F.default.sources.SILENT)}),this.emitter.on(F.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!Q.hasFocus()){var G=Q.getNativeRange();G!=null&&G.start.node!==Q.cursor.textNode&&Q.emitter.once(F.default.events.SCROLL_UPDATE,function(){try{Q.setNativeRange(G.start.node,G.start.offset,G.end.node,G.end.offset)}catch{}})}}),this.emitter.on(F.default.events.SCROLL_OPTIMIZE,function(G,ce){if(ce.range){var he=ce.range,ve=he.startNode,qe=he.startOffset,U=he.endNode,Fe=he.endOffset;Q.setNativeRange(ve,qe,U,Fe)}}),this.update(F.default.sources.SILENT)}return p(oe,[{key:"handleComposition",value:function(){var se=this;this.root.addEventListener("compositionstart",function(){se.composing=!0}),this.root.addEventListener("compositionend",function(){if(se.composing=!1,se.cursor.parent){var Q=se.cursor.restore();if(!Q)return;setTimeout(function(){se.setNativeRange(Q.startNode,Q.startOffset,Q.endNode,Q.endOffset)},1)}})}},{key:"handleDragging",value:function(){var se=this;this.emitter.listenDOM("mousedown",document.body,function(){se.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){se.mouseDown=!1,se.update(F.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(se,Q){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[se])){this.scroll.update();var G=this.getNativeRange();if(!(G==null||!G.native.collapsed||b.default.query(se,b.default.Scope.BLOCK))){if(G.start.node!==this.cursor.textNode){var ce=b.default.find(G.start.node,!1);if(ce==null)return;if(ce instanceof b.default.Leaf){var he=ce.split(G.start.offset);ce.parent.insertBefore(this.cursor,he)}else ce.insertBefore(this.cursor,G.start.node);this.cursor.attach()}this.cursor.format(se,Q),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(se){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=this.scroll.length();se=Math.min(se,G-1),Q=Math.min(se+Q,G-1)-se;var ce=void 0,he=this.scroll.leaf(se),ve=d(he,2),qe=ve[0],U=ve[1];if(qe==null)return null;var Fe=qe.position(U,!0),De=d(Fe,2);ce=De[0],U=De[1];var Se=document.createRange();if(Q>0){Se.setStart(ce,U);var re=this.scroll.leaf(se+Q),le=d(re,2);if(qe=le[0],U=le[1],qe==null)return null;var fe=qe.position(U,!0),ue=d(fe,2);return ce=ue[0],U=ue[1],Se.setEnd(ce,U),Se.getBoundingClientRect()}else{var Be="left",Ce=void 0;return ce instanceof Text?(U<ce.data.length?(Se.setStart(ce,U),Se.setEnd(ce,U+1)):(Se.setStart(ce,U-1),Se.setEnd(ce,U),Be="right"),Ce=Se.getBoundingClientRect()):(Ce=qe.domNode.getBoundingClientRect(),U>0&&(Be="right")),{bottom:Ce.top+Ce.height,height:Ce.height,left:Ce[Be],right:Ce[Be],top:Ce.top,width:0}}}},{key:"getNativeRange",value:function(){var se=document.getSelection();if(se==null||se.rangeCount<=0)return null;var Q=se.getRangeAt(0);if(Q==null)return null;var G=this.normalizeNative(Q);return I.info("getNativeRange",G),G}},{key:"getRange",value:function(){var se=this.getNativeRange();if(se==null)return[null,null];var Q=this.normalizedToRange(se);return[Q,se]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(se){var Q=this,G=[[se.start.node,se.start.offset]];se.native.collapsed||G.push([se.end.node,se.end.offset]);var ce=G.map(function(qe){var U=d(qe,2),Fe=U[0],De=U[1],Se=b.default.find(Fe,!0),re=Se.offset(Q.scroll);return De===0?re:Se instanceof b.default.Container?re+Se.length():re+Se.index(Fe,De)}),he=Math.min(Math.max.apply(Math,O(ce)),this.scroll.length()-1),ve=Math.min.apply(Math,[he].concat(O(ce)));return new z(ve,he-ve)}},{key:"normalizeNative",value:function(se){if(!j(this.root,se.startContainer)||!se.collapsed&&!j(this.root,se.endContainer))return null;var Q={start:{node:se.startContainer,offset:se.startOffset},end:{node:se.endContainer,offset:se.endOffset},native:se};return[Q.start,Q.end].forEach(function(G){for(var ce=G.node,he=G.offset;!(ce instanceof Text)&&ce.childNodes.length>0;)if(ce.childNodes.length>he)ce=ce.childNodes[he],he=0;else if(ce.childNodes.length===he)ce=ce.lastChild,he=ce instanceof Text?ce.data.length:ce.childNodes.length+1;else break;G.node=ce,G.offset=he}),Q}},{key:"rangeToNative",value:function(se){var Q=this,G=se.collapsed?[se.index]:[se.index,se.index+se.length],ce=[],he=this.scroll.length();return G.forEach(function(ve,qe){ve=Math.min(he-1,ve);var U=void 0,Fe=Q.scroll.leaf(ve),De=d(Fe,2),Se=De[0],re=De[1],le=Se.position(re,qe!==0),fe=d(le,2);U=fe[0],re=fe[1],ce.push(U,re)}),ce.length<2&&(ce=ce.concat(ce)),ce}},{key:"scrollIntoView",value:function(se){var Q=this.lastRange;if(Q!=null){var G=this.getBounds(Q.index,Q.length);if(G!=null){var ce=this.scroll.length()-1,he=this.scroll.line(Math.min(Q.index,ce)),ve=d(he,1),qe=ve[0],U=qe;if(Q.length>0){var Fe=this.scroll.line(Math.min(Q.index+Q.length,ce)),De=d(Fe,1);U=De[0]}if(!(qe==null||U==null)){var Se=se.getBoundingClientRect();G.top<Se.top?se.scrollTop-=Se.top-G.top:G.bottom>Se.bottom&&(se.scrollTop+=G.bottom-Se.bottom)}}}}},{key:"setNativeRange",value:function(se,Q){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se,ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Q,he=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(I.info("setNativeRange",se,Q,G,ce),!(se!=null&&(this.root.parentNode==null||se.parentNode==null||G.parentNode==null))){var ve=document.getSelection();if(ve!=null)if(se!=null){this.hasFocus()||this.root.focus();var qe=(this.getNativeRange()||{}).native;if(qe==null||he||se!==qe.startContainer||Q!==qe.startOffset||G!==qe.endContainer||ce!==qe.endOffset){se.tagName=="BR"&&(Q=[].indexOf.call(se.parentNode.childNodes,se),se=se.parentNode),G.tagName=="BR"&&(ce=[].indexOf.call(G.parentNode.childNodes,G),G=G.parentNode);var U=document.createRange();U.setStart(se,Q),U.setEnd(G,ce),ve.removeAllRanges(),ve.addRange(U)}}else ve.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(se){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.default.sources.API;if(typeof Q=="string"&&(G=Q,Q=!1),I.info("setRange",se),se!=null){var ce=this.rangeToNative(se);this.setNativeRange.apply(this,O(ce).concat([Q]))}else this.setNativeRange(null);this.update(G)}},{key:"update",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.default.sources.USER,Q=this.lastRange,G=this.getRange(),ce=d(G,2),he=ce[0],ve=ce[1];if(this.lastRange=he,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,E.default)(Q,this.lastRange)){var qe;!this.composing&&ve!=null&&ve.native.collapsed&&ve.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[F.default.events.SELECTION_CHANGE,(0,x.default)(this.lastRange),(0,x.default)(Q),se];if((qe=this.emitter).emit.apply(qe,[F.default.events.EDITOR_CHANGE].concat(U)),se!==F.default.sources.SILENT){var Fe;(Fe=this.emitter).emit.apply(Fe,U)}}}}]),oe}();function j(oe,xe){try{xe.parentNode}catch{return!1}return xe instanceof Text&&(xe=xe.parentNode),oe.contains(xe)}l.Range=z,l.default=K},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,$){for(var D=0;D<$.length;D++){var O=$[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,$,D){return $&&F(N.prototype,$),D&&F(N,D),N}}(),p=function F(N,$,D){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,$);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,$,D)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(D)}},v=c(0),b=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function E(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var k=function(F){E(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,[{key:"insertInto",value:function(D,O){D.children.length===0?p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertInto",this).call(this,D,O):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),N}(b.default.Embed);k.blotName="break",k.tagName="BR",l.default=k},function(s,l,c){var d=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,k){E.__proto__=k}||function(E,k){for(var F in k)k.hasOwnProperty(F)&&(E[F]=k[F])};return function(E,k){T(E,k);function F(){this.constructor=E}E.prototype=k===null?Object.create(k):(F.prototype=k.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(44),v=c(30),b=c(1),S=function(T){d(E,T);function E(k){var F=T.call(this,k)||this;return F.build(),F}return E.prototype.appendChild=function(k){this.insertBefore(k)},E.prototype.attach=function(){T.prototype.attach.call(this),this.children.forEach(function(k){k.attach()})},E.prototype.build=function(){var k=this;this.children=new p.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(F){try{var N=x(F);k.insertBefore(N,k.children.head||void 0)}catch($){if($ instanceof b.ParchmentError)return;throw $}})},E.prototype.deleteAt=function(k,F){if(k===0&&F===this.length())return this.remove();this.children.forEachAt(k,F,function(N,$,D){N.deleteAt($,D)})},E.prototype.descendant=function(k,F){var N=this.children.find(F),$=N[0],D=N[1];return k.blotName==null&&k($)||k.blotName!=null&&$ instanceof k?[$,D]:$ instanceof E?$.descendant(k,D):[null,-1]},E.prototype.descendants=function(k,F,N){F===void 0&&(F=0),N===void 0&&(N=Number.MAX_VALUE);var $=[],D=N;return this.children.forEachAt(F,N,function(O,P,I){(k.blotName==null&&k(O)||k.blotName!=null&&O instanceof k)&&$.push(O),O instanceof E&&($=$.concat(O.descendants(k,P,D))),D-=I}),$},E.prototype.detach=function(){this.children.forEach(function(k){k.detach()}),T.prototype.detach.call(this)},E.prototype.formatAt=function(k,F,N,$){this.children.forEachAt(k,F,function(D,O,P){D.formatAt(O,P,N,$)})},E.prototype.insertAt=function(k,F,N){var $=this.children.find(k),D=$[0],O=$[1];if(D)D.insertAt(O,F,N);else{var P=N==null?b.create("text",F):b.create(F,N);this.appendChild(P)}},E.prototype.insertBefore=function(k,F){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(N){return k instanceof N}))throw new b.ParchmentError("Cannot insert "+k.statics.blotName+" into "+this.statics.blotName);k.insertInto(this,F)},E.prototype.length=function(){return this.children.reduce(function(k,F){return k+F.length()},0)},E.prototype.moveChildren=function(k,F){this.children.forEach(function(N){k.insertBefore(N,F)})},E.prototype.optimize=function(k){if(T.prototype.optimize.call(this,k),this.children.length===0)if(this.statics.defaultChild!=null){var F=b.create(this.statics.defaultChild);this.appendChild(F),F.optimize(k)}else this.remove()},E.prototype.path=function(k,F){F===void 0&&(F=!1);var N=this.children.find(k,F),$=N[0],D=N[1],O=[[this,k]];return $ instanceof E?O.concat($.path(D,F)):($!=null&&O.push([$,D]),O)},E.prototype.removeChild=function(k){this.children.remove(k)},E.prototype.replace=function(k){k instanceof E&&k.moveChildren(this),T.prototype.replace.call(this,k)},E.prototype.split=function(k,F){if(F===void 0&&(F=!1),!F){if(k===0)return this;if(k===this.length())return this.next}var N=this.clone();return this.parent.insertBefore(N,this.next),this.children.forEachAt(k,this.length(),function($,D,O){$=$.split(D,F),N.appendChild($)}),N},E.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},E.prototype.update=function(k,F){var N=this,$=[],D=[];k.forEach(function(O){O.target===N.domNode&&O.type==="childList"&&($.push.apply($,O.addedNodes),D.push.apply(D,O.removedNodes))}),D.forEach(function(O){if(!(O.parentNode!=null&&O.tagName!=="IFRAME"&&document.body.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=b.find(O);P!=null&&(P.domNode.parentNode==null||P.domNode.parentNode===N.domNode)&&P.detach()}}),$.filter(function(O){return O.parentNode==N.domNode}).sort(function(O,P){return O===P?0:O.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(O){var P=null;O.nextSibling!=null&&(P=b.find(O.nextSibling));var I=x(O);(I.next!=P||I.next==null)&&(I.parent!=null&&I.parent.removeChild(N),N.insertBefore(I,P||void 0))})},E}(v.default);function x(T){var E=b.find(T);if(E==null)try{E=b.create(T)}catch{E=b.create(b.Scope.INLINE),[].slice.call(T.childNodes).forEach(function(F){E.domNode.appendChild(F)}),T.parentNode&&T.parentNode.replaceChild(E.domNode,T),E.attach()}return E}l.default=S},function(s,l,c){var d=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,k){E.__proto__=k}||function(E,k){for(var F in k)k.hasOwnProperty(F)&&(E[F]=k[F])};return function(E,k){T(E,k);function F(){this.constructor=E}E.prototype=k===null?Object.create(k):(F.prototype=k.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(12),v=c(31),b=c(17),S=c(1),x=function(T){d(E,T);function E(k){var F=T.call(this,k)||this;return F.attributes=new v.default(F.domNode),F}return E.formats=function(k){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return k.tagName.toLowerCase()},E.prototype.format=function(k,F){var N=S.query(k);N instanceof p.default?this.attributes.attribute(N,F):F&&N!=null&&(k!==this.statics.blotName||this.formats()[k]!==F)&&this.replaceWith(k,F)},E.prototype.formats=function(){var k=this.attributes.values(),F=this.statics.formats(this.domNode);return F!=null&&(k[this.statics.blotName]=F),k},E.prototype.replaceWith=function(k,F){var N=T.prototype.replaceWith.call(this,k,F);return this.attributes.copy(N),N},E.prototype.update=function(k,F){var N=this;T.prototype.update.call(this,k,F),k.some(function($){return $.target===N.domNode&&$.type==="attributes"})&&this.attributes.build()},E.prototype.wrap=function(k,F){var N=T.prototype.wrap.call(this,k,F);return N instanceof E&&N.statics.scope===this.statics.scope&&this.attributes.move(N),N},E}(b.default);l.default=x},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var E in T)T.hasOwnProperty(E)&&(x[E]=T[E])};return function(x,T){S(x,T);function E(){this.constructor=x}x.prototype=T===null?Object.create(T):(E.prototype=T.prototype,new E)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(30),v=c(1),b=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.value=function(T){return!0},x.prototype.index=function(T,E){return this.domNode===T||this.domNode.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(E,1):-1},x.prototype.position=function(T,E){var k=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return T>0&&(k+=1),[this.parent.domNode,k]},x.prototype.value=function(){var T;return T={},T[this.statics.blotName]=this.statics.value(this.domNode)||!0,T},x.scope=v.Scope.INLINE_BLOT,x}(p.default);l.default=b},function(s,l,c){var d=c(11),p=c(3),v={attributes:{compose:function(S,x,T){typeof S!="object"&&(S={}),typeof x!="object"&&(x={});var E=p(!0,{},x);T||(E=Object.keys(E).reduce(function(F,N){return E[N]!=null&&(F[N]=E[N]),F},{}));for(var k in S)S[k]!==void 0&&x[k]===void 0&&(E[k]=S[k]);return Object.keys(E).length>0?E:void 0},diff:function(S,x){typeof S!="object"&&(S={}),typeof x!="object"&&(x={});var T=Object.keys(S).concat(Object.keys(x)).reduce(function(E,k){return d(S[k],x[k])||(E[k]=x[k]===void 0?null:x[k]),E},{});return Object.keys(T).length>0?T:void 0},transform:function(S,x,T){if(typeof S!="object")return x;if(typeof x=="object"){if(!T)return x;var E=Object.keys(x).reduce(function(k,F){return S[F]===void 0&&(k[F]=x[F]),k},{});return Object.keys(E).length>0?E:void 0}}},iterator:function(S){return new b(S)},length:function(S){return typeof S.delete=="number"?S.delete:typeof S.retain=="number"?S.retain:typeof S.insert=="string"?S.insert.length:1}};function b(S){this.ops=S,this.index=0,this.offset=0}b.prototype.hasNext=function(){return this.peekLength()<1/0},b.prototype.next=function(S){S||(S=1/0);var x=this.ops[this.index];if(x){var T=this.offset,E=v.length(x);if(S>=E-T?(S=E-T,this.index+=1,this.offset=0):this.offset+=S,typeof x.delete=="number")return{delete:S};var k={};return x.attributes&&(k.attributes=x.attributes),typeof x.retain=="number"?k.retain=S:typeof x.insert=="string"?k.insert=x.insert.substr(T,S):k.insert=x.insert,k}else return{retain:1/0}},b.prototype.peek=function(){return this.ops[this.index]},b.prototype.peekLength=function(){return this.ops[this.index]?v.length(this.ops[this.index])-this.offset:1/0},b.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},b.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var S=this.offset,x=this.index,T=this.next(),E=this.ops.slice(this.index);return this.offset=S,this.index=x,[T].concat(E)}else return[]},s.exports=v},function(s,l){var c=function(){function d(N,$){return $!=null&&N instanceof $}var p;try{p=Map}catch{p=function(){}}var v;try{v=Set}catch{v=function(){}}var b;try{b=Promise}catch{b=function(){}}function S(N,$,D,O,P){typeof $=="object"&&(D=$.depth,O=$.prototype,P=$.includeNonEnumerable,$=$.circular);var I=[],z=[],K=typeof Buffer<"u";typeof $>"u"&&($=!0),typeof D>"u"&&(D=1/0);function j(oe,xe){if(oe===null)return null;if(xe===0)return oe;var se,Q;if(typeof oe!="object")return oe;if(d(oe,p))se=new p;else if(d(oe,v))se=new v;else if(d(oe,b))se=new b(function(Se,re){oe.then(function(le){Se(j(le,xe-1))},function(le){re(j(le,xe-1))})});else if(S.__isArray(oe))se=[];else if(S.__isRegExp(oe))se=new RegExp(oe.source,F(oe)),oe.lastIndex&&(se.lastIndex=oe.lastIndex);else if(S.__isDate(oe))se=new Date(oe.getTime());else{if(K&&Buffer.isBuffer(oe))return Buffer.allocUnsafe?se=Buffer.allocUnsafe(oe.length):se=new Buffer(oe.length),oe.copy(se),se;d(oe,Error)?se=Object.create(oe):typeof O>"u"?(Q=Object.getPrototypeOf(oe),se=Object.create(Q)):(se=Object.create(O),Q=O)}if($){var G=I.indexOf(oe);if(G!=-1)return z[G];I.push(oe),z.push(se)}d(oe,p)&&oe.forEach(function(Se,re){var le=j(re,xe-1),fe=j(Se,xe-1);se.set(le,fe)}),d(oe,v)&&oe.forEach(function(Se){var re=j(Se,xe-1);se.add(re)});for(var ce in oe){var he;Q&&(he=Object.getOwnPropertyDescriptor(Q,ce)),!(he&&he.set==null)&&(se[ce]=j(oe[ce],xe-1))}if(Object.getOwnPropertySymbols)for(var ve=Object.getOwnPropertySymbols(oe),ce=0;ce<ve.length;ce++){var qe=ve[ce],U=Object.getOwnPropertyDescriptor(oe,qe);U&&!U.enumerable&&!P||(se[qe]=j(oe[qe],xe-1),U.enumerable||Object.defineProperty(se,qe,{enumerable:!1}))}if(P)for(var Fe=Object.getOwnPropertyNames(oe),ce=0;ce<Fe.length;ce++){var De=Fe[ce],U=Object.getOwnPropertyDescriptor(oe,De);U&&U.enumerable||(se[De]=j(oe[De],xe-1),Object.defineProperty(se,De,{enumerable:!1}))}return se}return j(N,D)}S.clonePrototype=function($){if($===null)return null;var D=function(){};return D.prototype=$,new D};function x(N){return Object.prototype.toString.call(N)}S.__objToStr=x;function T(N){return typeof N=="object"&&x(N)==="[object Date]"}S.__isDate=T;function E(N){return typeof N=="object"&&x(N)==="[object Array]"}S.__isArray=E;function k(N){return typeof N=="object"&&x(N)==="[object RegExp]"}S.__isRegExp=k;function F(N){var $="";return N.global&&($+="g"),N.ignoreCase&&($+="i"),N.multiline&&($+="m"),$}return S.__getRegExpFlags=F,S}();typeof s=="object"&&s.exports&&(s.exports=c)},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function se(Q,G){var ce=[],he=!0,ve=!1,qe=void 0;try{for(var U=Q[Symbol.iterator](),Fe;!(he=(Fe=U.next()).done)&&(ce.push(Fe.value),!(G&&ce.length===G));he=!0);}catch(De){ve=!0,qe=De}finally{try{!he&&U.return&&U.return()}finally{if(ve)throw qe}}return ce}return function(Q,G){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return se(Q,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function se(Q,G){for(var ce=0;ce<G.length;ce++){var he=G[ce];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Q,he.key,he)}}return function(Q,G,ce){return G&&se(Q.prototype,G),ce&&se(Q,ce),Q}}(),v=function se(Q,G,ce){Q===null&&(Q=Function.prototype);var he=Object.getOwnPropertyDescriptor(Q,G);if(he===void 0){var ve=Object.getPrototypeOf(Q);return ve===null?void 0:se(ve,G,ce)}else{if("value"in he)return he.value;var qe=he.get;return qe===void 0?void 0:qe.call(ce)}},b=c(0),S=I(b),x=c(8),T=I(x),E=c(4),k=I(E),F=c(16),N=I(F),$=c(13),D=I($),O=c(25),P=I(O);function I(se){return se&&se.__esModule?se:{default:se}}function z(se,Q){if(!(se instanceof Q))throw new TypeError("Cannot call a class as a function")}function K(se,Q){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:se}function j(se,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);se.prototype=Object.create(Q&&Q.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(se,Q):se.__proto__=Q)}function oe(se){return se instanceof k.default||se instanceof E.BlockEmbed}var xe=function(se){j(Q,se);function Q(G,ce){z(this,Q);var he=K(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,G));return he.emitter=ce.emitter,Array.isArray(ce.whitelist)&&(he.whitelist=ce.whitelist.reduce(function(ve,qe){return ve[qe]=!0,ve},{})),he.domNode.addEventListener("DOMNodeInserted",function(){}),he.optimize(),he.enable(),he}return p(Q,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(ce,he){var ve=this.line(ce),qe=d(ve,2),U=qe[0],Fe=qe[1],De=this.line(ce+he),Se=d(De,1),re=Se[0];if(v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"deleteAt",this).call(this,ce,he),re!=null&&U!==re&&Fe>0){if(U instanceof E.BlockEmbed||re instanceof E.BlockEmbed){this.optimize();return}if(U instanceof D.default){var le=U.newlineIndex(U.length(),!0);if(le>-1&&(U=U.split(le+1),U===re)){this.optimize();return}}else if(re instanceof D.default){var fe=re.newlineIndex(0);fe>-1&&re.split(fe+1)}var ue=re.children.head instanceof N.default?null:re.children.head;U.moveChildren(re,ue),U.remove()}this.optimize()}},{key:"enable",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",ce)}},{key:"formatAt",value:function(ce,he,ve,qe){this.whitelist!=null&&!this.whitelist[ve]||(v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"formatAt",this).call(this,ce,he,ve,qe),this.optimize())}},{key:"insertAt",value:function(ce,he,ve){if(!(ve!=null&&this.whitelist!=null&&!this.whitelist[he])){if(ce>=this.length())if(ve==null||S.default.query(he,S.default.Scope.BLOCK)==null){var qe=S.default.create(this.statics.defaultChild);this.appendChild(qe),ve==null&&he.endsWith(`
`)&&(he=he.slice(0,-1)),qe.insertAt(0,he,ve)}else{var U=S.default.create(he,ve);this.appendChild(U)}else v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"insertAt",this).call(this,ce,he,ve);this.optimize()}}},{key:"insertBefore",value:function(ce,he){if(ce.statics.scope===S.default.Scope.INLINE_BLOT){var ve=S.default.create(this.statics.defaultChild);ve.appendChild(ce),ce=ve}v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"insertBefore",this).call(this,ce,he)}},{key:"leaf",value:function(ce){return this.path(ce).pop()||[null,-1]}},{key:"line",value:function(ce){return ce===this.length()?this.line(ce-1):this.descendant(oe,ce)}},{key:"lines",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,ve=function qe(U,Fe,De){var Se=[],re=De;return U.children.forEachAt(Fe,De,function(le,fe,ue){oe(le)?Se.push(le):le instanceof S.default.Container&&(Se=Se.concat(qe(le,fe,re))),re-=ue}),Se};return ve(this,ce,he)}},{key:"optimize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"optimize",this).call(this,ce,he),ce.length>0&&this.emitter.emit(T.default.events.SCROLL_OPTIMIZE,ce,he))}},{key:"path",value:function(ce){return v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"path",this).call(this,ce).slice(1)}},{key:"update",value:function(ce){if(this.batch!==!0){var he=T.default.sources.USER;typeof ce=="string"&&(he=ce),Array.isArray(ce)||(ce=this.observer.takeRecords()),ce.length>0&&this.emitter.emit(T.default.events.SCROLL_BEFORE_UPDATE,he,ce),v(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"update",this).call(this,ce.concat([])),ce.length>0&&this.emitter.emit(T.default.events.SCROLL_UPDATE,he,ce)}}}]),Q}(S.default.Scroll);xe.blotName="scroll",xe.className="ql-editor",xe.tagName="DIV",xe.defaultChild="block",xe.allowedChildren=[k.default,E.BlockEmbed,P.default],l.default=xe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.SHORTKEY=l.default=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},p=function(){function Ce(me,q){var Ze=[],We=!0,tt=!1,Qe=void 0;try{for(var it=me[Symbol.iterator](),He;!(We=(He=it.next()).done)&&(Ze.push(He.value),!(q&&Ze.length===q));We=!0);}catch(Re){tt=!0,Qe=Re}finally{try{!We&&it.return&&it.return()}finally{if(tt)throw Qe}}return Ze}return function(me,q){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return Ce(me,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function Ce(me,q){for(var Ze=0;Ze<q.length;Ze++){var We=q[Ze];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(me,We.key,We)}}return function(me,q,Ze){return q&&Ce(me.prototype,q),Ze&&Ce(me,Ze),me}}(),b=c(21),S=se(b),x=c(11),T=se(x),E=c(3),k=se(E),F=c(2),N=se(F),$=c(20),D=se($),O=c(0),P=se(O),I=c(5),z=se(I),K=c(10),j=se(K),oe=c(9),xe=se(oe);function se(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function Q(Ce,me,q){return me in Ce?Object.defineProperty(Ce,me,{value:q,enumerable:!0,configurable:!0,writable:!0}):Ce[me]=q,Ce}function G(Ce,me){if(!(Ce instanceof me))throw new TypeError("Cannot call a class as a function")}function ce(Ce,me){if(!Ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:Ce}function he(Ce,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);Ce.prototype=Object.create(me&&me.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(Ce,me):Ce.__proto__=me)}var ve=(0,j.default)("quill:keyboard"),qe=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(Ce){he(me,Ce),v(me,null,[{key:"match",value:function(Ze,We){return We=Be(We),["altKey","ctrlKey","metaKey","shiftKey"].some(function(tt){return!!We[tt]!==Ze[tt]&&We[tt]!==null})?!1:We.key===(Ze.which||Ze.keyCode)}}]);function me(q,Ze){G(this,me);var We=ce(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,q,Ze));return We.bindings={},Object.keys(We.options.bindings).forEach(function(tt){tt==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||We.options.bindings[tt]&&We.addBinding(We.options.bindings[tt])}),We.addBinding({key:me.keys.ENTER,shiftKey:null},le),We.addBinding({key:me.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(We.addBinding({key:me.keys.BACKSPACE},{collapsed:!0},De),We.addBinding({key:me.keys.DELETE},{collapsed:!0},Se)):(We.addBinding({key:me.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},De),We.addBinding({key:me.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Se)),We.addBinding({key:me.keys.BACKSPACE},{collapsed:!1},re),We.addBinding({key:me.keys.DELETE},{collapsed:!1},re),We.addBinding({key:me.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},De),We.listen(),We}return v(me,[{key:"addBinding",value:function(Ze){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Qe=Be(Ze);if(Qe==null||Qe.key==null)return ve.warn("Attempted to add invalid keyboard binding",Qe);typeof We=="function"&&(We={handler:We}),typeof tt=="function"&&(tt={handler:tt}),Qe=(0,k.default)(Qe,We,tt),this.bindings[Qe.key]=this.bindings[Qe.key]||[],this.bindings[Qe.key].push(Qe)}},{key:"listen",value:function(){var Ze=this;this.quill.root.addEventListener("keydown",function(We){if(!We.defaultPrevented){var tt=We.which||We.keyCode,Qe=(Ze.bindings[tt]||[]).filter(function(ft){return me.match(We,ft)});if(Qe.length!==0){var it=Ze.quill.getSelection();if(!(it==null||!Ze.quill.hasFocus())){var He=Ze.quill.getLine(it.index),Re=p(He,2),Ve=Re[0],Oe=Re[1],be=Ze.quill.getLeaf(it.index),ie=p(be,2),Ee=ie[0],ot=ie[1],Xe=it.length===0?[Ee,ot]:Ze.quill.getLeaf(it.index+it.length),zt=p(Xe,2),qt=zt[0],bn=zt[1],Kn=Ee instanceof P.default.Text?Ee.value().slice(0,ot):"",zn=qt instanceof P.default.Text?qt.value().slice(bn):"",fn={collapsed:it.length===0,empty:it.length===0&&Ve.length()<=1,format:Ze.quill.getFormat(it),offset:Oe,prefix:Kn,suffix:zn},oo=Qe.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==fn.collapsed||ft.empty!=null&&ft.empty!==fn.empty||ft.offset!=null&&ft.offset!==fn.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(Tt){return fn.format[Tt]==null}))return!1}else if(d(ft.format)==="object"&&!Object.keys(ft.format).every(function(Tt){return ft.format[Tt]===!0?fn.format[Tt]!=null:ft.format[Tt]===!1?fn.format[Tt]==null:(0,T.default)(ft.format[Tt],fn.format[Tt])}))return!1;return ft.prefix!=null&&!ft.prefix.test(fn.prefix)||ft.suffix!=null&&!ft.suffix.test(fn.suffix)?!1:ft.handler.call(Ze,it,fn)!==!0});oo&&We.preventDefault()}}}})}}]),me}(xe.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:ue("bold"),italic:ue("italic"),underline:ue("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(me,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",z.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(me,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",z.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(me,q){q.format.indent!=null?this.quill.format("indent","-1",z.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,z.default.sources.USER)}},"indent code-block":fe(!0),"outdent code-block":fe(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(me){this.quill.deleteText(me.index-1,1,z.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(me){this.quill.history.cutoff();var q=new N.default().retain(me.index).delete(me.length).insert("	");this.quill.updateContents(q,z.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(me.index+1,z.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(me,q){this.quill.format("list",!1,z.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,z.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(me){var q=this.quill.getLine(me.index),Ze=p(q,2),We=Ze[0],tt=Ze[1],Qe=(0,k.default)({},We.formats(),{list:"checked"}),it=new N.default().retain(me.index).insert(`
`,Qe).retain(We.length()-tt-1).retain(1,{list:"unchecked"});this.quill.updateContents(it,z.default.sources.USER),this.quill.setSelection(me.index+1,z.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(me,q){var Ze=this.quill.getLine(me.index),We=p(Ze,2),tt=We[0],Qe=We[1],it=new N.default().retain(me.index).insert(`
`,q.format).retain(tt.length()-Qe-1).retain(1,{header:null});this.quill.updateContents(it,z.default.sources.USER),this.quill.setSelection(me.index+1,z.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(me,q){var Ze=q.prefix.length,We=this.quill.getLine(me.index),tt=p(We,2),Qe=tt[0],it=tt[1];if(it>Ze)return!0;var He=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":He="unchecked";break;case"[x]":He="checked";break;case"-":case"*":He="bullet";break;default:He="ordered"}this.quill.insertText(me.index," ",z.default.sources.USER),this.quill.history.cutoff();var Re=new N.default().retain(me.index-it).delete(Ze+1).retain(Qe.length()-2-it).retain(1,{list:He});this.quill.updateContents(Re,z.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(me.index-Ze,z.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(me){var q=this.quill.getLine(me.index),Ze=p(q,2),We=Ze[0],tt=Ze[1],Qe=new N.default().retain(me.index+We.length()-tt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Qe,z.default.sources.USER)}},"embed left":Fe(U.keys.LEFT,!1),"embed left shift":Fe(U.keys.LEFT,!0),"embed right":Fe(U.keys.RIGHT,!1),"embed right shift":Fe(U.keys.RIGHT,!0)}};function Fe(Ce,me){var q,Ze=Ce===U.keys.LEFT?"prefix":"suffix";return q={key:Ce,shiftKey:me,altKey:null},Q(q,Ze,/^$/),Q(q,"handler",function(tt){var Qe=tt.index;Ce===U.keys.RIGHT&&(Qe+=tt.length+1);var it=this.quill.getLeaf(Qe),He=p(it,1),Re=He[0];return Re instanceof P.default.Embed?(Ce===U.keys.LEFT?me?this.quill.setSelection(tt.index-1,tt.length+1,z.default.sources.USER):this.quill.setSelection(tt.index-1,z.default.sources.USER):me?this.quill.setSelection(tt.index,tt.length+1,z.default.sources.USER):this.quill.setSelection(tt.index+tt.length+1,z.default.sources.USER),!1):!0}),q}function De(Ce,me){if(!(Ce.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(Ce.index),Ze=p(q,1),We=Ze[0],tt={};if(me.offset===0){var Qe=this.quill.getLine(Ce.index-1),it=p(Qe,1),He=it[0];if(He!=null&&He.length()>1){var Re=We.formats(),Ve=this.quill.getFormat(Ce.index-1,1);tt=D.default.attributes.diff(Re,Ve)||{}}}var Oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(me.prefix)?2:1;this.quill.deleteText(Ce.index-Oe,Oe,z.default.sources.USER),Object.keys(tt).length>0&&this.quill.formatLine(Ce.index-Oe,Oe,tt,z.default.sources.USER),this.quill.focus()}}function Se(Ce,me){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(me.suffix)?2:1;if(!(Ce.index>=this.quill.getLength()-q)){var Ze={},We=0,tt=this.quill.getLine(Ce.index),Qe=p(tt,1),it=Qe[0];if(me.offset>=it.length()-1){var He=this.quill.getLine(Ce.index+1),Re=p(He,1),Ve=Re[0];if(Ve){var Oe=it.formats(),be=this.quill.getFormat(Ce.index,1);Ze=D.default.attributes.diff(Oe,be)||{},We=Ve.length()}}this.quill.deleteText(Ce.index,q,z.default.sources.USER),Object.keys(Ze).length>0&&this.quill.formatLine(Ce.index+We-1,q,Ze,z.default.sources.USER)}}function re(Ce){var me=this.quill.getLines(Ce),q={};if(me.length>1){var Ze=me[0].formats(),We=me[me.length-1].formats();q=D.default.attributes.diff(We,Ze)||{}}this.quill.deleteText(Ce,z.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(Ce.index,1,q,z.default.sources.USER),this.quill.setSelection(Ce.index,z.default.sources.SILENT),this.quill.focus()}function le(Ce,me){var q=this;Ce.length>0&&this.quill.scroll.deleteAt(Ce.index,Ce.length);var Ze=Object.keys(me.format).reduce(function(We,tt){return P.default.query(tt,P.default.Scope.BLOCK)&&!Array.isArray(me.format[tt])&&(We[tt]=me.format[tt]),We},{});this.quill.insertText(Ce.index,`
`,Ze,z.default.sources.USER),this.quill.setSelection(Ce.index+1,z.default.sources.SILENT),this.quill.focus(),Object.keys(me.format).forEach(function(We){Ze[We]==null&&(Array.isArray(me.format[We])||We!=="link"&&q.quill.format(We,me.format[We],z.default.sources.USER))})}function fe(Ce){return{key:U.keys.TAB,shiftKey:!Ce,format:{"code-block":!0},handler:function(q){var Ze=P.default.query("code-block"),We=q.index,tt=q.length,Qe=this.quill.scroll.descendant(Ze,We),it=p(Qe,2),He=it[0],Re=it[1];if(He!=null){var Ve=this.quill.getIndex(He),Oe=He.newlineIndex(Re,!0)+1,be=He.newlineIndex(Ve+Re+tt),ie=He.domNode.textContent.slice(Oe,be).split(`
`);Re=0,ie.forEach(function(Ee,ot){Ce?(He.insertAt(Oe+Re,Ze.TAB),Re+=Ze.TAB.length,ot===0?We+=Ze.TAB.length:tt+=Ze.TAB.length):Ee.startsWith(Ze.TAB)&&(He.deleteAt(Oe+Re,Ze.TAB.length),Re-=Ze.TAB.length,ot===0?We-=Ze.TAB.length:tt-=Ze.TAB.length),Re+=Ee.length+1}),this.quill.update(z.default.sources.USER),this.quill.setSelection(We,tt,z.default.sources.SILENT)}}}}function ue(Ce){return{key:Ce[0].toUpperCase(),shortKey:!0,handler:function(q,Ze){this.quill.format(Ce,!Ze.format[Ce],z.default.sources.USER)}}}function Be(Ce){if(typeof Ce=="string"||typeof Ce=="number")return Be({key:Ce});if((typeof Ce>"u"?"undefined":d(Ce))==="object"&&(Ce=(0,S.default)(Ce,!1)),typeof Ce.key=="string")if(U.keys[Ce.key.toUpperCase()]!=null)Ce.key=U.keys[Ce.key.toUpperCase()];else if(Ce.key.length===1)Ce.key=Ce.key.toUpperCase().charCodeAt(0);else return null;return Ce.shortKey&&(Ce[qe]=Ce.shortKey,delete Ce.shortKey),Ce}l.default=U,l.SHORTKEY=qe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function D(O,P){var I=[],z=!0,K=!1,j=void 0;try{for(var oe=O[Symbol.iterator](),xe;!(z=(xe=oe.next()).done)&&(I.push(xe.value),!(P&&I.length===P));z=!0);}catch(se){K=!0,j=se}finally{try{!z&&oe.return&&oe.return()}finally{if(K)throw j}}return I}return function(O,P){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return D(O,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function D(O,P,I){O===null&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,P);if(z===void 0){var K=Object.getPrototypeOf(O);return K===null?void 0:D(K,P,I)}else{if("value"in z)return z.value;var j=z.get;return j===void 0?void 0:j.call(I)}},v=function(){function D(O,P){for(var I=0;I<P.length;I++){var z=P[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,P,I){return P&&D(O.prototype,P),I&&D(O,I),O}}(),b=c(0),S=E(b),x=c(7),T=E(x);function E(D){return D&&D.__esModule?D:{default:D}}function k(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function F(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:D}function N(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(D,O):D.__proto__=O)}var $=function(D){N(O,D),v(O,null,[{key:"value",value:function(){}}]);function O(P,I){k(this,O);var z=F(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return z.selection=I,z.textNode=document.createTextNode(O.CONTENTS),z.domNode.appendChild(z.textNode),z._length=0,z}return v(O,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(I,z){if(this._length!==0)return p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,I,z);for(var K=this,j=0;K!=null&&K.statics.scope!==S.default.Scope.BLOCK_BLOT;)j+=K.offset(K.parent),K=K.parent;K!=null&&(this._length=O.CONTENTS.length,K.optimize(),K.formatAt(j,O.CONTENTS.length,I,z),this._length=0)}},{key:"index",value:function(I,z){return I===this.textNode?0:p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"index",this).call(this,I,z)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var I=this.textNode,z=this.selection.getNativeRange(),K=void 0,j=void 0,oe=void 0;if(z!=null&&z.start.node===I&&z.end.node===I){var xe=[I,z.start.offset,z.end.offset];K=xe[0],j=xe[1],oe=xe[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==O.CONTENTS){var se=this.textNode.data.split(O.CONTENTS).join("");this.next instanceof T.default?(K=this.next.domNode,this.next.insertAt(0,se),this.textNode.data=O.CONTENTS):(this.textNode.data=se,this.parent.insertBefore(S.default.create(this.textNode),this),this.textNode=document.createTextNode(O.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var Q=[j,oe].map(function(ce){return Math.max(0,Math.min(K.data.length,ce-1))}),G=d(Q,2);return j=G[0],oe=G[1],{startNode:K,startOffset:j,endNode:K,endOffset:oe}}}}},{key:"update",value:function(I,z){var K=this;if(I.some(function(oe){return oe.type==="characterData"&&oe.target===K.textNode})){var j=this.restore();j&&(z.range=j)}}},{key:"value",value:function(){return""}}]),O}(S.default.Embed);$.blotName="cursor",$.className="ql-cursor",$.tagName="span",$.CONTENTS="\uFEFF",l.default=$},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),p=S(d),v=c(4),b=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function E(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var k=function(F){E(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(p.default.Container);k.allowedChildren=[b.default,v.BlockEmbed,k],l.default=k},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ColorStyle=l.ColorClass=l.ColorAttributor=void 0;var d=function(){function $(D,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,O,P){return O&&$(D.prototype,O),P&&$(D,P),D}}(),p=function $(D,O,P){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,O);if(I===void 0){var z=Object.getPrototypeOf(D);return z===null?void 0:$(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(0),b=S(v);function S($){return $&&$.__esModule?$:{default:$}}function x($,D){if(!($ instanceof D))throw new TypeError("Cannot call a class as a function")}function T($,D){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:$}function E($,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);$.prototype=Object.create(D&&D.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf($,D):$.__proto__=D)}var k=function($){E(D,$);function D(){return x(this,D),T(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return d(D,[{key:"value",value:function(P){var I=p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"value",this).call(this,P);return I.startsWith("rgb(")?(I=I.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+I.split(",").map(function(z){return("00"+parseInt(z).toString(16)).slice(-2)}).join("")):I}}]),D}(b.default.Attributor.Style),F=new b.default.Attributor.Class("color","ql-color",{scope:b.default.Scope.INLINE}),N=new k("color","color",{scope:b.default.Scope.INLINE});l.ColorAttributor=k,l.ColorClass=F,l.ColorStyle=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.sanitize=l.default=void 0;var d=function(){function N($,D){for(var O=0;O<D.length;O++){var P=D[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty($,P.key,P)}}return function($,D,O){return D&&N($.prototype,D),O&&N($,O),$}}(),p=function N($,D,O){$===null&&($=Function.prototype);var P=Object.getOwnPropertyDescriptor($,D);if(P===void 0){var I=Object.getPrototypeOf($);return I===null?void 0:N(I,D,O)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(O)}},v=c(6),b=S(v);function S(N){return N&&N.__esModule?N:{default:N}}function x(N,$){if(!(N instanceof $))throw new TypeError("Cannot call a class as a function")}function T(N,$){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:N}function E(N,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);N.prototype=Object.create($&&$.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(N,$):N.__proto__=$)}var k=function(N){E($,N);function $(){return x(this,$),T(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return d($,[{key:"format",value:function(O,P){if(O!==this.statics.blotName||!P)return p($.prototype.__proto__||Object.getPrototypeOf($.prototype),"format",this).call(this,O,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(O){var P=p($.__proto__||Object.getPrototypeOf($),"create",this).call(this,O);return O=this.sanitize(O),P.setAttribute("href",O),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(O){return O.getAttribute("href")}},{key:"sanitize",value:function(O){return F(O,this.PROTOCOL_WHITELIST)?O:this.SANITIZED_URL}}]),$}(b.default);k.blotName="link",k.tagName="A",k.SANITIZED_URL="about:blank",k.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function F(N,$){var D=document.createElement("a");D.href=N;var O=D.href.slice(0,D.href.indexOf(":"));return $.indexOf(O)>-1}l.default=k,l.sanitize=F},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},p=function(){function $(D,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,O,P){return O&&$(D.prototype,O),P&&$(D,P),D}}(),v=c(23),b=T(v),S=c(107),x=T(S);function T($){return $&&$.__esModule?$:{default:$}}function E($,D){if(!($ instanceof D))throw new TypeError("Cannot call a class as a function")}var k=0;function F($,D){$.setAttribute(D,$.getAttribute(D)!=="true")}var N=function(){function $(D){var O=this;E(this,$),this.select=D,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){O.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case b.default.keys.ENTER:O.togglePicker();break;case b.default.keys.ESCAPE:O.escape(),P.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return p($,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),F(this.label,"aria-expanded"),F(this.options,"aria-hidden")}},{key:"buildItem",value:function(O){var P=this,I=document.createElement("span");return I.tabIndex="0",I.setAttribute("role","button"),I.classList.add("ql-picker-item"),O.hasAttribute("value")&&I.setAttribute("data-value",O.getAttribute("value")),O.textContent&&I.setAttribute("data-label",O.textContent),I.addEventListener("click",function(){P.selectItem(I,!0)}),I.addEventListener("keydown",function(z){switch(z.keyCode){case b.default.keys.ENTER:P.selectItem(I,!0),z.preventDefault();break;case b.default.keys.ESCAPE:P.escape(),z.preventDefault();break}}),I}},{key:"buildLabel",value:function(){var O=document.createElement("span");return O.classList.add("ql-picker-label"),O.innerHTML=x.default,O.tabIndex="0",O.setAttribute("role","button"),O.setAttribute("aria-expanded","false"),this.container.appendChild(O),O}},{key:"buildOptions",value:function(){var O=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+k,k+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(I){var z=O.buildItem(I);P.appendChild(z),I.selected===!0&&O.selectItem(z)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var O=this;[].slice.call(this.select.attributes).forEach(function(P){O.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var O=this;this.close(),setTimeout(function(){return O.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(O){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=this.container.querySelector(".ql-selected");if(O!==I&&(I!=null&&I.classList.remove("ql-selected"),O!=null&&(O.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(O.parentNode.children,O),O.hasAttribute("data-value")?this.label.setAttribute("data-value",O.getAttribute("data-value")):this.label.removeAttribute("data-value"),O.hasAttribute("data-label")?this.label.setAttribute("data-label",O.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":d(Event))==="object"){var z=document.createEvent("Event");z.initEvent("change",!0,!0),this.select.dispatchEvent(z)}this.close()}}},{key:"update",value:function(){var O=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];O=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var I=O!=null&&O!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",I)}}]),$}();l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(0),p=ve(d),v=c(5),b=ve(v),S=c(4),x=ve(S),T=c(16),E=ve(T),k=c(25),F=ve(k),N=c(24),$=ve(N),D=c(35),O=ve(D),P=c(6),I=ve(P),z=c(22),K=ve(z),j=c(7),oe=ve(j),xe=c(55),se=ve(xe),Q=c(42),G=ve(Q),ce=c(23),he=ve(ce);function ve(qe){return qe&&qe.__esModule?qe:{default:qe}}b.default.register({"blots/block":x.default,"blots/block/embed":S.BlockEmbed,"blots/break":E.default,"blots/container":F.default,"blots/cursor":$.default,"blots/embed":O.default,"blots/inline":I.default,"blots/scroll":K.default,"blots/text":oe.default,"modules/clipboard":se.default,"modules/history":G.default,"modules/keyboard":he.default}),p.default.register(x.default,E.default,$.default,I.default,K.default,oe.default),l.default=b.default},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(1),p=function(){function v(b){this.domNode=b,this.domNode[d.DATA_KEY]={blot:this}}return Object.defineProperty(v.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),v.create=function(b){if(this.tagName==null)throw new d.ParchmentError("Blot definition missing tagName");var S;return Array.isArray(this.tagName)?(typeof b=="string"&&(b=b.toUpperCase(),parseInt(b).toString()===b&&(b=parseInt(b))),typeof b=="number"?S=document.createElement(this.tagName[b-1]):this.tagName.indexOf(b)>-1?S=document.createElement(b):S=document.createElement(this.tagName[0])):S=document.createElement(this.tagName),this.className&&S.classList.add(this.className),S},v.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},v.prototype.clone=function(){var b=this.domNode.cloneNode(!1);return d.create(b)},v.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[d.DATA_KEY]},v.prototype.deleteAt=function(b,S){var x=this.isolate(b,S);x.remove()},v.prototype.formatAt=function(b,S,x,T){var E=this.isolate(b,S);if(d.query(x,d.Scope.BLOT)!=null&&T)E.wrap(x,T);else if(d.query(x,d.Scope.ATTRIBUTE)!=null){var k=d.create(this.statics.scope);E.wrap(k),k.format(x,T)}},v.prototype.insertAt=function(b,S,x){var T=x==null?d.create("text",S):d.create(S,x),E=this.split(b);this.parent.insertBefore(T,E)},v.prototype.insertInto=function(b,S){S===void 0&&(S=null),this.parent!=null&&this.parent.children.remove(this);var x=null;b.children.insertBefore(this,S),S!=null&&(x=S.domNode),(this.domNode.parentNode!=b.domNode||this.domNode.nextSibling!=x)&&b.domNode.insertBefore(this.domNode,x),this.parent=b,this.attach()},v.prototype.isolate=function(b,S){var x=this.split(b);return x.split(S),x},v.prototype.length=function(){return 1},v.prototype.offset=function(b){return b===void 0&&(b=this.parent),this.parent==null||this==b?0:this.parent.children.offset(this)+this.parent.offset(b)},v.prototype.optimize=function(b){this.domNode[d.DATA_KEY]!=null&&delete this.domNode[d.DATA_KEY].mutations},v.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},v.prototype.replace=function(b){b.parent!=null&&(b.parent.insertBefore(this,b.next),b.remove())},v.prototype.replaceWith=function(b,S){var x=typeof b=="string"?d.create(b,S):b;return x.replace(this),x},v.prototype.split=function(b,S){return b===0?this:this.next},v.prototype.update=function(b,S){},v.prototype.wrap=function(b,S){var x=typeof b=="string"?d.create(b,S):b;return this.parent!=null&&this.parent.insertBefore(x,this.next),x.appendChild(this),x},v.blotName="abstract",v}();l.default=p},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(12),p=c(32),v=c(33),b=c(1),S=function(){function x(T){this.attributes={},this.domNode=T,this.build()}return x.prototype.attribute=function(T,E){E?T.add(this.domNode,E)&&(T.value(this.domNode)!=null?this.attributes[T.attrName]=T:delete this.attributes[T.attrName]):(T.remove(this.domNode),delete this.attributes[T.attrName])},x.prototype.build=function(){var T=this;this.attributes={};var E=d.default.keys(this.domNode),k=p.default.keys(this.domNode),F=v.default.keys(this.domNode);E.concat(k).concat(F).forEach(function(N){var $=b.query(N,b.Scope.ATTRIBUTE);$ instanceof d.default&&(T.attributes[$.attrName]=$)})},x.prototype.copy=function(T){var E=this;Object.keys(this.attributes).forEach(function(k){var F=E.attributes[k].value(E.domNode);T.format(k,F)})},x.prototype.move=function(T){var E=this;this.copy(T),Object.keys(this.attributes).forEach(function(k){E.attributes[k].remove(E.domNode)}),this.attributes={}},x.prototype.values=function(){var T=this;return Object.keys(this.attributes).reduce(function(E,k){return E[k]=T.attributes[k].value(T.domNode),E},{})},x}();l.default=S},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var E in T)T.hasOwnProperty(E)&&(x[E]=T[E])};return function(x,T){S(x,T);function E(){this.constructor=x}x.prototype=T===null?Object.create(T):(E.prototype=T.prototype,new E)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(12);function v(S,x){var T=S.getAttribute("class")||"";return T.split(/\s+/).filter(function(E){return E.indexOf(x+"-")===0})}var b=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.keys=function(T){return(T.getAttribute("class")||"").split(/\s+/).map(function(E){return E.split("-").slice(0,-1).join("-")})},x.prototype.add=function(T,E){return this.canAdd(T,E)?(this.remove(T),T.classList.add(this.keyName+"-"+E),!0):!1},x.prototype.remove=function(T){var E=v(T,this.keyName);E.forEach(function(k){T.classList.remove(k)}),T.classList.length===0&&T.removeAttribute("class")},x.prototype.value=function(T){var E=v(T,this.keyName)[0]||"",k=E.slice(this.keyName.length+1);return this.canAdd(T,k)?k:""},x}(p.default);l.default=b},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var E in T)T.hasOwnProperty(E)&&(x[E]=T[E])};return function(x,T){S(x,T);function E(){this.constructor=x}x.prototype=T===null?Object.create(T):(E.prototype=T.prototype,new E)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(12);function v(S){var x=S.split("-"),T=x.slice(1).map(function(E){return E[0].toUpperCase()+E.slice(1)}).join("");return x[0]+T}var b=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.keys=function(T){return(T.getAttribute("style")||"").split(";").map(function(E){var k=E.split(":");return k[0].trim()})},x.prototype.add=function(T,E){return this.canAdd(T,E)?(T.style[v(this.keyName)]=E,!0):!1},x.prototype.remove=function(T){T.style[v(this.keyName)]="",T.getAttribute("style")||T.removeAttribute("style")},x.prototype.value=function(T){var E=T.style[v(this.keyName)];return this.canAdd(T,E)?E:""},x}(p.default);l.default=b},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function b(S,x){for(var T=0;T<x.length;T++){var E=x[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,x,T){return x&&b(S.prototype,x),T&&b(S,T),S}}();function p(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}var v=function(){function b(S,x){p(this,b),this.quill=S,this.options=x,this.modules={}}return d(b,[{key:"init",value:function(){var x=this;Object.keys(this.options.modules).forEach(function(T){x.modules[T]==null&&x.addModule(T)})}},{key:"addModule",value:function(x){var T=this.quill.constructor.import("modules/"+x);return this.modules[x]=new T(this.quill,this.options.modules[x]||{}),this.modules[x]}}]),b}();v.DEFAULTS={modules:{}},v.themes={default:v},l.default=v},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function D(O,P){for(var I=0;I<P.length;I++){var z=P[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,P,I){return P&&D(O.prototype,P),I&&D(O,I),O}}(),p=function D(O,P,I){O===null&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,P);if(z===void 0){var K=Object.getPrototypeOf(O);return K===null?void 0:D(K,P,I)}else{if("value"in z)return z.value;var j=z.get;return j===void 0?void 0:j.call(I)}},v=c(0),b=T(v),S=c(7),x=T(S);function T(D){return D&&D.__esModule?D:{default:D}}function E(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function k(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:D}function F(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(D,O):D.__proto__=O)}var N="\uFEFF",$=function(D){F(O,D);function O(P){E(this,O);var I=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,P));return I.contentNode=document.createElement("span"),I.contentNode.setAttribute("contenteditable",!1),[].slice.call(I.domNode.childNodes).forEach(function(z){I.contentNode.appendChild(z)}),I.leftGuard=document.createTextNode(N),I.rightGuard=document.createTextNode(N),I.domNode.appendChild(I.leftGuard),I.domNode.appendChild(I.contentNode),I.domNode.appendChild(I.rightGuard),I}return d(O,[{key:"index",value:function(I,z){return I===this.leftGuard?0:I===this.rightGuard?1:p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"index",this).call(this,I,z)}},{key:"restore",value:function(I){var z=void 0,K=void 0,j=I.data.split(N).join("");if(I===this.leftGuard)if(this.prev instanceof x.default){var oe=this.prev.length();this.prev.insertAt(oe,j),z={startNode:this.prev.domNode,startOffset:oe+j.length}}else K=document.createTextNode(j),this.parent.insertBefore(b.default.create(K),this),z={startNode:K,startOffset:j.length};else I===this.rightGuard&&(this.next instanceof x.default?(this.next.insertAt(0,j),z={startNode:this.next.domNode,startOffset:j.length}):(K=document.createTextNode(j),this.parent.insertBefore(b.default.create(K),this.next),z={startNode:K,startOffset:j.length}));return I.data=N,z}},{key:"update",value:function(I,z){var K=this;I.forEach(function(j){if(j.type==="characterData"&&(j.target===K.leftGuard||j.target===K.rightGuard)){var oe=K.restore(j.target);oe&&(z.range=oe)}})}}]),O}(b.default.Embed);l.default=$},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.AlignStyle=l.AlignClass=l.AlignAttribute=void 0;var d=c(0),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}var b={scope:p.default.Scope.BLOCK,whitelist:["right","center","justify"]},S=new p.default.Attributor.Attribute("align","align",b),x=new p.default.Attributor.Class("align","ql-align",b),T=new p.default.Attributor.Style("align","text-align",b);l.AlignAttribute=S,l.AlignClass=x,l.AlignStyle=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.BackgroundStyle=l.BackgroundClass=void 0;var d=c(0),p=b(d),v=c(26);function b(T){return T&&T.__esModule?T:{default:T}}var S=new p.default.Attributor.Class("background","ql-bg",{scope:p.default.Scope.INLINE}),x=new v.ColorAttributor("background","background-color",{scope:p.default.Scope.INLINE});l.BackgroundClass=S,l.BackgroundStyle=x},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.DirectionStyle=l.DirectionClass=l.DirectionAttribute=void 0;var d=c(0),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}var b={scope:p.default.Scope.BLOCK,whitelist:["rtl"]},S=new p.default.Attributor.Attribute("direction","dir",b),x=new p.default.Attributor.Class("direction","ql-direction",b),T=new p.default.Attributor.Style("direction","direction",b);l.DirectionAttribute=S,l.DirectionClass=x,l.DirectionStyle=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.FontClass=l.FontStyle=void 0;var d=function(){function D(O,P){for(var I=0;I<P.length;I++){var z=P[I];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,P,I){return P&&D(O.prototype,P),I&&D(O,I),O}}(),p=function D(O,P,I){O===null&&(O=Function.prototype);var z=Object.getOwnPropertyDescriptor(O,P);if(z===void 0){var K=Object.getPrototypeOf(O);return K===null?void 0:D(K,P,I)}else{if("value"in z)return z.value;var j=z.get;return j===void 0?void 0:j.call(I)}},v=c(0),b=S(v);function S(D){return D&&D.__esModule?D:{default:D}}function x(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function T(D,O){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:D}function E(D,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);D.prototype=Object.create(O&&O.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(D,O):D.__proto__=O)}var k={scope:b.default.Scope.INLINE,whitelist:["serif","monospace"]},F=new b.default.Attributor.Class("font","ql-font",k),N=function(D){E(O,D);function O(){return x(this,O),T(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return d(O,[{key:"value",value:function(I){return p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"value",this).call(this,I).replace(/["']/g,"")}}]),O}(b.default.Attributor.Style),$=new N("font","font-family",k);l.FontStyle=$,l.FontClass=F},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.SizeStyle=l.SizeClass=void 0;var d=c(0),p=v(d);function v(x){return x&&x.__esModule?x:{default:x}}var b=new p.default.Attributor.Class("size","ql-size",{scope:p.default.Scope.INLINE,whitelist:["small","large","huge"]}),S=new p.default.Attributor.Style("size","font-size",{scope:p.default.Scope.INLINE,whitelist:["10px","18px","32px"]});l.SizeClass=b,l.SizeStyle=S},function(s,l,c){s.exports={align:{"":c(76),center:c(77),right:c(78),justify:c(79)},background:c(80),blockquote:c(81),bold:c(82),clean:c(83),code:c(58),"code-block":c(58),color:c(84),direction:{"":c(85),rtl:c(86)},float:{center:c(87),full:c(88),left:c(89),right:c(90)},formula:c(91),header:{1:c(92),2:c(93)},italic:c(94),image:c(95),indent:{"+1":c(96),"-1":c(97)},link:c(98),list:{ordered:c(99),bullet:c(100),check:c(101)},script:{sub:c(102),super:c(103)},strike:c(104),underline:c(105),video:c(106)}},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.getLastChangeIndex=l.default=void 0;var d=function(){function P(I,z){for(var K=0;K<z.length;K++){var j=z[K];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,z,K){return z&&P(I.prototype,z),K&&P(I,K),I}}(),p=c(0),v=E(p),b=c(5),S=E(b),x=c(9),T=E(x);function E(P){return P&&P.__esModule?P:{default:P}}function k(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function F(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function N(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var $=function(P){N(I,P);function I(z,K){k(this,I);var j=F(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,z,K));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(S.default.events.EDITOR_CHANGE,function(oe,xe,se,Q){oe!==S.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||Q===S.default.sources.USER?j.record(xe,se):j.transform(xe))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return d(I,[{key:"change",value:function(K,j){if(this.stack[K].length!==0){var oe=this.stack[K].pop();this.stack[j].push(oe),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(oe[K],S.default.sources.USER),this.ignoreChange=!1;var xe=O(oe[K]);this.quill.setSelection(xe)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(K,j){if(K.ops.length!==0){this.stack.redo=[];var oe=this.quill.getContents().diff(j),xe=Date.now();if(this.lastRecorded+this.options.delay>xe&&this.stack.undo.length>0){var se=this.stack.undo.pop();oe=oe.compose(se.undo),K=se.redo.compose(K)}else this.lastRecorded=xe;this.stack.undo.push({redo:K,undo:oe}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(K){this.stack.undo.forEach(function(j){j.undo=K.transform(j.undo,!0),j.redo=K.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=K.transform(j.undo,!0),j.redo=K.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),I}(T.default);$.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function D(P){var I=P.ops[P.ops.length-1];return I==null?!1:I.insert!=null?typeof I.insert=="string"&&I.insert.endsWith(`
`):I.attributes!=null?Object.keys(I.attributes).some(function(z){return v.default.query(z,v.default.Scope.BLOCK)!=null}):!1}function O(P){var I=P.reduce(function(K,j){return K+=j.delete||0,K},0),z=P.length()-I;return D(P)&&(z-=1),z}l.default=$,l.getLastChangeIndex=O},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.BaseTooltip=void 0;var d=function(){function le(fe,ue){for(var Be=0;Be<ue.length;Be++){var Ce=ue[Be];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(fe,Ce.key,Ce)}}return function(fe,ue,Be){return ue&&le(fe.prototype,ue),Be&&le(fe,Be),fe}}(),p=function le(fe,ue,Be){fe===null&&(fe=Function.prototype);var Ce=Object.getOwnPropertyDescriptor(fe,ue);if(Ce===void 0){var me=Object.getPrototypeOf(fe);return me===null?void 0:le(me,ue,Be)}else{if("value"in Ce)return Ce.value;var q=Ce.get;return q===void 0?void 0:q.call(Be)}},v=c(3),b=xe(v),S=c(2),x=xe(S),T=c(8),E=xe(T),k=c(23),F=xe(k),N=c(34),$=xe(N),D=c(59),O=xe(D),P=c(60),I=xe(P),z=c(28),K=xe(z),j=c(61),oe=xe(j);function xe(le){return le&&le.__esModule?le:{default:le}}function se(le,fe){if(!(le instanceof fe))throw new TypeError("Cannot call a class as a function")}function Q(le,fe){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:le}function G(le,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);le.prototype=Object.create(fe&&fe.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(le,fe):le.__proto__=fe)}var ce=[!1,"center","right","justify"],he=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ve=[!1,"serif","monospace"],qe=["1","2","3",!1],U=["small",!1,"large","huge"],Fe=function(le){G(fe,le);function fe(ue,Be){se(this,fe);var Ce=Q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,ue,Be)),me=function q(Ze){if(!document.body.contains(ue.root))return document.body.removeEventListener("click",q);Ce.tooltip!=null&&!Ce.tooltip.root.contains(Ze.target)&&document.activeElement!==Ce.tooltip.textbox&&!Ce.quill.hasFocus()&&Ce.tooltip.hide(),Ce.pickers!=null&&Ce.pickers.forEach(function(We){We.container.contains(Ze.target)||We.close()})};return ue.emitter.listenDOM("click",document.body,me),Ce}return d(fe,[{key:"addModule",value:function(Be){var Ce=p(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),"addModule",this).call(this,Be);return Be==="toolbar"&&this.extendToolbar(Ce),Ce}},{key:"buildButtons",value:function(Be,Ce){Be.forEach(function(me){var q=me.getAttribute("class")||"";q.split(/\s+/).forEach(function(Ze){if(!!Ze.startsWith("ql-")&&(Ze=Ze.slice(3),Ce[Ze]!=null))if(Ze==="direction")me.innerHTML=Ce[Ze][""]+Ce[Ze].rtl;else if(typeof Ce[Ze]=="string")me.innerHTML=Ce[Ze];else{var We=me.value||"";We!=null&&Ce[Ze][We]&&(me.innerHTML=Ce[Ze][We])}})})}},{key:"buildPickers",value:function(Be,Ce){var me=this;this.pickers=Be.map(function(Ze){if(Ze.classList.contains("ql-align"))return Ze.querySelector("option")==null&&re(Ze,ce),new I.default(Ze,Ce.align);if(Ze.classList.contains("ql-background")||Ze.classList.contains("ql-color")){var We=Ze.classList.contains("ql-background")?"background":"color";return Ze.querySelector("option")==null&&re(Ze,he,We==="background"?"#ffffff":"#000000"),new O.default(Ze,Ce[We])}else return Ze.querySelector("option")==null&&(Ze.classList.contains("ql-font")?re(Ze,ve):Ze.classList.contains("ql-header")?re(Ze,qe):Ze.classList.contains("ql-size")&&re(Ze,U)),new K.default(Ze)});var q=function(){me.pickers.forEach(function(We){We.update()})};this.quill.on(E.default.events.EDITOR_CHANGE,q)}}]),fe}($.default);Fe.DEFAULTS=(0,b.default)(!0,{},$.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var fe=this,ue=this.container.querySelector("input.ql-image[type=file]");ue==null&&(ue=document.createElement("input"),ue.setAttribute("type","file"),ue.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ue.classList.add("ql-image"),ue.addEventListener("change",function(){if(ue.files!=null&&ue.files[0]!=null){var Be=new FileReader;Be.onload=function(Ce){var me=fe.quill.getSelection(!0);fe.quill.updateContents(new x.default().retain(me.index).delete(me.length).insert({image:Ce.target.result}),E.default.sources.USER),fe.quill.setSelection(me.index+1,E.default.sources.SILENT),ue.value=""},Be.readAsDataURL(ue.files[0])}}),this.container.appendChild(ue)),ue.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var De=function(le){G(fe,le);function fe(ue,Be){se(this,fe);var Ce=Q(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,ue,Be));return Ce.textbox=Ce.root.querySelector('input[type="text"]'),Ce.listen(),Ce}return d(fe,[{key:"listen",value:function(){var Be=this;this.textbox.addEventListener("keydown",function(Ce){F.default.match(Ce,"enter")?(Be.save(),Ce.preventDefault()):F.default.match(Ce,"escape")&&(Be.cancel(),Ce.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Ce!=null?this.textbox.value=Ce:Be!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Be)||""),this.root.setAttribute("data-mode",Be)}},{key:"restoreFocus",value:function(){var Be=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Be}},{key:"save",value:function(){var Be=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Ce=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Be,E.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Be,E.default.sources.USER)),this.quill.root.scrollTop=Ce;break}case"video":Be=Se(Be);case"formula":{if(!Be)break;var me=this.quill.getSelection(!0);if(me!=null){var q=me.index+me.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),Be,E.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",E.default.sources.USER),this.quill.setSelection(q+2,E.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),fe}(oe.default);function Se(le){var fe=le.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||le.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return fe?(fe[1]||"https")+"://www.youtube.com/embed/"+fe[2]+"?showinfo=0":(fe=le.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(fe[1]||"https")+"://player.vimeo.com/video/"+fe[2]+"/":le}function re(le,fe){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;fe.forEach(function(Be){var Ce=document.createElement("option");Be===ue?Ce.setAttribute("selected","selected"):Ce.setAttribute("value",Be),le.appendChild(Ce)})}l.BaseTooltip=De,l.default=Fe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function p(){this.head=this.tail=null,this.length=0}return p.prototype.append=function(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];this.insertBefore(v[0],null),v.length>1&&this.append.apply(this,v.slice(1))},p.prototype.contains=function(v){for(var b,S=this.iterator();b=S();)if(b===v)return!0;return!1},p.prototype.insertBefore=function(v,b){!v||(v.next=b,b!=null?(v.prev=b.prev,b.prev!=null&&(b.prev.next=v),b.prev=v,b===this.head&&(this.head=v)):this.tail!=null?(this.tail.next=v,v.prev=this.tail,this.tail=v):(v.prev=null,this.head=this.tail=v),this.length+=1)},p.prototype.offset=function(v){for(var b=0,S=this.head;S!=null;){if(S===v)return b;b+=S.length(),S=S.next}return-1},p.prototype.remove=function(v){!this.contains(v)||(v.prev!=null&&(v.prev.next=v.next),v.next!=null&&(v.next.prev=v.prev),v===this.head&&(this.head=v.next),v===this.tail&&(this.tail=v.prev),this.length-=1)},p.prototype.iterator=function(v){return v===void 0&&(v=this.head),function(){var b=v;return v!=null&&(v=v.next),b}},p.prototype.find=function(v,b){b===void 0&&(b=!1);for(var S,x=this.iterator();S=x();){var T=S.length();if(v<T||b&&v===T&&(S.next==null||S.next.length()!==0))return[S,v];v-=T}return[null,0]},p.prototype.forEach=function(v){for(var b,S=this.iterator();b=S();)v(b)},p.prototype.forEachAt=function(v,b,S){if(!(b<=0))for(var x=this.find(v),T=x[0],E=x[1],k,F=v-E,N=this.iterator(T);(k=N())&&F<v+b;){var $=k.length();v>F?S(k,v-F,Math.min(b,F+$-v)):S(k,0,Math.min($,v+b-F)),F+=$}},p.prototype.map=function(v){return this.reduce(function(b,S){return b.push(v(S)),b},[])},p.prototype.reduce=function(v,b){for(var S,x=this.iterator();S=x();)b=v(b,S);return b},p}();l.default=d},function(s,l,c){var d=this&&this.__extends||function(){var T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,k){E.__proto__=k}||function(E,k){for(var F in k)k.hasOwnProperty(F)&&(E[F]=k[F])};return function(E,k){T(E,k);function F(){this.constructor=E}E.prototype=k===null?Object.create(k):(F.prototype=k.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(17),v=c(1),b={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},S=100,x=function(T){d(E,T);function E(k){var F=T.call(this,k)||this;return F.scroll=F,F.observer=new MutationObserver(function(N){F.update(N)}),F.observer.observe(F.domNode,b),F.attach(),F}return E.prototype.detach=function(){T.prototype.detach.call(this),this.observer.disconnect()},E.prototype.deleteAt=function(k,F){this.update(),k===0&&F===this.length()?this.children.forEach(function(N){N.remove()}):T.prototype.deleteAt.call(this,k,F)},E.prototype.formatAt=function(k,F,N,$){this.update(),T.prototype.formatAt.call(this,k,F,N,$)},E.prototype.insertAt=function(k,F,N){this.update(),T.prototype.insertAt.call(this,k,F,N)},E.prototype.optimize=function(k,F){var N=this;k===void 0&&(k=[]),F===void 0&&(F={}),T.prototype.optimize.call(this,F);for(var $=[].slice.call(this.observer.takeRecords());$.length>0;)k.push($.pop());for(var D=function(z,K){K===void 0&&(K=!0),!(z==null||z===N)&&z.domNode.parentNode!=null&&(z.domNode[v.DATA_KEY].mutations==null&&(z.domNode[v.DATA_KEY].mutations=[]),K&&D(z.parent))},O=function(z){z.domNode[v.DATA_KEY]==null||z.domNode[v.DATA_KEY].mutations==null||(z instanceof p.default&&z.children.forEach(O),z.optimize(F))},P=k,I=0;P.length>0;I+=1){if(I>=S)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(z){var K=v.find(z.target,!0);K!=null&&(K.domNode===z.target&&(z.type==="childList"?(D(v.find(z.previousSibling,!1)),[].forEach.call(z.addedNodes,function(j){var oe=v.find(j,!1);D(oe,!1),oe instanceof p.default&&oe.children.forEach(function(xe){D(xe,!1)})})):z.type==="attributes"&&D(K.prev)),D(K))}),this.children.forEach(O),P=[].slice.call(this.observer.takeRecords()),$=P.slice();$.length>0;)k.push($.pop())}},E.prototype.update=function(k,F){var N=this;F===void 0&&(F={}),k=k||this.observer.takeRecords(),k.map(function($){var D=v.find($.target,!0);return D==null?null:D.domNode[v.DATA_KEY].mutations==null?(D.domNode[v.DATA_KEY].mutations=[$],D):(D.domNode[v.DATA_KEY].mutations.push($),null)}).forEach(function($){$==null||$===N||$.domNode[v.DATA_KEY]==null||$.update($.domNode[v.DATA_KEY].mutations||[],F)}),this.domNode[v.DATA_KEY].mutations!=null&&T.prototype.update.call(this,this.domNode[v.DATA_KEY].mutations,F),this.optimize(k,F)},E.blotName="scroll",E.defaultChild="block",E.scope=v.Scope.BLOCK_BLOT,E.tagName="DIV",E}(p.default);l.default=x},function(s,l,c){var d=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,E){T.__proto__=E}||function(T,E){for(var k in E)E.hasOwnProperty(k)&&(T[k]=E[k])};return function(T,E){x(T,E);function k(){this.constructor=T}T.prototype=E===null?Object.create(E):(k.prototype=E.prototype,new k)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(18),v=c(1);function b(x,T){if(Object.keys(x).length!==Object.keys(T).length)return!1;for(var E in x)if(x[E]!==T[E])return!1;return!0}var S=function(x){d(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T.formats=function(E){if(E.tagName!==T.tagName)return x.formats.call(this,E)},T.prototype.format=function(E,k){var F=this;E===this.statics.blotName&&!k?(this.children.forEach(function(N){N instanceof p.default||(N=N.wrap(T.blotName,!0)),F.attributes.copy(N)}),this.unwrap()):x.prototype.format.call(this,E,k)},T.prototype.formatAt=function(E,k,F,N){if(this.formats()[F]!=null||v.query(F,v.Scope.ATTRIBUTE)){var $=this.isolate(E,k);$.format(F,N)}else x.prototype.formatAt.call(this,E,k,F,N)},T.prototype.optimize=function(E){x.prototype.optimize.call(this,E);var k=this.formats();if(Object.keys(k).length===0)return this.unwrap();var F=this.next;F instanceof T&&F.prev===this&&b(k,F.formats())&&(F.moveChildren(this),F.remove())},T.blotName="inline",T.scope=v.Scope.INLINE_BLOT,T.tagName="SPAN",T}(p.default);l.default=S},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var E in T)T.hasOwnProperty(E)&&(x[E]=T[E])};return function(x,T){S(x,T);function E(){this.constructor=x}x.prototype=T===null?Object.create(T):(E.prototype=T.prototype,new E)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(18),v=c(1),b=function(S){d(x,S);function x(){return S!==null&&S.apply(this,arguments)||this}return x.formats=function(T){var E=v.query(x.blotName).tagName;if(T.tagName!==E)return S.formats.call(this,T)},x.prototype.format=function(T,E){v.query(T,v.Scope.BLOCK)!=null&&(T===this.statics.blotName&&!E?this.replaceWith(x.blotName):S.prototype.format.call(this,T,E))},x.prototype.formatAt=function(T,E,k,F){v.query(k,v.Scope.BLOCK)!=null?this.format(k,F):S.prototype.formatAt.call(this,T,E,k,F)},x.prototype.insertAt=function(T,E,k){if(k==null||v.query(E,v.Scope.INLINE)!=null)S.prototype.insertAt.call(this,T,E,k);else{var F=this.split(T),N=v.create(E,k);F.parent.insertBefore(N,F)}},x.prototype.update=function(T,E){navigator.userAgent.match(/Trident/)?this.build():S.prototype.update.call(this,T,E)},x.blotName="block",x.scope=v.Scope.BLOCK_BLOT,x.tagName="P",x}(p.default);l.default=b},function(s,l,c){var d=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var T in x)x.hasOwnProperty(T)&&(S[T]=x[T])};return function(S,x){b(S,x);function T(){this.constructor=S}S.prototype=x===null?Object.create(x):(T.prototype=x.prototype,new T)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(19),v=function(b){d(S,b);function S(){return b!==null&&b.apply(this,arguments)||this}return S.formats=function(x){},S.prototype.format=function(x,T){b.prototype.formatAt.call(this,0,this.length(),x,T)},S.prototype.formatAt=function(x,T,E,k){x===0&&T===this.length()?this.format(E,k):b.prototype.formatAt.call(this,x,T,E,k)},S.prototype.formats=function(){return this.statics.formats(this.domNode)},S}(p.default);l.default=v},function(s,l,c){var d=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var E in T)T.hasOwnProperty(E)&&(x[E]=T[E])};return function(x,T){S(x,T);function E(){this.constructor=x}x.prototype=T===null?Object.create(T):(E.prototype=T.prototype,new E)}}();Object.defineProperty(l,"__esModule",{value:!0});var p=c(19),v=c(1),b=function(S){d(x,S);function x(T){var E=S.call(this,T)||this;return E.text=E.statics.value(E.domNode),E}return x.create=function(T){return document.createTextNode(T)},x.value=function(T){var E=T.data;return E.normalize&&(E=E.normalize()),E},x.prototype.deleteAt=function(T,E){this.domNode.data=this.text=this.text.slice(0,T)+this.text.slice(T+E)},x.prototype.index=function(T,E){return this.domNode===T?E:-1},x.prototype.insertAt=function(T,E,k){k==null?(this.text=this.text.slice(0,T)+E+this.text.slice(T),this.domNode.data=this.text):S.prototype.insertAt.call(this,T,E,k)},x.prototype.length=function(){return this.text.length},x.prototype.optimize=function(T){S.prototype.optimize.call(this,T),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof x&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},x.prototype.position=function(T,E){return[this.domNode,T]},x.prototype.split=function(T,E){if(E===void 0&&(E=!1),!E){if(T===0)return this;if(T===this.length())return this.next}var k=v.create(this.domNode.splitText(T));return this.parent.insertBefore(k,this.next),this.text=this.statics.value(this.domNode),k},x.prototype.update=function(T,E){var k=this;T.some(function(F){return F.type==="characterData"&&F.target===k.domNode})&&(this.text=this.statics.value(this.domNode))},x.prototype.value=function(){return this.text},x.blotName="text",x.scope=v.Scope.INLINE_BLOT,x}(p.default);l.default=b},function(s,l,c){var d=document.createElement("div");if(d.classList.toggle("test-class",!1),d.classList.contains("test-class")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(v,b){return arguments.length>1&&!this.contains(v)==!b?b:p.call(this,v)}}String.prototype.startsWith||(String.prototype.startsWith=function(v,b){return b=b||0,this.substr(b,v.length)===v}),String.prototype.endsWith||(String.prototype.endsWith=function(v,b){var S=this.toString();(typeof b!="number"||!isFinite(b)||Math.floor(b)!==b||b>S.length)&&(b=S.length),b-=v.length;var x=S.indexOf(v,b);return x!==-1&&x===b}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof b!="function")throw new TypeError("predicate must be a function");for(var S=Object(this),x=S.length>>>0,T=arguments[1],E,k=0;k<x;k++)if(E=S[k],b.call(T,E,k,S))return E}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,l){var c=-1,d=1,p=0;function v(I,z,K){if(I==z)return I?[[p,I]]:[];(K<0||I.length<K)&&(K=null);var j=T(I,z),oe=I.substring(0,j);I=I.substring(j),z=z.substring(j),j=E(I,z);var xe=I.substring(I.length-j);I=I.substring(0,I.length-j),z=z.substring(0,z.length-j);var se=b(I,z);return oe&&se.unshift([p,oe]),xe&&se.push([p,xe]),F(se),K!=null&&(se=D(se,K)),se=O(se),se}function b(I,z){var K;if(!I)return[[d,z]];if(!z)return[[c,I]];var j=I.length>z.length?I:z,oe=I.length>z.length?z:I,xe=j.indexOf(oe);if(xe!=-1)return K=[[d,j.substring(0,xe)],[p,oe],[d,j.substring(xe+oe.length)]],I.length>z.length&&(K[0][0]=K[2][0]=c),K;if(oe.length==1)return[[c,I],[d,z]];var se=k(I,z);if(se){var Q=se[0],G=se[1],ce=se[2],he=se[3],ve=se[4],qe=v(Q,ce),U=v(G,he);return qe.concat([[p,ve]],U)}return S(I,z)}function S(I,z){for(var K=I.length,j=z.length,oe=Math.ceil((K+j)/2),xe=oe,se=2*oe,Q=new Array(se),G=new Array(se),ce=0;ce<se;ce++)Q[ce]=-1,G[ce]=-1;Q[xe+1]=0,G[xe+1]=0;for(var he=K-j,ve=he%2!=0,qe=0,U=0,Fe=0,De=0,Se=0;Se<oe;Se++){for(var re=-Se+qe;re<=Se-U;re+=2){var le=xe+re,fe;re==-Se||re!=Se&&Q[le-1]<Q[le+1]?fe=Q[le+1]:fe=Q[le-1]+1;for(var ue=fe-re;fe<K&&ue<j&&I.charAt(fe)==z.charAt(ue);)fe++,ue++;if(Q[le]=fe,fe>K)U+=2;else if(ue>j)qe+=2;else if(ve){var Be=xe+he-re;if(Be>=0&&Be<se&&G[Be]!=-1){var Ce=K-G[Be];if(fe>=Ce)return x(I,z,fe,ue)}}}for(var me=-Se+Fe;me<=Se-De;me+=2){var Be=xe+me,Ce;me==-Se||me!=Se&&G[Be-1]<G[Be+1]?Ce=G[Be+1]:Ce=G[Be-1]+1;for(var q=Ce-me;Ce<K&&q<j&&I.charAt(K-Ce-1)==z.charAt(j-q-1);)Ce++,q++;if(G[Be]=Ce,Ce>K)De+=2;else if(q>j)Fe+=2;else if(!ve){var le=xe+he-me;if(le>=0&&le<se&&Q[le]!=-1){var fe=Q[le],ue=xe+fe-le;if(Ce=K-Ce,fe>=Ce)return x(I,z,fe,ue)}}}}return[[c,I],[d,z]]}function x(I,z,K,j){var oe=I.substring(0,K),xe=z.substring(0,j),se=I.substring(K),Q=z.substring(j),G=v(oe,xe),ce=v(se,Q);return G.concat(ce)}function T(I,z){if(!I||!z||I.charAt(0)!=z.charAt(0))return 0;for(var K=0,j=Math.min(I.length,z.length),oe=j,xe=0;K<oe;)I.substring(xe,oe)==z.substring(xe,oe)?(K=oe,xe=K):j=oe,oe=Math.floor((j-K)/2+K);return oe}function E(I,z){if(!I||!z||I.charAt(I.length-1)!=z.charAt(z.length-1))return 0;for(var K=0,j=Math.min(I.length,z.length),oe=j,xe=0;K<oe;)I.substring(I.length-oe,I.length-xe)==z.substring(z.length-oe,z.length-xe)?(K=oe,xe=K):j=oe,oe=Math.floor((j-K)/2+K);return oe}function k(I,z){var K=I.length>z.length?I:z,j=I.length>z.length?z:I;if(K.length<4||j.length*2<K.length)return null;function oe(U,Fe,De){for(var Se=U.substring(De,De+Math.floor(U.length/4)),re=-1,le="",fe,ue,Be,Ce;(re=Fe.indexOf(Se,re+1))!=-1;){var me=T(U.substring(De),Fe.substring(re)),q=E(U.substring(0,De),Fe.substring(0,re));le.length<q+me&&(le=Fe.substring(re-q,re)+Fe.substring(re,re+me),fe=U.substring(0,De-q),ue=U.substring(De+me),Be=Fe.substring(0,re-q),Ce=Fe.substring(re+me))}return le.length*2>=U.length?[fe,ue,Be,Ce,le]:null}var xe=oe(K,j,Math.ceil(K.length/4)),se=oe(K,j,Math.ceil(K.length/2)),Q;if(!xe&&!se)return null;se?xe?Q=xe[4].length>se[4].length?xe:se:Q=se:Q=xe;var G,ce,he,ve;I.length>z.length?(G=Q[0],ce=Q[1],he=Q[2],ve=Q[3]):(he=Q[0],ve=Q[1],G=Q[2],ce=Q[3]);var qe=Q[4];return[G,ce,he,ve,qe]}function F(I){I.push([p,""]);for(var z=0,K=0,j=0,oe="",xe="",se;z<I.length;)switch(I[z][0]){case d:j++,xe+=I[z][1],z++;break;case c:K++,oe+=I[z][1],z++;break;case p:K+j>1?(K!==0&&j!==0&&(se=T(xe,oe),se!==0&&(z-K-j>0&&I[z-K-j-1][0]==p?I[z-K-j-1][1]+=xe.substring(0,se):(I.splice(0,0,[p,xe.substring(0,se)]),z++),xe=xe.substring(se),oe=oe.substring(se)),se=E(xe,oe),se!==0&&(I[z][1]=xe.substring(xe.length-se)+I[z][1],xe=xe.substring(0,xe.length-se),oe=oe.substring(0,oe.length-se))),K===0?I.splice(z-j,K+j,[d,xe]):j===0?I.splice(z-K,K+j,[c,oe]):I.splice(z-K-j,K+j,[c,oe],[d,xe]),z=z-K-j+(K?1:0)+(j?1:0)+1):z!==0&&I[z-1][0]==p?(I[z-1][1]+=I[z][1],I.splice(z,1)):z++,j=0,K=0,oe="",xe="";break}I[I.length-1][1]===""&&I.pop();var Q=!1;for(z=1;z<I.length-1;)I[z-1][0]==p&&I[z+1][0]==p&&(I[z][1].substring(I[z][1].length-I[z-1][1].length)==I[z-1][1]?(I[z][1]=I[z-1][1]+I[z][1].substring(0,I[z][1].length-I[z-1][1].length),I[z+1][1]=I[z-1][1]+I[z+1][1],I.splice(z-1,1),Q=!0):I[z][1].substring(0,I[z+1][1].length)==I[z+1][1]&&(I[z-1][1]+=I[z+1][1],I[z][1]=I[z][1].substring(I[z+1][1].length)+I[z+1][1],I.splice(z+1,1),Q=!0)),z++;Q&&F(I)}var N=v;N.INSERT=d,N.DELETE=c,N.EQUAL=p,s.exports=N;function $(I,z){if(z===0)return[p,I];for(var K=0,j=0;j<I.length;j++){var oe=I[j];if(oe[0]===c||oe[0]===p){var xe=K+oe[1].length;if(z===xe)return[j+1,I];if(z<xe){I=I.slice();var se=z-K,Q=[oe[0],oe[1].slice(0,se)],G=[oe[0],oe[1].slice(se)];return I.splice(j,1,Q,G),[j+1,I]}else K=xe}}throw new Error("cursor_pos is out of bounds!")}function D(I,z){var K=$(I,z),j=K[1],oe=K[0],xe=j[oe],se=j[oe+1];if(xe==null)return I;if(xe[0]!==p)return I;if(se!=null&&xe[1]+se[1]===se[1]+xe[1])return j.splice(oe,2,se,xe),P(j,oe,2);if(se!=null&&se[1].indexOf(xe[1])===0){j.splice(oe,2,[se[0],xe[1]],[0,xe[1]]);var Q=se[1].slice(xe[1].length);return Q.length>0&&j.splice(oe+2,0,[se[0],Q]),P(j,oe,3)}else return I}function O(I){for(var z=!1,K=function(se){return se.charCodeAt(0)>=56320&&se.charCodeAt(0)<=57343},j=function(se){return se.charCodeAt(se.length-1)>=55296&&se.charCodeAt(se.length-1)<=56319},oe=2;oe<I.length;oe+=1)I[oe-2][0]===p&&j(I[oe-2][1])&&I[oe-1][0]===c&&K(I[oe-1][1])&&I[oe][0]===d&&K(I[oe][1])&&(z=!0,I[oe-1][1]=I[oe-2][1].slice(-1)+I[oe-1][1],I[oe][1]=I[oe-2][1].slice(-1)+I[oe][1],I[oe-2][1]=I[oe-2][1].slice(0,-1));if(!z)return I;for(var xe=[],oe=0;oe<I.length;oe+=1)I[oe][1].length>0&&xe.push(I[oe]);return xe}function P(I,z,K){for(var j=z+K-1;j>=0&&j>=z-1;j--)if(j+1<I.length){var oe=I[j],xe=I[j+1];oe[0]===xe[1]&&I.splice(j,2,[oe[0],oe[1]+xe[1]])}return I}},function(s,l){l=s.exports=typeof Object.keys=="function"?Object.keys:c,l.shim=c;function c(d){var p=[];for(var v in d)p.push(v);return p}},function(s,l){var c=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";l=s.exports=c?d:p,l.supported=d;function d(v){return Object.prototype.toString.call(v)=="[object Arguments]"}l.unsupported=p;function p(v){return v&&typeof v=="object"&&typeof v.length=="number"&&Object.prototype.hasOwnProperty.call(v,"callee")&&!Object.prototype.propertyIsEnumerable.call(v,"callee")||!1}},function(s,l){var c=Object.prototype.hasOwnProperty,d="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(d=!1));function v(S,x,T){this.fn=S,this.context=x,this.once=T||!1}function b(){this._events=new p,this._eventsCount=0}b.prototype.eventNames=function(){var x=[],T,E;if(this._eventsCount===0)return x;for(E in T=this._events)c.call(T,E)&&x.push(d?E.slice(1):E);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(T)):x},b.prototype.listeners=function(x,T){var E=d?d+x:x,k=this._events[E];if(T)return!!k;if(!k)return[];if(k.fn)return[k.fn];for(var F=0,N=k.length,$=new Array(N);F<N;F++)$[F]=k[F].fn;return $},b.prototype.emit=function(x,T,E,k,F,N){var $=d?d+x:x;if(!this._events[$])return!1;var D=this._events[$],O=arguments.length,P,I;if(D.fn){switch(D.once&&this.removeListener(x,D.fn,void 0,!0),O){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,T),!0;case 3:return D.fn.call(D.context,T,E),!0;case 4:return D.fn.call(D.context,T,E,k),!0;case 5:return D.fn.call(D.context,T,E,k,F),!0;case 6:return D.fn.call(D.context,T,E,k,F,N),!0}for(I=1,P=new Array(O-1);I<O;I++)P[I-1]=arguments[I];D.fn.apply(D.context,P)}else{var z=D.length,K;for(I=0;I<z;I++)switch(D[I].once&&this.removeListener(x,D[I].fn,void 0,!0),O){case 1:D[I].fn.call(D[I].context);break;case 2:D[I].fn.call(D[I].context,T);break;case 3:D[I].fn.call(D[I].context,T,E);break;case 4:D[I].fn.call(D[I].context,T,E,k);break;default:if(!P)for(K=1,P=new Array(O-1);K<O;K++)P[K-1]=arguments[K];D[I].fn.apply(D[I].context,P)}}return!0},b.prototype.on=function(x,T,E){var k=new v(T,E||this),F=d?d+x:x;return this._events[F]?this._events[F].fn?this._events[F]=[this._events[F],k]:this._events[F].push(k):(this._events[F]=k,this._eventsCount++),this},b.prototype.once=function(x,T,E){var k=new v(T,E||this,!0),F=d?d+x:x;return this._events[F]?this._events[F].fn?this._events[F]=[this._events[F],k]:this._events[F].push(k):(this._events[F]=k,this._eventsCount++),this},b.prototype.removeListener=function(x,T,E,k){var F=d?d+x:x;if(!this._events[F])return this;if(!T)return--this._eventsCount===0?this._events=new p:delete this._events[F],this;var N=this._events[F];if(N.fn)N.fn===T&&(!k||N.once)&&(!E||N.context===E)&&(--this._eventsCount===0?this._events=new p:delete this._events[F]);else{for(var $=0,D=[],O=N.length;$<O;$++)(N[$].fn!==T||k&&!N[$].once||E&&N[$].context!==E)&&D.push(N[$]);D.length?this._events[F]=D.length===1?D[0]:D:--this._eventsCount===0?this._events=new p:delete this._events[F]}return this},b.prototype.removeAllListeners=function(x){var T;return x?(T=d?d+x:x,this._events[T]&&(--this._eventsCount===0?this._events=new p:delete this._events[T])):(this._events=new p,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prototype.setMaxListeners=function(){return this},b.prefixed=d,b.EventEmitter=b,typeof s<"u"&&(s.exports=b)},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.matchText=l.matchSpacing=l.matchNewline=l.matchBlot=l.matchAttributor=l.default=void 0;var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},p=function(){function be(ie,Ee){var ot=[],Xe=!0,zt=!1,qt=void 0;try{for(var bn=ie[Symbol.iterator](),Kn;!(Xe=(Kn=bn.next()).done)&&(ot.push(Kn.value),!(Ee&&ot.length===Ee));Xe=!0);}catch(zn){zt=!0,qt=zn}finally{try{!Xe&&bn.return&&bn.return()}finally{if(zt)throw qt}}return ot}return function(ie,Ee){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return be(ie,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function be(ie,Ee){for(var ot=0;ot<Ee.length;ot++){var Xe=Ee[ot];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(ie,Xe.key,Xe)}}return function(ie,Ee,ot){return Ee&&be(ie.prototype,Ee),ot&&be(ie,ot),ie}}(),b=c(3),S=G(b),x=c(2),T=G(x),E=c(0),k=G(E),F=c(5),N=G(F),$=c(10),D=G($),O=c(9),P=G(O),I=c(36),z=c(37),K=c(13),j=G(K),oe=c(26),xe=c(38),se=c(39),Q=c(40);function G(be){return be&&be.__esModule?be:{default:be}}function ce(be,ie,Ee){return ie in be?Object.defineProperty(be,ie,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):be[ie]=Ee,be}function he(be,ie){if(!(be instanceof ie))throw new TypeError("Cannot call a class as a function")}function ve(be,ie){if(!be)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:be}function qe(be,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);be.prototype=Object.create(ie&&ie.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(be,ie):be.__proto__=ie)}var U=(0,D.default)("quill:clipboard"),Fe="__ql-matcher",De=[[Node.TEXT_NODE,Oe],[Node.TEXT_NODE,He],["br",tt],[Node.ELEMENT_NODE,He],[Node.ELEMENT_NODE,We],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,Ze],[Node.ELEMENT_NODE,Ve],["li",it],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",Qe]],Se=[I.AlignAttribute,xe.DirectionAttribute].reduce(function(be,ie){return be[ie.keyName]=ie,be},{}),re=[I.AlignStyle,z.BackgroundStyle,oe.ColorStyle,xe.DirectionStyle,se.FontStyle,Q.SizeStyle].reduce(function(be,ie){return be[ie.keyName]=ie,be},{}),le=function(be){qe(ie,be);function ie(Ee,ot){he(this,ie);var Xe=ve(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,Ee,ot));return Xe.quill.root.addEventListener("paste",Xe.onPaste.bind(Xe)),Xe.container=Xe.quill.addContainer("ql-clipboard"),Xe.container.setAttribute("contenteditable",!0),Xe.container.setAttribute("tabindex",-1),Xe.matchers=[],De.concat(Xe.options.matchers).forEach(function(zt){var qt=p(zt,2),bn=qt[0],Kn=qt[1];!ot.matchVisual&&Kn===Re||Xe.addMatcher(bn,Kn)}),Xe}return v(ie,[{key:"addMatcher",value:function(ot,Xe){this.matchers.push([ot,Xe])}},{key:"convert",value:function(ot){if(typeof ot=="string")return this.container.innerHTML=ot.replace(/\>\r?\n +\</g,"><"),this.convert();var Xe=this.quill.getFormat(this.quill.selection.savedRange.index);if(Xe[j.default.blotName]){var zt=this.container.innerText;return this.container.innerHTML="",new T.default().insert(zt,ce({},j.default.blotName,Xe[j.default.blotName]))}var qt=this.prepareMatching(),bn=p(qt,2),Kn=bn[0],zn=bn[1],fn=me(this.container,Kn,zn);return Be(fn,`
`)&&fn.ops[fn.ops.length-1].attributes==null&&(fn=fn.compose(new T.default().retain(fn.length()-1).delete(1))),U.log("convert",this.container.innerHTML,fn),this.container.innerHTML="",fn}},{key:"dangerouslyPasteHTML",value:function(ot,Xe){var zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.default.sources.API;if(typeof ot=="string")this.quill.setContents(this.convert(ot),Xe),this.quill.setSelection(0,N.default.sources.SILENT);else{var qt=this.convert(Xe);this.quill.updateContents(new T.default().retain(ot).concat(qt),zt),this.quill.setSelection(ot+qt.length(),N.default.sources.SILENT)}}},{key:"onPaste",value:function(ot){var Xe=this;if(!(ot.defaultPrevented||!this.quill.isEnabled())){var zt=this.quill.getSelection(),qt=new T.default().retain(zt.index),bn=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(N.default.sources.SILENT),setTimeout(function(){qt=qt.concat(Xe.convert()).delete(zt.length),Xe.quill.updateContents(qt,N.default.sources.USER),Xe.quill.setSelection(qt.length()-zt.length,N.default.sources.SILENT),Xe.quill.scrollingContainer.scrollTop=bn,Xe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ot=this,Xe=[],zt=[];return this.matchers.forEach(function(qt){var bn=p(qt,2),Kn=bn[0],zn=bn[1];switch(Kn){case Node.TEXT_NODE:zt.push(zn);break;case Node.ELEMENT_NODE:Xe.push(zn);break;default:[].forEach.call(ot.container.querySelectorAll(Kn),function(fn){fn[Fe]=fn[Fe]||[],fn[Fe].push(zn)});break}}),[Xe,zt]}}]),ie}(P.default);le.DEFAULTS={matchers:[],matchVisual:!0};function fe(be,ie,Ee){return(typeof ie>"u"?"undefined":d(ie))==="object"?Object.keys(ie).reduce(function(ot,Xe){return fe(ot,Xe,ie[Xe])},be):be.reduce(function(ot,Xe){return Xe.attributes&&Xe.attributes[ie]?ot.push(Xe):ot.insert(Xe.insert,(0,S.default)({},ce({},ie,Ee),Xe.attributes))},new T.default)}function ue(be){if(be.nodeType!==Node.ELEMENT_NODE)return{};var ie="__ql-computed-style";return be[ie]||(be[ie]=window.getComputedStyle(be))}function Be(be,ie){for(var Ee="",ot=be.ops.length-1;ot>=0&&Ee.length<ie.length;--ot){var Xe=be.ops[ot];if(typeof Xe.insert!="string")break;Ee=Xe.insert+Ee}return Ee.slice(-1*ie.length)===ie}function Ce(be){if(be.childNodes.length===0)return!1;var ie=ue(be);return["block","list-item"].indexOf(ie.display)>-1}function me(be,ie,Ee){return be.nodeType===be.TEXT_NODE?Ee.reduce(function(ot,Xe){return Xe(be,ot)},new T.default):be.nodeType===be.ELEMENT_NODE?[].reduce.call(be.childNodes||[],function(ot,Xe){var zt=me(Xe,ie,Ee);return Xe.nodeType===be.ELEMENT_NODE&&(zt=ie.reduce(function(qt,bn){return bn(Xe,qt)},zt),zt=(Xe[Fe]||[]).reduce(function(qt,bn){return bn(Xe,qt)},zt)),ot.concat(zt)},new T.default):new T.default}function q(be,ie,Ee){return fe(Ee,be,!0)}function Ze(be,ie){var Ee=k.default.Attributor.Attribute.keys(be),ot=k.default.Attributor.Class.keys(be),Xe=k.default.Attributor.Style.keys(be),zt={};return Ee.concat(ot).concat(Xe).forEach(function(qt){var bn=k.default.query(qt,k.default.Scope.ATTRIBUTE);bn!=null&&(zt[bn.attrName]=bn.value(be),zt[bn.attrName])||(bn=Se[qt],bn!=null&&(bn.attrName===qt||bn.keyName===qt)&&(zt[bn.attrName]=bn.value(be)||void 0),bn=re[qt],bn!=null&&(bn.attrName===qt||bn.keyName===qt)&&(bn=re[qt],zt[bn.attrName]=bn.value(be)||void 0))}),Object.keys(zt).length>0&&(ie=fe(ie,zt)),ie}function We(be,ie){var Ee=k.default.query(be);if(Ee==null)return ie;if(Ee.prototype instanceof k.default.Embed){var ot={},Xe=Ee.value(be);Xe!=null&&(ot[Ee.blotName]=Xe,ie=new T.default().insert(ot,Ee.formats(be)))}else typeof Ee.formats=="function"&&(ie=fe(ie,Ee.blotName,Ee.formats(be)));return ie}function tt(be,ie){return Be(ie,`
`)||ie.insert(`
`),ie}function Qe(){return new T.default}function it(be,ie){var Ee=k.default.query(be);if(Ee==null||Ee.blotName!=="list-item"||!Be(ie,`
`))return ie;for(var ot=-1,Xe=be.parentNode;!Xe.classList.contains("ql-clipboard");)(k.default.query(Xe)||{}).blotName==="list"&&(ot+=1),Xe=Xe.parentNode;return ot<=0?ie:ie.compose(new T.default().retain(ie.length()-1).retain(1,{indent:ot}))}function He(be,ie){return Be(ie,`
`)||(Ce(be)||ie.length()>0&&be.nextSibling&&Ce(be.nextSibling))&&ie.insert(`
`),ie}function Re(be,ie){if(Ce(be)&&be.nextElementSibling!=null&&!Be(ie,`

`)){var Ee=be.offsetHeight+parseFloat(ue(be).marginTop)+parseFloat(ue(be).marginBottom);be.nextElementSibling.offsetTop>be.offsetTop+Ee*1.5&&ie.insert(`
`)}return ie}function Ve(be,ie){var Ee={},ot=be.style||{};return ot.fontStyle&&ue(be).fontStyle==="italic"&&(Ee.italic=!0),ot.fontWeight&&(ue(be).fontWeight.startsWith("bold")||parseInt(ue(be).fontWeight)>=700)&&(Ee.bold=!0),Object.keys(Ee).length>0&&(ie=fe(ie,Ee)),parseFloat(ot.textIndent||0)>0&&(ie=new T.default().insert("	").concat(ie)),ie}function Oe(be,ie){var Ee=be.data;if(be.parentNode.tagName==="O:P")return ie.insert(Ee.trim());if(Ee.trim().length===0&&be.parentNode.classList.contains("ql-clipboard"))return ie;if(!ue(be.parentNode).whiteSpace.startsWith("pre")){var ot=function(zt,qt){return qt=qt.replace(/[^\u00a0]/g,""),qt.length<1&&zt?" ":qt};Ee=Ee.replace(/\r\n/g," ").replace(/\n/g," "),Ee=Ee.replace(/\s\s+/g,ot.bind(ot,!0)),(be.previousSibling==null&&Ce(be.parentNode)||be.previousSibling!=null&&Ce(be.previousSibling))&&(Ee=Ee.replace(/^\s+/,ot.bind(ot,!1))),(be.nextSibling==null&&Ce(be.parentNode)||be.nextSibling!=null&&Ce(be.nextSibling))&&(Ee=Ee.replace(/\s+$/,ot.bind(ot,!1)))}return ie.insert(Ee)}l.default=le,l.matchAttributor=Ze,l.matchBlot=We,l.matchNewline=He,l.matchSpacing=Re,l.matchText=Oe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,$){for(var D=0;D<$.length;D++){var O=$[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,$,D){return $&&F(N.prototype,$),D&&F(N,D),N}}(),p=function F(N,$,D){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,$);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,$,D)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(D)}},v=c(6),b=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function E(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var k=function(F){E(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,[{key:"optimize",value:function(D){p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,D),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return p(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),N}(b.default);k.blotName="bold",k.tagName=["STRONG","B"],l.default=k},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addControls=l.default=void 0;var d=function(){function Q(G,ce){var he=[],ve=!0,qe=!1,U=void 0;try{for(var Fe=G[Symbol.iterator](),De;!(ve=(De=Fe.next()).done)&&(he.push(De.value),!(ce&&he.length===ce));ve=!0);}catch(Se){qe=!0,U=Se}finally{try{!ve&&Fe.return&&Fe.return()}finally{if(qe)throw U}}return he}return function(G,ce){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function Q(G,ce){for(var he=0;he<ce.length;he++){var ve=ce[he];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(G,ve.key,ve)}}return function(G,ce,he){return ce&&Q(G.prototype,ce),he&&Q(G,he),G}}(),v=c(2),b=D(v),S=c(0),x=D(S),T=c(5),E=D(T),k=c(10),F=D(k),N=c(9),$=D(N);function D(Q){return Q&&Q.__esModule?Q:{default:Q}}function O(Q,G,ce){return G in Q?Object.defineProperty(Q,G,{value:ce,enumerable:!0,configurable:!0,writable:!0}):Q[G]=ce,Q}function P(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function I(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function z(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var K=(0,F.default)("quill:toolbar"),j=function(Q){z(G,Q);function G(ce,he){P(this,G);var ve=I(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ce,he));if(Array.isArray(ve.options.container)){var qe=document.createElement("div");xe(qe,ve.options.container),ce.container.parentNode.insertBefore(qe,ce.container),ve.container=qe}else typeof ve.options.container=="string"?ve.container=document.querySelector(ve.options.container):ve.container=ve.options.container;if(!(ve.container instanceof HTMLElement)){var U;return U=K.error("Container required for toolbar",ve.options),I(ve,U)}return ve.container.classList.add("ql-toolbar"),ve.controls=[],ve.handlers={},Object.keys(ve.options.handlers).forEach(function(Fe){ve.addHandler(Fe,ve.options.handlers[Fe])}),[].forEach.call(ve.container.querySelectorAll("button, select"),function(Fe){ve.attach(Fe)}),ve.quill.on(E.default.events.EDITOR_CHANGE,function(Fe,De){Fe===E.default.events.SELECTION_CHANGE&&ve.update(De)}),ve.quill.on(E.default.events.SCROLL_OPTIMIZE,function(){var Fe=ve.quill.selection.getRange(),De=d(Fe,1),Se=De[0];ve.update(Se)}),ve}return p(G,[{key:"addHandler",value:function(he,ve){this.handlers[he]=ve}},{key:"attach",value:function(he){var ve=this,qe=[].find.call(he.classList,function(Fe){return Fe.indexOf("ql-")===0});if(!!qe){if(qe=qe.slice(3),he.tagName==="BUTTON"&&he.setAttribute("type","button"),this.handlers[qe]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[qe]==null){K.warn("ignoring attaching to disabled format",qe,he);return}if(x.default.query(qe)==null){K.warn("ignoring attaching to nonexistent format",qe,he);return}}var U=he.tagName==="SELECT"?"change":"click";he.addEventListener(U,function(Fe){var De=void 0;if(he.tagName==="SELECT"){if(he.selectedIndex<0)return;var Se=he.options[he.selectedIndex];Se.hasAttribute("selected")?De=!1:De=Se.value||!1}else he.classList.contains("ql-active")?De=!1:De=he.value||!he.hasAttribute("value"),Fe.preventDefault();ve.quill.focus();var re=ve.quill.selection.getRange(),le=d(re,1),fe=le[0];if(ve.handlers[qe]!=null)ve.handlers[qe].call(ve,De);else if(x.default.query(qe).prototype instanceof x.default.Embed){if(De=prompt("Enter "+qe),!De)return;ve.quill.updateContents(new b.default().retain(fe.index).delete(fe.length).insert(O({},qe,De)),E.default.sources.USER)}else ve.quill.format(qe,De,E.default.sources.USER);ve.update(fe)}),this.controls.push([qe,he])}}},{key:"update",value:function(he){var ve=he==null?{}:this.quill.getFormat(he);this.controls.forEach(function(qe){var U=d(qe,2),Fe=U[0],De=U[1];if(De.tagName==="SELECT"){var Se=void 0;if(he==null)Se=null;else if(ve[Fe]==null)Se=De.querySelector("option[selected]");else if(!Array.isArray(ve[Fe])){var re=ve[Fe];typeof re=="string"&&(re=re.replace(/\"/g,'\\"')),Se=De.querySelector('option[value="'+re+'"]')}Se==null?(De.value="",De.selectedIndex=-1):Se.selected=!0}else if(he==null)De.classList.remove("ql-active");else if(De.hasAttribute("value")){var le=ve[Fe]===De.getAttribute("value")||ve[Fe]!=null&&ve[Fe].toString()===De.getAttribute("value")||ve[Fe]==null&&!De.getAttribute("value");De.classList.toggle("ql-active",le)}else De.classList.toggle("ql-active",ve[Fe]!=null)})}}]),G}($.default);j.DEFAULTS={};function oe(Q,G,ce){var he=document.createElement("button");he.setAttribute("type","button"),he.classList.add("ql-"+G),ce!=null&&(he.value=ce),Q.appendChild(he)}function xe(Q,G){Array.isArray(G[0])||(G=[G]),G.forEach(function(ce){var he=document.createElement("span");he.classList.add("ql-formats"),ce.forEach(function(ve){if(typeof ve=="string")oe(he,ve);else{var qe=Object.keys(ve)[0],U=ve[qe];Array.isArray(U)?se(he,qe,U):oe(he,qe,U)}}),Q.appendChild(he)})}function se(Q,G,ce){var he=document.createElement("select");he.classList.add("ql-"+G),ce.forEach(function(ve){var qe=document.createElement("option");ve!==!1?qe.setAttribute("value",ve):qe.setAttribute("selected","selected"),he.appendChild(qe)}),Q.appendChild(he)}j.DEFAULTS={container:null,handlers:{clean:function(){var G=this,ce=this.quill.getSelection();if(ce!=null)if(ce.length==0){var he=this.quill.getFormat();Object.keys(he).forEach(function(ve){x.default.query(ve,x.default.Scope.INLINE)!=null&&G.quill.format(ve,!1)})}else this.quill.removeFormat(ce,E.default.sources.USER)},direction:function(G){var ce=this.quill.getFormat().align;G==="rtl"&&ce==null?this.quill.format("align","right",E.default.sources.USER):!G&&ce==="right"&&this.quill.format("align",!1,E.default.sources.USER),this.quill.format("direction",G,E.default.sources.USER)},indent:function(G){var ce=this.quill.getSelection(),he=this.quill.getFormat(ce),ve=parseInt(he.indent||0);if(G==="+1"||G==="-1"){var qe=G==="+1"?1:-1;he.direction==="rtl"&&(qe*=-1),this.quill.format("indent",ve+qe,E.default.sources.USER)}},link:function(G){G===!0&&(G=prompt("Enter link URL:")),this.quill.format("link",G,E.default.sources.USER)},list:function(G){var ce=this.quill.getSelection(),he=this.quill.getFormat(ce);G==="check"?he.list==="checked"||he.list==="unchecked"?this.quill.format("list",!1,E.default.sources.USER):this.quill.format("list","unchecked",E.default.sources.USER):this.quill.format("list",G,E.default.sources.USER)}}},l.default=j,l.addControls=xe},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,$){for(var D=0;D<$.length;D++){var O=$[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,$,D){return $&&F(N.prototype,$),D&&F(N,D),N}}(),p=function F(N,$,D){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,$);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,$,D)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(D)}},v=c(28),b=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function E(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var k=function(F){E(N,F);function N($,D){x(this,N);var O=T(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,$));return O.label.innerHTML=D,O.container.classList.add("ql-color-picker"),[].slice.call(O.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),O}return d(N,[{key:"buildItem",value:function(D){var O=p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"buildItem",this).call(this,D);return O.style.backgroundColor=D.getAttribute("value")||"",O}},{key:"selectItem",value:function(D,O){p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"selectItem",this).call(this,D,O);var P=this.label.querySelector(".ql-color-label"),I=D&&D.getAttribute("data-value")||"";P&&(P.tagName==="line"?P.style.stroke=I:P.style.fill=I)}}]),N}(b.default);l.default=k},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,$){for(var D=0;D<$.length;D++){var O=$[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,$,D){return $&&F(N.prototype,$),D&&F(N,D),N}}(),p=function F(N,$,D){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,$);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,$,D)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(D)}},v=c(28),b=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function E(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var k=function(F){E(N,F);function N($,D){x(this,N);var O=T(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,$));return O.container.classList.add("ql-icon-picker"),[].forEach.call(O.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=D[P.getAttribute("data-value")||""]}),O.defaultItem=O.container.querySelector(".ql-selected"),O.selectItem(O.defaultItem),O}return d(N,[{key:"selectItem",value:function(D,O){p(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"selectItem",this).call(this,D,O),D=D||this.defaultItem,this.label.innerHTML=D.innerHTML}}]),N}(b.default);l.default=k},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function b(S,x){for(var T=0;T<x.length;T++){var E=x[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,x,T){return x&&b(S.prototype,x),T&&b(S,T),S}}();function p(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}var v=function(){function b(S,x){var T=this;p(this,b),this.quill=S,this.boundsContainer=x||document.body,this.root=S.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){T.root.style.marginTop=-1*T.quill.root.scrollTop+"px"}),this.hide()}return d(b,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(x){var T=x.left+x.width/2-this.root.offsetWidth/2,E=x.bottom+this.quill.root.scrollTop;this.root.style.left=T+"px",this.root.style.top=E+"px",this.root.classList.remove("ql-flip");var k=this.boundsContainer.getBoundingClientRect(),F=this.root.getBoundingClientRect(),N=0;if(F.right>k.right&&(N=k.right-F.right,this.root.style.left=T+N+"px"),F.left<k.left&&(N=k.left-F.left,this.root.style.left=T+N+"px"),F.bottom>k.bottom){var $=F.bottom-F.top,D=x.bottom-x.top+$;this.root.style.top=E-D+"px",this.root.classList.add("ql-flip")}return N}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),b}();l.default=v},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function se(Q,G){var ce=[],he=!0,ve=!1,qe=void 0;try{for(var U=Q[Symbol.iterator](),Fe;!(he=(Fe=U.next()).done)&&(ce.push(Fe.value),!(G&&ce.length===G));he=!0);}catch(De){ve=!0,qe=De}finally{try{!he&&U.return&&U.return()}finally{if(ve)throw qe}}return ce}return function(Q,G){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return se(Q,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function se(Q,G,ce){Q===null&&(Q=Function.prototype);var he=Object.getOwnPropertyDescriptor(Q,G);if(he===void 0){var ve=Object.getPrototypeOf(Q);return ve===null?void 0:se(ve,G,ce)}else{if("value"in he)return he.value;var qe=he.get;return qe===void 0?void 0:qe.call(ce)}},v=function(){function se(Q,G){for(var ce=0;ce<G.length;ce++){var he=G[ce];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Q,he.key,he)}}return function(Q,G,ce){return G&&se(Q.prototype,G),ce&&se(Q,ce),Q}}(),b=c(3),S=P(b),x=c(8),T=P(x),E=c(43),k=P(E),F=c(27),N=P(F),$=c(15),D=c(41),O=P(D);function P(se){return se&&se.__esModule?se:{default:se}}function I(se,Q){if(!(se instanceof Q))throw new TypeError("Cannot call a class as a function")}function z(se,Q){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:se}function K(se,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);se.prototype=Object.create(Q&&Q.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(se,Q):se.__proto__=Q)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],oe=function(se){K(Q,se);function Q(G,ce){I(this,Q),ce.modules.toolbar!=null&&ce.modules.toolbar.container==null&&(ce.modules.toolbar.container=j);var he=z(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,G,ce));return he.quill.container.classList.add("ql-snow"),he}return v(Q,[{key:"extendToolbar",value:function(ce){ce.container.classList.add("ql-snow"),this.buildButtons([].slice.call(ce.container.querySelectorAll("button")),O.default),this.buildPickers([].slice.call(ce.container.querySelectorAll("select")),O.default),this.tooltip=new xe(this.quill,this.options.bounds),ce.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(he,ve){ce.handlers.link.call(ce,!ve.format.link)})}}]),Q}(k.default);oe.DEFAULTS=(0,S.default)(!0,{},k.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Q){if(Q){var G=this.quill.getSelection();if(G==null||G.length==0)return;var ce=this.quill.getText(G);/^\S+@\S+\.\S+$/.test(ce)&&ce.indexOf("mailto:")!==0&&(ce="mailto:"+ce);var he=this.quill.theme.tooltip;he.edit("link",ce)}else this.quill.format("link",!1)}}}}});var xe=function(se){K(Q,se);function Q(G,ce){I(this,Q);var he=z(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,G,ce));return he.preview=he.root.querySelector("a.ql-preview"),he}return v(Q,[{key:"listen",value:function(){var ce=this;p(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(he){ce.root.classList.contains("ql-editing")?ce.save():ce.edit("link",ce.preview.textContent),he.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(he){if(ce.linkRange!=null){var ve=ce.linkRange;ce.restoreFocus(),ce.quill.formatText(ve,"link",!1,T.default.sources.USER),delete ce.linkRange}he.preventDefault(),ce.hide()}),this.quill.on(T.default.events.SELECTION_CHANGE,function(he,ve,qe){if(he!=null){if(he.length===0&&qe===T.default.sources.USER){var U=ce.quill.scroll.descendant(N.default,he.index),Fe=d(U,2),De=Fe[0],Se=Fe[1];if(De!=null){ce.linkRange=new $.Range(he.index-Se,De.length());var re=N.default.formats(De.domNode);ce.preview.textContent=re,ce.preview.setAttribute("href",re),ce.show(),ce.position(ce.quill.getBounds(ce.linkRange));return}}else delete ce.linkRange;ce.hide()}})}},{key:"show",value:function(){p(Q.prototype.__proto__||Object.getPrototypeOf(Q.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),Q}(E.BaseTooltip);xe.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),l.default=oe},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(29),p=Xe(d),v=c(36),b=c(38),S=c(64),x=c(65),T=Xe(x),E=c(66),k=Xe(E),F=c(67),N=Xe(F),$=c(37),D=c(26),O=c(39),P=c(40),I=c(56),z=Xe(I),K=c(68),j=Xe(K),oe=c(27),xe=Xe(oe),se=c(69),Q=Xe(se),G=c(70),ce=Xe(G),he=c(71),ve=Xe(he),qe=c(72),U=Xe(qe),Fe=c(73),De=Xe(Fe),Se=c(13),re=Xe(Se),le=c(74),fe=Xe(le),ue=c(75),Be=Xe(ue),Ce=c(57),me=Xe(Ce),q=c(41),Ze=Xe(q),We=c(28),tt=Xe(We),Qe=c(59),it=Xe(Qe),He=c(60),Re=Xe(He),Ve=c(61),Oe=Xe(Ve),be=c(108),ie=Xe(be),Ee=c(62),ot=Xe(Ee);function Xe(zt){return zt&&zt.__esModule?zt:{default:zt}}p.default.register({"attributors/attribute/direction":b.DirectionAttribute,"attributors/class/align":v.AlignClass,"attributors/class/background":$.BackgroundClass,"attributors/class/color":D.ColorClass,"attributors/class/direction":b.DirectionClass,"attributors/class/font":O.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":v.AlignStyle,"attributors/style/background":$.BackgroundStyle,"attributors/style/color":D.ColorStyle,"attributors/style/direction":b.DirectionStyle,"attributors/style/font":O.FontStyle,"attributors/style/size":P.SizeStyle},!0),p.default.register({"formats/align":v.AlignClass,"formats/direction":b.DirectionClass,"formats/indent":S.IndentClass,"formats/background":$.BackgroundStyle,"formats/color":D.ColorStyle,"formats/font":O.FontClass,"formats/size":P.SizeClass,"formats/blockquote":T.default,"formats/code-block":re.default,"formats/header":k.default,"formats/list":N.default,"formats/bold":z.default,"formats/code":Se.Code,"formats/italic":j.default,"formats/link":xe.default,"formats/script":Q.default,"formats/strike":ce.default,"formats/underline":ve.default,"formats/image":U.default,"formats/video":De.default,"formats/list/item":F.ListItem,"modules/formula":fe.default,"modules/syntax":Be.default,"modules/toolbar":me.default,"themes/bubble":ie.default,"themes/snow":ot.default,"ui/icons":Ze.default,"ui/picker":tt.default,"ui/icon-picker":Re.default,"ui/color-picker":it.default,"ui/tooltip":Oe.default},!0),l.default=p.default},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.IndentClass=void 0;var d=function(){function N($,D){for(var O=0;O<D.length;O++){var P=D[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty($,P.key,P)}}return function($,D,O){return D&&N($.prototype,D),O&&N($,O),$}}(),p=function N($,D,O){$===null&&($=Function.prototype);var P=Object.getOwnPropertyDescriptor($,D);if(P===void 0){var I=Object.getPrototypeOf($);return I===null?void 0:N(I,D,O)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(O)}},v=c(0),b=S(v);function S(N){return N&&N.__esModule?N:{default:N}}function x(N,$){if(!(N instanceof $))throw new TypeError("Cannot call a class as a function")}function T(N,$){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:N}function E(N,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);N.prototype=Object.create($&&$.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(N,$):N.__proto__=$)}var k=function(N){E($,N);function $(){return x(this,$),T(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return d($,[{key:"add",value:function(O,P){if(P==="+1"||P==="-1"){var I=this.value(O)||0;P=P==="+1"?I+1:I-1}return P===0?(this.remove(O),!0):p($.prototype.__proto__||Object.getPrototypeOf($.prototype),"add",this).call(this,O,P)}},{key:"canAdd",value:function(O,P){return p($.prototype.__proto__||Object.getPrototypeOf($.prototype),"canAdd",this).call(this,O,P)||p($.prototype.__proto__||Object.getPrototypeOf($.prototype),"canAdd",this).call(this,O,parseInt(P))}},{key:"value",value:function(O){return parseInt(p($.prototype.__proto__||Object.getPrototypeOf($.prototype),"value",this).call(this,O))||void 0}}]),$}(b.default.Attributor.Class),F=new k("indent","ql-indent",{scope:b.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});l.IndentClass=F},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(4),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function S(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var T=function(E){x(k,E);function k(){return b(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(p.default);T.blotName="blockquote",T.tagName="blockquote",l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function k(F,N){for(var $=0;$<N.length;$++){var D=N[$];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(F,D.key,D)}}return function(F,N,$){return N&&k(F.prototype,N),$&&k(F,$),F}}(),p=c(4),v=b(p);function b(k){return k&&k.__esModule?k:{default:k}}function S(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}function x(k,F){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:k}function T(k,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);k.prototype=Object.create(F&&F.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(k,F):k.__proto__=F)}var E=function(k){T(F,k);function F(){return S(this,F),x(this,(F.__proto__||Object.getPrototypeOf(F)).apply(this,arguments))}return d(F,null,[{key:"formats",value:function($){return this.tagName.indexOf($.tagName)+1}}]),F}(v.default);E.blotName="header",E.tagName=["H1","H2","H3","H4","H5","H6"],l.default=E},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.ListItem=void 0;var d=function(){function I(z,K){for(var j=0;j<K.length;j++){var oe=K[j];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(z,oe.key,oe)}}return function(z,K,j){return K&&I(z.prototype,K),j&&I(z,j),z}}(),p=function I(z,K,j){z===null&&(z=Function.prototype);var oe=Object.getOwnPropertyDescriptor(z,K);if(oe===void 0){var xe=Object.getPrototypeOf(z);return xe===null?void 0:I(xe,K,j)}else{if("value"in oe)return oe.value;var se=oe.get;return se===void 0?void 0:se.call(j)}},v=c(0),b=k(v),S=c(4),x=k(S),T=c(25),E=k(T);function k(I){return I&&I.__esModule?I:{default:I}}function F(I,z,K){return z in I?Object.defineProperty(I,z,{value:K,enumerable:!0,configurable:!0,writable:!0}):I[z]=K,I}function N(I,z){if(!(I instanceof z))throw new TypeError("Cannot call a class as a function")}function $(I,z){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:I}function D(I,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);I.prototype=Object.create(z&&z.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(I,z):I.__proto__=z)}var O=function(I){D(z,I);function z(){return N(this,z),$(this,(z.__proto__||Object.getPrototypeOf(z)).apply(this,arguments))}return d(z,[{key:"format",value:function(j,oe){j===P.blotName&&!oe?this.replaceWith(b.default.create(this.statics.scope)):p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"format",this).call(this,j,oe)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,oe){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,oe),this):(this.parent.unwrap(),p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"replaceWith",this).call(this,j,oe))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:p(z.__proto__||Object.getPrototypeOf(z),"formats",this).call(this,j)}}]),z}(x.default);O.blotName="list-item",O.tagName="LI";var P=function(I){D(z,I),d(z,null,[{key:"create",value:function(j){var oe=j==="ordered"?"OL":"UL",xe=p(z.__proto__||Object.getPrototypeOf(z),"create",this).call(this,oe);return(j==="checked"||j==="unchecked")&&xe.setAttribute("data-checked",j==="checked"),xe}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function z(K){N(this,z);var j=$(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K)),oe=function(se){if(se.target.parentNode===K){var Q=j.statics.formats(K),G=b.default.find(se.target);Q==="checked"?G.format("list","unchecked"):Q==="unchecked"&&G.format("list","checked")}};return K.addEventListener("touchstart",oe),K.addEventListener("mousedown",oe),j}return d(z,[{key:"format",value:function(j,oe){this.children.length>0&&this.children.tail.format(j,oe)}},{key:"formats",value:function(){return F({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,oe){if(j instanceof O)p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"insertBefore",this).call(this,j,oe);else{var xe=oe==null?this.length():oe.offset(this),se=this.split(xe);se.parent.insertBefore(j,se)}}},{key:"optimize",value:function(j){p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"optimize",this).call(this,j);var oe=this.next;oe!=null&&oe.prev===this&&oe.statics.blotName===this.statics.blotName&&oe.domNode.tagName===this.domNode.tagName&&oe.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(oe.moveChildren(this),oe.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var oe=b.default.create(this.statics.defaultChild);j.moveChildren(oe),this.appendChild(oe)}p(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"replace",this).call(this,j)}}]),z}(E.default);P.blotName="list",P.scope=b.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[O],l.ListItem=O,l.default=P},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(56),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function S(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var T=function(E){x(k,E);function k(){return b(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(p.default);T.blotName="italic",T.tagName=["EM","I"],l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function F(N,$){for(var D=0;D<$.length;D++){var O=$[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,$,D){return $&&F(N.prototype,$),D&&F(N,D),N}}(),p=function F(N,$,D){N===null&&(N=Function.prototype);var O=Object.getOwnPropertyDescriptor(N,$);if(O===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:F(P,$,D)}else{if("value"in O)return O.value;var I=O.get;return I===void 0?void 0:I.call(D)}},v=c(6),b=S(v);function S(F){return F&&F.__esModule?F:{default:F}}function x(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:F}function E(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(F,N):F.__proto__=N)}var k=function(F){E(N,F);function N(){return x(this,N),T(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,null,[{key:"create",value:function(D){return D==="super"?document.createElement("sup"):D==="sub"?document.createElement("sub"):p(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,D)}},{key:"formats",value:function(D){if(D.tagName==="SUB")return"sub";if(D.tagName==="SUP")return"super"}}]),N}(b.default);k.blotName="script",k.tagName=["SUB","SUP"],l.default=k},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(6),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function S(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var T=function(E){x(k,E);function k(){return b(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(p.default);T.blotName="strike",T.tagName="S",l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=c(6),p=v(d);function v(E){return E&&E.__esModule?E:{default:E}}function b(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function S(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function x(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var T=function(E){x(k,E);function k(){return b(this,k),S(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(p.default);T.blotName="underline",T.tagName="U",l.default=T},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function $(D,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,O,P){return O&&$(D.prototype,O),P&&$(D,P),D}}(),p=function $(D,O,P){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,O);if(I===void 0){var z=Object.getPrototypeOf(D);return z===null?void 0:$(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(0),b=x(v),S=c(27);function x($){return $&&$.__esModule?$:{default:$}}function T($,D){if(!($ instanceof D))throw new TypeError("Cannot call a class as a function")}function E($,D){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:$}function k($,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);$.prototype=Object.create(D&&D.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf($,D):$.__proto__=D)}var F=["alt","height","width"],N=function($){k(D,$);function D(){return T(this,D),E(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return d(D,[{key:"format",value:function(P,I){F.indexOf(P)>-1?I?this.domNode.setAttribute(P,I):this.domNode.removeAttribute(P):p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,P,I)}}],[{key:"create",value:function(P){var I=p(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,P);return typeof P=="string"&&I.setAttribute("src",this.sanitize(P)),I}},{key:"formats",value:function(P){return F.reduce(function(I,z){return P.hasAttribute(z)&&(I[z]=P.getAttribute(z)),I},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,S.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),D}(b.default.Embed);N.blotName="image",N.tagName="IMG",l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0});var d=function(){function $(D,O){for(var P=0;P<O.length;P++){var I=O[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(D,I.key,I)}}return function(D,O,P){return O&&$(D.prototype,O),P&&$(D,P),D}}(),p=function $(D,O,P){D===null&&(D=Function.prototype);var I=Object.getOwnPropertyDescriptor(D,O);if(I===void 0){var z=Object.getPrototypeOf(D);return z===null?void 0:$(z,O,P)}else{if("value"in I)return I.value;var K=I.get;return K===void 0?void 0:K.call(P)}},v=c(4),b=c(27),S=x(b);function x($){return $&&$.__esModule?$:{default:$}}function T($,D){if(!($ instanceof D))throw new TypeError("Cannot call a class as a function")}function E($,D){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:$}function k($,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);$.prototype=Object.create(D&&D.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf($,D):$.__proto__=D)}var F=["height","width"],N=function($){k(D,$);function D(){return T(this,D),E(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return d(D,[{key:"format",value:function(P,I){F.indexOf(P)>-1?I?this.domNode.setAttribute(P,I):this.domNode.removeAttribute(P):p(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,P,I)}}],[{key:"create",value:function(P){var I=p(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,P);return I.setAttribute("frameborder","0"),I.setAttribute("allowfullscreen",!0),I.setAttribute("src",this.sanitize(P)),I}},{key:"formats",value:function(P){return F.reduce(function(I,z){return P.hasAttribute(z)&&(I[z]=P.getAttribute(z)),I},{})}},{key:"sanitize",value:function(P){return S.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),D}(v.BlockEmbed);N.blotName="video",N.className="ql-video",N.tagName="IFRAME",l.default=N},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.FormulaBlot=void 0;var d=function(){function P(I,z){for(var K=0;K<z.length;K++){var j=z[K];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(I,j.key,j)}}return function(I,z,K){return z&&P(I.prototype,z),K&&P(I,K),I}}(),p=function P(I,z,K){I===null&&(I=Function.prototype);var j=Object.getOwnPropertyDescriptor(I,z);if(j===void 0){var oe=Object.getPrototypeOf(I);return oe===null?void 0:P(oe,z,K)}else{if("value"in j)return j.value;var xe=j.get;return xe===void 0?void 0:xe.call(K)}},v=c(35),b=k(v),S=c(5),x=k(S),T=c(9),E=k(T);function k(P){return P&&P.__esModule?P:{default:P}}function F(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function N(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function $(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var D=function(P){$(I,P);function I(){return F(this,I),N(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return d(I,null,[{key:"create",value:function(K){var j=p(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,K);return typeof K=="string"&&(window.katex.render(K,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",K)),j}},{key:"value",value:function(K){return K.getAttribute("data-value")}}]),I}(b.default);D.blotName="formula",D.className="ql-formula",D.tagName="SPAN";var O=function(P){$(I,P),d(I,null,[{key:"register",value:function(){x.default.register(D,!0)}}]);function I(){F(this,I);var z=N(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return z}return I}(E.default);l.FormulaBlot=D,l.default=O},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.CodeToken=l.CodeBlock=void 0;var d=function(){function K(j,oe){for(var xe=0;xe<oe.length;xe++){var se=oe[xe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(j,se.key,se)}}return function(j,oe,xe){return oe&&K(j.prototype,oe),xe&&K(j,xe),j}}(),p=function K(j,oe,xe){j===null&&(j=Function.prototype);var se=Object.getOwnPropertyDescriptor(j,oe);if(se===void 0){var Q=Object.getPrototypeOf(j);return Q===null?void 0:K(Q,oe,xe)}else{if("value"in se)return se.value;var G=se.get;return G===void 0?void 0:G.call(xe)}},v=c(0),b=N(v),S=c(5),x=N(S),T=c(9),E=N(T),k=c(13),F=N(k);function N(K){return K&&K.__esModule?K:{default:K}}function $(K,j){if(!(K instanceof j))throw new TypeError("Cannot call a class as a function")}function D(K,j){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:K}function O(K,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);K.prototype=Object.create(j&&j.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(K,j):K.__proto__=j)}var P=function(K){O(j,K);function j(){return $(this,j),D(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return d(j,[{key:"replaceWith",value:function(xe){this.domNode.textContent=this.domNode.textContent,this.attach(),p(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,xe)}},{key:"highlight",value:function(xe){var se=this.domNode.textContent;this.cachedText!==se&&((se.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=xe(se),this.domNode.normalize(),this.attach()),this.cachedText=se)}}]),j}(F.default);P.className="ql-syntax";var I=new b.default.Attributor.Class("token","hljs",{scope:b.default.Scope.INLINE}),z=function(K){O(j,K),d(j,null,[{key:"register",value:function(){x.default.register(I,!0),x.default.register(P,!0)}}]);function j(oe,xe){$(this,j);var se=D(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,oe,xe));if(typeof se.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var Q=null;return se.quill.on(x.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(Q),Q=setTimeout(function(){se.highlight(),Q=null},se.options.interval)}),se.highlight(),se}return d(j,[{key:"highlight",value:function(){var xe=this;if(!this.quill.selection.composing){this.quill.update(x.default.sources.USER);var se=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(Q){Q.highlight(xe.options.highlight)}),this.quill.update(x.default.sources.SILENT),se!=null&&this.quill.setSelection(se,x.default.sources.SILENT)}}}]),j}(E.default);z.DEFAULTS={highlight:function(){return window.hljs==null?null:function(K){var j=window.hljs.highlightAuto(K);return j.value}}(),interval:1e3},l.CodeBlock=P,l.CodeToken=I,l.default=z},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,l){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,l){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,l){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,l){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,l){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.default=l.BubbleTooltip=void 0;var d=function j(oe,xe,se){oe===null&&(oe=Function.prototype);var Q=Object.getOwnPropertyDescriptor(oe,xe);if(Q===void 0){var G=Object.getPrototypeOf(oe);return G===null?void 0:j(G,xe,se)}else{if("value"in Q)return Q.value;var ce=Q.get;return ce===void 0?void 0:ce.call(se)}},p=function(){function j(oe,xe){for(var se=0;se<xe.length;se++){var Q=xe[se];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(oe,Q.key,Q)}}return function(oe,xe,se){return xe&&j(oe.prototype,xe),se&&j(oe,se),oe}}(),v=c(3),b=$(v),S=c(8),x=$(S),T=c(43),E=$(T),k=c(15),F=c(41),N=$(F);function $(j){return j&&j.__esModule?j:{default:j}}function D(j,oe){if(!(j instanceof oe))throw new TypeError("Cannot call a class as a function")}function O(j,oe){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe&&(typeof oe=="object"||typeof oe=="function")?oe:j}function P(j,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof oe);j.prototype=Object.create(oe&&oe.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(j,oe):j.__proto__=oe)}var I=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],z=function(j){P(oe,j);function oe(xe,se){D(this,oe),se.modules.toolbar!=null&&se.modules.toolbar.container==null&&(se.modules.toolbar.container=I);var Q=O(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,xe,se));return Q.quill.container.classList.add("ql-bubble"),Q}return p(oe,[{key:"extendToolbar",value:function(se){this.tooltip=new K(this.quill,this.options.bounds),this.tooltip.root.appendChild(se.container),this.buildButtons([].slice.call(se.container.querySelectorAll("button")),N.default),this.buildPickers([].slice.call(se.container.querySelectorAll("select")),N.default)}}]),oe}(E.default);z.DEFAULTS=(0,b.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(oe){oe?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var K=function(j){P(oe,j);function oe(xe,se){D(this,oe);var Q=O(this,(oe.__proto__||Object.getPrototypeOf(oe)).call(this,xe,se));return Q.quill.on(x.default.events.EDITOR_CHANGE,function(G,ce,he,ve){if(G===x.default.events.SELECTION_CHANGE)if(ce!=null&&ce.length>0&&ve===x.default.sources.USER){Q.show(),Q.root.style.left="0px",Q.root.style.width="",Q.root.style.width=Q.root.offsetWidth+"px";var qe=Q.quill.getLines(ce.index,ce.length);if(qe.length===1)Q.position(Q.quill.getBounds(ce));else{var U=qe[qe.length-1],Fe=Q.quill.getIndex(U),De=Math.min(U.length()-1,ce.index+ce.length-Fe),Se=Q.quill.getBounds(new k.Range(Fe,De));Q.position(Se)}}else document.activeElement!==Q.textbox&&Q.quill.hasFocus()&&Q.hide()}),Q}return p(oe,[{key:"listen",value:function(){var se=this;d(oe.prototype.__proto__||Object.getPrototypeOf(oe.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){se.root.classList.remove("ql-editing")}),this.quill.on(x.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!se.root.classList.contains("ql-hidden")){var Q=se.quill.getSelection();Q!=null&&se.position(se.quill.getBounds(Q))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(se){var Q=d(oe.prototype.__proto__||Object.getPrototypeOf(oe.prototype),"position",this).call(this,se),G=this.root.querySelector(".ql-tooltip-arrow");if(G.style.marginLeft="",Q===0)return Q;G.style.marginLeft=-1*Q-G.offsetWidth/2+"px"}}]),oe}(T.BaseTooltip);K.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),l.BubbleTooltip=K,l.default=z},function(s,l,c){s.exports=c(63)}]).default})})(dTe);const Htt=WTe(dTe.exports),jtt=z4({__name:"index",setup(e){const o=bC();return Zce(()=>{new Htt(o.value,{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:["Microsoft YaHei","Helvetica Neue","PingFang SC","sans-serif","simsun","serif","FangSong,serif","SimHei"]}],[{align:[]}],["clean"],["link","image","video"]]},theme:"snow"})}),(s,l)=>(iy(),J5("div",null,[bU("div",{ref_key:"quillRef",ref:o},null,512)]))}});const ztt=BCe(jtt,[["__scopeId","data-v-762e24e0"]]),Vtt={class:"page-container"},Utt={style:{"margin-top":"10px"}},rnt=z4({__name:"editor",setup(e){const o=bC("wangEditor");return(s,l)=>{const c=ZTe("Breadcrumb"),d=KTe,p=YTe,v=GTe;return iy(),J5("div",Vtt,[tp(c),tp(v,{class:"general-card page-main",title:s.$route.meta.title},{default:ry(()=>[tp(p,{type:"button",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=b=>o.value=b)},{default:ry(()=>[tp(d,{value:"wangEditor"},{default:ry(()=>[r4("wangEditor")]),_:1}),tp(d,{value:"tinymce"},{default:ry(()=>[r4("tinymce")]),_:1}),tp(d,{value:"quill"},{default:ry(()=>[r4("quill")]),_:1})]),_:1},8,["modelValue"]),bU("div",Utt,[o.value==="wangEditor"?(iy(),Wne(wtt,{key:0})):qne("",!0),o.value==="tinymce"?(iy(),Wne(Ltt,{key:1})):qne("",!0),o.value==="quill"?(iy(),Wne(ztt,{key:2})):qne("",!0)])]),_:1},8,["title"])])}}});export{rnt as default};
