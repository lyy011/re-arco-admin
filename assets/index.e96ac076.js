import{u as L,F as N,_ as q}from"./index.754fe26d.js";import{d as y,u as z,r as M,a as R,b as T,c as C,o as S,e as k,f as s,t as _,g as l,h as e,w as o,i as m,M as U,B as j,_ as A,j as Q,n as G,p as H,k as J}from"./index.ef3c83bc.js";import{I as K,C as O,L as W,S as X,a as Y}from"./index.85e53002.js";import{F as Z,a as ee}from"./index.734f4778.js";/* empty css              */import{u as oe}from"./loading.4a60746c.js";import"./get-value-by-path.7c16cfd3.js";const se={class:"login-form-wrapper"},te={class:"login-form-title"},ae={class:"login-form-sub-title"},ne={class:"login-form-error-msg"},re={class:"login-form-password-actions"},ue=m("\u8BB0\u4F4F\u5BC6\u7801"),ce=m("\u5FD8\u8BB0\u5BC6\u7801"),ie=m(" \u767B\u5F55 "),le=m(" \u6CE8\u518C\u8D26\u53F7 "),de=y({__name:"login-form",setup(r){const d=z(),p=M(""),{loading:g,setLoading:f}=oe(),b=R(),x="Cmbgz News Admin",t=L("login-config",{rememberPassword:!0,username:"admin",password:"admin"}),u=T({username:t.value.username,password:t.value.password}),D=async({values:a,errors:n})=>{if(!n){f(!0);try{await b.login({username:a.username,password:a.password}),U.success("\u767B\u5F55\u6210\u529F");const{redirect:c,...h}=d.currentRoute.value.query;d.push({path:c||"/",query:{...h}});const{rememberPassword:i}=t.value,{username:v,password:w}=a;t.value.username=i?v:"",t.value.password=i?w:""}catch(c){p.value=c.message}finally{f(!1)}}},I=a=>{t.value.rememberPassword=a};return(a,n)=>{const c=C("icon-user"),h=K,i=ee,v=C("icon-lock"),w=Y,V=O,P=W,B=j,E=X,$=Z;return S(),k("div",se,[s("div",te,"\u767B\u5F55 "+_(l(x)),1),s("div",ae,"\u767B\u5F55 "+_(l(x)),1),s("div",ne,_(p.value),1),e($,{ref:"loginForm",model:u,class:"login-form",layout:"vertical",onSubmit:D},{default:o(()=>[e(i,{field:"username",rules:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(h,{modelValue:u.username,"onUpdate:modelValue":n[0]||(n[0]=F=>u.username=F),placeholder:"\u7528\u6237\u540D\uFF1Aadmin"},{prefix:o(()=>[e(c)]),_:1},8,["modelValue"])]),_:1}),e(i,{field:"password",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],"validate-trigger":["change","blur"],"hide-label":""},{default:o(()=>[e(w,{modelValue:u.password,"onUpdate:modelValue":n[1]||(n[1]=F=>u.password=F),placeholder:"\u5BC6\u7801\uFF1Aadmin","allow-clear":""},{prefix:o(()=>[e(v)]),_:1},8,["modelValue"])]),_:1}),e(E,{size:16,direction:"vertical"},{default:o(()=>[s("div",re,[e(V,{checked:"rememberPassword","model-value":l(t).rememberPassword,onChange:I},{default:o(()=>[ue]),_:1},8,["model-value","onChange"]),e(P,null,{default:o(()=>[ce]),_:1})]),e(B,{type:"primary","html-type":"submit",long:"",loading:l(g)},{default:o(()=>[ie]),_:1},8,["loading"]),e(B,{type:"text",long:"",class:"login-form-register-btn"},{default:o(()=>[le]),_:1})]),_:1})]),_:1},8,["model"])])}}});const _e=A(de,[["__scopeId","data-v-288f92d6"]]),me=r=>(H("data-v-43c10102"),r=r(),J(),r),pe={class:"logo"},ge=me(()=>s("img",{alt:"logo",src:q},null,-1)),fe={class:"logo-text"},he={class:"content"},ve={class:"footer"},we=y({__name:"index",setup(r){const d="Cmbgz News Admin",g=Q().theme==="dark";return(f,b)=>(S(),k("div",{class:G(["container",{dark:g}])},[s("div",pe,[ge,s("div",fe,_(l(d)),1)]),s("div",he,[e(_e)]),s("div",ve,[e(N)])],2))}});const ke=A(we,[["__scopeId","data-v-43c10102"]]);export{ke as default};
