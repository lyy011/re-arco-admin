import{d as G,N as Y,l as D,D as y,b as ue,F as de,aa as Ee,m as Z,o as E,e as V,q as M,n as R,ad as Ae,r as $,a6 as Oe,ac as fe,a4 as Qe,a5 as Ye,z as Me,c as A,h as v,bq as Ze,H as Le,br as et,bs as tt,au as ot,G as J,w as ne,f as Pe,a3 as ae,W as j,L as le,i as Se,t as Ie,bt as nt,$ as at,bu as He,S as Q,bv as _e,C as Ne,aX as lt,aN as st,T as rt,bw as it}from"./index.eea0dd1e.js";import{u as H,G as Ve,c as qe,R as se,b as re,I as pt}from"./index.df8d2805.js";import{e as ct,T as Fe,u as ut,R as ke,d as dt}from"./index.267f8e3b.js";function ft(e,t){var o,n;const a=(o=t.span)!=null?o:1,l=(n=t.offset)!=null?n:0,s=Math.min(l,e);return{span:Math.min(s>0?a+l:a,e),offset:s,suffix:"suffix"in t?t.suffix!==!1:!1}}function vt({cols:e,collapsed:t,collapsedRows:o,itemDataList:n}){let a=!1,l=[];function s(r){return Math.ceil(r/e)>o}if(t){let r=0;for(let i=0;i<n.length;i++)n[i].suffix&&(r+=n[i].span,l.push(i));if(!s(r)){let i=0;for(;i<n.length;){const m=n[i];if(!m.suffix){if(r+=m.span,s(r))break;l.push(i)}i++}}a=n.some((i,m)=>!i.suffix&&!l.includes(m))}else l=n.map((r,i)=>i);return{overflow:a,displayIndexList:l}}const yt=G({name:"Grid",props:{cols:{type:[Number,Object],default:24},rowGap:{type:[Number,Object],default:0},colGap:{type:[Number,Object],default:0},collapsed:{type:Boolean,default:!1},collapsedRows:{type:Number,default:1}},setup(e){const{cols:t,rowGap:o,colGap:n,collapsedRows:a,collapsed:l}=Y(e),s=H(t,24),r=H(n,0),i=H(o,0),m=D("grid"),h=y(()=>[m]),b=y(()=>[{gap:`${i.value}px ${r.value}px`,"grid-template-columns":`repeat(${s.value}, minmax(0px, 1fr))`}]),T=ue(new Map),x=y(()=>{const u=[];for(const[p,f]of T.entries())u[p]=f;return u}),g=ue({overflow:!1,displayIndexList:[],cols:s.value,colGap:r.value});return de(()=>{g.cols=s.value,g.colGap=r.value}),de(()=>{const u=vt({cols:s.value,collapsed:l.value,collapsedRows:a.value,itemDataList:x.value});g.overflow=u.overflow,g.displayIndexList=u.displayIndexList}),Ee(Ve,g),Ee(qe,{collectItemData(u,p){T.set(u,p)},removeItemData(u){T.delete(u)}}),{classNames:h,style:b}}});function mt(e,t,o,n,a,l){return E(),V("div",{class:R(e.classNames),style:Ae(e.style)},[M(e.$slots,"default")],6)}var ie=Z(yt,[["render",mt]]),gt=Object.defineProperty,ht=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,Re=(e,t,o)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,wt=(e,t)=>{for(var o in t||(t={}))bt.call(t,o)&&Re(e,o,t[o]);if(Be)for(var o of Be(t))xt.call(t,o)&&Re(e,o,t[o]);return e},$t=(e,t)=>ht(e,Ct(t));const Tt=G({name:"GridItem",props:{span:{type:[Number,Object],default:1},offset:{type:[Number,Object],default:0},suffix:{type:Boolean,default:!1}},setup(e){const t=D("grid-item"),o=$(),{computedIndex:n}=ct({itemRef:o,selector:`.${t}`}),a=Oe(Ve,{overflow:!1,displayIndexList:[],cols:24,colGap:0}),l=Oe(qe),s=y(()=>{var p;return(p=a==null?void 0:a.displayIndexList)==null?void 0:p.includes(n.value)}),{span:r,offset:i}=Y(e),m=H(r,1),h=H(i,0),b=y(()=>ft(a.cols,$t(wt({},e),{span:m.value,offset:h.value}))),T=y(()=>[t]),x=y(()=>{const{offset:p,span:f}=b.value,{colGap:C}=a;return p>0?{"margin-left":`calc((${`(100% - ${C*(f-1)}px) / ${f}`} * ${p}) + ${C*p}px)`}:{}}),g=y(()=>{const{suffix:p,span:f}=b.value,{cols:C}=a;return p?`${C-f+1}`:`span ${f}`}),u=y(()=>{const{span:p}=b.value;return[{"grid-column":`${g.value} / span ${p}`},x.value,!s.value||p===0?{display:"none"}:{}]});return de(()=>{n.value!==-1&&(l==null||l.collectItemData(n.value,b.value))}),fe(()=>{n.value!==-1&&(l==null||l.removeItemData(n.value))}),{classNames:T,style:u,domRef:o,overflow:y(()=>a.overflow)}}});function Et(e,t,o,n,a,l){return E(),V("div",{ref:"domRef",class:R(e.classNames),style:Ae(e.style)},[M(e.$slots,"default",{overflow:e.overflow})],6)}var pe=Z(Tt,[["render",Et]]);const Xt=Object.assign(ie,{Row:se,Col:re,Item:pe,install:(e,t)=>{Qe(e,t);const o=Ye(t);e.component(o+se.name,se),e.component(o+re.name,re),e.component(o+ie.name,ie),e.component(o+pe.name,pe)}}),Ot=G({name:"TypographyEditContent",components:{Input:pt},props:{text:{type:String,required:!0}},emits:["change","end","update:text"],setup(e,{emit:t}){const n=[`${D("typography")}-edit-content`],a=$();function l(r){t("update:text",r),t("change",r)}function s(){t("end")}return Me(()=>{if(!a.value||!a.value.$el)return;const r=a.value.$el.querySelector("input");if(!r)return;r.focus&&r.focus();const{length:i}=r.value;r.setSelectionRange(i,i)}),{classNames:n,inputRef:a,onBlur:s,onChange:l,onEnd:s}}});function Pt(e,t,o,n,a,l){const s=A("Input");return E(),V("div",{class:R(e.classNames)},[v(s,{ref:"inputRef","auto-size":"","model-value":e.text,onBlur:e.onBlur,onInput:e.onChange,onKeydown:Ze(e.onEnd,["enter"])},null,8,["model-value","onBlur","onInput","onKeydown"])],2)}var St=Z(Ot,[["render",Pt]]);const It=G({name:"TypographyOperations",components:{Tooltip:Fe,IconCheckCircleFill:Le,IconCopy:et,IconEdit:tt},props:{editable:Boolean,copyable:Boolean,expandable:Boolean,isCopied:Boolean,isEllipsis:Boolean,expanded:Boolean,forceRenderExpand:Boolean,editTooltipProps:Object,copyTooltipProps:Object},emits:{edit:()=>!0,copy:()=>!0,expand:()=>!0},setup(e,{emit:t}){const o=D("typography"),n=y(()=>e.forceRenderExpand||e.expandable&&e.isEllipsis),{t:a}=ot();return{prefixCls:o,showExpand:n,t:a,onEditClick(){t("edit")},onCopyClick(){t("copy")},onExpandClick(){t("expand")}}}});function _t(e,t,o,n,a,l){const s=A("IconEdit"),r=A("Tooltip"),i=A("IconCheckCircleFill"),m=A("IconCopy");return E(),V(at,null,[e.editable?(E(),J(r,j({key:0,content:e.t("typography.edit")},e.editTooltipProps),{default:ne(()=>[Pe("span",{class:R(`${e.prefixCls}-operation-edit`),onClick:t[0]||(t[0]=ae((...h)=>e.onEditClick&&e.onEditClick(...h),["stop"]))},[v(s)],2)]),_:1},16,["content"])):le("v-if",!0),e.copyable?(E(),J(r,nt(j({key:1},e.copyTooltipProps)),{content:ne(()=>[M(e.$slots,"copy-tooltip",{copied:e.isCopied},()=>[Se(Ie(e.isCopied?e.t("typography.copied"):e.t("typography.copy")),1)])]),default:ne(()=>[Pe("span",{class:R({[`${e.prefixCls}-operation-copied`]:e.isCopied,[`${e.prefixCls}-operation-copy`]:!e.isCopied}),onClick:t[1]||(t[1]=ae((...h)=>e.onCopyClick&&e.onCopyClick(...h),["stop"]))},[M(e.$slots,"copy-icon",{copied:e.isCopied},()=>[e.isCopied?(E(),J(i,{key:0})):(E(),J(m,{key:1}))])],2)]),_:3},16)):le("v-if",!0),e.showExpand?(E(),V("a",{key:2,class:R(`${e.prefixCls}-operation-expand`),onClick:t[2]||(t[2]=ae((...h)=>e.onExpandClick&&e.onExpandClick(...h),["stop"]))},[M(e.$slots,"expand-node",{expanded:e.expanded},()=>[Se(Ie(e.expanded?e.t("typography.collapse"):e.t("typography.expand")),1)])],2)):le("v-if",!0)],64)}var je=Z(It,[["render",_t]]);let d;function Nt(e){return Array.prototype.slice.apply(e).map(o=>`${o}: ${e.getPropertyValue(o)};`).join("")}function ce(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}var kt=(e,t,o,n)=>{d||(d=document.createElement("div"),document.body.appendChild(d));const{rows:a,suffix:l,ellipsisStr:s}=t,r=window.getComputedStyle(e),i=Nt(r),m=ce(r.lineHeight),h=Math.round(m*a+ce(r.paddingTop)+ce(r.paddingBottom));d.setAttribute("style",i),d.setAttribute("aria-hidden","true"),d.style.height="auto",d.style.minHeight="auto",d.style.maxHeight="auto",d.style.position="fixed",d.style.left="0",d.style.top="-99999999px",d.style.zIndex="-200";const b=He({render(){return v("span",null,[o])}});b.mount(d);const T=Array.prototype.slice.apply(d.childNodes[0].cloneNode(!0).childNodes);b.unmount(),d.innerHTML="";const x=document.createTextNode(`${s}${l}`);d.appendChild(x),T.forEach(f=>{d.appendChild(f)});const g=document.createTextNode(n);d.insertBefore(g,x);function u(){return d.offsetHeight<=h}if(u())return{ellipsis:!1,text:n};function p(f,C=0,I=n.length,q=0){const k=Math.floor((C+I)/2),L=n.slice(0,k);if(f.textContent=L,C>=I-1)for(let O=I;O>=C;O-=1){const _=n.slice(0,O);if(f.textContent=_,u()||!_)return}u()?p(f,k,I,k):p(f,C,k,q)}return p(g),{text:g.textContent,ellipsis:!0}};const Bt=async e=>{var t;if((t=navigator.clipboard)!=null&&t.writeText)try{await navigator.clipboard.writeText(e);return}catch(l){console.error(l!=null?l:new DOMException("The request is not allowed","NotAllowedError"))}const o=document.createElement("span");o.textContent=e,o.style.whiteSpace="pre",document.body.appendChild(o);const n=window.getSelection(),a=window.document.createRange();n==null||n.removeAllRanges(),a.selectNode(o),n==null||n.addRange(a);try{window.document.execCommand("copy")}catch(l){console.error(`execCommand Error: ${l}`)}n==null||n.removeAllRanges(),window.document.body.removeChild(o)};let B;function Rt(e){if(!e)return"";B||(B=document.createElement("div"),B.setAttribute("aria-hidden","true"),document.body.appendChild(B));const t=He({render(){return v("div",null,[e])}});t.mount(B);const o=B.innerText;return t.unmount(),o}var jt=Object.defineProperty,Gt=Object.defineProperties,Dt=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,De=(e,t,o)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,Mt=(e,t)=>{for(var o in t||(t={}))zt.call(t,o)&&De(e,o,t[o]);if(Ge)for(var o of Ge(t))At.call(t,o)&&De(e,o,t[o]);return e},Ht=(e,t)=>Gt(e,Dt(t));function Ke(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!st(e)}function Vt(e){const{bold:t,mark:o,underline:n,delete:a,code:l}=e,s=[];return t&&s.push("b"),n&&s.push("u"),a&&s.push("del"),l&&s.push("code"),o&&s.push("mark"),s}function ze(e,t){const{mark:o}=e,n=Vt(e),a=Q(o)&&o.color?{backgroundColor:o.color}:{};return n.reduce((l,s)=>v(s,s==="mark"?{style:a}:{},Ke(l)?l:{default:()=>[l]}),t)}function qt(e){const t=!!e.showTooltip,o=Q(e.showTooltip)&&e.showTooltip.type==="popover"?dt:Fe,n=Q(e.showTooltip)&&e.showTooltip.props||{};return Ht(Mt({rows:1,suffix:"",ellipsisStr:"...",expandable:!1,css:!1},rt(e,["showTooltip"])),{showTooltip:t,TooltipComponent:o,tooltipProps:n})}var Ft=G({name:"TypographyBase",inheritAttrs:!1,props:{component:{type:String,required:!0},type:{type:String},bold:{type:Boolean},mark:{type:[Boolean,Object],default:!1},underline:{type:Boolean},delete:{type:Boolean},code:{type:Boolean},disabled:{type:Boolean},editable:{type:Boolean},editing:{type:Boolean,default:void 0},defaultEditing:{type:Boolean},editText:{type:String},copyable:{type:Boolean},copyText:{type:String},copyDelay:{type:Number,default:3e3},ellipsis:{type:[Boolean,Object],default:!1},editTooltipProps:{type:Object},copyTooltipProps:{type:Object}},emits:{editStart:()=>!0,change:e=>!0,"update:editText":e=>!0,editEnd:()=>!0,"update:editing":e=>!0,copy:e=>!0,ellipsis:e=>!0,expand:e=>!0},setup(e,{slots:t,emit:o,attrs:n}){const{editing:a,defaultEditing:l,ellipsis:s,copyable:r,editable:i,copyText:m,editText:h,copyDelay:b,component:T}=Y(e),x=D("typography"),g=y(()=>[x,{[`${x}-${e.type}`]:e.type,[`${x}-disabled`]:e.disabled}]),u=$(),p=$(""),[f,C]=ut(l.value,ue({value:a})),I=y(()=>i.value&&f.value);function q(){o("update:editing",!0),o("editStart"),C(!0)}function k(c){o("update:editText",c),o("change",c)}function L(){!f.value||(o("update:editing",!1),o("editEnd"),C(!1))}const O=$(!1);let _=null;function ve(){var c;const S=(c=m.value)!=null?c:p.value;Bt(S||""),O.value=!0,o("copy",S),_=setTimeout(()=>{O.value=!1},b.value)}fe(()=>{_&&clearTimeout(_),_=null});const z=$(!1),P=$(!1),ee=$(""),w=y(()=>qt(Q(s.value)&&s.value||{}));let te=null;function ye(){const c=!P.value;P.value=c,o("expand",c)}function me(c=!1){return w.value.css?v(je,{editable:i.value,copyable:r.value,expandable:w.value.expandable,isCopied:O.value,isEllipsis:U.value,expanded:P.value,forceRenderExpand:c||P.value,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:q,onCopy:ve,onExpand:ye},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]}):v(je,{editable:i.value,copyable:r.value,expandable:w.value.expandable,isCopied:O.value,isEllipsis:z.value,expanded:P.value,forceRenderExpand:c,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:q,onCopy:ve,onExpand:ye},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]})}function Ue(){if(!u.value)return;const{ellipsis:c,text:S}=kt(u.value,w.value,me(!!w.value.expandable),p.value);z.value!==c&&(z.value=c,w.value.css||o("ellipsis",c)),ee.value!==S&&(ee.value=S||"")}function F(){!(s.value&&!P.value)||(_e(te),te=it(()=>{Ue()}))}fe(()=>{_e(te)}),Ne(()=>w.value.rows,()=>{F()}),Ne(s,c=>{c?F():z.value=!1});let K=[];const ge=()=>{if(s.value||r.value||i.value){const c=Rt(K);c!==p.value&&(p.value=c,F())}};Me(ge),lt(ge);const oe=$(),U=$(!1),he=()=>{if(u.value&&oe.value){const c=oe.value.offsetHeight>u.value.offsetHeight;c!==U.value&&(U.value=c,o("ellipsis",c))}},We=y(()=>P.value?{}:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":w.value.rows,"-webkit-box-orient":"vertical"});return()=>{var c,S;if(K=((c=t.default)==null?void 0:c.call(t))||[],I.value){const X=(S=h.value)!=null?S:p.value;return v(St,{text:X,onChange:N=>{N!==X&&k(N)},onEnd:L},null)}const{suffix:Xe,ellipsisStr:Je,showTooltip:Ce,tooltipProps:be,TooltipComponent:xe}=w.value,W=z.value&&!P.value,we=W&&!Ce?{title:p.value}:{},$e=T.value;if(w.value.css){const X=ze(e,K),N=v($e,j({class:g.value,ref:u,style:We.value},we,n),{default:()=>[v("span",{ref:oe},[X])]});return U.value?v(xe,j(be,{onResize:()=>he()}),{default:()=>[N],content:()=>p.value}):v(ke,{onResize:()=>{he()}},Ke(N)?N:{default:()=>[N]})}const Te=ze(e,W?ee.value:K);return v(ke,{onResize:()=>F()},{default:()=>[v($e,j({class:g.value,ref:u},we,n),{default:()=>[W&&Ce?v(xe,be,{default:()=>[v("span",null,[Te])],content:()=>p.value}):Te,W?Je:null,Xe,me()]})]})}}}),Jt=G({name:"TypographyParagraph",inheritAttrs:!1,props:{blockquote:{type:Boolean},spacing:{type:String,default:"default"}},setup(e){const{blockquote:t,spacing:o}=Y(e),n=D("typography"),a=y(()=>t!=null&&t.value?"blockquote":"div"),l=y(()=>[{[`${n}-spacing-close`]:(o==null?void 0:o.value)==="close"}]);return{component:a,classNames:l}},render(){const{component:e,classNames:t}=this;return v(Ft,j({class:t},this.$attrs,{component:e}),this.$slots)}});export{Ft as B,Xt as G,Jt as T,pe as a};
